/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 113);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(59);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9kZWxlZ2F0ZWQgLi4vLi4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgdmVuZG9yPzdhZGMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygyKSkoNTkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGRlbGVnYXRlZCAuLi8uLi9ub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzIGZyb20gZGxsLXJlZmVyZW5jZSB2ZW5kb3Jcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */,
/* 2 */
/***/ (function(module, exports) {

eval("module.exports = vendor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInZlbmRvclwiP2I5NDAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB2ZW5kb3I7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ2ZW5kb3JcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(115);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9kZWxlZ2F0ZWQgLi4vLi4vbm9kZV9tb2R1bGVzL21vbWVudC9tb21lbnQuanMgZnJvbSBkbGwtcmVmZXJlbmNlIHZlbmRvcj9mMGU1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMikpKDExNSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZGVsZWdhdGVkIC4uLy4uL25vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzIGZyb20gZGxsLXJlZmVyZW5jZSB2ZW5kb3Jcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(86);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9kZWxlZ2F0ZWQgLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgZnJvbSBkbGwtcmVmZXJlbmNlIHZlbmRvcj82MzYxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMikpKDg2KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBkZWxlZ2F0ZWQgLi4vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgZnJvbSBkbGwtcmVmZXJlbmNlIHZlbmRvclxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDQiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OverlayLoader = function () {\n  function OverlayLoader() {\n    _classCallCheck(this, OverlayLoader);\n\n    this.element = null;\n  }\n\n  _createClass(OverlayLoader, [{\n    key: 'initOveray',\n    value: function initOveray() {\n      this.element = $('<div class=\"overlay-loader-bg\" style=\"display: none\"></div>').append('<div class=\"progress\"><div class=\"progress-circle-lg-white\" style=\"display: block;\"></div></div>').appendTo('body');\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      if (!this.element) {\n        this.initOveray();\n      }\n\n      this.element.show();\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.element.hide();\n    }\n  }]);\n\n  return OverlayLoader;\n}();\n\nexports.default = OverlayLoader;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWIvd2VicGFjay9rb3AvY29tbW9uL092ZXJsYXlMb2FkZXIuanM/OWYyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBPdmVybGF5TG9hZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgfVxuICBpbml0T3ZlcmF5KCkge1xuICAgIHRoaXMuZWxlbWVudCA9ICQoJzxkaXYgY2xhc3M9XCJvdmVybGF5LWxvYWRlci1iZ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiPjwvZGl2PicpXG4gICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtY2lyY2xlLWxnLXdoaXRlXCIgc3R5bGU9XCJkaXNwbGF5OiBibG9jaztcIj48L2Rpdj48L2Rpdj4nKVxuICAgICAgLmFwcGVuZFRvKCdib2R5Jyk7XG4gIH1cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuaW5pdE92ZXJheSgpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5zaG93KCk7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmVsZW1lbnQuaGlkZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE92ZXJsYXlMb2FkZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9PdmVybGF5TG9hZGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar strictUriEncode = __webpack_require__(59);\nvar objectAssign = __webpack_require__(60);\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvaW5kZXguanM/MGNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgc3RyaWN0VXJpRW5jb2RlID0gcmVxdWlyZSgnc3RyaWN0LXVyaS1lbmNvZGUnKTtcbnZhciBvYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbmZ1bmN0aW9uIGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRzKSB7XG5cdHN3aXRjaCAob3B0cy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgaW5kZXgpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBudWxsID8gW1xuXHRcdFx0XHRcdGVuY29kZShrZXksIG9wdHMpLFxuXHRcdFx0XHRcdCdbJyxcblx0XHRcdFx0XHRpbmRleCxcblx0XHRcdFx0XHQnXSdcblx0XHRcdFx0XS5qb2luKCcnKSA6IFtcblx0XHRcdFx0XHRlbmNvZGUoa2V5LCBvcHRzKSxcblx0XHRcdFx0XHQnWycsXG5cdFx0XHRcdFx0ZW5jb2RlKGluZGV4LCBvcHRzKSxcblx0XHRcdFx0XHQnXT0nLFxuXHRcdFx0XHRcdGVuY29kZSh2YWx1ZSwgb3B0cylcblx0XHRcdFx0XS5qb2luKCcnKTtcblx0XHRcdH07XG5cblx0XHRjYXNlICdicmFja2V0Jzpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IG51bGwgPyBlbmNvZGUoa2V5LCBvcHRzKSA6IFtcblx0XHRcdFx0XHRlbmNvZGUoa2V5LCBvcHRzKSxcblx0XHRcdFx0XHQnW109Jyxcblx0XHRcdFx0XHRlbmNvZGUodmFsdWUsIG9wdHMpXG5cdFx0XHRcdF0uam9pbignJyk7XG5cdFx0XHR9O1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IG51bGwgPyBlbmNvZGUoa2V5LCBvcHRzKSA6IFtcblx0XHRcdFx0XHRlbmNvZGUoa2V5LCBvcHRzKSxcblx0XHRcdFx0XHQnPScsXG5cdFx0XHRcdFx0ZW5jb2RlKHZhbHVlLCBvcHRzKVxuXHRcdFx0XHRdLmpvaW4oJycpO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRzKSB7XG5cdHZhciByZXN1bHQ7XG5cblx0c3dpdGNoIChvcHRzLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikge1xuXHRcdFx0XHRyZXN1bHQgPSAvXFxbKFxcZCopXFxdJC8uZXhlYyhrZXkpO1xuXG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXGQqXFxdJC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIXJlc3VsdCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHt9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XVtyZXN1bHRbMV1dID0gdmFsdWU7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSB7XG5cdFx0XHRcdHJlc3VsdCA9IC8oXFxbXFxdKSQvLmV4ZWMoa2V5KTtcblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcW1xcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbdmFsdWVdO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSB7XG5cdFx0XHRcdGlmIChhY2N1bXVsYXRvcltrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IFtdLmNvbmNhdChhY2N1bXVsYXRvcltrZXldLCB2YWx1ZSk7XG5cdFx0XHR9O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWx1ZSwgb3B0cykge1xuXHRpZiAob3B0cy5lbmNvZGUpIHtcblx0XHRyZXR1cm4gb3B0cy5zdHJpY3QgPyBzdHJpY3RVcmlFbmNvZGUodmFsdWUpIDogZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24ga2V5c1NvcnRlcihpbnB1dCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRyZXR1cm4gaW5wdXQuc29ydCgpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4ga2V5c1NvcnRlcihPYmplY3Qua2V5cyhpbnB1dCkpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdHJldHVybiBOdW1iZXIoYSkgLSBOdW1iZXIoYik7XG5cdFx0fSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBpbnB1dFtrZXldO1xuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5leHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdHJldHVybiBzdHIuc3BsaXQoJz8nKVsxXSB8fCAnJztcbn07XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG5cdG9wdHMgPSBvYmplY3RBc3NpZ24oe2FycmF5Rm9ybWF0OiAnbm9uZSd9LCBvcHRzKTtcblxuXHR2YXIgZm9ybWF0dGVyID0gcGFyc2VyRm9yQXJyYXlGb3JtYXQob3B0cyk7XG5cblx0Ly8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIG5vIHByb3RvdHlwZVxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9pc3N1ZXMvNDdcblx0dmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0aWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIHJldDtcblx0fVxuXG5cdHN0ciA9IHN0ci50cmltKCkucmVwbGFjZSgvXihcXD98I3wmKS8sICcnKTtcblxuXHRpZiAoIXN0cikge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRzdHIuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuXHRcdHZhciBwYXJ0cyA9IHBhcmFtLnJlcGxhY2UoL1xcKy9nLCAnICcpLnNwbGl0KCc9Jyk7XG5cdFx0Ly8gRmlyZWZveCAocHJlIDQwKSBkZWNvZGVzIGAlM0RgIHRvIGA9YFxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvcXVlcnktc3RyaW5nL3B1bGwvMzdcblx0XHR2YXIga2V5ID0gcGFydHMuc2hpZnQoKTtcblx0XHR2YXIgdmFsID0gcGFydHMubGVuZ3RoID4gMCA/IHBhcnRzLmpvaW4oJz0nKSA6IHVuZGVmaW5lZDtcblxuXHRcdC8vIG1pc3NpbmcgYD1gIHNob3VsZCBiZSBgbnVsbGA6XG5cdFx0Ly8gaHR0cDovL3czLm9yZy9UUi8yMDEyL1dELXVybC0yMDEyMDUyNC8jY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdHZhbCA9IHZhbCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuXG5cdFx0Zm9ybWF0dGVyKGRlY29kZVVSSUNvbXBvbmVudChrZXkpLCB2YWwsIHJldCk7XG5cdH0pO1xuXG5cdHJldHVybiBPYmplY3Qua2V5cyhyZXQpLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG5cdFx0dmFyIHZhbCA9IHJldFtrZXldO1xuXHRcdGlmIChCb29sZWFuKHZhbCkgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0Ly8gU29ydCBvYmplY3Qga2V5cywgbm90IHZhbHVlc1xuXHRcdFx0cmVzdWx0W2tleV0gPSBrZXlzU29ydGVyKHZhbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdFtrZXldID0gdmFsO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xufTtcblxuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG5cdHZhciBkZWZhdWx0cyA9IHtcblx0XHRlbmNvZGU6IHRydWUsXG5cdFx0c3RyaWN0OiB0cnVlLFxuXHRcdGFycmF5Rm9ybWF0OiAnbm9uZSdcblx0fTtcblxuXHRvcHRzID0gb2JqZWN0QXNzaWduKGRlZmF1bHRzLCBvcHRzKTtcblxuXHR2YXIgZm9ybWF0dGVyID0gZW5jb2RlckZvckFycmF5Rm9ybWF0KG9wdHMpO1xuXG5cdHJldHVybiBvYmogPyBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciB2YWwgPSBvYmpba2V5XTtcblxuXHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblxuXHRcdGlmICh2YWwgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRzKTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cblx0XHRcdHZhbC5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKHZhbDIpIHtcblx0XHRcdFx0aWYgKHZhbDIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGZvcm1hdHRlcihrZXksIHZhbDIsIHJlc3VsdC5sZW5ndGgpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oJyYnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0cykgKyAnPScgKyBlbmNvZGUodmFsLCBvcHRzKTtcblx0fSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG5cdFx0cmV0dXJuIHgubGVuZ3RoID4gMDtcblx0fSkuam9pbignJicpIDogJyc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvcXVlcnktc3RyaW5nL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */,
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/** 더보기 관련 공통 로직 */\nvar loadMore = function loadMore(moreBtn, loading, listWrapper, templateName, url) {\n  if ($(moreBtn).length == 0) {\n    return;\n  }\n\n  var currentPage = 1;\n\n  var template = Handlebars.templates[templateName];\n\n  var getMoreList = function getMoreList() {\n    $(loading).show();\n    $(moreBtn).hide();\n    $.getJSON(url + \"pageNumber=\" + currentPage, function (data) {\n      $.each(data.results, function (index, element) {\n        $(listWrapper).append(template(element));\n      });\n\n      if (data.page.totalCount > currentPage * data.page.perPage) {\n        $(moreBtn).show();\n      } else {\n        $(moreBtn).hide();\n      }\n    }).always(function () {\n      return $(loading).hide();\n    });\n  };\n\n  $(moreBtn).click(function (e) {\n    e.preventDefault();\n    currentPage++;\n    getMoreList();\n  });\n};\n\nexports.default = loadMore;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWIvd2VicGFjay9rb3AvY29tbW9uL01vcmUuYWN0aW9uLmpzPzBiNjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIOuNlOuztOq4sCDqtIDroKgg6rO17Ya1IOuhnOyngSAqL1xuY29uc3QgbG9hZE1vcmUgPSAobW9yZUJ0biwgbG9hZGluZywgbGlzdFdyYXBwZXIsIHRlbXBsYXRlTmFtZSwgdXJsKSA9PiB7XG4gIGlmICgkKG1vcmVCdG4pLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGN1cnJlbnRQYWdlID0gMTtcblxuICBjb25zdCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzW3RlbXBsYXRlTmFtZV07XG5cbiAgY29uc3QgZ2V0TW9yZUxpc3QgPSAoKSA9PiB7XG4gICAgJChsb2FkaW5nKS5zaG93KCk7XG4gICAgJChtb3JlQnRuKS5oaWRlKCk7XG4gICAgJC5nZXRKU09OKGAke3VybH1wYWdlTnVtYmVyPSR7Y3VycmVudFBhZ2V9YCwgKGRhdGEpID0+IHtcbiAgICAgICQuZWFjaChkYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAkKGxpc3RXcmFwcGVyKS5hcHBlbmQodGVtcGxhdGUoZWxlbWVudCkpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChkYXRhLnBhZ2UudG90YWxDb3VudCA+IGN1cnJlbnRQYWdlICogZGF0YS5wYWdlLnBlclBhZ2UpIHtcbiAgICAgICAgJChtb3JlQnRuKS5zaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKG1vcmVCdG4pLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KS5hbHdheXMoKCkgPT4gJChsb2FkaW5nKS5oaWRlKCkpO1xuICB9O1xuXG4gICQobW9yZUJ0bikuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY3VycmVudFBhZ2UrKztcbiAgICBnZXRNb3JlTGlzdCgpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRNb3JlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9jb21tb24vTW9yZS5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */,
/* 10 */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzPzUyYzciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint import/prefer-default-export: \"off\" */\nvar setMoreBtnEvent = exports.setMoreBtnEvent = function setMoreBtnEvent(selector, deviceType) {\n  $('#kolon-content').on('click', selector, function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n    var componentType = $this.data('componentType');\n    var componentPath = '/precompiles/product/grid';\n    if (componentType == 'list') {\n      componentPath = '/precompiles/product/list';\n    }\n    var productResultAreaTemplate = Handlebars.templates['' + deviceType + componentPath];\n    var targetIndex = $('#kolon-content .productMoreBtn').index($this);\n    var isShowColorImages = $this.data('isShowColorImages');\n\n    var keyword = $this.data('keyword');\n\n    var category = $this.data('category');\n    var sizes = $this.data('sizes');\n    var sizeSearches = $this.data('sizeSearches');\n    var colors = $this.data('colors');\n    var suppliers = $this.data('suppliers');\n    var supplierBrands = $this.data('supplierBrands');\n    var priceRanges = $this.data('priceRanges');\n    var onSale = $this.data('onSale');\n    var inStock = $this.data('inStock');\n    var isBest = $this.data('isBest');\n    var isNew = $this.data('isNew');\n    var isSalePromotion = $this.data('isSalePromotion');\n    var pageNumber = $this.data('pageNumber');\n    var sort = $this.data('sort');\n    var perPage = $this.data('perPage');\n\n    var paramObject = {};\n    if (keyword != '') {\n      paramObject.keyword = keyword;\n    }\n    if (category != '') {\n      paramObject.category = category;\n    }\n    if (sizes != '') {\n      paramObject.sizes = sizes;\n    }\n    if (sizeSearches != '') {\n      paramObject.sizeSearches = sizeSearches;\n    }\n    if (colors != '') {\n      paramObject.colors = colors;\n    }\n    if (suppliers != '') {\n      paramObject.suppliers = suppliers;\n    }\n    if (supplierBrands != '') {\n      paramObject.supplierBrands = supplierBrands;\n    }\n    if (priceRanges != '') {\n      paramObject.priceRanges = priceRanges;\n    }\n    if (inStock != '') {\n      paramObject.inStock = inStock;\n    }\n    if (onSale != '') {\n      paramObject.onSale = onSale;\n    }\n    if (isBest != '') {\n      paramObject.isBest = isBest;\n    }\n    if (isNew != '') {\n      paramObject.isNew = isNew;\n    }\n    if (isSalePromotion != '') {\n      paramObject.isSalePromotion = isSalePromotion;\n    }\n    if (pageNumber != '') {\n      paramObject.pageNumber = pageNumber + 1;\n    } else {\n      paramObject.pageNumber = 2;\n    }\n    if (sort != '') {\n      paramObject.sort = sort;\n    }\n    if (perPage != '') {\n      paramObject.perPage = perPage;\n    }\n\n    $.getJSON('/Product/Search', $.param(paramObject)).done(function (data) {\n      $.each(data.results, function (index, dataItem) {\n        var productData = dataItem;\n        productData.isShowColorImages = isShowColorImages;\n        $('#kolon-content .productResultArea').eq(targetIndex).append(productResultAreaTemplate(productData));\n      });\n\n      if (data.page.totalCount <= perPage * paramObject.pageNumber) {\n        $this.hide();\n      } else {\n        $this.data('pageNumber', paramObject.pageNumber);\n      }\n    });\n  });\n};\n\nvar setSupplierBrandFilterMoreBtnEvent = exports.setSupplierBrandFilterMoreBtnEvent = function setSupplierBrandFilterMoreBtnEvent(selector, deviceType) {\n  $('.supplier-brand-filter').each(function (index, filterEle) {\n    if ($(filterEle).is(':checked')) {\n      if (index > 9) {\n        $(selector).hide();\n        $('.supplier-brand-more-data').show();\n        return false;\n      }\n    }\n    return true;\n  });\n\n  $('.sub-menu-brand').on('click', selector, function (e) {\n    e.preventDefault();\n\n    if ($('.supplier-brand-more-data').is(':visible')) {\n      $('.supplier-brand-more-data').hide();\n    } else {\n      $('.supplier-brand-more-data').show();\n      $(e.currentTarget).hide();\n    }\n  });\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9jb21tb24uanM/Y2U5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydDogXCJvZmZcIiAqL1xuZXhwb3J0IGNvbnN0IHNldE1vcmVCdG5FdmVudCA9IChzZWxlY3RvciwgZGV2aWNlVHlwZSkgPT4ge1xuICAkKCcja29sb24tY29udGVudCcpLm9uKCdjbGljaycsIHNlbGVjdG9yLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IGNvbXBvbmVudFR5cGUgPSAkdGhpcy5kYXRhKCdjb21wb25lbnRUeXBlJyk7XG4gICAgbGV0IGNvbXBvbmVudFBhdGggPSAnL3ByZWNvbXBpbGVzL3Byb2R1Y3QvZ3JpZCc7XG4gICAgaWYgKGNvbXBvbmVudFR5cGUgPT0gJ2xpc3QnKSB7XG4gICAgICBjb21wb25lbnRQYXRoID0gJy9wcmVjb21waWxlcy9wcm9kdWN0L2xpc3QnO1xuICAgIH1cbiAgICBjb25zdCBwcm9kdWN0UmVzdWx0QXJlYVRlbXBsYXRlID0gSGFuZGxlYmFycy50ZW1wbGF0ZXNbYCR7ZGV2aWNlVHlwZX0ke2NvbXBvbmVudFBhdGh9YF07XG4gICAgY29uc3QgdGFyZ2V0SW5kZXggPSAkKCcja29sb24tY29udGVudCAucHJvZHVjdE1vcmVCdG4nKS5pbmRleCgkdGhpcyk7XG4gICAgY29uc3QgaXNTaG93Q29sb3JJbWFnZXMgPSAkdGhpcy5kYXRhKCdpc1Nob3dDb2xvckltYWdlcycpO1xuXG4gICAgY29uc3Qga2V5d29yZCA9ICR0aGlzLmRhdGEoJ2tleXdvcmQnKTtcblxuICAgIGNvbnN0IGNhdGVnb3J5ID0gJHRoaXMuZGF0YSgnY2F0ZWdvcnknKTtcbiAgICBjb25zdCBzaXplcyA9ICR0aGlzLmRhdGEoJ3NpemVzJyk7XG4gICAgY29uc3Qgc2l6ZVNlYXJjaGVzID0gJHRoaXMuZGF0YSgnc2l6ZVNlYXJjaGVzJyk7XG4gICAgY29uc3QgY29sb3JzID0gJHRoaXMuZGF0YSgnY29sb3JzJyk7XG4gICAgY29uc3Qgc3VwcGxpZXJzID0gJHRoaXMuZGF0YSgnc3VwcGxpZXJzJyk7XG4gICAgY29uc3Qgc3VwcGxpZXJCcmFuZHMgPSAkdGhpcy5kYXRhKCdzdXBwbGllckJyYW5kcycpO1xuICAgIGNvbnN0IHByaWNlUmFuZ2VzID0gJHRoaXMuZGF0YSgncHJpY2VSYW5nZXMnKTtcbiAgICBjb25zdCBvblNhbGUgPSAkdGhpcy5kYXRhKCdvblNhbGUnKTtcbiAgICBjb25zdCBpblN0b2NrID0gJHRoaXMuZGF0YSgnaW5TdG9jaycpO1xuICAgIGNvbnN0IGlzQmVzdCA9ICR0aGlzLmRhdGEoJ2lzQmVzdCcpO1xuICAgIGNvbnN0IGlzTmV3ID0gJHRoaXMuZGF0YSgnaXNOZXcnKTtcbiAgICBjb25zdCBpc1NhbGVQcm9tb3Rpb24gPSAkdGhpcy5kYXRhKCdpc1NhbGVQcm9tb3Rpb24nKTtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gJHRoaXMuZGF0YSgncGFnZU51bWJlcicpO1xuICAgIGNvbnN0IHNvcnQgPSAkdGhpcy5kYXRhKCdzb3J0Jyk7XG4gICAgY29uc3QgcGVyUGFnZSA9ICR0aGlzLmRhdGEoJ3BlclBhZ2UnKTtcblxuICAgIGNvbnN0IHBhcmFtT2JqZWN0ID0ge307XG4gICAgaWYgKGtleXdvcmQgIT0gJycpIHsgcGFyYW1PYmplY3Qua2V5d29yZCA9IGtleXdvcmQ7IH1cbiAgICBpZiAoY2F0ZWdvcnkgIT0gJycpIHsgcGFyYW1PYmplY3QuY2F0ZWdvcnkgPSBjYXRlZ29yeTsgfVxuICAgIGlmIChzaXplcyAhPSAnJykgeyBwYXJhbU9iamVjdC5zaXplcyA9IHNpemVzOyB9XG4gICAgaWYgKHNpemVTZWFyY2hlcyAhPSAnJykgeyBwYXJhbU9iamVjdC5zaXplU2VhcmNoZXMgPSBzaXplU2VhcmNoZXM7IH1cbiAgICBpZiAoY29sb3JzICE9ICcnKSB7IHBhcmFtT2JqZWN0LmNvbG9ycyA9IGNvbG9yczsgfVxuICAgIGlmIChzdXBwbGllcnMgIT0gJycpIHsgcGFyYW1PYmplY3Quc3VwcGxpZXJzID0gc3VwcGxpZXJzOyB9XG4gICAgaWYgKHN1cHBsaWVyQnJhbmRzICE9ICcnKSB7IHBhcmFtT2JqZWN0LnN1cHBsaWVyQnJhbmRzID0gc3VwcGxpZXJCcmFuZHM7IH1cbiAgICBpZiAocHJpY2VSYW5nZXMgIT0gJycpIHsgcGFyYW1PYmplY3QucHJpY2VSYW5nZXMgPSBwcmljZVJhbmdlczsgfVxuICAgIGlmIChpblN0b2NrICE9ICcnKSB7IHBhcmFtT2JqZWN0LmluU3RvY2sgPSBpblN0b2NrOyB9XG4gICAgaWYgKG9uU2FsZSAhPSAnJykgeyBwYXJhbU9iamVjdC5vblNhbGUgPSBvblNhbGU7IH1cbiAgICBpZiAoaXNCZXN0ICE9ICcnKSB7IHBhcmFtT2JqZWN0LmlzQmVzdCA9IGlzQmVzdDsgfVxuICAgIGlmIChpc05ldyAhPSAnJykgeyBwYXJhbU9iamVjdC5pc05ldyA9IGlzTmV3OyB9XG4gICAgaWYgKGlzU2FsZVByb21vdGlvbiAhPSAnJykgeyBwYXJhbU9iamVjdC5pc1NhbGVQcm9tb3Rpb24gPSBpc1NhbGVQcm9tb3Rpb247IH1cbiAgICBpZiAocGFnZU51bWJlciAhPSAnJykgeyBwYXJhbU9iamVjdC5wYWdlTnVtYmVyID0gcGFnZU51bWJlciArIDE7IH0gZWxzZSB7IHBhcmFtT2JqZWN0LnBhZ2VOdW1iZXIgPSAyOyB9XG4gICAgaWYgKHNvcnQgIT0gJycpIHsgcGFyYW1PYmplY3Quc29ydCA9IHNvcnQ7IH1cbiAgICBpZiAocGVyUGFnZSAhPSAnJykgeyBwYXJhbU9iamVjdC5wZXJQYWdlID0gcGVyUGFnZTsgfVxuXG4gICAgJC5nZXRKU09OKCcvUHJvZHVjdC9TZWFyY2gnLCAkLnBhcmFtKHBhcmFtT2JqZWN0KSkuZG9uZSgoZGF0YSkgPT4ge1xuICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywgKGluZGV4LCBkYXRhSXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0RGF0YSA9IGRhdGFJdGVtO1xuICAgICAgICBwcm9kdWN0RGF0YS5pc1Nob3dDb2xvckltYWdlcyA9IGlzU2hvd0NvbG9ySW1hZ2VzO1xuICAgICAgICAkKCcja29sb24tY29udGVudCAucHJvZHVjdFJlc3VsdEFyZWEnKS5lcSh0YXJnZXRJbmRleCkuYXBwZW5kKHByb2R1Y3RSZXN1bHRBcmVhVGVtcGxhdGUocHJvZHVjdERhdGEpKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZGF0YS5wYWdlLnRvdGFsQ291bnQgPD0gcGVyUGFnZSAqIHBhcmFtT2JqZWN0LnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgJHRoaXMuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHRoaXMuZGF0YSgncGFnZU51bWJlcicsIHBhcmFtT2JqZWN0LnBhZ2VOdW1iZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRTdXBwbGllckJyYW5kRmlsdGVyTW9yZUJ0bkV2ZW50ID0gKHNlbGVjdG9yLCBkZXZpY2VUeXBlKSA9PiB7XG4gICQoJy5zdXBwbGllci1icmFuZC1maWx0ZXInKS5lYWNoKChpbmRleCwgZmlsdGVyRWxlKSA9PiB7XG4gICAgaWYgKCQoZmlsdGVyRWxlKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgaWYgKGluZGV4ID4gOSkge1xuICAgICAgICAkKHNlbGVjdG9yKS5oaWRlKCk7XG4gICAgICAgICQoJy5zdXBwbGllci1icmFuZC1tb3JlLWRhdGEnKS5zaG93KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gICQoJy5zdWItbWVudS1icmFuZCcpLm9uKCdjbGljaycsIHNlbGVjdG9yLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICgkKCcuc3VwcGxpZXItYnJhbmQtbW9yZS1kYXRhJykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICQoJy5zdXBwbGllci1icmFuZC1tb3JlLWRhdGEnKS5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5zdXBwbGllci1icmFuZC1tb3JlLWRhdGEnKS5zaG93KCk7XG4gICAgICAkKGUuY3VycmVudFRhcmdldCkuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9jb21tb24vY29tbW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(305);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvZGlzdC9qcy9zd2lwZXIuanMgZnJvbSBkbGwtcmVmZXJlbmNlIHZlbmRvcj9jZGZjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMikpKDMwNSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZGVsZWdhdGVkIC4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvZGlzdC9qcy9zd2lwZXIuanMgZnJvbSBkbGwtcmVmZXJlbmNlIHZlbmRvclxuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(302);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4uLy4uL25vZGVfbW9kdWxlcy9qcXVlcnktdmFsaWRhdGlvbi9kaXN0L2pxdWVyeS52YWxpZGF0ZS5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgdmVuZG9yPzUzYWYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygyKSkoMzAyKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBkZWxlZ2F0ZWQgLi4vLi4vbm9kZV9tb2R1bGVzL2pxdWVyeS12YWxpZGF0aW9uL2Rpc3QvanF1ZXJ5LnZhbGlkYXRlLmpzIGZyb20gZGxsLXJlZmVyZW5jZSB2ZW5kb3Jcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.1.4\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvanMtY29va2llL3NyYy9qcy5jb29raWUuanM/N2FlNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEphdmFTY3JpcHQgQ29va2llIHYyLjEuNFxuICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiwgMjAxNSBLbGF1cyBIYXJ0bCAmIEZhZ25lciBCcmFja1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0dmFyIHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IGZhbHNlO1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKCFyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIpIHtcblx0XHR2YXIgT2xkQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuXHRcdHZhciBhcGkgPSB3aW5kb3cuQ29va2llcyA9IGZhY3RvcnkoKTtcblx0XHRhcGkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHdpbmRvdy5Db29raWVzID0gT2xkQ29va2llcztcblx0XHRcdHJldHVybiBhcGk7XG5cdFx0fTtcblx0fVxufShmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIGV4dGVuZCAoKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHNbIGkgXTtcblx0XHRcdGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdHJlc3VsdFtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCAoY29udmVydGVyKSB7XG5cdFx0ZnVuY3Rpb24gYXBpIChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXcml0ZVxuXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHRcdH0sIGFwaS5kZWZhdWx0cywgYXR0cmlidXRlcyk7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0dmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGV4cGlyZXMuc2V0TWlsbGlzZWNvbmRzKGV4cGlyZXMuZ2V0TWlsbGlzZWNvbmRzKCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xuXHRcdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGV4cGlyZXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSdyZSB1c2luZyBcImV4cGlyZXNcIiBiZWNhdXNlIFwibWF4LWFnZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcblx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJztcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdFx0XHRpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRcdFx0aWYgKCFjb252ZXJ0ZXIud3JpdGUpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKVxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRrZXkgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGtleSkpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XG5cblx0XHRcdFx0dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuXG5cdFx0XHRcdGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblx0XHRcdFx0XHRpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAoZG9jdW1lbnQuY29va2llID0ga2V5ICsgJz0nICsgdmFsdWUgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZWFkXG5cblx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdHJlc3VsdCA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG5cdFx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC4gQWxzbyBwcmV2ZW50cyBvZGQgcmVzdWx0IHdoZW5cblx0XHRcdC8vIGNhbGxpbmcgXCJnZXQoKVwiXG5cdFx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXHRcdFx0dmFyIHJkZWNvZGUgPSAvKCVbMC05QS1aXXsyfSkrL2c7XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cblx0XHRcdFx0aWYgKGNvb2tpZS5jaGFyQXQoMCkgPT09ICdcIicpIHtcblx0XHRcdFx0XHRjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR2YXIgbmFtZSA9IHBhcnRzWzBdLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0XHRcdFx0XHRjb29raWUgPSBjb252ZXJ0ZXIucmVhZCA/XG5cdFx0XHRcdFx0XHRjb252ZXJ0ZXIucmVhZChjb29raWUsIG5hbWUpIDogY29udmVydGVyKGNvb2tpZSwgbmFtZSkgfHxcblx0XHRcdFx0XHRcdGNvb2tpZS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cblx0XHRcdFx0XHRpZiAodGhpcy5qc29uKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChrZXkgPT09IG5hbWUpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvb2tpZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdFx0XHRyZXN1bHRbbmFtZV0gPSBjb29raWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdGFwaS5zZXQgPSBhcGk7XG5cdFx0YXBpLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBhcGkuY2FsbChhcGksIGtleSk7XG5cdFx0fTtcblx0XHRhcGkuZ2V0SlNPTiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBhcGkuYXBwbHkoe1xuXHRcdFx0XHRqc29uOiB0cnVlXG5cdFx0XHR9LCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuXHRcdH07XG5cdFx0YXBpLmRlZmF1bHRzID0ge307XG5cblx0XHRhcGkucmVtb3ZlID0gZnVuY3Rpb24gKGtleSwgYXR0cmlidXRlcykge1xuXHRcdFx0YXBpKGtleSwgJycsIGV4dGVuZChhdHRyaWJ1dGVzLCB7XG5cdFx0XHRcdGV4cGlyZXM6IC0xXG5cdFx0XHR9KSk7XG5cdFx0fTtcblxuXHRcdGFwaS53aXRoQ29udmVydGVyID0gaW5pdDtcblxuXHRcdHJldHVybiBhcGk7XG5cdH1cblxuXHRyZXR1cm4gaW5pdChmdW5jdGlvbiAoKSB7fSk7XG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9qcy1jb29raWUvc3JjL2pzLmNvb2tpZS5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */,
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/** 앱일때 처리를 위해 카트 업데이트 함수 공통화 **/\nvar updateCartCount = function updateCartCount(count) {\n  if (window.$pt && $pt.isApp()) {\n    // 앱일때\n    var params = { count: count };\n    $pt.msg.call('ui.navigation', 'setCartCount', params);\n  } else {\n    // 앱이 아닐때\n    if (count && count > 0) {\n      $('.top-navi .cart').html('<i>' + count + '</i>');\n      $('.gnb .cart a').html('<i>' + count + '</i>');\n    }\n  }\n};\n\nexports.default = updateCartCount;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9DYXJ0Q291bnQuanM/OTQ1MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiog7JWx7J2865WMIOyymOumrOulvCDsnITtlbQg7Lm07Yq4IOyXheuNsOydtO2KuCDtlajsiJgg6rO17Ya17ZmUICoqL1xuY29uc3QgdXBkYXRlQ2FydENvdW50ID0gKGNvdW50KSA9PiB7XG4gIGlmICh3aW5kb3cuJHB0ICYmICRwdC5pc0FwcCgpKSB7IC8vIOyVseydvOuVjFxuICAgIGNvbnN0IHBhcmFtcyA9IHsgY291bnQgfTtcbiAgICAkcHQubXNnLmNhbGwoJ3VpLm5hdmlnYXRpb24nLCAnc2V0Q2FydENvdW50JywgcGFyYW1zKTtcbiAgfSBlbHNlIHsgLy8g7JWx7J20IOyVhOuLkOuVjFxuICAgIGlmIChjb3VudCAmJiBjb3VudCA+IDApIHtcbiAgICAgICQoJy50b3AtbmF2aSAuY2FydCcpLmh0bWwoYDxpPiR7Y291bnR9PC9pPmApO1xuICAgICAgJCgnLmduYiAuY2FydCBhJykuaHRtbChgPGk+JHtjb3VudH08L2k+YCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1cGRhdGVDYXJ0Q291bnQ7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9DYXJ0Q291bnQuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar aecCartItemQuantity = function aecCartItemQuantity(productId, currentQuantity) {\n  try {\n    AM_INOUT(productId, currentQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecDeleteCartItem = function aecDeleteCartItem(productId, currentQuantity) {\n  try {\n    AM_DEL(productId, currentQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecDeleteCartAll = function aecDeleteCartAll() {\n  try {\n    AM_CARTDEL();\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecAddCartItem = function aecAddCartItem(productQuantity) {\n  try {\n    AM_PRODUCT(productQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecBuyNowItem = function aecBuyNowItem(productQuantity) {\n  try {\n    AM_PRODUCT(productQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexports.default = {\n  aecCartItemQuantity: aecCartItemQuantity, aecDeleteCartItem: aecDeleteCartItem, aecDeleteCartAll: aecDeleteCartAll, aecAddCartItem: aecAddCartItem, aecBuyNowItem: aecBuyNowItem\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL21vYmlsZS9BY2VDb3VudGVyLmpzPzdkZjYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWVjQ2FydEl0ZW1RdWFudGl0eSA9IChwcm9kdWN0SWQsIGN1cnJlbnRRdWFudGl0eSkgPT4ge1xuICB0cnkge1xuICAgIEFNX0lOT1VUKHByb2R1Y3RJZCwgY3VycmVudFF1YW50aXR5KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICB9XG59O1xuXG5jb25zdCBhZWNEZWxldGVDYXJ0SXRlbSA9IChwcm9kdWN0SWQsIGN1cnJlbnRRdWFudGl0eSkgPT4ge1xuICB0cnkge1xuICAgIEFNX0RFTChwcm9kdWN0SWQsIGN1cnJlbnRRdWFudGl0eSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuY29uc3QgYWVjRGVsZXRlQ2FydEFsbCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBBTV9DQVJUREVMKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuY29uc3QgYWVjQWRkQ2FydEl0ZW0gPSAocHJvZHVjdFF1YW50aXR5KSA9PiB7XG4gIHRyeSB7XG4gICAgQU1fUFJPRFVDVChwcm9kdWN0UXVhbnRpdHkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gIH1cbn07XG5cbmNvbnN0IGFlY0J1eU5vd0l0ZW0gPSAocHJvZHVjdFF1YW50aXR5KSA9PiB7XG4gIHRyeSB7XG4gICAgQU1fUFJPRFVDVChwcm9kdWN0UXVhbnRpdHkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gIH1cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBhZWNDYXJ0SXRlbVF1YW50aXR5LCBhZWNEZWxldGVDYXJ0SXRlbSwgYWVjRGVsZXRlQ2FydEFsbCwgYWVjQWRkQ2FydEl0ZW0sIGFlY0J1eU5vd0l0ZW0sXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQWNlQ291bnRlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = __webpack_require__(24);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = __webpack_require__(53);\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = __webpack_require__(54);\n\nvar _PathUtils = __webpack_require__(25);\n\nvar _createTransitionManager = __webpack_require__(57);\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = __webpack_require__(58);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeS5qcz9hNDBlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9Mb2NhdGlvblV0aWxzID0gcmVxdWlyZSgnLi9Mb2NhdGlvblV0aWxzJyk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBQb3BTdGF0ZUV2ZW50ID0gJ3BvcHN0YXRlJztcbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XG5cbnZhciBnZXRIaXN0b3J5U3RhdGUgPSBmdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSUUgMTEgc29tZXRpbWVzIHRocm93cyB3aGVuIGFjY2Vzc2luZyB3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RUcmFpbmluZy9oaXN0b3J5L3B1bGwvMjg5XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGluY2x1ZGluZ1xuICogcHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQuXG4gKi9cbnZhciBjcmVhdGVCcm93c2VySGlzdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShfRE9NVXRpbHMuY2FuVXNlRE9NLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJyk7XG5cbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSAoMCwgX0RPTVV0aWxzLnN1cHBvcnRzSGlzdG9yeSkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gISgwLCBfRE9NVXRpbHMuc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSkoKTtcblxuICB2YXIgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IHByb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IHByb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB1bmRlZmluZWQgPyBfRE9NVXRpbHMuZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IHByb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHVuZGVmaW5lZCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuXG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gKDAsIF9QYXRoVXRpbHMuc3RyaXBUcmFpbGluZ1NsYXNoKSgoMCwgX1BhdGhVdGlscy5hZGRMZWFkaW5nU2xhc2gpKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICB2YXIgZ2V0RE9NTG9jYXRpb24gPSBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuXG5cbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcblxuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoIWJhc2VuYW1lIHx8ICgwLCBfUGF0aFV0aWxzLmhhc0Jhc2VuYW1lKShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gKDAsIF9QYXRoVXRpbHMuc3RyaXBCYXNlbmFtZSkocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGtleSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUtleSA9IGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gKDAsIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIuZGVmYXVsdCkoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGhhbmRsZVBvcFN0YXRlID0gZnVuY3Rpb24gaGFuZGxlUG9wU3RhdGUoZXZlbnQpIHtcbiAgICAvLyBJZ25vcmUgZXh0cmFuZW91cyBwb3BzdGF0ZSBldmVudHMgaW4gV2ViS2l0LlxuICAgIGlmICgoMCwgX0RPTVV0aWxzLmlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQpKGV2ZW50KSkgcmV0dXJuO1xuXG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSkpO1xuICB9O1xuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcblxuICB2YXIgaGFuZGxlUG9wID0gZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG5cbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJldmVydFBvcCA9IGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG5cbiAgICAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3Iga2V5cyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcblxuICAgIHZhciBmcm9tSW5kZXggPSBhbGxLZXlzLmluZGV4T2YoZnJvbUxvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcblxuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XG4gIHZhciBhbGxLZXlzID0gW2luaXRpYWxMb2NhdGlvbi5rZXldO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gYmFzZW5hbWUgKyAoMCwgX1BhdGhVdGlscy5jcmVhdGVQYXRoKShsb2NhdGlvbik7XG4gIH07XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSAoMCwgX0xvY2F0aW9uVXRpbHMuY3JlYXRlTG9jYXRpb24pKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIHZhciBuZXh0S2V5cyA9IGFsbEtleXMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcblxuICAgICAgICAgIG5leHRLZXlzLnB1c2gobG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBhbGxLZXlzID0gbmV4dEtleXM7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byByZXBsYWNlIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSAoMCwgX0xvY2F0aW9uVXRpbHMuY3JlYXRlTG9jYXRpb24pKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24gZ28obikge1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICB2YXIgY2hlY2tET01MaXN0ZW5lcnMgPSBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgKDAsIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKSh3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSAoMCwgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIpKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgICgwLCBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcikod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgKDAsIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKSh3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICB2YXIgYmxvY2sgPSBmdW5jdGlvbiBibG9jaygpIHtcbiAgICB2YXIgcHJvbXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVCcm93c2VySGlzdG9yeTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9oaXN0b3J5L2NyZWF0ZUJyb3dzZXJIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, exports) {

eval("/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzP2Q4NTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar aecCartItemQuantity = function aecCartItemQuantity(productId, originalQuantity, currentQuantity) {\n  try {\n    if (originalQuantity < currentQuantity) {\n      var quantityDiff = currentQuantity - originalQuantity;\n      AEC_F_D(productId, 'i', quantityDiff);\n    } else if (originalQuantity > currentQuantity) {\n      var _quantityDiff = originalQuantity - currentQuantity;\n      AEC_F_D(productId, 'o', _quantityDiff);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecAddCartItem = function aecAddCartItem(productId, productQuantity) {\n  try {\n    AEC_F_D(productId, 'i', productQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecDeleteCartItem = function aecDeleteCartItem(productId, productQuantity) {\n  try {\n    AEC_F_D(productId, 'o', productQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecBuyNowItem = function aecBuyNowItem(productId, productQuantity) {\n  try {\n    AEC_F_D(productId, 'i', productQuantity);\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nvar aecDeleteCartAll = function aecDeleteCartAll() {\n  try {\n    AEC_D_A();\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexports.default = {\n  aecCartItemQuantity: aecCartItemQuantity, aecAddCartItem: aecAddCartItem, aecDeleteCartItem: aecDeleteCartItem, aecBuyNowItem: aecBuyNowItem, aecDeleteCartAll: aecDeleteCartAll\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2Rlc2t0b3AvQWNlQ291bnRlci5qcz81NzY3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFlY0NhcnRJdGVtUXVhbnRpdHkgPSAocHJvZHVjdElkLCBvcmlnaW5hbFF1YW50aXR5LCBjdXJyZW50UXVhbnRpdHkpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAob3JpZ2luYWxRdWFudGl0eSA8IGN1cnJlbnRRdWFudGl0eSkge1xuICAgICAgY29uc3QgcXVhbnRpdHlEaWZmID0gY3VycmVudFF1YW50aXR5IC0gb3JpZ2luYWxRdWFudGl0eTtcbiAgICAgIEFFQ19GX0QocHJvZHVjdElkLCAnaScsIHF1YW50aXR5RGlmZik7XG4gICAgfSBlbHNlIGlmIChvcmlnaW5hbFF1YW50aXR5ID4gY3VycmVudFF1YW50aXR5KSB7XG4gICAgICBjb25zdCBxdWFudGl0eURpZmYgPSBvcmlnaW5hbFF1YW50aXR5IC0gY3VycmVudFF1YW50aXR5O1xuICAgICAgQUVDX0ZfRChwcm9kdWN0SWQsICdvJywgcXVhbnRpdHlEaWZmKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuY29uc3QgYWVjQWRkQ2FydEl0ZW0gPSAocHJvZHVjdElkLCBwcm9kdWN0UXVhbnRpdHkpID0+IHtcbiAgdHJ5IHtcbiAgICBBRUNfRl9EKHByb2R1Y3RJZCwgJ2knLCBwcm9kdWN0UXVhbnRpdHkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gIH1cbn07XG5cbmNvbnN0IGFlY0RlbGV0ZUNhcnRJdGVtID0gKHByb2R1Y3RJZCwgcHJvZHVjdFF1YW50aXR5KSA9PiB7XG4gIHRyeSB7XG4gICAgQUVDX0ZfRChwcm9kdWN0SWQsJ28nLHByb2R1Y3RRdWFudGl0eSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuY29uc3QgYWVjQnV5Tm93SXRlbSA9IChwcm9kdWN0SWQsIHByb2R1Y3RRdWFudGl0eSkgPT4ge1xuICB0cnkge1xuICAgIEFFQ19GX0QocHJvZHVjdElkLCAnaScsIHByb2R1Y3RRdWFudGl0eSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuY29uc3QgYWVjRGVsZXRlQ2FydEFsbCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBBRUNfRF9BKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhZWNDYXJ0SXRlbVF1YW50aXR5LCBhZWNBZGRDYXJ0SXRlbSwgYWVjRGVsZXRlQ2FydEl0ZW0sIGFlY0J1eU5vd0l0ZW0sIGFlY0RlbGV0ZUNhcnRBbGwsXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9kZXNrdG9wL0FjZUNvdW50ZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */,
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"$\"] = __webpack_require__(23);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzPzRjYjUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCIkXCJdID0gcmVxdWlyZShcIi0hL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZXhwb3NlLWxvYWRlci9pbmRleC5qcz9qUXVlcnkhLi9qcXVlcnkuanNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZXhwb3NlLWxvYWRlcj8kIS9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2V4cG9zZS1sb2FkZXI/alF1ZXJ5IS9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIgNCJdLCJtYXBwaW5ncyI6IkFBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"jQuery\"] = __webpack_require__(0);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzPzgwMDUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJqUXVlcnlcIl0gPSByZXF1aXJlKFwiLSEuL2pxdWVyeS5qc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9leHBvc2UtbG9hZGVyP2pRdWVyeSEvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIDQiXSwibWFwcGluZ3MiOiJBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvd2FybmluZy9icm93c2VyLmpzPzRjNjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XG4gICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG4gICAgfVxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcbiAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoKHgpIHt9XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar hasBasename = exports.hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nvar stripBasename = exports.stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaGlzdG9yeS9QYXRoVXRpbHMuanM/ZWUzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgYWRkTGVhZGluZ1NsYXNoID0gZXhwb3J0cy5hZGRMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xufTtcblxudmFyIHN0cmlwTGVhZGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XG59O1xuXG52YXIgaGFzQmFzZW5hbWUgPSBleHBvcnRzLmhhc0Jhc2VuYW1lID0gZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIHByZWZpeCArICcoXFxcXC98XFxcXD98I3wkKScsICdpJykudGVzdChwYXRoKTtcbn07XG5cbnZhciBzdHJpcEJhc2VuYW1lID0gZXhwb3J0cy5zdHJpcEJhc2VuYW1lID0gZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICBzZWFyY2g6IHNlYXJjaCA9PT0gJz8nID8gJycgOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCA9PT0gJyMnID8gJycgOiBoYXNoXG4gIH07XG59O1xuXG52YXIgY3JlYXRlUGF0aCA9IGV4cG9ydHMuY3JlYXRlUGF0aCA9IGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuXG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2hpc3RvcnkvUGF0aFV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PopupManager = function () {\n  function PopupManager(defaultContainer) {\n    _classCallCheck(this, PopupManager);\n\n    this.popupList = [{\n      container: defaultContainer || $('#kolon-wrap'),\n      scrollTop: 0,\n      bodyClassName: document.body.className\n    }];\n  }\n\n  _createClass(PopupManager, [{\n    key: 'push',\n    value: function push(pushContainer) {\n      var op = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var currentPopup = this.popupList[this.popupList.length - 1];\n      currentPopup.scrollTop = $('body').scrollTop();\n      currentPopup.container.hide();\n      pushContainer.show();\n      if (op.bodyClassName) {\n        document.body.className = op.bodyClassName;\n      }\n\n      this.popupList.push({\n        container: pushContainer,\n        scrollTop: 0,\n        bodyClassName: document.body.className\n      });\n    }\n  }, {\n    key: 'pop',\n    value: function pop() {\n      var currentPopup = this.popupList.pop();\n      currentPopup.container.hide();\n\n      var prevPopup = this.popupList[this.popupList.length - 1];\n      prevPopup.container.show();\n      $('html, body').scrollTop(prevPopup.scrollTop);\n      document.body.className = prevPopup.bodyClassName;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var currentPopup = this.popupList[this.popupList.length - 1];\n      Object.assign(currentPopup, option);\n    }\n  }]);\n\n  return PopupManager;\n}();\n\nexports.default = PopupManager;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9wb3B1cC1tYW5hZ2VyLmpzPzkwMjIiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUG9wdXBNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoZGVmYXVsdENvbnRhaW5lcikge1xuICAgIHRoaXMucG9wdXBMaXN0ID0gW3tcbiAgICAgIGNvbnRhaW5lcjogZGVmYXVsdENvbnRhaW5lciB8fCAkKCcja29sb24td3JhcCcpLFxuICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgYm9keUNsYXNzTmFtZTogZG9jdW1lbnQuYm9keS5jbGFzc05hbWUsXG4gICAgfV07XG4gIH1cbiAgcHVzaChwdXNoQ29udGFpbmVyLCBvcCA9IHt9KSB7XG4gICAgY29uc3QgY3VycmVudFBvcHVwID0gdGhpcy5wb3B1cExpc3RbdGhpcy5wb3B1cExpc3QubGVuZ3RoIC0gMV07XG4gICAgY3VycmVudFBvcHVwLnNjcm9sbFRvcCA9ICQoJ2JvZHknKS5zY3JvbGxUb3AoKTtcbiAgICBjdXJyZW50UG9wdXAuY29udGFpbmVyLmhpZGUoKTtcbiAgICBwdXNoQ29udGFpbmVyLnNob3coKTtcbiAgICBpZiAob3AuYm9keUNsYXNzTmFtZSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBvcC5ib2R5Q2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHRoaXMucG9wdXBMaXN0LnB1c2goe1xuICAgICAgY29udGFpbmVyOiBwdXNoQ29udGFpbmVyLFxuICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgYm9keUNsYXNzTmFtZTogZG9jdW1lbnQuYm9keS5jbGFzc05hbWUsXG4gICAgfSk7XG4gIH1cbiAgcG9wKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQb3B1cCA9IHRoaXMucG9wdXBMaXN0LnBvcCgpO1xuICAgIGN1cnJlbnRQb3B1cC5jb250YWluZXIuaGlkZSgpO1xuXG4gICAgY29uc3QgcHJldlBvcHVwID0gdGhpcy5wb3B1cExpc3RbdGhpcy5wb3B1cExpc3QubGVuZ3RoIC0gMV07XG4gICAgcHJldlBvcHVwLmNvbnRhaW5lci5zaG93KCk7XG4gICAgJCgnaHRtbCwgYm9keScpLnNjcm9sbFRvcChwcmV2UG9wdXAuc2Nyb2xsVG9wKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9IHByZXZQb3B1cC5ib2R5Q2xhc3NOYW1lO1xuICB9XG4gIHVwZGF0ZShvcHRpb24gPSB7fSkge1xuICAgIGNvbnN0IGN1cnJlbnRQb3B1cCA9IHRoaXMucG9wdXBMaXN0W3RoaXMucG9wdXBMaXN0Lmxlbmd0aCAtIDFdO1xuICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFBvcHVwLCBvcHRpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwTWFuYWdlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL3BvcHVwLW1hbmFnZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasPaymentStatusWaiting = exports.hasVirtualAccountPayment = exports.checkoutFormSubmitBtnLadda = exports.checkWindowOpen = exports.returnAccountRuls = exports.deliveryRules = exports.customerAddressRules = exports.removeRules = exports.addRules = exports.getExchangeDeliveryCost = exports.updatePayment = exports.getReturnPaymentInfo = exports.getDeliveryVendorList = exports.getCancelPaymentInfo = exports.sizeOptionDataMap = exports.getSizeList = exports.showSizeList = undefined;\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** 오더 뷰 화면 관련 모바일 데탑 공통 **/\nvar checkoutFormSubmitBtnLadda = Ladda.create($('#checkoutFormSubmitBtn')[0]);\nvar updatePaymentBtnLadda = Ladda.create($('#updatePaymentBtn')[0]);\nvar overlayLoader = new _OverlayLoader2.default();\nvar sizeOptionDataMap = new Map();\nvar showSizeList = function showSizeList(selectedProductCode, productBaseCode, targetEle) {\n  var optionHtml = '';\n  $.each(sizeOptionDataMap.get(productBaseCode), function (index, size) {\n    var selectedAttr = selectedProductCode == size.code ? 'selected=\"selected\"' : '';\n    var disabledAttr = !size.isInStock ? 'disabled=\"disabled\"' : '';\n    optionHtml += '<option value=\\'' + size.code + '\\' ' + selectedAttr + ' ' + disabledAttr + '>' + size.sizeValue + (!size.isInStock ? ' (품절)' : '') + '</option>';\n  });\n  targetEle.html(optionHtml);\n};\n\nvar getSizeList = function getSizeList(selectedProductCode, productBaseCode, targetEle) {\n  $.getJSON('/Product/' + productBaseCode + '/variantOptions', function (data) {\n    if (data && data.results && data.results.length > 0) {\n      var sizeList = [];\n      $.each(data.results, function (index, product) {\n        var value = '';\n        $.each(product.variantOptionQualifiers, function (index2, option) {\n          if (option.qualifier == 'size') {\n            value = option.value;\n          }\n        });\n        var sizeData = {\n          code: product.code,\n          sizeValue: value,\n          isInStock: product.stock.stockLevelStatus != 'outOfStock' && product.stock.stockLevel > 0\n        };\n        sizeList.push(sizeData);\n      });\n\n      sizeOptionDataMap.set(productBaseCode, sizeList);\n    }\n  }).then(function () {\n    showSizeList(selectedProductCode, productBaseCode, targetEle);\n  });\n};\n\nfunction isVirtualAccountPayment(paymentMethod) {\n  if (paymentMethod == 'VIRTUALACCOUNT' || paymentMethod == 'ESCROW') {\n    return true;\n  }\n  return false;\n}\n\nfunction isPossibleShowReturnAccountArea(paymentMethod, paymentStatus, paymentAmount) {\n  return isVirtualAccountPayment(paymentMethod) && paymentStatus != 'WAITING' && paymentAmount > 0;\n}\n\nfunction showReturnAccountInfo() {\n  // 환불계좌 입력 버튼 보여주기\n  $('#returnAccountPopupBtn').css('display', 'inline');\n  // 이전에 등록한 환불계좌가 있다면 등록된 영역 보여주기\n  if ($.trim($('#returnAccountInfoValue').text()) != '') {\n    $('#returnAccountInfo').show();\n  }\n}\n\nfunction hideReturnAccountInfo() {\n  // 환불계좌 입력 버튼 가리기\n  $('#returnAccountPopupBtn').hide();\n  // 이전에 등록한 환불계좌가 있다면 등록된 영역 가리기\n  $('#returnAccountInfo').hide();\n}\n\nvar getCancelPaymentInfo = function getCancelPaymentInfo(deviceType, orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity) {\n  $.getJSON('/Order/' + orderNumber + '/Cancel/PaymentInfo?orderEntrycode=' + orderEntrycode + '&orderConsignmentEntrycode=' + orderConsignmentEntrycode + '&quantity=' + quantity, function (data) {\n    if (data) {\n      $('#orderDeliveryCost').text('' + data.deliveryCost);\n      $('#cancelTotalBaseAmount').text(data.totalBaseAmount.formattedPrice);\n      $('.estimatedRefundAmount').text(data.totalAmount.formattedPrice);\n      if (data.paymentInformation && data.paymentInformation.length > 0) {\n        var existMethodArray = [];\n        var dataMethodArray = [];\n        $('.cancelPaymentPrice').each(function (index, cancelPriceEle) {\n          $(cancelPriceEle).text('0');\n          $.each(data.paymentInformation, function (index2, paymentInfo) {\n            if (dataMethodArray.indexOf(paymentInfo.method) < 0) {\n              dataMethodArray.push(paymentInfo.method);\n            }\n            if ($(cancelPriceEle).hasClass(paymentInfo.method)) {\n              if (existMethodArray.indexOf(paymentInfo.method) < 0) {\n                existMethodArray.push(paymentInfo.method);\n              }\n\n              if (deviceType == 'desktop') {\n                $(cancelPriceEle).text('' + (paymentInfo.description ? paymentInfo.description + ' ' : '') + paymentInfo.formattedAmount);\n                // 가상계좌일 경우 환불계좌 등록 버튼 보여주기\n                if (isPossibleShowReturnAccountArea(paymentInfo.method, paymentInfo.status, paymentInfo.amount)) {\n                  showReturnAccountInfo();\n                }\n              } else {\n                $(cancelPriceEle).text('' + paymentInfo.formattedAmount);\n                if (paymentInfo.description != null) {\n                  $(cancelPriceEle).parents('dd').append('<br />' + paymentInfo.description);\n                }\n                // 가상계좌일 경우 환불계좌 등록 영역 보여주기\n                if (isPossibleShowReturnAccountArea(paymentInfo.method, paymentInfo.status, paymentInfo.amount)) {\n                  $('#validateAccountFormWrapper').show();\n                }\n              }\n            }\n          });\n        });\n\n        // 처음에 불러온 method 에는 없던 결제방식이 CancelPaymentInfo를 가져오면서 추가될 수도 있다.\n        var diffMethodArray = dataMethodArray.filter(function (x) {\n          return existMethodArray.indexOf(x) < 0;\n        });\n        $(diffMethodArray).each(function (index, appendPaymentMethod) {\n          $.each(data.paymentInformation, function (index2, newPaymentInfo) {\n            if (newPaymentInfo.method == appendPaymentMethod) {\n              var newPaymentInfoHtml = '';\n              if (deviceType == 'desktop') {\n                newPaymentInfoHtml += '<li><strong>&nbsp;&nbsp; ' + newPaymentInfo.name + '</strong><span class=\"price\"><em class=\"' + newPaymentInfo.method + ' cancelPaymentPrice\">' + (newPaymentInfo.description ? newPaymentInfo.description + ' ' : '') + ' ' + newPaymentInfo.formattedAmount + '</em>' + newPaymentInfo.symbol + '</span></li>';\n                // 가상계좌일 경우 환불계좌 등록 버튼 보여주기\n                if (isPossibleShowReturnAccountArea(newPaymentInfo.method, newPaymentInfo.status, newPaymentInfo.amount > 0)) {\n                  showReturnAccountInfo();\n                }\n              } else {\n                newPaymentInfoHtml += '<dt>&nbsp;&nbsp; ' + newPaymentInfo.name + '</dt><dd></dd>';\n                if (newPaymentInfo.description) {\n                  newPaymentInfoHtml += '<dd class=\\'l3\\'><em class=\"' + newPaymentInfo.method + ' cancelPaymentPrice\">' + newPaymentInfo.formattedAmount + '</em>' + newPaymentInfo.symbol + '<br />' + newPaymentInfo.description + (newPaymentInfo.method == 'CREDITCARD' ? '카드' : '') + '</dd>';\n                } else {\n                  newPaymentInfoHtml += '<dd><em class=\"' + newPaymentInfo.method + ' cancelPaymentPrice\">' + newPaymentInfo.formattedAmount + '</em>' + newPaymentInfo.symbol + '</dd>';\n                }\n                // 가상계좌일 경우 환불계좌 등록 영역 보여주기\n                if (isPossibleShowReturnAccountArea(newPaymentInfo.method, newPaymentInfo.status, newPaymentInfo.amount)) {\n                  $('#validateAccountFormWrapper').show();\n                }\n              }\n              $('.cancelPaymentWrapper').append(newPaymentInfoHtml);\n            }\n          });\n        });\n      } else {\n        $('.cancelPaymentPrice').each(function (index, cancelPriceEle) {\n          $(cancelPriceEle).text('0');\n        });\n        if (deviceType == 'desktop') {\n          hideReturnAccountInfo();\n        } else {\n          $('#validateAccountFormWrapper').hide();\n        }\n      }\n    }\n  }).fail(function (request) {\n    var responseObj = JSON.parse(request.responseText);\n    alert(responseObj.message);\n  });\n};\n\nvar initRefundPageLoad = true;\nvar getReturnPaymentInfo = function getReturnPaymentInfo(deviceType, orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption, originDeliveryCode, deliveryStatus, refundDeliveryGb) {\n  $.getJSON('/Order/' + orderNumber + '/Return/PaymentInfo?orderEntrycode=' + orderEntrycode + '&orderConsignmentEntrycode=' + orderConsignmentEntrycode + '&quantity=' + quantity + '&returnOption=' + rmaOption + '&originDeliveryCode=' + originDeliveryCode + '&deliveryStatus=' + deliveryStatus + '&refundDeliveryGb=' + refundDeliveryGb, function (data) {\n    if (data) {\n      $('.estimatedRefundAmount').text(data.totalAmount.formattedPrice);\n      if (data.paymentInformation && data.paymentInformation.length > 0) {\n        var existMethodArray = [];\n        var dataMethodArray = [];\n        $('.returnPaymentPrice').each(function (index, returnPriceEle) {\n          $(returnPriceEle).text('0');\n          $.each(data.paymentInformation, function (index2, paymentInfo) {\n            if (dataMethodArray.indexOf(paymentInfo.method) < 0) {\n              dataMethodArray.push(paymentInfo.method);\n            }\n            if ($(returnPriceEle).hasClass(paymentInfo.method)) {\n              if (existMethodArray.indexOf(paymentInfo.method) < 0) {\n                existMethodArray.push(paymentInfo.method);\n              }\n              $(returnPriceEle).text('' + paymentInfo.formattedAmount);\n              if (deviceType == 'desktop') {\n                // 가상계좌일 경우 환불계좌 등록 버튼 보여주기\n                if (isPossibleShowReturnAccountArea(paymentInfo.method, paymentInfo.status, paymentInfo.amount)) {\n                  showReturnAccountInfo();\n                }\n              } else {\n                // 가상계좌일 경우 환불계좌 등록 영역 보여주기\n                if (isPossibleShowReturnAccountArea(paymentInfo.method, paymentInfo.status, paymentInfo.amount)) {\n                  $('#validateAccountFormWrapper').show();\n                }\n              }\n            }\n          });\n        });\n\n        // 처음에 불러온 method 에는 없던 결제방식이 ReturnPaymentInfo를 가져오면서 추가될 수도 있다.\n        var diffMethodArray = dataMethodArray.filter(function (x) {\n          return existMethodArray.indexOf(x) < 0;\n        });\n        $(diffMethodArray).each(function (index, appendPaymentMethod) {\n          $.each(data.paymentInformation, function (index2, newPaymentInfo) {\n            if (newPaymentInfo.method == appendPaymentMethod) {\n              var newPaymentInfoHtml = '';\n              if (deviceType == 'desktop') {\n                newPaymentInfoHtml += '<li>';\n                newPaymentInfoHtml += '    <strong>&nbsp;&nbsp; ' + newPaymentInfo.name + '</strong>';\n                newPaymentInfoHtml += '    <span class=\"price\"><em class=\"' + newPaymentInfo.method + ' returnPaymentPrice\">' + (newPaymentInfo.description ? newPaymentInfo.description + ' ' : '') + ' ' + newPaymentInfo.formattedAmount + '</em>' + newPaymentInfo.symbol + '</span>';\n                newPaymentInfoHtml += '</li>';\n                // 가상계좌일 경우 환불계좌 등록 버튼 보여주기\n                if (isPossibleShowReturnAccountArea(newPaymentInfo.method, newPaymentInfo.status, newPaymentInfo.amount)) {\n                  showReturnAccountInfo();\n                }\n              } else {\n                newPaymentInfoHtml += '<dt>' + newPaymentInfo.name + '</dt>';\n                if (newPaymentInfo.description) {\n                  newPaymentInfoHtml += '<dd class=\\'l3\\'><em class=\"' + newPaymentInfo.method + ' returnPaymentPrice\">' + newPaymentInfo.formattedAmount + '</em>' + newPaymentInfo.symbol + '<br />' + newPaymentInfo.description + (newPaymentInfo.method == 'CREDITCARD' ? '카드' : '') + '</dd>';\n                } else {\n                  newPaymentInfoHtml += '<dd><em class=\"' + newPaymentInfo.method + ' returnPaymentPrice\">' + newPaymentInfo.formattedAmount + '</em>' + newPaymentInfo.symbol + '</dd>';\n                }\n                // 가상계좌일 경우 환불계좌 등록 영역 보여주기\n                if (isPossibleShowReturnAccountArea(newPaymentInfo.method, newPaymentInfo.status, newPaymentInfo.amount)) {\n                  $('#validateAccountFormWrapper').show();\n                }\n              }\n              $('.returnPaymentWrapper').append(newPaymentInfoHtml);\n            }\n          });\n        });\n      } else {\n        $('.returnPaymentPrice').each(function (index, returnPriceEle) {\n          $(returnPriceEle).text('0');\n        });\n        if (deviceType == 'desktop') {\n          hideReturnAccountInfo();\n        } else {\n          $('#validateAccountFormWrapper').hide();\n        }\n      }\n    }\n  }).fail(function (request) {\n    var responseObj = JSON.parse(request.responseText);\n    alert(responseObj.message);\n    if (refundDeliveryGb == 10) {\n      // && initRefundPageLoad) {\n      if (deviceType == 'mobile') {\n        $('#refundDeliveryGb a[data-refund-delivery-gb=\"10\"]').removeClass('on');\n        $('#refundDeliveryGb a[data-refund-delivery-gb=\"20\"]').addClass('on');\n        $('#refundDeliveryType').val('20');\n      } else {\n        $('#refundType20').prop('checked', true);\n      }\n      initRefundPageLoad = false;\n      getReturnPaymentInfo(deviceType, orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption, originDeliveryCode, deliveryStatus, 20);\n    }\n    $('.returnPaymentPrice').each(function (index, returnPriceEle) {\n      $(returnPriceEle).text('0원');\n    });\n    $('.estimatedRefundAmount').text('0');\n  });\n};\n\n// 반품시 배송사 정보 조회\nvar getDeliveryVendorList = function getDeliveryVendorList() {\n  var targetEle = $('#deliveryVendorCode');\n  if (targetEle.find('option').length == 1) {\n    $.getJSON('/Order/DeliveryList', function (data) {\n      if (data.results && data.results.length > 0) {\n        $.each(data.results, function (index, deliveryVendor) {\n          targetEle.append('<option value=\"' + deliveryVendor.deliveryVendorCode + '\">' + deliveryVendor.deliveryVendorName + '</option>');\n        });\n      }\n    }).fail(function (request) {\n      var responseObj = JSON.parse(request.responseText);\n      alert(responseObj.message);\n    });\n  }\n};\n\nvar checkWindowOpen = function checkWindowOpen(w, btn) {\n  try {\n    if (w && w.window && w.window.closed == false) {\n      setTimeout(function () {\n        checkWindowOpen(w, btn);\n      }, 1000);\n    } else {\n      if (btn) {\n        btn.stop();\n      }\n    }\n  } catch (e) {\n    if (btn) {\n      btn.stop();\n    }\n  }\n};\n\nvar updatePayment = function updatePayment(orderId, deviceType) {\n  var width = 650;\n  var height = 650;\n  var left = 0;\n  var top = 0;\n  var payWindow = null;\n  if (deviceType == 'desktop') {\n    payWindow = window.open('', 'pay', 'menubar=no,toolbar=no,status=no,width=' + width + ',height=' + height + ',toolbar=no,left=' + left + ',top=' + top);\n  }\n  overlayLoader.start();\n  var csrfToken = $('#updatePaymentBtn').data('csrftoken');\n  updatePaymentBtnLadda.start();\n  $.post('/Order/' + orderId + '/UpdatePaymnet?CSRFToken=' + csrfToken).done(function (data) {\n    if (deviceType == 'mobile') {\n      if ($pt.isApp()) {\n        $pt.navigation.modal({ url: data.paymentUrl, title: 'PAY' });\n      } else {\n        location.href = data.paymentUrl;\n      }\n    } else {\n      if (payWindow) {\n        payWindow.location.replace('' + window.location.origin + data.paymentUrl);\n\n        setTimeout(function () {\n          checkWindowOpen(payWindow, updatePaymentBtnLadda);\n        }, 1000);\n      }\n    }\n  }).fail(function (request) {\n    var responseObj = JSON.parse(request.responseText);\n    if (responseObj.code == 'ERROR') {\n      alert(responseObj.message);\n    }\n    if (payWindow) {\n      payWindow.close();\n    }\n  }).always(function () {\n    overlayLoader.stop();\n  });\n};\n\nvar getExchangeDeliveryCost = function getExchangeDeliveryCost(orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption) {\n  if ($.trim(orderEntrycode) != '') {\n    $.getJSON('/Order/' + orderNumber + '/Exchange/DeliveryCost?orderEntrycode=' + encodeURIComponent(orderEntrycode) + '&orderConsignmentEntrycode=' + encodeURIComponent(orderConsignmentEntrycode) + '&quantity=' + quantity + '&swapOption=' + rmaOption, function (data) {\n      if (data) {\n        $('#exchangeDeliveryCost').text('' + data.deliveryCost);\n      }\n    }).fail(function (request) {\n      var responseObj = JSON.parse(request.responseText);\n      alert(responseObj.message);\n    });\n  } else {\n    $('#exchangeDeliveryCost').text('0');\n  }\n  $('#exchangeDeliveryCost').text('0');\n};\n\n// 주문 반품 신청시 발송주소 입력하는 폼 validation rules\nvar customerAddressRules = {\n  firstname: {\n    required: true,\n    messages: {\n      required: '보내는 분 이름을 입력해주세요.'\n    }\n  },\n  postalCode: {\n    required: true,\n    messages: {\n      required: '주소를 입력해 주세요.'\n    }\n  },\n  streetName: {\n    required: true,\n    messages: {\n      required: '주소를 입력해 주세요.'\n    }\n  },\n  cellphone: {\n    required: true,\n    number: true,\n    cellPhoneNumberFormat: true,\n    messages: {\n      required: '휴대폰 번호를 입력해 주세요.',\n      number: '휴대폰 번호는 숫자만 입력해 주세요.'\n    }\n  },\n  phone: {\n    number: true,\n    phoneNumberFormat: true,\n    messages: {\n      number: '전화 번호는 숫자만 입력해 주세요.'\n    }\n  }\n};\n\n// 주문 반품 신청시 발송 택배사 입력하는 폼 validation rules\nvar deliveryRules = {\n  deliveryVendorCode: {\n    required: true,\n    messages: {\n      required: '택배사를 선택해 주세요.'\n    }\n  },\n  deliveryDate: {\n    required: true,\n    lessThanToday: true,\n    greaterThanTargetDate: (0, _moment2.default)().add(-1, 'M'),\n    messages: {\n      required: '발송일을 선택해 주세요.',\n      greaterThanTargetDate: '한달 내의 날짜만 입력 가능합니다.'\n    }\n  },\n  custDeliveryNo: {\n    required: true,\n    number: true,\n    messages: {\n      required: '송장번호를 입력해 주세요.',\n      number: '송장번호는 숫자만 입력해 주세요.'\n    }\n  }\n};\n\n// 가상계좌로 결제된 주문 취소/반품 시 환불계좌 입력 form validation rules\nvar returnAccountRuls = {\n  bankCode: {\n    required: true,\n    messages: {\n      required: '환불 받을 계좌의 은행을 선택해 주세요.'\n    }\n  },\n  accountNumber: {\n    required: true,\n    number: true,\n    messages: {\n      required: '환불 받을 계좌번호를 입력해 주세요.',\n      number: '환불 받을 계좌번호는 숫자만 입력해 주세요.'\n    }\n  }\n};\n\nvar addRules = function addRules(rulesObj) {\n  for (var item in rulesObj) {\n    $('#' + item).rules('add', rulesObj[item]);\n  }\n};\n\nvar removeRules = function removeRules(rulesObj) {\n  for (var item in rulesObj) {\n    $('#' + item).rules('remove');\n  }\n};\n\nvar hasVirtualAccountPayment = function hasVirtualAccountPayment() {\n  var hasVirtualAccountPaymentReturnVal = false;\n  if ($('.cancelPaymentPrice').length > 0) {\n    $('.cancelPaymentPrice').each(function (index, paymentMethodEle) {\n      if ($(paymentMethodEle).hasClass('VIRTUALACCOUNT') || $(paymentMethodEle).hasClass('ESCROW')) {\n        hasVirtualAccountPaymentReturnVal = true;\n        return false;\n      }\n    });\n  } else if ($('.returnPaymentPrice').length > 0) {\n    $('.returnPaymentPrice').each(function (index, paymentMethodEle) {\n      if ($(paymentMethodEle).hasClass('VIRTUALACCOUNT') || $(paymentMethodEle).hasClass('ESCROW')) {\n        hasVirtualAccountPaymentReturnVal = true;\n        return false;\n      }\n    });\n  }\n  return hasVirtualAccountPaymentReturnVal;\n};\n\nvar hasPaymentStatusWaiting = function hasPaymentStatusWaiting() {\n  var hasPaymentStatusWaitingReturnVal = false;\n  if ($('.cancelPaymentPrice').length > 0) {\n    $('.cancelPaymentPrice').each(function (index, paymentMethodEle) {\n      if ($(paymentMethodEle).data('paymentStatus') == 'WAITING') {\n        hasPaymentStatusWaitingReturnVal = true;\n        return false;\n      }\n    });\n  } else if ($('.returnPaymentPrice').length > 0) {\n    $('.returnPaymentPrice').each(function (index, paymentMethodEle) {\n      if ($(paymentMethodEle).data('paymentStatus') == 'WAITING') {\n        hasPaymentStatusWaitingReturnVal = true;\n        return false;\n      }\n    });\n  }\n  return hasPaymentStatusWaitingReturnVal;\n};\n\nexports.showSizeList = showSizeList;\nexports.getSizeList = getSizeList;\nexports.sizeOptionDataMap = sizeOptionDataMap;\nexports.getCancelPaymentInfo = getCancelPaymentInfo;\nexports.getDeliveryVendorList = getDeliveryVendorList;\nexports.getReturnPaymentInfo = getReturnPaymentInfo;\nexports.updatePayment = updatePayment;\nexports.getExchangeDeliveryCost = getExchangeDeliveryCost;\nexports.addRules = addRules;\nexports.removeRules = removeRules;\nexports.customerAddressRules = customerAddressRules;\nexports.deliveryRules = deliveryRules;\nexports.returnAccountRuls = returnAccountRuls;\nexports.checkWindowOpen = checkWindowOpen;\nexports.checkoutFormSubmitBtnLadda = checkoutFormSubmitBtnLadda;\nexports.hasVirtualAccountPayment = hasVirtualAccountPayment;\nexports.hasPaymentStatusWaiting = hasPaymentStatusWaiting;\nexports.default = {\n  showSizeList: showSizeList,\n  getSizeList: getSizeList,\n  sizeOptionDataMap: sizeOptionDataMap,\n  getCancelPaymentInfo: getCancelPaymentInfo,\n  getDeliveryVendorList: getDeliveryVendorList,\n  getReturnPaymentInfo: getReturnPaymentInfo,\n  updatePayment: updatePayment,\n  getExchangeDeliveryCost: getExchangeDeliveryCost,\n  addRules: addRules,\n  removeRules: removeRules,\n  customerAddressRules: customerAddressRules,\n  deliveryRules: deliveryRules,\n  returnAccountRuls: returnAccountRuls,\n  checkWindowOpen: checkWindowOpen,\n  checkoutFormSubmitBtnLadda: checkoutFormSubmitBtnLadda,\n  hasVirtualAccountPayment: hasVirtualAccountPayment,\n  hasPaymentStatusWaiting: hasPaymentStatusWaiting\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9PcmRlci5hY3Rpb24uanM/M2ZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiog7Jik642UIOu3sCDtmZTrqbQg6rSA66CoIOuqqOuwlOydvCDrjbDtg5Eg6rO17Ya1ICoqL1xuaW1wb3J0IE92ZXJsYXlMb2FkZXIgZnJvbSAnLi4vY29tbW9uL092ZXJsYXlMb2FkZXInO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5jb25zdCBjaGVja291dEZvcm1TdWJtaXRCdG5MYWRkYSA9IExhZGRhLmNyZWF0ZSgkKCcjY2hlY2tvdXRGb3JtU3VibWl0QnRuJylbMF0pO1xuY29uc3QgdXBkYXRlUGF5bWVudEJ0bkxhZGRhID0gTGFkZGEuY3JlYXRlKCQoJyN1cGRhdGVQYXltZW50QnRuJylbMF0pO1xuY29uc3Qgb3ZlcmxheUxvYWRlciA9IG5ldyBPdmVybGF5TG9hZGVyKCk7XG5jb25zdCBzaXplT3B0aW9uRGF0YU1hcCA9IG5ldyBNYXAoKTtcbmNvbnN0IHNob3dTaXplTGlzdCA9IChzZWxlY3RlZFByb2R1Y3RDb2RlLCBwcm9kdWN0QmFzZUNvZGUsIHRhcmdldEVsZSkgPT4ge1xuICBsZXQgb3B0aW9uSHRtbCA9ICcnO1xuICAkLmVhY2goc2l6ZU9wdGlvbkRhdGFNYXAuZ2V0KHByb2R1Y3RCYXNlQ29kZSksIChpbmRleCwgc2l6ZSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkQXR0ciA9IHNlbGVjdGVkUHJvZHVjdENvZGUgPT0gc2l6ZS5jb2RlID8gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJztcbiAgICBjb25zdCBkaXNhYmxlZEF0dHIgPSAhc2l6ZS5pc0luU3RvY2sgPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnO1xuICAgIG9wdGlvbkh0bWwgKz0gYDxvcHRpb24gdmFsdWU9JyR7c2l6ZS5jb2RlfScgJHtzZWxlY3RlZEF0dHJ9ICR7ZGlzYWJsZWRBdHRyfT4ke3NpemUuc2l6ZVZhbHVlfSR7IXNpemUuaXNJblN0b2NrID8gJyAo7ZKI7KCIKScgOiAnJ308L29wdGlvbj5gO1xuICB9KTtcbiAgdGFyZ2V0RWxlLmh0bWwob3B0aW9uSHRtbCk7XG59O1xuXG5jb25zdCBnZXRTaXplTGlzdCA9IChzZWxlY3RlZFByb2R1Y3RDb2RlLCBwcm9kdWN0QmFzZUNvZGUsIHRhcmdldEVsZSkgPT4ge1xuICAkLmdldEpTT04oYC9Qcm9kdWN0LyR7cHJvZHVjdEJhc2VDb2RlfS92YXJpYW50T3B0aW9uc2AsIChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHRzICYmIGRhdGEucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzaXplTGlzdCA9IFtdO1xuICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywgKGluZGV4LCBwcm9kdWN0KSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICAkLmVhY2gocHJvZHVjdC52YXJpYW50T3B0aW9uUXVhbGlmaWVycywgKGluZGV4Miwgb3B0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKG9wdGlvbi5xdWFsaWZpZXIgPT0gJ3NpemUnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaXplRGF0YSA9IHtcbiAgICAgICAgICBjb2RlOiBwcm9kdWN0LmNvZGUsXG4gICAgICAgICAgc2l6ZVZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBpc0luU3RvY2s6IHByb2R1Y3Quc3RvY2suc3RvY2tMZXZlbFN0YXR1cyAhPSAnb3V0T2ZTdG9jaycgJiYgcHJvZHVjdC5zdG9jay5zdG9ja0xldmVsID4gMCxcbiAgICAgICAgfTtcbiAgICAgICAgc2l6ZUxpc3QucHVzaChzaXplRGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgc2l6ZU9wdGlvbkRhdGFNYXAuc2V0KHByb2R1Y3RCYXNlQ29kZSwgc2l6ZUxpc3QpO1xuICAgIH1cbiAgfSkudGhlbigoKSA9PiB7XG4gICAgc2hvd1NpemVMaXN0KHNlbGVjdGVkUHJvZHVjdENvZGUsIHByb2R1Y3RCYXNlQ29kZSwgdGFyZ2V0RWxlKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBpc1ZpcnR1YWxBY2NvdW50UGF5bWVudChwYXltZW50TWV0aG9kKSB7XG4gIGlmIChwYXltZW50TWV0aG9kID09ICdWSVJUVUFMQUNDT1VOVCcgfHwgcGF5bWVudE1ldGhvZCA9PSAnRVNDUk9XJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNQb3NzaWJsZVNob3dSZXR1cm5BY2NvdW50QXJlYShwYXltZW50TWV0aG9kLCBwYXltZW50U3RhdHVzLCBwYXltZW50QW1vdW50KSB7XG4gIHJldHVybiBpc1ZpcnR1YWxBY2NvdW50UGF5bWVudChwYXltZW50TWV0aG9kKSAmJiBwYXltZW50U3RhdHVzICE9ICdXQUlUSU5HJyAmJiBwYXltZW50QW1vdW50ID4gMDtcbn1cblxuZnVuY3Rpb24gc2hvd1JldHVybkFjY291bnRJbmZvKCkge1xuICAvLyDtmZjrtojqs4Tsoowg7J6F66ClIOuyhO2KvCDrs7Tsl6zso7zquLBcbiAgJCgnI3JldHVybkFjY291bnRQb3B1cEJ0bicpLmNzcygnZGlzcGxheScsICdpbmxpbmUnKTtcbiAgLy8g7J207KCE7JeQIOuTseuhne2VnCDtmZjrtojqs4TsoozqsIAg7J6I64uk66m0IOuTseuhneuQnCDsmIHsl60g67O07Jes7KO86riwXG4gIGlmICgkLnRyaW0oJCgnI3JldHVybkFjY291bnRJbmZvVmFsdWUnKS50ZXh0KCkpICE9ICcnKSB7XG4gICAgJCgnI3JldHVybkFjY291bnRJbmZvJykuc2hvdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhpZGVSZXR1cm5BY2NvdW50SW5mbygpIHtcbiAgLy8g7ZmY67aI6rOE7KKMIOyeheugpSDrsoTtirwg6rCA66as6riwXG4gICQoJyNyZXR1cm5BY2NvdW50UG9wdXBCdG4nKS5oaWRlKCk7XG4gIC8vIOydtOyghOyXkCDrk7HroZ3tlZwg7ZmY67aI6rOE7KKM6rCAIOyeiOuLpOuptCDrk7HroZ3rkJwg7JiB7JetIOqwgOumrOq4sFxuICAkKCcjcmV0dXJuQWNjb3VudEluZm8nKS5oaWRlKCk7XG59XG5cbmNvbnN0IGdldENhbmNlbFBheW1lbnRJbmZvID0gKGRldmljZVR5cGUsIG9yZGVyTnVtYmVyLCBvcmRlckVudHJ5Y29kZSwgb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZSwgcXVhbnRpdHkpID0+IHtcbiAgJC5nZXRKU09OKGAvT3JkZXIvJHtvcmRlck51bWJlcn0vQ2FuY2VsL1BheW1lbnRJbmZvP29yZGVyRW50cnljb2RlPSR7b3JkZXJFbnRyeWNvZGV9Jm9yZGVyQ29uc2lnbm1lbnRFbnRyeWNvZGU9JHtvcmRlckNvbnNpZ25tZW50RW50cnljb2RlfSZxdWFudGl0eT0ke3F1YW50aXR5fWAsIChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICQoJyNvcmRlckRlbGl2ZXJ5Q29zdCcpLnRleHQoYCR7ZGF0YS5kZWxpdmVyeUNvc3R9YCk7XG4gICAgICAkKCcjY2FuY2VsVG90YWxCYXNlQW1vdW50JykudGV4dChkYXRhLnRvdGFsQmFzZUFtb3VudC5mb3JtYXR0ZWRQcmljZSk7XG4gICAgICAkKCcuZXN0aW1hdGVkUmVmdW5kQW1vdW50JykudGV4dChkYXRhLnRvdGFsQW1vdW50LmZvcm1hdHRlZFByaWNlKTtcbiAgICAgIGlmIChkYXRhLnBheW1lbnRJbmZvcm1hdGlvbiAmJiBkYXRhLnBheW1lbnRJbmZvcm1hdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0TWV0aG9kQXJyYXkgPSBbXTtcbiAgICAgICAgY29uc3QgZGF0YU1ldGhvZEFycmF5ID0gW107XG4gICAgICAgICQoJy5jYW5jZWxQYXltZW50UHJpY2UnKS5lYWNoKChpbmRleCwgY2FuY2VsUHJpY2VFbGUpID0+IHtcbiAgICAgICAgICAkKGNhbmNlbFByaWNlRWxlKS50ZXh0KCcwJyk7XG4gICAgICAgICAgJC5lYWNoKGRhdGEucGF5bWVudEluZm9ybWF0aW9uLCAoaW5kZXgyLCBwYXltZW50SW5mbykgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGFNZXRob2RBcnJheS5pbmRleE9mKHBheW1lbnRJbmZvLm1ldGhvZCkgPCAwKSB7XG4gICAgICAgICAgICAgIGRhdGFNZXRob2RBcnJheS5wdXNoKHBheW1lbnRJbmZvLm1ldGhvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJChjYW5jZWxQcmljZUVsZSkuaGFzQ2xhc3MocGF5bWVudEluZm8ubWV0aG9kKSkge1xuICAgICAgICAgICAgICBpZiAoZXhpc3RNZXRob2RBcnJheS5pbmRleE9mKHBheW1lbnRJbmZvLm1ldGhvZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RNZXRob2RBcnJheS5wdXNoKHBheW1lbnRJbmZvLm1ldGhvZCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnZGVza3RvcCcpIHtcbiAgICAgICAgICAgICAgICAkKGNhbmNlbFByaWNlRWxlKS50ZXh0KGAke3BheW1lbnRJbmZvLmRlc2NyaXB0aW9uID8gcGF5bWVudEluZm8uZGVzY3JpcHRpb24gKyAnICcgOiAnJ30ke3BheW1lbnRJbmZvLmZvcm1hdHRlZEFtb3VudH1gKTtcbiAgICAgICAgICAgICAgICAvLyDqsIDsg4Hqs4Tsoozsnbwg6rK97JqwIO2ZmOu2iOqzhOyijCDrk7HroZ0g67KE7Yq8IOuztOyXrOyjvOq4sFxuICAgICAgICAgICAgICAgIGlmIChpc1Bvc3NpYmxlU2hvd1JldHVybkFjY291bnRBcmVhKHBheW1lbnRJbmZvLm1ldGhvZCwgcGF5bWVudEluZm8uc3RhdHVzLCBwYXltZW50SW5mby5hbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICBzaG93UmV0dXJuQWNjb3VudEluZm8oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChjYW5jZWxQcmljZUVsZSkudGV4dChgJHtwYXltZW50SW5mby5mb3JtYXR0ZWRBbW91bnR9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHBheW1lbnRJbmZvLmRlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICQoY2FuY2VsUHJpY2VFbGUpLnBhcmVudHMoJ2RkJykuYXBwZW5kKGA8YnIgLz4ke3BheW1lbnRJbmZvLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyDqsIDsg4Hqs4Tsoozsnbwg6rK97JqwIO2ZmOu2iOqzhOyijCDrk7HroZ0g7JiB7JetIOuztOyXrOyjvOq4sFxuICAgICAgICAgICAgICAgIGlmIChpc1Bvc3NpYmxlU2hvd1JldHVybkFjY291bnRBcmVhKHBheW1lbnRJbmZvLm1ldGhvZCwgcGF5bWVudEluZm8uc3RhdHVzLCBwYXltZW50SW5mby5hbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICAkKCcjdmFsaWRhdGVBY2NvdW50Rm9ybVdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOyymOydjOyXkCDrtojrn6zsmKggbWV0aG9kIOyXkOuKlCDsl4brjZgg6rKw7KCc67Cp7Iud7J20IENhbmNlbFBheW1lbnRJbmZv66W8IOqwgOyguOyYpOuptOyEnCDstpTqsIDrkKAg7IiY64+EIOyeiOuLpC5cbiAgICAgICAgY29uc3QgZGlmZk1ldGhvZEFycmF5ID0gZGF0YU1ldGhvZEFycmF5LmZpbHRlcih4ID0+IGV4aXN0TWV0aG9kQXJyYXkuaW5kZXhPZih4KSA8IDApO1xuICAgICAgICAkKGRpZmZNZXRob2RBcnJheSkuZWFjaCgoaW5kZXgsIGFwcGVuZFBheW1lbnRNZXRob2QpID0+IHtcbiAgICAgICAgICAkLmVhY2goZGF0YS5wYXltZW50SW5mb3JtYXRpb24sIChpbmRleDIsIG5ld1BheW1lbnRJbmZvKSA9PiB7XG4gICAgICAgICAgICBpZiAobmV3UGF5bWVudEluZm8ubWV0aG9kID09IGFwcGVuZFBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgICAgbGV0IG5ld1BheW1lbnRJbmZvSHRtbCA9ICcnO1xuICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnZGVza3RvcCcpIHtcbiAgICAgICAgICAgICAgICBuZXdQYXltZW50SW5mb0h0bWwgKz0gYDxsaT48c3Ryb25nPiZuYnNwOyZuYnNwOyAke25ld1BheW1lbnRJbmZvLm5hbWV9PC9zdHJvbmc+PHNwYW4gY2xhc3M9XCJwcmljZVwiPjxlbSBjbGFzcz1cIiR7bmV3UGF5bWVudEluZm8ubWV0aG9kfSBjYW5jZWxQYXltZW50UHJpY2VcIj4ke25ld1BheW1lbnRJbmZvLmRlc2NyaXB0aW9uID8gbmV3UGF5bWVudEluZm8uZGVzY3JpcHRpb24gKyAnICcgOiAnJ30gJHtuZXdQYXltZW50SW5mby5mb3JtYXR0ZWRBbW91bnR9PC9lbT4ke25ld1BheW1lbnRJbmZvLnN5bWJvbH08L3NwYW4+PC9saT5gO1xuICAgICAgICAgICAgICAgIC8vIOqwgOyDgeqzhOyijOydvCDqsr3smrAg7ZmY67aI6rOE7KKMIOuTseuhnSDrsoTtirwg67O07Jes7KO86riwXG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zc2libGVTaG93UmV0dXJuQWNjb3VudEFyZWEobmV3UGF5bWVudEluZm8ubWV0aG9kLCBuZXdQYXltZW50SW5mby5zdGF0dXMsIG5ld1BheW1lbnRJbmZvLmFtb3VudCA+IDApKSB7XG4gICAgICAgICAgICAgICAgICBzaG93UmV0dXJuQWNjb3VudEluZm8oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3UGF5bWVudEluZm9IdG1sICs9IGA8ZHQ+Jm5ic3A7Jm5ic3A7ICR7bmV3UGF5bWVudEluZm8ubmFtZX08L2R0PjxkZD48L2RkPmA7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1BheW1lbnRJbmZvLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBuZXdQYXltZW50SW5mb0h0bWwgKz0gYDxkZCBjbGFzcz0nbDMnPjxlbSBjbGFzcz1cIiR7bmV3UGF5bWVudEluZm8ubWV0aG9kfSBjYW5jZWxQYXltZW50UHJpY2VcIj4ke25ld1BheW1lbnRJbmZvLmZvcm1hdHRlZEFtb3VudH08L2VtPiR7bmV3UGF5bWVudEluZm8uc3ltYm9sfTxiciAvPiR7bmV3UGF5bWVudEluZm8uZGVzY3JpcHRpb259JHtuZXdQYXltZW50SW5mby5tZXRob2QgPT0gJ0NSRURJVENBUkQnID8gJ+y5tOuTnCcgOiAnJ308L2RkPmA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5ld1BheW1lbnRJbmZvSHRtbCArPSBgPGRkPjxlbSBjbGFzcz1cIiR7bmV3UGF5bWVudEluZm8ubWV0aG9kfSBjYW5jZWxQYXltZW50UHJpY2VcIj4ke25ld1BheW1lbnRJbmZvLmZvcm1hdHRlZEFtb3VudH08L2VtPiR7bmV3UGF5bWVudEluZm8uc3ltYm9sfTwvZGQ+YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8g6rCA7IOB6rOE7KKM7J28IOqyveyasCDtmZjrtojqs4Tsoowg65Ox66GdIOyYgeyXrSDrs7Tsl6zso7zquLBcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NzaWJsZVNob3dSZXR1cm5BY2NvdW50QXJlYShuZXdQYXltZW50SW5mby5tZXRob2QsIG5ld1BheW1lbnRJbmZvLnN0YXR1cywgbmV3UGF5bWVudEluZm8uYW1vdW50KSkge1xuICAgICAgICAgICAgICAgICAgJCgnI3ZhbGlkYXRlQWNjb3VudEZvcm1XcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAkKCcuY2FuY2VsUGF5bWVudFdyYXBwZXInKS5hcHBlbmQobmV3UGF5bWVudEluZm9IdG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuY2FuY2VsUGF5bWVudFByaWNlJykuZWFjaCgoaW5kZXgsIGNhbmNlbFByaWNlRWxlKSA9PiB7XG4gICAgICAgICAgJChjYW5jZWxQcmljZUVsZSkudGV4dCgnMCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRldmljZVR5cGUgPT0gJ2Rlc2t0b3AnKSB7XG4gICAgICAgICAgaGlkZVJldHVybkFjY291bnRJbmZvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnI3ZhbGlkYXRlQWNjb3VudEZvcm1XcmFwcGVyJykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KS5mYWlsKChyZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgfSk7XG59O1xuXG5sZXQgaW5pdFJlZnVuZFBhZ2VMb2FkID0gdHJ1ZTtcbmNvbnN0IGdldFJldHVyblBheW1lbnRJbmZvID0gKGRldmljZVR5cGUsIG9yZGVyTnVtYmVyLCBvcmRlckVudHJ5Y29kZSwgb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZSwgcXVhbnRpdHksIHJtYU9wdGlvbiwgb3JpZ2luRGVsaXZlcnlDb2RlLCBkZWxpdmVyeVN0YXR1cywgcmVmdW5kRGVsaXZlcnlHYikgPT4ge1xuICAkLmdldEpTT04oYC9PcmRlci8ke29yZGVyTnVtYmVyfS9SZXR1cm4vUGF5bWVudEluZm8/b3JkZXJFbnRyeWNvZGU9JHtvcmRlckVudHJ5Y29kZX0mb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZT0ke29yZGVyQ29uc2lnbm1lbnRFbnRyeWNvZGV9JnF1YW50aXR5PSR7cXVhbnRpdHl9JnJldHVybk9wdGlvbj0ke3JtYU9wdGlvbn0mb3JpZ2luRGVsaXZlcnlDb2RlPSR7b3JpZ2luRGVsaXZlcnlDb2RlfSZkZWxpdmVyeVN0YXR1cz0ke2RlbGl2ZXJ5U3RhdHVzfSZyZWZ1bmREZWxpdmVyeUdiPSR7cmVmdW5kRGVsaXZlcnlHYn1gLCAoZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhKSB7XG4gICAgICAkKCcuZXN0aW1hdGVkUmVmdW5kQW1vdW50JykudGV4dChkYXRhLnRvdGFsQW1vdW50LmZvcm1hdHRlZFByaWNlKTtcbiAgICAgIGlmIChkYXRhLnBheW1lbnRJbmZvcm1hdGlvbiAmJiBkYXRhLnBheW1lbnRJbmZvcm1hdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0TWV0aG9kQXJyYXkgPSBbXTtcbiAgICAgICAgY29uc3QgZGF0YU1ldGhvZEFycmF5ID0gW107XG4gICAgICAgICQoJy5yZXR1cm5QYXltZW50UHJpY2UnKS5lYWNoKChpbmRleCwgcmV0dXJuUHJpY2VFbGUpID0+IHtcbiAgICAgICAgICAkKHJldHVyblByaWNlRWxlKS50ZXh0KCcwJyk7XG4gICAgICAgICAgJC5lYWNoKGRhdGEucGF5bWVudEluZm9ybWF0aW9uLCAoaW5kZXgyLCBwYXltZW50SW5mbykgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGFNZXRob2RBcnJheS5pbmRleE9mKHBheW1lbnRJbmZvLm1ldGhvZCkgPCAwKSB7XG4gICAgICAgICAgICAgIGRhdGFNZXRob2RBcnJheS5wdXNoKHBheW1lbnRJbmZvLm1ldGhvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJChyZXR1cm5QcmljZUVsZSkuaGFzQ2xhc3MocGF5bWVudEluZm8ubWV0aG9kKSkge1xuICAgICAgICAgICAgICBpZiAoZXhpc3RNZXRob2RBcnJheS5pbmRleE9mKHBheW1lbnRJbmZvLm1ldGhvZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RNZXRob2RBcnJheS5wdXNoKHBheW1lbnRJbmZvLm1ldGhvZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJChyZXR1cm5QcmljZUVsZSkudGV4dChgJHtwYXltZW50SW5mby5mb3JtYXR0ZWRBbW91bnR9YCk7XG4gICAgICAgICAgICAgIGlmIChkZXZpY2VUeXBlID09ICdkZXNrdG9wJykge1xuICAgICAgICAgICAgICAgIC8vIOqwgOyDgeqzhOyijOydvCDqsr3smrAg7ZmY67aI6rOE7KKMIOuTseuhnSDrsoTtirwg67O07Jes7KO86riwXG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zc2libGVTaG93UmV0dXJuQWNjb3VudEFyZWEocGF5bWVudEluZm8ubWV0aG9kLCBwYXltZW50SW5mby5zdGF0dXMsIHBheW1lbnRJbmZvLmFtb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgIHNob3dSZXR1cm5BY2NvdW50SW5mbygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDqsIDsg4Hqs4Tsoozsnbwg6rK97JqwIO2ZmOu2iOqzhOyijCDrk7HroZ0g7JiB7JetIOuztOyXrOyjvOq4sFxuICAgICAgICAgICAgICAgIGlmIChpc1Bvc3NpYmxlU2hvd1JldHVybkFjY291bnRBcmVhKHBheW1lbnRJbmZvLm1ldGhvZCwgcGF5bWVudEluZm8uc3RhdHVzLCBwYXltZW50SW5mby5hbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICAkKCcjdmFsaWRhdGVBY2NvdW50Rm9ybVdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOyymOydjOyXkCDrtojrn6zsmKggbWV0aG9kIOyXkOuKlCDsl4brjZgg6rKw7KCc67Cp7Iud7J20IFJldHVyblBheW1lbnRJbmZv66W8IOqwgOyguOyYpOuptOyEnCDstpTqsIDrkKAg7IiY64+EIOyeiOuLpC5cbiAgICAgICAgY29uc3QgZGlmZk1ldGhvZEFycmF5ID0gZGF0YU1ldGhvZEFycmF5LmZpbHRlcih4ID0+IGV4aXN0TWV0aG9kQXJyYXkuaW5kZXhPZih4KSA8IDApO1xuICAgICAgICAkKGRpZmZNZXRob2RBcnJheSkuZWFjaCgoaW5kZXgsIGFwcGVuZFBheW1lbnRNZXRob2QpID0+IHtcbiAgICAgICAgICAkLmVhY2goZGF0YS5wYXltZW50SW5mb3JtYXRpb24sIChpbmRleDIsIG5ld1BheW1lbnRJbmZvKSA9PiB7XG4gICAgICAgICAgICBpZiAobmV3UGF5bWVudEluZm8ubWV0aG9kID09IGFwcGVuZFBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgICAgbGV0IG5ld1BheW1lbnRJbmZvSHRtbCA9ICcnO1xuICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnZGVza3RvcCcpIHtcbiAgICAgICAgICAgICAgICBuZXdQYXltZW50SW5mb0h0bWwgKz0gJzxsaT4nO1xuICAgICAgICAgICAgICAgIG5ld1BheW1lbnRJbmZvSHRtbCArPSBgICAgIDxzdHJvbmc+Jm5ic3A7Jm5ic3A7ICR7bmV3UGF5bWVudEluZm8ubmFtZX08L3N0cm9uZz5gO1xuICAgICAgICAgICAgICAgIG5ld1BheW1lbnRJbmZvSHRtbCArPSBgICAgIDxzcGFuIGNsYXNzPVwicHJpY2VcIj48ZW0gY2xhc3M9XCIke25ld1BheW1lbnRJbmZvLm1ldGhvZH0gcmV0dXJuUGF5bWVudFByaWNlXCI+JHtuZXdQYXltZW50SW5mby5kZXNjcmlwdGlvbiA/IG5ld1BheW1lbnRJbmZvLmRlc2NyaXB0aW9uICsgJyAnIDogJyd9ICR7bmV3UGF5bWVudEluZm8uZm9ybWF0dGVkQW1vdW50fTwvZW0+JHtuZXdQYXltZW50SW5mby5zeW1ib2x9PC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgbmV3UGF5bWVudEluZm9IdG1sICs9ICc8L2xpPic7XG4gICAgICAgICAgICAgICAgLy8g6rCA7IOB6rOE7KKM7J28IOqyveyasCDtmZjrtojqs4Tsoowg65Ox66GdIOuyhO2KvCDrs7Tsl6zso7zquLBcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NzaWJsZVNob3dSZXR1cm5BY2NvdW50QXJlYShuZXdQYXltZW50SW5mby5tZXRob2QsIG5ld1BheW1lbnRJbmZvLnN0YXR1cywgbmV3UGF5bWVudEluZm8uYW1vdW50KSkge1xuICAgICAgICAgICAgICAgICAgc2hvd1JldHVybkFjY291bnRJbmZvKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1BheW1lbnRJbmZvSHRtbCArPSBgPGR0PiR7bmV3UGF5bWVudEluZm8ubmFtZX08L2R0PmA7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1BheW1lbnRJbmZvLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBuZXdQYXltZW50SW5mb0h0bWwgKz0gYDxkZCBjbGFzcz0nbDMnPjxlbSBjbGFzcz1cIiR7bmV3UGF5bWVudEluZm8ubWV0aG9kfSByZXR1cm5QYXltZW50UHJpY2VcIj4ke25ld1BheW1lbnRJbmZvLmZvcm1hdHRlZEFtb3VudH08L2VtPiR7bmV3UGF5bWVudEluZm8uc3ltYm9sfTxiciAvPiR7bmV3UGF5bWVudEluZm8uZGVzY3JpcHRpb259JHtuZXdQYXltZW50SW5mby5tZXRob2QgPT0gJ0NSRURJVENBUkQnID8gJ+y5tOuTnCcgOiAnJ308L2RkPmA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5ld1BheW1lbnRJbmZvSHRtbCArPSBgPGRkPjxlbSBjbGFzcz1cIiR7bmV3UGF5bWVudEluZm8ubWV0aG9kfSByZXR1cm5QYXltZW50UHJpY2VcIj4ke25ld1BheW1lbnRJbmZvLmZvcm1hdHRlZEFtb3VudH08L2VtPiR7bmV3UGF5bWVudEluZm8uc3ltYm9sfTwvZGQ+YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8g6rCA7IOB6rOE7KKM7J28IOqyveyasCDtmZjrtojqs4Tsoowg65Ox66GdIOyYgeyXrSDrs7Tsl6zso7zquLBcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3NzaWJsZVNob3dSZXR1cm5BY2NvdW50QXJlYShuZXdQYXltZW50SW5mby5tZXRob2QsIG5ld1BheW1lbnRJbmZvLnN0YXR1cywgbmV3UGF5bWVudEluZm8uYW1vdW50KSkge1xuICAgICAgICAgICAgICAgICAgJCgnI3ZhbGlkYXRlQWNjb3VudEZvcm1XcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAkKCcucmV0dXJuUGF5bWVudFdyYXBwZXInKS5hcHBlbmQobmV3UGF5bWVudEluZm9IdG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcucmV0dXJuUGF5bWVudFByaWNlJykuZWFjaCgoaW5kZXgsIHJldHVyblByaWNlRWxlKSA9PiB7XG4gICAgICAgICAgJChyZXR1cm5QcmljZUVsZSkudGV4dCgnMCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRldmljZVR5cGUgPT0gJ2Rlc2t0b3AnKSB7XG4gICAgICAgICAgaGlkZVJldHVybkFjY291bnRJbmZvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnI3ZhbGlkYXRlQWNjb3VudEZvcm1XcmFwcGVyJykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KS5mYWlsKChyZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICBpZiAocmVmdW5kRGVsaXZlcnlHYiA9PSAxMCkgeyAvLyAmJiBpbml0UmVmdW5kUGFnZUxvYWQpIHtcbiAgICAgIGlmIChkZXZpY2VUeXBlID09ICdtb2JpbGUnKSB7XG4gICAgICAgICQoJyNyZWZ1bmREZWxpdmVyeUdiIGFbZGF0YS1yZWZ1bmQtZGVsaXZlcnktZ2I9XCIxMFwiXScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICAkKCcjcmVmdW5kRGVsaXZlcnlHYiBhW2RhdGEtcmVmdW5kLWRlbGl2ZXJ5LWdiPVwiMjBcIl0nKS5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgJCgnI3JlZnVuZERlbGl2ZXJ5VHlwZScpLnZhbCgnMjAnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyNyZWZ1bmRUeXBlMjAnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpbml0UmVmdW5kUGFnZUxvYWQgPSBmYWxzZTtcbiAgICAgIGdldFJldHVyblBheW1lbnRJbmZvKGRldmljZVR5cGUsIG9yZGVyTnVtYmVyLCBvcmRlckVudHJ5Y29kZSwgb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZSwgcXVhbnRpdHksIHJtYU9wdGlvbiwgb3JpZ2luRGVsaXZlcnlDb2RlLCBkZWxpdmVyeVN0YXR1cywgMjApO1xuICAgIH1cbiAgICAkKCcucmV0dXJuUGF5bWVudFByaWNlJykuZWFjaCgoaW5kZXgsIHJldHVyblByaWNlRWxlKSA9PiB7XG4gICAgICAkKHJldHVyblByaWNlRWxlKS50ZXh0KCcw7JuQJyk7XG4gICAgfSk7XG4gICAgJCgnLmVzdGltYXRlZFJlZnVuZEFtb3VudCcpLnRleHQoJzAnKTtcbiAgfSk7XG59O1xuXG4vLyDrsJjtkojsi5wg67Cw7Iah7IKsIOygleuztCDsobDtmoxcbmNvbnN0IGdldERlbGl2ZXJ5VmVuZG9yTGlzdCA9ICgpID0+IHtcbiAgY29uc3QgdGFyZ2V0RWxlID0gJCgnI2RlbGl2ZXJ5VmVuZG9yQ29kZScpO1xuICBpZiAodGFyZ2V0RWxlLmZpbmQoJ29wdGlvbicpLmxlbmd0aCA9PSAxKSB7XG4gICAgJC5nZXRKU09OKCcvT3JkZXIvRGVsaXZlcnlMaXN0JywgKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywgKGluZGV4LCBkZWxpdmVyeVZlbmRvcikgPT4ge1xuICAgICAgICAgIHRhcmdldEVsZS5hcHBlbmQoYDxvcHRpb24gdmFsdWU9XCIke2RlbGl2ZXJ5VmVuZG9yLmRlbGl2ZXJ5VmVuZG9yQ29kZX1cIj4ke2RlbGl2ZXJ5VmVuZG9yLmRlbGl2ZXJ5VmVuZG9yTmFtZX08L29wdGlvbj5gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkuZmFpbCgocmVxdWVzdCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgIGFsZXJ0KHJlc3BvbnNlT2JqLm1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG59O1xuXG5jb25zdCBjaGVja1dpbmRvd09wZW4gPSAodywgYnRuKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKHcgJiYgdy53aW5kb3cgJiYgdy53aW5kb3cuY2xvc2VkID09IGZhbHNlKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2hlY2tXaW5kb3dPcGVuKHcsIGJ0bik7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJ0bikge1xuICAgICAgICBidG4uc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChidG4pIHtcbiAgICAgIGJ0bi5zdG9wKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHVwZGF0ZVBheW1lbnQgPSAob3JkZXJJZCwgZGV2aWNlVHlwZSkgPT4ge1xuICBjb25zdCB3aWR0aCA9IDY1MDtcbiAgY29uc3QgaGVpZ2h0ID0gNjUwO1xuICBjb25zdCBsZWZ0ID0gMDtcbiAgY29uc3QgdG9wID0gMDtcbiAgbGV0IHBheVdpbmRvdyA9IG51bGw7XG4gIGlmIChkZXZpY2VUeXBlID09ICdkZXNrdG9wJykge1xuICAgIHBheVdpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAncGF5JywgYG1lbnViYXI9bm8sdG9vbGJhcj1ubyxzdGF0dXM9bm8sd2lkdGg9JHt3aWR0aH0saGVpZ2h0PSR7aGVpZ2h0fSx0b29sYmFyPW5vLGxlZnQ9JHtsZWZ0fSx0b3A9JHt0b3B9YCk7XG4gIH1cbiAgb3ZlcmxheUxvYWRlci5zdGFydCgpO1xuICBjb25zdCBjc3JmVG9rZW4gPSAkKCcjdXBkYXRlUGF5bWVudEJ0bicpLmRhdGEoJ2NzcmZ0b2tlbicpO1xuICB1cGRhdGVQYXltZW50QnRuTGFkZGEuc3RhcnQoKTtcbiAgJC5wb3N0KGAvT3JkZXIvJHtvcmRlcklkfS9VcGRhdGVQYXltbmV0P0NTUkZUb2tlbj0ke2NzcmZUb2tlbn1gKVxuICAgIC5kb25lKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgICAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogZGF0YS5wYXltZW50VXJsLCB0aXRsZTogJ1BBWScgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGRhdGEucGF5bWVudFVybDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBheVdpbmRvdykge1xuICAgICAgICAgIHBheVdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59JHtkYXRhLnBheW1lbnRVcmx9YCk7XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNoZWNrV2luZG93T3BlbihwYXlXaW5kb3csIHVwZGF0ZVBheW1lbnRCdG5MYWRkYSk7XG4gICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC5mYWlsKChyZXF1ZXN0KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgaWYgKHJlc3BvbnNlT2JqLmNvZGUgPT0gJ0VSUk9SJykge1xuICAgICAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXlXaW5kb3cpIHtcbiAgICAgICAgcGF5V2luZG93LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSkuYWx3YXlzKCgpID0+IHtcbiAgICAgIG92ZXJsYXlMb2FkZXIuc3RvcCgpO1xuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0RXhjaGFuZ2VEZWxpdmVyeUNvc3QgPSAob3JkZXJOdW1iZXIsIG9yZGVyRW50cnljb2RlLCBvcmRlckNvbnNpZ25tZW50RW50cnljb2RlLCBxdWFudGl0eSwgcm1hT3B0aW9uKSA9PiB7XG4gIGlmICgkLnRyaW0ob3JkZXJFbnRyeWNvZGUpICE9ICcnKSB7XG4gICAgJC5nZXRKU09OKGAvT3JkZXIvJHtvcmRlck51bWJlcn0vRXhjaGFuZ2UvRGVsaXZlcnlDb3N0P29yZGVyRW50cnljb2RlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9yZGVyRW50cnljb2RlKX0mb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZT0ke2VuY29kZVVSSUNvbXBvbmVudChvcmRlckNvbnNpZ25tZW50RW50cnljb2RlKX0mcXVhbnRpdHk9JHtxdWFudGl0eX0mc3dhcE9wdGlvbj0ke3JtYU9wdGlvbn1gLCAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgJCgnI2V4Y2hhbmdlRGVsaXZlcnlDb3N0JykudGV4dChgJHtkYXRhLmRlbGl2ZXJ5Q29zdH1gKTtcbiAgICAgIH1cbiAgICB9KS5mYWlsKChyZXF1ZXN0KSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgYWxlcnQocmVzcG9uc2VPYmoubWVzc2FnZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgJCgnI2V4Y2hhbmdlRGVsaXZlcnlDb3N0JykudGV4dCgnMCcpO1xuICB9XG4gICQoJyNleGNoYW5nZURlbGl2ZXJ5Q29zdCcpLnRleHQoJzAnKTtcbn07XG5cbi8vIOyjvOusuCDrsJjtkogg7Iug7LKt7IucIOuwnOyGoeyjvOyGjCDsnoXroKXtlZjripQg7Y+8IHZhbGlkYXRpb24gcnVsZXNcbmNvbnN0IGN1c3RvbWVyQWRkcmVzc1J1bGVzID0ge1xuICBmaXJzdG5hbWU6IHtcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgcmVxdWlyZWQ6ICfrs7TrgrTripQg67aEIOydtOumhOydhCDsnoXroKXtlbTso7zshLjsmpQuJyxcbiAgICB9LFxuICB9LFxuICBwb3N0YWxDb2RlOiB7XG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIHJlcXVpcmVkOiAn7KO87IaM66W8IOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICB9LFxuICB9LFxuICBzdHJlZXROYW1lOiB7XG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIHJlcXVpcmVkOiAn7KO87IaM66W8IOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICB9LFxuICB9LFxuICBjZWxscGhvbmU6IHtcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBudW1iZXI6IHRydWUsXG4gICAgY2VsbFBob25lTnVtYmVyRm9ybWF0OiB0cnVlLFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICByZXF1aXJlZDogJ+2ctOuMgO2PsCDrsojtmLjrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgbnVtYmVyOiAn7Zy064yA7Y+wIOuyiO2YuOuKlCDsiKvsnpDrp4wg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgIH0sXG4gIH0sXG4gIHBob25lOiB7XG4gICAgbnVtYmVyOiB0cnVlLFxuICAgIHBob25lTnVtYmVyRm9ybWF0OiB0cnVlLFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICBudW1iZXI6ICfsoITtmZQg67KI7Zi464qUIOyIq+yekOunjCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgfSxcbiAgfSxcbn07XG5cbi8vIOyjvOusuCDrsJjtkogg7Iug7LKt7IucIOuwnOyGoSDtg53rsLDsgqwg7J6F66Cl7ZWY64qUIO2PvCB2YWxpZGF0aW9uIHJ1bGVzXG5jb25zdCBkZWxpdmVyeVJ1bGVzID0ge1xuICBkZWxpdmVyeVZlbmRvckNvZGU6IHtcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgcmVxdWlyZWQ6ICftg53rsLDsgqzrpbwg7ISg7YOd7ZW0IOyjvOyEuOyalC4nLFxuICAgIH0sXG4gIH0sXG4gIGRlbGl2ZXJ5RGF0ZToge1xuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGxlc3NUaGFuVG9kYXk6IHRydWUsXG4gICAgZ3JlYXRlclRoYW5UYXJnZXREYXRlOiBtb21lbnQoKS5hZGQoLTEsICdNJyksXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIHJlcXVpcmVkOiAn67Cc7Iah7J287J2EIOyEoO2Dne2VtCDso7zshLjsmpQuJyxcbiAgICAgIGdyZWF0ZXJUaGFuVGFyZ2V0RGF0ZTogJ+2VnOuLrCDrgrTsnZgg64Kg7Kec66eMIOyeheugpSDqsIDriqXtlanri4jri6QuJyxcbiAgICB9LFxuICB9LFxuICBjdXN0RGVsaXZlcnlObzoge1xuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIG51bWJlcjogdHJ1ZSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgcmVxdWlyZWQ6ICfshqHsnqXrsojtmLjrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgbnVtYmVyOiAn7Iah7J6l67KI7Zi464qUIOyIq+yekOunjCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgfSxcbiAgfSxcbn07XG5cbi8vIOqwgOyDgeqzhOyijOuhnCDqsrDsoJzrkJwg7KO866y4IOy3qOyGjC/rsJjtkogg7IucIO2ZmOu2iOqzhOyijCDsnoXroKUgZm9ybSB2YWxpZGF0aW9uIHJ1bGVzXG5jb25zdCByZXR1cm5BY2NvdW50UnVscyA9IHtcbiAgYmFua0NvZGU6IHtcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgcmVxdWlyZWQ6ICftmZjrtogg67Cb7J2EIOqzhOyijOydmCDsnYDtlonsnYQg7ISg7YOd7ZW0IOyjvOyEuOyalC4nLFxuICAgIH0sXG4gIH0sXG4gIGFjY291bnROdW1iZXI6IHtcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBudW1iZXI6IHRydWUsXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIHJlcXVpcmVkOiAn7ZmY67aIIOuwm+ydhCDqs4TsoozrsojtmLjrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgbnVtYmVyOiAn7ZmY67aIIOuwm+ydhCDqs4TsoozrsojtmLjripQg7Iir7J6Q66eMIOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICB9LFxuICB9LFxufTtcblxuY29uc3QgYWRkUnVsZXMgPSAocnVsZXNPYmopID0+IHtcbiAgZm9yIChjb25zdCBpdGVtIGluIHJ1bGVzT2JqKSB7XG4gICAgJChgIyR7aXRlbX1gKS5ydWxlcygnYWRkJywgcnVsZXNPYmpbaXRlbV0pO1xuICB9XG59O1xuXG5jb25zdCByZW1vdmVSdWxlcyA9IChydWxlc09iaikgPT4ge1xuICBmb3IgKGNvbnN0IGl0ZW0gaW4gcnVsZXNPYmopIHtcbiAgICAkKGAjJHtpdGVtfWApLnJ1bGVzKCdyZW1vdmUnKTtcbiAgfVxufVxuXG5jb25zdCBoYXNWaXJ0dWFsQWNjb3VudFBheW1lbnQgPSAoKSA9PiB7XG4gIGxldCBoYXNWaXJ0dWFsQWNjb3VudFBheW1lbnRSZXR1cm5WYWwgPSBmYWxzZTtcbiAgaWYgKCQoJy5jYW5jZWxQYXltZW50UHJpY2UnKS5sZW5ndGggPiAwKSB7XG4gICAgJCgnLmNhbmNlbFBheW1lbnRQcmljZScpLmVhY2goKGluZGV4LCBwYXltZW50TWV0aG9kRWxlKSA9PiB7XG4gICAgICBpZiAoJChwYXltZW50TWV0aG9kRWxlKS5oYXNDbGFzcygnVklSVFVBTEFDQ09VTlQnKSB8fCAkKHBheW1lbnRNZXRob2RFbGUpLmhhc0NsYXNzKCdFU0NST1cnKSkge1xuICAgICAgICBoYXNWaXJ0dWFsQWNjb3VudFBheW1lbnRSZXR1cm5WYWwgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoJCgnLnJldHVyblBheW1lbnRQcmljZScpLmxlbmd0aCA+IDApIHtcbiAgICAkKCcucmV0dXJuUGF5bWVudFByaWNlJykuZWFjaCgoaW5kZXgsIHBheW1lbnRNZXRob2RFbGUpID0+IHtcbiAgICAgIGlmICgkKHBheW1lbnRNZXRob2RFbGUpLmhhc0NsYXNzKCdWSVJUVUFMQUNDT1VOVCcpIHx8ICQocGF5bWVudE1ldGhvZEVsZSkuaGFzQ2xhc3MoJ0VTQ1JPVycpKSB7XG4gICAgICAgIGhhc1ZpcnR1YWxBY2NvdW50UGF5bWVudFJldHVyblZhbCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaGFzVmlydHVhbEFjY291bnRQYXltZW50UmV0dXJuVmFsO1xufVxuXG5jb25zdCBoYXNQYXltZW50U3RhdHVzV2FpdGluZyA9ICgpID0+IHtcbiAgbGV0IGhhc1BheW1lbnRTdGF0dXNXYWl0aW5nUmV0dXJuVmFsID0gZmFsc2U7XG4gIGlmICgkKCcuY2FuY2VsUGF5bWVudFByaWNlJykubGVuZ3RoID4gMCkge1xuICAgICQoJy5jYW5jZWxQYXltZW50UHJpY2UnKS5lYWNoKChpbmRleCwgcGF5bWVudE1ldGhvZEVsZSkgPT4ge1xuICAgICAgaWYgKCQocGF5bWVudE1ldGhvZEVsZSkuZGF0YSgncGF5bWVudFN0YXR1cycpID09ICdXQUlUSU5HJykge1xuICAgICAgICBoYXNQYXltZW50U3RhdHVzV2FpdGluZ1JldHVyblZhbCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmICgkKCcucmV0dXJuUGF5bWVudFByaWNlJykubGVuZ3RoID4gMCkge1xuICAgICQoJy5yZXR1cm5QYXltZW50UHJpY2UnKS5lYWNoKChpbmRleCwgcGF5bWVudE1ldGhvZEVsZSkgPT4ge1xuICAgICAgaWYgKCQocGF5bWVudE1ldGhvZEVsZSkuZGF0YSgncGF5bWVudFN0YXR1cycpID09ICdXQUlUSU5HJykge1xuICAgICAgICBoYXNQYXltZW50U3RhdHVzV2FpdGluZ1JldHVyblZhbCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaGFzUGF5bWVudFN0YXR1c1dhaXRpbmdSZXR1cm5WYWw7XG59XG5cbmV4cG9ydCB7XG4gIHNob3dTaXplTGlzdCxcbiAgZ2V0U2l6ZUxpc3QsXG4gIHNpemVPcHRpb25EYXRhTWFwLFxuICBnZXRDYW5jZWxQYXltZW50SW5mbyxcbiAgZ2V0RGVsaXZlcnlWZW5kb3JMaXN0LFxuICBnZXRSZXR1cm5QYXltZW50SW5mbyxcbiAgdXBkYXRlUGF5bWVudCxcbiAgZ2V0RXhjaGFuZ2VEZWxpdmVyeUNvc3QsXG4gIGFkZFJ1bGVzLFxuICByZW1vdmVSdWxlcyxcbiAgY3VzdG9tZXJBZGRyZXNzUnVsZXMsXG4gIGRlbGl2ZXJ5UnVsZXMsXG4gIHJldHVybkFjY291bnRSdWxzLFxuICBjaGVja1dpbmRvd09wZW4sXG4gIGNoZWNrb3V0Rm9ybVN1Ym1pdEJ0bkxhZGRhLFxuICBoYXNWaXJ0dWFsQWNjb3VudFBheW1lbnQsXG4gIGhhc1BheW1lbnRTdGF0dXNXYWl0aW5nLFxufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2hvd1NpemVMaXN0LFxuICBnZXRTaXplTGlzdCxcbiAgc2l6ZU9wdGlvbkRhdGFNYXAsXG4gIGdldENhbmNlbFBheW1lbnRJbmZvLFxuICBnZXREZWxpdmVyeVZlbmRvckxpc3QsXG4gIGdldFJldHVyblBheW1lbnRJbmZvLFxuICB1cGRhdGVQYXltZW50LFxuICBnZXRFeGNoYW5nZURlbGl2ZXJ5Q29zdCxcbiAgYWRkUnVsZXMsXG4gIHJlbW92ZVJ1bGVzLFxuICBjdXN0b21lckFkZHJlc3NSdWxlcyxcbiAgZGVsaXZlcnlSdWxlcyxcbiAgcmV0dXJuQWNjb3VudFJ1bHMsXG4gIGNoZWNrV2luZG93T3BlbixcbiAgY2hlY2tvdXRGb3JtU3VibWl0QnRuTGFkZGEsXG4gIGhhc1ZpcnR1YWxBY2NvdW50UGF5bWVudCxcbiAgaGFzUGF5bWVudFN0YXR1c1dhaXRpbmcsXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL09yZGVyLmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBSEE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQTVCQTtBQUNBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBaEJBO0FBQ0E7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFGQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSEE7QUFQQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/***/ (function(module, exports) {

eval("var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvY2hhcmVuYy9jaGFyZW5jLmpzP2JiNGYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNoYXJlbmMgPSB7XG4gIC8vIFVURi04IGVuY29kaW5nXG4gIHV0Zjg6IHtcbiAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIHN0cmluZ1RvQnl0ZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIGNoYXJlbmMuYmluLnN0cmluZ1RvQnl0ZXModW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpKTtcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBzdHJpbmdcbiAgICBieXRlc1RvU3RyaW5nOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoY2hhcmVuYy5iaW4uYnl0ZXNUb1N0cmluZyhieXRlcykpKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQmluYXJ5IGVuY29kaW5nXG4gIGJpbjoge1xuICAgIC8vIENvbnZlcnQgYSBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgc3RyaW5nVG9CeXRlczogZnVuY3Rpb24oc3RyKSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKylcbiAgICAgICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIHN0cmluZ1xuICAgIGJ5dGVzVG9TdHJpbmc6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciBzdHIgPSBbXSwgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgc3RyLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSkpO1xuICAgICAgcmV0dXJuIHN0ci5qb2luKCcnKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2hhcmVuYztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2NoYXJlbmMvY2hhcmVuYy5qc1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar gaRefund = function gaRefund(orderNumber, productList) {\n  ga('require', 'ec');\n  for (var i = 0; i < productList.length; i++) {\n    ga('ec:addProduct', productList[i]);\n  }\n  ga('ec:setAction', 'refund', {\n    'id': orderNumber // Transaction ID is required for partial refund.\n  });\n  ga('send', 'event', 'Ecommerce', 'Refund', 'refund');\n\n  ga('totalTracker.require', 'ec');\n  for (var _i = 0; _i < productList.length; _i++) {\n    ga('totalTracker.ec:addProduct', productList[_i]);\n  }\n  ga('totalTracker.ec:setAction', 'refund', {\n    'id': orderNumber // Transaction ID is required for partial refund.\n  });\n  ga('totalTracker.send', 'event', 'Ecommerce', 'Refund', 'refund');\n};\n\nvar gaRemoveFromCart = function gaRemoveFromCart(entryNum, cartItems) {\n  var cartItemsObj = Object.assign({}, cartItems);\n\n  ga('require', 'ec');\n  ga('ec:addProduct', cartItemsObj[entryNum]);\n  ga('ec:setAction', 'remove');\n  ga('send', 'event', '쇼핑행동', '장바구니제거');\n\n  ga('totalTracker.require', 'ec');\n  ga('totalTracker.ec:addProduct', cartItemsObj[entryNum]);\n  ga('totalTracker.ec:setAction', 'remove');\n  ga('totalTracker.send', 'event', '쇼핑행동', '장바구니제거');\n};\n\nvar gaAddToCart = function gaAddToCart(gaProductObject) {\n  ga('require', 'ec');\n  ga('ec:addProduct', gaProductObject);\n  ga('ec:setAction', 'add');\n  ga('send', 'event', '쇼핑행동', '장바구니추가');\n\n  ga('totalTracker.require', 'ec');\n  ga('totalTracker.ec:addProduct', gaProductObject);\n  ga('totalTracker.ec:setAction', 'add');\n  ga('totalTracker.send', 'event', '쇼핑행동', '장바구니추가');\n};\n\nexports.default = {\n  gaRefund: gaRefund, gaRemoveFromCart: gaRemoveFromCart, gaAddToCart: gaAddToCart\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9nYS5qcz85YWEyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdhUmVmdW5kID0gKG9yZGVyTnVtYmVyLCBwcm9kdWN0TGlzdCkgPT4ge1xuICBnYSgncmVxdWlyZScsICdlYycpO1xuICBmb3IobGV0IGk9MDtpPHByb2R1Y3RMaXN0Lmxlbmd0aDtpKyspIHtcbiAgICBnYSgnZWM6YWRkUHJvZHVjdCcsIHByb2R1Y3RMaXN0W2ldKTtcbiAgfVxuICBnYSgnZWM6c2V0QWN0aW9uJywgJ3JlZnVuZCcsIHtcbiAgICAnaWQnOiBvcmRlck51bWJlciwgICAgICAgLy8gVHJhbnNhY3Rpb24gSUQgaXMgcmVxdWlyZWQgZm9yIHBhcnRpYWwgcmVmdW5kLlxuICB9KTtcbiAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnRWNvbW1lcmNlJywgJ1JlZnVuZCcsICdyZWZ1bmQnKTtcblxuICBnYSgndG90YWxUcmFja2VyLnJlcXVpcmUnLCAnZWMnKTtcbiAgZm9yKGxldCBpPTA7aTxwcm9kdWN0TGlzdC5sZW5ndGg7aSsrKSB7XG4gICAgZ2EoJ3RvdGFsVHJhY2tlci5lYzphZGRQcm9kdWN0JywgcHJvZHVjdExpc3RbaV0pO1xuICB9XG4gIGdhKCd0b3RhbFRyYWNrZXIuZWM6c2V0QWN0aW9uJywgJ3JlZnVuZCcsIHtcbiAgICAnaWQnOiBvcmRlck51bWJlciwgICAgICAgLy8gVHJhbnNhY3Rpb24gSUQgaXMgcmVxdWlyZWQgZm9yIHBhcnRpYWwgcmVmdW5kLlxuICB9KTtcbiAgZ2EoJ3RvdGFsVHJhY2tlci5zZW5kJywgJ2V2ZW50JywgJ0Vjb21tZXJjZScsICdSZWZ1bmQnLCAncmVmdW5kJyk7XG59O1xuXG5jb25zdCBnYVJlbW92ZUZyb21DYXJ0ID0gKGVudHJ5TnVtLCBjYXJ0SXRlbXMpID0+IHtcbiAgY29uc3QgY2FydEl0ZW1zT2JqICA9IE9iamVjdC5hc3NpZ24oe30sIGNhcnRJdGVtcyk7XG5cbiAgZ2EoJ3JlcXVpcmUnLCAnZWMnKTtcbiAgZ2EoJ2VjOmFkZFByb2R1Y3QnLCBjYXJ0SXRlbXNPYmpbZW50cnlOdW1dKTtcbiAgZ2EoJ2VjOnNldEFjdGlvbicsICdyZW1vdmUnKTtcbiAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAn7Ie87ZWR7ZaJ64+ZJywgJ+yepeuwlOq1rOuLiOygnOqxsCcpO1xuXG4gIGdhKCd0b3RhbFRyYWNrZXIucmVxdWlyZScsICdlYycpO1xuICBnYSgndG90YWxUcmFja2VyLmVjOmFkZFByb2R1Y3QnLCBjYXJ0SXRlbXNPYmpbZW50cnlOdW1dKTtcbiAgZ2EoJ3RvdGFsVHJhY2tlci5lYzpzZXRBY3Rpb24nLCAncmVtb3ZlJyk7XG4gIGdhKCd0b3RhbFRyYWNrZXIuc2VuZCcsICdldmVudCcsICfsh7ztlZHtlonrj5knLCAn7J6l67CU6rWs64uI7KCc6rGwJyk7XG59O1xuXG5jb25zdCBnYUFkZFRvQ2FydCA9IChnYVByb2R1Y3RPYmplY3QpID0+IHtcbiAgZ2EoJ3JlcXVpcmUnLCAnZWMnKTtcbiAgZ2EoJ2VjOmFkZFByb2R1Y3QnLCBnYVByb2R1Y3RPYmplY3QpO1xuICBnYSgnZWM6c2V0QWN0aW9uJywgJ2FkZCcpO1xuICBnYSgnc2VuZCcsICdldmVudCcsICfsh7ztlZHtlonrj5knLCAn7J6l67CU6rWs64uI7LaU6rCAJyk7XG5cbiAgZ2EoJ3RvdGFsVHJhY2tlci5yZXF1aXJlJywgJ2VjJyk7XG4gIGdhKCd0b3RhbFRyYWNrZXIuZWM6YWRkUHJvZHVjdCcsIGdhUHJvZHVjdE9iamVjdCk7XG4gIGdhKCd0b3RhbFRyYWNrZXIuZWM6c2V0QWN0aW9uJywgJ2FkZCcpO1xuICBnYSgndG90YWxUcmFja2VyLnNlbmQnLCAnZXZlbnQnLCAn7Ie87ZWR7ZaJ64+ZJywgJ+yepeuwlOq1rOuLiOy2lOqwgCcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnYVJlZnVuZCwgZ2FSZW1vdmVGcm9tQ2FydCwgZ2FBZGRUb0NhcnQsXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9jb21tb24vZ2EuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar pixelAddToCart = function pixelAddToCart() {\n  fbq('track', 'AddToCart');\n};\n\nexports.default = {\n  pixelAddToCart: pixelAddToCart\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9mYi5qcz8wMzM4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBpeGVsQWRkVG9DYXJ0ID0gKCkgPT4ge1xuICBmYnEoJ3RyYWNrJywgJ0FkZFRvQ2FydCcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBwaXhlbEFkZFRvQ2FydCxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9mYi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */,
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _zipcodePopup = __webpack_require__(145);\n\nvar _zipcodePopup2 = _interopRequireDefault(_zipcodePopup);\n\nvar _zipcodeResultItem = __webpack_require__(146);\n\nvar _zipcodeResultItem2 = _interopRequireDefault(_zipcodeResultItem);\n\n__webpack_require__(147);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default();\n\nvar searchZipCodePopupTemplate = Handlebars.compile(_zipcodePopup2.default);\nvar zipcodeResultItemTemplate = Handlebars.compile(_zipcodeResultItem2.default);\n\nvar popupManager = null;\nvar popup = null;\nvar isPage = false;\nvar callback = {};\n\nvar getZipcodePopup = function getZipcodePopup() {\n  if (popup) {\n    return popup;\n  }\n\n  popup = $(searchZipCodePopupTemplate({ CSRFName: 'CSRFToken', CSRFToken: $('[name=CSRFToken]').val() }));\n\n  // 팝업 닫기\n  $('.close-btn', popup).on('click', function () {\n    if (isPage) {\n      $pt.navigation.pop();\n    } else {\n      hide();\n      callback.cancel();\n    }\n  });\n\n  // 뒤로가기\n  $('.back-btn', popup).on('click', function () {\n    $('#searchZipcodeForm').show();\n    $('#searchZipcodeDetailForm').hide();\n    $('#searchZipcodeDetailForm')[0].reset();\n    $('.back-btn', popup).hide();\n  });\n\n  // 우편번호 검색\n  $('#searchZipcodeForm', popup).submit(function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n\n    if ($('[name=txtSearch]', $this).val().trim() == '') {\n      alert('도로명 또는 지번을 입력해주세요.');\n      $('[name=txtSearch]', $this).focus();\n\n      return;\n    }\n\n    $('.search-top .desc', $this).hide();\n    $('.no-result', $this).hide();\n    $('.list-wrap ul', $this).empty();\n    $('.list-wrap', $this).show();\n    $('body').addClass('gray-bg');\n\n    overlayLoader.start();\n    $.ajax({\n      url: '/Address/Search/Detail',\n      method: 'POST',\n      data: $this.serialize(),\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data && data.length > 0) {\n          $.each(data, function (index, element) {\n            if (index == 0) {\n              $('.list-wrap ul', $this).html(zipcodeResultItemTemplate(element));\n            } else {\n              $('.list-wrap ul', $this).append(zipcodeResultItemTemplate(element));\n            }\n          });\n        } else {\n          $('.no-result', $this).show();\n        }\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      }\n    });\n  });\n\n  // 검색 결과 선택\n  $('.list-wrap ul', popup).on('click', 'a', function (e) {\n    e.preventDefault();\n\n    var post = $(e.currentTarget).data('post');\n    var address = $(e.currentTarget).data('address');\n    var addressRoad = $(e.currentTarget).data('addressRoad');\n\n    $('#searchZipcodeDetailForm [name=postcode]').val(post);\n    $('#searchZipcodeDetailForm [name=address]').val(address);\n\n    $('#searchZipcodeDetailForm .zipcode').text(post);\n    $('#searchZipcodeDetailForm .address').text(address);\n    $('#searchZipcodeDetailForm .address-road').text(addressRoad);\n\n    $('#searchZipcodeForm').hide();\n    $('#searchZipcodeDetailForm').show();\n    $('.back-btn', popup).show();\n\n    $('[name=detailAddress]', popup).focus();\n  });\n\n  // 상세 주소 입력\n  $('#searchZipcodeDetailForm', popup).submit(function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n\n    if ($('[name=detailAddress]', $this).val().trim() == '') {\n      alert('상세주소를 입력해주세요.');\n      $('[name=detailAddress]', $this).focus();\n\n      return;\n    }\n\n    var postcode = $('[name=postcode]', $this).val();\n    var address = $('[name=address]', $this).val();\n    var detailAddress = $('[name=detailAddress]', $this).val();\n\n    callback.success(postcode, address, detailAddress, (address + ' ' + detailAddress).replace(/\\s+/g, ' '));\n\n    hide();\n  });\n\n  $('body').append(popup);\n\n  return popup;\n};\n\nvar initForm = function initForm() {\n  $('.back-btn', popup).hide();\n  $('.list-wrap', popup).hide();\n  $('.search-top .desc', popup).show();\n  $('#searchZipcodeForm [name=txtSearch]').val('');\n  $('#searchZipcodeForm').show();\n  $('#searchZipcodeDetailForm')[0].reset();\n  $('#searchZipcodeDetailForm').hide();\n};\n\n/**\n * 새창에서 뜰 경우(앱) pm값이 null로 들어옴\n * @param cb - success(postcode, address, detailAddress, fullAddress)\n *           - cancel()\n */\nvar show = function show(pm, cb) {\n  var _isPage = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  isPage = _isPage;\n  popupManager = pm;\n  if (isPage) {\n    getZipcodePopup();\n  } else {\n    popupManager.push(getZipcodePopup(), { bodyClassName: 'white-bg' });\n  }\n\n  $('[name=txtSearch]', popup).focus();\n\n  callback = Object.assign({}, { success: function success() {}, cancel: function cancel() {} }, cb);\n\n  initForm();\n};\n\nvar hide = function hide() {\n  if (!isPage) {\n    popupManager.pop();\n  }\n};\n\nexports.default = { show: show };\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL21vYmlsZS9jb21wb25lbnQvemlwY29kZS5qcz9kYTEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPdmVybGF5TG9hZGVyIGZyb20gJy4uLy4uL2NvbW1vbi9PdmVybGF5TG9hZGVyJztcbmltcG9ydCBzZWFyY2haaXBDb2RlUG9wdXAgZnJvbSAnLi96aXBjb2RlLXBvcHVwLmhicyc7XG5pbXBvcnQgemlwY29kZVJlc3VsdEl0ZW0gZnJvbSAnLi96aXBjb2RlLXJlc3VsdC1pdGVtLmhicyc7XG5pbXBvcnQgJy4vemlwY29kZS5zY3NzJztcbmNvbnN0IG92ZXJsYXlMb2FkZXIgPSBuZXcgT3ZlcmxheUxvYWRlcigpO1xuXG5jb25zdCBzZWFyY2haaXBDb2RlUG9wdXBUZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShzZWFyY2haaXBDb2RlUG9wdXApO1xuY29uc3QgemlwY29kZVJlc3VsdEl0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZSh6aXBjb2RlUmVzdWx0SXRlbSk7XG5cbmxldCBwb3B1cE1hbmFnZXIgPSBudWxsO1xubGV0IHBvcHVwID0gbnVsbDtcbmxldCBpc1BhZ2UgPSBmYWxzZTtcbmxldCBjYWxsYmFjayA9IHt9O1xuXG5jb25zdCBnZXRaaXBjb2RlUG9wdXAgPSAoKSA9PiB7XG4gIGlmIChwb3B1cCkge1xuICAgIHJldHVybiBwb3B1cDtcbiAgfVxuXG4gIHBvcHVwID0gJChzZWFyY2haaXBDb2RlUG9wdXBUZW1wbGF0ZSh7IENTUkZOYW1lOiAnQ1NSRlRva2VuJywgQ1NSRlRva2VuOiAkKCdbbmFtZT1DU1JGVG9rZW5dJykudmFsKCkgfSkpO1xuXG4gIC8vIO2MneyXhSDri6vquLBcbiAgJCgnLmNsb3NlLWJ0bicsIHBvcHVwKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGlzUGFnZSkge1xuICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGUoKTtcbiAgICAgIGNhbGxiYWNrLmNhbmNlbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g65Kk66Gc6rCA6riwXG4gICQoJy5iYWNrLWJ0bicsIHBvcHVwKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnI3NlYXJjaFppcGNvZGVGb3JtJykuc2hvdygpO1xuICAgICQoJyNzZWFyY2haaXBjb2RlRGV0YWlsRm9ybScpLmhpZGUoKTtcbiAgICAkKCcjc2VhcmNoWmlwY29kZURldGFpbEZvcm0nKVswXS5yZXNldCgpO1xuICAgICQoJy5iYWNrLWJ0bicsIHBvcHVwKS5oaWRlKCk7XG4gIH0pO1xuXG4gIC8vIOyasO2OuOuyiO2YuCDqsoDsg4lcbiAgJCgnI3NlYXJjaFppcGNvZGVGb3JtJywgcG9wdXApLnN1Ym1pdCgoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgaWYgKCQoJ1tuYW1lPXR4dFNlYXJjaF0nLCAkdGhpcykudmFsKCkudHJpbSgpID09ICcnKSB7XG4gICAgICBhbGVydCgn64+E66Gc66qFIOuYkOuKlCDsp4DrsojsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xuICAgICAgJCgnW25hbWU9dHh0U2VhcmNoXScsICR0aGlzKS5mb2N1cygpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJCgnLnNlYXJjaC10b3AgLmRlc2MnLCAkdGhpcykuaGlkZSgpO1xuICAgICQoJy5uby1yZXN1bHQnLCAkdGhpcykuaGlkZSgpO1xuICAgICQoJy5saXN0LXdyYXAgdWwnLCAkdGhpcykuZW1wdHkoKTtcbiAgICAkKCcubGlzdC13cmFwJywgJHRoaXMpLnNob3coKTtcbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2dyYXktYmcnKTtcblxuICAgIG92ZXJsYXlMb2FkZXIuc3RhcnQoKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL0FkZHJlc3MvU2VhcmNoL0RldGFpbCcsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGRhdGE6ICR0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICQuZWFjaChkYXRhLCAoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAgICQoJy5saXN0LXdyYXAgdWwnLCAkdGhpcykuaHRtbCh6aXBjb2RlUmVzdWx0SXRlbVRlbXBsYXRlKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJy5saXN0LXdyYXAgdWwnLCAkdGhpcykuYXBwZW5kKHppcGNvZGVSZXN1bHRJdGVtVGVtcGxhdGUoZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5uby1yZXN1bHQnLCAkdGhpcykuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgb3ZlcmxheUxvYWRlci5zdG9wKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICAvLyDqsoDsg4kg6rKw6rO8IOyEoO2DnVxuICAkKCcubGlzdC13cmFwIHVsJywgcG9wdXApLm9uKCdjbGljaycsICdhJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBwb3N0ID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3Bvc3QnKTtcbiAgICBjb25zdCBhZGRyZXNzID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2FkZHJlc3MnKTtcbiAgICBjb25zdCBhZGRyZXNzUm9hZCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdhZGRyZXNzUm9hZCcpO1xuXG4gICAgJCgnI3NlYXJjaFppcGNvZGVEZXRhaWxGb3JtIFtuYW1lPXBvc3Rjb2RlXScpLnZhbChwb3N0KTtcbiAgICAkKCcjc2VhcmNoWmlwY29kZURldGFpbEZvcm0gW25hbWU9YWRkcmVzc10nKS52YWwoYWRkcmVzcyk7XG5cbiAgICAkKCcjc2VhcmNoWmlwY29kZURldGFpbEZvcm0gLnppcGNvZGUnKS50ZXh0KHBvc3QpO1xuICAgICQoJyNzZWFyY2haaXBjb2RlRGV0YWlsRm9ybSAuYWRkcmVzcycpLnRleHQoYWRkcmVzcyk7XG4gICAgJCgnI3NlYXJjaFppcGNvZGVEZXRhaWxGb3JtIC5hZGRyZXNzLXJvYWQnKS50ZXh0KGFkZHJlc3NSb2FkKTtcblxuICAgICQoJyNzZWFyY2haaXBjb2RlRm9ybScpLmhpZGUoKTtcbiAgICAkKCcjc2VhcmNoWmlwY29kZURldGFpbEZvcm0nKS5zaG93KCk7XG4gICAgJCgnLmJhY2stYnRuJywgcG9wdXApLnNob3coKTtcblxuICAgICQoJ1tuYW1lPWRldGFpbEFkZHJlc3NdJywgcG9wdXApLmZvY3VzKCk7XG4gIH0pO1xuXG4gIC8vIOyDgeyEuCDso7zshowg7J6F66ClXG4gICQoJyNzZWFyY2haaXBjb2RlRGV0YWlsRm9ybScsIHBvcHVwKS5zdWJtaXQoKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgIGlmICgkKCdbbmFtZT1kZXRhaWxBZGRyZXNzXScsICR0aGlzKS52YWwoKS50cmltKCkgPT0gJycpIHtcbiAgICAgIGFsZXJ0KCfsg4HshLjso7zshozrpbwg7J6F66Cl7ZW07KO87IS47JqULicpO1xuICAgICAgJCgnW25hbWU9ZGV0YWlsQWRkcmVzc10nLCAkdGhpcykuZm9jdXMoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvc3Rjb2RlID0gJCgnW25hbWU9cG9zdGNvZGVdJywgJHRoaXMpLnZhbCgpO1xuICAgIGNvbnN0IGFkZHJlc3MgPSAkKCdbbmFtZT1hZGRyZXNzXScsICR0aGlzKS52YWwoKTtcbiAgICBjb25zdCBkZXRhaWxBZGRyZXNzID0gJCgnW25hbWU9ZGV0YWlsQWRkcmVzc10nLCAkdGhpcykudmFsKCk7XG5cbiAgICBjYWxsYmFjay5zdWNjZXNzKFxuICAgICAgcG9zdGNvZGUsXG4gICAgICBhZGRyZXNzLFxuICAgICAgZGV0YWlsQWRkcmVzcyxcbiAgICAgIGAke2FkZHJlc3N9ICR7ZGV0YWlsQWRkcmVzc31gLnJlcGxhY2UoL1xccysvZywgJyAnKSxcbiAgICApO1xuXG4gICAgaGlkZSgpO1xuICB9KTtcblxuICAkKCdib2R5JykuYXBwZW5kKHBvcHVwKTtcblxuICByZXR1cm4gcG9wdXA7XG59O1xuXG5jb25zdCBpbml0Rm9ybSA9ICgpID0+IHtcbiAgJCgnLmJhY2stYnRuJywgcG9wdXApLmhpZGUoKTtcbiAgJCgnLmxpc3Qtd3JhcCcsIHBvcHVwKS5oaWRlKCk7XG4gICQoJy5zZWFyY2gtdG9wIC5kZXNjJywgcG9wdXApLnNob3coKTtcbiAgJCgnI3NlYXJjaFppcGNvZGVGb3JtIFtuYW1lPXR4dFNlYXJjaF0nKS52YWwoJycpO1xuICAkKCcjc2VhcmNoWmlwY29kZUZvcm0nKS5zaG93KCk7XG4gICQoJyNzZWFyY2haaXBjb2RlRGV0YWlsRm9ybScpWzBdLnJlc2V0KCk7XG4gICQoJyNzZWFyY2haaXBjb2RlRGV0YWlsRm9ybScpLmhpZGUoKTtcbn07XG5cbi8qKlxuICog7IOI7LC97JeQ7IScIOucsCDqsr3smrAo7JWxKSBwbeqwkuydtCBudWxs66GcIOuTpOyWtOyYtFxuICogQHBhcmFtIGNiIC0gc3VjY2Vzcyhwb3N0Y29kZSwgYWRkcmVzcywgZGV0YWlsQWRkcmVzcywgZnVsbEFkZHJlc3MpXG4gKiAgICAgICAgICAgLSBjYW5jZWwoKVxuICovXG5jb25zdCBzaG93ID0gKHBtLCBjYiwgX2lzUGFnZSA9IGZhbHNlKSA9PiB7XG4gIGlzUGFnZSA9IF9pc1BhZ2U7XG4gIHBvcHVwTWFuYWdlciA9IHBtO1xuICBpZiAoaXNQYWdlKSB7XG4gICAgZ2V0WmlwY29kZVBvcHVwKCk7XG4gIH0gZWxzZSB7XG4gICAgcG9wdXBNYW5hZ2VyLnB1c2goZ2V0WmlwY29kZVBvcHVwKCksIHsgYm9keUNsYXNzTmFtZTogJ3doaXRlLWJnJyB9KTtcbiAgfVxuXG4gICQoJ1tuYW1lPXR4dFNlYXJjaF0nLCBwb3B1cCkuZm9jdXMoKTtcblxuICBjYWxsYmFjayA9IE9iamVjdC5hc3NpZ24oe30sIHsgc3VjY2VzczogKCkgPT4ge30sIGNhbmNlbDogKCkgPT4ge30gfSwgY2IpO1xuXG4gIGluaXRGb3JtKCk7XG59O1xuXG5jb25zdCBoaWRlID0gKCkgPT4ge1xuICBpZiAoIWlzUGFnZSkge1xuICAgIHBvcHVwTWFuYWdlci5wb3AoKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBzaG93IH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9jb21wb25lbnQvemlwY29kZS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32\n");

/***/ }),
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(function () {\n  // CSRF Token 갱신\n  setTimeout(function () {\n    location.reload();\n  }, 29 * 60 * 1000);\n});\n\n// 일반 쿠폰 다운로드\nvar downloadCoupon = function downloadCoupon(couponId) {\n  var parameters = {\n    voucherId: couponId,\n    CSRFToken: $('[name=csrf-token]').attr('content')\n  };\n\n  $.ajax({\n    url: '/Coupon/Download',\n    type: 'POST',\n    data: parameters,\n    success: function success() {\n      alert('쿠폰 다운로드에 성공하였습니다.');\n    },\n    complete: function complete() {},\n    error: function error(xhr) {\n      alert(xhr.responseJSON.message);\n    }\n  });\n};\n\nwindow.downloadCoupon = downloadCoupon;\n\n// 모바일 구매 이력 없는 사람 대상 쿠폰 다운로드\nvar downloadNoBuyCoupon = function downloadNoBuyCoupon(couponId) {\n  var parameters = {\n    voucherId: couponId,\n    CSRFToken: $('[name=csrf-token]').attr('content')\n  };\n\n  $.ajax({\n    url: '/Coupon/DownloadNoBuy',\n    type: 'POST',\n    data: parameters,\n    success: function success() {\n      alert('쿠폰 다운로드에 성공하였습니다.');\n    },\n    complete: function complete() {},\n    error: function error(xhr) {\n      alert(xhr.responseJSON.message);\n    }\n  });\n};\n\nwindow.downloadNoBuyCoupon = downloadNoBuyCoupon;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9nbG9iYWwuanM/MmE1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgLy8gQ1NSRiBUb2tlbiDqsLHsi6BcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gIH0sIDI5ICogNjAgKiAxMDAwKTtcbn0pO1xuXG4vLyDsnbzrsJgg7L+g7Y+wIOuLpOyatOuhnOuTnFxuY29uc3QgZG93bmxvYWRDb3Vwb24gPSAoY291cG9uSWQpID0+IHtcbiAgY29uc3QgcGFyYW1ldGVycyA9IHtcbiAgICB2b3VjaGVySWQ6IGNvdXBvbklkLFxuICAgIENTUkZUb2tlbjogJCgnW25hbWU9Y3NyZi10b2tlbl0nKS5hdHRyKCdjb250ZW50JyksXG4gIH07XG5cbiAgJC5hamF4KHtcbiAgICB1cmw6ICcvQ291cG9uL0Rvd25sb2FkJyxcbiAgICB0eXBlOiAnUE9TVCcsXG4gICAgZGF0YTogcGFyYW1ldGVycyxcbiAgICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgICBhbGVydCgn7L+g7Y+wIOuLpOyatOuhnOuTnOyXkCDshLHqs7XtlZjsmIDsirXri4jri6QuJyk7XG4gICAgfSxcbiAgICBjb21wbGV0ZTogKCkgPT4ge1xuXG4gICAgfSxcbiAgICBlcnJvcjogKHhocikgPT4ge1xuICAgICAgYWxlcnQoeGhyLnJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICB9LFxuICB9KTtcbn07XG5cbndpbmRvdy5kb3dubG9hZENvdXBvbiA9IGRvd25sb2FkQ291cG9uO1xuXG4vLyDrqqjrsJTsnbwg6rWs66ekIOydtOugpSDsl4bripQg7IKs656MIOuMgOyDgSDsv6Dtj7Ag64uk7Jq066Gc65OcXG5jb25zdCBkb3dubG9hZE5vQnV5Q291cG9uID0gKGNvdXBvbklkKSA9PiB7XG4gIGNvbnN0IHBhcmFtZXRlcnMgPSB7XG4gICAgdm91Y2hlcklkOiBjb3Vwb25JZCxcbiAgICBDU1JGVG9rZW46ICQoJ1tuYW1lPWNzcmYtdG9rZW5dJykuYXR0cignY29udGVudCcpLFxuICB9O1xuXG4gICQuYWpheCh7XG4gICAgdXJsOiAnL0NvdXBvbi9Eb3dubG9hZE5vQnV5JyxcbiAgICB0eXBlOiAnUE9TVCcsXG4gICAgZGF0YTogcGFyYW1ldGVycyxcbiAgICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgICBhbGVydCgn7L+g7Y+wIOuLpOyatOuhnOuTnOyXkCDshLHqs7XtlZjsmIDsirXri4jri6QuJyk7XG4gICAgfSxcbiAgICBjb21wbGV0ZTogKCkgPT4ge1xuXG4gICAgfSxcbiAgICBlcnJvcjogKHhocikgPT4ge1xuICAgICAgYWxlcnQoeGhyLnJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICB9LFxuICB9KTtcbn07XG5cbndpbmRvdy5kb3dubG9hZE5vQnV5Q291cG9uID0gZG93bmxvYWROb0J1eUNvdXBvbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL2dsb2JhbC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///36\n");

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _clipboard = __webpack_require__(38);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(function () {\n  // 공유하기\n  $('#kolon-wrap').on('click', '.btn-share', function (e) {\n    var shareUrl = location.href;\n    var targetData = $(e.currentTarget).attr('data-share-url');\n    if (targetData !== undefined && targetData !== '') {\n      shareUrl = window.location.origin + targetData;\n    }\n    if ($pt.isApp()) {\n      $pt.msg.call('share', 'url', { url: shareUrl });\n    } else {\n      $('.layer-share').attr('data-share-url', shareUrl).show();\n      $('#overlay_t, .close').one('click', function () {\n        $('.layer-share').removeAttr('data-share-url').hide();\n      });\n    }\n  });\n\n  $('.share-facebook').click(function (e) {\n    e.preventDefault();\n    var shareUrl = window.location.href;\n    var targetData = $(e.currentTarget).parents('.layer-share').attr('data-share-url');\n    if (targetData !== undefined && targetData != '') {\n      shareUrl = targetData;\n    }\n    window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(shareUrl), 'popupPhoneAuth', 'width=420, height=576, resizable=0, scrollbars=no, status=no, titlebar=no, toolbar=no, left=435, top=250');\n  });\n\n  var clipboard = new _clipboard2.default('.share-url', {\n    text: function text(trigger) {\n      var targetData = $(trigger).parents('.layer-share').attr('data-share-url');\n      if (targetData !== undefined && targetData != '') {\n        return targetData;\n      }\n      return window.location.href;\n    }\n  });\n  clipboard.on('success', function (e) {\n    alert('공유할 주소가 복사되었습니다.');\n    e.clearSelection();\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9TaGFyZUJ0bi5qcz84OWJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDbGlwYm9hcmQgZnJvbSAnY2xpcGJvYXJkJztcblxuJCgoKSA9PiB7XG4gIC8vIOqzteycoO2VmOq4sFxuICAkKCcja29sb24td3JhcCcpLm9uKCdjbGljaycsICcuYnRuLXNoYXJlJywgKGUpID0+IHtcbiAgICBsZXQgc2hhcmVVcmwgPSBsb2NhdGlvbi5ocmVmO1xuICAgIGNvbnN0IHRhcmdldERhdGEgPSAkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1zaGFyZS11cmwnKTtcbiAgICBpZiAodGFyZ2V0RGF0YSAhPT0gdW5kZWZpbmVkICYmIHRhcmdldERhdGEgIT09ICcnKSB7XG4gICAgICBzaGFyZVVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB0YXJnZXREYXRhO1xuICAgIH1cbiAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICRwdC5tc2cuY2FsbCgnc2hhcmUnLCAndXJsJywgeyB1cmw6IHNoYXJlVXJsIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcubGF5ZXItc2hhcmUnKS5hdHRyKCdkYXRhLXNoYXJlLXVybCcsIHNoYXJlVXJsKS5zaG93KCk7XG4gICAgICAkKCcjb3ZlcmxheV90LCAuY2xvc2UnKS5vbmUoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAkKCcubGF5ZXItc2hhcmUnKS5yZW1vdmVBdHRyKCdkYXRhLXNoYXJlLXVybCcpLmhpZGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLnNoYXJlLWZhY2Vib29rJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IHNoYXJlVXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgY29uc3QgdGFyZ2V0RGF0YSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcubGF5ZXItc2hhcmUnKS5hdHRyKCdkYXRhLXNoYXJlLXVybCcpO1xuICAgIGlmICh0YXJnZXREYXRhICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0RGF0YSAhPSAnJykge1xuICAgICAgc2hhcmVVcmwgPSB0YXJnZXREYXRhO1xuICAgIH1cbiAgICB3aW5kb3cub3BlbihgaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwP3U9JHtlbmNvZGVVUklDb21wb25lbnQoc2hhcmVVcmwpfWAsICdwb3B1cFBob25lQXV0aCcsICd3aWR0aD00MjAsIGhlaWdodD01NzYsIHJlc2l6YWJsZT0wLCBzY3JvbGxiYXJzPW5vLCBzdGF0dXM9bm8sIHRpdGxlYmFyPW5vLCB0b29sYmFyPW5vLCBsZWZ0PTQzNSwgdG9wPTI1MCcpO1xuICB9KTtcblxuICBjb25zdCBjbGlwYm9hcmQgPSAgbmV3IENsaXBib2FyZCgnLnNoYXJlLXVybCcsIHtcbiAgICB0ZXh0OiBmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9ICQodHJpZ2dlcikucGFyZW50cygnLmxheWVyLXNoYXJlJykuYXR0cignZGF0YS1zaGFyZS11cmwnKTtcbiAgICAgIGlmICh0YXJnZXREYXRhICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0RGF0YSAhPSAnJykge1xuICAgICAgICByZXR1cm4gdGFyZ2V0RGF0YTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICB9LFxuICB9KTtcbiAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkge1xuICAgIGFsZXJ0KCfqs7XsnKDtlaAg7KO87IaM6rCAIOuzteyCrOuQmOyXiOyKteuLiOuLpC4nKTtcbiAgICBlLmNsZWFyU2VsZWN0aW9uKCk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9TaGFyZUJ0bi5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n");

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(39), __webpack_require__(41), __webpack_require__(42)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2xpYi9jbGlwYm9hcmQuanM/OTM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnLi9jbGlwYm9hcmQtYWN0aW9uJywgJ3RpbnktZW1pdHRlcicsICdnb29kLWxpc3RlbmVyJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJy4vY2xpcGJvYXJkLWFjdGlvbicpLCByZXF1aXJlKCd0aW55LWVtaXR0ZXInKSwgcmVxdWlyZSgnZ29vZC1saXN0ZW5lcicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QsIGdsb2JhbC5jbGlwYm9hcmRBY3Rpb24sIGdsb2JhbC50aW55RW1pdHRlciwgZ2xvYmFsLmdvb2RMaXN0ZW5lcik7XG4gICAgICAgIGdsb2JhbC5jbGlwYm9hcmQgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAobW9kdWxlLCBfY2xpcGJvYXJkQWN0aW9uLCBfdGlueUVtaXR0ZXIsIF9nb29kTGlzdGVuZXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX2NsaXBib2FyZEFjdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGlwYm9hcmRBY3Rpb24pO1xuXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XG5cbiAgICB2YXIgX2dvb2RMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kTGlzdGVuZXIpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgICAgIGlmICghc2VsZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICB2YXIgQ2xpcGJvYXJkID0gZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENsaXBib2FyZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENsaXBib2FyZCkpLmNhbGwodGhpcykpO1xuXG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbkNsaWNrKHRyaWdnZXIpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgaWYgYXR0cmlidXRlcyB3b3VsZCBiZSByZXNvbHZlZCB1c2luZyBpbnRlcm5hbCBzZXR0ZXIgZnVuY3Rpb25zXG4gICAgICAgICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZCwgW3tcbiAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHR5cGVvZiBvcHRpb25zLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuYWN0aW9uIDogdGhpcy5kZWZhdWx0QWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdHlwZW9mIG9wdGlvbnMudGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy50YXJnZXQgOiB0aGlzLmRlZmF1bHRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBfdHlwZW9mKG9wdGlvbnMuY29udGFpbmVyKSA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2xpc3RlbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0ZW5DbGljayh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyID0gKDAsIF9nb29kTGlzdGVuZXIyLmRlZmF1bHQpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWdnZXIgPSBlLmRlbGVnYXRlVGFyZ2V0IHx8IGUuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBuZXcgX2NsaXBib2FyZEFjdGlvbjIuZGVmYXVsdCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQodHJpZ2dlciksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCh0cmlnZ2VyKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlcjogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0QWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ2FjdGlvbicsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0VGFyZ2V0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGFyZ2V0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVmYXVsdFRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRUZXh0KHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnaXNTdXBwb3J0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFsnY29weScsICdjdXQnXTtcblxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25zID0gdHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycgPyBbYWN0aW9uXSA6IGFjdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgc3VwcG9ydCA9ICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkO1xuXG4gICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydCA9IHN1cHBvcnQgJiYgISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBwb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIENsaXBib2FyZDtcbiAgICB9KF90aW55RW1pdHRlcjIuZGVmYXVsdCk7XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWZmaXhcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVWYWx1ZShzdWZmaXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdkYXRhLWNsaXBib2FyZC0nICsgc3VmZml4O1xuXG4gICAgICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmQ7XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9jbGlwYm9hcmQvbGliL2NsaXBib2FyZC5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(40)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2xpYi9jbGlwYm9hcmQtYWN0aW9uLmpzP2E2M2UiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnbW9kdWxlJywgJ3NlbGVjdCddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCdzZWxlY3QnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcbiAgICAgICAgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICB2YXIgQ2xpcGJvYXJkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XG4gICAgICAgICAgICBrZXk6ICdyZXNvbHZlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0U2VsZWN0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGYWtlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0RmFrZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlbW92ZUZha2UoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjaykgfHwgdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgem9vbWluZyBvbiBpT1NcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGJveCBtb2RlbFxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyID0gJzAnO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IHRvIHRoZSBzYW1lIHBvc2l0aW9uIHZlcnRpY2FsbHlcbiAgICAgICAgICAgICAgICB2YXIgeVBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSB5UG9zaXRpb24gKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncmVtb3ZlRmFrZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRmFrZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdFRhcmdldCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0VGFyZ2V0KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlUZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NvcHlUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5VGV4dCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3VsdChzdWNjZWVkZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoYW5kbGVSZXN1bHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChzdWNjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdChzdWNjZWVkZWQgPyAnc3VjY2VzcycgOiAnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJTZWxlY3Rpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhY3Rpb24nLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2NvcHknO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbiAhPT0gJ2NvcHknICYmIHRoaXMuX2FjdGlvbiAhPT0gJ2N1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YXJnZXQnLFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRhcmdldCkpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2NvcHknICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XG4gICAgfSgpO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9jbGlwYm9hcmQvbGliL2NsaXBib2FyZC1hY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///39\n");

/***/ }),
/* 40 */
/***/ (function(module, exports) {

eval("function select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvc2VsZWN0L3NyYy9zZWxlY3QuanM/N2U1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xuICAgIHZhciBzZWxlY3RlZFRleHQ7XG5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICB2YXIgaXNSZWFkT25seSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCFpc1JlYWRPbmx5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvc2VsZWN0L3NyYy9zZWxlY3QuanNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n");

/***/ }),
/* 41 */
/***/ (function(module, exports) {

eval("function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvdGlueS1lbWl0dGVyL2luZGV4LmpzPzgyYmIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gRSAoKSB7XG4gIC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxufVxuXG5FLnByb3RvdHlwZSA9IHtcbiAgb246IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcblxuICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcbiAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgIGN0eDogY3R4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiBsaXN0ZW5lciAoKSB7XG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XG4gICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFja1xuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIGxpc3RlbmVyLCBjdHgpO1xuICB9LFxuXG4gIGVtaXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGV2dEFyciA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcblxuICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuICAgIHZhciBldnRzID0gZVtuYW1lXTtcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxuICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXG4gICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxuXG4gICAgKGxpdmVFdmVudHMubGVuZ3RoKVxuICAgICAgPyBlW25hbWVdID0gbGl2ZUV2ZW50c1xuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41\n");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

eval("var is = __webpack_require__(43);\nvar delegate = __webpack_require__(44);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvbGlzdGVuLmpzP2Y4ZTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzID0gcmVxdWlyZSgnLi9pcycpO1xudmFyIGRlbGVnYXRlID0gcmVxdWlyZSgnZGVsZWdhdGUnKTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWxsIHBhcmFtcyBhbmQgY2FsbHMgdGhlIHJpZ2h0XG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0YXJnZXQgJiYgIXR5cGUgJiYgIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZycpO1xuICAgIH1cblxuICAgIGlmICghaXMuZm4oY2FsbGJhY2spKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmIChpcy5ub2RlKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLm5vZGVMaXN0KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBIVE1MIGVsZW1lbnRcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlKG5vZGUsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuTm9kZUxpc3Qobm9kZUxpc3QsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIHNlbGVjdG9yXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5TZWxlY3RvcihzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9nb29kLWxpc3RlbmVyL3NyYy9saXN0ZW4uanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///42\n");

/***/ }),
/* 43 */
/***/ (function(module, exports) {

eval("/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZ29vZC1saXN0ZW5lci9zcmMvaXMuanM/NWQzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgSFRNTCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5ub2RlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgICAgICYmIHZhbHVlLm5vZGVUeXBlID09PSAxO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZUxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmICh0eXBlID09PSAnW29iamVjdCBOb2RlTGlzdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXScpXG4gICAgICAgICYmICgnbGVuZ3RoJyBpbiB2YWx1ZSlcbiAgICAgICAgJiYgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCBleHBvcnRzLm5vZGUodmFsdWVbMF0pKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLnN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLmZuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9nb29kLWxpc3RlbmVyL3NyYy9pcy5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43\n");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

eval("var closest = __webpack_require__(45);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2RlbGVnYXRlLmpzPzQyYjQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNsb3Nlc3QgPSByZXF1aXJlKCcuL2Nsb3Nlc3QnKTtcblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gICAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRmluZHMgY2xvc2VzdCBtYXRjaCBhbmQgaW52b2tlcyBjYWxsYmFjay5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5kZWxlZ2F0ZVRhcmdldCA9IGNsb3Nlc3QoZS50YXJnZXQsIHNlbGVjdG9yKTtcblxuICAgICAgICBpZiAoZS5kZWxlZ2F0ZVRhcmdldCkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWxlZ2F0ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2RlbGVnYXRlL3NyYy9kZWxlZ2F0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///44\n");

/***/ }),
/* 45 */
/***/ (function(module, exports) {

eval("var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZGVsZWdhdGUvc3JjL2Nsb3Nlc3QuanM/NWQ3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRE9DVU1FTlRfTk9ERV9UWVBFID0gOTtcblxuLyoqXG4gKiBBIHBvbHlmaWxsIGZvciBFbGVtZW50Lm1hdGNoZXMoKVxuICovXG5pZiAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmICFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgdmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5tYXRjaGVzID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwYXJlbnQgdGhhdCBtYXRjaGVzIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IERPQ1VNRU5UX05PREVfVFlQRSkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQubWF0Y2hlcyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9kZWxlZ2F0ZS9zcmMvY2xvc2VzdC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45\n");

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function( factory ) {\n\tif ( true ) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(13)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n/*\n * Translated default messages for the jQuery validation plugin.\n * Locale: KO (Korean; 한국어)\n */\n$.extend( $.validator.messages, {\n\trequired: \"필수 항목입니다.\",\n\tremote: \"항목을 수정하세요.\",\n\temail: \"유효하지 않은 E-Mail주소입니다.\",\n\turl: \"유효하지 않은 URL입니다.\",\n\tdate: \"올바른 날짜를 입력하세요.\",\n\tdateISO: \"올바른 날짜(ISO)를 입력하세요.\",\n\tnumber: \"유효한 숫자가 아닙니다.\",\n\tdigits: \"숫자만 입력 가능합니다.\",\n\tcreditcard: \"신용카드 번호가 바르지 않습니다.\",\n\tequalTo: \"같은 값을 다시 입력하세요.\",\n\textension: \"올바른 확장자가 아닙니다.\",\n\tmaxlength: $.validator.format( \"{0}자를 넘을 수 없습니다. \" ),\n\tminlength: $.validator.format( \"{0}자 이상 입력하세요.\" ),\n\trangelength: $.validator.format( \"문자 길이가 {0} 에서 {1} 사이의 값을 입력하세요.\" ),\n\trange: $.validator.format( \"{0} 에서 {1} 사이의 값을 입력하세요.\" ),\n\tmax: $.validator.format( \"{0} 이하의 값을 입력하세요.\" ),\n\tmin: $.validator.format( \"{0} 이상의 값을 입력하세요.\" )\n} );\nreturn $;\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvanF1ZXJ5LXZhbGlkYXRpb24vZGlzdC9sb2NhbGl6YXRpb24vbWVzc2FnZXNfa28uanM/M2MzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdFx0ZGVmaW5lKCBbXCJqcXVlcnlcIiwgXCIuLi9qcXVlcnkudmFsaWRhdGVcIl0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlKCBcImpxdWVyeVwiICkgKTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufShmdW5jdGlvbiggJCApIHtcblxuLypcbiAqIFRyYW5zbGF0ZWQgZGVmYXVsdCBtZXNzYWdlcyBmb3IgdGhlIGpRdWVyeSB2YWxpZGF0aW9uIHBsdWdpbi5cbiAqIExvY2FsZTogS08gKEtvcmVhbjsg7ZWc6rWt7Ja0KVxuICovXG4kLmV4dGVuZCggJC52YWxpZGF0b3IubWVzc2FnZXMsIHtcblx0cmVxdWlyZWQ6IFwi7ZWE7IiYIO2VreuqqeyeheuLiOuLpC5cIixcblx0cmVtb3RlOiBcIu2VreuqqeydhCDsiJjsoJXtlZjshLjsmpQuXCIsXG5cdGVtYWlsOiBcIuycoO2aqO2VmOyngCDslYrsnYAgRS1NYWls7KO87IaM7J6F64uI64ukLlwiLFxuXHR1cmw6IFwi7Jyg7Zqo7ZWY7KeAIOyViuydgCBVUkzsnoXri4jri6QuXCIsXG5cdGRhdGU6IFwi7Jis67CU66W4IOuCoOynnOulvCDsnoXroKXtlZjshLjsmpQuXCIsXG5cdGRhdGVJU086IFwi7Jis67CU66W4IOuCoOynnChJU08p66W8IOyeheugpe2VmOyEuOyalC5cIixcblx0bnVtYmVyOiBcIuycoO2aqO2VnCDsiKvsnpDqsIAg7JWE64uZ64uI64ukLlwiLFxuXHRkaWdpdHM6IFwi7Iir7J6Q66eMIOyeheugpSDqsIDriqXtlanri4jri6QuXCIsXG5cdGNyZWRpdGNhcmQ6IFwi7Iug7Jqp7Lm065OcIOuyiO2YuOqwgCDrsJTrpbTsp4Ag7JWK7Iq164uI64ukLlwiLFxuXHRlcXVhbFRvOiBcIuqwmeydgCDqsJLsnYQg64uk7IucIOyeheugpe2VmOyEuOyalC5cIixcblx0ZXh0ZW5zaW9uOiBcIuyYrOuwlOuluCDtmZXsnqXsnpDqsIAg7JWE64uZ64uI64ukLlwiLFxuXHRtYXhsZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdCggXCJ7MH3snpDrpbwg64SY7J2EIOyImCDsl4bsirXri4jri6QuIFwiICksXG5cdG1pbmxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KCBcInswfeyekCDsnbTsg4Eg7J6F66Cl7ZWY7IS47JqULlwiICksXG5cdHJhbmdlbGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoIFwi66y47J6QIOq4uOydtOqwgCB7MH0g7JeQ7IScIHsxfSDsgqzsnbTsnZgg6rCS7J2EIOyeheugpe2VmOyEuOyalC5cIiApLFxuXHRyYW5nZTogJC52YWxpZGF0b3IuZm9ybWF0KCBcInswfSDsl5DshJwgezF9IOyCrOydtOydmCDqsJLsnYQg7J6F66Cl7ZWY7IS47JqULlwiICksXG5cdG1heDogJC52YWxpZGF0b3IuZm9ybWF0KCBcInswfSDsnbTtlZjsnZgg6rCS7J2EIOyeheugpe2VmOyEuOyalC5cIiApLFxuXHRtaW46ICQudmFsaWRhdG9yLmZvcm1hdCggXCJ7MH0g7J207IOB7J2YIOqwkuydhCDsnoXroKXtlZjshLjsmpQuXCIgKVxufSApO1xucmV0dXJuICQ7XG59KSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvanF1ZXJ5LXZhbGlkYXRpb24vZGlzdC9sb2NhbGl6YXRpb24vbWVzc2FnZXNfa28uanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46\n");

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"Ladda\"] = __webpack_require__(48);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvbGFkZGEvZGlzdC9sYWRkYS5taW4uanM/NzU5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxhZGRhXCJdID0gcmVxdWlyZShcIi0hLi9sYWRkYS5taW4uanNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvZXhwb3NlLWxvYWRlcj9MYWRkYSEvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9sYWRkYS9kaXN0L2xhZGRhLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47\n");

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(307);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4uLy4uL25vZGVfbW9kdWxlcy9sYWRkYS9kaXN0L2xhZGRhLm1pbi5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgdmVuZG9yP2U4NGQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygyKSkoMzA3KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBkZWxlZ2F0ZWQgLi4vLi4vbm9kZV9tb2R1bGVzL2xhZGRhL2Rpc3QvbGFkZGEubWluLmpzIGZyb20gZGxsLXJlZmVyZW5jZSB2ZW5kb3Jcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48\n");

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(2))(303);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4uLy4uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvd2lkZ2V0LmpzIGZyb20gZGxsLXJlZmVyZW5jZSB2ZW5kb3I/NTdmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKSgzMDMpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGRlbGVnYXRlZCAuLi8uLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldC5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgdmVuZG9yXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///49\n");

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};/*! jQuery UI - v1.12.1 - 2016-09-14\n* http://jqueryui.com\n* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js\n* Copyright jQuery Foundation and other contributors; Licensed MIT */(function(factory){if(true){// AMD. Register as an anonymous module.\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}else{// Browser globals\nfactory(jQuery);}})(function($){$.ui=$.ui||{};var version=$.ui.version=\"1.12.1\";/*!\n * jQuery UI Widget 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\nvar widgetUuid=0;var widgetSlice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{// Only trigger remove when necessary to save time\nevents=$._data(elem,\"events\");if(events&&events.remove){$(elem).triggerHandler(\"remove\");}// Http://bugs.jquery.com/ticket/8235\n}catch(e){}}orig(elems);};}($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype;// ProxiedPrototype allows the provided prototype to remain unmodified\n// so that it can be used as a mixin for multiple widgets (#8876)\nvar proxiedPrototype={};var namespace=name.split(\".\")[0];name=name.split(\".\")[1];var fullName=namespace+\"-\"+name;if(!prototype){prototype=base;base=$.Widget;}if($.isArray(prototype)){prototype=$.extend.apply(null,[{}].concat(prototype));}// Create selector for plugin\n$.expr[\":\"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){// Allow instantiation without \"new\" keyword\nif(!this._createWidget){return new constructor(options,element);}// Allow instantiation without initializing for simple inheritance\n// must use \"new\" keyword (the code above always passes args)\nif(arguments.length){this._createWidget(options,element);}};// Extend with the existing constructor to carry over any static properties\n$.extend(constructor,existingConstructor,{version:prototype.version,// Copy the object used to create the prototype in case we need to\n// redefine the widget later\n_proto:$.extend({},prototype),// Track widgets that inherit from this widget in case this widget is\n// redefined after a widget inherits from it\n_childConstructors:[]});basePrototype=new base();// We need to make the options hash a property directly on the new instance\n// otherwise we'll modify the options hash on the prototype that we're\n// inheriting from\nbasePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}proxiedPrototype[prop]=function(){function _super(){return base.prototype[prop].apply(this,arguments);}function _superApply(args){return base.prototype[prop].apply(this,args);}return function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};}();});constructor.prototype=$.widget.extend(basePrototype,{// TODO: remove support for widgetEventPrefix\n// always use the name + a colon as the prefix, e.g., draggable:start\n// don't prefix for widgets that aren't DOM-based\nwidgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});// If this widget is being redefined then we need to find all widgets that\n// are inheriting from it and redefine all of them so that they inherit from\n// the new version of this widget. We're essentially trying to replace one\n// level in the prototype chain.\nif(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;// Redefine the child widget using the same prototype that was\n// originally used, but inherit from the new version of the base\n$.widget(childPrototype.namespace+\".\"+childPrototype.widgetName,constructor,child._proto);});// Remove the list of existing child constructors from the old constructor\n// so the old child constructors can be garbage collected\ndelete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){// Clone objects\nif($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):// Don't extend strings, arrays, etc. with objects\n$.widget.extend({},value);// Copy everything else by reference\n}else{target[key]=value;}}}}return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options===\"string\";var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall){// If this is an empty collection, we need to have the instance method\n// return undefined instead of the jQuery instance\nif(!this.length&&options===\"instance\"){returnValue=undefined;}else{this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options===\"instance\"){returnValue=instance;return false;}if(!instance){return $.error(\"cannot call methods on \"+name+\" prior to initialization; \"+\"attempted to call method '\"+options+\"'\");}if(!$.isFunction(instance[options])||options.charAt(0)===\"_\"){return $.error(\"no such method '\"+options+\"' for \"+name+\" widget instance\");}methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}}else{// Allow multiple hashes to be passed on init\nif(args.length){options=$.widget.extend.apply(null,[options].concat(args));}this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}return returnValue;};};$.Widget=function()/* options, element */{};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{classes:{},disabled:false,// Callbacks\ncreate:null},_createWidget:function _createWidget(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace=\".\"+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function remove(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?// Element within the document\nelement.ownerDocument:// Element is window or document\nelement.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled);}this._trigger(\"create\",null,this._getCreateEventData());this._init();},_getCreateOptions:function _getCreateOptions(){return{};},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function destroy(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key);});// We can probably remove the unbind calls in 2.0\n// all event bindings should go through this._on()\nthis.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr(\"aria-disabled\");// Clean up events and states\nthis.bindings.off(this.eventNamespace);},_destroy:$.noop,widget:function widget(){return this.element;},option:function option(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0){// Don't return a reference to the internal hash\nreturn $.widget.extend({},this.options);}if(typeof key===\"string\"){// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\noptions={};parts=key.split(\".\");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}options[key]=value;}}this._setOptions(options);return this;},_setOptions:function _setOptions(options){var key;for(key in options){this._setOption(key,options[key]);}return this;},_setOption:function _setOption(key,value){if(key===\"classes\"){this._setOptionClasses(value);}this.options[key]=value;if(key===\"disabled\"){this._setOptionDisabled(value);}return this;},_setOptionClasses:function _setOptionClasses(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||!currentElements.length){continue;}// We are doing this to create a new jQuery object because the _removeClass() call\n// on the next line is going to destroy the reference to the current elements being\n// tracked. We need to save a copy of this collection so that we can add the new classes\n// below.\nelements=$(currentElements.get());this._removeClass(currentElements,classKey);// We don't use _addClass() here, because that uses this.options.classes\n// for generating the string of classes. We want to use the value passed in from\n// _setOption(), this is the new value of the classes option which was passed to\n// _setOption(). We pass this value directly to _classes().\nelements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}));}},_setOptionDisabled:function _setOptionDisabled(value){this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,!!value);// If the widget is becoming disabled, then nothing is interactive\nif(value){this._removeClass(this.hoverable,null,\"ui-state-hover\");this._removeClass(this.focusable,null,\"ui-state-focus\");}},enable:function enable(){return this._setOptions({disabled:false});},disable:function disable(){return this._setOptions({disabled:true});},_classes:function _classes(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add){current=$($.unique(current.get().concat(options.element.get())));}else{current=$(current.not(options.element).get());}that.classesElementLookup[classes[i]]=current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]]){full.push(options.classes[classes[i]]);}}}this._on(options.element,{\"remove\":\"_untrackClassesElement\"});if(options.keys){processClassString(options.keys.match(/\\S+/g)||[],true);}if(options.extra){processClassString(options.extra.match(/\\S+/g)||[]);}return full.join(\" \");},_untrackClassesElement:function _untrackClassesElement(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1){that.classesElementLookup[key]=$(value.not(event.target).get());}});},_removeClass:function _removeClass(element,keys,extra){return this._toggleClass(element,keys,extra,false);},_addClass:function _addClass(element,keys,extra){return this._toggleClass(element,keys,extra,true);},_toggleClass:function _toggleClass(element,keys,extra,add){add=typeof add===\"boolean\"?add:extra;var shift=typeof element===\"string\"||element===null,options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),add);return this;},_on:function _on(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;// No suppressDisabledCheck flag, shuffle arguments\nif(typeof suppressDisabledCheck!==\"boolean\"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}// No element argument, shuffle and use this.element\nif(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}$.each(handlers,function(event,handler){function handlerProxy(){// Allow widgets to customize the disabled handling\n// - disabled as an array instead of boolean\n// - disabled class as method for disabling individual parts\nif(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass(\"ui-state-disabled\"))){return;}return(typeof handler===\"string\"?instance[handler]:handler).apply(instance,arguments);}// Copy the guid so direct unbinding works\nif(typeof handler!==\"string\"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}var match=event.match(/^([\\w:-]*)\\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector){delegateElement.on(eventName,selector,handlerProxy);}else{element.on(eventName,handlerProxy);}});},_off:function _off(element,eventName){eventName=(eventName||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace;element.off(eventName).off(eventName);// Clear the stack to avoid memory leaks (#10056)\nthis.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function _delay(handler,delay){function handlerProxy(){return(typeof handler===\"string\"?instance[handler]:handler).apply(instance,arguments);}var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function _hoverable(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function mouseenter(event){this._addClass($(event.currentTarget),null,\"ui-state-hover\");},mouseleave:function mouseleave(event){this._removeClass($(event.currentTarget),null,\"ui-state-hover\");}});},_focusable:function _focusable(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function focusin(event){this._addClass($(event.currentTarget),null,\"ui-state-focus\");},focusout:function focusout(event){this._removeClass($(event.currentTarget),null,\"ui-state-focus\");}});},_trigger:function _trigger(type,event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();// The original event may come from any element\n// so we need to reset the target on the new event\nevent.target=this.element[0];// Copy original event properties over to the new event\norig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:\"fadeIn\",hide:\"fadeOut\"},function(method,defaultEffect){$.Widget.prototype[\"_\"+method]=function(element,options,callback){if(typeof options===\"string\"){options={effect:options};}var hasOptions;var effectName=!options?method:options===true||typeof options===\"number\"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options===\"number\"){options={duration:options};}hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}next();});}};});var widget=$.widget;/*!\n * jQuery UI Position 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/position/\n *///>>label: Position\n//>>group: Core\n//>>description: Positions elements relative to other elements.\n//>>docs: http://api.jqueryui.com/position/\n//>>demos: http://jqueryui.com/position/\n(function(){var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,rposition=/^\\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}function parseCss(element,property){return parseInt($.css(element,property),10)||0;}function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}$.position={scrollbarWidth:function scrollbarWidth(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}var w1,w2,div=$(\"<div \"+\"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>\"+\"<div style='height:100px;width:auto;'></div></div>\"),innerDiv=div.children()[0];$(\"body\").append(div);w1=innerDiv.offsetWidth;div.css(\"overflow\",\"scroll\");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}div.remove();return cachedScrollbarWidth=w1-w2;},getScrollInfo:function getScrollInfo(within){var overflowX=within.isWindow||within.isDocument?\"\":within.element.css(\"overflow-x\"),overflowY=within.isWindow||within.isDocument?\"\":within.element.css(\"overflow-y\"),hasOverflowX=overflowX===\"scroll\"||overflowX===\"auto\"&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY===\"scroll\"||overflowY===\"auto\"&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function getWithinInfo(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}// Make a copy, we don't want to modify arguments\noptions=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||\"flip\").split(\" \"),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){// Force left top to allow flipping\noptions.at=\"left top\";}targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;// Clone to reuse original targetOffset later\nbasePosition=$.extend({},targetOffset);// Force my and at to have valid horizontal and vertical positions\n// if a value is missing or invalid, it will be converted to center\n$.each([\"my\",\"at\"],function(){var pos=(options[this]||\"\").split(\" \"),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat([\"center\"]):rvertical.test(pos[0])?[\"center\"].concat(pos):[\"center\",\"center\"];}pos[0]=rhorizontal.test(pos[0])?pos[0]:\"center\";pos[1]=rvertical.test(pos[1])?pos[1]:\"center\";// Calculate offsets\nhorizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];// Reduce to just the positions without the offsets\noptions[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});// Normalize collision option\nif(collision.length===1){collision[1]=collision[0];}if(options.at[0]===\"right\"){basePosition.left+=targetWidth;}else if(options.at[0]===\"center\"){basePosition.left+=targetWidth/2;}if(options.at[1]===\"bottom\"){basePosition.top+=targetHeight;}else if(options.at[1]===\"center\"){basePosition.top+=targetHeight/2;}atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,\"marginLeft\"),marginTop=parseCss(this,\"marginTop\"),collisionWidth=elemWidth+marginLeft+parseCss(this,\"marginRight\")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,\"marginBottom\")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]===\"right\"){position.left-=elemWidth;}else if(options.my[0]===\"center\"){position.left-=elemWidth/2;}if(options.my[1]===\"bottom\"){position.top-=elemHeight;}else if(options.my[1]===\"center\"){position.top-=elemHeight/2;}position.left+=myOffset[0];position.top+=myOffset[1];collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each([\"left\",\"top\"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){// Adds feedback as second argument to using callback, if present\nusing=function using(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?\"left\":left>0?\"right\":\"center\",vertical:bottom<0?\"top\":top>0?\"bottom\":\"middle\"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal=\"center\";}if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical=\"middle\";}if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important=\"horizontal\";}else{feedback.important=\"vertical\";}options.using.call(this,props,feedback);};}elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function left(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;// Element is wider than within\nif(data.collisionWidth>outerWidth){// Element is initially over the left side of within\nif(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;// Element is initially over right side of within\n}else if(overRight>0&&overLeft<=0){position.left=withinOffset;// Element is initially over both left and right sides of within\n}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}// Too far left -> align with left edge\n}else if(overLeft>0){position.left+=overLeft;// Too far right -> align with right edge\n}else if(overRight>0){position.left-=overRight;// Adjust based on position and margin\n}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function top(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;// Element is taller than within\nif(data.collisionHeight>outerHeight){// Element is initially over the top of within\nif(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;// Element is initially over bottom of within\n}else if(overBottom>0&&overTop<=0){position.top=withinOffset;// Element is initially over both top and bottom of within\n}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}// Too far up -> align with top\n}else if(overTop>0){position.top+=overTop;// Too far down -> align with bottom edge\n}else if(overBottom>0){position.top-=overBottom;// Adjust based on position and margin\n}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function left(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]===\"left\"?-data.elemWidth:data.my[0]===\"right\"?data.elemWidth:0,atOffset=data.at[0]===\"left\"?data.targetWidth:data.at[0]===\"right\"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function top(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]===\"top\",myOffset=top?-data.elemHeight:data.my[1]===\"bottom\"?data.elemHeight:0,atOffset=data.at[1]===\"top\"?data.targetHeight:data.at[1]===\"bottom\"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function left(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function top(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};})();var position=$.ui.position;/*!\n * jQuery UI :data 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: :data Selector\n//>>group: Core\n//>>description: Selects elements which have data stored under the specified key.\n//>>docs: http://api.jqueryui.com/data-selector/\nvar data=$.extend($.expr[\":\"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):// Support: jQuery <1.8\nfunction(elem,i,match){return!!$.data(elem,match[3]);}});/*!\n * jQuery UI Disable Selection 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: disableSelection\n//>>group: Core\n//>>description: Disable selection of text content within the set of matched elements.\n//>>docs: http://api.jqueryui.com/disableSelection/\n// This file is deprecated\nvar disableSelection=$.fn.extend({disableSelection:function(){var eventType=\"onselectstart\"in document.createElement(\"div\")?\"selectstart\":\"mousedown\";return function(){return this.on(eventType+\".ui-disableSelection\",function(event){event.preventDefault();});};}(),enableSelection:function enableSelection(){return this.off(\".ui-disableSelection\");}});/*!\n * jQuery UI Effects 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Effects Core\n//>>group: Effects\n// jscs:disable maximumLineLength\n//>>description: Extends the internal jQuery effects. Includes morphing and easing. Required by all other effects.\n// jscs:enable maximumLineLength\n//>>docs: http://api.jqueryui.com/category/effects-core/\n//>>demos: http://jqueryui.com/effect/\nvar dataSpace=\"ui-effects-\",dataSpaceStyle=\"ui-effects-style\",dataSpaceAnimated=\"ui-effects-animated\",// Create a local jQuery because jQuery Color relies on it and the\n// global may not exist with AMD and a custom build (#10199)\njQuery=$;$.effects={effect:{}};/*!\n * jQuery Color Animations v2.1.2\n * https://github.com/jquery/jquery-color\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * Date: Wed Jan 16 08:47:09 2013 -0600\n */(function(jQuery,undefined){var stepHooks=\"backgroundColor borderBottomColor borderLeftColor borderRightColor \"+\"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\",// Plusequals test for += 100 -= 100\nrplusequals=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,// A set of RE's that can match strings and generate color tuples.\nstringParsers=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function parse(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function parse(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{// This regex ignores A-F because it's compared against an already lowercased string\nre:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function parse(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{// This regex ignores A-F because it's compared against an already lowercased string\nre:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function parse(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,space:\"hsla\",parse:function parse(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],// JQuery.Color( )\ncolor=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:\"byte\"},green:{idx:1,type:\"byte\"},blue:{idx:2,type:\"byte\"}}},hsla:{props:{hue:{idx:0,type:\"degrees\"},saturation:{idx:1,type:\"percent\"},lightness:{idx:2,type:\"percent\"}}}},propTypes={\"byte\":{floor:true,max:255},\"percent\":{max:1},\"degrees\":{mod:360,floor:true}},support=color.support={},// Element for support tests\nsupportElem=jQuery(\"<p>\")[0],// Colors = jQuery.Color.names\ncolors,// Local aliases of functions called often\neach=jQuery.each;// Determine rgba support immediately\nsupportElem.style.cssText=\"background-color:rgba(1,1,1,.5)\";support.rgba=supportElem.style.backgroundColor.indexOf(\"rgba\")>-1;// Define cache name and alpha properties\n// for rgba and hsla spaces\neach(spaces,function(spaceName,space){space.cache=\"_\"+spaceName;space.props.alpha={idx:3,type:\"percent\",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return allowEmpty||!prop.def?null:prop.def;}// ~~ is an short way of doing floor for positive numbers\nvalue=type.floor?~~value:parseFloat(value);// IE will pass in empty strings as value for alpha,\n// which will hit this case\nif(isNaN(value)){return prop.def;}if(type.mod){// We add mod before modding to make sure that negatives values\n// get converted properly: -10 -> 350\nreturn(value+type.mod)%type.mod;}// For now all property types without mod have min and max\nreturn 0>value?0:type.max<value?type.max:value;}function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||\"rgba\";if(values){parsed=inst[spaceName](values);// If this was an rgba parse the assignment might happen twice\n// oh well....\ninst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;// Exit each( stringParsers ) here because we matched\nreturn false;}});// Found a stringParser that handled it\nif(rgba.length){// If this came from a parsed string, force \"transparent\" when alpha is 0\n// chrome, (and maybe others) return \"transparent\" as rgba(0,0,0,0)\nif(rgba.join()===\"0,0,0,0\"){jQuery.extend(rgba,colors.transparent);}return inst;}// Named colors\nreturn colors[string];}color.fn=jQuery.extend(color.prototype,{parse:function parse(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}var inst=this,type=jQuery.type(red),rgba=this._rgba=[];// More than 1 argument specified - assume ( red, green, blue, alpha )\nif(green!==undefined){red=[red,green,blue,alpha];type=\"array\";}if(type===\"string\"){return this.parse(stringParse(red)||colors._default);}if(type===\"array\"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}if(type===\"object\"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){// If the cache doesn't exist, and we know how to convert\nif(!inst[cache]&&space.to){// If the value was null, we don't need to copy it\n// if the key was alpha, we don't need to copy it either\nif(key===\"alpha\"||red[key]==null){return;}inst[cache]=space.to(inst._rgba);}// This is the only case where we allow nulls for ALL properties.\n// call clamp with alwaysAllowEmpty\ninst[cache][prop.idx]=clamp(red[key],prop,true);});// Everything defined but alpha?\nif(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){// Use the default of 1\ninst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}return this;}},is:function is(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=isCache[prop.idx]===localCache[prop.idx];return same;}});}return same;});return same;},_space:function _space(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function transition(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color(\"transparent\"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};// If null, don't override start value\nif(endValue===null){return;}// If null - use end\nif(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function blend(opaque){// If we are already opaque - return ourself\nif(this._rgba[3]===1){return this;}var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function toRgbaString(){var prefix=\"rgba(\",rgba=jQuery.map(this._rgba,function(v,i){return v==null?i>2?1:0:v;});if(rgba[3]===1){rgba.pop();prefix=\"rgb(\";}return prefix+rgba.join()+\")\";},toHslaString:function toHslaString(){var prefix=\"hsla(\",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}// Catch 1 and 2\nif(i&&i<3){v=Math.round(v*100)+\"%\";}return v;});if(hsla[3]===1){hsla.pop();prefix=\"hsl(\";}return prefix+hsla.join()+\")\";},toHexString:function toHexString(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}return\"#\"+jQuery.map(rgba,function(v){// Default to 0 when nulls exist\nv=(v||0).toString(16);return v.length===1?\"0\"+v:v;}).join(\"\");},toString:function toString(){return this._rgba[3]===0?\"transparent\":this.toRgbaString();}});color.fn.parse.prototype=color.fn;// Hsla conversions adapted from:\n// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021\nfunction hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}if(h*2<1){return q;}if(h*3<2){return p+(q-p)*(2/3-h)*6;}return p;}spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=60*(g-b)/diff+360;}else if(g===max){h=60*(b-r)/diff+120;}else{h=60*(r-g)/diff+240;}// Chroma (diff) == 0 means greyscale which, by definition, saturation = 0%\n// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)\nif(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+1/3)*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-1/3)*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;// Makes rgba() and hsla()\ncolor.fn[spaceName]=function(value){// Generate a cache for this space if it doesn't exist\nif(to&&!this[cache]){this[cache]=to(this._rgba);}if(value===undefined){return this[cache].slice();}var ret,type=jQuery.type(value),arr=type===\"array\"||type===\"object\"?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type===\"object\"?key:prop.idx];if(val==null){val=local[prop.idx];}local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};// Makes red() green() blue() alpha() hue() saturation() lightness()\neach(props,function(key,prop){// Alpha is included in more than one space\nif(color.fn[key]){return;}color.fn[key]=function(value){var vtype=jQuery.type(value),fn=key===\"alpha\"?this._hsla?\"hsla\":\"rgba\":spaceName,local=this[fn](),cur=local[prop.idx],match;if(vtype===\"undefined\"){return cur;}if(vtype===\"function\"){value=value.call(this,cur);vtype=jQuery.type(value);}if(value==null&&prop.empty){return this;}if(vtype===\"string\"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]===\"+\"?1:-1);}}local[prop.idx]=value;return this[fn](local);};});});// Add cssHook and .fx.step function for each named hook.\n// accept a space separated string of properties\ncolor.hook=function(hook){var hooks=hook.split(\" \");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function set(elem,value){var parsed,curElem,backgroundColor=\"\";if(value!==\"transparent\"&&(jQuery.type(value)!==\"string\"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook===\"backgroundColor\"?elem.parentNode:elem;while((backgroundColor===\"\"||backgroundColor===\"transparent\")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,\"backgroundColor\");curElem=curElem.parentNode;}catch(e){}}value=value.blend(backgroundColor&&backgroundColor!==\"transparent\"?backgroundColor:\"_default\");}value=value.toRgbaString();}try{elem.style[hook]=value;}catch(e){// Wrapped to prevent IE from throwing errors on \"invalid\" values like\n// 'auto' or 'inherit'\n}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function expand(value){var expanded={};each([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(i,part){expanded[\"border\"+part+\"Color\"]=value;});return expanded;}};// Basic color names only.\n// Usage of any of the other color names requires adding yourself or including\n// jquery.color.svg-names.js.\ncolors=jQuery.Color.names={// 4.1. Basic color keywords\naqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\",// 4.2.3. \"transparent\" color keyword\ntransparent:[null,null,null,0],_default:\"#ffffff\"};})(jQuery);/******************************************************************************//****************************** CLASS ANIMATIONS ******************************//******************************************************************************/(function(){var classAnimationActions=[\"add\",\"remove\",\"toggle\"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each([\"borderLeftStyle\",\"borderRightStyle\",\"borderBottomStyle\",\"borderTopStyle\"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!==\"none\"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]===\"string\"){styles[$.camelCase(key)]=style[key];}}// Support: Opera, IE <9\n}else{for(key in style){if(typeof style[key]===\"string\"){styles[key]=style[key];}}}return styles;}function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}return diff;}// Support: jQuery <1.8\nif(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr(\"class\")||\"\",applyClassChange,allAnimations=o.children?animated.find(\"*\").addBack():animated;// Map the animated objects to store the original styles.\nallAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});// Apply class change\napplyClassChange=function applyClassChange(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+\"Class\"](value[action]);}});};applyClassChange();// Map all animated objects again - calculate new styles and diff\nallAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});// Apply original class\nanimated.attr(\"class\",baseClass);// Map all animated objects again - this time collecting a promise\nallAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function complete(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});// Once all animations have completed:\n$.when.apply($,allAnimations.get()).done(function(){// Set the final class\napplyClassChange();// For each animated element,\n// clear all css properties that were animated\n$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,\"\");});});// This is guarnteed to be there if you use jQuery.speed()\n// it also handles dequeuing the next anim...\no.complete.call(animated[0]);});});};$.fn.extend({addClass:function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};}($.fn.addClass),removeClass:function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};}($.fn.removeClass),toggleClass:function(orig){return function(classNames,force,speed,easing,callback){if(typeof force===\"boolean\"||force===undefined){if(!speed){// Without speed parameter\nreturn orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,force?{add:classNames}:{remove:classNames},speed,easing,callback);}}else{// Without force parameter\nreturn $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};}($.fn.toggleClass),switchClass:function switchClass(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();/******************************************************************************//*********************************** EFFECTS **********************************//******************************************************************************/(function(){if($.expr&&$.expr.filters&&$.expr.filters.animated){$.expr.filters.animated=function(orig){return function(elem){return!!$(elem).data(dataSpaceAnimated)||orig(elem);};}($.expr.filters.animated);}if($.uiBackCompat!==false){$.extend($.effects,{// Saves a set of properties in a data storage\nsave:function save(element,set){var i=0,length=set.length;for(;i<length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},// Restores a set of previously saved properties from a data storage\nrestore:function restore(element,set){var val,i=0,length=set.length;for(;i<length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);element.css(set[i],val);}}},setMode:function setMode(el,mode){if(mode===\"toggle\"){mode=el.is(\":hidden\")?\"show\":\"hide\";}return mode;},// Wraps the element around a wrapper that copies position properties\ncreateWrapper:function createWrapper(element){// If the element is already wrapped, return it\nif(element.parent().is(\".ui-effects-wrapper\")){return element.parent();}// Wrap the element\nvar props={width:element.outerWidth(true),height:element.outerHeight(true),\"float\":element.css(\"float\")},wrapper=$(\"<div></div>\").addClass(\"ui-effects-wrapper\").css({fontSize:\"100%\",background:\"transparent\",border:\"none\",margin:0,padding:0}),// Store the size in case width/height are defined in % - Fixes #5245\nsize={width:element.width(),height:element.height()},active=document.activeElement;// Support: Firefox\n// Firefox incorrectly exposes anonymous content\n// https://bugzilla.mozilla.org/show_bug.cgi?id=561664\ntry{active.id;}catch(e){active=document.body;}element.wrap(wrapper);// Fixes #7595 - Elements lose focus when wrapped.\nif(element[0]===active||$.contains(element[0],active)){$(active).trigger(\"focus\");}// Hotfix for jQuery 1.4 since some change in wrap() seems to actually\n// lose the reference to the wrapped element\nwrapper=element.parent();// Transfer positioning properties to the wrapper\nif(element.css(\"position\")===\"static\"){wrapper.css({position:\"relative\"});element.css({position:\"relative\"});}else{$.extend(props,{position:element.css(\"position\"),zIndex:element.css(\"z-index\")});$.each([\"top\",\"left\",\"bottom\",\"right\"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]=\"auto\";}});element.css({position:\"relative\",top:0,left:0,right:\"auto\",bottom:\"auto\"});}element.css(size);return wrapper.css(props).show();},removeWrapper:function removeWrapper(element){var active=document.activeElement;if(element.parent().is(\".ui-effects-wrapper\")){element.parent().replaceWith(element);// Fixes #7595 - Elements lose focus when wrapped.\nif(element[0]===active||$.contains(element[0],active)){$(active).trigger(\"focus\");}}return element;}});}$.extend($.effects,{version:\"1.12.1\",define:function define(name,mode,effect){if(!effect){effect=mode;mode=\"effect\";}$.effects.effect[name]=effect;$.effects.effect[name].mode=mode;return effect;},scaledDimensions:function scaledDimensions(element,percent,direction){if(percent===0){return{height:0,width:0,outerHeight:0,outerWidth:0};}var x=direction!==\"horizontal\"?(percent||100)/100:1,y=direction!==\"vertical\"?(percent||100)/100:1;return{height:element.height()*y,width:element.width()*x,outerHeight:element.outerHeight()*y,outerWidth:element.outerWidth()*x};},clipToBox:function clipToBox(animation){return{width:animation.clip.right-animation.clip.left,height:animation.clip.bottom-animation.clip.top,left:animation.clip.left,top:animation.clip.top};},// Injects recently queued functions to be first in line (after \"inprogress\")\nunshift:function unshift(element,queueLength,count){var queue=element.queue();if(queueLength>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queueLength,count)));}element.dequeue();},saveStyle:function saveStyle(element){element.data(dataSpaceStyle,element[0].style.cssText);},restoreStyle:function restoreStyle(element){element[0].style.cssText=element.data(dataSpaceStyle)||\"\";element.removeData(dataSpaceStyle);},mode:function mode(element,_mode){var hidden=element.is(\":hidden\");if(_mode===\"toggle\"){_mode=hidden?\"show\":\"hide\";}if(hidden?_mode===\"hide\":_mode===\"show\"){_mode=\"none\";}return _mode;},// Translates a [top,left] array into a baseline value\ngetBaseline:function getBaseline(origin,original){var y,x;switch(origin[0]){case\"top\":y=0;break;case\"middle\":y=0.5;break;case\"bottom\":y=1;break;default:y=origin[0]/original.height;}switch(origin[1]){case\"left\":x=0;break;case\"center\":x=0.5;break;case\"right\":x=1;break;default:x=origin[1]/original.width;}return{x:x,y:y};},// Creates a placeholder element so that the original element can be made absolute\ncreatePlaceholder:function createPlaceholder(element){var placeholder,cssPosition=element.css(\"position\"),position=element.position();// Lock in margins first to account for form elements, which\n// will change margin if you explicitly set height\n// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380\n// Support: Safari\nelement.css({marginTop:element.css(\"marginTop\"),marginBottom:element.css(\"marginBottom\"),marginLeft:element.css(\"marginLeft\"),marginRight:element.css(\"marginRight\")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight());if(/^(static|relative)/.test(cssPosition)){cssPosition=\"absolute\";placeholder=$(\"<\"+element[0].nodeName+\">\").insertAfter(element).css({// Convert inline to inline block to account for inline elements\n// that turn to inline block based on content (like img)\ndisplay:/^(inline|ruby)/.test(element.css(\"display\"))?\"inline-block\":\"block\",visibility:\"hidden\",// Margins need to be set to account for margin collapse\nmarginTop:element.css(\"marginTop\"),marginBottom:element.css(\"marginBottom\"),marginLeft:element.css(\"marginLeft\"),marginRight:element.css(\"marginRight\"),\"float\":element.css(\"float\")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()).addClass(\"ui-effects-placeholder\");element.data(dataSpace+\"placeholder\",placeholder);}element.css({position:cssPosition,left:position.left,top:position.top});return placeholder;},removePlaceholder:function removePlaceholder(element){var dataKey=dataSpace+\"placeholder\",placeholder=element.data(dataKey);if(placeholder){placeholder.remove();element.removeData(dataKey);}},// Removes a placeholder if it exists and restores\n// properties that were modified during placeholder creation\ncleanUp:function cleanUp(element){$.effects.restoreStyle(element);$.effects.removePlaceholder(element);},setTransition:function setTransition(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});// Return an effect options object for the given parameters:\nfunction _normalizeArguments(effect,options,speed,callback){// Allow passing all options as the first parameter\nif($.isPlainObject(effect)){options=effect;effect=effect.effect;}// Convert to an object\neffect={effect:effect};// Catch (effect, null, ...)\nif(options==null){options={};}// Catch (effect, callback)\nif($.isFunction(options)){callback=options;speed=null;options={};}// Catch (effect, speed, ?)\nif(typeof options===\"number\"||$.fx.speeds[options]){callback=speed;speed=options;options={};}// Catch (effect, options, callback)\nif($.isFunction(speed)){callback=speed;speed=null;}// Add options to effect\nif(options){$.extend(effect,options);}speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed===\"number\"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}function standardAnimationOption(option){// Valid standard speeds (nothing, number, named speed)\nif(!option||typeof option===\"number\"||$.fx.speeds[option]){return true;}// Invalid strings - treat as \"normal\" speed\nif(typeof option===\"string\"&&!$.effects.effect[option]){return true;}// Complete callback\nif($.isFunction(option)){return true;}// Options hash (but not naming an effect)\nif((typeof option===\"undefined\"?\"undefined\":_typeof(option))===\"object\"&&!option.effect){return true;}// Didn't match any standard API\nreturn false;}$.fn.extend({effect:function effect()/* effect, options, speed, callback */{var args=_normalizeArguments.apply(this,arguments),effectMethod=$.effects.effect[args.effect],defaultMode=effectMethod.mode,queue=args.queue,queueName=queue||\"fx\",complete=args.complete,mode=args.mode,modes=[],prefilter=function prefilter(next){var el=$(this),normalizedMode=$.effects.mode(el,mode)||defaultMode;// Sentinel for duck-punching the :animated psuedo-selector\nel.data(dataSpaceAnimated,true);// Save effect mode for later use,\n// we can't just call $.effects.mode again later,\n// as the .show() below destroys the initial state\nmodes.push(normalizedMode);// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13\nif(defaultMode&&(normalizedMode===\"show\"||normalizedMode===defaultMode&&normalizedMode===\"hide\")){el.show();}if(!defaultMode||normalizedMode!==\"none\"){$.effects.saveStyle(el);}if($.isFunction(next)){next();}};if($.fx.off||!effectMethod){// Delegate to the original method (e.g., .show()) if possible\nif(mode){return this[mode](args.duration,complete);}else{return this.each(function(){if(complete){complete.call(this);}});}}function run(next){var elem=$(this);function cleanup(){elem.removeData(dataSpaceAnimated);$.effects.cleanUp(elem);if(args.mode===\"hide\"){elem.hide();}done();}function done(){if($.isFunction(complete)){complete.call(elem[0]);}if($.isFunction(next)){next();}}// Override mode option on a per element basis,\n// as toggle can be either show or hide depending on element state\nargs.mode=modes.shift();if($.uiBackCompat!==false&&!defaultMode){if(elem.is(\":hidden\")?mode===\"hide\":mode===\"show\"){// Call the core method to track \"olddisplay\" properly\nelem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}else{if(args.mode===\"none\"){// Call the core method to track \"olddisplay\" properly\nelem[mode]();done();}else{effectMethod.call(elem[0],args,cleanup);}}}// Run prefilter on all elements first to ensure that\n// any showing or hiding happens before placeholder creation,\n// which ensures that any layout changes are correctly captured.\nreturn queue===false?this.each(prefilter).each(run):this.queue(queueName,prefilter).queue(queueName,run);},show:function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode=\"show\";return this.effect.call(this,args);}};}($.fn.show),hide:function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode=\"hide\";return this.effect.call(this,args);}};}($.fn.hide),toggle:function(orig){return function(option){if(standardAnimationOption(option)||typeof option===\"boolean\"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode=\"toggle\";return this.effect.call(this,args);}};}($.fn.toggle),cssUnit:function cssUnit(key){var style=this.css(key),val=[];$.each([\"em\",\"px\",\"%\",\"pt\"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;},cssClip:function cssClip(clipObj){if(clipObj){return this.css(\"clip\",\"rect(\"+clipObj.top+\"px \"+clipObj.right+\"px \"+clipObj.bottom+\"px \"+clipObj.left+\"px)\");}return parseClip(this.css(\"clip\"),this);},transfer:function transfer(options,done){var element=$(this),target=$(options.to),targetFixed=target.css(\"position\")===\"fixed\",body=$(\"body\"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=element.offset(),transfer=$(\"<div class='ui-effects-transfer'></div>\").appendTo(\"body\").addClass(options.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:element.innerHeight(),width:element.innerWidth(),position:targetFixed?\"fixed\":\"absolute\"}).animate(animation,options.duration,options.easing,function(){transfer.remove();if($.isFunction(done)){done();}});}});function parseClip(str,element){var outerWidth=element.outerWidth(),outerHeight=element.outerHeight(),clipRegex=/^rect\\((-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto)\\)$/,values=clipRegex.exec(str)||[\"\",0,outerWidth,outerHeight,0];return{top:parseFloat(values[1])||0,right:values[2]===\"auto\"?outerWidth:parseFloat(values[2]),bottom:values[3]===\"auto\"?outerHeight:parseFloat(values[3]),left:parseFloat(values[4])||0};}$.fx.step.clip=function(fx){if(!fx.clipInit){fx.start=$(fx.elem).cssClip();if(typeof fx.end===\"string\"){fx.end=parseClip(fx.end,fx.elem);}fx.clipInit=true;}$(fx.elem).cssClip({top:fx.pos*(fx.end.top-fx.start.top)+fx.start.top,right:fx.pos*(fx.end.right-fx.start.right)+fx.start.right,bottom:fx.pos*(fx.end.bottom-fx.start.bottom)+fx.start.bottom,left:fx.pos*(fx.end.left-fx.start.left)+fx.start.left});};})();/******************************************************************************//*********************************** EASING ***********************************//******************************************************************************/(function(){// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)\nvar baseEasings={};$.each([\"Quad\",\"Cubic\",\"Quart\",\"Quint\",\"Expo\"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function Sine(p){return 1-Math.cos(p*Math.PI/2);},Circ:function Circ(p){return 1-Math.sqrt(1-p*p);},Elastic:function Elastic(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function Back(p){return p*p*(3*p-2);},Bounce:function Bounce(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing[\"easeIn\"+name]=easeIn;$.easing[\"easeOut\"+name]=function(p){return 1-easeIn(1-p);};$.easing[\"easeInOut\"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})();var effect=$.effects;/*!\n * jQuery UI Effects Blind 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Blind Effect\n//>>group: Effects\n//>>description: Blinds the element.\n//>>docs: http://api.jqueryui.com/blind-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectBlind=$.effects.define(\"blind\",\"hide\",function(options,done){var map={up:[\"bottom\",\"top\"],vertical:[\"bottom\",\"top\"],down:[\"top\",\"bottom\"],left:[\"right\",\"left\"],horizontal:[\"right\",\"left\"],right:[\"left\",\"right\"]},element=$(this),direction=options.direction||\"up\",start=element.cssClip(),animate={clip:$.extend({},start)},placeholder=$.effects.createPlaceholder(element);animate.clip[map[direction][0]]=animate.clip[map[direction][1]];if(options.mode===\"show\"){element.cssClip(animate.clip);if(placeholder){placeholder.css($.effects.clipToBox(animate));}animate.clip=start;}if(placeholder){placeholder.animate($.effects.clipToBox(animate),options.duration,options.easing);}element.animate(animate,{queue:false,duration:options.duration,easing:options.easing,complete:done});});/*!\n * jQuery UI Effects Bounce 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Bounce Effect\n//>>group: Effects\n//>>description: Bounces an element horizontally or vertically n times.\n//>>docs: http://api.jqueryui.com/bounce-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectBounce=$.effects.define(\"bounce\",function(options,done){var upAnim,downAnim,refValue,element=$(this),// Defaults:\nmode=options.mode,hide=mode===\"hide\",show=mode===\"show\",direction=options.direction||\"up\",distance=options.distance,times=options.times||5,// Number of internal animations\nanims=times*2+(show||hide?1:0),speed=options.duration/anims,easing=options.easing,// Utility:\nref=direction===\"up\"||direction===\"down\"?\"top\":\"left\",motion=direction===\"up\"||direction===\"left\",i=0,queuelen=element.queue().length;$.effects.createPlaceholder(element);refValue=element.css(ref);// Default distance for the BIGGEST bounce is the outer Distance / 3\nif(!distance){distance=element[ref===\"top\"?\"outerHeight\":\"outerWidth\"]()/3;}if(show){downAnim={opacity:1};downAnim[ref]=refValue;// If we are showing, force opacity 0 and set the initial position\n// then do the \"first\" animation\nelement.css(\"opacity\",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}// Start at the smallest distance if we are hiding\nif(hide){distance=distance/Math.pow(2,times-1);}downAnim={};downAnim[ref]=refValue;// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here\nfor(;i<times;i++){upAnim={};upAnim[ref]=(motion?\"-=\":\"+=\")+distance;element.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}// Last Bounce when Hiding\nif(hide){upAnim={opacity:0};upAnim[ref]=(motion?\"-=\":\"+=\")+distance;element.animate(upAnim,speed,easing);}element.queue(done);$.effects.unshift(element,queuelen,anims+1);});/*!\n * jQuery UI Effects Clip 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Clip Effect\n//>>group: Effects\n//>>description: Clips the element on and off like an old TV.\n//>>docs: http://api.jqueryui.com/clip-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectClip=$.effects.define(\"clip\",\"hide\",function(options,done){var start,animate={},element=$(this),direction=options.direction||\"vertical\",both=direction===\"both\",horizontal=both||direction===\"horizontal\",vertical=both||direction===\"vertical\";start=element.cssClip();animate.clip={top:vertical?(start.bottom-start.top)/2:start.top,right:horizontal?(start.right-start.left)/2:start.right,bottom:vertical?(start.bottom-start.top)/2:start.bottom,left:horizontal?(start.right-start.left)/2:start.left};$.effects.createPlaceholder(element);if(options.mode===\"show\"){element.cssClip(animate.clip);animate.clip=start;}element.animate(animate,{queue:false,duration:options.duration,easing:options.easing,complete:done});});/*!\n * jQuery UI Effects Drop 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Drop Effect\n//>>group: Effects\n//>>description: Moves an element in one direction and hides it at the same time.\n//>>docs: http://api.jqueryui.com/drop-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectDrop=$.effects.define(\"drop\",\"hide\",function(options,done){var distance,element=$(this),mode=options.mode,show=mode===\"show\",direction=options.direction||\"left\",ref=direction===\"up\"||direction===\"down\"?\"top\":\"left\",motion=direction===\"up\"||direction===\"left\"?\"-=\":\"+=\",oppositeMotion=motion===\"+=\"?\"-=\":\"+=\",animation={opacity:0};$.effects.createPlaceholder(element);distance=options.distance||element[ref===\"top\"?\"outerHeight\":\"outerWidth\"](true)/2;animation[ref]=motion+distance;if(show){element.css(animation);animation[ref]=oppositeMotion+distance;animation.opacity=1;}// Animate\nelement.animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});/*!\n * jQuery UI Effects Explode 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Explode Effect\n//>>group: Effects\n// jscs:disable maximumLineLength\n//>>description: Explodes an element in all directions into n pieces. Implodes an element to its original wholeness.\n// jscs:enable maximumLineLength\n//>>docs: http://api.jqueryui.com/explode-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectExplode=$.effects.define(\"explode\",\"hide\",function(options,done){var i,j,left,top,mx,my,rows=options.pieces?Math.round(Math.sqrt(options.pieces)):3,cells=rows,element=$(this),mode=options.mode,show=mode===\"show\",// Show and then visibility:hidden the element before calculating offset\noffset=element.show().css(\"visibility\",\"hidden\").offset(),// Width and height of a piece\nwidth=Math.ceil(element.outerWidth()/cells),height=Math.ceil(element.outerHeight()/rows),pieces=[];// Children animate complete:\nfunction childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}// Clone the element for each row and cell.\nfor(i=0;i<rows;i++){// ===>\ntop=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){// |||\nleft=offset.left+j*width;mx=j-(cells-1)/2;// Create a clone of the now hidden main element that will be absolute positioned\n// within a wrapper div off the -left and -top equal to size of our pieces\nelement.clone().appendTo(\"body\").wrap(\"<div></div>\").css({position:\"absolute\",visibility:\"visible\",left:-j*width,top:-i*height})// Select the wrapper - make it overflow: hidden and absolute positioned based on\n// where the original was located +left and +top equal to the size of pieces\n.parent().addClass(\"ui-effects-explode\").css({position:\"absolute\",overflow:\"hidden\",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},options.duration||500,options.easing,childComplete);}}function animComplete(){element.css({visibility:\"visible\"});$(pieces).remove();done();}});/*!\n * jQuery UI Effects Fade 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Fade Effect\n//>>group: Effects\n//>>description: Fades the element.\n//>>docs: http://api.jqueryui.com/fade-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectFade=$.effects.define(\"fade\",\"toggle\",function(options,done){var show=options.mode===\"show\";$(this).css(\"opacity\",show?0:1).animate({opacity:show?1:0},{queue:false,duration:options.duration,easing:options.easing,complete:done});});/*!\n * jQuery UI Effects Fold 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Fold Effect\n//>>group: Effects\n//>>description: Folds an element first horizontally and then vertically.\n//>>docs: http://api.jqueryui.com/fold-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectFold=$.effects.define(\"fold\",\"hide\",function(options,done){// Create element\nvar element=$(this),mode=options.mode,show=mode===\"show\",hide=mode===\"hide\",size=options.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!options.horizFirst,ref=horizFirst?[\"right\",\"bottom\"]:[\"bottom\",\"right\"],duration=options.duration/2,placeholder=$.effects.createPlaceholder(element),start=element.cssClip(),animation1={clip:$.extend({},start)},animation2={clip:$.extend({},start)},distance=[start[ref[0]],start[ref[1]]],queuelen=element.queue().length;if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}animation1.clip[ref[0]]=size;animation2.clip[ref[0]]=size;animation2.clip[ref[1]]=0;if(show){element.cssClip(animation2.clip);if(placeholder){placeholder.css($.effects.clipToBox(animation2));}animation2.clip=start;}// Animate\nelement.queue(function(next){if(placeholder){placeholder.animate($.effects.clipToBox(animation1),duration,options.easing).animate($.effects.clipToBox(animation2),duration,options.easing);}next();}).animate(animation1,duration,options.easing).animate(animation2,duration,options.easing).queue(done);$.effects.unshift(element,queuelen,4);});/*!\n * jQuery UI Effects Highlight 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Highlight Effect\n//>>group: Effects\n//>>description: Highlights the background of an element in a defined color for a custom duration.\n//>>docs: http://api.jqueryui.com/highlight-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectHighlight=$.effects.define(\"highlight\",\"show\",function(options,done){var element=$(this),animation={backgroundColor:element.css(\"backgroundColor\")};if(options.mode===\"hide\"){animation.opacity=0;}$.effects.saveStyle(element);element.css({backgroundImage:\"none\",backgroundColor:options.color||\"#ffff99\"}).animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});/*!\n * jQuery UI Effects Size 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Size Effect\n//>>group: Effects\n//>>description: Resize an element to a specified width and height.\n//>>docs: http://api.jqueryui.com/size-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectSize=$.effects.define(\"size\",function(options,done){// Create element\nvar baseline,factor,temp,element=$(this),// Copy for children\ncProps=[\"fontSize\"],vProps=[\"borderTopWidth\",\"borderBottomWidth\",\"paddingTop\",\"paddingBottom\"],hProps=[\"borderLeftWidth\",\"borderRightWidth\",\"paddingLeft\",\"paddingRight\"],// Set options\nmode=options.mode,restore=mode!==\"effect\",scale=options.scale||\"both\",origin=options.origin||[\"middle\",\"center\"],position=element.css(\"position\"),pos=element.position(),original=$.effects.scaledDimensions(element),from=options.from||original,to=options.to||$.effects.scaledDimensions(element,0);$.effects.createPlaceholder(element);if(mode===\"show\"){temp=from;from=to;to=temp;}// Set scaling factor\nfactor={from:{y:from.height/original.height,x:from.width/original.width},to:{y:to.height/original.height,x:to.width/original.width}};// Scale the css box\nif(scale===\"box\"||scale===\"both\"){// Vertical props scaling\nif(factor.from.y!==factor.to.y){from=$.effects.setTransition(element,vProps,factor.from.y,from);to=$.effects.setTransition(element,vProps,factor.to.y,to);}// Horizontal props scaling\nif(factor.from.x!==factor.to.x){from=$.effects.setTransition(element,hProps,factor.from.x,from);to=$.effects.setTransition(element,hProps,factor.to.x,to);}}// Scale the content\nif(scale===\"content\"||scale===\"both\"){// Vertical props scaling\nif(factor.from.y!==factor.to.y){from=$.effects.setTransition(element,cProps,factor.from.y,from);to=$.effects.setTransition(element,cProps,factor.to.y,to);}}// Adjust the position properties based on the provided origin points\nif(origin){baseline=$.effects.getBaseline(origin,original);from.top=(original.outerHeight-from.outerHeight)*baseline.y+pos.top;from.left=(original.outerWidth-from.outerWidth)*baseline.x+pos.left;to.top=(original.outerHeight-to.outerHeight)*baseline.y+pos.top;to.left=(original.outerWidth-to.outerWidth)*baseline.x+pos.left;}element.css(from);// Animate the children if desired\nif(scale===\"content\"||scale===\"both\"){vProps=vProps.concat([\"marginTop\",\"marginBottom\"]).concat(cProps);hProps=hProps.concat([\"marginLeft\",\"marginRight\"]);// Only animate children with width attributes specified\n// TODO: is this right? should we include anything with css width specified as well\nelement.find(\"*[width]\").each(function(){var child=$(this),childOriginal=$.effects.scaledDimensions(child),childFrom={height:childOriginal.height*factor.from.y,width:childOriginal.width*factor.from.x,outerHeight:childOriginal.outerHeight*factor.from.y,outerWidth:childOriginal.outerWidth*factor.from.x},childTo={height:childOriginal.height*factor.to.y,width:childOriginal.width*factor.to.x,outerHeight:childOriginal.height*factor.to.y,outerWidth:childOriginal.width*factor.to.x};// Vertical props scaling\nif(factor.from.y!==factor.to.y){childFrom=$.effects.setTransition(child,vProps,factor.from.y,childFrom);childTo=$.effects.setTransition(child,vProps,factor.to.y,childTo);}// Horizontal props scaling\nif(factor.from.x!==factor.to.x){childFrom=$.effects.setTransition(child,hProps,factor.from.x,childFrom);childTo=$.effects.setTransition(child,hProps,factor.to.x,childTo);}if(restore){$.effects.saveStyle(child);}// Animate children\nchild.css(childFrom);child.animate(childTo,options.duration,options.easing,function(){// Restore children\nif(restore){$.effects.restoreStyle(child);}});});}// Animate\nelement.animate(to,{queue:false,duration:options.duration,easing:options.easing,complete:function complete(){var offset=element.offset();if(to.opacity===0){element.css(\"opacity\",from.opacity);}if(!restore){element.css(\"position\",position===\"static\"?\"relative\":position).offset(offset);// Need to save style here so that automatic style restoration\n// doesn't restore to the original styles from before the animation.\n$.effects.saveStyle(element);}done();}});});/*!\n * jQuery UI Effects Scale 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Scale Effect\n//>>group: Effects\n//>>description: Grows or shrinks an element and its content.\n//>>docs: http://api.jqueryui.com/scale-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectScale=$.effects.define(\"scale\",function(options,done){// Create element\nvar el=$(this),mode=options.mode,percent=parseInt(options.percent,10)||(parseInt(options.percent,10)===0?0:mode!==\"effect\"?0:100),newOptions=$.extend(true,{from:$.effects.scaledDimensions(el),to:$.effects.scaledDimensions(el,percent,options.direction||\"both\"),origin:options.origin||[\"middle\",\"center\"]},options);// Fade option to support puff\nif(options.fade){newOptions.from.opacity=1;newOptions.to.opacity=0;}$.effects.effect.size.call(this,newOptions,done);});/*!\n * jQuery UI Effects Puff 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Puff Effect\n//>>group: Effects\n//>>description: Creates a puff effect by scaling the element up and hiding it at the same time.\n//>>docs: http://api.jqueryui.com/puff-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectPuff=$.effects.define(\"puff\",\"hide\",function(options,done){var newOptions=$.extend(true,{},options,{fade:true,percent:parseInt(options.percent,10)||150});$.effects.effect.scale.call(this,newOptions,done);});/*!\n * jQuery UI Effects Pulsate 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Pulsate Effect\n//>>group: Effects\n//>>description: Pulsates an element n times by changing the opacity to zero and back.\n//>>docs: http://api.jqueryui.com/pulsate-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectPulsate=$.effects.define(\"pulsate\",\"show\",function(options,done){var element=$(this),mode=options.mode,show=mode===\"show\",hide=mode===\"hide\",showhide=show||hide,// Showing or hiding leaves off the \"last\" animation\nanims=(options.times||5)*2+(showhide?1:0),duration=options.duration/anims,animateTo=0,i=1,queuelen=element.queue().length;if(show||!element.is(\":visible\")){element.css(\"opacity\",0).show();animateTo=1;}// Anims - 1 opacity \"toggles\"\nfor(;i<anims;i++){element.animate({opacity:animateTo},duration,options.easing);animateTo=1-animateTo;}element.animate({opacity:animateTo},duration,options.easing);element.queue(done);$.effects.unshift(element,queuelen,anims+1);});/*!\n * jQuery UI Effects Shake 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Shake Effect\n//>>group: Effects\n//>>description: Shakes an element horizontally or vertically n times.\n//>>docs: http://api.jqueryui.com/shake-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectShake=$.effects.define(\"shake\",function(options,done){var i=1,element=$(this),direction=options.direction||\"left\",distance=options.distance||20,times=options.times||3,anims=times*2+1,speed=Math.round(options.duration/anims),ref=direction===\"up\"||direction===\"down\"?\"top\":\"left\",positiveMotion=direction===\"up\"||direction===\"left\",animation={},animation1={},animation2={},queuelen=element.queue().length;$.effects.createPlaceholder(element);// Animation\nanimation[ref]=(positiveMotion?\"-=\":\"+=\")+distance;animation1[ref]=(positiveMotion?\"+=\":\"-=\")+distance*2;animation2[ref]=(positiveMotion?\"-=\":\"+=\")+distance*2;// Animate\nelement.animate(animation,speed,options.easing);// Shakes\nfor(;i<times;i++){element.animate(animation1,speed,options.easing).animate(animation2,speed,options.easing);}element.animate(animation1,speed,options.easing).animate(animation,speed/2,options.easing).queue(done);$.effects.unshift(element,queuelen,anims+1);});/*!\n * jQuery UI Effects Slide 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Slide Effect\n//>>group: Effects\n//>>description: Slides an element in and out of the viewport.\n//>>docs: http://api.jqueryui.com/slide-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effectsEffectSlide=$.effects.define(\"slide\",\"show\",function(options,done){var startClip,startRef,element=$(this),map={up:[\"bottom\",\"top\"],down:[\"top\",\"bottom\"],left:[\"right\",\"left\"],right:[\"left\",\"right\"]},mode=options.mode,direction=options.direction||\"left\",ref=direction===\"up\"||direction===\"down\"?\"top\":\"left\",positiveMotion=direction===\"up\"||direction===\"left\",distance=options.distance||element[ref===\"top\"?\"outerHeight\":\"outerWidth\"](true),animation={};$.effects.createPlaceholder(element);startClip=element.cssClip();startRef=element.position()[ref];// Define hide animation\nanimation[ref]=(positiveMotion?-1:1)*distance+startRef;animation.clip=element.cssClip();animation.clip[map[direction][1]]=animation.clip[map[direction][0]];// Reverse the animation if we're showing\nif(mode===\"show\"){element.cssClip(animation.clip);element.css(ref,animation[ref]);animation.clip=startClip;animation[ref]=startRef;}// Actually animate\nelement.animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});/*!\n * jQuery UI Effects Transfer 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Transfer Effect\n//>>group: Effects\n//>>description: Displays a transfer effect from one element to another.\n//>>docs: http://api.jqueryui.com/transfer-effect/\n//>>demos: http://jqueryui.com/effect/\nvar effect;if($.uiBackCompat!==false){effect=$.effects.define(\"transfer\",function(options,done){$(this).transfer(options,done);});}var effectsEffectTransfer=effect;/*!\n * jQuery UI Focusable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: :focusable Selector\n//>>group: Core\n//>>description: Selects elements which can be focused.\n//>>docs: http://api.jqueryui.com/focusable-selector/\n// Selectors\n$.ui.focusable=function(element,hasTabindex){var map,mapName,img,focusableIfVisible,fieldset,nodeName=element.nodeName.toLowerCase();if(\"area\"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!==\"map\"){return false;}img=$(\"img[usemap='#\"+mapName+\"']\");return img.length>0&&img.is(\":visible\");}if(/^(input|select|textarea|button|object)$/.test(nodeName)){focusableIfVisible=!element.disabled;if(focusableIfVisible){// Form controls within a disabled fieldset are disabled.\n// However, controls within the fieldset's legend do not get disabled.\n// Since controls generally aren't placed inside legends, we skip\n// this portion of the check.\nfieldset=$(element).closest(\"fieldset\")[0];if(fieldset){focusableIfVisible=!fieldset.disabled;}}}else if(\"a\"===nodeName){focusableIfVisible=element.href||hasTabindex;}else{focusableIfVisible=hasTabindex;}return focusableIfVisible&&$(element).is(\":visible\")&&visible($(element));};// Support: IE 8 only\n// IE 8 doesn't resolve inherit to visible/hidden for computed values\nfunction visible(element){var visibility=element.css(\"visibility\");while(visibility===\"inherit\"){element=element.parent();visibility=element.css(\"visibility\");}return visibility!==\"hidden\";}$.extend($.expr[\":\"],{focusable:function focusable(element){return $.ui.focusable(element,$.attr(element,\"tabindex\")!=null);}});var focusable=$.ui.focusable;// Support: IE8 Only\n// IE8 does not support the form attribute and when it is supplied. It overwrites the form prop\n// with a string, so we need to find the proper form.\nvar form=$.fn.form=function(){return typeof this[0].form===\"string\"?this.closest(\"form\"):$(this[0].form);};/*!\n * jQuery UI Form Reset Mixin 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Form Reset Mixin\n//>>group: Core\n//>>description: Refresh input widgets when their form is reset\n//>>docs: http://api.jqueryui.com/form-reset-mixin/\nvar formResetMixin=$.ui.formResetMixin={_formResetHandler:function _formResetHandler(){var form=$(this);// Wait for the form reset to actually happen before refreshing\nsetTimeout(function(){var instances=form.data(\"ui-form-reset-instances\");$.each(instances,function(){this.refresh();});});},_bindFormResetHandler:function _bindFormResetHandler(){this.form=this.element.form();if(!this.form.length){return;}var instances=this.form.data(\"ui-form-reset-instances\")||[];if(!instances.length){// We don't use _on() here because we use a single event handler per form\nthis.form.on(\"reset.ui-form-reset\",this._formResetHandler);}instances.push(this);this.form.data(\"ui-form-reset-instances\",instances);},_unbindFormResetHandler:function _unbindFormResetHandler(){if(!this.form.length){return;}var instances=this.form.data(\"ui-form-reset-instances\");instances.splice($.inArray(this,instances),1);if(instances.length){this.form.data(\"ui-form-reset-instances\",instances);}else{this.form.removeData(\"ui-form-reset-instances\").off(\"reset.ui-form-reset\");}}};/*!\n * jQuery UI Support for jQuery core 1.7.x 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n *///>>label: jQuery 1.7 Support\n//>>group: Core\n//>>description: Support version 1.7.x of jQuery core\n// Support: jQuery 1.7 only\n// Not a great way to check versions, but since we only support 1.7+ and only\n// need to detect <1.8, this is a simple check that should suffice. Checking\n// for \"1.7.\" would be a bit safer, but the version string is 1.7, not 1.7.0\n// and we'll never reach 1.70.0 (if we do, we certainly won't be supporting\n// 1.7 anymore). See #11197 for why we're not using feature detection.\nif($.fn.jquery.substring(0,3)===\"1.7\"){// Setters for .innerWidth(), .innerHeight(), .outerWidth(), .outerHeight()\n// Unlike jQuery Core 1.8+, these only support numeric values to set the\n// dimensions in pixels\n$.each([\"Width\",\"Height\"],function(i,name){var side=name===\"Width\"?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,\"padding\"+this))||0;if(border){size-=parseFloat($.css(elem,\"border\"+this+\"Width\"))||0;}if(margin){size-=parseFloat($.css(elem,\"margin\"+this))||0;}});return size;}$.fn[\"inner\"+name]=function(size){if(size===undefined){return orig[\"inner\"+name].call(this);}return this.each(function(){$(this).css(type,reduce(this,size)+\"px\");});};$.fn[\"outer\"+name]=function(size,margin){if(typeof size!==\"number\"){return orig[\"outer\"+name].call(this,size);}return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+\"px\");});};});$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};};/*!\n * jQuery UI Keycode 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Keycode\n//>>group: Core\n//>>description: Provide keycodes as keynames\n//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/\nvar keycode=$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};// Internal use only\nvar escapeSelector=$.ui.escapeSelector=function(){var selectorEscape=/([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])/g;return function(selector){return selector.replace(selectorEscape,\"\\\\$1\");};}();/*!\n * jQuery UI Labels 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: labels\n//>>group: Core\n//>>description: Find all the labels associated with a given input\n//>>docs: http://api.jqueryui.com/labels/\nvar labels=$.fn.labels=function(){var ancestor,selector,id,labels,ancestors;// Check control.labels first\nif(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels);}// Support: IE <= 11, FF <= 37, Android <= 2.3 only\n// Above browsers do not support control.labels. Everything below is to support them\n// as well as document fragments. control.labels does not work on document fragments\nlabels=this.eq(0).parents(\"label\");// Look for the label based on the id\nid=this.attr(\"id\");if(id){// We don't search against the document in case the element\n// is disconnected from the DOM\nancestor=this.eq(0).parents().last();// Get a full set of top level ancestors\nancestors=ancestor.add(ancestor.length?ancestor.siblings():this.siblings());// Create a selector for the label based on the id\nselector=\"label[for='\"+$.ui.escapeSelector(id)+\"']\";labels=labels.add(ancestors.find(selector).addBack(selector));}// Return whatever we have found for labels\nreturn this.pushStack(labels);};/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\nvar scrollParent=$.fn.scrollParent=function(includeHidden){var position=this.css(\"position\"),excludeStaticParent=position===\"absolute\",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css(\"position\")===\"static\"){return false;}return overflowRegex.test(parent.css(\"overflow\")+parent.css(\"overflow-y\")+parent.css(\"overflow-x\"));}).eq(0);return position===\"fixed\"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;};/*!\n * jQuery UI Tabbable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: :tabbable Selector\n//>>group: Core\n//>>description: Selects elements which can be tabbed to.\n//>>docs: http://api.jqueryui.com/tabbable-selector/\nvar tabbable=$.extend($.expr[\":\"],{tabbable:function tabbable(element){var tabIndex=$.attr(element,\"tabindex\"),hasTabindex=tabIndex!=null;return(!hasTabindex||tabIndex>=0)&&$.ui.focusable(element,hasTabindex);}});/*!\n * jQuery UI Unique ID 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: uniqueId\n//>>group: Core\n//>>description: Functions to generate and remove uniqueId's\n//>>docs: http://api.jqueryui.com/uniqueId/\nvar uniqueId=$.fn.extend({uniqueId:function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id=\"ui-id-\"+ ++uuid;}});};}(),removeUniqueId:function removeUniqueId(){return this.each(function(){if(/^ui-id-\\d+$/.test(this.id)){$(this).removeAttr(\"id\");}});}});/*!\n * jQuery UI Accordion 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Accordion\n//>>group: Widgets\n// jscs:disable maximumLineLength\n//>>description: Displays collapsible content panels for presenting information in a limited amount of space.\n// jscs:enable maximumLineLength\n//>>docs: http://api.jqueryui.com/accordion/\n//>>demos: http://jqueryui.com/accordion/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/accordion.css\n//>>css.theme: ../../themes/base/theme.css\nvar widgetsAccordion=$.widget(\"ui.accordion\",{version:\"1.12.1\",options:{active:0,animate:{},classes:{\"ui-accordion-header\":\"ui-corner-top\",\"ui-accordion-header-collapsed\":\"ui-corner-all\",\"ui-accordion-content\":\"ui-corner-bottom\"},collapsible:false,event:\"click\",header:\"> li > :first-child, > :not(li):even\",heightStyle:\"auto\",icons:{activeHeader:\"ui-icon-triangle-1-s\",header:\"ui-icon-triangle-1-e\"},// Callbacks\nactivate:null,beforeActivate:null},hideProps:{borderTopWidth:\"hide\",borderBottomWidth:\"hide\",paddingTop:\"hide\",paddingBottom:\"hide\",height:\"hide\"},showProps:{borderTopWidth:\"show\",borderBottomWidth:\"show\",paddingTop:\"show\",paddingBottom:\"show\",height:\"show\"},_create:function _create(){var options=this.options;this.prevShow=this.prevHide=$();this._addClass(\"ui-accordion\",\"ui-widget ui-helper-reset\");this.element.attr(\"role\",\"tablist\");// Don't allow collapsible: false and active: false / null\nif(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}this._processPanels();// handle negative values\nif(options.active<0){options.active+=this.headers.length;}this._refresh();},_getCreateEventData:function _getCreateEventData(){return{header:this.active,panel:!this.active.length?$():this.active.next()};},_createIcons:function _createIcons(){var icon,children,icons=this.options.icons;if(icons){icon=$(\"<span>\");this._addClass(icon,\"ui-accordion-header-icon\",\"ui-icon \"+icons.header);icon.prependTo(this.headers);children=this.active.children(\".ui-accordion-header-icon\");this._removeClass(children,icons.header)._addClass(children,null,icons.activeHeader)._addClass(this.headers,\"ui-accordion-icons\");}},_destroyIcons:function _destroyIcons(){this._removeClass(this.headers,\"ui-accordion-icons\");this.headers.children(\".ui-accordion-header-icon\").remove();},_destroy:function _destroy(){var contents;// Clean up main element\nthis.element.removeAttr(\"role\");// Clean up headers\nthis.headers.removeAttr(\"role aria-expanded aria-selected aria-controls tabIndex\").removeUniqueId();this._destroyIcons();// Clean up content panels\ncontents=this.headers.next().css(\"display\",\"\").removeAttr(\"role aria-hidden aria-labelledby\").removeUniqueId();if(this.options.heightStyle!==\"content\"){contents.css(\"height\",\"\");}},_setOption:function _setOption(key,value){if(key===\"active\"){// _activate() will handle invalid values and update this.options\nthis._activate(value);return;}if(key===\"event\"){if(this.options.event){this._off(this.headers,this.options.event);}this._setupEvents(value);}this._super(key,value);// Setting collapsible: false while collapsed; open first panel\nif(key===\"collapsible\"&&!value&&this.options.active===false){this._activate(0);}if(key===\"icons\"){this._destroyIcons();if(value){this._createIcons();}}},_setOptionDisabled:function _setOptionDisabled(value){this._super(value);this.element.attr(\"aria-disabled\",value);// Support: IE8 Only\n// #5332 / #6059 - opacity doesn't cascade to positioned elements in IE\n// so we need to add the disabled class to the headers and panels\nthis._toggleClass(null,\"ui-state-disabled\",!!value);this._toggleClass(this.headers.add(this.headers.next()),null,\"ui-state-disabled\",!!value);},_keydown:function _keydown(event){if(event.altKey||event.ctrlKey){return;}var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}if(toFocus){$(event.target).attr(\"tabIndex\",-1);$(toFocus).attr(\"tabIndex\",0);$(toFocus).trigger(\"focus\");event.preventDefault();}},_panelKeyDown:function _panelKeyDown(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().trigger(\"focus\");}},refresh:function refresh(){var options=this.options;this._processPanels();// Was collapsed or no panel\nif(options.active===false&&options.collapsible===true||!this.headers.length){options.active=false;this.active=$();// active false only when collapsible is true\n}else if(options.active===false){this._activate(0);// was active, but active panel is gone\n}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){// all remaining panel are disabled\nif(this.headers.length===this.headers.find(\".ui-state-disabled\").length){options.active=false;this.active=$();// activate previous panel\n}else{this._activate(Math.max(0,options.active-1));}// was active, active panel still exists\n}else{// make sure active index is correct\noptions.active=this.headers.index(this.active);}this._destroyIcons();this._refresh();},_processPanels:function _processPanels(){var prevHeaders=this.headers,prevPanels=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,\"ui-accordion-header ui-accordion-header-collapsed\",\"ui-state-default\");this.panels=this.headers.next().filter(\":not(.ui-accordion-content-active)\").hide();this._addClass(this.panels,\"ui-accordion-content\",\"ui-helper-reset ui-widget-content\");// Avoid memory leaks (#10056)\nif(prevPanels){this._off(prevHeaders.not(this.headers));this._off(prevPanels.not(this.panels));}},_refresh:function _refresh(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active);this._addClass(this.active,\"ui-accordion-header-active\",\"ui-state-active\")._removeClass(this.active,\"ui-accordion-header-collapsed\");this._addClass(this.active.next(),\"ui-accordion-content-active\");this.active.next().show();this.headers.attr(\"role\",\"tab\").each(function(){var header=$(this),headerId=header.uniqueId().attr(\"id\"),panel=header.next(),panelId=panel.uniqueId().attr(\"id\");header.attr(\"aria-controls\",panelId);panel.attr(\"aria-labelledby\",headerId);}).next().attr(\"role\",\"tabpanel\");this.headers.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1}).next().attr({\"aria-hidden\":\"true\"}).hide();// Make sure at least one header is in the tab order\nif(!this.active.length){this.headers.eq(0).attr(\"tabIndex\",0);}else{this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0}).next().attr({\"aria-hidden\":\"false\"});}this._createIcons();this._setupEvents(options.event);if(heightStyle===\"fill\"){maxHeight=parent.height();this.element.siblings(\":visible\").each(function(){var elem=$(this),position=elem.css(\"position\");if(position===\"absolute\"||position===\"fixed\"){return;}maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()));}).css(\"overflow\",\"auto\");}else if(heightStyle===\"auto\"){maxHeight=0;this.headers.next().each(function(){var isVisible=$(this).is(\":visible\");if(!isVisible){$(this).show();}maxHeight=Math.max(maxHeight,$(this).css(\"height\",\"\").height());if(!isVisible){$(this).hide();}}).height(maxHeight);}},_activate:function _activate(index){var active=this._findActive(index)[0];// Trying to activate the already active panel\nif(active===this.active[0]){return;}// Trying to collapse, simulate a click on the currently active header\nactive=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function _findActive(selector){return typeof selector===\"number\"?this.headers.eq(selector):$();},_setupEvents:function _setupEvents(event){var events={keydown:\"_keydown\"};if(event){$.each(event.split(\" \"),function(index,eventName){events[eventName]=\"_eventHandler\";});}this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:\"_panelKeyDown\"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function _eventHandler(event){var activeChildren,clickedChildren,options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if(// click on active header, but not collapsible\nclickedIsActive&&!options.collapsible||// allow canceling activation\nthis._trigger(\"beforeActivate\",event,eventData)===false){return;}options.active=collapsing?false:this.headers.index(clicked);// When the call to ._toggle() comes after the class changes\n// it causes a very odd bug in IE 8 (see #6720)\nthis.active=clickedIsActive?$():clicked;this._toggle(eventData);// Switch classes\n// corner classes on the previously active header stay after the animation\nthis._removeClass(active,\"ui-accordion-header-active\",\"ui-state-active\");if(options.icons){activeChildren=active.children(\".ui-accordion-header-icon\");this._removeClass(activeChildren,null,options.icons.activeHeader)._addClass(activeChildren,null,options.icons.header);}if(!clickedIsActive){this._removeClass(clicked,\"ui-accordion-header-collapsed\")._addClass(clicked,\"ui-accordion-header-active\",\"ui-state-active\");if(options.icons){clickedChildren=clicked.children(\".ui-accordion-header-icon\");this._removeClass(clickedChildren,null,options.icons.header)._addClass(clickedChildren,null,options.icons.activeHeader);}this._addClass(clicked.next(),\"ui-accordion-content-active\");}},_toggle:function _toggle(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;// Handle activating a panel during the animation for another activation\nthis.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}toHide.attr({\"aria-hidden\":\"true\"});toHide.prev().attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"});// if we're switching panels, remove the old header from the tab order\n// if we're opening from collapsed state, remove the previous header from the tab order\n// if we're collapsing, then keep the collapsing header in the tab order\nif(toShow.length&&toHide.length){toHide.prev().attr({\"tabIndex\":-1,\"aria-expanded\":\"false\"});}else if(toShow.length){this.headers.filter(function(){return parseInt($(this).attr(\"tabIndex\"),10)===0;}).attr(\"tabIndex\",-1);}toShow.attr(\"aria-hidden\",\"false\").prev().attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0});},_animate:function _animate(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,boxSizing=toShow.css(\"box-sizing\"),down=toShow.length&&(!toHide.length||toShow.index()<toHide.index()),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function complete(){that._toggleComplete(data);};if(typeof options===\"number\"){duration=options;}if(typeof options===\"string\"){easing=options;}// fall back from options to animation in case of partial down settings\neasing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(this.showProps,duration,easing,complete);}if(!toShow.length){return toHide.animate(this.hideProps,duration,easing,complete);}total=toShow.show().outerHeight();toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function step(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function step(now,fx){fx.now=Math.round(now);if(fx.prop!==\"height\"){if(boxSizing===\"content-box\"){adjust+=fx.now;}}else if(that.options.heightStyle!==\"content\"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function _toggleComplete(data){var toHide=data.oldPanel,prev=toHide.prev();this._removeClass(toHide,\"ui-accordion-content-active\");this._removeClass(prev,\"ui-accordion-header-active\")._addClass(prev,\"ui-accordion-header-collapsed\");// Work around for rendering bug in IE (#5421)\nif(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}this._trigger(\"activate\",null,data);}});var safeActiveElement=$.ui.safeActiveElement=function(document){var activeElement;// Support: IE 9 only\n// IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\ntry{activeElement=document.activeElement;}catch(error){activeElement=document.body;}// Support: IE 9 - 11 only\n// IE may return null instead of an element\n// Interestingly, this only seems to occur when NOT in an iframe\nif(!activeElement){activeElement=document.body;}// Support: IE 11 only\n// IE11 returns a seemingly empty object in some cases when accessing\n// document.activeElement from an <iframe>\nif(!activeElement.nodeName){activeElement=document.body;}return activeElement;};/*!\n * jQuery UI Menu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Menu\n//>>group: Widgets\n//>>description: Creates nestable menus.\n//>>docs: http://api.jqueryui.com/menu/\n//>>demos: http://jqueryui.com/menu/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/menu.css\n//>>css.theme: ../../themes/base/theme.css\nvar widgetsMenu=$.widget(\"ui.menu\",{version:\"1.12.1\",defaultElement:\"<ul>\",delay:300,options:{icons:{submenu:\"ui-icon-caret-1-e\"},items:\"> *\",menus:\"ul\",position:{my:\"left top\",at:\"right top\"},role:\"menu\",// Callbacks\nblur:null,focus:null,select:null},_create:function _create(){this.activeMenu=this.element;// Flag used to prevent firing of the click handler\n// as the event bubbles up through nested menus\nthis.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass(\"ui-menu\",\"ui-widget ui-widget-content\");this._on({// Prevent focus from sticking to links inside menu after clicking\n// them (focus should always stay on UL during navigation).\n\"mousedown .ui-menu-item\":function mousedownUiMenuItem(event){event.preventDefault();},\"click .ui-menu-item\":function clickUiMenuItem(event){var target=$(event.target);var active=$($.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&target.not(\".ui-state-disabled\").length){this.select(event);// Only set the mouseHandled flag if the event will bubble, see #9469.\nif(!event.isPropagationStopped()){this.mouseHandled=true;}// Open submenu on click\nif(target.has(\".ui-menu\").length){this.expand(event);}else if(!this.element.is(\":focus\")&&active.closest(\".ui-menu\").length){// Redirect focus to the menu\nthis.element.trigger(\"focus\",[true]);// If the active item is on the top level, let it stay active.\n// Otherwise, blur the active item since it is no longer visible.\nif(this.active&&this.active.parents(\".ui-menu\").length===1){clearTimeout(this.timer);}}}},\"mouseenter .ui-menu-item\":function mouseenterUiMenuItem(event){// Ignore mouse events while typeahead is active, see #10458.\n// Prevents focusing the wrong item when typeahead causes a scroll while the mouse\n// is over an item in the menu\nif(this.previousFilter){return;}var actualTarget=$(event.target).closest(\".ui-menu-item\"),target=$(event.currentTarget);// Ignore bubbled events on parent items, see #11641\nif(actualTarget[0]!==target[0]){return;}// Remove ui-state-active class from siblings of the newly focused menu item\n// to avoid a jump caused by adjacent elements both having a class with a border\nthis._removeClass(target.siblings().children(\".ui-state-active\"),null,\"ui-state-active\");this.focus(event,target);},mouseleave:\"collapseAll\",\"mouseleave .ui-menu\":\"collapseAll\",focus:function focus(event,keepActiveItem){// If there's already an active item, keep it active\n// If not, activate the first item\nvar item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function blur(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));if(notContained){this.collapseAll(event);}});},keydown:\"_keydown\"});this.refresh();// Clicks outside of a menu collapse any open menus\nthis._on(this.document,{click:function click(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event);}// Reset the mouseHandled flag\nthis.mouseHandled=false;}});},_destroy:function _destroy(){var items=this.element.find(\".ui-menu-item\").removeAttr(\"role aria-disabled\"),submenus=items.children(\".ui-menu-item-wrapper\").removeUniqueId().removeAttr(\"tabIndex role aria-haspopup\");// Destroy (sub)menus\nthis.element.removeAttr(\"aria-activedescendant\").find(\".ui-menu\").addBack().removeAttr(\"role aria-labelledby aria-expanded aria-hidden aria-disabled \"+\"tabIndex\").removeUniqueId().show();submenus.children().each(function(){var elem=$(this);if(elem.data(\"ui-menu-submenu-caret\")){elem.remove();}});},_keydown:function _keydown(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move(\"first\",\"first\",event);break;case $.ui.keyCode.END:this._move(\"last\",\"last\",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(\".ui-state-disabled\")){this.expand(event);}break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||\"\";skip=false;// Support number pad values\ncharacter=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode);clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(\".ui-menu-item\"):match;// If no matches on the current filter, reset to the last character pressed\n// to move down the menu to the first item that starts with that character\nif(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}if(preventDefault){event.preventDefault();}},_activate:function _activate(event){if(this.active&&!this.active.is(\".ui-state-disabled\")){if(this.active.children(\"[aria-haspopup='true']\").length){this.expand(event);}else{this.select(event);}}},refresh:function refresh(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass(\"ui-menu-icons\",null,!!this.element.find(\".ui-icon\").length);// Initialize nested menus\nnewSubmenus=submenus.filter(\":not(.ui-menu)\").hide().attr({role:this.options.role,\"aria-hidden\":\"true\",\"aria-expanded\":\"false\"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$(\"<span>\").data(\"ui-menu-submenu-caret\",true);that._addClass(submenuCaret,\"ui-menu-icon\",\"ui-icon \"+icon);item.attr(\"aria-haspopup\",\"true\").prepend(submenuCaret);menu.attr(\"aria-labelledby\",item.attr(\"id\"));});this._addClass(newSubmenus,\"ui-menu\",\"ui-widget ui-widget-content ui-front\");menus=submenus.add(this.element);items=menus.find(this.options.items);// Initialize menu-items containing spaces and/or dashes only as dividers\nitems.not(\".ui-menu-item\").each(function(){var item=$(this);if(that._isDivider(item)){that._addClass(item,\"ui-menu-divider\",\"ui-widget-content\");}});// Don't refresh list items that are already adapted\nnewItems=items.not(\".ui-menu-item, .ui-menu-divider\");newWrappers=newItems.children().not(\".ui-menu\").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(newItems,\"ui-menu-item\")._addClass(newWrappers,\"ui-menu-item-wrapper\");// Add aria-disabled attribute to any disabled menu item\nitems.filter(\".ui-state-disabled\").attr(\"aria-disabled\",\"true\");// If the active item has been removed, blur the menu\nif(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function _itemRole(){return{menu:\"menuitem\",listbox:\"option\"}[this.options.role];},_setOption:function _setOption(key,value){if(key===\"icons\"){var icons=this.element.find(\".ui-menu-icon\");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu);}this._super(key,value);},_setOptionDisabled:function _setOptionDisabled(value){this._super(value);this.element.attr(\"aria-disabled\",String(value));this._toggleClass(null,\"ui-state-disabled\",!!value);},focus:function focus(event,item){var nested,focused,activeParent;this.blur(event,event&&event.type===\"focus\");this._scrollIntoView(item);this.active=item.first();focused=this.active.children(\".ui-menu-item-wrapper\");this._addClass(focused,null,\"ui-state-active\");// Only update aria-activedescendant if there's a role\n// otherwise we assume focus is managed elsewhere\nif(this.options.role){this.element.attr(\"aria-activedescendant\",focused.attr(\"id\"));}// Highlight active parent menu item, if any\nactiveParent=this.active.parent().closest(\".ui-menu-item\").children(\".ui-menu-item-wrapper\");this._addClass(activeParent,null,\"ui-state-active\");if(event&&event.type===\"keydown\"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}nested=item.children(\".ui-menu\");if(nested.length&&event&&/^mouse/.test(event.type)){this._startOpening(nested);}this.activeMenu=item.parent();this._trigger(\"focus\",event,{item:item});},_scrollIntoView:function _scrollIntoView(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],\"borderTopWidth\"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],\"paddingTop\"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function blur(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}if(!this.active){return;}this._removeClass(this.active.children(\".ui-menu-item-wrapper\"),null,\"ui-state-active\");this._trigger(\"blur\",event,{item:this.active});this.active=null;},_startOpening:function _startOpening(submenu){clearTimeout(this.timer);// Don't open if already open fixes a Firefox bug that caused a .5 pixel\n// shift in the submenu position when mousing over the caret icon\nif(submenu.attr(\"aria-hidden\")!==\"true\"){return;}this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function _open(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(\".ui-menu\").not(submenu.parents(\".ui-menu\")).hide().attr(\"aria-hidden\",\"true\");submenu.show().removeAttr(\"aria-hidden\").attr(\"aria-expanded\",\"true\").position(position);},collapseAll:function collapseAll(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){// If we were passed an event, look for the submenu that contains the event\nvar currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(\".ui-menu\"));// If we found no valid submenu ancestor, use the main menu to close all\n// sub menus anyway\nif(!currentMenu.length){currentMenu=this.element;}this._close(currentMenu);this.blur(event);// Work around active item staying active after menu is blurred\nthis._removeClass(currentMenu.find(\".ui-state-active\"),null,\"ui-state-active\");this.activeMenu=currentMenu;},this.delay);},// With no arguments, closes the currently active menu - if nothing is active\n// it closes all menus.  If passed an argument, it will search for menus BELOW\n_close:function _close(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}startMenu.find(\".ui-menu\").hide().attr(\"aria-hidden\",\"true\").attr(\"aria-expanded\",\"false\");},_closeOnDocumentClick:function _closeOnDocumentClick(event){return!$(event.target).closest(\".ui-menu\").length;},_isDivider:function _isDivider(item){// Match hyphen, em dash, en dash\nreturn!/[^\\-\\u2014\\u2013\\s]/.test(item.text());},collapse:function collapse(event){var newItem=this.active&&this.active.parent().closest(\".ui-menu-item\",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function expand(event){var newItem=this.active&&this.active.children(\".ui-menu \").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());// Delay so Firefox will not hide activedescendant change in expanding submenu from AT\nthis._delay(function(){this.focus(event,newItem);});}},next:function next(event){this._move(\"next\",\"first\",event);},previous:function previous(event){this._move(\"prev\",\"last\",event);},isFirstItem:function isFirstItem(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length;},isLastItem:function isLastItem(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length;},_move:function _move(direction,filter,event){var next;if(this.active){if(direction===\"first\"||direction===\"last\"){next=this.active[direction===\"first\"?\"prevAll\":\"nextAll\"](\".ui-menu-item\").eq(-1);}else{next=this.active[direction+\"All\"](\".ui-menu-item\").eq(0);}}if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]();}this.focus(event,next);},nextPage:function nextPage(event){var item,base,height;if(!this.active){this.next(event);return;}if(this.isLastItem()){return;}if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(\".ui-menu-item\").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items)[!this.active?\"first\":\"last\"]());}},previousPage:function previousPage(event){var item,base,height;if(!this.active){this.next(event);return;}if(this.isFirstItem()){return;}if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(\".ui-menu-item\").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items).first());}},_hasScroll:function _hasScroll(){return this.element.outerHeight()<this.element.prop(\"scrollHeight\");},select:function select(event){// TODO: It should never be possible to not have an active item at this\n// point, but the tests don't trigger mouseenter before click.\nthis.active=this.active||$(event.target).closest(\".ui-menu-item\");var ui={item:this.active};if(!this.active.has(\".ui-menu\").length){this.collapseAll(event,true);}this._trigger(\"select\",event,ui);},_filterMenuItems:function _filterMenuItems(character){var escapedCharacter=character.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\"),regex=new RegExp(\"^\"+escapedCharacter,\"i\");return this.activeMenu.find(this.options.items)// Only match on items, not dividers or other content (#10571)\n.filter(\".ui-menu-item\").filter(function(){return regex.test($.trim($(this).children(\".ui-menu-item-wrapper\").text()));});}});/*!\n * jQuery UI Autocomplete 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Autocomplete\n//>>group: Widgets\n//>>description: Lists suggested words as the user is typing.\n//>>docs: http://api.jqueryui.com/autocomplete/\n//>>demos: http://jqueryui.com/autocomplete/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/autocomplete.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.autocomplete\",{version:\"1.12.1\",defaultElement:\"<input>\",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null,// Callbacks\nchange:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function _create(){// Some browsers only repeat keydown events, not keypress events,\n// so we use the suppressKeyPress flag to determine if we've already\n// handled the keydown event. #7269\n// Unfortunately the code for & in keypress is the same as the up arrow,\n// so we use the suppressKeyPressRepeat flag to avoid handling keypress\n// events when we know the keydown event was used to modify the\n// search term. #7799\nvar suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName===\"textarea\",isInput=nodeName===\"input\";// Textareas are always multi-line\n// Inputs are always single-line, even if inside a contentEditable element\n// IE also treats inputs as contentEditable\n// All other element types are determined by whether or not they're contentEditable\nthis.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element);this.valueMethod=this.element[isTextarea||isInput?\"val\":\"text\"];this.isNewMenu=true;this._addClass(\"ui-autocomplete-input\");this.element.attr(\"autocomplete\",\"off\");this._on(this.element,{keydown:function keydown(event){if(this.element.prop(\"readOnly\")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move(\"previousPage\",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move(\"nextPage\",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent(\"previous\",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent(\"next\",event);break;case keyCode.ENTER:// when menu is open and has focus\nif(this.menu.active){// #6055 - Opera still allows the keypress to occur\n// which causes forms to submit\nsuppressKeyPress=true;event.preventDefault();this.menu.select(event);}break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}break;case keyCode.ESCAPE:if(this.menu.element.is(\":visible\")){if(!this.isMultiLine){this._value(this.term);}this.close(event);// Different browsers have different default behavior for escape\n// Single press can mean undo or clear\n// Double press in IE means clear the whole form\nevent.preventDefault();}break;default:suppressKeyPressRepeat=true;// search timeout should be triggered before the input value is changed\nthis._searchTimeout(event);break;}},keypress:function keypress(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(\":visible\")){event.preventDefault();}return;}if(suppressKeyPressRepeat){return;}// Replicate some key handlers to allow them to repeat in Firefox and Opera\nvar keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move(\"previousPage\",event);break;case keyCode.PAGE_DOWN:this._move(\"nextPage\",event);break;case keyCode.UP:this._keyEvent(\"previous\",event);break;case keyCode.DOWN:this._keyEvent(\"next\",event);break;}},input:function input(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}this._searchTimeout(event);},focus:function focus(){this.selectedItem=null;this.previous=this._value();},blur:function blur(event){if(this.cancelBlur){delete this.cancelBlur;return;}clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$(\"<ul>\").appendTo(this._appendTo()).menu({// disable ARIA support, the live region takes care of that\nrole:null}).hide().menu(\"instance\");this._addClass(this.menu.element,\"ui-autocomplete\",\"ui-front\");this._on(this.menu.element,{mousedown:function mousedown(event){// prevent moving focus out of the text field\nevent.preventDefault();// IE doesn't prevent moving focus even with event.preventDefault()\n// so we set a flag to know when we should ignore the blur event\nthis.cancelBlur=true;this._delay(function(){delete this.cancelBlur;// Support: IE 8 only\n// Right clicking a menu item or selecting text from the menu items will\n// result in focus moving out of the input. However, we've already received\n// and ignored the blur event because of the cancelBlur flag set above. So\n// we restore focus to ensure that the menu closes properly based on the user's\n// next actions.\nif(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger(\"focus\");}});},menufocus:function menufocus(event,ui){var label,item;// support: Firefox\n// Prevent accidental activation of menu items in Firefox (#7024 #9118)\nif(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one(\"mousemove\",function(){$(event.target).trigger(event.originalEvent);});return;}}item=ui.item.data(\"ui-autocomplete-item\");if(false!==this._trigger(\"focus\",event,{item:item})){// use value to match what will end up in the input, if it was a key event\nif(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}// Announce the value in the liveRegion\nlabel=ui.item.attr(\"aria-label\")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$(\"<div>\").text(label).appendTo(this.liveRegion);}},menuselect:function menuselect(event,ui){var item=ui.item.data(\"ui-autocomplete-item\"),previous=this.previous;// Only trigger when focus was lost (click on menu)\nif(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger(\"focus\");this.previous=previous;// #6109 - IE triggers two focus events and the second\n// is asynchronous, so we need to reset the previous\n// term synchronously and asynchronously :-(\nthis._delay(function(){this.previous=previous;this.selectedItem=item;});}if(false!==this._trigger(\"select\",event,{item:item})){this._value(item.value);}// reset the term after the select event\n// this allows custom select handling to work properly\nthis.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$(\"<div>\",{role:\"status\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\");// Turning off autocomplete prevents the browser from remembering the\n// value when navigating through history, so we re-enable autocomplete\n// if the page is unloaded before the widget is destroyed. #7790\nthis._on(this.window,{beforeunload:function beforeunload(){this.element.removeAttr(\"autocomplete\");}});},_destroy:function _destroy(){clearTimeout(this.searching);this.element.removeAttr(\"autocomplete\");this.menu.element.remove();this.liveRegion.remove();},_setOption:function _setOption(key,value){this._super(key,value);if(key===\"source\"){this._initSource();}if(key===\"appendTo\"){this.menu.element.appendTo(this._appendTo());}if(key===\"disabled\"&&value&&this.xhr){this.xhr.abort();}},_isEventTargetInWidget:function _isEventTargetInWidget(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target);},_closeOnClickOutside:function _closeOnClickOutside(event){if(!this._isEventTargetInWidget(event)){this.close();}},_appendTo:function _appendTo(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}if(!element||!element[0]){element=this.element.closest(\".ui-front, dialog\");}if(!element.length){element=this.document[0].body;}return element;},_initSource:function _initSource(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source===\"string\"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}that.xhr=$.ajax({url:url,data:request,dataType:\"json\",success:function success(data){response(data);},error:function error(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function _searchTimeout(event){clearTimeout(this.searching);this.searching=this._delay(function(){// Search if the value has changed, or if the user retypes the same value (see #7434)\nvar equalValues=this.term===this._value(),menuVisible=this.menu.element.is(\":visible\"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||equalValues&&!menuVisible&&!modifierKey){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function search(value,event){value=value!=null?value:this._value();// Always save the actual value, not the one passed as an argument\nthis.term=this._value();if(value.length<this.options.minLength){return this.close(event);}if(this._trigger(\"search\",event)===false){return;}return this._search(value);},_search:function _search(value){this.pending++;this._addClass(\"ui-autocomplete-loading\");this.cancelSearch=false;this.source({term:value},this._response());},_response:function _response(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content);}this.pending--;if(!this.pending){this._removeClass(\"ui-autocomplete-loading\");}},this);},__response:function __response(content){if(content){content=this._normalize(content);}this._trigger(\"response\",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger(\"open\");}else{// use ._close() instead of .close() so we don't cancel future searches\nthis._close();}},close:function close(event){this.cancelSearch=true;this._close(event);},_close:function _close(event){// Remove the handler that closes the menu on outside clicks\nthis._off(this.document,\"mousedown\");if(this.menu.element.is(\":visible\")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger(\"close\",event);}},_change:function _change(event){if(this.previous!==this._value()){this._trigger(\"change\",event,{item:this.selectedItem});}},_normalize:function _normalize(items){// assume all items have the right format when the first item is complete\nif(items.length&&items[0].label&&items[0].value){return items;}return $.map(items,function(item){if(typeof item===\"string\"){return{label:item,value:item};}return $.extend({},item,{label:item.label||item.value,value:item.value||item.label});});},_suggest:function _suggest(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();// Size and position menu\nul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}// Listen for interactions outside of the widget (#6642)\nthis._on(this.document,{mousedown:\"_closeOnClickOutside\"});},_resizeMenu:function _resizeMenu(){var ul=this.menu.element;ul.outerWidth(Math.max(// Firefox wraps long text (possibly a rounding bug)\n// so we add 1px to avoid the wrapping (#7513)\nul.width(\"\").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function _renderMenu(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function _renderItemData(ul,item){return this._renderItem(ul,item).data(\"ui-autocomplete-item\",item);},_renderItem:function _renderItem(ul,item){return $(\"<li>\").append($(\"<div>\").text(item.label)).appendTo(ul);},_move:function _move(direction,event){if(!this.menu.element.is(\":visible\")){this.search(null,event);return;}if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine){this._value(this.term);}this.menu.blur();return;}this.menu[direction](event);},widget:function widget(){return this.menu.element;},_value:function _value(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function _keyEvent(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(\":visible\")){this._move(keyEvent,event);// Prevents moving cursor to beginning/end of the text field in some browsers\nevent.preventDefault();}},// Support: Chrome <=50\n// We should be able to just use this.element.prop( \"isContentEditable\" )\n// but hidden elements always report false in Chrome.\n// https://code.google.com/p/chromium/issues/detail?id=313082\n_isContentEditable:function _isContentEditable(element){if(!element.length){return false;}var editable=element.prop(\"contentEditable\");if(editable===\"inherit\"){return this._isContentEditable(element.parent());}return editable===\"true\";}});$.extend($.ui.autocomplete,{escapeRegex:function escapeRegex(value){return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\");},filter:function filter(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),\"i\");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});// Live region extension, adding a `messages` option\n// NOTE: This is an experimental API. We are still investigating\n// a full solution for string manipulation and internationalization.\n$.widget(\"ui.autocomplete\",$.ui.autocomplete,{options:{messages:{noResults:\"No search results.\",results:function results(amount){return amount+(amount>1?\" results are\":\" result is\")+\" available, use up and down arrow keys to navigate.\";}}},__response:function __response(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}this.liveRegion.children().hide();$(\"<div>\").text(message).appendTo(this.liveRegion);}});var widgetsAutocomplete=$.ui.autocomplete;/*!\n * jQuery UI Controlgroup 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Controlgroup\n//>>group: Widgets\n//>>description: Visually groups form control widgets\n//>>docs: http://api.jqueryui.com/controlgroup/\n//>>demos: http://jqueryui.com/controlgroup/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/controlgroup.css\n//>>css.theme: ../../themes/base/theme.css\nvar controlgroupCornerRegex=/ui-corner-([a-z]){2,6}/g;var widgetsControlgroup=$.widget(\"ui.controlgroup\",{version:\"1.12.1\",defaultElement:\"<div>\",options:{direction:\"horizontal\",disabled:null,onlyVisible:true,items:{\"button\":\"input[type=button], input[type=submit], input[type=reset], button, a\",\"controlgroupLabel\":\".ui-controlgroup-label\",\"checkboxradio\":\"input[type='checkbox'], input[type='radio']\",\"selectmenu\":\"select\",\"spinner\":\".ui-spinner-input\"}},_create:function _create(){this._enhance();},// To support the enhanced option in jQuery Mobile, we isolate DOM manipulation\n_enhance:function _enhance(){this.element.attr(\"role\",\"toolbar\");this.refresh();},_destroy:function _destroy(){this._callChildMethod(\"destroy\");this.childWidgets.removeData(\"ui-controlgroup-data\");this.element.removeAttr(\"role\");if(this.options.items.controlgroupLabel){this.element.find(this.options.items.controlgroupLabel).find(\".ui-controlgroup-label-contents\").contents().unwrap();}},_initWidgets:function _initWidgets(){var that=this,childWidgets=[];// First we iterate over each of the items options\n$.each(this.options.items,function(widget,selector){var labels;var options={};// Make sure the widget has a selector set\nif(!selector){return;}if(widget===\"controlgroupLabel\"){labels=that.element.find(selector);labels.each(function(){var element=$(this);if(element.children(\".ui-controlgroup-label-contents\").length){return;}element.contents().wrapAll(\"<span class='ui-controlgroup-label-contents'></span>\");});that._addClass(labels,null,\"ui-widget ui-widget-content ui-state-default\");childWidgets=childWidgets.concat(labels.get());return;}// Make sure the widget actually exists\nif(!$.fn[widget]){return;}// We assume everything is in the middle to start because we can't determine\n// first / last elements until all enhancments are done.\nif(that[\"_\"+widget+\"Options\"]){options=that[\"_\"+widget+\"Options\"](\"middle\");}else{options={classes:{}};}// Find instances of this widget inside controlgroup and init them\nthat.element.find(selector).each(function(){var element=$(this);var instance=element[widget](\"instance\");// We need to clone the default options for this type of widget to avoid\n// polluting the variable options which has a wider scope than a single widget.\nvar instanceOptions=$.widget.extend({},options);// If the button is the child of a spinner ignore it\n// TODO: Find a more generic solution\nif(widget===\"button\"&&element.parent(\".ui-spinner\").length){return;}// Create the widget if it doesn't exist\nif(!instance){instance=element[widget]()[widget](\"instance\");}if(instance){instanceOptions.classes=that._resolveClassesValues(instanceOptions.classes,instance);}element[widget](instanceOptions);// Store an instance of the controlgroup to be able to reference\n// from the outermost element for changing options and refresh\nvar widgetElement=element[widget](\"widget\");$.data(widgetElement[0],\"ui-controlgroup-data\",instance?instance:element[widget](\"instance\"));childWidgets.push(widgetElement[0]);});});this.childWidgets=$($.unique(childWidgets));this._addClass(this.childWidgets,\"ui-controlgroup-item\");},_callChildMethod:function _callChildMethod(method){this.childWidgets.each(function(){var element=$(this),data=element.data(\"ui-controlgroup-data\");if(data&&data[method]){data[method]();}});},_updateCornerClass:function _updateCornerClass(element,position){var remove=\"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all\";var add=this._buildSimpleOptions(position,\"label\").classes.label;this._removeClass(element,null,remove);this._addClass(element,null,add);},_buildSimpleOptions:function _buildSimpleOptions(position,key){var direction=this.options.direction===\"vertical\";var result={classes:{}};result.classes[key]={\"middle\":\"\",\"first\":\"ui-corner-\"+(direction?\"top\":\"left\"),\"last\":\"ui-corner-\"+(direction?\"bottom\":\"right\"),\"only\":\"ui-corner-all\"}[position];return result;},_spinnerOptions:function _spinnerOptions(position){var options=this._buildSimpleOptions(position,\"ui-spinner\");options.classes[\"ui-spinner-up\"]=\"\";options.classes[\"ui-spinner-down\"]=\"\";return options;},_buttonOptions:function _buttonOptions(position){return this._buildSimpleOptions(position,\"ui-button\");},_checkboxradioOptions:function _checkboxradioOptions(position){return this._buildSimpleOptions(position,\"ui-checkboxradio-label\");},_selectmenuOptions:function _selectmenuOptions(position){var direction=this.options.direction===\"vertical\";return{width:direction?\"auto\":false,classes:{middle:{\"ui-selectmenu-button-open\":\"\",\"ui-selectmenu-button-closed\":\"\"},first:{\"ui-selectmenu-button-open\":\"ui-corner-\"+(direction?\"top\":\"tl\"),\"ui-selectmenu-button-closed\":\"ui-corner-\"+(direction?\"top\":\"left\")},last:{\"ui-selectmenu-button-open\":direction?\"\":\"ui-corner-tr\",\"ui-selectmenu-button-closed\":\"ui-corner-\"+(direction?\"bottom\":\"right\")},only:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"}}[position]};},_resolveClassesValues:function _resolveClassesValues(classes,instance){var result={};$.each(classes,function(key){var current=instance.options.classes[key]||\"\";current=$.trim(current.replace(controlgroupCornerRegex,\"\"));result[key]=(current+\" \"+classes[key]).replace(/\\s+/g,\" \");});return result;},_setOption:function _setOption(key,value){if(key===\"direction\"){this._removeClass(\"ui-controlgroup-\"+this.options.direction);}this._super(key,value);if(key===\"disabled\"){this._callChildMethod(value?\"disable\":\"enable\");return;}this.refresh();},refresh:function refresh(){var children,that=this;this._addClass(\"ui-controlgroup ui-controlgroup-\"+this.options.direction);if(this.options.direction===\"horizontal\"){this._addClass(null,\"ui-helper-clearfix\");}this._initWidgets();children=this.childWidgets;// We filter here because we need to track all childWidgets not just the visible ones\nif(this.options.onlyVisible){children=children.filter(\":visible\");}if(children.length){// We do this last because we need to make sure all enhancment is done\n// before determining first and last\n$.each([\"first\",\"last\"],function(index,value){var instance=children[value]().data(\"ui-controlgroup-data\");if(instance&&that[\"_\"+instance.widgetName+\"Options\"]){var options=that[\"_\"+instance.widgetName+\"Options\"](children.length===1?\"only\":value);options.classes=that._resolveClassesValues(options.classes,instance);instance.element[instance.widgetName](options);}else{that._updateCornerClass(children[value](),value);}});// Finally call the refresh method on each of the child widgets.\nthis._callChildMethod(\"refresh\");}}});/*!\n * jQuery UI Checkboxradio 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Checkboxradio\n//>>group: Widgets\n//>>description: Enhances a form with multiple themeable checkboxes or radio buttons.\n//>>docs: http://api.jqueryui.com/checkboxradio/\n//>>demos: http://jqueryui.com/checkboxradio/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/button.css\n//>>css.structure: ../../themes/base/checkboxradio.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.checkboxradio\",[$.ui.formResetMixin,{version:\"1.12.1\",options:{disabled:null,label:null,icon:true,classes:{\"ui-checkboxradio-label\":\"ui-corner-all\",\"ui-checkboxradio-icon\":\"ui-corner-all\"}},_getCreateOptions:function _getCreateOptions(){var disabled,labels;var that=this;var options=this._super()||{};// We read the type here, because it makes more sense to throw a element type error first,\n// rather then the error for lack of a label. Often if its the wrong type, it\n// won't have a label (e.g. calling on a div, btn, etc)\nthis._readType();labels=this.element.labels();// If there are multiple labels, use the last one\nthis.label=$(labels[labels.length-1]);if(!this.label.length){$.error(\"No label found for checkboxradio widget\");}this.originalLabel=\"\";// We need to get the label text but this may also need to make sure it does not contain the\n// input itself.\nthis.label.contents().not(this.element[0]).each(function(){// The label contents could be text, html, or a mix. We concat each element to get a\n// string representation of the label, without the input as part of it.\nthat.originalLabel+=this.nodeType===3?$(this).text():this.outerHTML;});// Set the label option if we found label text\nif(this.originalLabel){options.label=this.originalLabel;}disabled=this.element[0].disabled;if(disabled!=null){options.disabled=disabled;}return options;},_create:function _create(){var checked=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled;}this._setOption(\"disabled\",this.options.disabled);this._addClass(\"ui-checkboxradio\",\"ui-helper-hidden-accessible\");this._addClass(this.label,\"ui-checkboxradio-label\",\"ui-button ui-widget\");if(this.type===\"radio\"){this._addClass(this.label,\"ui-checkboxradio-radio-label\");}if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel();}else if(this.originalLabel){this.options.label=this.originalLabel;}this._enhance();if(checked){this._addClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\");if(this.icon){this._addClass(this.icon,null,\"ui-state-hover\");}}this._on({change:\"_toggleClasses\",focus:function focus(){this._addClass(this.label,null,\"ui-state-focus ui-visual-focus\");},blur:function blur(){this._removeClass(this.label,null,\"ui-state-focus ui-visual-focus\");}});},_readType:function _readType(){var nodeName=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(nodeName!==\"input\"||!/radio|checkbox/.test(this.type)){$.error(\"Can't create checkboxradio on element.nodeName=\"+nodeName+\" and element.type=\"+this.type);}},// Support jQuery Mobile enhanced option\n_enhance:function _enhance(){this._updateIcon(this.element[0].checked);},widget:function widget(){return this.label;},_getRadioGroup:function _getRadioGroup(){var group;var name=this.element[0].name;var nameSelector=\"input[name='\"+$.ui.escapeSelector(name)+\"']\";if(!name){return $([]);}if(this.form.length){group=$(this.form[0].elements).filter(nameSelector);}else{// Not inside a form, check all inputs that also are not inside a form\ngroup=$(nameSelector).filter(function(){return $(this).form().length===0;});}return group.not(this.element);},_toggleClasses:function _toggleClasses(){var checked=this.element[0].checked;this._toggleClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\",checked);if(this.options.icon&&this.type===\"checkbox\"){this._toggleClass(this.icon,null,\"ui-icon-check ui-state-checked\",checked)._toggleClass(this.icon,null,\"ui-icon-blank\",!checked);}if(this.type===\"radio\"){this._getRadioGroup().each(function(){var instance=$(this).checkboxradio(\"instance\");if(instance){instance._removeClass(instance.label,\"ui-checkboxradio-checked\",\"ui-state-active\");}});}},_destroy:function _destroy(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove();}},_setOption:function _setOption(key,value){// We don't allow the value to be set to nothing\nif(key===\"label\"&&!value){return;}this._super(key,value);if(key===\"disabled\"){this._toggleClass(this.label,null,\"ui-state-disabled\",value);this.element[0].disabled=value;// Don't refresh when setting disabled\nreturn;}this.refresh();},_updateIcon:function _updateIcon(checked){var toAdd=\"ui-icon ui-icon-background \";if(this.options.icon){if(!this.icon){this.icon=$(\"<span>\");this.iconSpace=$(\"<span> </span>\");this._addClass(this.iconSpace,\"ui-checkboxradio-icon-space\");}if(this.type===\"checkbox\"){toAdd+=checked?\"ui-icon-check ui-state-checked\":\"ui-icon-blank\";this._removeClass(this.icon,null,checked?\"ui-icon-blank\":\"ui-icon-check\");}else{toAdd+=\"ui-icon-blank\";}this._addClass(this.icon,\"ui-checkboxradio-icon\",toAdd);if(!checked){this._removeClass(this.icon,null,\"ui-icon-check ui-state-checked\");}this.icon.prependTo(this.label).after(this.iconSpace);}else if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon;}},_updateLabel:function _updateLabel(){// Remove the contents of the label ( minus the icon, icon space, and input )\nvar contents=this.label.contents().not(this.element[0]);if(this.icon){contents=contents.not(this.icon[0]);}if(this.iconSpace){contents=contents.not(this.iconSpace[0]);}contents.remove();this.label.append(this.options.label);},refresh:function refresh(){var checked=this.element[0].checked,isDisabled=this.element[0].disabled;this._updateIcon(checked);this._toggleClass(this.label,\"ui-checkboxradio-checked\",\"ui-state-active\",checked);if(this.options.label!==null){this._updateLabel();}if(isDisabled!==this.options.disabled){this._setOptions({\"disabled\":isDisabled});}}}]);var widgetsCheckboxradio=$.ui.checkboxradio;/*!\n * jQuery UI Button 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Button\n//>>group: Widgets\n//>>description: Enhances a form with themeable buttons.\n//>>docs: http://api.jqueryui.com/button/\n//>>demos: http://jqueryui.com/button/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/button.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.button\",{version:\"1.12.1\",defaultElement:\"<button>\",options:{classes:{\"ui-button\":\"ui-corner-all\"},disabled:null,icon:null,iconPosition:\"beginning\",label:null,showLabel:true},_getCreateOptions:function _getCreateOptions(){var disabled,// This is to support cases like in jQuery Mobile where the base widget does have\n// an implementation of _getCreateOptions\noptions=this._super()||{};this.isInput=this.element.is(\"input\");disabled=this.element[0].disabled;if(disabled!=null){options.disabled=disabled;}this.originalLabel=this.isInput?this.element.val():this.element.html();if(this.originalLabel){options.label=this.originalLabel;}return options;},_create:function _create(){if(!this.option.showLabel&!this.options.icon){this.options.showLabel=true;}// We have to check the option again here even though we did in _getCreateOptions,\n// because null may have been passed on init which would override what was set in\n// _getCreateOptions\nif(this.options.disabled==null){this.options.disabled=this.element[0].disabled||false;}this.hasTitle=!!this.element.attr(\"title\");// Check to see if the label needs to be set or if its already correct\nif(this.options.label&&this.options.label!==this.originalLabel){if(this.isInput){this.element.val(this.options.label);}else{this.element.html(this.options.label);}}this._addClass(\"ui-button\",\"ui-widget\");this._setOption(\"disabled\",this.options.disabled);this._enhance();if(this.element.is(\"a\")){this._on({\"keyup\":function keyup(event){if(event.keyCode===$.ui.keyCode.SPACE){event.preventDefault();// Support: PhantomJS <= 1.9, IE 8 Only\n// If a native click is available use it so we actually cause navigation\n// otherwise just trigger a click event\nif(this.element[0].click){this.element[0].click();}else{this.element.trigger(\"click\");}}}});}},_enhance:function _enhance(){if(!this.element.is(\"button\")){this.element.attr(\"role\",\"button\");}if(this.options.icon){this._updateIcon(\"icon\",this.options.icon);this._updateTooltip();}},_updateTooltip:function _updateTooltip(){this.title=this.element.attr(\"title\");if(!this.options.showLabel&&!this.title){this.element.attr(\"title\",this.options.label);}},_updateIcon:function _updateIcon(option,value){var icon=option!==\"iconPosition\",position=icon?this.options.iconPosition:value,displayBlock=position===\"top\"||position===\"bottom\";// Create icon\nif(!this.icon){this.icon=$(\"<span>\");this._addClass(this.icon,\"ui-button-icon\",\"ui-icon\");if(!this.options.showLabel){this._addClass(\"ui-button-icon-only\");}}else if(icon){// If we are updating the icon remove the old icon class\nthis._removeClass(this.icon,null,this.options.icon);}// If we are updating the icon add the new icon class\nif(icon){this._addClass(this.icon,null,value);}this._attachIcon(position);// If the icon is on top or bottom we need to add the ui-widget-icon-block class and remove\n// the iconSpace if there is one.\nif(displayBlock){this._addClass(this.icon,null,\"ui-widget-icon-block\");if(this.iconSpace){this.iconSpace.remove();}}else{// Position is beginning or end so remove the ui-widget-icon-block class and add the\n// space if it does not exist\nif(!this.iconSpace){this.iconSpace=$(\"<span> </span>\");this._addClass(this.iconSpace,\"ui-button-icon-space\");}this._removeClass(this.icon,null,\"ui-wiget-icon-block\");this._attachIconSpace(position);}},_destroy:function _destroy(){this.element.removeAttr(\"role\");if(this.icon){this.icon.remove();}if(this.iconSpace){this.iconSpace.remove();}if(!this.hasTitle){this.element.removeAttr(\"title\");}},_attachIconSpace:function _attachIconSpace(iconPosition){this.icon[/^(?:end|bottom)/.test(iconPosition)?\"before\":\"after\"](this.iconSpace);},_attachIcon:function _attachIcon(iconPosition){this.element[/^(?:end|bottom)/.test(iconPosition)?\"append\":\"prepend\"](this.icon);},_setOptions:function _setOptions(options){var newShowLabel=options.showLabel===undefined?this.options.showLabel:options.showLabel,newIcon=options.icon===undefined?this.options.icon:options.icon;if(!newShowLabel&&!newIcon){options.showLabel=true;}this._super(options);},_setOption:function _setOption(key,value){if(key===\"icon\"){if(value){this._updateIcon(key,value);}else if(this.icon){this.icon.remove();if(this.iconSpace){this.iconSpace.remove();}}}if(key===\"iconPosition\"){this._updateIcon(key,value);}// Make sure we can't end up with a button that has neither text nor icon\nif(key===\"showLabel\"){this._toggleClass(\"ui-button-icon-only\",null,!value);this._updateTooltip();}if(key===\"label\"){if(this.isInput){this.element.val(value);}else{// If there is an icon, append it, else nothing then append the value\n// this avoids removal of the icon when setting label text\nthis.element.html(value);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition);}}}this._super(key,value);if(key===\"disabled\"){this._toggleClass(null,\"ui-state-disabled\",value);this.element[0].disabled=value;if(value){this.element.blur();}}},refresh:function refresh(){// Make sure to only check disabled if its an element that supports this otherwise\n// check for the disabled class to determine state\nvar isDisabled=this.element.is(\"input, button\")?this.element[0].disabled:this.element.hasClass(\"ui-button-disabled\");if(isDisabled!==this.options.disabled){this._setOptions({disabled:isDisabled});}this._updateTooltip();}});// DEPRECATED\nif($.uiBackCompat!==false){// Text and Icons options\n$.widget(\"ui.button\",$.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function _create(){if(this.options.showLabel&&!this.options.text){this.options.showLabel=this.options.text;}if(!this.options.showLabel&&this.options.text){this.options.text=this.options.showLabel;}if(!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)){if(this.options.icons.primary){this.options.icon=this.options.icons.primary;}else{this.options.icon=this.options.icons.secondary;this.options.iconPosition=\"end\";}}else if(this.options.icon){this.options.icons.primary=this.options.icon;}this._super();},_setOption:function _setOption(key,value){if(key===\"text\"){this._super(\"showLabel\",value);return;}if(key===\"showLabel\"){this.options.text=value;}if(key===\"icon\"){this.options.icons.primary=value;}if(key===\"icons\"){if(value.primary){this._super(\"icon\",value.primary);this._super(\"iconPosition\",\"beginning\");}else if(value.secondary){this._super(\"icon\",value.secondary);this._super(\"iconPosition\",\"end\");}}this._superApply(arguments);}});$.fn.button=function(orig){return function(){if(!this.length||this.length&&this[0].tagName!==\"INPUT\"||this.length&&this[0].tagName===\"INPUT\"&&this.attr(\"type\")!==\"checkbox\"&&this.attr(\"type\")!==\"radio\"){return orig.apply(this,arguments);}if(!$.ui.checkboxradio){$.error(\"Checkboxradio widget missing\");}if(arguments.length===0){return this.checkboxradio({\"icon\":false});}return this.checkboxradio.apply(this,arguments);};}($.fn.button);$.fn.buttonset=function(){if(!$.ui.controlgroup){$.error(\"Controlgroup widget missing\");}if(arguments[0]===\"option\"&&arguments[1]===\"items\"&&arguments[2]){return this.controlgroup.apply(this,[arguments[0],\"items.button\",arguments[2]]);}if(arguments[0]===\"option\"&&arguments[1]===\"items\"){return this.controlgroup.apply(this,[arguments[0],\"items.button\"]);}if(_typeof(arguments[0])===\"object\"&&arguments[0].items){arguments[0].items={button:arguments[0].items};}return this.controlgroup.apply(this,arguments);};}var widgetsButton=$.ui.button;// jscs:disable maximumLineLength\n/* jscs:disable requireCamelCaseOrUpperCaseIdentifiers *//*!\n * jQuery UI Datepicker 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Datepicker\n//>>group: Widgets\n//>>description: Displays a calendar from an input or inline for selecting dates.\n//>>docs: http://api.jqueryui.com/datepicker/\n//>>demos: http://jqueryui.com/datepicker/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/datepicker.css\n//>>css.theme: ../../themes/base/theme.css\n$.extend($.ui,{datepicker:{version:\"1.12.1\"}});var datepicker_instActive;function datepicker_getZindex(elem){var position,value;while(elem.length&&elem[0]!==document){// Ignore z-index if position is set to a value where z-index is ignored by the browser\n// This makes behavior of this function consistent across browsers\n// WebKit always returns auto if the element is positioned\nposition=elem.css(\"position\");if(position===\"absolute\"||position===\"relative\"||position===\"fixed\"){// IE returns 0 when zIndex is not specified\n// other browsers return a string\n// we ignore the case of nested elements with an explicit value of 0\n// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\nvalue=parseInt(elem.css(\"zIndex\"),10);if(!isNaN(value)&&value!==0){return value;}}elem=elem.parent();}return 0;}/* Date picker manager.\n   Use the singleton instance of this class, $.datepicker, to interact with the date picker.\n   Settings for (groups of) date pickers are maintained in an instance object,\n   allowing multiple different settings on the same page. */function Datepicker(){this._curInst=null;// The current instance in use\nthis._keyEvent=false;// If the last event was a key event\nthis._disabledInputs=[];// List of date picker inputs that have been disabled\nthis._datepickerShowing=false;// True if the popup picker is showing , false if not\nthis._inDialog=false;// True if showing within a \"dialog\", false if not\nthis._mainDivId=\"ui-datepicker-div\";// The ID of the main datepicker division\nthis._inlineClass=\"ui-datepicker-inline\";// The name of the inline marker class\nthis._appendClass=\"ui-datepicker-append\";// The name of the append marker class\nthis._triggerClass=\"ui-datepicker-trigger\";// The name of the trigger marker class\nthis._dialogClass=\"ui-datepicker-dialog\";// The name of the dialog marker class\nthis._disableClass=\"ui-datepicker-disabled\";// The name of the disabled covering marker class\nthis._unselectableClass=\"ui-datepicker-unselectable\";// The name of the unselectable cell marker class\nthis._currentClass=\"ui-datepicker-current-day\";// The name of the current day marker class\nthis._dayOverClass=\"ui-datepicker-days-cell-over\";// The name of the day hover marker class\nthis.regional=[];// Available regional settings, indexed by language code\nthis.regional[\"\"]={// Default regional settings\ncloseText:\"Done\",// Display text for close link\nprevText:\"Prev\",// Display text for previous month link\nnextText:\"Next\",// Display text for next month link\nprevYearText:\"PYear\",// Display text for previous month link\nnextYearText:\"NYear\",// Display text for next month link\ncurrentText:\"Today\",// Display text for current month link\nmonthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],// Names of months for drop-down and formatting\nmonthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],// For formatting\ndayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],// For formatting\ndayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],// For formatting\ndayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],// Column headings for days starting at Sunday\nweekHeader:\"Wk\",// Column header for week of the year\ndateFormat:\"mm/dd/yy\",// See format options on parseDate\nfirstDay:0,// The first day of the week, Sun = 0, Mon = 1, ...\nisRTL:false,// True if right-to-left language, false if left-to-right\nshowMonthAfterYear:false,// True if the year select precedes month, false for month then year\nyearSuffix:\"\"// Additional text to append to the year in the month headers\n};this._defaults={// Global defaults for all the date picker instances\nshowOn:\"focus\",// \"focus\" for popup on focus,\n// \"button\" for trigger button, or \"both\" for either\nshowAnim:\"fadeIn\",// Name of jQuery animation for popup\nshowOptions:{},// Options for enhanced animations\ndefaultDate:null,// Used when field is blank: actual date,\n// +/-number for offset from today, null for today\nappendText:\"\",// Display text following the input box, e.g. showing the format\nbuttonText:\"...\",// Text for trigger button\nbuttonImage:\"\",// URL for trigger button image\nbuttonImageOnly:false,// True if the image appears alone, false if it appears on a button\nhideIfNoPrevNext:false,// True to hide next/previous month links\n// if not applicable, false to just disable them\nnavigationAsDateFormat:false,// True if date formatting applied to prev/today/next links\ngotoCurrent:false,// True if today link goes back to current selection instead\nchangeMonth:false,// True if month can be selected directly, false if only prev/next\nchangeYear:false,// True if year can be selected directly, false if only prev/next\nyearRange:\"c-10:c+10\",// Range of years to display in drop-down,\n// either relative to today's year (-nn:+nn), relative to currently displayed year\n// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)\nshowOtherMonths:false,// True to show dates in other months, false to leave blank\nselectOtherMonths:false,// True to allow selection of dates in other months, false for unselectable\nshowWeek:false,// True to show week of the year, false to not show it\ncalculateWeek:this.iso8601Week,// How to calculate the week of the year,\n// takes a Date and returns the number of the week for it\nshortYearCutoff:\"+10\",// Short year values < this are in the current century,\n// > this are in the previous century,\n// string value starting with \"+\" for current year + value\nminDate:null,// The earliest selectable date, or null for no limit\nmaxDate:null,// The latest selectable date, or null for no limit\nduration:\"fast\",// Duration of display/closure\nbeforeShowDay:null,// Function that takes a date and returns an array with\n// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or \"\",\n// [2] = cell title (optional), e.g. $.datepicker.noWeekends\nbeforeShow:null,// Function that takes an input field and\n// returns a set of custom settings for the date picker\nonSelect:null,// Define a callback function when a date is selected\nonChangeMonthYear:null,// Define a callback function when the month or year is changed\nonClose:null,// Define a callback function when the datepicker is closed\nnumberOfMonths:1,// Number of months to show at a time\nshowCurrentAtPos:0,// The position in multipe months at which to show the current month (starting at 0)\nstepMonths:1,// Number of months to step back/forward\nstepYears:1,// Number of months to step back/forward\nstepBigMonths:12,// Number of months to step back/forward for the big links\naltField:\"\",// Selector for an alternate field to store selected dates into\naltFormat:\"\",// The date format to use for the alternate field\nconstrainInput:true,// The input is constrained by the current date format\nshowButtonPanel:false,// True to show button panel, false to not show it\nautoSize:false,// True to size the input for the date format, false to leave as is\ndisabled:false// The initial disabled state\n};$.extend(this._defaults,this.regional[\"\"]);this.regional.en=$.extend(true,{},this.regional[\"\"]);this.regional[\"en-US\"]=$.extend(true,{},this.regional.en);this.dpDiv=datepicker_bindHover($(\"<div id='\"+this._mainDivId+\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"));}$.extend(Datepicker.prototype,{/* Class name added to elements to indicate already configured with a date picker. */markerClassName:\"hasDatepicker\",//Keep track of the maximum number of rows displayed (see #7043)\nmaxRows:4,// TODO rename to \"widget\" when switching to widget factory\n_widgetDatepicker:function _widgetDatepicker(){return this.dpDiv;},/* Override the default settings for all instances of the date picker.\n\t * @param  settings  object - the new settings to use as defaults (anonymous object)\n\t * @return the manager object\n\t */setDefaults:function setDefaults(settings){datepicker_extendRemove(this._defaults,settings||{});return this;},/* Attach the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t * @param  settings  object - the new settings to use for this date picker instance (anonymous)\n\t */_attachDatepicker:function _attachDatepicker(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=nodeName===\"div\"||nodeName===\"span\";if(!target.id){this.uuid+=1;target.id=\"dp\"+this.uuid;}inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName===\"input\"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},/* Create a new instance object. */_newInst:function _newInst(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\\-])/g,\"\\\\\\\\$1\");// escape jQuery meta chars\nreturn{id:id,input:target,// associated target\nselectedDay:0,selectedMonth:0,selectedYear:0,// current selection\ndrawMonth:0,drawYear:0,// month being drawn\ninline:inline,// is datepicker inline or not\ndpDiv:!inline?this.dpDiv:// presentation div\ndatepicker_bindHover($(\"<div class='\"+this._inlineClass+\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\"))};},/* Attach the date picker to an input field. */_connectDatepicker:function _connectDatepicker(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}this._attachments(input,inst);input.addClass(this.markerClassName).on(\"keydown\",this._doKeyDown).on(\"keypress\",this._doKeyPress).on(\"keyup\",this._doKeyUp);this._autoSize(inst);$.data(target,\"datepicker\",inst);//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)\nif(inst.settings.disabled){this._disableDatepicker(target);}},/* Make attachments based on settings. */_attachments:function _attachments(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,\"appendText\"),isRTL=this._get(inst,\"isRTL\");if(inst.append){inst.append.remove();}if(appendText){inst.append=$(\"<span class='\"+this._appendClass+\"'>\"+appendText+\"</span>\");input[isRTL?\"before\":\"after\"](inst.append);}input.off(\"focus\",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}showOn=this._get(inst,\"showOn\");if(showOn===\"focus\"||showOn===\"both\"){// pop-up date picker when in the marked field\ninput.on(\"focus\",this._showDatepicker);}if(showOn===\"button\"||showOn===\"both\"){// pop-up date picker when button clicked\nbuttonText=this._get(inst,\"buttonText\");buttonImage=this._get(inst,\"buttonImage\");inst.trigger=$(this._get(inst,\"buttonImageOnly\")?$(\"<img/>\").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$(\"<button type='button'></button>\").addClass(this._triggerClass).html(!buttonImage?buttonText:$(\"<img/>\").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?\"before\":\"after\"](inst.trigger);inst.trigger.on(\"click\",function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}return false;});}},/* Apply the maximum length for the date format. */_autoSize:function _autoSize(inst){if(this._get(inst,\"autoSize\")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),// Ensure double digits\ndateFormat=this._get(inst,\"dateFormat\");if(dateFormat.match(/[DM]/)){findMax=function findMax(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}return maxI;};date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?\"monthNames\":\"monthNamesShort\")));date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?\"dayNames\":\"dayNamesShort\"))+20-date.getDay());}inst.input.attr(\"size\",this._formatDate(inst,date).length);}},/* Attach an inline date picker to a div. */_inlineDatepicker:function _inlineDatepicker(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,\"datepicker\",inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);//If disabled option is true, disable the datepicker before showing it (see ticket #5665)\nif(inst.settings.disabled){this._disableDatepicker(target);}// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements\n// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height\ninst.dpDiv.css(\"display\",\"block\");},/* Pop-up the date picker in a \"dialog\" box.\n\t * @param  input element - ignored\n\t * @param  date\tstring or Date - the initial date to display\n\t * @param  onSelect  function - the function to call when a date is selected\n\t * @param  settings  object - update the dialog date picker instance's settings (anonymous object)\n\t * @param  pos int[2] - coordinates for the dialog's position within the screen or\n\t *\t\t\t\t\tevent - with x/y coordinates or\n\t *\t\t\t\t\tleave empty for default (screen centre)\n\t * @return the manager object\n\t */_dialogDatepicker:function _dialogDatepicker(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;// internal instance\nif(!inst){this.uuid+=1;id=\"dp\"+this.uuid;this._dialogInput=$(\"<input type='text' id='\"+id+\"' style='position: absolute; top: -100px; width: 0px;'/>\");this._dialogInput.on(\"keydown\",this._doKeyDown);$(\"body\").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],\"datepicker\",inst);}datepicker_extendRemove(inst.settings,settings||{});date=date&&date.constructor===Date?this._formatDate(inst,date):date;this._dialogInput.val(date);this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null;if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=// should use actual width/height below\n[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY];}// Move input on screen for focus, but hidden behind dialog\nthis._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}$.data(this._dialogInput[0],\"datepicker\",inst);return this;},/* Detach a datepicker from its control.\n\t * @param  target\telement - the target input field or division or span\n\t */_destroyDatepicker:function _destroyDatepicker(target){var nodeName,$target=$(target),inst=$.data(target,\"datepicker\");if(!$target.hasClass(this.markerClassName)){return;}nodeName=target.nodeName.toLowerCase();$.removeData(target,\"datepicker\");if(nodeName===\"input\"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).off(\"focus\",this._showDatepicker).off(\"keydown\",this._doKeyDown).off(\"keypress\",this._doKeyPress).off(\"keyup\",this._doKeyUp);}else if(nodeName===\"div\"||nodeName===\"span\"){$target.removeClass(this.markerClassName).empty();}if(datepicker_instActive===inst){datepicker_instActive=null;}},/* Enable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */_enableDatepicker:function _enableDatepicker(target){var nodeName,inline,$target=$(target),inst=$.data(target,\"datepicker\");if(!$target.hasClass(this.markerClassName)){return;}nodeName=target.nodeName.toLowerCase();if(nodeName===\"input\"){target.disabled=false;inst.trigger.filter(\"button\").each(function(){this.disabled=false;}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"});}else if(nodeName===\"div\"||nodeName===\"span\"){inline=$target.children(\".\"+this._inlineClass);inline.children().removeClass(\"ui-state-disabled\");inline.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",false);}this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value;});// delete entry\n},/* Disable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */_disableDatepicker:function _disableDatepicker(target){var nodeName,inline,$target=$(target),inst=$.data(target,\"datepicker\");if(!$target.hasClass(this.markerClassName)){return;}nodeName=target.nodeName.toLowerCase();if(nodeName===\"input\"){target.disabled=true;inst.trigger.filter(\"button\").each(function(){this.disabled=true;}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"});}else if(nodeName===\"div\"||nodeName===\"span\"){inline=$target.children(\".\"+this._inlineClass);inline.children().addClass(\"ui-state-disabled\");inline.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").prop(\"disabled\",true);}this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value;});// delete entry\nthis._disabledInputs[this._disabledInputs.length]=target;},/* Is the first field in a jQuery collection disabled as a datepicker?\n\t * @param  target\telement - the target input field or division or span\n\t * @return boolean - true if disabled, false if enabled\n\t */_isDisabledDatepicker:function _isDisabledDatepicker(target){if(!target){return false;}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}return false;},/* Retrieve the instance data for the target control.\n\t * @param  target  element - the target input field or division or span\n\t * @return  object - the associated instance data\n\t * @throws  error if a jQuery problem getting data\n\t */_getInst:function _getInst(target){try{return $.data(target,\"datepicker\");}catch(err){throw\"Missing instance data for this datepicker\";}},/* Update or retrieve the settings for a date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t * @param  name\tobject - the new settings to update or\n\t *\t\t\t\tstring - the name of the setting to change or retrieve,\n\t *\t\t\t\twhen retrieving also \"all\" for all instance settings or\n\t *\t\t\t\t\"defaults\" for all global defaults\n\t * @param  value   any - the new value for the setting\n\t *\t\t\t\t(omit if above is an object or to retrieve a value)\n\t */_optionDatepicker:function _optionDatepicker(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name===\"string\"){return name===\"defaults\"?$.extend({},$.datepicker._defaults):inst?name===\"all\"?$.extend({},inst.settings):this._get(inst,name):null;}settings=name||{};if(typeof name===\"string\"){settings={};settings[name]=value;}if(inst){if(this._curInst===inst){this._hideDatepicker();}date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,\"min\");maxDate=this._getMinMaxDate(inst,\"max\");datepicker_extendRemove(inst.settings,settings);// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided\nif(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}if(\"disabled\"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},// Change method deprecated\n_changeDatepicker:function _changeDatepicker(target,name,value){this._optionDatepicker(target,name,value);},/* Redraw the date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t */_refreshDatepicker:function _refreshDatepicker(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},/* Set the dates for a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  date\tDate - the new date\n\t */_setDateDatepicker:function _setDateDatepicker(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},/* Get the date(s) for the first entry in a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  noDefault boolean - true if no default date is to be used\n\t * @return Date - the current date\n\t */_getDateDatepicker:function _getDateDatepicker(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}return inst?this._getDate(inst):null;},/* Handle keystrokes. */_doKeyDown:function _doKeyDown(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(\".ui-datepicker-rtl\");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;// hide on tab out\ncase 13:sel=$(\"td.\"+$.datepicker._dayOverClass+\":not(.\"+$.datepicker._currentClass+\")\",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}onSelect=$.datepicker._get(inst,\"onSelect\");if(onSelect){dateStr=$.datepicker._formatDate(inst);// Trigger custom callback\nonSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]);}else{$.datepicker._hideDatepicker();}return false;// don't submit the form\ncase 27:$.datepicker._hideDatepicker();break;// hide on escape\ncase 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,\"stepBigMonths\"):-$.datepicker._get(inst,\"stepMonths\"),\"M\");break;// previous month/year on page up/+ ctrl\ncase 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,\"stepBigMonths\"):+$.datepicker._get(inst,\"stepMonths\"),\"M\");break;// next month/year on page down/+ ctrl\ncase 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}handled=event.ctrlKey||event.metaKey;break;// clear on ctrl or command +end\ncase 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}handled=event.ctrlKey||event.metaKey;break;// current on ctrl or command +home\ncase 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,isRTL?+1:-1,\"D\");}handled=event.ctrlKey||event.metaKey;// -1 day on ctrl or command +left\nif(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,\"stepBigMonths\"):-$.datepicker._get(inst,\"stepMonths\"),\"M\");}// next month/year on alt +left on Mac\nbreak;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,\"D\");}handled=event.ctrlKey||event.metaKey;break;// -1 week on ctrl or command +up\ncase 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,isRTL?-1:+1,\"D\");}handled=event.ctrlKey||event.metaKey;// +1 day on ctrl or command +right\nif(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,\"stepBigMonths\"):+$.datepicker._get(inst,\"stepMonths\"),\"M\");}// next month/year on alt +right\nbreak;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,\"D\");}handled=event.ctrlKey||event.metaKey;break;// +1 week on ctrl or command +down\ndefault:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){// display the date picker on ctrl+home\n$.datepicker._showDatepicker(this);}else{handled=false;}if(handled){event.preventDefault();event.stopPropagation();}},/* Filter entered characters - based on date format. */_doKeyPress:function _doKeyPress(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,\"constrainInput\")){chars=$.datepicker._possibleChars($.datepicker._get(inst,\"dateFormat\"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||chr<\" \"||!chars||chars.indexOf(chr)>-1;}},/* Synchronise manual entry and field/alternate field. */_doKeyUp:function _doKeyUp(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,\"dateFormat\"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst));if(date){// only if valid\n$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}catch(err){}}return true;},/* Pop-up the date picker for a given input field.\n\t * If false returned from beforeShow event handler do not show.\n\t * @param  input  element - the input field attached to the date picker or\n\t *\t\t\t\t\tevent - if triggered by focus\n\t */_showDatepicker:function _showDatepicker(input){input=input.target||input;if(input.nodeName.toLowerCase()!==\"input\"){// find from button/image trigger\ninput=$(\"input\",input.parentNode)[0];}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){// already here\nreturn;}var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}beforeShow=$.datepicker._get(inst,\"beforeShow\");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}datepicker_extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){// hide cursor\ninput.value=\"\";}if(!$.datepicker._pos){// position below input\n$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;// add the height\n}isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css(\"position\")===\"fixed\";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;//to avoid flashes on Firefox\ninst.dpDiv.empty();// determine sizing offscreen\ninst.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"});$.datepicker._updateDatepicker(inst);// fix width for dynamic number of date pickers\n// and adjust position before showing\noffset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?\"static\":isFixed?\"fixed\":\"absolute\",display:\"none\",left:offset.left+\"px\",top:offset.top+\"px\"});if(!inst.inline){showAnim=$.datepicker._get(inst,\"showAnim\");duration=$.datepicker._get(inst,\"duration\");inst.dpDiv.css(\"z-index\",datepicker_getZindex($(input))+100);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,\"showOptions\"),duration);}else{inst.dpDiv[showAnim||\"show\"](showAnim?duration:null);}if($.datepicker._shouldFocusInput(inst)){inst.input.trigger(\"focus\");}$.datepicker._curInst=inst;}},/* Generate the date picker content. */_updateDatepicker:function _updateDatepicker(inst){this.maxRows=4;//Reset the max number of rows being displayed (see #7043)\ndatepicker_instActive=inst;// for delegate hover events\ninst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find(\".\"+this._dayOverClass+\" a\");if(activeCell.length>0){datepicker_handleMouseover.apply(activeCell.get(0));}inst.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\");if(cols>1){inst.dpDiv.addClass(\"ui-datepicker-multi-\"+cols).css(\"width\",width*cols+\"em\");}inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\");inst.dpDiv[(this._get(inst,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.trigger(\"focus\");}// Deffered render of the years select (to avoid flashes on Firefox)\nif(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){//assure that inst.yearshtml didn't change.\nif(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(inst.yearshtml);}origyearshtml=inst.yearshtml=null;},0);}},// #6694 - don't focus the input if it's already focused\n// this breaks the change event in IE\n// Support: IE and jQuery <1.9\n_shouldFocusInput:function _shouldFocusInput(inst){return inst.input&&inst.input.is(\":visible\")&&!inst.input.is(\":disabled\")&&!inst.input.is(\":focus\");},/* Check positioning to remain on screen. */_checkOffset:function _checkOffset(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=this._get(inst,\"isRTL\")?dpWidth-inputWidth:0;offset.left-=isFixed&&offset.left===inst.input.offset().left?$(document).scrollLeft():0;offset.top-=isFixed&&offset.top===inst.input.offset().top+inputHeight?$(document).scrollTop():0;// Now check if datepicker is showing outside window viewport - move to a better place if so.\noffset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0);return offset;},/* Find an object's position on the screen. */_findPos:function _findPos(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,\"isRTL\");while(obj&&(obj.type===\"hidden\"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?\"previousSibling\":\"nextSibling\"];}position=$(obj).offset();return[position.left,position.top];},/* Hide the date picker from view.\n\t * @param  input  element - the input field attached to the date picker\n\t */_hideDatepicker:function _hideDatepicker(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||input&&inst!==$.data(input,\"datepicker\")){return;}if(this._datepickerShowing){showAnim=this._get(inst,\"showAnim\");duration=this._get(inst,\"duration\");postProcess=function postProcess(){$.datepicker._tidyDialog(inst);};// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed\nif($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,\"showOptions\"),duration,postProcess);}else{inst.dpDiv[showAnim===\"slideDown\"?\"slideUp\":showAnim===\"fadeIn\"?\"fadeOut\":\"hide\"](showAnim?duration:null,postProcess);}if(!showAnim){postProcess();}this._datepickerShowing=false;onClose=this._get(inst,\"onClose\");if(onClose){onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():\"\",inst]);}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"});if($.blockUI){$.unblockUI();$(\"body\").append(this.dpDiv);}}this._inDialog=false;}},/* Tidy up after a dialog display. */_tidyDialog:function _tidyDialog(inst){inst.dpDiv.removeClass(this._dialogClass).off(\".ui-datepicker-calendar\");},/* Close date picker if clicked elsewhere. */_checkExternalClick:function _checkExternalClick(event){if(!$.datepicker._curInst){return;}var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if($target[0].id!==$.datepicker._mainDivId&&$target.parents(\"#\"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest(\".\"+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)||$target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst){$.datepicker._hideDatepicker();}},/* Adjust one of the date sub-fields. */_adjustDate:function _adjustDate(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}this._adjustInstDate(inst,offset+(period===\"M\"?this._get(inst,\"showCurrentAtPos\"):0),// undo positioning\nperiod);this._updateDatepicker(inst);},/* Action for current link. */_gotoToday:function _gotoToday(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,\"gotoCurrent\")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}this._notifyChange(inst);this._adjustDate(target);},/* Action for selecting a new month/year. */_selectMonthYear:function _selectMonthYear(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst[\"selected\"+(period===\"M\"?\"Month\":\"Year\")]=inst[\"draw\"+(period===\"M\"?\"Month\":\"Year\")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},/* Action for selecting a day. */_selectDay:function _selectDay(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$(\"a\",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},/* Erase the input field and hide the date picker. */_clearDate:function _clearDate(id){var target=$(id);this._selectDate(target,\"\");},/* Update the input field with the selected date. */_selectDate:function _selectDate(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=dateStr!=null?dateStr:this._formatDate(inst);if(inst.input){inst.input.val(dateStr);}this._updateAlternate(inst);onSelect=this._get(inst,\"onSelect\");if(onSelect){onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]);// trigger custom callback\n}else if(inst.input){inst.input.trigger(\"change\");// fire the change event\n}if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(_typeof(inst.input[0])!==\"object\"){inst.input.trigger(\"focus\");// restore focus\n}this._lastInput=null;}},/* Update any alternate field to synchronise with the main field. */_updateAlternate:function _updateAlternate(inst){var altFormat,date,dateStr,altField=this._get(inst,\"altField\");if(altField){// update alternate field too\naltFormat=this._get(inst,\"altFormat\")||this._get(inst,\"dateFormat\");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).val(dateStr);}},/* Set as beforeShowDay function to prevent selection of weekends.\n\t * @param  date  Date - the date to customise\n\t * @return [boolean, string] - is this date selectable?, what is its CSS class?\n\t */noWeekends:function noWeekends(date){var day=date.getDay();return[day>0&&day<6,\"\"];},/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.\n\t * @param  date  Date - the date to get the week for\n\t * @return  number - the number of the week within the year that contains this date\n\t */iso8601Week:function iso8601Week(date){var time,checkDate=new Date(date.getTime());// Find Thursday of this week starting on Monday\ncheckDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);// Compare with Jan 1\ncheckDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},/* Parse a string value into a date object.\n\t * See formatDate below for the possible formats.\n\t *\n\t * @param  format string - the expected format of the date\n\t * @param  value string - the date in the above format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tshortYearCutoff  number - the cutoff year for determining the century (optional)\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  Date - the extracted date value or null if value is blank\n\t */parseDate:function parseDate(format,value,settings){if(format==null||value==null){throw\"Invalid arguments\";}value=(typeof value===\"undefined\"?\"undefined\":_typeof(value))===\"object\"?value.toString():value+\"\";if(value===\"\"){return null;}var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=typeof shortYearCutoffTemp!==\"string\"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,// Check whether a format character is doubled\nlookAhead=function lookAhead(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;if(matches){iFormat++;}return matches;},// Extract a number from the string value\ngetNumber=function getNumber(match){var isDoubled=lookAhead(match),size=match===\"@\"?14:match===\"!\"?20:match===\"y\"&&isDoubled?4:match===\"o\"?3:2,minSize=match===\"y\"?size:1,digits=new RegExp(\"^\\\\d{\"+minSize+\",\"+size+\"}\"),num=value.substring(iValue).match(digits);if(!num){throw\"Missing number at position \"+iValue;}iValue+=num[0].length;return parseInt(num[0],10);},// Extract a name from the string value and convert to an index\ngetName=function getName(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw\"Unknown name at position \"+iValue;}},// Confirm that a literal character matches the string value\ncheckLiteral=function checkLiteral(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw\"Unexpected literal at position \"+iValue;}iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)===\"'\"&&!lookAhead(\"'\")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case\"d\":day=getNumber(\"d\");break;case\"D\":getName(\"D\",dayNamesShort,dayNames);break;case\"o\":doy=getNumber(\"o\");break;case\"m\":month=getNumber(\"m\");break;case\"M\":month=getName(\"M\",monthNamesShort,monthNames);break;case\"y\":year=getNumber(\"y\");break;case\"@\":date=new Date(getNumber(\"@\"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case\"!\":date=new Date((getNumber(\"!\")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case\"'\":if(lookAhead(\"'\")){checkLiteral();}else{literal=true;}break;default:checkLiteral();}}}if(iValue<value.length){extra=value.substr(iValue);if(!/^\\s+/.test(extra)){throw\"Extra/unparsed characters found in date: \"+extra;}}if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100);}if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}month++;day-=dim;}while(true);}date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw\"Invalid date\";// E.g. 31/02/00\n}return date;},/* Standard date formats. */ATOM:\"yy-mm-dd\",// RFC 3339 (ISO 8601)\nCOOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",// RFC 822\nTICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",// ISO 8601\n_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000,/* Format a date object into a string value.\n\t * The format can be combinations of the following:\n\t * d  - day of month (no leading zero)\n\t * dd - day of month (two digit)\n\t * o  - day of year (no leading zeros)\n\t * oo - day of year (three digit)\n\t * D  - day name short\n\t * DD - day name long\n\t * m  - month of year (no leading zero)\n\t * mm - month of year (two digit)\n\t * M  - month name short\n\t * MM - month name long\n\t * y  - year (two digit)\n\t * yy - year (four digit)\n\t * @ - Unix timestamp (ms since 01/01/1970)\n\t * ! - Windows ticks (100ns since 01/01/0001)\n\t * \"...\" - literal text\n\t * '' - single quote\n\t *\n\t * @param  format string - the desired format of the date\n\t * @param  date Date - the date value to format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  string - the date in the above format\n\t */formatDate:function formatDate(format,date,settings){if(!date){return\"\";}var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,// Check whether a format character is doubled\nlookAhead=function lookAhead(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;if(matches){iFormat++;}return matches;},// Format a number, with leading zero if necessary\nformatNumber=function formatNumber(match,value,len){var num=\"\"+value;if(lookAhead(match)){while(num.length<len){num=\"0\"+num;}}return num;},// Format a name, short or long as requested\nformatName=function formatName(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value];},output=\"\",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)===\"'\"&&!lookAhead(\"'\")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case\"d\":output+=formatNumber(\"d\",date.getDate(),2);break;case\"D\":output+=formatName(\"D\",date.getDay(),dayNamesShort,dayNames);break;case\"o\":output+=formatNumber(\"o\",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case\"m\":output+=formatNumber(\"m\",date.getMonth()+1,2);break;case\"M\":output+=formatName(\"M\",date.getMonth(),monthNamesShort,monthNames);break;case\"y\":output+=lookAhead(\"y\")?date.getFullYear():(date.getFullYear()%100<10?\"0\":\"\")+date.getFullYear()%100;break;case\"@\":output+=date.getTime();break;case\"!\":output+=date.getTime()*10000+this._ticksTo1970;break;case\"'\":if(lookAhead(\"'\")){output+=\"'\";}else{literal=true;}break;default:output+=format.charAt(iFormat);}}}}return output;},/* Extract all possible characters from the date format. */_possibleChars:function _possibleChars(format){var iFormat,chars=\"\",literal=false,// Check whether a format character is doubled\nlookAhead=function lookAhead(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;if(matches){iFormat++;}return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)===\"'\"&&!lookAhead(\"'\")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case\"d\":case\"m\":case\"y\":case\"@\":chars+=\"0123456789\";break;case\"D\":case\"M\":return null;// Accept anything\ncase\"'\":if(lookAhead(\"'\")){chars+=\"'\";}else{literal=true;}break;default:chars+=format.charAt(iFormat);}}}return chars;},/* Get a setting value, defaulting if necessary. */_get:function _get(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},/* Parse existing date and initialise date picker. */_setDateFromField:function _setDateFromField(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}var dateFormat=this._get(inst,\"dateFormat\"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=noDefault?\"\":dates;}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=dates?date.getDate():0;inst.currentMonth=dates?date.getMonth():0;inst.currentYear=dates?date.getFullYear():0;this._adjustInstDate(inst);},/* Retrieve the default date shown on opening. */_getDefaultDate:function _getDefaultDate(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,\"defaultDate\"),new Date()));},/* A date may be specified as an exact value or a relative one. */_determineDate:function _determineDate(inst,date,defaultDate){var offsetNumeric=function offsetNumeric(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function offsetString(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,\"dateFormat\"),offset,$.datepicker._getFormatConfig(inst));}catch(e){// Ignore\n}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||\"d\"){case\"d\":case\"D\":day+=parseInt(matches[1],10);break;case\"w\":case\"W\":day+=parseInt(matches[1],10)*7;break;case\"m\":case\"M\":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case\"y\":case\"Y\":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}matches=pattern.exec(offset);}return new Date(year,month,day);},newDate=date==null||date===\"\"?defaultDate:typeof date===\"string\"?offsetString(date):typeof date===\"number\"?isNaN(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());newDate=newDate&&newDate.toString()===\"Invalid Date\"?defaultDate:newDate;if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}return this._daylightSavingAdjust(newDate);},/* Handle switch to/from daylight saving.\n\t * Hours may be non-zero on daylight saving cut-over:\n\t * > 12 when midnight changeover, but then cannot generate\n\t * midnight datetime, so jump to 1AM, otherwise reset.\n\t * @param  date  (Date) the date to check\n\t * @return  (Date) the corrected date\n\t */_daylightSavingAdjust:function _daylightSavingAdjust(date){if(!date){return null;}date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},/* Set the date(s) directly. */_setDate:function _setDate(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?\"\":this._formatDate(inst));}},/* Retrieve the date(s) directly. */_getDate:function _getDate(inst){var startDate=!inst.currentYear||inst.input&&inst.input.val()===\"\"?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return startDate;},/* Attach the onxxx handlers.  These are declared statically so\n\t * they work with static code transformers like Caja.\n\t */_attachHandlers:function _attachHandlers(inst){var stepMonths=this._get(inst,\"stepMonths\"),stepYears=this._get(inst,\"stepYears\"),id=\"#\"+inst.id.replace(/\\\\\\\\/g,\"\\\\\");inst.dpDiv.find(\"[data-handler]\").map(function(){var handler={prev:function prev(){$.datepicker._adjustDate(id,-stepMonths,\"M\");},next:function next(){$.datepicker._adjustDate(id,+stepMonths,\"M\");},prevYear:function prevYear(){$.datepicker._adjustDate(id,-stepYears,\"Y\");},nextYear:function nextYear(){$.datepicker._adjustDate(id,+stepYears,\"Y\");},hide:function hide(){$.datepicker._hideDatepicker();},today:function today(){$.datepicker._gotoToday(id);},selectDay:function selectDay(){$.datepicker._selectDay(id,+this.getAttribute(\"data-month\"),+this.getAttribute(\"data-year\"),this);return false;},selectMonth:function selectMonth(){$.datepicker._selectMonthYear(id,this,\"M\");return false;},selectYear:function selectYear(){$.datepicker._selectMonthYear(id,this,\"Y\");return false;}};$(this).on(this.getAttribute(\"data-event\"),handler[this.getAttribute(\"data-handler\")]);});},/* Generate the HTML for the current state of the date picker. */_generateHTML:function _generateHTML(inst){var maxDraw,prevText,prev,nextText,next,prevYearText,prevYear,nextYearText,nextYear,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),// clear time\nisRTL=this._get(inst,\"isRTL\"),showButtonPanel=this._get(inst,\"showButtonPanel\"),hideIfNoPrevNext=this._get(inst,\"hideIfNoPrevNext\"),navigationAsDateFormat=this._get(inst,\"navigationAsDateFormat\"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,\"showCurrentAtPos\"),stepMonths=this._get(inst,\"stepMonths\"),isMultiMonth=numMonths[0]!==1||numMonths[1]!==1,currentDate=this._daylightSavingAdjust(!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)),minDate=this._getMinMaxDate(inst,\"min\"),maxDate=this._getMinMaxDate(inst,\"max\"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,\"prevText\");prevText=!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst));prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'\"+\" title='\"+prevText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"e\":\"w\")+\"'>\"+prevText+\"</span></a>\":hideIfNoPrevNext?\"\":\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\"+prevText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"e\":\"w\")+\"'>\"+prevText+\"</span></a>\";nextText=this._get(inst,\"nextText\");nextText=!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst));next=this._canAdjustMonth(inst,+1,drawYear,drawMonth)?\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'\"+\" title='\"+nextText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"w\":\"e\")+\"'>\"+nextText+\"</span></a>\":hideIfNoPrevNext?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+nextText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"w\":\"e\")+\"'>\"+nextText+\"</span></a>\";/* add navigation for year change - by RyanKim */prevYearText=this._get(inst,\"prevYearText\");prevYearText=!navigationAsDateFormat?prevYearText:this.formatDate(prevYearText,this._daylightSavingAdjust(new Date(drawYear-stepYears,drawMonth,1)),this._getFormatConfig(inst));prevYear=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?\"<a class='ui-datepicker-prevYear ui-corner-all' data-handler='prevYear' data-event='click'\"+\" title='\"+prevYearText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"e\":\"w\")+\"'>\"+prevYearText+\"</span></a>\":hideIfNoPrevNext?\"\":\"<a class='ui-datepicker-prevYear ui-corner-all ui-state-disabled' title='\"+prevYearText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"e\":\"w\")+\"'>\"+prevYearText+\"</span></a>\";nextYearText=this._get(inst,\"nextYearText\");nextYearText=!navigationAsDateFormat?nextYearText:this.formatDate(nextYearText,this._daylightSavingAdjust(new Date(drawYear+stepYears,drawMonth,1)),this._getFormatConfig(inst));nextYear=this._canAdjustMonth(inst,+1,drawYear,drawMonth)?\"<a class='ui-datepicker-nextYear ui-corner-all' data-handler='nextYear' data-event='click'\"+\" title='\"+nextYearText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"w\":\"e\")+\"'>\"+nextYearText+\"</span></a>\":hideIfNoPrevNext?\"\":\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\"+nextYearText+\"'><span class='ui-icon ui-icon-circle-triangle-\"+(isRTL?\"w\":\"e\")+\"'>\"+nextYearText+\"</span></a>\";currentText=this._get(inst,\"currentText\");gotoDate=this._get(inst,\"gotoCurrent\")&&inst.currentDay?currentDate:today;currentText=!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst));controls=!inst.inline?\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\"+this._get(inst,\"closeText\")+\"</button>\":\"\";buttonPanel=showButtonPanel?\"<div class='ui-datepicker-buttonpane ui-widget-content'>\"+(isRTL?controls:\"\")+(this._isInRange(inst,gotoDate)?\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'\"+\">\"+currentText+\"</button>\":\"\")+(isRTL?\"\":controls)+\"</div>\":\"\";firstDay=parseInt(this._get(inst,\"firstDay\"),10);firstDay=isNaN(firstDay)?0:firstDay;showWeek=this._get(inst,\"showWeek\");dayNames=this._get(inst,\"dayNames\");dayNamesMin=this._get(inst,\"dayNamesMin\");monthNames=this._get(inst,\"monthNames\");monthNamesShort=this._get(inst,\"monthNamesShort\");beforeShowDay=this._get(inst,\"beforeShowDay\");showOtherMonths=this._get(inst,\"showOtherMonths\");selectOtherMonths=this._get(inst,\"selectOtherMonths\");defaultDate=this._getDefaultDate(inst);html=\"\";for(row=0;row<numMonths[0];row++){group=\"\";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=\" ui-corner-all\";calender=\"\";if(isMultiMonth){calender+=\"<div class='ui-datepicker-group\";if(numMonths[1]>1){switch(col){case 0:calender+=\" ui-datepicker-group-first\";cornerClass=\" ui-corner-\"+(isRTL?\"right\":\"left\");break;case numMonths[1]-1:calender+=\" ui-datepicker-group-last\";cornerClass=\" ui-corner-\"+(isRTL?\"left\":\"right\");break;default:calender+=\" ui-datepicker-group-middle\";cornerClass=\"\";break;}}calender+=\"'>\";}calender+=\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\"+cornerClass+\"'>\"+(/all|left/.test(cornerClass)&&row===0?isRTL?nextYear:prevYear:\"\")+(/all|left/.test(cornerClass)&&row===0?isRTL?next:prev:\"\")+(/all|right/.test(cornerClass)&&row===0?isRTL?prev:next:\"\")+(/all|right/.test(cornerClass)&&row===0?isRTL?prevYear:nextYear:\"\")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+// draw month headers\n\"</div><table class='ui-datepicker-calendar'><thead>\"+\"<tr>\";thead=showWeek?\"<th class='ui-datepicker-week-col'>\"+this._get(inst,\"weekHeader\")+\"</th>\":\"\";for(dow=0;dow<7;dow++){// days of the week\nday=(dow+firstDay)%7;thead+=\"<th scope='col'\"+((dow+firstDay+6)%7>=5?\" class='ui-datepicker-week-end'\":\"\")+\">\"+\"<span title='\"+dayNames[day]+\"'>\"+dayNamesMin[day]+\"</span></th>\";}calender+=thead+\"</tr></thead><tbody>\";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);// calculate the number of rows to generate\nnumRows=isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows;//If multiple months, use the higher number of rows (see #7043)\nthis.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){// create date picker rows\ncalender+=\"<tr>\";tbody=!showWeek?\"\":\"<td class='ui-datepicker-week-col'>\"+this._get(inst,\"calculateWeek\")(printDate)+\"</td>\";for(dow=0;dow<7;dow++){// create date picker days\ndaySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[true,\"\"];otherMonth=printDate.getMonth()!==drawMonth;unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+=\"<td class='\"+((dow+firstDay+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(// highlight weekends\notherMonth?\" ui-datepicker-other-month\":\"\")+(// highlight days from other months\nprintDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||// user pressed key\ndefaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?// or defaultDate is current printedDate and defaultDate is selectedDate\n\" \"+this._dayOverClass:\"\")+(// highlight selected day\nunselectable?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(// highlight unselectable days\notherMonth&&!showOtherMonths?\"\":\" \"+daySettings[1]+(// highlight custom dates\nprintDate.getTime()===currentDate.getTime()?\" \"+this._currentClass:\"\")+(// highlight selected day\nprintDate.getTime()===today.getTime()?\" ui-datepicker-today\":\"\"))+\"'\"+(// highlight today (if different)\n(!otherMonth||showOtherMonths)&&daySettings[2]?\" title='\"+daySettings[2].replace(/'/g,\"&#39;\")+\"'\":\"\")+(// cell title\nunselectable?\"\":\" data-handler='selectDay' data-event='click' data-month='\"+printDate.getMonth()+\"' data-year='\"+printDate.getFullYear()+\"'\")+\">\"+(// actions\notherMonth&&!showOtherMonths?\"&#xa0;\":// display for other months\nunselectable?\"<span class='ui-state-default'>\"+printDate.getDate()+\"</span>\":\"<a class='ui-state-default\"+(printDate.getTime()===today.getTime()?\" ui-state-highlight\":\"\")+(printDate.getTime()===currentDate.getTime()?\" ui-state-active\":\"\")+(// highlight selected day\notherMonth?\" ui-priority-secondary\":\"\")+// distinguish dates from other months\n\"' href='#'>\"+printDate.getDate()+\"</a>\")+\"</td>\";// display selectable date\nprintDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}calender+=tbody+\"</tr>\";}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}calender+=\"</tbody></table>\"+(isMultiMonth?\"</div>\"+(numMonths[0]>0&&col===numMonths[1]-1?\"<div class='ui-datepicker-row-break'></div>\":\"\"):\"\");group+=calender;}html+=group;}html+=buttonPanel;inst._keyEvent=false;return html;},/* Generate the month and year header. */_generateMonthYearHeader:function _generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,\"changeMonth\"),changeYear=this._get(inst,\"changeYear\"),showMonthAfterYear=this._get(inst,\"showMonthAfterYear\"),html=\"<div class='ui-datepicker-title'>\",monthHtml=\"\";// Month selection\nif(secondary||!changeMonth){monthHtml+=\"<span class='ui-datepicker-month'>\"+monthNames[drawMonth]+\"</span>\";}else{inMinYear=minDate&&minDate.getFullYear()===drawYear;inMaxYear=maxDate&&maxDate.getFullYear()===drawYear;monthHtml+=\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+=\"<option value='\"+month+\"'\"+(month===drawMonth?\" selected='selected'\":\"\")+\">\"+monthNamesShort[month]+\"</option>\";}}monthHtml+=\"</select>\";}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?\"&#xa0;\":\"\");}// Year selection\nif(!inst.yearshtml){inst.yearshtml=\"\";if(secondary||!changeYear){html+=\"<span class='ui-datepicker-year'>\"+drawYear+\"</span>\";}else{// determine range of years to display\nyears=this._get(inst,\"yearRange\").split(\":\");thisYear=new Date().getFullYear();determineYear=function determineYear(value){var year=value.match(/c[+\\-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+\\-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year;};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||\"\"));year=minDate?Math.max(year,minDate.getFullYear()):year;endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear;inst.yearshtml+=\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";for(;year<=endYear;year++){inst.yearshtml+=\"<option value='\"+year+\"'\"+(year===drawYear?\" selected='selected'\":\"\")+\">\"+year+\"</option>\";}inst.yearshtml+=\"</select>\";html+=inst.yearshtml;inst.yearshtml=null;}}html+=this._get(inst,\"yearSuffix\");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?\"&#xa0;\":\"\")+monthHtml;}html+=\"</div>\";// Close datepicker_header\nreturn html;},/* Adjust one of the date sub-fields. */_adjustInstDate:function _adjustInstDate(inst,offset,period){var year=inst.selectedYear+(period===\"Y\"?offset:0),month=inst.selectedMonth+(period===\"M\"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period===\"D\"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period===\"M\"||period===\"Y\"){this._notifyChange(inst);}},/* Ensure a date is within any min/max bounds. */_restrictMinMax:function _restrictMinMax(inst,date){var minDate=this._getMinMaxDate(inst,\"min\"),maxDate=this._getMinMaxDate(inst,\"max\"),newDate=minDate&&date<minDate?minDate:date;return maxDate&&newDate>maxDate?maxDate:newDate;},/* Notify change of month/year. */_notifyChange:function _notifyChange(inst){var onChange=this._get(inst,\"onChangeMonthYear\");if(onChange){onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst]);}},/* Determine the number of months to show. */_getNumberOfMonths:function _getNumberOfMonths(inst){var numMonths=this._get(inst,\"numberOfMonths\");return numMonths==null?[1,1]:typeof numMonths===\"number\"?[1,numMonths]:numMonths;},/* Determine the current maximum date - ensure no time components are set. */_getMinMaxDate:function _getMinMaxDate(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+\"Date\"),null);},/* Find the number of days in a given month. */_getDaysInMonth:function _getDaysInMonth(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},/* Find the day of the week of the first of a month. */_getFirstDayOfMonth:function _getFirstDayOfMonth(year,month){return new Date(year,month,1).getDay();},/* Determines if we should allow a \"next/prev\" month display change. */_canAdjustMonth:function _canAdjustMonth(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}return this._isInRange(inst,date);},/* Is the given date in the accepted range? */_isInRange:function _isInRange(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,\"min\"),maxDate=this._getMinMaxDate(inst,\"max\"),minYear=null,maxYear=null,years=this._get(inst,\"yearRange\");if(years){yearSplit=years.split(\":\");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\\-].*/)){minYear+=currentYear;}if(yearSplit[1].match(/[+\\-].*/)){maxYear+=currentYear;}}return(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear);},/* Provide the configuration settings for formatting/parsing. */_getFormatConfig:function _getFormatConfig(inst){var shortYearCutoff=this._get(inst,\"shortYearCutoff\");shortYearCutoff=typeof shortYearCutoff!==\"string\"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10);return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,\"dayNamesShort\"),dayNames:this._get(inst,\"dayNames\"),monthNamesShort:this._get(inst,\"monthNamesShort\"),monthNames:this._get(inst,\"monthNames\")};},/* Format the given date for display. */_formatDate:function _formatDate(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}var date=day?(typeof day===\"undefined\"?\"undefined\":_typeof(day))===\"object\"?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,\"dateFormat\"),date,this._getFormatConfig(inst));}});/*\n * Bind hover events for datepicker elements.\n * Done via delegate so the binding only occurs once in the lifetime of the parent div.\n * Global datepicker_instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.\n */function datepicker_bindHover(dpDiv){var selector=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return dpDiv.on(\"mouseout\",selector,function(){$(this).removeClass(\"ui-state-hover\");if(this.className.indexOf(\"ui-datepicker-prev\")!==-1){$(this).removeClass(\"ui-datepicker-prev-hover\");}if(this.className.indexOf(\"ui-datepicker-next\")!==-1){$(this).removeClass(\"ui-datepicker-next-hover\");}}).on(\"mouseover\",selector,datepicker_handleMouseover);}function datepicker_handleMouseover(){if(!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])){$(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\");$(this).addClass(\"ui-state-hover\");if(this.className.indexOf(\"ui-datepicker-prev\")!==-1){$(this).addClass(\"ui-datepicker-prev-hover\");}if(this.className.indexOf(\"ui-datepicker-next\")!==-1){$(this).addClass(\"ui-datepicker-next-hover\");}}}/* jQuery extend now ignores nulls! */function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}return target;}/* Invoke the datepicker functionality.\n   @param  options  string - a command, optionally followed by additional parameters or\n\t\t\t\t\tObject - settings for attaching new datepicker functionality\n   @return  jQuery object */$.fn.datepicker=function(options){/* Verify an empty collection wasn't passed - Fixes #6976 */if(!this.length){return this;}/* Initialise the date picker. */if(!$.datepicker.initialized){$(document).on(\"mousedown\",$.datepicker._checkExternalClick);$.datepicker.initialized=true;}/* Append datepicker main container to body if not exist. */if($(\"#\"+$.datepicker._mainDivId).length===0){$(\"body\").append($.datepicker.dpDiv);}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options===\"string\"&&(options===\"isDisabled\"||options===\"getDate\"||options===\"widget\")){return $.datepicker[\"_\"+options+\"Datepicker\"].apply($.datepicker,[this[0]].concat(otherArgs));}if(options===\"option\"&&arguments.length===2&&typeof arguments[1]===\"string\"){return $.datepicker[\"_\"+options+\"Datepicker\"].apply($.datepicker,[this[0]].concat(otherArgs));}return this.each(function(){typeof options===\"string\"?$.datepicker[\"_\"+options+\"Datepicker\"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();// singleton instance\n$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version=\"1.12.1\";var widgetsDatepicker=$.datepicker;// This file is deprecated\nvar ie=$.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase());/*!\n * jQuery UI Mouse 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Mouse\n//>>group: Widgets\n//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.\n//>>docs: http://api.jqueryui.com/mouse/\nvar mouseHandled=false;$(document).on(\"mouseup\",function(){mouseHandled=false;});var widgetsMouse=$.widget(\"ui.mouse\",{version:\"1.12.1\",options:{cancel:\"input, textarea, button, select, option\",distance:1,delay:0},_mouseInit:function _mouseInit(){var that=this;this.element.on(\"mousedown.\"+this.widgetName,function(event){return that._mouseDown(event);}).on(\"click.\"+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+\".preventClickEvent\")){$.removeData(event.target,that.widgetName+\".preventClickEvent\");event.stopImmediatePropagation();return false;}});this.started=false;},// TODO: make sure destroying one instance of mouse doesn't mess with\n// other instances of mouse\n_mouseDestroy:function _mouseDestroy(){this.element.off(\".\"+this.widgetName);if(this._mouseMoveDelegate){this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function _mouseDown(event){// don't let more than one widget handle mouseStart\nif(mouseHandled){return;}this._mouseMoved=false;// We may have missed mouseup (out of window)\nthis._mouseStarted&&this._mouseUp(event);this._mouseDownEvent=event;var that=this,btnIsLeft=event.which===1,// event.target.nodeName works around a bug in IE 8 with\n// disabled inputs (#7620)\nelIsCancel=typeof this.options.cancel===\"string\"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false;if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(event)!==false;if(!this._mouseStarted){event.preventDefault();return true;}}// Click event may never have fired (Gecko & Opera)\nif(true===$.data(event.target,this.widgetName+\".preventClickEvent\")){$.removeData(event.target,this.widgetName+\".preventClickEvent\");}// These delegates are required to keep context\nthis._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.on(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).on(\"mouseup.\"+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function _mouseMove(event){// Only check for mouseups outside the document if you've moved inside the document\n// at least once. This prevents the firing of mouseup in the case of IE<9, which will\n// fire a mousemove event if content is placed under the cursor. See #7778\n// Support: IE <9\nif(this._mouseMoved){// IE mouseup check - mouseup happened when mouse was out of window\nif($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);// Iframe mouseup check - mouseup occurred in another document\n}else if(!event.which){// Support: Safari <=8 - 9\n// Safari sets which to 0 if you press any of the following keys\n// during a drag (#14461)\nif(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey){this.ignoreMissingWhich=true;}else if(!this.ignoreMissingWhich){return this._mouseUp(event);}}}if(event.which||event.button){this._mouseMoved=true;}if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==false;this._mouseStarted?this._mouseDrag(event):this._mouseUp(event);}return!this._mouseStarted;},_mouseUp:function _mouseUp(event){this.document.off(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).off(\"mouseup.\"+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+\".preventClickEvent\",true);}this._mouseStop(event);}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer;}this.ignoreMissingWhich=false;mouseHandled=false;event.preventDefault();},_mouseDistanceMet:function _mouseDistanceMet(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance;},_mouseDelayMet:function _mouseDelayMet()/* event */{return this.mouseDelayMet;},// These are placeholder methods, to be overriden by extending plugin\n_mouseStart:function _mouseStart()/* event */{},_mouseDrag:function _mouseDrag()/* event */{},_mouseStop:function _mouseStop()/* event */{},_mouseCapture:function _mouseCapture()/* event */{return true;}});// $.ui.plugin is deprecated. Use $.widget() extensions instead.\nvar plugin=$.ui.plugin={add:function add(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function call(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};var safeBlur=$.ui.safeBlur=function(element){// Support: IE9 - 10 only\n// If the <body> is blurred, IE will switch windows, see #9420\nif(element&&element.nodeName.toLowerCase()!==\"body\"){$(element).trigger(\"blur\");}};/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n$.widget(\"ui.draggable\",$.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"drag\",options:{addClasses:true,appendTo:\"parent\",axis:false,connectToSortable:false,containment:false,cursor:\"auto\",cursorAt:false,grid:false,handle:false,helper:\"original\",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:\"default\",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:\"both\",snapTolerance:20,stack:false,zIndex:false,// Callbacks\ndrag:null,start:null,stop:null},_create:function _create(){if(this.options.helper===\"original\"){this._setPositionRelative();}if(this.options.addClasses){this._addClass(\"ui-draggable\");}this._setHandleClassName();this._mouseInit();},_setOption:function _setOption(key,value){this._super(key,value);if(key===\"handle\"){this._removeHandleClassName();this._setHandleClassName();}},_destroy:function _destroy(){if((this.helper||this.element).is(\".ui-draggable-dragging\")){this.destroyOnClear=true;return;}this._removeHandleClassName();this._mouseDestroy();},_mouseCapture:function _mouseCapture(event){var o=this.options;// Among others, prevent a drag on a resizable-handle\nif(this.helper||o.disabled||$(event.target).closest(\".ui-resizable-handle\").length>0){return false;}//Quit if we're not on a valid handle\nthis.handle=this._getHandle(event);if(!this.handle){return false;}this._blurActiveElement(event);this._blockFrames(o.iframeFix===true?\"iframe\":o.iframeFix);return true;},_blockFrames:function _blockFrames(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $(\"<div>\").css(\"position\",\"absolute\").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];});},_unblockFrames:function _unblockFrames(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function _blurActiveElement(event){var activeElement=$.ui.safeActiveElement(this.document[0]),target=$(event.target);// Don't blur if the event occurred on an element that is within\n// the currently focused element\n// See #10527, #12472\nif(target.closest(activeElement).length){return;}// Blur any element that currently has focus, see #4261\n$.ui.safeBlur(activeElement);},_mouseStart:function _mouseStart(event){var o=this.options;//Create and append the visible helper\nthis.helper=this._createHelper(event);this._addClass(this.helper,\"ui-draggable-dragging\");//Cache the helper size\nthis._cacheHelperProportions();//If ddmanager is used for droppables, set the global draggable\nif($.ui.ddmanager){$.ui.ddmanager.current=this;}/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t *///Cache the margins of the original element\nthis._cacheMargins();//Store the helper's css position\nthis.cssPosition=this.helper.css(\"position\");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css(\"position\")===\"fixed\";}).length>0;//The element's absolute position on the page minus margins\nthis.positionAbs=this.element.offset();this._refreshOffsets(event);//Generate the original position\nthis.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\no.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);//Set a containment if given in the options\nthis._setContainment();//Trigger event + callbacks\nif(this._trigger(\"start\",event)===false){this._clear();return false;}//Recache the helper size\nthis._cacheHelperProportions();//Prepare the droppable offsets\nif($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}// Execute the drag once - this causes the helper not to be visible before getting its\n// correct position\nthis._mouseDrag(event,true);// If the ddmanager is used for droppables, inform the manager that dragging has started\n// (see #5003)\nif($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}return true;},_refreshOffsets:function _refreshOffsets(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top};},_mouseDrag:function _mouseDrag(event,noPropagation){// reset any necessary cached properties (see #5009)\nif(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}//Compute the helpers position\nthis.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo(\"absolute\");//Call plugins and callbacks and use the resulting position if something is returned\nif(!noPropagation){var ui=this._uiHash();if(this._trigger(\"drag\",event,ui)===false){this._mouseUp(new $.Event(\"mouseup\",event));return false;}this.position=ui.position;}this.helper[0].style.left=this.position.left+\"px\";this.helper[0].style.top=this.position.top+\"px\";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}return false;},_mouseStop:function _mouseStop(event){//If we are using droppables, inform the manager about the drop\nvar that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}//if a drop comes from outside (a sortable)\nif(this.dropped){dropped=this.dropped;this.dropped=false;}if(this.options.revert===\"invalid\"&&!dropped||this.options.revert===\"valid\"&&dropped||this.options.revert===true||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger(\"stop\",event)!==false){that._clear();}});}else{if(this._trigger(\"stop\",event)!==false){this._clear();}}return false;},_mouseUp:function _mouseUp(event){this._unblockFrames();// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n// (see #5003)\nif($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}// Only need to focus if the event occurred on the draggable itself, see #10527\nif(this.handleElement.is(event.target)){// The interaction is over; whether or not the click resulted in a drag,\n// focus the element\nthis.element.trigger(\"focus\");}return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function cancel(){if(this.helper.is(\".ui-draggable-dragging\")){this._mouseUp(new $.Event(\"mouseup\",{target:this.element[0]}));}else{this._clear();}return this;},_getHandle:function _getHandle(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function _setHandleClassName(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,\"ui-draggable-handle\");},_removeHandleClassName:function _removeHandleClassName(){this._removeClass(this.handleElement,\"ui-draggable-handle\");},_createHelper:function _createHelper(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):o.helper===\"clone\"?this.element.clone().removeAttr(\"id\"):this.element;if(!helper.parents(\"body\").length){helper.appendTo(o.appendTo===\"parent\"?this.element[0].parentNode:o.appendTo);}// Http://bugs.jqueryui.com/ticket/9446\n// a helper function can return the original element\n// which wouldn't have been set to relative in _create\nif(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative();}if(helper[0]!==this.element[0]&&!/(fixed|absolute)/.test(helper.css(\"position\"))){helper.css(\"position\",\"absolute\");}return helper;},_setPositionRelative:function _setPositionRelative(){if(!/^(?:r|a|f)/.test(this.element.css(\"position\"))){this.element[0].style.position=\"relative\";}},_adjustOffsetFromHelper:function _adjustOffsetFromHelper(obj){if(typeof obj===\"string\"){obj=obj.split(\" \");}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}if(\"left\"in obj){this.offset.click.left=obj.left+this.margins.left;}if(\"right\"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}if(\"top\"in obj){this.offset.click.top=obj.top+this.margins.top;}if(\"bottom\"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_isRootNode:function _isRootNode(element){return /(html|body)/i.test(element.tagName)||element===this.document[0];},_getParentOffset:function _getParentOffset(){//Get the offsetParent and cache its position\nvar po=this.offsetParent.offset(),document=this.document[0];// This is a special case where we need to modify a offset calculated on start, since the\n// following happened:\n// 1. The position of the helper is absolute, so it's position is calculated based on the\n// next positioned parent\n// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n// the document, which means that the scroll is included in the initial calculation of the\n// offset of the parent, and never recalculated upon drag\nif(this.cssPosition===\"absolute\"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0};}return{top:po.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:po.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)};},_getRelativeOffset:function _getRelativeOffset(){if(this.cssPosition!==\"relative\"){return{top:0,left:0};}var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css(\"top\"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css(\"left\"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollLeft():0)};},_cacheMargins:function _cacheMargins(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0};},_cacheHelperProportions:function _cacheHelperProportions(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function _setContainment(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return;}if(o.containment===\"window\"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}if(o.containment===\"document\"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}if(o.containment.constructor===Array){this.containment=o.containment;return;}if(o.containment===\"parent\"){o.containment=this.helper[0].parentNode;}c=$(o.containment);ce=c[0];if(!ce){return;}isUserScrollable=/(scroll|auto)/.test(c.css(\"overflow\"));this.containment=[(parseInt(c.css(\"borderLeftWidth\"),10)||0)+(parseInt(c.css(\"paddingLeft\"),10)||0),(parseInt(c.css(\"borderTopWidth\"),10)||0)+(parseInt(c.css(\"paddingTop\"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css(\"borderRightWidth\"),10)||0)-(parseInt(c.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css(\"borderBottomWidth\"),10)||0)-(parseInt(c.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=c;},_convertPositionTo:function _convertPositionTo(d,pos){if(!pos){pos=this.position;}var mod=d===\"absolute\"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:// The absolute mouse position\npos.top+// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.top*mod+// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.top*mod-(this.cssPosition===\"fixed\"?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top)*mod,left:// The absolute mouse position\npos.left+// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.left*mod+// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.left*mod-(this.cssPosition===\"fixed\"?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)*mod};},_generatePosition:function _generatePosition(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;// Cache the scroll\nif(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */// If we are not dragging yet, we won't check for options\nif(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}if(o.grid){//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n// argument errors in IE (see ticket #6950)\ntop=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3]?top:top-this.offset.click.top>=containment[1]?top-o.grid[1]:top+o.grid[1]:top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2]?left:left-this.offset.click.left>=containment[0]?left-o.grid[0]:left+o.grid[0]:left;}if(o.axis===\"y\"){pageX=this.originalPageX;}if(o.axis===\"x\"){pageY=this.originalPageY;}}return{top:// The absolute mouse position\npageY-// Click offset (relative to the element)\nthis.offset.click.top-// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.top-// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.top+(this.cssPosition===\"fixed\"?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top),left:// The absolute mouse position\npageX-// Click offset (relative to the element)\nthis.offset.click.left-// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.left-// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.left+(this.cssPosition===\"fixed\"?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)};},_clear:function _clear(){this._removeClass(this.helper,\"ui-draggable-dragging\");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},// From now on bulk stuff - mainly helpers\n_trigger:function _trigger(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);// Absolute position and offset (see #6884 ) have to be recalculated after plugins\nif(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo(\"absolute\");ui.offset=this.positionAbs;}return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function _uiHash(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function start(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable(\"instance\");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);// RefreshPositions is called at drag start to refresh the containerCache\n// which is used in drag. This ensures it's initialized and synchronized\n// with any changes that might have happened on the page since initialization.\nsortable.refreshPositions();sortable._trigger(\"activate\",event,uiSortable);}});},stop:function stop(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;// Allow this sortable to handle removing the helper\ndraggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;// Use _storedCSS To restore properties in the sortable,\n// as this also handles revert (#9675) since the draggable\n// may have modified them in unexpected ways (#8809)\nsortable._storedCSS={position:sortable.placeholder.css(\"position\"),top:sortable.placeholder.css(\"top\"),left:sortable.placeholder.css(\"left\")};sortable._mouseStop(event);// Once drag has ended, the sortable should return to using\n// its original helper, not the shared helper from draggable\nsortable.options.helper=sortable.options._helper;}else{// Prevent this Sortable from removing the helper.\n// However, don't set the draggable to remove the helper\n// either as another connected Sortable may yet handle the removal.\nsortable.cancelHelperRemoval=true;sortable._trigger(\"deactivate\",event,uiSortable);}});},drag:function drag(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;// Copy over variables that sortable's _intersectsWith uses\nsortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){// Copy over variables that sortable's _intersectsWith uses\nthis.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false;}return innermostIntersecting;});}if(innermostIntersecting){// If it intersects, we use a little isOver variable and set it once,\n// so that the move-in stuff gets fired only once.\nif(!sortable.isOver){sortable.isOver=1;// Store draggable's parent in case we need to reappend to it later.\ndraggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data(\"ui-sortable-item\",true);// Store helper option to later restore it\nsortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0];};// Fire the start events of the sortable with our passed browser event,\n// and our own helper (so it doesn't create a new one)\nevent.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);// Because the browser event is way off the new appended portlet,\n// modify necessary variables to reflect the changes\nsortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-sortable.offset.parent.top;draggable._trigger(\"toSortable\",event);// Inform draggable that the helper is in a valid drop zone,\n// used solely in the revert option to handle \"valid/invalid\".\ndraggable.dropped=sortable.element;// Need to refreshPositions of all sortables in the case that\n// adding to one sortable changes the location of the other sortables (#9675)\n$.each(draggable.sortables,function(){this.refreshPositions();});// Hack so receive/update callbacks work (mostly)\ndraggable.currentItem=draggable.element;sortable.fromOutside=draggable;}if(sortable.currentItem){sortable._mouseDrag(event);// Copy the sortable's position because the draggable's can potentially reflect\n// a relative position, while sortable is always absolute, which the dragged\n// element has now become. (#8809)\nui.position=sortable.position;}}else{// If it doesn't intersect with the sortable, and it intersected before,\n// we fake the drag stop of the sortable, but make sure it doesn't remove\n// the helper by using cancelHelperRemoval.\nif(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;// Calling sortable's mouseStop would trigger a revert,\n// so revert must be temporarily false until after mouseStop is called.\nsortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger(\"out\",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);// Restore sortable behaviors that were modfied\n// when the draggable entered the sortable area (#9481)\nsortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove();}// Restore and recalculate the draggable's offset considering the sortable\n// may have modified them in unexpected ways. (#8809, #10669)\nui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger(\"fromSortable\",event);// Inform draggable that the helper is no longer in a valid drop zone\ndraggable.dropped=false;// Need to refreshPositions of all sortables just in case removing\n// from one sortable changes the location of other sortables (#9675)\n$.each(draggable.sortables,function(){this.refreshPositions();});}}});}});$.ui.plugin.add(\"draggable\",\"cursor\",{start:function start(event,ui,instance){var t=$(\"body\"),o=instance.options;if(t.css(\"cursor\")){o._cursor=t.css(\"cursor\");}t.css(\"cursor\",o.cursor);},stop:function stop(event,ui,instance){var o=instance.options;if(o._cursor){$(\"body\").css(\"cursor\",o._cursor);}}});$.ui.plugin.add(\"draggable\",\"opacity\",{start:function start(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css(\"opacity\")){o._opacity=t.css(\"opacity\");}t.css(\"opacity\",o.opacity);},stop:function stop(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css(\"opacity\",o._opacity);}}});$.ui.plugin.add(\"draggable\",\"scroll\",{start:function start(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false);}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!==\"HTML\"){i.overflowOffset=i.scrollParentNotHidden.offset();}},drag:function drag(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!==\"HTML\"){if(!o.axis||o.axis!==\"x\"){if(i.overflowOffset.top+scrollParent.offsetHeight-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed;}}if(!o.axis||o.axis!==\"y\"){if(i.overflowOffset.left+scrollParent.offsetWidth-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!==\"x\"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}if(!o.axis||o.axis!==\"y\"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add(\"draggable\",\"snap\",{start:function start(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?o.snap.items||\":data(ui-draggable)\":o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function drag(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}));}inst.snapElements[i].snapping=false;continue;}if(o.snapMode!==\"inner\"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo(\"relative\",{top:t-inst.helperProportions.height,left:0}).top;}if(bs){ui.position.top=inst._convertPositionTo(\"relative\",{top:b,left:0}).top;}if(ls){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:l-inst.helperProportions.width}).left;}if(rs){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:r}).left;}}first=ts||bs||ls||rs;if(o.snapMode!==\"outer\"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo(\"relative\",{top:t,left:0}).top;}if(bs){ui.position.top=inst._convertPositionTo(\"relative\",{top:b-inst.helperProportions.height,left:0}).top;}if(ls){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:l}).left;}if(rs){ui.position.left=inst._convertPositionTo(\"relative\",{top:0,left:r-inst.helperProportions.width}).left;}}if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item}));}inst.snapElements[i].snapping=ts||bs||ls||rs||first;}}});$.ui.plugin.add(\"draggable\",\"stack\",{start:function start(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css(\"zIndex\"),10)||0)-(parseInt($(b).css(\"zIndex\"),10)||0);});if(!group.length){return;}min=parseInt($(group[0]).css(\"zIndex\"),10)||0;$(group).each(function(i){$(this).css(\"zIndex\",min+i);});this.css(\"zIndex\",min+group.length);}});$.ui.plugin.add(\"draggable\",\"zIndex\",{start:function start(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css(\"zIndex\")){o._zIndex=t.css(\"zIndex\");}t.css(\"zIndex\",o.zIndex);},stop:function stop(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css(\"zIndex\",o._zIndex);}}});var widgetsDraggable=$.ui.draggable;/*!\n * jQuery UI Resizable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Resizable\n//>>group: Interactions\n//>>description: Enables resize functionality for any element.\n//>>docs: http://api.jqueryui.com/resizable/\n//>>demos: http://jqueryui.com/resizable/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/resizable.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.resizable\",$.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"resize\",options:{alsoResize:false,animate:false,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:false,autoHide:false,classes:{\"ui-resizable-se\":\"ui-icon ui-icon-gripsmall-diagonal-se\"},containment:false,ghost:false,grid:false,handles:\"e,s,se\",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,// See #7960\nzIndex:90,// Callbacks\nresize:null,start:null,stop:null},_num:function _num(value){return parseFloat(value)||0;},_isNumber:function _isNumber(value){return!isNaN(parseFloat(value));},_hasScroll:function _hasScroll(el,a){if($(el).css(\"overflow\")===\"hidden\"){return false;}var scroll=a&&a===\"left\"?\"scrollLeft\":\"scrollTop\",has=false;if(el[scroll]>0){return true;}// TODO: determine which cases actually cause this to happen\n// if the element doesn't have the scroll set, see if it's possible to\n// set the scroll\nel[scroll]=1;has=el[scroll]>0;el[scroll]=0;return has;},_create:function _create(){var margins,o=this.options,that=this;this._addClass(\"ui-resizable\");$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||\"ui-resizable-helper\":null});// Wrap the element if it cannot hold child nodes\nif(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")}));this.element=this.element.parent().data(\"ui-resizable\",this.element.resizable(\"instance\"));this.elementIsWrapper=true;margins={marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\"),marginLeft:this.originalElement.css(\"marginLeft\")};this.element.css(margins);this.originalElement.css(\"margin\",0);// support: Safari\n// Prevent Safari textarea resize\nthis.originalResizeStyle=this.originalElement.css(\"resize\");this.originalElement.css(\"resize\",\"none\");this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"}));// Support: IE9\n// avoid IE jump (hard set the margin)\nthis.originalElement.css(margins);this._proportionallyResize();}this._setupHandles();if(o.autoHide){$(this.element).on(\"mouseenter\",function(){if(o.disabled){return;}that._removeClass(\"ui-resizable-autohide\");that._handles.show();}).on(\"mouseleave\",function(){if(o.disabled){return;}if(!that.resizing){that._addClass(\"ui-resizable-autohide\");that._handles.hide();}});}this._mouseInit();},_destroy:function _destroy(){this._mouseDestroy();var wrapper,_destroy=function _destroy(exp){$(exp).removeData(\"resizable\").removeData(\"ui-resizable\").off(\".resizable\").find(\".ui-resizable-handle\").remove();};// TODO: Unwrap at same DOM position\nif(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css(\"position\"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css(\"top\"),left:wrapper.css(\"left\")}).insertAfter(wrapper);wrapper.remove();}this.originalElement.css(\"resize\",this.originalResizeStyle);_destroy(this.originalElement);return this;},_setOption:function _setOption(key,value){this._super(key,value);switch(key){case\"handles\":this._removeHandles();this._setupHandles();break;default:break;}},_setupHandles:function _setupHandles(){var o=this.options,handle,i,n,hname,axis,that=this;this.handles=o.handles||(!$(\".ui-resizable-handle\",this.element).length?\"e,s,se\":{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"});this._handles=$();if(this.handles.constructor===String){if(this.handles===\"all\"){this.handles=\"n,e,s,w,se,sw,ne,nw\";}n=this.handles.split(\",\");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname=\"ui-resizable-\"+handle;axis=$(\"<div>\");this._addClass(axis,\"ui-resizable-handle \"+hname);axis.css({zIndex:o.zIndex});this.handles[handle]=\".ui-resizable-\"+handle;this.element.append(axis);}}this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show();}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{\"mousedown\":that._mouseDown});}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\");target.css(padPos,padWrapper);this._proportionallyResize();}this._handles=this._handles.add(this.handles[i]);}};// TODO: make renderAxis a prototype function\nthis._renderAxis(this.element);this._handles=this._handles.add(this.element.find(\".ui-resizable-handle\"));this._handles.disableSelection();this._handles.on(\"mouseover\",function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}that.axis=axis&&axis[1]?axis[1]:\"se\";}});if(o.autoHide){this._handles.hide();this._addClass(\"ui-resizable-autohide\");}},_removeHandles:function _removeHandles(){this._handles.remove();},_mouseCapture:function _mouseCapture(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}return!this.options.disabled&&capture;},_mouseStart:function _mouseStart(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css(\"left\"));curtop=this._num(this.helper.css(\"top\"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=typeof o.aspectRatio===\"number\"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;cursor=$(\".ui-resizable-\"+this.axis).css(\"cursor\");$(\"body\").css(\"cursor\",cursor===\"auto\"?this.axis+\"-resize\":cursor);this._addClass(\"ui-resizable-resizing\");this._propagate(\"start\",event);return true;},_mouseDrag:function _mouseDrag(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false;}data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}data=this._respectSize(data,event);this._updateCache(data);this._propagate(\"resize\",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger(\"resize\",event,this.ui());this._applyChanges();}return false;},_mouseStop:function _mouseStop(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&/textarea/i.test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],\"left\")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth};left=parseFloat(that.element.css(\"left\"))+(that.position.left-that.originalPosition.left)||null;top=parseFloat(that.element.css(\"top\"))+(that.position.top-that.originalPosition.top)||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}$(\"body\").css(\"cursor\",\"auto\");this._removeClass(\"ui-resizable-resizing\");this._propagate(\"stop\",event);if(this._helper){this.helper.remove();}return false;},_updatePrevProperties:function _updatePrevProperties(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function _applyChanges(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+\"px\";}if(this.position.left!==this.prevPosition.left){props.left=this.position.left+\"px\";}if(this.size.width!==this.prevSize.width){props.width=this.size.width+\"px\";}if(this.size.height!==this.prevSize.height){props.height=this.size.height+\"px\";}this.helper.css(props);return props;},_updateVirtualBoundaries:function _updateVirtualBoundaries(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}this._vBoundaries=b;},_updateCache:function _updateCache(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left;}if(this._isNumber(data.top)){this.position.top=data.top;}if(this._isNumber(data.height)){this.size.height=data.height;}if(this._isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function _updateRatio(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=data.height*this.aspectRatio;}else if(this._isNumber(data.width)){data.height=data.width/this.aspectRatio;}if(a===\"sw\"){data.left=cpos.left+(csize.width-data.width);data.top=null;}if(a===\"nw\"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}return data;},_respectSize:function _respectSize(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=this._isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=this._isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=this._isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}if(isminh){data.height=o.minHeight;}if(ismaxw){data.width=o.maxWidth;}if(ismaxh){data.height=o.maxHeight;}if(isminw&&cw){data.left=dw-o.minWidth;}if(ismaxw&&cw){data.left=dw-o.maxWidth;}if(isminh&&ch){data.top=dh-o.minHeight;}if(ismaxh&&ch){data.top=dh-o.maxHeight;}// Fixing jump error on top/left - bug #2330\nif(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}return data;},_getPaddingPlusBorderDimensions:function _getPaddingPlusBorderDimensions(element){var i=0,widths=[],borders=[element.css(\"borderTopWidth\"),element.css(\"borderRightWidth\"),element.css(\"borderBottomWidth\"),element.css(\"borderLeftWidth\")],paddings=[element.css(\"paddingTop\"),element.css(\"paddingRight\"),element.css(\"paddingBottom\"),element.css(\"paddingLeft\")];for(;i<4;i++){widths[i]=parseFloat(borders[i])||0;widths[i]+=parseFloat(paddings[i])||0;}return{height:widths[0]+widths[2],width:widths[1]+widths[3]};},_proportionallyResize:function _proportionallyResize(){if(!this._proportionallyResizeElements.length){return;}var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];// TODO: Seems like a bug to cache this.outerDimensions\n// considering that we are in a loop.\nif(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel);}prel.css({height:element.height()-this.outerDimensions.height||0,width:element.width()-this.outerDimensions.width||0});}},_renderProxy:function _renderProxy(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$(\"<div style='overflow:hidden;'></div>\");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++o.zIndex//TODO: Don't modify option\n});this.helper.appendTo(\"body\").disableSelection();}else{this.helper=this.element;}},_change:{e:function e(event,dx){return{width:this.originalSize.width+dx};},w:function w(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function n(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function s(event,dx,dy){return{height:this.originalSize.height+dy};},se:function se(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function sw(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function ne(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function nw(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function _propagate(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);n!==\"resize\"&&this._trigger(n,event,this.ui());},plugins:{},ui:function ui(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});/*\n * Resizable Extensions\n */$.ui.plugin.add(\"resizable\",\"animate\",{stop:function stop(event){var that=$(this).resizable(\"instance\"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],\"left\")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseFloat(that.element.css(\"left\"))+(that.position.left-that.originalPosition.left)||null,top=parseFloat(that.element.css(\"top\"))+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function step(){var data={width:parseFloat(that.element.css(\"width\")),height:parseFloat(that.element.css(\"height\")),top:parseFloat(that.element.css(\"top\")),left:parseFloat(that.element.css(\"left\"))};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}// Propagating resize, and updating values for each animation step\nthat._updateCache(data);that._propagate(\"resize\",event);}});}});$.ui.plugin.add(\"resizable\",\"containment\",{start:function start(){var element,p,co,ch,cw,width,height,that=$(this).resizable(\"instance\"),o=that.options,el=that.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(!ce){return;}that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{element=$(ce);p=[];$([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(i,name){p[i]=that._num(element.css(\"padding\"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=that._hasScroll(ce,\"left\")?ce.scrollWidth:cw;height=that._hasScroll(ce)?ce.scrollHeight:ch;that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function resize(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable(\"instance\"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&/static/.test(ce.css(\"position\"))){cop=co;}if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left);if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}that.position.left=o.helper?co.left:0;}if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}that.position.top=that._helper?co.top:0;}isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css(\"position\"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top;}woset=Math.abs(that.sizeDiff.width+(that._helper?that.offset.left-cop.left:that.offset.left-co.left));hoset=Math.abs(that.sizeDiff.height+(that._helper?that.offset.top-cop.top:that.offset.top-co.top));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}}if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}}if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height;}},stop:function stop(){var that=$(this).resizable(\"instance\"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&/relative/.test(ce.css(\"position\"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}if(that._helper&&!o.animate&&/static/.test(ce.css(\"position\"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function start(){var that=$(this).resizable(\"instance\"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data(\"ui-resizable-alsoresize\",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css(\"left\")),top:parseFloat(el.css(\"top\"))});});},resize:function resize(event,ui){var that=$(this).resizable(\"instance\"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data(\"ui-resizable-alsoresize\"),style={},css=el.parents(ui.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});},stop:function stop(){$(this).removeData(\"ui-resizable-alsoresize\");}});$.ui.plugin.add(\"resizable\",\"ghost\",{start:function start(){var that=$(this).resizable(\"instance\"),cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:\"block\",position:\"relative\",height:cs.height,width:cs.width,margin:0,left:0,top:0});that._addClass(that.ghost,\"ui-resizable-ghost\");// DEPRECATED\n// TODO: remove after 1.12\nif($.uiBackCompat!==false&&typeof that.options.ghost===\"string\"){// Ghost option\nthat.ghost.addClass(this.options.ghost);}that.ghost.appendTo(that.helper);},resize:function resize(){var that=$(this).resizable(\"instance\");if(that.ghost){that.ghost.css({position:\"relative\",height:that.size.height,width:that.size.width});}},stop:function stop(){var that=$(this).resizable(\"instance\");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add(\"resizable\",\"grid\",{resize:function resize(){var outerDimensions,that=$(this).resizable(\"instance\"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid===\"number\"?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid;if(isMinWidth){newWidth+=gridX;}if(isMinHeight){newHeight+=gridY;}if(isMaxWidth){newWidth-=gridX;}if(isMaxHeight){newHeight-=gridY;}if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this);}if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight;}if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth;}}}});var widgetsResizable=$.ui.resizable;/*!\n * jQuery UI Dialog 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Dialog\n//>>group: Widgets\n//>>description: Displays customizable dialog windows.\n//>>docs: http://api.jqueryui.com/dialog/\n//>>demos: http://jqueryui.com/dialog/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/dialog.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.dialog\",{version:\"1.12.1\",options:{appendTo:\"body\",autoOpen:true,buttons:[],classes:{\"ui-dialog\":\"ui-corner-all\",\"ui-dialog-titlebar\":\"ui-corner-all\"},closeOnEscape:true,closeText:\"Close\",draggable:true,hide:null,height:\"auto\",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:\"center\",at:\"center\",of:window,collision:\"fit\",// Ensure the titlebar is always visible\nusing:function using(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css(\"top\",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,// Callbacks\nbeforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function _create(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr(\"title\");if(this.options.title==null&&this.originalTitle!=null){this.options.title=this.originalTitle;}// Dialogs can't be disabled\nif(this.options.disabled){this.options.disabled=false;}this._createWrapper();this.element.show().removeAttr(\"title\").appendTo(this.uiDialog);this._addClass(\"ui-dialog-content\",\"ui-widget-content\");this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}if(this.options.resizable&&$.fn.resizable){this._makeResizable();}this._isOpen=false;this._trackFocus();},_init:function _init(){if(this.options.autoOpen){this.open();}},_appendTo:function _appendTo(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}return this.document.find(element||\"body\").eq(0);},_destroy:function _destroy(){var next,originalPosition=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss)// Without detaching first, the following becomes really slow\n.detach();this.uiDialog.remove();if(this.originalTitle){this.element.attr(\"title\",this.originalTitle);}next=originalPosition.parent.children().eq(originalPosition.index);// Don't try to place the dialog next to itself (#8613)\nif(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function widget(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function close(event){var that=this;if(!this._isOpen||this._trigger(\"beforeClose\",event)===false){return;}this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(\":focusable\").trigger(\"focus\").length){// Hiding a focused element doesn't trigger blur in WebKit\n// so in case we have nothing to focus on, explicitly blur the active element\n// https://bugs.webkit.org/show_bug.cgi?id=47182\n$.ui.safeBlur($.ui.safeActiveElement(this.document[0]));}this._hide(this.uiDialog,this.options.hide,function(){that._trigger(\"close\",event);});},isOpen:function isOpen(){return this._isOpen;},moveToTop:function moveToTop(){this._moveToTop();},_moveToTop:function _moveToTop(event,silent){var moved=false,zIndices=this.uiDialog.siblings(\".ui-front:visible\").map(function(){return+$(this).css(\"z-index\");}).get(),zIndexMax=Math.max.apply(null,zIndices);if(zIndexMax>=+this.uiDialog.css(\"z-index\")){this.uiDialog.css(\"z-index\",zIndexMax+1);moved=true;}if(moved&&!silent){this._trigger(\"focus\",event);}return moved;},open:function open(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}return;}this._isOpen=true;this.opener=$($.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);// Ensure the overlay is moved to the top with the dialog, but only when\n// opening. The overlay shouldn't move after the dialog is open so that\n// modeless dialogs opened after the modal dialog stack properly.\nif(this.overlay){this.overlay.css(\"z-index\",this.uiDialog.css(\"z-index\")-1);}this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger(\"focus\");});// Track the dialog immediately upon openening in case a focus event\n// somehow occurs outside of the dialog before an element inside the\n// dialog is focused (#10152)\nthis._makeFocusTarget();this._trigger(\"open\");},_focusTabbable:function _focusTabbable(){// Set focus to the first match:\n// 1. An element that was focused previously\n// 2. First element inside the dialog matching [autofocus]\n// 3. Tabbable element inside the content element\n// 4. Tabbable element inside the buttonpane\n// 5. The close button\n// 6. The dialog itself\nvar hasFocus=this._focusedElement;if(!hasFocus){hasFocus=this.element.find(\"[autofocus]\");}if(!hasFocus.length){hasFocus=this.element.find(\":tabbable\");}if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(\":tabbable\");}if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(\":tabbable\");}if(!hasFocus.length){hasFocus=this.uiDialog;}hasFocus.eq(0).trigger(\"focus\");},_keepFocus:function _keepFocus(event){function checkFocus(){var activeElement=$.ui.safeActiveElement(this.document[0]),isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}event.preventDefault();checkFocus.call(this);// support: IE\n// IE <= 8 doesn't prevent moving focus even with event.preventDefault()\n// so we check again later\nthis._delay(checkFocus);},_createWrapper:function _createWrapper(){this.uiDialog=$(\"<div>\").hide().attr({// Setting tabIndex makes the div focusable\ntabIndex:-1,role:\"dialog\"}).appendTo(this._appendTo());this._addClass(this.uiDialog,\"ui-dialog\",\"ui-widget ui-widget-content ui-front\");this._on(this.uiDialog,{keydown:function keydown(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}// Prevent tabbing out of dialogs\nif(event.keyCode!==$.ui.keyCode.TAB||event.isDefaultPrevented()){return;}var tabbables=this.uiDialog.find(\":tabbable\"),first=tabbables.filter(\":first\"),last=tabbables.filter(\":last\");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){this._delay(function(){first.trigger(\"focus\");});event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){this._delay(function(){last.trigger(\"focus\");});event.preventDefault();}},mousedown:function mousedown(event){if(this._moveToTop(event)){this._focusTabbable();}}});// We assume that any existing aria-describedby attribute means\n// that the dialog content is marked up properly\n// otherwise we brute force the content as the description\nif(!this.element.find(\"[aria-describedby]\").length){this.uiDialog.attr({\"aria-describedby\":this.element.uniqueId().attr(\"id\")});}},_createTitlebar:function _createTitlebar(){var uiDialogTitle;this.uiDialogTitlebar=$(\"<div>\");this._addClass(this.uiDialogTitlebar,\"ui-dialog-titlebar\",\"ui-widget-header ui-helper-clearfix\");this._on(this.uiDialogTitlebar,{mousedown:function mousedown(event){// Don't prevent click on close button (#8838)\n// Focusing a dialog that is partially scrolled out of view\n// causes the browser to scroll it into view, preventing the click event\nif(!$(event.target).closest(\".ui-dialog-titlebar-close\")){// Dialog isn't getting focus when dragging (#8063)\nthis.uiDialog.trigger(\"focus\");}}});// Support: IE\n// Use type=\"button\" to prevent enter keypresses in textboxes from closing the\n// dialog in IE (#9312)\nthis.uiDialogTitlebarClose=$(\"<button type='button'></button>\").button({label:$(\"<a>\").text(this.options.closeText).html(),icon:\"ui-icon-closethick\",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,\"ui-dialog-titlebar-close\");this._on(this.uiDialogTitlebarClose,{click:function click(event){event.preventDefault();this.close(event);}});uiDialogTitle=$(\"<span>\").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(uiDialogTitle,\"ui-dialog-title\");this._title(uiDialogTitle);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({\"aria-labelledby\":uiDialogTitle.attr(\"id\")});},_title:function _title(title){if(this.options.title){title.text(this.options.title);}else{title.html(\"&#160;\");}},_createButtonPane:function _createButtonPane(){this.uiDialogButtonPane=$(\"<div>\");this._addClass(this.uiDialogButtonPane,\"ui-dialog-buttonpane\",\"ui-widget-content ui-helper-clearfix\");this.uiButtonSet=$(\"<div>\").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,\"ui-dialog-buttonset\");this._createButtons();},_createButtons:function _createButtons(){var that=this,buttons=this.options.buttons;// If we already have a button pane, remove it\nthis.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||$.isArray(buttons)&&!buttons.length){this._removeClass(this.uiDialog,\"ui-dialog-buttons\");return;}$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;// Default to a non-submitting button\nprops=$.extend({type:\"button\"},props);// Change the context for the click callback to be the main element\nclick=props.click;buttonOptions={icon:props.icon,iconPosition:props.iconPosition,showLabel:props.showLabel,// Deprecated options\nicons:props.icons,text:props.text};delete props.click;delete props.icon;delete props.iconPosition;delete props.showLabel;// Deprecated options\ndelete props.icons;if(typeof props.text===\"boolean\"){delete props.text;}$(\"<button></button>\",props).button(buttonOptions).appendTo(that.uiButtonSet).on(\"click\",function(){click.apply(that.element[0],arguments);});});this._addClass(this.uiDialog,\"ui-dialog-buttons\");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function _makeDraggable(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}this.uiDialog.draggable({cancel:\".ui-dialog-content, .ui-dialog-titlebar-close\",handle:\".ui-dialog-titlebar\",containment:\"document\",start:function start(event,ui){that._addClass($(this),\"ui-dialog-dragging\");that._blockFrames();that._trigger(\"dragStart\",event,filteredUi(ui));},drag:function drag(event,ui){that._trigger(\"drag\",event,filteredUi(ui));},stop:function stop(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:\"left top\",at:\"left\"+(left>=0?\"+\":\"\")+left+\" \"+\"top\"+(top>=0?\"+\":\"\")+top,of:that.window};that._removeClass($(this),\"ui-dialog-dragging\");that._unblockFrames();that._trigger(\"dragStop\",event,filteredUi(ui));}});},_makeResizable:function _makeResizable(){var that=this,options=this.options,handles=options.resizable,// .ui-resizable has position: relative defined in the stylesheet\n// but dialogs have to use absolute or fixed positioning\nposition=this.uiDialog.css(\"position\"),resizeHandles=typeof handles===\"string\"?handles:\"n,e,s,w,se,sw,ne,nw\";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}this.uiDialog.resizable({cancel:\".ui-dialog-content\",containment:\"document\",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function start(event,ui){that._addClass($(this),\"ui-dialog-resizing\");that._blockFrames();that._trigger(\"resizeStart\",event,filteredUi(ui));},resize:function resize(event,ui){that._trigger(\"resize\",event,filteredUi(ui));},stop:function stop(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),top=offset.top-that.document.scrollTop();options.height=that.uiDialog.height();options.width=that.uiDialog.width();options.position={my:\"left top\",at:\"left\"+(left>=0?\"+\":\"\")+left+\" \"+\"top\"+(top>=0?\"+\":\"\")+top,of:that.window};that._removeClass($(this),\"ui-dialog-resizing\");that._unblockFrames();that._trigger(\"resizeStop\",event,filteredUi(ui));}}).css(\"position\",position);},_trackFocus:function _trackFocus(){this._on(this.widget(),{focusin:function focusin(event){this._makeFocusTarget();this._focusedElement=$(event.target);}});},_makeFocusTarget:function _makeFocusTarget(){this._untrackInstance();this._trackingInstances().unshift(this);},_untrackInstance:function _untrackInstance(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);if(exists!==-1){instances.splice(exists,1);}},_trackingInstances:function _trackingInstances(){var instances=this.document.data(\"ui-dialog-instances\");if(!instances){instances=[];this.document.data(\"ui-dialog-instances\",instances);}return instances;},_minHeight:function _minHeight(){var options=this.options;return options.height===\"auto\"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function _position(){// Need to show the dialog to get the actual offset in the position plugin\nvar isVisible=this.uiDialog.is(\":visible\");if(!isVisible){this.uiDialog.show();}this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function _setOptions(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in that.sizeRelatedOptions){resize=true;}if(key in that.resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}if(this.uiDialog.is(\":data(ui-resizable)\")){this.uiDialog.resizable(\"option\",resizableOptions);}},_setOption:function _setOption(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key===\"disabled\"){return;}this._super(key,value);if(key===\"appendTo\"){this.uiDialog.appendTo(this._appendTo());}if(key===\"buttons\"){this._createButtons();}if(key===\"closeText\"){this.uiDialogTitlebarClose.button({// Ensure that we always pass a string\nlabel:$(\"<a>\").text(\"\"+this.options.closeText).html()});}if(key===\"draggable\"){isDraggable=uiDialog.is(\":data(ui-draggable)\");if(isDraggable&&!value){uiDialog.draggable(\"destroy\");}if(!isDraggable&&value){this._makeDraggable();}}if(key===\"position\"){this._position();}if(key===\"resizable\"){// currently resizable, becoming non-resizable\nisResizable=uiDialog.is(\":data(ui-resizable)\");if(isResizable&&!value){uiDialog.resizable(\"destroy\");}// Currently resizable, changing handles\nif(isResizable&&typeof value===\"string\"){uiDialog.resizable(\"option\",\"handles\",value);}// Currently non-resizable, becoming resizable\nif(!isResizable&&value!==false){this._makeResizable();}}if(key===\"title\"){this._title(this.uiDialogTitlebar.find(\".ui-dialog-title\"));}},_size:function _size(){// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content\n// divs will both have width and height set, so we need to reset them\nvar nonContentHeight,minContentHeight,maxContentHeight,options=this.options;// Reset content sizing\nthis.element.show().css({width:\"auto\",minHeight:0,maxHeight:\"none\",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}// Reset wrapper sizing\n// determine the height of all the non-content elements\nnonContentHeight=this.uiDialog.css({height:\"auto\",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight===\"number\"?Math.max(0,options.maxHeight-nonContentHeight):\"none\";if(options.height===\"auto\"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:\"auto\"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}if(this.uiDialog.is(\":data(ui-resizable)\")){this.uiDialog.resizable(\"option\",\"minHeight\",this._minHeight());}},_blockFrames:function _blockFrames(){this.iframeBlocks=this.document.find(\"iframe\").map(function(){var iframe=$(this);return $(\"<div>\").css({position:\"absolute\",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function _unblockFrames(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function _allowInteraction(event){if($(event.target).closest(\".ui-dialog\").length){return true;}// TODO: Remove hack when datepicker implements\n// the .ui-front logic (#8989)\nreturn!!$(event.target).closest(\".ui-datepicker\").length;},_createOverlay:function _createOverlay(){if(!this.options.modal){return;}// We use a delay in case the overlay is created from an\n// event that we're going to be cancelling (#2804)\nvar isOpening=true;this._delay(function(){isOpening=false;});if(!this.document.data(\"ui-dialog-overlays\")){// Prevent use of anchors and inputs\n// Using _on() for an event handler shared across many instances is\n// safe because the dialogs stack and must be closed in reverse order\nthis._on(this.document,{focusin:function focusin(event){if(isOpening){return;}if(!this._allowInteraction(event)){event.preventDefault();this._trackingInstances()[0]._focusTabbable();}}});}this.overlay=$(\"<div>\").appendTo(this._appendTo());this._addClass(this.overlay,null,\"ui-widget-overlay ui-front\");this._on(this.overlay,{mousedown:\"_keepFocus\"});this.document.data(\"ui-dialog-overlays\",(this.document.data(\"ui-dialog-overlays\")||0)+1);},_destroyOverlay:function _destroyOverlay(){if(!this.options.modal){return;}if(this.overlay){var overlays=this.document.data(\"ui-dialog-overlays\")-1;if(!overlays){this._off(this.document,\"focusin\");this.document.removeData(\"ui-dialog-overlays\");}else{this.document.data(\"ui-dialog-overlays\",overlays);}this.overlay.remove();this.overlay=null;}}});// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif($.uiBackCompat!==false){// Backcompat for dialogClass option\n$.widget(\"ui.dialog\",$.ui.dialog,{options:{dialogClass:\"\"},_createWrapper:function _createWrapper(){this._super();this.uiDialog.addClass(this.options.dialogClass);},_setOption:function _setOption(key,value){if(key===\"dialogClass\"){this.uiDialog.removeClass(this.options.dialogClass).addClass(value);}this._superApply(arguments);}});}var widgetsDialog=$.ui.dialog;/*!\n * jQuery UI Droppable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Droppable\n//>>group: Interactions\n//>>description: Enables drop targets for draggable elements.\n//>>docs: http://api.jqueryui.com/droppable/\n//>>demos: http://jqueryui.com/droppable/\n$.widget(\"ui.droppable\",{version:\"1.12.1\",widgetEventPrefix:\"drop\",options:{accept:\"*\",addClasses:true,greedy:false,scope:\"default\",tolerance:\"intersect\",// Callbacks\nactivate:null,deactivate:null,drop:null,out:null,over:null},_create:function _create(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions=function()/* valueToWrite */{if(arguments.length){// Store the droppable's proportions\nproportions=arguments[0];}else{// Retrieve or derive the droppable's proportions\nreturn proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};}};this._addToManager(o.scope);o.addClasses&&this._addClass(\"ui-droppable\");},_addToManager:function _addToManager(scope){// Add the reference and positions to the manager\n$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[];$.ui.ddmanager.droppables[scope].push(this);},_splice:function _splice(drop){var i=0;for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}},_destroy:function _destroy(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);},_setOption:function _setOption(key,value){if(key===\"accept\"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}else if(key===\"scope\"){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this._addToManager(value);}this._super(key,value);},_activate:function _activate(event){var draggable=$.ui.ddmanager.current;this._addActiveClass();if(draggable){this._trigger(\"activate\",event,this.ui(draggable));}},_deactivate:function _deactivate(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass();if(draggable){this._trigger(\"deactivate\",event,this.ui(draggable));}},_over:function _over(event){var draggable=$.ui.ddmanager.current;// Bail if draggable and droppable are same element\nif(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this._addHoverClass();this._trigger(\"over\",event,this.ui(draggable));}},_out:function _out(event){var draggable=$.ui.ddmanager.current;// Bail if draggable and droppable are same element\nif(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this._removeHoverClass();this._trigger(\"out\",event,this.ui(draggable));}},_drop:function _drop(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;// Bail if draggable and droppable are same element\nif(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var inst=$(this).droppable(\"instance\");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}if(this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this._removeActiveClass();this._removeHoverClass();this._trigger(\"drop\",event,this.ui(draggable));return this.element;}return false;},ui:function ui(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs};},// Extension points just to make backcompat sane and avoid duplicating logic\n// TODO: Remove in 1.13 along with call to it below\n_addHoverClass:function _addHoverClass(){this._addClass(\"ui-droppable-hover\");},_removeHoverClass:function _removeHoverClass(){this._removeClass(\"ui-droppable-hover\");},_addActiveClass:function _addActiveClass(){this._addClass(\"ui-droppable-active\");},_removeActiveClass:function _removeActiveClass(){this._removeClass(\"ui-droppable-active\");}});var intersect=$.ui.intersect=function(){function isOverAxis(x,reference,size){return x>=reference&&x<reference+size;}return function(draggable,droppable,toleranceMode,event){if(!droppable.offset){return false;}var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case\"fit\":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case\"intersect\":return l<x1+draggable.helperProportions.width/2&&// Right Half\nx2-draggable.helperProportions.width/2<r&&// Left Half\nt<y1+draggable.helperProportions.height/2&&// Bottom Half\ny2-draggable.helperProportions.height/2<b;// Top Half\ncase\"pointer\":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case\"touch\":return(y1>=t&&y1<=b||// Top edge touching\ny2>=t&&y2<=b||// Bottom edge touching\ny1<t&&y2>b// Surrounded vertically\n)&&(x1>=l&&x1<=r||// Left edge touching\nx2>=l&&x2<=r||// Right edge touching\nx1<l&&x2>r// Surrounded horizontally\n);default:return false;}};}();/*\n\tThis manager tracks offsets of draggables and droppables\n*/$.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function prepareOffsets(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,// workaround for #2317\nlist=(t.currentItem||t.element).find(\":data(ui-droppable)\").addBack();droppablesLoop:for(i=0;i<m.length;i++){// No disabled and non-accepted\nif(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element)){continue;}// Filter out elements in the current dragged item\nfor(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop;}}m[i].visible=m[i].element.css(\"display\")!==\"none\";if(!m[i].visible){continue;}// Activate the droppable if used directly from draggables\nif(type===\"mousedown\"){m[i]._activate.call(m[i],event);}m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight});}},drop:function drop(draggable,event){var dropped=false;// Create a copy of the droppables in case the list changes during the drop (#9116)\n$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}if(!this.options.disabled&&this.visible&&intersect(draggable,this,this.options.tolerance,event)){dropped=this._drop.call(this,event)||dropped;}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function dragStart(draggable,event){// Listen for scrolling so that if the dragging causes scrolling the position of the\n// droppables can be recalculated (see #5003)\ndraggable.element.parentsUntil(\"body\").on(\"scroll.droppable\",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function drag(draggable,event){// If you have a highly dynamic page, you might try this option. It renders positions\n// every time you move the mouse.\nif(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}// Run through all droppables and check their positions based on specific tolerance options\n$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}var parentInstance,scope,parent,intersects=intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?\"isout\":intersects&&!this.isover?\"isover\":null;if(!c){return;}if(this.options.greedy){// find droppable parents with same scope\nscope=this.options.scope;parent=this.element.parents(\":data(ui-droppable)\").filter(function(){return $(this).droppable(\"instance\").options.scope===scope;});if(parent.length){parentInstance=$(parent[0]).droppable(\"instance\");parentInstance.greedyChild=c===\"isover\";}}// We just moved into a greedy child\nif(parentInstance&&c===\"isover\"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}this[c]=true;this[c===\"isout\"?\"isover\":\"isout\"]=false;this[c===\"isover\"?\"_over\":\"_out\"].call(this,event);// We just moved out of a greedy child\nif(parentInstance&&c===\"isout\"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function dragStop(draggable,event){draggable.element.parentsUntil(\"body\").off(\"scroll.droppable\");// Call prepareOffsets one final time since IE does not fire return scroll events when\n// overflow was caused by drag (see #5003)\nif(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif($.uiBackCompat!==false){// Backcompat for activeClass and hoverClass options\n$.widget(\"ui.droppable\",$.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function _addActiveClass(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass);}},_removeActiveClass:function _removeActiveClass(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}},_addHoverClass:function _addHoverClass(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}},_removeHoverClass:function _removeHoverClass(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}}});}var widgetsDroppable=$.ui.droppable;/*!\n * jQuery UI Progressbar 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Progressbar\n//>>group: Widgets\n// jscs:disable maximumLineLength\n//>>description: Displays a status indicator for loading state, standard percentage, and other progress indicators.\n// jscs:enable maximumLineLength\n//>>docs: http://api.jqueryui.com/progressbar/\n//>>demos: http://jqueryui.com/progressbar/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/progressbar.css\n//>>css.theme: ../../themes/base/theme.css\nvar widgetsProgressbar=$.widget(\"ui.progressbar\",{version:\"1.12.1\",options:{classes:{\"ui-progressbar\":\"ui-corner-all\",\"ui-progressbar-value\":\"ui-corner-left\",\"ui-progressbar-complete\":\"ui-corner-right\"},max:100,value:0,change:null,complete:null},min:0,_create:function _create(){// Constrain initial value\nthis.oldValue=this.options.value=this._constrainedValue();this.element.attr({// Only set static values; aria-valuenow and aria-valuemax are\n// set inside _refreshValue()\nrole:\"progressbar\",\"aria-valuemin\":this.min});this._addClass(\"ui-progressbar\",\"ui-widget ui-widget-content\");this.valueDiv=$(\"<div>\").appendTo(this.element);this._addClass(this.valueDiv,\"ui-progressbar-value\",\"ui-widget-header\");this._refreshValue();},_destroy:function _destroy(){this.element.removeAttr(\"role aria-valuemin aria-valuemax aria-valuenow\");this.valueDiv.remove();},value:function value(newValue){if(newValue===undefined){return this.options.value;}this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function _constrainedValue(newValue){if(newValue===undefined){newValue=this.options.value;}this.indeterminate=newValue===false;// Sanitize value\nif(typeof newValue!==\"number\"){newValue=0;}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function _setOptions(options){// Ensure \"value\" option is set after other values (like max)\nvar value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function _setOption(key,value){if(key===\"max\"){// Don't allow a max less than min\nvalue=Math.max(this.min,value);}this._super(key,value);},_setOptionDisabled:function _setOptionDisabled(value){this._super(value);this.element.attr(\"aria-disabled\",value);this._toggleClass(null,\"ui-state-disabled\",!!value);},_percentage:function _percentage(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function _refreshValue(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).width(percentage.toFixed(0)+\"%\");this._toggleClass(this.valueDiv,\"ui-progressbar-complete\",null,value===this.options.max)._toggleClass(\"ui-progressbar-indeterminate\",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr(\"aria-valuenow\");if(!this.overlayDiv){this.overlayDiv=$(\"<div>\").appendTo(this.valueDiv);this._addClass(this.overlayDiv,\"ui-progressbar-overlay\");}}else{this.element.attr({\"aria-valuemax\":this.options.max,\"aria-valuenow\":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}if(this.oldValue!==value){this.oldValue=value;this._trigger(\"change\");}if(value===this.options.max){this._trigger(\"complete\");}}});/*!\n * jQuery UI Selectable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Selectable\n//>>group: Interactions\n//>>description: Allows groups of elements to be selected with the mouse.\n//>>docs: http://api.jqueryui.com/selectable/\n//>>demos: http://jqueryui.com/selectable/\n//>>css.structure: ../../themes/base/selectable.css\nvar widgetsSelectable=$.widget(\"ui.selectable\",$.ui.mouse,{version:\"1.12.1\",options:{appendTo:\"body\",autoRefresh:true,distance:0,filter:\"*\",tolerance:\"touch\",// Callbacks\nselected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function _create(){var that=this;this._addClass(\"ui-selectable\");this.dragged=false;// Cache selectee children based on filter\nthis.refresh=function(){that.elementPos=$(that.element[0]).offset();that.selectees=$(that.options.filter,that.element[0]);that._addClass(that.selectees,\"ui-selectee\");that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),pos={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,\"selectable-item\",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass(\"ui-selected\"),selecting:$this.hasClass(\"ui-selecting\"),unselecting:$this.hasClass(\"ui-unselecting\")});});};this.refresh();this._mouseInit();this.helper=$(\"<div>\");this._addClass(this.helper,\"ui-selectable-helper\");},_destroy:function _destroy(){this.selectees.removeData(\"selectable-item\");this._mouseDestroy();},_mouseStart:function _mouseStart(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];this.elementPos=$(this.element[0]).offset();if(this.options.disabled){return;}this.selectees=$(options.filter,this.element[0]);this._trigger(\"start\",event);$(options.appendTo).append(this.helper);// position helper (lasso)\nthis.helper.css({\"left\":event.pageX,\"top\":event.pageY,\"width\":0,\"height\":0});if(options.autoRefresh){this.refresh();}this.selectees.filter(\".ui-selected\").each(function(){var selectee=$.data(this,\"selectable-item\");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){that._removeClass(selectee.$element,\"ui-selected\");selectee.selected=false;that._addClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=true;// selectable UNSELECTING callback\nthat._trigger(\"unselecting\",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,\"selectable-item\");if(selectee){doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass(\"ui-selected\");that._removeClass(selectee.$element,doSelect?\"ui-unselecting\":\"ui-selected\")._addClass(selectee.$element,doSelect?\"ui-selecting\":\"ui-unselecting\");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;// selectable (UN)SELECTING callback\nif(doSelect){that._trigger(\"selecting\",event,{selecting:selectee.element});}else{that._trigger(\"unselecting\",event,{unselecting:selectee.element});}return false;}});},_mouseDrag:function _mouseDrag(event){this.dragged=true;if(this.options.disabled){return;}var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}if(y1>y2){tmp=y2;y2=y1;y1=tmp;}this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,\"selectable-item\"),hit=false,offset={};//prevent helper from being selected if appendTo: selectable\nif(!selectee||selectee.element===that.element[0]){return;}offset.left=selectee.left+that.elementPos.left;offset.right=selectee.right+that.elementPos.left;offset.top=selectee.top+that.elementPos.top;offset.bottom=selectee.bottom+that.elementPos.top;if(options.tolerance===\"touch\"){hit=!(offset.left>x2||offset.right<x1||offset.top>y2||offset.bottom<y1);}else if(options.tolerance===\"fit\"){hit=offset.left>x1&&offset.right<x2&&offset.top>y1&&offset.bottom<y2;}if(hit){// SELECT\nif(selectee.selected){that._removeClass(selectee.$element,\"ui-selected\");selectee.selected=false;}if(selectee.unselecting){that._removeClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=false;}if(!selectee.selecting){that._addClass(selectee.$element,\"ui-selecting\");selectee.selecting=true;// selectable SELECTING callback\nthat._trigger(\"selecting\",event,{selecting:selectee.element});}}else{// UNSELECT\nif(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){that._removeClass(selectee.$element,\"ui-selecting\");selectee.selecting=false;that._addClass(selectee.$element,\"ui-selected\");selectee.selected=true;}else{that._removeClass(selectee.$element,\"ui-selecting\");selectee.selecting=false;if(selectee.startselected){that._addClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=true;}// selectable UNSELECTING callback\nthat._trigger(\"unselecting\",event,{unselecting:selectee.element});}}if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){that._removeClass(selectee.$element,\"ui-selected\");selectee.selected=false;that._addClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=true;// selectable UNSELECTING callback\nthat._trigger(\"unselecting\",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function _mouseStop(event){var that=this;this.dragged=false;$(\".ui-unselecting\",this.element[0]).each(function(){var selectee=$.data(this,\"selectable-item\");that._removeClass(selectee.$element,\"ui-unselecting\");selectee.unselecting=false;selectee.startselected=false;that._trigger(\"unselected\",event,{unselected:selectee.element});});$(\".ui-selecting\",this.element[0]).each(function(){var selectee=$.data(this,\"selectable-item\");that._removeClass(selectee.$element,\"ui-selecting\")._addClass(selectee.$element,\"ui-selected\");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger(\"selected\",event,{selected:selectee.element});});this._trigger(\"stop\",event);this.helper.remove();return false;}});/*!\n * jQuery UI Selectmenu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Selectmenu\n//>>group: Widgets\n// jscs:disable maximumLineLength\n//>>description: Duplicates and extends the functionality of a native HTML select element, allowing it to be customizable in behavior and appearance far beyond the limitations of a native select.\n// jscs:enable maximumLineLength\n//>>docs: http://api.jqueryui.com/selectmenu/\n//>>demos: http://jqueryui.com/selectmenu/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/selectmenu.css, ../../themes/base/button.css\n//>>css.theme: ../../themes/base/theme.css\nvar widgetsSelectmenu=$.widget(\"ui.selectmenu\",[$.ui.formResetMixin,{version:\"1.12.1\",defaultElement:\"<select>\",options:{appendTo:null,classes:{\"ui-selectmenu-button-open\":\"ui-corner-top\",\"ui-selectmenu-button-closed\":\"ui-corner-all\"},disabled:null,icons:{button:\"ui-icon-triangle-1-s\"},position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},width:false,// Callbacks\nchange:null,close:null,focus:null,open:null,select:null},_create:function _create(){var selectmenuId=this.element.uniqueId().attr(\"id\");this.ids={element:selectmenuId,button:selectmenuId+\"-button\",menu:selectmenuId+\"-menu\"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=$();},_drawButton:function _drawButton(){var icon,that=this,item=this._parseOption(this.element.find(\"option:selected\"),this.element[0].selectedIndex);// Associate existing label with the new button\nthis.labels=this.element.labels().attr(\"for\",this.ids.button);this._on(this.labels,{click:function click(event){this.button.focus();event.preventDefault();}});// Hide original select element\nthis.element.hide();// Create button\nthis.button=$(\"<span>\",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\"combobox\",\"aria-expanded\":\"false\",\"aria-autocomplete\":\"list\",\"aria-owns\":this.ids.menu,\"aria-haspopup\":\"true\",title:this.element.attr(\"title\")}).insertAfter(this.element);this._addClass(this.button,\"ui-selectmenu-button ui-selectmenu-button-closed\",\"ui-button ui-widget\");icon=$(\"<span>\").appendTo(this.button);this._addClass(icon,\"ui-selectmenu-icon\",\"ui-icon \"+this.options.icons.button);this.buttonItem=this._renderButtonItem(item).appendTo(this.button);if(this.options.width!==false){this._resizeButton();}this._on(this.button,this._buttonEvents);this.button.one(\"focusin\",function(){// Delay rendering the menu items until the button receives focus.\n// The menu may have already been rendered via a programmatic open.\nif(!that._rendered){that._refreshMenu();}});},_drawMenu:function _drawMenu(){var that=this;// Create menu\nthis.menu=$(\"<ul>\",{\"aria-hidden\":\"true\",\"aria-labelledby\":this.ids.button,id:this.ids.menu});// Wrap menu\nthis.menuWrap=$(\"<div>\").append(this.menu);this._addClass(this.menuWrap,\"ui-selectmenu-menu\",\"ui-front\");this.menuWrap.appendTo(this._appendTo());// Initialize menu widget\nthis.menuInstance=this.menu.menu({classes:{\"ui-menu\":\"ui-corner-bottom\"},role:\"listbox\",select:function select(event,ui){event.preventDefault();// Support: IE8\n// If the item was selected via a click, the text selection\n// will be destroyed in IE\nthat._setSelection();that._select(ui.item.data(\"ui-selectmenu-item\"),event);},focus:function focus(event,ui){var item=ui.item.data(\"ui-selectmenu-item\");// Prevent inital focus from firing and check if its a newly focused item\nif(that.focusIndex!=null&&item.index!==that.focusIndex){that._trigger(\"focus\",event,{item:item});if(!that.isOpen){that._select(item,event);}}that.focusIndex=item.index;that.button.attr(\"aria-activedescendant\",that.menuItems.eq(item.index).attr(\"id\"));}}).menu(\"instance\");// Don't close the menu on mouseleave\nthis.menuInstance._off(this.menu,\"mouseleave\");// Cancel the menu's collapseAll on document click\nthis.menuInstance._closeOnDocumentClick=function(){return false;};// Selects often contain empty items, but never contain dividers\nthis.menuInstance._isDivider=function(){return false;};},refresh:function refresh(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(// Fall back to an empty object in case there are no options\nthis._getSelectedItem().data(\"ui-selectmenu-item\")||{}));if(this.options.width===null){this._resizeButton();}},_refreshMenu:function _refreshMenu(){var item,options=this.element.find(\"option\");this.menu.empty();this._parseOptions(options);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find(\"li\").not(\".ui-selectmenu-optgroup\").find(\".ui-menu-item-wrapper\");this._rendered=true;if(!options.length){return;}item=this._getSelectedItem();// Update the menu to have the correct item focused\nthis.menuInstance.focus(null,item);this._setAria(item.data(\"ui-selectmenu-item\"));// Set disabled state\nthis._setOption(\"disabled\",this.element.prop(\"disabled\"));},open:function open(event){if(this.options.disabled){return;}// If this is the first time the menu is being opened, render the items\nif(!this._rendered){this._refreshMenu();}else{// Menu clears focus on close, reset focus to selected item\nthis._removeClass(this.menu.find(\".ui-state-active\"),null,\"ui-state-active\");this.menuInstance.focus(null,this._getSelectedItem());}// If there are no options, don't open the menu\nif(!this.menuItems.length){return;}this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger(\"open\",event);},_position:function _position(){this.menuWrap.position($.extend({of:this.button},this.options.position));},close:function close(event){if(!this.isOpen){return;}this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger(\"close\",event);},widget:function widget(){return this.button;},menuWidget:function menuWidget(){return this.menu;},_renderButtonItem:function _renderButtonItem(item){var buttonItem=$(\"<span>\");this._setText(buttonItem,item.label);this._addClass(buttonItem,\"ui-selectmenu-text\");return buttonItem;},_renderMenu:function _renderMenu(ul,items){var that=this,currentOptgroup=\"\";$.each(items,function(index,item){var li;if(item.optgroup!==currentOptgroup){li=$(\"<li>\",{text:item.optgroup});that._addClass(li,\"ui-selectmenu-optgroup\",\"ui-menu-divider\"+(item.element.parent(\"optgroup\").prop(\"disabled\")?\" ui-state-disabled\":\"\"));li.appendTo(ul);currentOptgroup=item.optgroup;}that._renderItemData(ul,item);});},_renderItemData:function _renderItemData(ul,item){return this._renderItem(ul,item).data(\"ui-selectmenu-item\",item);},_renderItem:function _renderItem(ul,item){var li=$(\"<li>\"),wrapper=$(\"<div>\",{title:item.element.attr(\"title\")});if(item.disabled){this._addClass(li,null,\"ui-state-disabled\");}this._setText(wrapper,item.label);return li.append(wrapper).appendTo(ul);},_setText:function _setText(element,value){if(value){element.text(value);}else{element.html(\"&#160;\");}},_move:function _move(direction,event){var item,next,filter=\".ui-menu-item\";if(this.isOpen){item=this.menuItems.eq(this.focusIndex).parent(\"li\");}else{item=this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\");filter+=\":not(.ui-state-disabled)\";}if(direction===\"first\"||direction===\"last\"){next=item[direction===\"first\"?\"prevAll\":\"nextAll\"](filter).eq(-1);}else{next=item[direction+\"All\"](filter).eq(0);}if(next.length){this.menuInstance.focus(event,next);}},_getSelectedItem:function _getSelectedItem(){return this.menuItems.eq(this.element[0].selectedIndex).parent(\"li\");},_toggle:function _toggle(event){this[this.isOpen?\"close\":\"open\"](event);},_setSelection:function _setSelection(){var selection;if(!this.range){return;}if(window.getSelection){selection=window.getSelection();selection.removeAllRanges();selection.addRange(this.range);// Support: IE8\n}else{this.range.select();}// Support: IE\n// Setting the text selection kills the button focus in IE, but\n// restoring the focus doesn't kill the selection.\nthis.button.focus();},_documentClick:{mousedown:function mousedown(event){if(!this.isOpen){return;}if(!$(event.target).closest(\".ui-selectmenu-menu, #\"+$.ui.escapeSelector(this.ids.button)).length){this.close(event);}}},_buttonEvents:{// Prevent text selection from being reset when interacting with the selectmenu (#10144)\nmousedown:function mousedown(){var selection;if(window.getSelection){selection=window.getSelection();if(selection.rangeCount){this.range=selection.getRangeAt(0);}// Support: IE8\n}else{this.range=document.selection.createRange();}},click:function click(event){this._setSelection();this._toggle(event);},keydown:function keydown(event){var preventDefault=true;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event);preventDefault=false;break;case $.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(event);}break;case $.ui.keyCode.UP:if(event.altKey){this._toggle(event);}else{this._move(\"prev\",event);}break;case $.ui.keyCode.DOWN:if(event.altKey){this._toggle(event);}else{this._move(\"next\",event);}break;case $.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(event);}else{this._toggle(event);}break;case $.ui.keyCode.LEFT:this._move(\"prev\",event);break;case $.ui.keyCode.RIGHT:this._move(\"next\",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move(\"first\",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move(\"last\",event);break;default:this.menu.trigger(event);preventDefault=false;}if(preventDefault){event.preventDefault();}}},_selectFocusedItem:function _selectFocusedItem(event){var item=this.menuItems.eq(this.focusIndex).parent(\"li\");if(!item.hasClass(\"ui-state-disabled\")){this._select(item.data(\"ui-selectmenu-item\"),event);}},_select:function _select(item,event){var oldIndex=this.element[0].selectedIndex;// Change native select element\nthis.element[0].selectedIndex=item.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(item));this._setAria(item);this._trigger(\"select\",event,{item:item});if(item.index!==oldIndex){this._trigger(\"change\",event,{item:item});}this.close(event);},_setAria:function _setAria(item){var id=this.menuItems.eq(item.index).attr(\"id\");this.button.attr({\"aria-labelledby\":id,\"aria-activedescendant\":id});this.menu.attr(\"aria-activedescendant\",id);},_setOption:function _setOption(key,value){if(key===\"icons\"){var icon=this.button.find(\"span.ui-icon\");this._removeClass(icon,null,this.options.icons.button)._addClass(icon,null,value.button);}this._super(key,value);if(key===\"appendTo\"){this.menuWrap.appendTo(this._appendTo());}if(key===\"width\"){this._resizeButton();}},_setOptionDisabled:function _setOptionDisabled(value){this._super(value);this.menuInstance.option(\"disabled\",value);this.button.attr(\"aria-disabled\",value);this._toggleClass(this.button,null,\"ui-state-disabled\",value);this.element.prop(\"disabled\",value);if(value){this.button.attr(\"tabindex\",-1);this.close();}else{this.button.attr(\"tabindex\",0);}},_appendTo:function _appendTo(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}if(!element||!element[0]){element=this.element.closest(\".ui-front, dialog\");}if(!element.length){element=this.document[0].body;}return element;},_toggleAttr:function _toggleAttr(){this.button.attr(\"aria-expanded\",this.isOpen);// We can't use two _toggleClass() calls here, because we need to make sure\n// we always remove classes first and add them second, otherwise if both classes have the\n// same theme class, it will be removed after we add it.\nthis._removeClass(this.button,\"ui-selectmenu-button-\"+(this.isOpen?\"closed\":\"open\"))._addClass(this.button,\"ui-selectmenu-button-\"+(this.isOpen?\"open\":\"closed\"))._toggleClass(this.menuWrap,\"ui-selectmenu-open\",null,this.isOpen);this.menu.attr(\"aria-hidden\",!this.isOpen);},_resizeButton:function _resizeButton(){var width=this.options.width;// For `width: false`, just remove inline style and stop\nif(width===false){this.button.css(\"width\",\"\");return;}// For `width: null`, match the width of the original element\nif(width===null){width=this.element.show().outerWidth();this.element.hide();}this.button.outerWidth(width);},_resizeMenu:function _resizeMenu(){this.menu.outerWidth(Math.max(this.button.outerWidth(),// Support: IE10\n// IE10 wraps long text (possibly a rounding bug)\n// so we add 1px to avoid the wrapping\nthis.menu.width(\"\").outerWidth()+1));},_getCreateOptions:function _getCreateOptions(){var options=this._super();options.disabled=this.element.prop(\"disabled\");return options;},_parseOptions:function _parseOptions(options){var that=this,data=[];options.each(function(index,item){data.push(that._parseOption($(item),index));});this.items=data;},_parseOption:function _parseOption(option,index){var optgroup=option.parent(\"optgroup\");return{element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr(\"label\")||\"\",disabled:optgroup.prop(\"disabled\")||option.prop(\"disabled\")};},_destroy:function _destroy(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr(\"for\",this.ids.element);}}]);/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Slider\n//>>group: Widgets\n//>>description: Displays a flexible slider with ranges and accessibility via keyboard.\n//>>docs: http://api.jqueryui.com/slider/\n//>>demos: http://jqueryui.com/slider/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/slider.css\n//>>css.theme: ../../themes/base/theme.css\nvar widgetsSlider=$.widget(\"ui.slider\",$.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"slide\",options:{animate:false,classes:{\"ui-slider\":\"ui-corner-all\",\"ui-slider-handle\":\"ui-corner-all\",// Note: ui-widget-header isn't the most fittingly semantic framework class for this\n// element, but worked best visually with a variety of themes\n\"ui-slider-range\":\"ui-corner-all ui-widget-header\"},distance:0,max:100,min:0,orientation:\"horizontal\",range:false,step:1,value:0,values:null,// Callbacks\nchange:null,slide:null,start:null,stop:null},// Number of pages in a slider\n// (how many times can you page up/down to go through the whole range)\nnumPages:5,_create:function _create(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass(\"ui-slider ui-slider-\"+this.orientation,\"ui-widget ui-widget-content\");this._refresh();this._animateOff=false;},_refresh:function _refresh(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function _createHandles(){var i,handleCount,options=this.options,existingHandles=this.element.find(\".ui-slider-handle\"),handle=\"<span tabindex='0'></span>\",handles=[];handleCount=options.values&&options.values.length||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}this.handles=existingHandles.add($(handles.join(\"\")).appendTo(this.element));this._addClass(this.handles,\"ui-slider-handle\",\"ui-state-default\");this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data(\"ui-slider-handle-index\",i).attr(\"tabIndex\",0);});},_createRange:function _createRange(){var options=this.options;if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}if(!this.range||!this.range.length){this.range=$(\"<div>\").appendTo(this.element);this._addClass(this.range,\"ui-slider-range\");}else{this._removeClass(this.range,\"ui-slider-range-min ui-slider-range-max\");// Handle range switching from true to min/max\nthis.range.css({\"left\":\"\",\"bottom\":\"\"});}if(options.range===\"min\"||options.range===\"max\"){this._addClass(this.range,\"ui-slider-range-\"+options.range);}}else{if(this.range){this.range.remove();}this.range=null;}},_setupEvents:function _setupEvents(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles);},_destroy:function _destroy(){this.handles.remove();if(this.range){this.range.remove();}this._mouseDestroy();},_mouseCapture:function _mouseCapture(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if(distance>thisDistance||distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min)){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}this._mouseSliding=true;this._handleIndex=index;this._addClass(closestHandle,null,\"ui-state-active\");closestHandle.trigger(\"focus\");offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(\".ui-slider-handle\");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css(\"borderTopWidth\"),10)||0)-(parseInt(closestHandle.css(\"borderBottomWidth\"),10)||0)+(parseInt(closestHandle.css(\"marginTop\"),10)||0)};if(!this.handles.hasClass(\"ui-state-hover\")){this._slide(event,index,normValue);}this._animateOff=true;return true;},_mouseStart:function _mouseStart(){return true;},_mouseDrag:function _mouseDrag(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function _mouseStop(event){this._removeClass(this.handles,null,\"ui-state-active\");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function _detectOrientation(){this.orientation=this.options.orientation===\"vertical\"?\"vertical\":\"horizontal\";},_normValueFromMouse:function _normValueFromMouse(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation===\"horizontal\"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}percentMouse=pixelMouse/pixelTotal;if(percentMouse>1){percentMouse=1;}if(percentMouse<0){percentMouse=0;}if(this.orientation===\"vertical\"){percentMouse=1-percentMouse;}valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_uiHash:function _uiHash(index,value,values){var uiHash={handle:this.handles[index],handleIndex:index,value:value!==undefined?value:this.value()};if(this._hasMultipleValues()){uiHash.value=value!==undefined?value:this.values(index);uiHash.values=values||this.values();}return uiHash;},_hasMultipleValues:function _hasMultipleValues(){return this.options.values&&this.options.values.length;},_start:function _start(event,index){return this._trigger(\"start\",event,this._uiHash(index));},_slide:function _slide(event,index,newVal){var allowed,otherVal,currentValue=this.value(),newValues=this.values();if(this._hasMultipleValues()){otherVal=this.values(index?0:1);currentValue=this.values(index);if(this.options.values.length===2&&this.options.range===true){newVal=index===0?Math.min(otherVal,newVal):Math.max(otherVal,newVal);}newValues[index]=newVal;}if(newVal===currentValue){return;}allowed=this._trigger(\"slide\",event,this._uiHash(index,newVal,newValues));// A slide can be canceled by returning false from the slide callback\nif(allowed===false){return;}if(this._hasMultipleValues()){this.values(index,newVal);}else{this.value(newVal);}},_stop:function _stop(event,index){this._trigger(\"stop\",event,this._uiHash(index));},_change:function _change(event,index){if(!this._keySliding&&!this._mouseSliding){//store the last changed value index for reference when handles overlap\nthis._lastChangedValue=index;this._trigger(\"change\",event,this._uiHash(index));}},value:function value(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}return this._value();},values:function values(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}this._refreshValue();}else{if(this._hasMultipleValues()){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function _setOption(key,value){var i,valsLength=0;if(key===\"range\"&&this.options.range===true){if(value===\"min\"){this.options.value=this._values(0);this.options.values=null;}else if(value===\"max\"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}if($.isArray(this.options.values)){valsLength=this.options.values.length;}this._super(key,value);switch(key){case\"orientation\":this._detectOrientation();this._removeClass(\"ui-slider-horizontal ui-slider-vertical\")._addClass(\"ui-slider-\"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(value);}// Reset positioning from previous orientation\nthis.handles.css(value===\"horizontal\"?\"bottom\":\"left\",\"\");break;case\"value\":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case\"values\":this._animateOff=true;this._refreshValue();// Start from the last handle to prevent unreachable handles (#9046)\nfor(i=valsLength-1;i>=0;i--){this._change(null,i);}this._animateOff=false;break;case\"step\":case\"min\":case\"max\":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case\"range\":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_setOptionDisabled:function _setOptionDisabled(value){this._super(value);this._toggleClass(null,\"ui-state-disabled\",!!value);},//internal value getter\n// _value() returns value trimmed by min and max, aligned by step\n_value:function _value(){var val=this.options.value;val=this._trimAlignValue(val);return val;},//internal values getter\n// _values() returns array of values trimmed by min and max, aligned by step\n// _values( index ) returns single value trimmed by min and max, aligned by step\n_values:function _values(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this._hasMultipleValues()){// .slice() creates a copy of the array\n// this copy gets trimmed by min and max and then returned\nvals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}return vals;}else{return[];}},// Returns the step-aligned value that val is closest to, between (inclusive) min and max\n_trimAlignValue:function _trimAlignValue(val){if(val<=this._valueMin()){return this._valueMin();}if(val>=this._valueMax()){return this._valueMax();}var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=valModStep>0?step:-step;}// Since JavaScript has problems with large floats, round\n// the final value to 5 digits after the decimal point (see #4124)\nreturn parseFloat(alignValue.toFixed(5));},_calculateNewMax:function _calculateNewMax(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.round((max-min)/step)*step;max=aboveMin+min;if(max>this.options.max){//If max is not divisible by step, rounding off may increase its value\nmax-=step;}this.max=parseFloat(max.toFixed(this._precision()));},_precision:function _precision(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}return precision;},_precisionOf:function _precisionOf(num){var str=num.toString(),decimal=str.indexOf(\".\");return decimal===-1?0:str.length-decimal-1;},_valueMin:function _valueMin(){return this.options.min;},_valueMax:function _valueMax(){return this.max;},_refreshRange:function _refreshRange(orientation){if(orientation===\"vertical\"){this.range.css({\"width\":\"\",\"left\":\"\"});}if(orientation===\"horizontal\"){this.range.css({\"height\":\"\",\"bottom\":\"\"});}},_refreshValue:function _refreshValue(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=!this._animateOff?o.animate:false,_set={};if(this._hasMultipleValues()){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation===\"horizontal\"?\"left\":\"bottom\"]=valPercent+\"%\";$(this).stop(1,1)[animate?\"animate\":\"css\"](_set,o.animate);if(that.options.range===true){if(that.orientation===\"horizontal\"){if(i===0){that.range.stop(1,1)[animate?\"animate\":\"css\"]({left:valPercent+\"%\"},o.animate);}if(i===1){that.range[animate?\"animate\":\"css\"]({width:valPercent-lastValPercent+\"%\"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?\"animate\":\"css\"]({bottom:valPercent+\"%\"},o.animate);}if(i===1){that.range[animate?\"animate\":\"css\"]({height:valPercent-lastValPercent+\"%\"},{queue:false,duration:o.animate});}}}lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation===\"horizontal\"?\"left\":\"bottom\"]=valPercent+\"%\";this.handle.stop(1,1)[animate?\"animate\":\"css\"](_set,o.animate);if(oRange===\"min\"&&this.orientation===\"horizontal\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({width:valPercent+\"%\"},o.animate);}if(oRange===\"max\"&&this.orientation===\"horizontal\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({width:100-valPercent+\"%\"},o.animate);}if(oRange===\"min\"&&this.orientation===\"vertical\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({height:valPercent+\"%\"},o.animate);}if(oRange===\"max\"&&this.orientation===\"vertical\"){this.range.stop(1,1)[animate?\"animate\":\"css\"]({height:100-valPercent+\"%\"},o.animate);}}},_handleEvents:{keydown:function keydown(event){var allowed,curVal,newVal,step,index=$(event.target).data(\"ui-slider-handle-index\");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass($(event.target),null,\"ui-state-active\");allowed=this._start(event,index);if(allowed===false){return;}}break;}step=this.options.step;if(this._hasMultipleValues()){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}newVal=this._trimAlignValue(curVal-step);break;}this._slide(event,index,newVal);},keyup:function keyup(event){var index=$(event.target).data(\"ui-slider-handle-index\");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);this._removeClass($(event.target),null,\"ui-state-active\");}}}});/*!\n * jQuery UI Sortable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Sortable\n//>>group: Interactions\n//>>description: Enables items in a list to be sorted using the mouse.\n//>>docs: http://api.jqueryui.com/sortable/\n//>>demos: http://jqueryui.com/sortable/\n//>>css.structure: ../../themes/base/sortable.css\nvar widgetsSortable=$.widget(\"ui.sortable\",$.ui.mouse,{version:\"1.12.1\",widgetEventPrefix:\"sort\",ready:false,options:{appendTo:\"parent\",axis:false,connectWith:false,containment:false,cursor:\"auto\",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:\"original\",items:\"> *\",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1000,// Callbacks\nactivate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function _isOverAxis(x,reference,size){return x>=reference&&x<reference+size;},_isFloating:function _isFloating(item){return /left|right/.test(item.css(\"float\"))||/inline|table-cell/.test(item.css(\"display\"));},_create:function _create(){this.containerCache={};this._addClass(\"ui-sortable\");//Get the items\nthis.refresh();//Let's determine the parent's offset\nthis.offset=this.element.offset();//Initialize mouse events for interaction\nthis._mouseInit();this._setHandleClassName();//We're ready to go\nthis.ready=true;},_setOption:function _setOption(key,value){this._super(key,value);if(key===\"handle\"){this._setHandleClassName();}},_setHandleClassName:function _setHandleClassName(){var that=this;this._removeClass(this.element.find(\".ui-sortable-handle\"),\"ui-sortable-handle\");$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,\"ui-sortable-handle\");});},_destroy:function _destroy(){this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+\"-item\");}return this;},_mouseCapture:function _mouseCapture(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}if(this.options.disabled||this.options.type===\"static\"){return false;}//We have to refresh the items data once first\nthis._refreshItems(event);//Find out if the clicked node (or one of its parents) is a actual item in this.items\n$(event.target).parents().each(function(){if($.data(this,that.widgetName+\"-item\")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+\"-item\")===that){currentItem=$(event.target);}if(!currentItem){return false;}if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find(\"*\").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function _mouseStart(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;//We only need to call refreshPositions, because the refreshItems call has been moved to\n// mouseCapture\nthis.refreshPositions();//Create and append the visible helper\nthis.helper=this._createHelper(event);//Cache the helper size\nthis._cacheHelperProportions();/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t *///Cache the margins of the original element\nthis._cacheMargins();//Get the next scrolling parent\nthis.scrollParent=this.helper.scrollParent();//The element's absolute position on the page minus margins\nthis.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{//Where the click happened, relative to the element\nleft:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),// This is a relative to absolute position minus the actual position calculation -\n// only used for relative positioned helper\nrelative:this._getRelativeOffset()});// Only after we got the offset, we can change the helper's position to absolute\n// TODO: Still need to figure out a way to make relative sorting possible\nthis.helper.css(\"position\",\"absolute\");this.cssPosition=this.helper.css(\"position\");//Generate the original position\nthis.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\no.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);//Cache the former DOM position\nthis.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};// If the helper is not the original, hide the original so it's not playing any role during\n// the drag, won't cause anything bad this way\nif(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}//Create the placeholder\nthis._createPlaceholder();//Set a containment if given in the options\nif(o.containment){this._setContainment();}if(o.cursor&&o.cursor!==\"auto\"){// cursor option\nbody=this.document.find(\"body\");// Support: IE\nthis.storedCursor=body.css(\"cursor\");body.css(\"cursor\",o.cursor);this.storedStylesheet=$(\"<style>*{ cursor: \"+o.cursor+\" !important; }</style>\").appendTo(body);}if(o.opacity){// opacity option\nif(this.helper.css(\"opacity\")){this._storedOpacity=this.helper.css(\"opacity\");}this.helper.css(\"opacity\",o.opacity);}if(o.zIndex){// zIndex option\nif(this.helper.css(\"zIndex\")){this._storedZIndex=this.helper.css(\"zIndex\");}this.helper.css(\"zIndex\",o.zIndex);}//Prepare scrolling\nif(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!==\"HTML\"){this.overflowOffset=this.scrollParent.offset();}//Call callbacks\nthis._trigger(\"start\",event,this._uiHash());//Recache the helper size\nif(!this._preserveHelperProportions){this._cacheHelperProportions();}//Post \"activate\" events to possible containers\nif(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger(\"activate\",event,this._uiHash(this));}}//Prepare possible droppables\nif($.ui.ddmanager){$.ui.ddmanager.current=this;}if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}this.dragging=true;this._addClass(this.helper,\"ui-sortable-helper\");// Execute the drag once - this causes the helper not to be visiblebefore getting its\n// correct position\nthis._mouseDrag(event);return true;},_mouseDrag:function _mouseDrag(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;//Compute the helpers position\nthis.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo(\"absolute\");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}//Do scrolling\nif(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!==\"HTML\"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-this.document.scrollTop()<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed);}else if(this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed);}if(event.pageX-this.document.scrollLeft()<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed);}else if(this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed);}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}//Regenerate the absolute position used for position checks\nthis.positionAbs=this._convertPositionTo(\"absolute\");//Set the helper position\nif(!this.options.axis||this.options.axis!==\"y\"){this.helper[0].style.left=this.position.left+\"px\";}if(!this.options.axis||this.options.axis!==\"x\"){this.helper[0].style.top=this.position.top+\"px\";}//Rearrange\nfor(i=this.items.length-1;i>=0;i--){//Cache variables and intersection, continue if no intersection\nitem=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}// Only put the placeholder inside the current Container, skip all\n// items from other containers. This works because when moving\n// an item from one container to another the\n// currentContainer is switched before the placeholder is moved.\n//\n// Without this, moving items in \"sub-sortables\" can cause\n// the placeholder to jitter between the outer and inner container.\nif(item.instance!==this.currentContainer){continue;}// Cannot intersect with itself\n// no useless actions that have been done before\n// no action if the item moved is the parent of the item checked\nif(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?\"next\":\"prev\"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type===\"semi-dynamic\"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?\"down\":\"up\";if(this.options.tolerance===\"pointer\"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}this._trigger(\"change\",event,this._uiHash());break;}}//Post events to containers\nthis._contactContainers(event);//Interconnect with droppables\nif($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}//Call callbacks\nthis._trigger(\"sort\",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function _mouseStop(event,noPropagation){if(!event){return;}//If we are using droppables, inform the manager about the drop\nif($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis===\"x\"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);}if(!axis||axis===\"y\"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);}this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}return false;},cancel:function cancel(){if(this.dragging){this._mouseUp(new $.Event(\"mouseup\",{target:null}));if(this.options.helper===\"original\"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,\"ui-sortable-helper\");}else{this.currentItem.show();}//Post deactivating events to containers\nfor(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger(\"deactivate\",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger(\"out\",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}if(this.placeholder){//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\n// it unbinds ALL events from the original node!\nif(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}if(this.options.helper!==\"original\"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}return this;},serialize:function serialize(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||\"id\")||\"\").match(o.expression||/(.+)[\\-=_](.+)/);if(res){str.push((o.key||res[1]+\"[]\")+\"=\"+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+\"=\");}return str.join(\"&\");},toArray:function toArray(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||\"id\")||\"\");});return ret;},/* Be careful with the following core functions */_intersectsWith:function _intersectsWith(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=this.options.axis===\"x\"||y1+dyClick>t&&y1+dyClick<b,isOverElementWidth=this.options.axis===\"y\"||x1+dxClick>l&&x1+dxClick<r,isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance===\"pointer\"||this.options.forcePointerForContainers||this.options.tolerance!==\"pointer\"&&this.helperProportions[this.floating?\"width\":\"height\"]>item[this.floating?\"width\":\"height\"]){return isOverElement;}else{return l<x1+this.helperProportions.width/2&&// Right Half\nx2-this.helperProportions.width/2<r&&// Left Half\nt<y1+this.helperProportions.height/2&&// Bottom Half\ny2-this.helperProportions.height/2<b;// Top Half\n}},_intersectsWithPointer:function _intersectsWithPointer(item){var verticalDirection,horizontalDirection,isOverElementHeight=this.options.axis===\"x\"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=this.options.axis===\"y\"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth;if(!isOverElement){return false;}verticalDirection=this._getDragVerticalDirection();horizontalDirection=this._getDragHorizontalDirection();return this.floating?horizontalDirection===\"right\"||verticalDirection===\"down\"?2:1:verticalDirection&&(verticalDirection===\"down\"?2:1);},_intersectsWithSides:function _intersectsWithSides(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return horizontalDirection===\"right\"&&isOverRightHalf||horizontalDirection===\"left\"&&!isOverRightHalf;}else{return verticalDirection&&(verticalDirection===\"down\"&&isOverBottomHalf||verticalDirection===\"up\"&&!isOverBottomHalf);}},_getDragVerticalDirection:function _getDragVerticalDirection(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?\"down\":\"up\");},_getDragHorizontalDirection:function _getDragHorizontalDirection(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?\"right\":\"left\");},refresh:function refresh(event){this._refreshItems(event);this._setHandleClassName();this.refreshPositions();return this;},_connectWith:function _connectWith(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function _getItemsAsjQuery(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),inst]);}}}}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]);function addItems(){items.push(this);}for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems);}return $(items);},_removeCurrentsFromItems:function _removeCurrentsFromItems(){var list=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}return true;});},_refreshItems:function _refreshItems(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();//Shouldn't be run the first time through due to massive slow-down\nif(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);// Data for target checking (mouse manager)\nitem.data(this.widgetName+\"-item\",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function refreshPositions(fast){// Determine whether items are being displayed horizontally\nthis.floating=this.items.length?this.options.axis===\"x\"||this._isFloating(this.items[0].item):false;//This has to be redone because due to the item being moved out/into the offsetParent,\n// the offsetParent's position will change\nif(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];//We ignore calculating positions of all connected containers when we're not over them\nif(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}p=t.offset();item.left=p.left;item.top=p.top;}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}return this;},_createPlaceholder:function _createPlaceholder(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function element(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$(\"<\"+nodeName+\">\",that.document[0]);that._addClass(element,\"ui-sortable-placeholder\",className||that.currentItem[0].className)._removeClass(element,\"ui-sortable-helper\");if(nodeName===\"tbody\"){that._createTrPlaceholder(that.currentItem.find(\"tr\").eq(0),$(\"<tr>\",that.document[0]).appendTo(element));}else if(nodeName===\"tr\"){that._createTrPlaceholder(that.currentItem,element);}else if(nodeName===\"img\"){element.attr(\"src\",that.currentItem.attr(\"src\"));}if(!className){element.css(\"visibility\",\"hidden\");}return element;},update:function update(container,p){// 1. If a className is set as 'placeholder option, we don't force sizes -\n// the class is responsible for that\n// 2. The option 'forcePlaceholderSize can be enabled to force it even if a\n// class name is specified\nif(className&&!o.forcePlaceholderSize){return;}//If the element doesn't have a actual height by itself (without styles coming\n// from a stylesheet), it receives the inline height from the dragged item\nif(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css(\"paddingTop\")||0,10)-parseInt(that.currentItem.css(\"paddingBottom\")||0,10));}if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css(\"paddingLeft\")||0,10)-parseInt(that.currentItem.css(\"paddingRight\")||0,10));}}};}//Create the placeholder\nthat.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));//Append it after the actual current item\nthat.currentItem.after(that.placeholder);//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\no.placeholder.update(that,that.placeholder);},_createTrPlaceholder:function _createTrPlaceholder(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$(\"<td>&#160;</td>\",that.document[0]).attr(\"colspan\",$(this).attr(\"colspan\")||1).appendTo(targetTr);});},_contactContainers:function _contactContainers(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;// Get innermost container that intersects with item\nfor(i=this.containers.length-1;i>=0;i--){// Never consider a container that's located within the item itself\nif($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}if(this._intersectsWith(this.containers[i].containerCache)){// If we've already found a container and it's more \"inner\" than this, then continue\nif(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}innermostContainer=this.containers[i];innermostIndex=i;}else{// container doesn't intersect. trigger \"out\" event if necessary\nif(this.containers[i].containerCache.over){this.containers[i]._trigger(\"out\",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}// If no intersecting containers found, return\nif(!innermostContainer){return;}// Move the item into the container if it's not there already\nif(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger(\"over\",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{// When entering a new container, we will find the item with the least distance and\n// append our item near it\ndist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||this._isFloating(this.currentItem);posProperty=floating?\"left\":\"top\";sizeProperty=floating?\"width\":\"height\";axis=floating?\"pageX\":\"pageY\";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}if(this.items[j].item[0]===this.currentItem[0]){continue;}cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(event[axis]-cur>this.items[j][sizeProperty]/2){nearBottom=true;}if(Math.abs(event[axis]-cur)<dist){dist=Math.abs(event[axis]-cur);itemWithLeastDistance=this.items[j];this.direction=nearBottom?\"up\":\"down\";}}//Check if dropOnEmpty is enabled\nif(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}if(this.currentContainer===this.containers[innermostIndex]){if(!this.currentContainer.containerCache.over){this.containers[innermostIndex]._trigger(\"over\",event,this._uiHash());this.currentContainer.containerCache.over=1;}return;}itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger(\"change\",event,this._uiHash());this.containers[innermostIndex]._trigger(\"change\",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];//Update the placeholder\nthis.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger(\"over\",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function _createHelper(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):o.helper===\"clone\"?this.currentItem.clone():this.currentItem;//Add the helper to the DOM if that didn't happen already\nif(!helper.parents(\"body\").length){$(o.appendTo!==\"parent\"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")};}if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}return helper;},_adjustOffsetFromHelper:function _adjustOffsetFromHelper(obj){if(typeof obj===\"string\"){obj=obj.split(\" \");}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}if(\"left\"in obj){this.offset.click.left=obj.left+this.margins.left;}if(\"right\"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}if(\"top\"in obj){this.offset.click.top=obj.top+this.margins.top;}if(\"bottom\"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function _getParentOffset(){//Get the offsetParent and cache its position\nthis.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();// This is a special case where we need to modify a offset calculated on start, since the\n// following happened:\n// 1. The position of the helper is absolute, so it's position is calculated based on the\n// next positioned parent\n// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n// the document, which means that the scroll is included in the initial calculation of the\n// offset of the parent, and never recalculated upon drag\nif(this.cssPosition===\"absolute\"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}// This needs to be actually done for all browsers, since pageX/pageY includes this\n// information with an ugly IE fix\nif(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()===\"html\"&&$.ui.ie){po={top:0,left:0};}return{top:po.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:po.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)};},_getRelativeOffset:function _getRelativeOffset(){if(this.cssPosition===\"relative\"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function _cacheMargins(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0};},_cacheHelperProportions:function _cacheHelperProportions(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function _setContainment(){var ce,co,over,o=this.options;if(o.containment===\"parent\"){o.containment=this.helper[0].parentNode;}if(o.containment===\"document\"||o.containment===\"window\"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment===\"document\"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment===\"document\"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!/^(document|window|parent)$/.test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=$(ce).css(\"overflow\")!==\"hidden\";this.containment=[co.left+(parseInt($(ce).css(\"borderLeftWidth\"),10)||0)+(parseInt($(ce).css(\"paddingLeft\"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css(\"borderTopWidth\"),10)||0)+(parseInt($(ce).css(\"paddingTop\"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css(\"borderLeftWidth\"),10)||0)-(parseInt($(ce).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css(\"borderTopWidth\"),10)||0)-(parseInt($(ce).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function _convertPositionTo(d,pos){if(!pos){pos=this.position;}var mod=d===\"absolute\"?1:-1,scroll=this.cssPosition===\"absolute\"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:// The absolute mouse position\npos.top+// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.top*mod+// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.top*mod-(this.cssPosition===\"fixed\"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:// The absolute mouse position\npos.left+// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.left*mod+// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.left*mod-(this.cssPosition===\"fixed\"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod};},_generatePosition:function _generatePosition(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition===\"absolute\"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);// This is another very weird special case that only happens for relative elements:\n// 1. If the css position is relative\n// 2. and the scroll parent is the document or similar to the offset parent\n// we have to refresh the relative offset during the scroll so there are no jumps\nif(this.cssPosition===\"relative\"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */if(this.originalPosition){//If we are not dragging yet, we won't check for options\nif(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3]?top:top-this.offset.click.top>=this.containment[1]?top-o.grid[1]:top+o.grid[1]:top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2]?left:left-this.offset.click.left>=this.containment[0]?left-o.grid[0]:left+o.grid[0]:left;}}return{top:// The absolute mouse position\npageY-// Click offset (relative to the element)\nthis.offset.click.top-// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.top-// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.top+(this.cssPosition===\"fixed\"?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:// The absolute mouse position\npageX-// Click offset (relative to the element)\nthis.offset.click.left-// Only for relative positioned nodes: Relative offset from element to offset parent\nthis.offset.relative.left-// The offsetParent's offset without borders (offset + border)\nthis.offset.parent.left+(this.cssPosition===\"fixed\"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())};},_rearrange:function _rearrange(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction===\"down\"?i.item[0]:i.item[0].nextSibling);//Various things done here to improve the performance:\n// 1. we create a setTimeout, that calls refreshPositions\n// 2. on the instance, we have a counter variable, that get's higher after every append\n// 3. on the local scope, we copy the counter variable, and check in the timeout,\n// if it's still the same\n// 4. this lets only the last addition to the timeout stack through\nthis.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){//Precompute after each DOM insertion, NOT on mousemove\nthis.refreshPositions(!hardRefresh);}});},_clear:function _clear(event,noPropagation){this.reverting=false;// We delay all events that have to be triggered to after the point where the placeholder\n// has been removed and everything else normalized again\nvar i,delayedTriggers=[];// We first have to update the dom position of the actual currentItem\n// Note: don't do it if the current item is already removed (by a user), or it gets\n// reappended (see #4088)\nif(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]===\"auto\"||this._storedCSS[i]===\"static\"){this._storedCSS[i]=\"\";}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,\"ui-sortable-helper\");}else{this.currentItem.show();}if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger(\"receive\",event,this._uiHash(this.fromOutside));});}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(\".ui-sortable-helper\")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){// Trigger update callback if the DOM position has changed\ndelayedTriggers.push(function(event){this._trigger(\"update\",event,this._uiHash());});}// Check if the items Container has Changed and trigger appropriate\n// events.\nif(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger(\"remove\",event,this._uiHash());});delayedTriggers.push(function(c){return function(event){c._trigger(\"receive\",event,this._uiHash(this));};}.call(this,this.currentContainer));delayedTriggers.push(function(c){return function(event){c._trigger(\"update\",event,this._uiHash(this));};}.call(this,this.currentContainer));}}//Post events to containers\nfunction delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance));};}for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent(\"deactivate\",this,this.containers[i]));}if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent(\"out\",this,this.containers[i]));this.containers[i].containerCache.over=0;}}//Do what was originally in plugins\nif(this.storedCursor){this.document.find(\"body\").css(\"cursor\",this.storedCursor);this.storedStylesheet.remove();}if(this._storedOpacity){this.helper.css(\"opacity\",this._storedOpacity);}if(this._storedZIndex){this.helper.css(\"zIndex\",this._storedZIndex===\"auto\"?\"\":this._storedZIndex);}this.dragging=false;if(!noPropagation){this._trigger(\"beforeStop\",event,this._uiHash());}//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\n// it unbinds ALL events from the original node!\nthis.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}this.helper=null;}if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){// Trigger all delayed events\ndelayedTriggers[i].call(this,event);}this._trigger(\"stop\",event,this._uiHash());}this.fromOutside=false;return!this.cancelHelperRemoval;},_trigger:function _trigger(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function _uiHash(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});/*!\n * jQuery UI Spinner 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Spinner\n//>>group: Widgets\n//>>description: Displays buttons to easily input numbers via the keyboard or mouse.\n//>>docs: http://api.jqueryui.com/spinner/\n//>>demos: http://jqueryui.com/spinner/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/spinner.css\n//>>css.theme: ../../themes/base/theme.css\nfunction spinnerModifer(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger(\"change\");}};}$.widget(\"ui.spinner\",{version:\"1.12.1\",defaultElement:\"<input>\",widgetEventPrefix:\"spin\",options:{classes:{\"ui-spinner\":\"ui-corner-all\",\"ui-spinner-down\":\"ui-corner-br\",\"ui-spinner-up\":\"ui-corner-tr\"},culture:null,icons:{down:\"ui-icon-triangle-1-s\",up:\"ui-icon-triangle-1-n\"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function _create(){// handle string values that need to be parsed\nthis._setOption(\"max\",this.options.max);this._setOption(\"min\",this.options.min);this._setOption(\"step\",this.options.step);// Only format if there is a value, prevents the field from being marked\n// as invalid in Firefox, see #9573.\nif(this.value()!==\"\"){// Format the value, but don't constrain.\nthis._value(this.element.val(),true);}this._draw();this._on(this._events);this._refresh();// Turning off autocomplete prevents the browser from remembering the\n// value when navigating through history, so we re-enable autocomplete\n// if the page is unloaded before the widget is destroyed. #7790\nthis._on(this.window,{beforeunload:function beforeunload(){this.element.removeAttr(\"autocomplete\");}});},_getCreateOptions:function _getCreateOptions(){var options=this._super();var element=this.element;$.each([\"min\",\"max\",\"step\"],function(i,option){var value=element.attr(option);if(value!=null&&value.length){options[option]=value;}});return options;},_events:{keydown:function keydown(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:\"_stop\",focus:function focus(){this.previous=this.element.val();},blur:function blur(event){if(this.cancelBlur){delete this.cancelBlur;return;}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger(\"change\",event);}},mousewheel:function mousewheel(event,delta){if(!delta){return;}if(!this.spinning&&!this._start(event)){return false;}this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},\"mousedown .ui-spinner-button\":function mousedownUiSpinnerButton(event){var previous;// We never want the buttons to have focus; whenever the user is\n// interacting with the spinner, the focus should be on the input.\n// If the input is focused then this.previous is properly set from\n// when the input first received focus. If the input is not focused\n// then we need to set this.previous based on the value before spinning.\nprevious=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===$.ui.safeActiveElement(this.document[0]);if(!isActive){this.element.trigger(\"focus\");this.previous=previous;// support: IE\n// IE sets focus asynchronously, so we need to check if focus\n// moved off of the input because the user clicked on the button.\nthis._delay(function(){this.previous=previous;});}}// Ensure focus is on (or stays on) the text field\nevent.preventDefault();checkFocus.call(this);// Support: IE\n// IE doesn't prevent moving focus even with event.preventDefault()\n// so we set a flag to know when we should ignore the blur event\n// and check (again) if focus moved off of the input.\nthis.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}this._repeat(null,$(event.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,event);},\"mouseup .ui-spinner-button\":\"_stop\",\"mouseenter .ui-spinner-button\":function mouseenterUiSpinnerButton(event){// button will add ui-state-active if mouse was down while mouseleave and kept down\nif(!$(event.currentTarget).hasClass(\"ui-state-active\")){return;}if(this._start(event)===false){return false;}this._repeat(null,$(event.currentTarget).hasClass(\"ui-spinner-up\")?1:-1,event);},// TODO: do we really want to consider this a stop?\n// shouldn't we just stop the repeater and wait until mouseup before\n// we trigger the stop event?\n\"mouseleave .ui-spinner-button\":\"_stop\"},// Support mobile enhanced option and make backcompat more sane\n_enhance:function _enhance(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(\"<span>\").parent()// Add buttons\n.append(\"<a></a><a></a>\");},_draw:function _draw(){this._enhance();this._addClass(this.uiSpinner,\"ui-spinner\",\"ui-widget ui-widget-content\");this._addClass(\"ui-spinner-input\");this.element.attr(\"role\",\"spinbutton\");// Button bindings\nthis.buttons=this.uiSpinner.children(\"a\").attr(\"tabIndex\",-1).attr(\"aria-hidden\",true).button({classes:{\"ui-button\":\"\"}});// TODO: Right now button does not support classes this is already updated in button PR\nthis._removeClass(this.buttons,\"ui-corner-all\");this._addClass(this.buttons.first(),\"ui-spinner-button ui-spinner-up\");this._addClass(this.buttons.last(),\"ui-spinner-button ui-spinner-down\");this.buttons.first().button({\"icon\":this.options.icons.up,\"showLabel\":false});this.buttons.last().button({\"icon\":this.options.icons.down,\"showLabel\":false});// IE 6 doesn't understand height: 50% for the buttons\n// unless the wrapper has an explicit height\nif(this.buttons.height()>Math.ceil(this.uiSpinner.height()*0.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height());}},_keydown:function _keydown(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}return false;},_start:function _start(event){if(!this.spinning&&this._trigger(\"start\",event)===false){return false;}if(!this.counter){this.counter=1;}this.spinning=true;return true;},_repeat:function _repeat(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function _spin(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger(\"spin\",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function _increment(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}return 1;},_precision:function _precision(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}return precision;},_precisionOf:function _precisionOf(num){var str=num.toString(),decimal=str.indexOf(\".\");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function _adjustValue(value){var base,aboveMin,options=this.options;// Make sure we're at a valid step\n// - find out where we are relative to the base (min or 0)\nbase=options.min!==null?options.min:0;aboveMin=value-base;// - round to the nearest step\naboveMin=Math.round(aboveMin/options.step)*options.step;// - rounding is based on 0, so adjust back to our base\nvalue=base+aboveMin;// Fix precision from bad JS floating point math\nvalue=parseFloat(value.toFixed(this._precision()));// Clamp the value\nif(options.max!==null&&value>options.max){return options.max;}if(options.min!==null&&value<options.min){return options.min;}return value;},_stop:function _stop(event){if(!this.spinning){return;}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger(\"stop\",event);},_setOption:function _setOption(key,value){var prevValue,first,last;if(key===\"culture\"||key===\"numberFormat\"){prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}if(key===\"max\"||key===\"min\"||key===\"step\"){if(typeof value===\"string\"){value=this._parse(value);}}if(key===\"icons\"){first=this.buttons.first().find(\".ui-icon\");this._removeClass(first,null,this.options.icons.up);this._addClass(first,null,value.up);last=this.buttons.last().find(\".ui-icon\");this._removeClass(last,null,this.options.icons.down);this._addClass(last,null,value.down);}this._super(key,value);},_setOptionDisabled:function _setOptionDisabled(value){this._super(value);this._toggleClass(this.uiSpinner,null,\"ui-state-disabled\",!!value);this.element.prop(\"disabled\",!!value);this.buttons.button(value?\"disable\":\"enable\");},_setOptions:spinnerModifer(function(options){this._super(options);}),_parse:function _parse(val){if(typeof val===\"string\"&&val!==\"\"){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}return val===\"\"||isNaN(val)?null:val;},_format:function _format(value){if(value===\"\"){return\"\";}return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function _refresh(){this.element.attr({\"aria-valuemin\":this.options.min,\"aria-valuemax\":this.options.max,// TODO: what should we do with values that can't be parsed?\n\"aria-valuenow\":this._parse(this.element.val())});},isValid:function isValid(){var value=this.value();// Null is invalid\nif(value===null){return false;}// If value gets adjusted, it's invalid\nreturn value===this._adjustValue(value);},// Update the value without triggering change\n_value:function _value(value,allowAny){var parsed;if(value!==\"\"){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}value=this._format(parsed);}}this.element.val(value);this._refresh();},_destroy:function _destroy(){this.element.prop(\"disabled\",false).removeAttr(\"autocomplete role aria-valuemin aria-valuemax aria-valuenow\");this.uiSpinner.replaceWith(this.element);},stepUp:spinnerModifer(function(steps){this._stepUp(steps);}),_stepUp:function _stepUp(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:spinnerModifer(function(steps){this._stepDown(steps);}),_stepDown:function _stepDown(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:spinnerModifer(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:spinnerModifer(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function value(newVal){if(!arguments.length){return this._parse(this.element.val());}spinnerModifer(this._value).call(this,newVal);},widget:function widget(){return this.uiSpinner;}});// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif($.uiBackCompat!==false){// Backcompat for spinner html extension points\n$.widget(\"ui.spinner\",$.ui.spinner,{_enhance:function _enhance(){this.uiSpinner=this.element.attr(\"autocomplete\",\"off\").wrap(this._uiSpinnerHtml()).parent()// Add buttons\n.append(this._buttonHtml());},_uiSpinnerHtml:function _uiSpinnerHtml(){return\"<span>\";},_buttonHtml:function _buttonHtml(){return\"<a></a><a></a>\";}});}var widgetsSpinner=$.ui.spinner;/*!\n * jQuery UI Tabs 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Tabs\n//>>group: Widgets\n//>>description: Transforms a set of container elements into a tab structure.\n//>>docs: http://api.jqueryui.com/tabs/\n//>>demos: http://jqueryui.com/tabs/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/tabs.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.tabs\",{version:\"1.12.1\",delay:300,options:{active:null,classes:{\"ui-tabs\":\"ui-corner-all\",\"ui-tabs-nav\":\"ui-corner-all\",\"ui-tabs-panel\":\"ui-corner-bottom\",\"ui-tabs-tab\":\"ui-corner-top\"},collapsible:false,event:\"click\",heightStyle:\"content\",hide:null,show:null,// Callbacks\nactivate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchorUrl=anchor.href.replace(rhash,\"\");locationUrl=location.href.replace(rhash,\"\");// Decoding may throw an error if the URL isn't UTF-8 (#9518)\ntry{anchorUrl=decodeURIComponent(anchorUrl);}catch(error){}try{locationUrl=decodeURIComponent(locationUrl);}catch(error){}return anchor.hash.length>1&&anchorUrl===locationUrl;};}(),_create:function _create(){var that=this,options=this.options;this.running=false;this._addClass(\"ui-tabs\",\"ui-widget ui-widget-content\");this._toggleClass(\"ui-tabs-collapsible\",null,options.collapsible);this._processTabs();options.active=this._initialActive();// Take disabling tabs via class attribute from HTML\n// into account and update option properly.\nif($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(\".ui-state-disabled\"),function(li){return that.tabs.index(li);}))).sort();}// Check for length avoids error when initializing empty list\nif(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function _initialActive(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){// check the fragment identifier in the URL\nif(locationHash){this.tabs.each(function(i,tab){if($(tab).attr(\"aria-controls\")===locationHash){active=i;return false;}});}// Check for a tab marked active via a class\nif(active===null){active=this.tabs.index(this.tabs.filter(\".ui-tabs-active\"));}// No active tab, set to false\nif(active===null||active===-1){active=this.tabs.length?0:false;}}// Handle numbers: negative, out of range\nif(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}// Don't allow collapsible: false and active: false\nif(!collapsible&&active===false&&this.anchors.length){active=0;}return active;},_getCreateEventData:function _getCreateEventData(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function _tabKeydown(event){var focusedTab=$($.ui.safeActiveElement(this.document[0])).closest(\"li\"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:// Activate only, no collapsing\nevent.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:// Toggle (cancel delayed activation, allow collapsing)\nevent.preventDefault();clearTimeout(this.activating);// Determine if we should collapse or activate\nthis._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}// Focus the appropriate tab, based on which key was pressed\nevent.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);// Navigating with control/command key will prevent automatic activation\nif(!event.ctrlKey&&!event.metaKey){// Update aria-selected immediately so that AT think the tab is already selected.\n// Otherwise AT may confuse the user by stating that they need to activate the tab,\n// but the tab will already be activated by the time the announcement finishes.\nfocusedTab.attr(\"aria-selected\",\"false\");this.tabs.eq(selectedIndex).attr(\"aria-selected\",\"true\");this.activating=this._delay(function(){this.option(\"active\",selectedIndex);},this.delay);}},_panelKeydown:function _panelKeydown(event){if(this._handlePageNav(event)){return;}// Ctrl+up moves focus to the current tab\nif(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.trigger(\"focus\");}},// Alt+page up/down moves focus to the previous/next tab (and activates)\n_handlePageNav:function _handlePageNav(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function _findNextTab(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}if(index<0){index=lastTabIndex;}return index;}while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}return index;},_focusNextTab:function _focusNextTab(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).trigger(\"focus\");return index;},_setOption:function _setOption(key,value){if(key===\"active\"){// _activate() will handle invalid values and update this.options\nthis._activate(value);return;}this._super(key,value);if(key===\"collapsible\"){this._toggleClass(\"ui-tabs-collapsible\",null,value);// Setting collapsible: false while collapsed; open first panel\nif(!value&&this.options.active===false){this._activate(0);}}if(key===\"event\"){this._setupEvents(value);}if(key===\"heightStyle\"){this._setupHeightStyle(value);}},_sanitizeSelector:function _sanitizeSelector(hash){return hash?hash.replace(/[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g,\"\\\\$&\"):\"\";},refresh:function refresh(){var options=this.options,lis=this.tablist.children(\":has(a[href])\");// Get disabled tabs from class attribute from HTML\n// this will get converted to a boolean if needed in _refresh()\noptions.disabled=$.map(lis.filter(\".ui-state-disabled\"),function(tab){return lis.index(tab);});this._processTabs();// Was collapsed or no tabs\nif(options.active===false||!this.anchors.length){options.active=false;this.active=$();// was active, but active tab is gone\n}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){// all remaining tabs are disabled\nif(this.tabs.length===options.disabled.length){options.active=false;this.active=$();// activate previous tab\n}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}// was active, active tab still exists\n}else{// make sure active index is correct\noptions.active=this.tabs.index(this.active);}this._refresh();},_refresh:function _refresh(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({\"aria-hidden\":\"true\"});// Make sure one tab is in the tab order\nif(!this.active.length){this.tabs.eq(0).attr(\"tabIndex\",0);}else{this.active.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0});this._addClass(this.active,\"ui-tabs-active\",\"ui-state-active\");this._getPanelForTab(this.active).show().attr({\"aria-hidden\":\"false\"});}},_processTabs:function _processTabs(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().attr(\"role\",\"tablist\");this._addClass(this.tablist,\"ui-tabs-nav\",\"ui-helper-reset ui-helper-clearfix ui-widget-header\");// Prevent users from focusing disabled tabs via click\nthis.tablist.on(\"mousedown\"+this.eventNamespace,\"> li\",function(event){if($(this).is(\".ui-state-disabled\")){event.preventDefault();}})// Support: IE <9\n// Preventing the default action in mousedown doesn't prevent IE\n// from focusing the element, so if the anchor gets focused, blur.\n// We don't have to worry about focusing the previously focused\n// element since clicking on a non-focusable element should focus\n// the body anyway.\n.on(\"focus\"+this.eventNamespace,\".ui-tabs-anchor\",function(){if($(this).closest(\"li\").is(\".ui-state-disabled\")){this.blur();}});this.tabs=this.tablist.find(\"> li:has(a[href])\").attr({role:\"tab\",tabIndex:-1});this._addClass(this.tabs,\"ui-tabs-tab\",\"ui-state-default\");this.anchors=this.tabs.map(function(){return $(\"a\",this)[0];}).attr({role:\"presentation\",tabIndex:-1});this._addClass(this.anchors,\"ui-tabs-anchor\");this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr(\"id\"),tab=$(anchor).closest(\"li\"),originalAriaControls=tab.attr(\"aria-controls\");// Inline tab\nif(that._isLocal(anchor)){selector=anchor.hash;panelId=selector.substring(1);panel=that.element.find(that._sanitizeSelector(selector));// remote tab\n}else{// If the tab doesn't already have aria-controls,\n// generate an id by using a throw-away element\npanelId=tab.attr(\"aria-controls\")||$({}).uniqueId()[0].id;selector=\"#\"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}panel.attr(\"aria-live\",\"polite\");}if(panel.length){that.panels=that.panels.add(panel);}if(originalAriaControls){tab.data(\"ui-tabs-aria-controls\",originalAriaControls);}tab.attr({\"aria-controls\":panelId,\"aria-labelledby\":anchorId});panel.attr(\"aria-labelledby\",anchorId);});this.panels.attr(\"role\",\"tabpanel\");this._addClass(this.panels,\"ui-tabs-panel\",\"ui-widget-content\");// Avoid memory leaks (#10056)\nif(prevTabs){this._off(prevTabs.not(this.tabs));this._off(prevAnchors.not(this.anchors));this._off(prevPanels.not(this.panels));}},// Allow overriding how to find the list for rare usage scenarios (#7715)\n_getList:function _getList(){return this.tablist||this.element.find(\"ol, ul\").eq(0);},_createPanel:function _createPanel(id){return $(\"<div>\").attr(\"id\",id).data(\"ui-tabs-destroy\",true);},_setOptionDisabled:function _setOptionDisabled(disabled){var currentItem,li,i;if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}// Disable tabs\nfor(i=0;li=this.tabs[i];i++){currentItem=$(li);if(disabled===true||$.inArray(i,disabled)!==-1){currentItem.attr(\"aria-disabled\",\"true\");this._addClass(currentItem,null,\"ui-state-disabled\");}else{currentItem.removeAttr(\"aria-disabled\");this._removeClass(currentItem,null,\"ui-state-disabled\");}}this.options.disabled=disabled;this._toggleClass(this.widget(),this.widgetFullName+\"-disabled\",null,disabled===true);},_setupEvents:function _setupEvents(event){var events={};if(event){$.each(event.split(\" \"),function(index,eventName){events[eventName]=\"_eventHandler\";});}this._off(this.anchors.add(this.tabs).add(this.panels));// Always prevent the default action, even when disabled\nthis._on(true,this.anchors,{click:function click(event){event.preventDefault();}});this._on(this.anchors,events);this._on(this.tabs,{keydown:\"_tabKeydown\"});this._on(this.panels,{keydown:\"_panelKeydown\"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function _setupHeightStyle(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle===\"fill\"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(\":visible\").each(function(){var elem=$(this),position=elem.css(\"position\");if(position===\"absolute\"||position===\"fixed\"){return;}maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()));}).css(\"overflow\",\"auto\");}else if(heightStyle===\"auto\"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height(\"\").height());}).height(maxHeight);}},_eventHandler:function _eventHandler(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest(\"li\"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass(\"ui-state-disabled\")||// tab is already loading\ntab.hasClass(\"ui-tabs-loading\")||// can't switch durning an animation\nthis.running||// click on active header, but not collapsible\nclickedIsActive&&!options.collapsible||// allow canceling activation\nthis._trigger(\"beforeActivate\",event,eventData)===false){return;}options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}if(!toHide.length&&!toShow.length){$.error(\"jQuery UI Tabs: Mismatching fragment identifier.\");}if(toShow.length){this.load(this.tabs.index(tab),event);}this._toggle(event,eventData);},// Handles show/hide for selecting tabs\n_toggle:function _toggle(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger(\"activate\",event,eventData);}function show(){that._addClass(eventData.newTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}// Start out by hiding, then showing, then completing\nif(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){that._removeClass(eventData.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\");show();});}else{this._removeClass(eventData.oldTab.closest(\"li\"),\"ui-tabs-active\",\"ui-state-active\");toHide.hide();show();}toHide.attr(\"aria-hidden\",\"true\");eventData.oldTab.attr({\"aria-selected\":\"false\",\"aria-expanded\":\"false\"});// If we're switching tabs, remove the old tab from the tab order.\n// If we're opening from collapsed state, remove the previous tab from the tab order.\n// If we're collapsing, then keep the collapsing tab in the tab order.\nif(toShow.length&&toHide.length){eventData.oldTab.attr(\"tabIndex\",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr(\"tabIndex\")===0;}).attr(\"tabIndex\",-1);}toShow.attr(\"aria-hidden\",\"false\");eventData.newTab.attr({\"aria-selected\":\"true\",\"aria-expanded\":\"true\",tabIndex:0});},_activate:function _activate(index){var anchor,active=this._findActive(index);// Trying to activate the already active panel\nif(active[0]===this.active[0]){return;}// Trying to collapse, simulate a click on the current active header\nif(!active.length){active=this.active;}anchor=active.find(\".ui-tabs-anchor\")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function _findActive(index){return index===false?$():this.tabs.eq(index);},_getIndex:function _getIndex(index){// meta-function to give users option to provide a href string instead of a numerical index.\nif(typeof index===\"string\"){index=this.anchors.index(this.anchors.filter(\"[href$='\"+$.ui.escapeSelector(index)+\"']\"));}return index;},_destroy:function _destroy(){if(this.xhr){this.xhr.abort();}this.tablist.removeAttr(\"role\").off(this.eventNamespace);this.anchors.removeAttr(\"role tabIndex\").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,\"ui-tabs-destroy\")){$(this).remove();}else{$(this).removeAttr(\"role tabIndex \"+\"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded\");}});this.tabs.each(function(){var li=$(this),prev=li.data(\"ui-tabs-aria-controls\");if(prev){li.attr(\"aria-controls\",prev).removeData(\"ui-tabs-aria-controls\");}else{li.removeAttr(\"aria-controls\");}});this.panels.show();if(this.options.heightStyle!==\"content\"){this.panels.css(\"height\",\"\");}},enable:function enable(index){var disabled=this.options.disabled;if(disabled===false){return;}if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}this._setOptionDisabled(disabled);},disable:function disable(index){var disabled=this.options.disabled;if(disabled===true){return;}if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}this._setOptionDisabled(disabled);},load:function load(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(\".ui-tabs-anchor\"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function complete(jqXHR,status){if(status===\"abort\"){that.panels.stop(false,true);}that._removeClass(tab,\"ui-tabs-loading\");panel.removeAttr(\"aria-busy\");if(jqXHR===that.xhr){delete that.xhr;}};// Not remote\nif(this._isLocal(anchor[0])){return;}this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));// Support: jQuery <1.8\n// jQuery <1.8 returns false if the request is canceled in beforeSend,\n// but as of 1.8, $.ajax() always returns a jqXHR object.\nif(this.xhr&&this.xhr.statusText!==\"canceled\"){this._addClass(tab,\"ui-tabs-loading\");panel.attr(\"aria-busy\",\"true\");this.xhr.done(function(response,status,jqXHR){// support: jQuery <1.8\n// http://bugs.jquery.com/ticket/11778\nsetTimeout(function(){panel.html(response);that._trigger(\"load\",event,eventData);complete(jqXHR,status);},1);}).fail(function(jqXHR,status){// support: jQuery <1.8\n// http://bugs.jquery.com/ticket/11778\nsetTimeout(function(){complete(jqXHR,status);},1);});}},_ajaxSettings:function _ajaxSettings(anchor,event,eventData){var that=this;return{// Support: IE <11 only\n// Strip any hash that exists to prevent errors with the Ajax request\nurl:anchor.attr(\"href\").replace(/#.*$/,\"\"),beforeSend:function beforeSend(jqXHR,settings){return that._trigger(\"beforeLoad\",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function _getPanelForTab(tab){var id=$(tab).attr(\"aria-controls\");return this.element.find(this._sanitizeSelector(\"#\"+id));}});// DEPRECATED\n// TODO: Switch return back to widget declaration at top of file when this is removed\nif($.uiBackCompat!==false){// Backcompat for ui-tab class (now ui-tabs-tab)\n$.widget(\"ui.tabs\",$.ui.tabs,{_processTabs:function _processTabs(){this._superApply(arguments);this._addClass(this.tabs,\"ui-tab\");}});}var widgetsTabs=$.ui.tabs;/*!\n * jQuery UI Tooltip 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *///>>label: Tooltip\n//>>group: Widgets\n//>>description: Shows additional information for any element on hover or focus.\n//>>docs: http://api.jqueryui.com/tooltip/\n//>>demos: http://jqueryui.com/tooltip/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/tooltip.css\n//>>css.theme: ../../themes/base/theme.css\n$.widget(\"ui.tooltip\",{version:\"1.12.1\",options:{classes:{\"ui-tooltip\":\"ui-corner-all ui-widget-shadow\"},content:function content(){// support: IE<9, Opera in jQuery <1.7\n// .text() can't accept undefined, so coerce to a string\nvar title=$(this).attr(\"title\")||\"\";// Escape title, since we're going from an attribute to raw HTML\nreturn $(\"<a>\").text(title).html();},hide:true,// Disabled elements have inconsistent behavior across browsers (#8661)\nitems:\"[title]:not([disabled])\",position:{my:\"left top+15\",at:\"left bottom\",collision:\"flipfit flip\"},show:true,track:false,// Callbacks\nclose:null,open:null},_addDescribedBy:function _addDescribedBy(elem,id){var describedby=(elem.attr(\"aria-describedby\")||\"\").split(/\\s+/);describedby.push(id);elem.data(\"ui-tooltip-id\",id).attr(\"aria-describedby\",$.trim(describedby.join(\" \")));},_removeDescribedBy:function _removeDescribedBy(elem){var id=elem.data(\"ui-tooltip-id\"),describedby=(elem.attr(\"aria-describedby\")||\"\").split(/\\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}elem.removeData(\"ui-tooltip-id\");describedby=$.trim(describedby.join(\" \"));if(describedby){elem.attr(\"aria-describedby\",describedby);}else{elem.removeAttr(\"aria-describedby\");}},_create:function _create(){this._on({mouseover:\"open\",focusin:\"open\"});// IDs of generated tooltips, needed for destroy\nthis.tooltips={};// IDs of parent tooltips where we removed the title attribute\nthis.parents={};// Append the aria-live region so tooltips announce correctly\nthis.liveRegion=$(\"<div>\").attr({role:\"log\",\"aria-live\":\"assertive\",\"aria-relevant\":\"additions\"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,\"ui-helper-hidden-accessible\");this.disabledTitles=$([]);},_setOption:function _setOption(key,value){var that=this;this._super(key,value);if(key===\"content\"){$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element);});}},_setOptionDisabled:function _setOptionDisabled(value){this[value?\"_disable\":\"_enable\"]();},_disable:function _disable(){var that=this;// Close open tooltips\n$.each(this.tooltips,function(id,tooltipData){var event=$.Event(\"blur\");event.target=event.currentTarget=tooltipData.element[0];that.close(event,true);});// Remove title attributes to prevent native tooltips\nthis.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var element=$(this);if(element.is(\"[title]\")){return element.data(\"ui-tooltip-title\",element.attr(\"title\")).removeAttr(\"title\");}}));},_enable:function _enable(){// restore title attributes\nthis.disabledTitles.each(function(){var element=$(this);if(element.data(\"ui-tooltip-title\")){element.attr(\"title\",element.data(\"ui-tooltip-title\"));}});this.disabledTitles=$([]);},open:function open(event){var that=this,target=$(event?event.target:this.element)// we need closest here due to mouseover bubbling,\n// but always pointing at the same event target\n.closest(this.options.items);// No element to show a tooltip for or the tooltip is already open\nif(!target.length||target.data(\"ui-tooltip-id\")){return;}if(target.attr(\"title\")){target.data(\"ui-tooltip-title\",target.attr(\"title\"));}target.data(\"ui-tooltip-open\",true);// Kill parent tooltips, custom or native, for hover\nif(event&&event.type===\"mouseover\"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data(\"ui-tooltip-open\")){blurEvent=$.Event(\"blur\");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}if(parent.attr(\"title\")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr(\"title\")};parent.attr(\"title\",\"\");}});}this._registerCloseHandlers(event,target);this._updateContent(target,event);},_updateContent:function _updateContent(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption===\"string\"||contentOption.nodeType||contentOption.jquery){return this._open(event,target,contentOption);}content=contentOption.call(target[0],function(response){// IE may instantly serve a cached response for ajax requests\n// delay this call to _open so the other call to _open runs first\nthat._delay(function(){// Ignore async response if tooltip was closed already\nif(!target.data(\"ui-tooltip-open\")){return;}// JQuery creates a special event for focusin when it doesn't\n// exist natively. To improve performance, the native event\n// object is reused and the type is changed. Therefore, we can't\n// rely on the type being correct after the event finished\n// bubbling, so we set it back to the previous value. (#8740)\nif(event){event.type=eventType;}this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function _open(event,target,content){var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(!content){return;}// Content can be updated multiple times. If the tooltip already\n// exists, then just update the content and bail.\ntooltipData=this._find(target);if(tooltipData){tooltipData.tooltip.find(\".ui-tooltip-content\").html(content);return;}// If we have a title, clear it to prevent the native tooltip\n// we have to check first to avoid defining a title if none exists\n// (we don't want to cause an element to start matching [title])\n//\n// We use removeAttr only for key events, to allow IE to export the correct\n// accessible attributes. For mouse events, set to empty string to avoid\n// native tooltip showing up (happens only when removing inside mouseover).\nif(target.is(\"[title]\")){if(event&&event.type===\"mouseover\"){target.attr(\"title\",\"\");}else{target.removeAttr(\"title\");}}tooltipData=this._tooltip(target);tooltip=tooltipData.tooltip;this._addDescribedBy(target,tooltip.attr(\"id\"));tooltip.find(\".ui-tooltip-content\").html(content);// Support: Voiceover on OS X, JAWS on IE <= 9\n// JAWS announces deletions even when aria-relevant=\"additions\"\n// Voiceover will sometimes re-read the entire log region's contents from the beginning\nthis.liveRegion.children().hide();a11yContent=$(\"<div>\").html(tooltip.find(\".ui-tooltip-content\").html());a11yContent.removeAttr(\"name\").find(\"[name]\").removeAttr(\"name\");a11yContent.removeAttr(\"id\").find(\"[id]\").removeAttr(\"id\");a11yContent.appendTo(this.liveRegion);function position(event){positionOption.of=event;if(tooltip.is(\":hidden\")){return;}tooltip.position(positionOption);}if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});// trigger once to override element-relative positioning\nposition(event);}else{tooltip.position($.extend({of:target},this.options.position));}tooltip.hide();this._show(tooltip,this.options.show);// Handle tracking tooltips that are shown with a delay (#8644). As soon\n// as the tooltip is visible, position the tooltip using the most recent\n// event.\n// Adds the check to add the timers only when both delay and track options are set (#14682)\nif(this.options.track&&this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(\":visible\")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}this._trigger(\"open\",event,{tooltip:tooltip});},_registerCloseHandlers:function _registerCloseHandlers(event,target){var events={keyup:function keyup(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}}};// Only bind remove handler for delegated targets. Non-delegated\n// tooltips will handle this in destroy.\nif(target[0]!==this.element[0]){events.remove=function(){this._removeTooltip(this._find(target).tooltip);};}if(!event||event.type===\"mouseover\"){events.mouseleave=\"close\";}if(!event||event.type===\"focusin\"){events.focusout=\"close\";}this._on(true,target,events);},close:function close(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);// The tooltip may already be closed\nif(!tooltipData){// We set ui-tooltip-open immediately upon open (in open()), but only set the\n// additional data once there's actually content to show (in _open()). So even if the\n// tooltip doesn't have full data, we always remove ui-tooltip-open in case we're in\n// the period between open() and _open().\ntarget.removeData(\"ui-tooltip-open\");return;}tooltip=tooltipData.tooltip;// Disabling closes the tooltip, so we need to track when we're closing\n// to avoid an infinite loop in case the tooltip becomes disabled on close\nif(tooltipData.closing){return;}// Clear the interval for delayed tracking tooltips\nclearInterval(this.delayedShow);// Only set title if we had one before (see comment in _open())\n// If the title attribute has changed since open(), don't restore\nif(target.data(\"ui-tooltip-title\")&&!target.attr(\"title\")){target.attr(\"title\",target.data(\"ui-tooltip-title\"));}this._removeDescribedBy(target);tooltipData.hiding=true;tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData(\"ui-tooltip-open\");this._off(target,\"mouseleave focusout keyup\");// Remove 'remove' binding only on delegated targets\nif(target[0]!==this.element[0]){this._off(target,\"remove\");}this._off(this.document,\"mousemove\");if(event&&event.type===\"mouseleave\"){$.each(this.parents,function(id,parent){$(parent.element).attr(\"title\",parent.title);delete that.parents[id];});}tooltipData.closing=true;this._trigger(\"close\",event,{tooltip:tooltip});if(!tooltipData.hiding){tooltipData.closing=false;}},_tooltip:function _tooltip(element){var tooltip=$(\"<div>\").attr(\"role\",\"tooltip\"),content=$(\"<div>\").appendTo(tooltip),id=tooltip.uniqueId().attr(\"id\");this._addClass(content,\"ui-tooltip-content\");this._addClass(tooltip,\"ui-tooltip\",\"ui-widget ui-widget-content\");tooltip.appendTo(this._appendTo(element));return this.tooltips[id]={element:element,tooltip:tooltip};},_find:function _find(target){var id=target.data(\"ui-tooltip-id\");return id?this.tooltips[id]:null;},_removeTooltip:function _removeTooltip(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr(\"id\")];},_appendTo:function _appendTo(target){var element=target.closest(\".ui-front, dialog\");if(!element.length){element=this.document[0].body;}return element;},_destroy:function _destroy(){var that=this;// Close open tooltips\n$.each(this.tooltips,function(id,tooltipData){// Delegate to close method to handle common cleanup\nvar event=$.Event(\"blur\"),element=tooltipData.element;event.target=event.currentTarget=element[0];that.close(event,true);// Remove immediately; destroying an open tooltip doesn't use the\n// hide animation\n$(\"#\"+id).remove();// Restore the title\nif(element.data(\"ui-tooltip-title\")){// If the title attribute has changed since open(), don't restore\nif(!element.attr(\"title\")){element.attr(\"title\",element.data(\"ui-tooltip-title\"));}element.removeData(\"ui-tooltip-title\");}});this.liveRegion.remove();}});// DEPRECATED\n// TODO: Switch return back to widget declaration at top of file when this is removed\nif($.uiBackCompat!==false){// Backcompat for tooltipClass option\n$.widget(\"ui.tooltip\",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function _tooltip(){var tooltipData=this._superApply(arguments);if(this.options.tooltipClass){tooltipData.tooltip.addClass(this.options.tooltipClass);}return tooltipData;}});}var widgetsTooltip=$.ui.tooltip;});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2xpYi9qcXVlcnktdWkvanF1ZXJ5LXVpLmpzP2NjNjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIGpRdWVyeSBVSSAtIHYxLjEyLjEgLSAyMDE2LTA5LTE0XG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiogSW5jbHVkZXM6IHdpZGdldC5qcywgcG9zaXRpb24uanMsIGRhdGEuanMsIGRpc2FibGUtc2VsZWN0aW9uLmpzLCBlZmZlY3QuanMsIGVmZmVjdHMvZWZmZWN0LWJsaW5kLmpzLCBlZmZlY3RzL2VmZmVjdC1ib3VuY2UuanMsIGVmZmVjdHMvZWZmZWN0LWNsaXAuanMsIGVmZmVjdHMvZWZmZWN0LWRyb3AuanMsIGVmZmVjdHMvZWZmZWN0LWV4cGxvZGUuanMsIGVmZmVjdHMvZWZmZWN0LWZhZGUuanMsIGVmZmVjdHMvZWZmZWN0LWZvbGQuanMsIGVmZmVjdHMvZWZmZWN0LWhpZ2hsaWdodC5qcywgZWZmZWN0cy9lZmZlY3QtcHVmZi5qcywgZWZmZWN0cy9lZmZlY3QtcHVsc2F0ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2NhbGUuanMsIGVmZmVjdHMvZWZmZWN0LXNoYWtlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaXplLmpzLCBlZmZlY3RzL2VmZmVjdC1zbGlkZS5qcywgZWZmZWN0cy9lZmZlY3QtdHJhbnNmZXIuanMsIGZvY3VzYWJsZS5qcywgZm9ybS1yZXNldC1taXhpbi5qcywganF1ZXJ5LTEtNy5qcywga2V5Y29kZS5qcywgbGFiZWxzLmpzLCBzY3JvbGwtcGFyZW50LmpzLCB0YWJiYWJsZS5qcywgdW5pcXVlLWlkLmpzLCB3aWRnZXRzL2FjY29yZGlvbi5qcywgd2lkZ2V0cy9hdXRvY29tcGxldGUuanMsIHdpZGdldHMvYnV0dG9uLmpzLCB3aWRnZXRzL2NoZWNrYm94cmFkaW8uanMsIHdpZGdldHMvY29udHJvbGdyb3VwLmpzLCB3aWRnZXRzL2RhdGVwaWNrZXIuanMsIHdpZGdldHMvZGlhbG9nLmpzLCB3aWRnZXRzL2RyYWdnYWJsZS5qcywgd2lkZ2V0cy9kcm9wcGFibGUuanMsIHdpZGdldHMvbWVudS5qcywgd2lkZ2V0cy9tb3VzZS5qcywgd2lkZ2V0cy9wcm9ncmVzc2Jhci5qcywgd2lkZ2V0cy9yZXNpemFibGUuanMsIHdpZGdldHMvc2VsZWN0YWJsZS5qcywgd2lkZ2V0cy9zZWxlY3RtZW51LmpzLCB3aWRnZXRzL3NsaWRlci5qcywgd2lkZ2V0cy9zb3J0YWJsZS5qcywgd2lkZ2V0cy9zcGlubmVyLmpzLCB3aWRnZXRzL3RhYnMuanMsIHdpZGdldHMvdG9vbHRpcC5qc1xuKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovXG5cbihmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoWyBcImpxdWVyeVwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KGZ1bmN0aW9uKCAkICkge1xuXG4kLnVpID0gJC51aSB8fCB7fTtcblxudmFyIHZlcnNpb24gPSAkLnVpLnZlcnNpb24gPSBcIjEuMTIuMVwiO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFdpZGdldCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogV2lkZ2V0XG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogUHJvdmlkZXMgYSBmYWN0b3J5IGZvciBjcmVhdGluZyBzdGF0ZWZ1bCB3aWRnZXRzIHdpdGggYSBjb21tb24gQVBJLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2pRdWVyeS53aWRnZXQvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vd2lkZ2V0L1xuXG5cblxudmFyIHdpZGdldFV1aWQgPSAwO1xudmFyIHdpZGdldFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4kLmNsZWFuRGF0YSA9ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGV2ZW50cywgZWxlbSwgaTtcblx0XHRmb3IgKCBpID0gMDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdHRyeSB7XG5cblx0XHRcdFx0Ly8gT25seSB0cmlnZ2VyIHJlbW92ZSB3aGVuIG5lY2Vzc2FyeSB0byBzYXZlIHRpbWVcblx0XHRcdFx0ZXZlbnRzID0gJC5fZGF0YSggZWxlbSwgXCJldmVudHNcIiApO1xuXHRcdFx0XHRpZiAoIGV2ZW50cyAmJiBldmVudHMucmVtb3ZlICkge1xuXHRcdFx0XHRcdCQoIGVsZW0gKS50cmlnZ2VySGFuZGxlciggXCJyZW1vdmVcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzgyMzVcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHR9XG5cdFx0b3JpZyggZWxlbXMgKTtcblx0fTtcbn0gKSggJC5jbGVhbkRhdGEgKTtcblxuJC53aWRnZXQgPSBmdW5jdGlvbiggbmFtZSwgYmFzZSwgcHJvdG90eXBlICkge1xuXHR2YXIgZXhpc3RpbmdDb25zdHJ1Y3RvciwgY29uc3RydWN0b3IsIGJhc2VQcm90b3R5cGU7XG5cblx0Ly8gUHJveGllZFByb3RvdHlwZSBhbGxvd3MgdGhlIHByb3ZpZGVkIHByb3RvdHlwZSB0byByZW1haW4gdW5tb2RpZmllZFxuXHQvLyBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFzIGEgbWl4aW4gZm9yIG11bHRpcGxlIHdpZGdldHMgKCM4ODc2KVxuXHR2YXIgcHJveGllZFByb3RvdHlwZSA9IHt9O1xuXG5cdHZhciBuYW1lc3BhY2UgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAwIF07XG5cdG5hbWUgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAxIF07XG5cdHZhciBmdWxsTmFtZSA9IG5hbWVzcGFjZSArIFwiLVwiICsgbmFtZTtcblxuXHRpZiAoICFwcm90b3R5cGUgKSB7XG5cdFx0cHJvdG90eXBlID0gYmFzZTtcblx0XHRiYXNlID0gJC5XaWRnZXQ7XG5cdH1cblxuXHRpZiAoICQuaXNBcnJheSggcHJvdG90eXBlICkgKSB7XG5cdFx0cHJvdG90eXBlID0gJC5leHRlbmQuYXBwbHkoIG51bGwsIFsge30gXS5jb25jYXQoIHByb3RvdHlwZSApICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgc2VsZWN0b3IgZm9yIHBsdWdpblxuXHQkLmV4cHJbIFwiOlwiIF1bIGZ1bGxOYW1lLnRvTG93ZXJDYXNlKCkgXSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAhISQuZGF0YSggZWxlbSwgZnVsbE5hbWUgKTtcblx0fTtcblxuXHQkWyBuYW1lc3BhY2UgXSA9ICRbIG5hbWVzcGFjZSBdIHx8IHt9O1xuXHRleGlzdGluZ0NvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXTtcblx0Y29uc3RydWN0b3IgPSAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7XG5cblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgXCJuZXdcIiBrZXl3b3JkXG5cdFx0aWYgKCAhdGhpcy5fY3JlYXRlV2lkZ2V0ICkge1xuXHRcdFx0cmV0dXJuIG5ldyBjb25zdHJ1Y3Rvciggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZVxuXHRcdC8vIG11c3QgdXNlIFwibmV3XCIga2V5d29yZCAodGhlIGNvZGUgYWJvdmUgYWx3YXlzIHBhc3NlcyBhcmdzKVxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX2NyZWF0ZVdpZGdldCggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblx0fTtcblxuXHQvLyBFeHRlbmQgd2l0aCB0aGUgZXhpc3RpbmcgY29uc3RydWN0b3IgdG8gY2Fycnkgb3ZlciBhbnkgc3RhdGljIHByb3BlcnRpZXNcblx0JC5leHRlbmQoIGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLCB7XG5cdFx0dmVyc2lvbjogcHJvdG90eXBlLnZlcnNpb24sXG5cblx0XHQvLyBDb3B5IHRoZSBvYmplY3QgdXNlZCB0byBjcmVhdGUgdGhlIHByb3RvdHlwZSBpbiBjYXNlIHdlIG5lZWQgdG9cblx0XHQvLyByZWRlZmluZSB0aGUgd2lkZ2V0IGxhdGVyXG5cdFx0X3Byb3RvOiAkLmV4dGVuZCgge30sIHByb3RvdHlwZSApLFxuXG5cdFx0Ly8gVHJhY2sgd2lkZ2V0cyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIHdpZGdldCBpbiBjYXNlIHRoaXMgd2lkZ2V0IGlzXG5cdFx0Ly8gcmVkZWZpbmVkIGFmdGVyIGEgd2lkZ2V0IGluaGVyaXRzIGZyb20gaXRcblx0XHRfY2hpbGRDb25zdHJ1Y3RvcnM6IFtdXG5cdH0gKTtcblxuXHRiYXNlUHJvdG90eXBlID0gbmV3IGJhc2UoKTtcblxuXHQvLyBXZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2Vcblx0Ly8gb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZVxuXHQvLyBpbmhlcml0aW5nIGZyb21cblx0YmFzZVByb3RvdHlwZS5vcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kKCB7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zICk7XG5cdCQuZWFjaCggcHJvdG90eXBlLCBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cHJveGllZFByb3RvdHlwZVsgcHJvcCBdID0gdmFsdWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9ICggZnVuY3Rpb24oKSB7XG5cdFx0XHRmdW5jdGlvbiBfc3VwZXIoKSB7XG5cdFx0XHRcdHJldHVybiBiYXNlLnByb3RvdHlwZVsgcHJvcCBdLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gX3N1cGVyQXBwbHkoIGFyZ3MgKSB7XG5cdFx0XHRcdHJldHVybiBiYXNlLnByb3RvdHlwZVsgcHJvcCBdLmFwcGx5KCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIF9fc3VwZXIgPSB0aGlzLl9zdXBlcjtcblx0XHRcdFx0dmFyIF9fc3VwZXJBcHBseSA9IHRoaXMuX3N1cGVyQXBwbHk7XG5cdFx0XHRcdHZhciByZXR1cm5WYWx1ZTtcblxuXHRcdFx0XHR0aGlzLl9zdXBlciA9IF9zdXBlcjtcblx0XHRcdFx0dGhpcy5fc3VwZXJBcHBseSA9IF9zdXBlckFwcGx5O1xuXG5cdFx0XHRcdHJldHVyblZhbHVlID0gdmFsdWUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRcdHRoaXMuX3N1cGVyID0gX19zdXBlcjtcblx0XHRcdFx0dGhpcy5fc3VwZXJBcHBseSA9IF9fc3VwZXJBcHBseTtcblxuXHRcdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0XHR9O1xuXHRcdH0gKSgpO1xuXHR9ICk7XG5cdGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9ICQud2lkZ2V0LmV4dGVuZCggYmFzZVByb3RvdHlwZSwge1xuXG5cdFx0Ly8gVE9ETzogcmVtb3ZlIHN1cHBvcnQgZm9yIHdpZGdldEV2ZW50UHJlZml4XG5cdFx0Ly8gYWx3YXlzIHVzZSB0aGUgbmFtZSArIGEgY29sb24gYXMgdGhlIHByZWZpeCwgZS5nLiwgZHJhZ2dhYmxlOnN0YXJ0XG5cdFx0Ly8gZG9uJ3QgcHJlZml4IGZvciB3aWRnZXRzIHRoYXQgYXJlbid0IERPTS1iYXNlZFxuXHRcdHdpZGdldEV2ZW50UHJlZml4OiBleGlzdGluZ0NvbnN0cnVjdG9yID8gKCBiYXNlUHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4IHx8IG5hbWUgKSA6IG5hbWVcblx0fSwgcHJveGllZFByb3RvdHlwZSwge1xuXHRcdGNvbnN0cnVjdG9yOiBjb25zdHJ1Y3Rvcixcblx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZSxcblx0XHR3aWRnZXROYW1lOiBuYW1lLFxuXHRcdHdpZGdldEZ1bGxOYW1lOiBmdWxsTmFtZVxuXHR9ICk7XG5cblx0Ly8gSWYgdGhpcyB3aWRnZXQgaXMgYmVpbmcgcmVkZWZpbmVkIHRoZW4gd2UgbmVlZCB0byBmaW5kIGFsbCB3aWRnZXRzIHRoYXRcblx0Ly8gYXJlIGluaGVyaXRpbmcgZnJvbSBpdCBhbmQgcmVkZWZpbmUgYWxsIG9mIHRoZW0gc28gdGhhdCB0aGV5IGluaGVyaXQgZnJvbVxuXHQvLyB0aGUgbmV3IHZlcnNpb24gb2YgdGhpcyB3aWRnZXQuIFdlJ3JlIGVzc2VudGlhbGx5IHRyeWluZyB0byByZXBsYWNlIG9uZVxuXHQvLyBsZXZlbCBpbiB0aGUgcHJvdG90eXBlIGNoYWluLlxuXHRpZiAoIGV4aXN0aW5nQ29uc3RydWN0b3IgKSB7XG5cdFx0JC5lYWNoKCBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycywgZnVuY3Rpb24oIGksIGNoaWxkICkge1xuXHRcdFx0dmFyIGNoaWxkUHJvdG90eXBlID0gY2hpbGQucHJvdG90eXBlO1xuXG5cdFx0XHQvLyBSZWRlZmluZSB0aGUgY2hpbGQgd2lkZ2V0IHVzaW5nIHRoZSBzYW1lIHByb3RvdHlwZSB0aGF0IHdhc1xuXHRcdFx0Ly8gb3JpZ2luYWxseSB1c2VkLCBidXQgaW5oZXJpdCBmcm9tIHRoZSBuZXcgdmVyc2lvbiBvZiB0aGUgYmFzZVxuXHRcdFx0JC53aWRnZXQoIGNoaWxkUHJvdG90eXBlLm5hbWVzcGFjZSArIFwiLlwiICsgY2hpbGRQcm90b3R5cGUud2lkZ2V0TmFtZSwgY29uc3RydWN0b3IsXG5cdFx0XHRcdGNoaWxkLl9wcm90byApO1xuXHRcdH0gKTtcblxuXHRcdC8vIFJlbW92ZSB0aGUgbGlzdCBvZiBleGlzdGluZyBjaGlsZCBjb25zdHJ1Y3RvcnMgZnJvbSB0aGUgb2xkIGNvbnN0cnVjdG9yXG5cdFx0Ly8gc28gdGhlIG9sZCBjaGlsZCBjb25zdHJ1Y3RvcnMgY2FuIGJlIGdhcmJhZ2UgY29sbGVjdGVkXG5cdFx0ZGVsZXRlIGV4aXN0aW5nQ29uc3RydWN0b3IuX2NoaWxkQ29uc3RydWN0b3JzO1xuXHR9IGVsc2Uge1xuXHRcdGJhc2UuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goIGNvbnN0cnVjdG9yICk7XG5cdH1cblxuXHQkLndpZGdldC5icmlkZ2UoIG5hbWUsIGNvbnN0cnVjdG9yICk7XG5cblx0cmV0dXJuIGNvbnN0cnVjdG9yO1xufTtcblxuJC53aWRnZXQuZXh0ZW5kID0gZnVuY3Rpb24oIHRhcmdldCApIHtcblx0dmFyIGlucHV0ID0gd2lkZ2V0U2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICk7XG5cdHZhciBpbnB1dEluZGV4ID0gMDtcblx0dmFyIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXHR2YXIga2V5O1xuXHR2YXIgdmFsdWU7XG5cblx0Zm9yICggOyBpbnB1dEluZGV4IDwgaW5wdXRMZW5ndGg7IGlucHV0SW5kZXgrKyApIHtcblx0XHRmb3IgKCBrZXkgaW4gaW5wdXRbIGlucHV0SW5kZXggXSApIHtcblx0XHRcdHZhbHVlID0gaW5wdXRbIGlucHV0SW5kZXggXVsga2V5IF07XG5cdFx0XHRpZiAoIGlucHV0WyBpbnB1dEluZGV4IF0uaGFzT3duUHJvcGVydHkoIGtleSApICYmIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2xvbmUgb2JqZWN0c1xuXHRcdFx0XHRpZiAoICQuaXNQbGFpbk9iamVjdCggdmFsdWUgKSApIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gJC5pc1BsYWluT2JqZWN0KCB0YXJnZXRbIGtleSBdICkgP1xuXHRcdFx0XHRcdFx0JC53aWRnZXQuZXh0ZW5kKCB7fSwgdGFyZ2V0WyBrZXkgXSwgdmFsdWUgKSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGV4dGVuZCBzdHJpbmdzLCBhcnJheXMsIGV0Yy4gd2l0aCBvYmplY3RzXG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB2YWx1ZSApO1xuXG5cdFx0XHRcdC8vIENvcHkgZXZlcnl0aGluZyBlbHNlIGJ5IHJlZmVyZW5jZVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRhcmdldFsga2V5IF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxuJC53aWRnZXQuYnJpZGdlID0gZnVuY3Rpb24oIG5hbWUsIG9iamVjdCApIHtcblx0dmFyIGZ1bGxOYW1lID0gb2JqZWN0LnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZSB8fCBuYW1lO1xuXHQkLmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCI7XG5cdFx0dmFyIGFyZ3MgPSB3aWRnZXRTbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKTtcblx0XHR2YXIgcmV0dXJuVmFsdWUgPSB0aGlzO1xuXG5cdFx0aWYgKCBpc01ldGhvZENhbGwgKSB7XG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYW4gZW1wdHkgY29sbGVjdGlvbiwgd2UgbmVlZCB0byBoYXZlIHRoZSBpbnN0YW5jZSBtZXRob2Rcblx0XHRcdC8vIHJldHVybiB1bmRlZmluZWQgaW5zdGVhZCBvZiB0aGUgalF1ZXJ5IGluc3RhbmNlXG5cdFx0XHRpZiAoICF0aGlzLmxlbmd0aCAmJiBvcHRpb25zID09PSBcImluc3RhbmNlXCIgKSB7XG5cdFx0XHRcdHJldHVyblZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgbWV0aG9kVmFsdWU7XG5cdFx0XHRcdFx0dmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBmdWxsTmFtZSApO1xuXG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zID09PSBcImluc3RhbmNlXCIgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IGluc3RhbmNlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggIWluc3RhbmNlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICQuZXJyb3IoIFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBcIiArIG5hbWUgK1xuXHRcdFx0XHRcdFx0XHRcIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgXCIgK1xuXHRcdFx0XHRcdFx0XHRcImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInXCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICEkLmlzRnVuY3Rpb24oIGluc3RhbmNlWyBvcHRpb25zIF0gKSB8fCBvcHRpb25zLmNoYXJBdCggMCApID09PSBcIl9cIiApIHtcblx0XHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcIm5vIHN1Y2ggbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIicgZm9yIFwiICsgbmFtZSArXG5cdFx0XHRcdFx0XHRcdFwiIHdpZGdldCBpbnN0YW5jZVwiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bWV0aG9kVmFsdWUgPSBpbnN0YW5jZVsgb3B0aW9ucyBdLmFwcGx5KCBpbnN0YW5jZSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCBtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdHJldHVyblZhbHVlID0gbWV0aG9kVmFsdWUgJiYgbWV0aG9kVmFsdWUuanF1ZXJ5ID9cblx0XHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUucHVzaFN0YWNrKCBtZXRob2RWYWx1ZS5nZXQoKSApIDpcblx0XHRcdFx0XHRcdFx0bWV0aG9kVmFsdWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQWxsb3cgbXVsdGlwbGUgaGFzaGVzIHRvIGJlIHBhc3NlZCBvbiBpbml0XG5cdFx0XHRpZiAoIGFyZ3MubGVuZ3RoICkge1xuXHRcdFx0XHRvcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kLmFwcGx5KCBudWxsLCBbIG9wdGlvbnMgXS5jb25jYXQoIGFyZ3MgKSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgaW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lICk7XG5cdFx0XHRcdGlmICggaW5zdGFuY2UgKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2Uub3B0aW9uKCBvcHRpb25zIHx8IHt9ICk7XG5cdFx0XHRcdFx0aWYgKCBpbnN0YW5jZS5faW5pdCApIHtcblx0XHRcdFx0XHRcdGluc3RhbmNlLl9pbml0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQuZGF0YSggdGhpcywgZnVsbE5hbWUsIG5ldyBvYmplY3QoIG9wdGlvbnMsIHRoaXMgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHR9O1xufTtcblxuJC5XaWRnZXQgPSBmdW5jdGlvbiggLyogb3B0aW9ucywgZWxlbWVudCAqLyApIHt9O1xuJC5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzID0gW107XG5cbiQuV2lkZ2V0LnByb3RvdHlwZSA9IHtcblx0d2lkZ2V0TmFtZTogXCJ3aWRnZXRcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwiXCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxkaXY+XCIsXG5cblx0b3B0aW9uczoge1xuXHRcdGNsYXNzZXM6IHt9LFxuXHRcdGRpc2FibGVkOiBmYWxzZSxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNyZWF0ZTogbnVsbFxuXHR9LFxuXG5cdF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnQgPSAkKCBlbGVtZW50IHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgdGhpcyApWyAwIF07XG5cdFx0dGhpcy5lbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdHRoaXMudXVpZCA9IHdpZGdldFV1aWQrKztcblx0XHR0aGlzLmV2ZW50TmFtZXNwYWNlID0gXCIuXCIgKyB0aGlzLndpZGdldE5hbWUgKyB0aGlzLnV1aWQ7XG5cblx0XHR0aGlzLmJpbmRpbmdzID0gJCgpO1xuXHRcdHRoaXMuaG92ZXJhYmxlID0gJCgpO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCgpO1xuXHRcdHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXAgPSB7fTtcblxuXHRcdGlmICggZWxlbWVudCAhPT0gdGhpcyApIHtcblx0XHRcdCQuZGF0YSggZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSwgdGhpcyApO1xuXHRcdFx0dGhpcy5fb24oIHRydWUsIHRoaXMuZWxlbWVudCwge1xuXHRcdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudCApIHtcblx0XHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdFx0dGhpcy5kb2N1bWVudCA9ICQoIGVsZW1lbnQuc3R5bGUgP1xuXG5cdFx0XHRcdC8vIEVsZW1lbnQgd2l0aGluIHRoZSBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50Lm93bmVyRG9jdW1lbnQgOlxuXG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgd2luZG93IG9yIGRvY3VtZW50XG5cdFx0XHRcdGVsZW1lbnQuZG9jdW1lbnQgfHwgZWxlbWVudCApO1xuXHRcdFx0dGhpcy53aW5kb3cgPSAkKCB0aGlzLmRvY3VtZW50WyAwIF0uZGVmYXVsdFZpZXcgfHwgdGhpcy5kb2N1bWVudFsgMCBdLnBhcmVudFdpbmRvdyApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sXG5cdFx0XHR0aGlzLm9wdGlvbnMsXG5cdFx0XHR0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksXG5cdFx0XHRvcHRpb25zICk7XG5cblx0XHR0aGlzLl9jcmVhdGUoKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiY3JlYXRlXCIsIG51bGwsIHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpICk7XG5cdFx0dGhpcy5faW5pdCgpO1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge307XG5cdH0sXG5cblx0X2dldENyZWF0ZUV2ZW50RGF0YTogJC5ub29wLFxuXG5cdF9jcmVhdGU6ICQubm9vcCxcblxuXHRfaW5pdDogJC5ub29wLFxuXG5cdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuX2Rlc3Ryb3koKTtcblx0XHQkLmVhY2goIHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXAsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0dGhhdC5fcmVtb3ZlQ2xhc3MoIHZhbHVlLCBrZXkgKTtcblx0XHR9ICk7XG5cblx0XHQvLyBXZSBjYW4gcHJvYmFibHkgcmVtb3ZlIHRoZSB1bmJpbmQgY2FsbHMgaW4gMi4wXG5cdFx0Ly8gYWxsIGV2ZW50IGJpbmRpbmdzIHNob3VsZCBnbyB0aHJvdWdoIHRoaXMuX29uKClcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxuXHRcdFx0LnJlbW92ZURhdGEoIHRoaXMud2lkZ2V0RnVsbE5hbWUgKTtcblx0XHR0aGlzLndpZGdldCgpXG5cdFx0XHQub2ZmKCB0aGlzLmV2ZW50TmFtZXNwYWNlIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtZGlzYWJsZWRcIiApO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgZXZlbnRzIGFuZCBzdGF0ZXNcblx0XHR0aGlzLmJpbmRpbmdzLm9mZiggdGhpcy5ldmVudE5hbWVzcGFjZSApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiAkLm5vb3AsXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50O1xuXHR9LFxuXG5cdG9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSBrZXk7XG5cdFx0dmFyIHBhcnRzO1xuXHRcdHZhciBjdXJPcHRpb247XG5cdFx0dmFyIGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgKSB7XG5cblx0XHRcdC8vIERvbid0IHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgaGFzaFxuXHRcdFx0cmV0dXJuICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gSGFuZGxlIG5lc3RlZCBrZXlzLCBlLmcuLCBcImZvby5iYXJcIiA9PiB7IGZvbzogeyBiYXI6IF9fXyB9IH1cblx0XHRcdG9wdGlvbnMgPSB7fTtcblx0XHRcdHBhcnRzID0ga2V5LnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0a2V5ID0gcGFydHMuc2hpZnQoKTtcblx0XHRcdGlmICggcGFydHMubGVuZ3RoICkge1xuXHRcdFx0XHRjdXJPcHRpb24gPSBvcHRpb25zWyBrZXkgXSA9ICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9uc1sga2V5IF0gKTtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKysgKSB7XG5cdFx0XHRcdFx0Y3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXSB8fCB7fTtcblx0XHRcdFx0XHRjdXJPcHRpb24gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRrZXkgPSBwYXJ0cy5wb3AoKTtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiBjdXJPcHRpb25bIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogY3VyT3B0aW9uWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXJPcHRpb25bIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uc1sga2V5IF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLm9wdGlvbnNbIGtleSBdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2V0T3B0aW9ucyggb3B0aW9ucyApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBrZXk7XG5cblx0XHRmb3IgKCBrZXkgaW4gb3B0aW9ucyApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbigga2V5LCBvcHRpb25zWyBrZXkgXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImNsYXNzZXNcIiApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkNsYXNzZXMoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25DbGFzc2VzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzS2V5LCBlbGVtZW50cywgY3VycmVudEVsZW1lbnRzO1xuXG5cdFx0Zm9yICggY2xhc3NLZXkgaW4gdmFsdWUgKSB7XG5cdFx0XHRjdXJyZW50RWxlbWVudHMgPSB0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwWyBjbGFzc0tleSBdO1xuXHRcdFx0aWYgKCB2YWx1ZVsgY2xhc3NLZXkgXSA9PT0gdGhpcy5vcHRpb25zLmNsYXNzZXNbIGNsYXNzS2V5IF0gfHxcblx0XHRcdFx0XHQhY3VycmVudEVsZW1lbnRzIHx8XG5cdFx0XHRcdFx0IWN1cnJlbnRFbGVtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZSBhcmUgZG9pbmcgdGhpcyB0byBjcmVhdGUgYSBuZXcgalF1ZXJ5IG9iamVjdCBiZWNhdXNlIHRoZSBfcmVtb3ZlQ2xhc3MoKSBjYWxsXG5cdFx0XHQvLyBvbiB0aGUgbmV4dCBsaW5lIGlzIGdvaW5nIHRvIGRlc3Ryb3kgdGhlIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBlbGVtZW50cyBiZWluZ1xuXHRcdFx0Ly8gdHJhY2tlZC4gV2UgbmVlZCB0byBzYXZlIGEgY29weSBvZiB0aGlzIGNvbGxlY3Rpb24gc28gdGhhdCB3ZSBjYW4gYWRkIHRoZSBuZXcgY2xhc3Nlc1xuXHRcdFx0Ly8gYmVsb3cuXG5cdFx0XHRlbGVtZW50cyA9ICQoIGN1cnJlbnRFbGVtZW50cy5nZXQoKSApO1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIGN1cnJlbnRFbGVtZW50cywgY2xhc3NLZXkgKTtcblxuXHRcdFx0Ly8gV2UgZG9uJ3QgdXNlIF9hZGRDbGFzcygpIGhlcmUsIGJlY2F1c2UgdGhhdCB1c2VzIHRoaXMub3B0aW9ucy5jbGFzc2VzXG5cdFx0XHQvLyBmb3IgZ2VuZXJhdGluZyB0aGUgc3RyaW5nIG9mIGNsYXNzZXMuIFdlIHdhbnQgdG8gdXNlIHRoZSB2YWx1ZSBwYXNzZWQgaW4gZnJvbVxuXHRcdFx0Ly8gX3NldE9wdGlvbigpLCB0aGlzIGlzIHRoZSBuZXcgdmFsdWUgb2YgdGhlIGNsYXNzZXMgb3B0aW9uIHdoaWNoIHdhcyBwYXNzZWQgdG9cblx0XHRcdC8vIF9zZXRPcHRpb24oKS4gV2UgcGFzcyB0aGlzIHZhbHVlIGRpcmVjdGx5IHRvIF9jbGFzc2VzKCkuXG5cdFx0XHRlbGVtZW50cy5hZGRDbGFzcyggdGhpcy5fY2xhc3Nlcygge1xuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50cyxcblx0XHRcdFx0a2V5czogY2xhc3NLZXksXG5cdFx0XHRcdGNsYXNzZXM6IHZhbHVlLFxuXHRcdFx0XHRhZGQ6IHRydWVcblx0XHRcdH0gKSApO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uRGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR0aGlzLl90b2dnbGVDbGFzcyggdGhpcy53aWRnZXQoKSwgdGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkXCIsIG51bGwsICEhdmFsdWUgKTtcblxuXHRcdC8vIElmIHRoZSB3aWRnZXQgaXMgYmVjb21pbmcgZGlzYWJsZWQsIHRoZW4gbm90aGluZyBpcyBpbnRlcmFjdGl2ZVxuXHRcdGlmICggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5ob3ZlcmFibGUsIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuZm9jdXNhYmxlLCBudWxsLCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZW5hYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyggeyBkaXNhYmxlZDogZmFsc2UgfSApO1xuXHR9LFxuXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKCB7IGRpc2FibGVkOiB0cnVlIH0gKTtcblx0fSxcblxuXHRfY2xhc3NlczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGZ1bGwgPSBbXTtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRvcHRpb25zID0gJC5leHRlbmQoIHtcblx0XHRcdGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcblx0XHRcdGNsYXNzZXM6IHRoaXMub3B0aW9ucy5jbGFzc2VzIHx8IHt9XG5cdFx0fSwgb3B0aW9ucyApO1xuXG5cdFx0ZnVuY3Rpb24gcHJvY2Vzc0NsYXNzU3RyaW5nKCBjbGFzc2VzLCBjaGVja09wdGlvbiApIHtcblx0XHRcdHZhciBjdXJyZW50LCBpO1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRjdXJyZW50ID0gdGhhdC5jbGFzc2VzRWxlbWVudExvb2t1cFsgY2xhc3Nlc1sgaSBdIF0gfHwgJCgpO1xuXHRcdFx0XHRpZiAoIG9wdGlvbnMuYWRkICkge1xuXHRcdFx0XHRcdGN1cnJlbnQgPSAkKCAkLnVuaXF1ZSggY3VycmVudC5nZXQoKS5jb25jYXQoIG9wdGlvbnMuZWxlbWVudC5nZXQoKSApICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjdXJyZW50ID0gJCggY3VycmVudC5ub3QoIG9wdGlvbnMuZWxlbWVudCApLmdldCgpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhhdC5jbGFzc2VzRWxlbWVudExvb2t1cFsgY2xhc3Nlc1sgaSBdIF0gPSBjdXJyZW50O1xuXHRcdFx0XHRmdWxsLnB1c2goIGNsYXNzZXNbIGkgXSApO1xuXHRcdFx0XHRpZiAoIGNoZWNrT3B0aW9uICYmIG9wdGlvbnMuY2xhc3Nlc1sgY2xhc3Nlc1sgaSBdIF0gKSB7XG5cdFx0XHRcdFx0ZnVsbC5wdXNoKCBvcHRpb25zLmNsYXNzZXNbIGNsYXNzZXNbIGkgXSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9vbiggb3B0aW9ucy5lbGVtZW50LCB7XG5cdFx0XHRcInJlbW92ZVwiOiBcIl91bnRyYWNrQ2xhc3Nlc0VsZW1lbnRcIlxuXHRcdH0gKTtcblxuXHRcdGlmICggb3B0aW9ucy5rZXlzICkge1xuXHRcdFx0cHJvY2Vzc0NsYXNzU3RyaW5nKCBvcHRpb25zLmtleXMubWF0Y2goIC9cXFMrL2cgKSB8fCBbXSwgdHJ1ZSApO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMuZXh0cmEgKSB7XG5cdFx0XHRwcm9jZXNzQ2xhc3NTdHJpbmcoIG9wdGlvbnMuZXh0cmEubWF0Y2goIC9cXFMrL2cgKSB8fCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBmdWxsLmpvaW4oIFwiIFwiICk7XG5cdH0sXG5cblx0X3VudHJhY2tDbGFzc2VzRWxlbWVudDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHQkLmVhY2goIHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXAsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0aWYgKCAkLmluQXJyYXkoIGV2ZW50LnRhcmdldCwgdmFsdWUgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGtleSBdID0gJCggdmFsdWUubm90KCBldmVudC50YXJnZXQgKS5nZXQoKSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSApIHtcblx0XHRyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3MoIGVsZW1lbnQsIGtleXMsIGV4dHJhLCBmYWxzZSApO1xuXHR9LFxuXG5cdF9hZGRDbGFzczogZnVuY3Rpb24oIGVsZW1lbnQsIGtleXMsIGV4dHJhICkge1xuXHRcdHJldHVybiB0aGlzLl90b2dnbGVDbGFzcyggZWxlbWVudCwga2V5cywgZXh0cmEsIHRydWUgKTtcblx0fSxcblxuXHRfdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSwgYWRkICkge1xuXHRcdGFkZCA9ICggdHlwZW9mIGFkZCA9PT0gXCJib29sZWFuXCIgKSA/IGFkZCA6IGV4dHJhO1xuXHRcdHZhciBzaGlmdCA9ICggdHlwZW9mIGVsZW1lbnQgPT09IFwic3RyaW5nXCIgfHwgZWxlbWVudCA9PT0gbnVsbCApLFxuXHRcdFx0b3B0aW9ucyA9IHtcblx0XHRcdFx0ZXh0cmE6IHNoaWZ0ID8ga2V5cyA6IGV4dHJhLFxuXHRcdFx0XHRrZXlzOiBzaGlmdCA/IGVsZW1lbnQgOiBrZXlzLFxuXHRcdFx0XHRlbGVtZW50OiBzaGlmdCA/IHRoaXMuZWxlbWVudCA6IGVsZW1lbnQsXG5cdFx0XHRcdGFkZDogYWRkXG5cdFx0XHR9O1xuXHRcdG9wdGlvbnMuZWxlbWVudC50b2dnbGVDbGFzcyggdGhpcy5fY2xhc3Nlcyggb3B0aW9ucyApLCBhZGQgKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfb246IGZ1bmN0aW9uKCBzdXBwcmVzc0Rpc2FibGVkQ2hlY2ssIGVsZW1lbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBkZWxlZ2F0ZUVsZW1lbnQ7XG5cdFx0dmFyIGluc3RhbmNlID0gdGhpcztcblxuXHRcdC8vIE5vIHN1cHByZXNzRGlzYWJsZWRDaGVjayBmbGFnLCBzaHVmZmxlIGFyZ3VtZW50c1xuXHRcdGlmICggdHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRoYW5kbGVycyA9IGVsZW1lbnQ7XG5cdFx0XHRlbGVtZW50ID0gc3VwcHJlc3NEaXNhYmxlZENoZWNrO1xuXHRcdFx0c3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gTm8gZWxlbWVudCBhcmd1bWVudCwgc2h1ZmZsZSBhbmQgdXNlIHRoaXMuZWxlbWVudFxuXHRcdGlmICggIWhhbmRsZXJzICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblx0XHRcdGRlbGVnYXRlRWxlbWVudCA9IHRoaXMud2lkZ2V0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQgPSBkZWxlZ2F0ZUVsZW1lbnQgPSAkKCBlbGVtZW50ICk7XG5cdFx0XHR0aGlzLmJpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5hZGQoIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQkLmVhY2goIGhhbmRsZXJzLCBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXIgKSB7XG5cdFx0XHRmdW5jdGlvbiBoYW5kbGVyUHJveHkoKSB7XG5cblx0XHRcdFx0Ly8gQWxsb3cgd2lkZ2V0cyB0byBjdXN0b21pemUgdGhlIGRpc2FibGVkIGhhbmRsaW5nXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgYXMgYW4gYXJyYXkgaW5zdGVhZCBvZiBib29sZWFuXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgY2xhc3MgYXMgbWV0aG9kIGZvciBkaXNhYmxpbmcgaW5kaXZpZHVhbCBwYXJ0c1xuXHRcdFx0XHRpZiAoICFzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgJiZcblx0XHRcdFx0XHRcdCggaW5zdGFuY2Uub3B0aW9ucy5kaXNhYmxlZCA9PT0gdHJ1ZSB8fFxuXHRcdFx0XHRcdFx0JCggdGhpcyApLmhhc0NsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKSApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gKCB0eXBlb2YgaGFuZGxlciA9PT0gXCJzdHJpbmdcIiA/IGluc3RhbmNlWyBoYW5kbGVyIF0gOiBoYW5kbGVyIClcblx0XHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29weSB0aGUgZ3VpZCBzbyBkaXJlY3QgdW5iaW5kaW5nIHdvcmtzXG5cdFx0XHRpZiAoIHR5cGVvZiBoYW5kbGVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRoYW5kbGVyUHJveHkuZ3VpZCA9IGhhbmRsZXIuZ3VpZCA9XG5cdFx0XHRcdFx0aGFuZGxlci5ndWlkIHx8IGhhbmRsZXJQcm94eS5ndWlkIHx8ICQuZ3VpZCsrO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbWF0Y2ggPSBldmVudC5tYXRjaCggL14oW1xcdzotXSopXFxzKiguKikkLyApO1xuXHRcdFx0dmFyIGV2ZW50TmFtZSA9IG1hdGNoWyAxIF0gKyBpbnN0YW5jZS5ldmVudE5hbWVzcGFjZTtcblx0XHRcdHZhciBzZWxlY3RvciA9IG1hdGNoWyAyIF07XG5cblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGRlbGVnYXRlRWxlbWVudC5vbiggZXZlbnROYW1lLCBzZWxlY3RvciwgaGFuZGxlclByb3h5ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50Lm9uKCBldmVudE5hbWUsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfb2ZmOiBmdW5jdGlvbiggZWxlbWVudCwgZXZlbnROYW1lICkge1xuXHRcdGV2ZW50TmFtZSA9ICggZXZlbnROYW1lIHx8IFwiXCIgKS5zcGxpdCggXCIgXCIgKS5qb2luKCB0aGlzLmV2ZW50TmFtZXNwYWNlICsgXCIgXCIgKSArXG5cdFx0XHR0aGlzLmV2ZW50TmFtZXNwYWNlO1xuXHRcdGVsZW1lbnQub2ZmKCBldmVudE5hbWUgKS5vZmYoIGV2ZW50TmFtZSApO1xuXG5cdFx0Ly8gQ2xlYXIgdGhlIHN0YWNrIHRvIGF2b2lkIG1lbW9yeSBsZWFrcyAoIzEwMDU2KVxuXHRcdHRoaXMuYmluZGluZ3MgPSAkKCB0aGlzLmJpbmRpbmdzLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdFx0dGhpcy5mb2N1c2FibGUgPSAkKCB0aGlzLmZvY3VzYWJsZS5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdHRoaXMuaG92ZXJhYmxlID0gJCggdGhpcy5ob3ZlcmFibGUubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0fSxcblxuXHRfZGVsYXk6IGZ1bmN0aW9uKCBoYW5kbGVyLCBkZWxheSApIHtcblx0XHRmdW5jdGlvbiBoYW5kbGVyUHJveHkoKSB7XG5cdFx0XHRyZXR1cm4gKCB0eXBlb2YgaGFuZGxlciA9PT0gXCJzdHJpbmdcIiA/IGluc3RhbmNlWyBoYW5kbGVyIF0gOiBoYW5kbGVyIClcblx0XHRcdFx0LmFwcGx5KCBpbnN0YW5jZSwgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cdFx0cmV0dXJuIHNldFRpbWVvdXQoIGhhbmRsZXJQcm94eSwgZGVsYXkgfHwgMCApO1xuXHR9LFxuXG5cdF9ob3ZlcmFibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHRoaXMuaG92ZXJhYmxlID0gdGhpcy5ob3ZlcmFibGUuYWRkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcblx0XHRcdG1vdXNlZW50ZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9LFxuXHRcdFx0bW91c2VsZWF2ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggJCggZXZlbnQuY3VycmVudFRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X2ZvY3VzYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dGhpcy5mb2N1c2FibGUgPSB0aGlzLmZvY3VzYWJsZS5hZGQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLl9vbiggZWxlbWVudCwge1xuXHRcdFx0Zm9jdXNpbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggJCggZXZlbnQuY3VycmVudFRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH0sXG5cdFx0XHRmb2N1c291dDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggJCggZXZlbnQuY3VycmVudFRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X3RyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBldmVudCwgZGF0YSApIHtcblx0XHR2YXIgcHJvcCwgb3JpZztcblx0XHR2YXIgY2FsbGJhY2sgPSB0aGlzLm9wdGlvbnNbIHR5cGUgXTtcblxuXHRcdGRhdGEgPSBkYXRhIHx8IHt9O1xuXHRcdGV2ZW50ID0gJC5FdmVudCggZXZlbnQgKTtcblx0XHRldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID9cblx0XHRcdHR5cGUgOlxuXHRcdFx0dGhpcy53aWRnZXRFdmVudFByZWZpeCArIHR5cGUgKS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0Ly8gVGhlIG9yaWdpbmFsIGV2ZW50IG1heSBjb21lIGZyb20gYW55IGVsZW1lbnRcblx0XHQvLyBzbyB3ZSBuZWVkIHRvIHJlc2V0IHRoZSB0YXJnZXQgb24gdGhlIG5ldyBldmVudFxuXHRcdGV2ZW50LnRhcmdldCA9IHRoaXMuZWxlbWVudFsgMCBdO1xuXG5cdFx0Ly8gQ29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudFxuXHRcdG9yaWcgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuXHRcdGlmICggb3JpZyApIHtcblx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0aWYgKCAhKCBwcm9wIGluIGV2ZW50ICkgKSB7XG5cdFx0XHRcdFx0ZXZlbnRbIHByb3AgXSA9IG9yaWdbIHByb3AgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBldmVudCwgZGF0YSApO1xuXHRcdHJldHVybiAhKCAkLmlzRnVuY3Rpb24oIGNhbGxiYWNrICkgJiZcblx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLmVsZW1lbnRbIDAgXSwgWyBldmVudCBdLmNvbmNhdCggZGF0YSApICkgPT09IGZhbHNlIHx8XG5cdFx0XHRldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApO1xuXHR9XG59O1xuXG4kLmVhY2goIHsgc2hvdzogXCJmYWRlSW5cIiwgaGlkZTogXCJmYWRlT3V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgZGVmYXVsdEVmZmVjdCApIHtcblx0JC5XaWRnZXQucHJvdG90eXBlWyBcIl9cIiArIG1ldGhvZCBdID0gZnVuY3Rpb24oIGVsZW1lbnQsIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuXHRcdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvcHRpb25zID0geyBlZmZlY3Q6IG9wdGlvbnMgfTtcblx0XHR9XG5cblx0XHR2YXIgaGFzT3B0aW9ucztcblx0XHR2YXIgZWZmZWN0TmFtZSA9ICFvcHRpb25zID9cblx0XHRcdG1ldGhvZCA6XG5cdFx0XHRvcHRpb25zID09PSB0cnVlIHx8IHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiID9cblx0XHRcdFx0ZGVmYXVsdEVmZmVjdCA6XG5cdFx0XHRcdG9wdGlvbnMuZWZmZWN0IHx8IGRlZmF1bHRFZmZlY3Q7XG5cblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZHVyYXRpb246IG9wdGlvbnMgfTtcblx0XHR9XG5cblx0XHRoYXNPcHRpb25zID0gISQuaXNFbXB0eU9iamVjdCggb3B0aW9ucyApO1xuXHRcdG9wdGlvbnMuY29tcGxldGUgPSBjYWxsYmFjaztcblxuXHRcdGlmICggb3B0aW9ucy5kZWxheSApIHtcblx0XHRcdGVsZW1lbnQuZGVsYXkoIG9wdGlvbnMuZGVsYXkgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhhc09wdGlvbnMgJiYgJC5lZmZlY3RzICYmICQuZWZmZWN0cy5lZmZlY3RbIGVmZmVjdE5hbWUgXSApIHtcblx0XHRcdGVsZW1lbnRbIG1ldGhvZCBdKCBvcHRpb25zICk7XG5cdFx0fSBlbHNlIGlmICggZWZmZWN0TmFtZSAhPT0gbWV0aG9kICYmIGVsZW1lbnRbIGVmZmVjdE5hbWUgXSApIHtcblx0XHRcdGVsZW1lbnRbIGVmZmVjdE5hbWUgXSggb3B0aW9ucy5kdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQucXVldWUoIGZ1bmN0aW9uKCBuZXh0ICkge1xuXHRcdFx0XHQkKCB0aGlzIClbIG1ldGhvZCBdKCk7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggZWxlbWVudFsgMCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0fTtcbn0gKTtcblxudmFyIHdpZGdldCA9ICQud2lkZ2V0O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFBvc2l0aW9uIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcG9zaXRpb24vXG4gKi9cblxuLy8+PmxhYmVsOiBQb3NpdGlvblxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFBvc2l0aW9ucyBlbGVtZW50cyByZWxhdGl2ZSB0byBvdGhlciBlbGVtZW50cy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wb3NpdGlvbi9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9wb3NpdGlvbi9cblxuXG4oIGZ1bmN0aW9uKCkge1xudmFyIGNhY2hlZFNjcm9sbGJhcldpZHRoLFxuXHRtYXggPSBNYXRoLm1heCxcblx0YWJzID0gTWF0aC5hYnMsXG5cdHJob3Jpem9udGFsID0gL2xlZnR8Y2VudGVyfHJpZ2h0Lyxcblx0cnZlcnRpY2FsID0gL3RvcHxjZW50ZXJ8Ym90dG9tLyxcblx0cm9mZnNldCA9IC9bXFwrXFwtXVxcZCsoXFwuW1xcZF0rKT8lPy8sXG5cdHJwb3NpdGlvbiA9IC9eXFx3Ky8sXG5cdHJwZXJjZW50ID0gLyUkLyxcblx0X3Bvc2l0aW9uID0gJC5mbi5wb3NpdGlvbjtcblxuZnVuY3Rpb24gZ2V0T2Zmc2V0cyggb2Zmc2V0cywgd2lkdGgsIGhlaWdodCApIHtcblx0cmV0dXJuIFtcblx0XHRwYXJzZUZsb2F0KCBvZmZzZXRzWyAwIF0gKSAqICggcnBlcmNlbnQudGVzdCggb2Zmc2V0c1sgMCBdICkgPyB3aWR0aCAvIDEwMCA6IDEgKSxcblx0XHRwYXJzZUZsb2F0KCBvZmZzZXRzWyAxIF0gKSAqICggcnBlcmNlbnQudGVzdCggb2Zmc2V0c1sgMSBdICkgPyBoZWlnaHQgLyAxMDAgOiAxIClcblx0XTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDc3MoIGVsZW1lbnQsIHByb3BlcnR5ICkge1xuXHRyZXR1cm4gcGFyc2VJbnQoICQuY3NzKCBlbGVtZW50LCBwcm9wZXJ0eSApLCAxMCApIHx8IDA7XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbnMoIGVsZW0gKSB7XG5cdHZhciByYXcgPSBlbGVtWyAwIF07XG5cdGlmICggcmF3Lm5vZGVUeXBlID09PSA5ICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogZWxlbS53aWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiBlbGVtLmhlaWdodCgpLFxuXHRcdFx0b2Zmc2V0OiB7IHRvcDogMCwgbGVmdDogMCB9XG5cdFx0fTtcblx0fVxuXHRpZiAoICQuaXNXaW5kb3coIHJhdyApICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogZWxlbS53aWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiBlbGVtLmhlaWdodCgpLFxuXHRcdFx0b2Zmc2V0OiB7IHRvcDogZWxlbS5zY3JvbGxUb3AoKSwgbGVmdDogZWxlbS5zY3JvbGxMZWZ0KCkgfVxuXHRcdH07XG5cdH1cblx0aWYgKCByYXcucHJldmVudERlZmF1bHQgKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0aGVpZ2h0OiAwLFxuXHRcdFx0b2Zmc2V0OiB7IHRvcDogcmF3LnBhZ2VZLCBsZWZ0OiByYXcucGFnZVggfVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHtcblx0XHR3aWR0aDogZWxlbS5vdXRlcldpZHRoKCksXG5cdFx0aGVpZ2h0OiBlbGVtLm91dGVySGVpZ2h0KCksXG5cdFx0b2Zmc2V0OiBlbGVtLm9mZnNldCgpXG5cdH07XG59XG5cbiQucG9zaXRpb24gPSB7XG5cdHNjcm9sbGJhcldpZHRoOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIGNhY2hlZFNjcm9sbGJhcldpZHRoICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm4gY2FjaGVkU2Nyb2xsYmFyV2lkdGg7XG5cdFx0fVxuXHRcdHZhciB3MSwgdzIsXG5cdFx0XHRkaXYgPSAkKCBcIjxkaXYgXCIgK1xuXHRcdFx0XHRcInN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+XCIgK1xuXHRcdFx0XHRcIjxkaXYgc3R5bGU9J2hlaWdodDoxMDBweDt3aWR0aDphdXRvOyc+PC9kaXY+PC9kaXY+XCIgKSxcblx0XHRcdGlubmVyRGl2ID0gZGl2LmNoaWxkcmVuKClbIDAgXTtcblxuXHRcdCQoIFwiYm9keVwiICkuYXBwZW5kKCBkaXYgKTtcblx0XHR3MSA9IGlubmVyRGl2Lm9mZnNldFdpZHRoO1xuXHRcdGRpdi5jc3MoIFwib3ZlcmZsb3dcIiwgXCJzY3JvbGxcIiApO1xuXG5cdFx0dzIgPSBpbm5lckRpdi5vZmZzZXRXaWR0aDtcblxuXHRcdGlmICggdzEgPT09IHcyICkge1xuXHRcdFx0dzIgPSBkaXZbIDAgXS5jbGllbnRXaWR0aDtcblx0XHR9XG5cblx0XHRkaXYucmVtb3ZlKCk7XG5cblx0XHRyZXR1cm4gKCBjYWNoZWRTY3JvbGxiYXJXaWR0aCA9IHcxIC0gdzIgKTtcblx0fSxcblx0Z2V0U2Nyb2xsSW5mbzogZnVuY3Rpb24oIHdpdGhpbiApIHtcblx0XHR2YXIgb3ZlcmZsb3dYID0gd2l0aGluLmlzV2luZG93IHx8IHdpdGhpbi5pc0RvY3VtZW50ID8gXCJcIiA6XG5cdFx0XHRcdHdpdGhpbi5lbGVtZW50LmNzcyggXCJvdmVyZmxvdy14XCIgKSxcblx0XHRcdG92ZXJmbG93WSA9IHdpdGhpbi5pc1dpbmRvdyB8fCB3aXRoaW4uaXNEb2N1bWVudCA/IFwiXCIgOlxuXHRcdFx0XHR3aXRoaW4uZWxlbWVudC5jc3MoIFwib3ZlcmZsb3cteVwiICksXG5cdFx0XHRoYXNPdmVyZmxvd1ggPSBvdmVyZmxvd1ggPT09IFwic2Nyb2xsXCIgfHxcblx0XHRcdFx0KCBvdmVyZmxvd1ggPT09IFwiYXV0b1wiICYmIHdpdGhpbi53aWR0aCA8IHdpdGhpbi5lbGVtZW50WyAwIF0uc2Nyb2xsV2lkdGggKSxcblx0XHRcdGhhc092ZXJmbG93WSA9IG92ZXJmbG93WSA9PT0gXCJzY3JvbGxcIiB8fFxuXHRcdFx0XHQoIG92ZXJmbG93WSA9PT0gXCJhdXRvXCIgJiYgd2l0aGluLmhlaWdodCA8IHdpdGhpbi5lbGVtZW50WyAwIF0uc2Nyb2xsSGVpZ2h0ICk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHdpZHRoOiBoYXNPdmVyZmxvd1kgPyAkLnBvc2l0aW9uLnNjcm9sbGJhcldpZHRoKCkgOiAwLFxuXHRcdFx0aGVpZ2h0OiBoYXNPdmVyZmxvd1ggPyAkLnBvc2l0aW9uLnNjcm9sbGJhcldpZHRoKCkgOiAwXG5cdFx0fTtcblx0fSxcblx0Z2V0V2l0aGluSW5mbzogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHdpdGhpbkVsZW1lbnQgPSAkKCBlbGVtZW50IHx8IHdpbmRvdyApLFxuXHRcdFx0aXNXaW5kb3cgPSAkLmlzV2luZG93KCB3aXRoaW5FbGVtZW50WyAwIF0gKSxcblx0XHRcdGlzRG9jdW1lbnQgPSAhIXdpdGhpbkVsZW1lbnRbIDAgXSAmJiB3aXRoaW5FbGVtZW50WyAwIF0ubm9kZVR5cGUgPT09IDksXG5cdFx0XHRoYXNPZmZzZXQgPSAhaXNXaW5kb3cgJiYgIWlzRG9jdW1lbnQ7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGVsZW1lbnQ6IHdpdGhpbkVsZW1lbnQsXG5cdFx0XHRpc1dpbmRvdzogaXNXaW5kb3csXG5cdFx0XHRpc0RvY3VtZW50OiBpc0RvY3VtZW50LFxuXHRcdFx0b2Zmc2V0OiBoYXNPZmZzZXQgPyAkKCBlbGVtZW50ICkub2Zmc2V0KCkgOiB7IGxlZnQ6IDAsIHRvcDogMCB9LFxuXHRcdFx0c2Nyb2xsTGVmdDogd2l0aGluRWxlbWVudC5zY3JvbGxMZWZ0KCksXG5cdFx0XHRzY3JvbGxUb3A6IHdpdGhpbkVsZW1lbnQuc2Nyb2xsVG9wKCksXG5cdFx0XHR3aWR0aDogd2l0aGluRWxlbWVudC5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IHdpdGhpbkVsZW1lbnQub3V0ZXJIZWlnaHQoKVxuXHRcdH07XG5cdH1cbn07XG5cbiQuZm4ucG9zaXRpb24gPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0aWYgKCAhb3B0aW9ucyB8fCAhb3B0aW9ucy5vZiApIHtcblx0XHRyZXR1cm4gX3Bvc2l0aW9uLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0fVxuXG5cdC8vIE1ha2UgYSBjb3B5LCB3ZSBkb24ndCB3YW50IHRvIG1vZGlmeSBhcmd1bWVudHNcblx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciBhdE9mZnNldCwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCwgdGFyZ2V0T2Zmc2V0LCBiYXNlUG9zaXRpb24sIGRpbWVuc2lvbnMsXG5cdFx0dGFyZ2V0ID0gJCggb3B0aW9ucy5vZiApLFxuXHRcdHdpdGhpbiA9ICQucG9zaXRpb24uZ2V0V2l0aGluSW5mbyggb3B0aW9ucy53aXRoaW4gKSxcblx0XHRzY3JvbGxJbmZvID0gJC5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKCB3aXRoaW4gKSxcblx0XHRjb2xsaXNpb24gPSAoIG9wdGlvbnMuY29sbGlzaW9uIHx8IFwiZmxpcFwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0b2Zmc2V0cyA9IHt9O1xuXG5cdGRpbWVuc2lvbnMgPSBnZXREaW1lbnNpb25zKCB0YXJnZXQgKTtcblx0aWYgKCB0YXJnZXRbIDAgXS5wcmV2ZW50RGVmYXVsdCApIHtcblxuXHRcdC8vIEZvcmNlIGxlZnQgdG9wIHRvIGFsbG93IGZsaXBwaW5nXG5cdFx0b3B0aW9ucy5hdCA9IFwibGVmdCB0b3BcIjtcblx0fVxuXHR0YXJnZXRXaWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG5cdHRhcmdldEhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuXHR0YXJnZXRPZmZzZXQgPSBkaW1lbnNpb25zLm9mZnNldDtcblxuXHQvLyBDbG9uZSB0byByZXVzZSBvcmlnaW5hbCB0YXJnZXRPZmZzZXQgbGF0ZXJcblx0YmFzZVBvc2l0aW9uID0gJC5leHRlbmQoIHt9LCB0YXJnZXRPZmZzZXQgKTtcblxuXHQvLyBGb3JjZSBteSBhbmQgYXQgdG8gaGF2ZSB2YWxpZCBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBwb3NpdGlvbnNcblx0Ly8gaWYgYSB2YWx1ZSBpcyBtaXNzaW5nIG9yIGludmFsaWQsIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGNlbnRlclxuXHQkLmVhY2goIFsgXCJteVwiLCBcImF0XCIgXSwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHBvcyA9ICggb3B0aW9uc1sgdGhpcyBdIHx8IFwiXCIgKS5zcGxpdCggXCIgXCIgKSxcblx0XHRcdGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHR2ZXJ0aWNhbE9mZnNldDtcblxuXHRcdGlmICggcG9zLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdHBvcyA9IHJob3Jpem9udGFsLnRlc3QoIHBvc1sgMCBdICkgP1xuXHRcdFx0XHRwb3MuY29uY2F0KCBbIFwiY2VudGVyXCIgXSApIDpcblx0XHRcdFx0cnZlcnRpY2FsLnRlc3QoIHBvc1sgMCBdICkgP1xuXHRcdFx0XHRcdFsgXCJjZW50ZXJcIiBdLmNvbmNhdCggcG9zICkgOlxuXHRcdFx0XHRcdFsgXCJjZW50ZXJcIiwgXCJjZW50ZXJcIiBdO1xuXHRcdH1cblx0XHRwb3NbIDAgXSA9IHJob3Jpem9udGFsLnRlc3QoIHBvc1sgMCBdICkgPyBwb3NbIDAgXSA6IFwiY2VudGVyXCI7XG5cdFx0cG9zWyAxIF0gPSBydmVydGljYWwudGVzdCggcG9zWyAxIF0gKSA/IHBvc1sgMSBdIDogXCJjZW50ZXJcIjtcblxuXHRcdC8vIENhbGN1bGF0ZSBvZmZzZXRzXG5cdFx0aG9yaXpvbnRhbE9mZnNldCA9IHJvZmZzZXQuZXhlYyggcG9zWyAwIF0gKTtcblx0XHR2ZXJ0aWNhbE9mZnNldCA9IHJvZmZzZXQuZXhlYyggcG9zWyAxIF0gKTtcblx0XHRvZmZzZXRzWyB0aGlzIF0gPSBbXG5cdFx0XHRob3Jpem9udGFsT2Zmc2V0ID8gaG9yaXpvbnRhbE9mZnNldFsgMCBdIDogMCxcblx0XHRcdHZlcnRpY2FsT2Zmc2V0ID8gdmVydGljYWxPZmZzZXRbIDAgXSA6IDBcblx0XHRdO1xuXG5cdFx0Ly8gUmVkdWNlIHRvIGp1c3QgdGhlIHBvc2l0aW9ucyB3aXRob3V0IHRoZSBvZmZzZXRzXG5cdFx0b3B0aW9uc1sgdGhpcyBdID0gW1xuXHRcdFx0cnBvc2l0aW9uLmV4ZWMoIHBvc1sgMCBdIClbIDAgXSxcblx0XHRcdHJwb3NpdGlvbi5leGVjKCBwb3NbIDEgXSApWyAwIF1cblx0XHRdO1xuXHR9ICk7XG5cblx0Ly8gTm9ybWFsaXplIGNvbGxpc2lvbiBvcHRpb25cblx0aWYgKCBjb2xsaXNpb24ubGVuZ3RoID09PSAxICkge1xuXHRcdGNvbGxpc2lvblsgMSBdID0gY29sbGlzaW9uWyAwIF07XG5cdH1cblxuXHRpZiAoIG9wdGlvbnMuYXRbIDAgXSA9PT0gXCJyaWdodFwiICkge1xuXHRcdGJhc2VQb3NpdGlvbi5sZWZ0ICs9IHRhcmdldFdpZHRoO1xuXHR9IGVsc2UgaWYgKCBvcHRpb25zLmF0WyAwIF0gPT09IFwiY2VudGVyXCIgKSB7XG5cdFx0YmFzZVBvc2l0aW9uLmxlZnQgKz0gdGFyZ2V0V2lkdGggLyAyO1xuXHR9XG5cblx0aWYgKCBvcHRpb25zLmF0WyAxIF0gPT09IFwiYm90dG9tXCIgKSB7XG5cdFx0YmFzZVBvc2l0aW9uLnRvcCArPSB0YXJnZXRIZWlnaHQ7XG5cdH0gZWxzZSBpZiAoIG9wdGlvbnMuYXRbIDEgXSA9PT0gXCJjZW50ZXJcIiApIHtcblx0XHRiYXNlUG9zaXRpb24udG9wICs9IHRhcmdldEhlaWdodCAvIDI7XG5cdH1cblxuXHRhdE9mZnNldCA9IGdldE9mZnNldHMoIG9mZnNldHMuYXQsIHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQgKTtcblx0YmFzZVBvc2l0aW9uLmxlZnQgKz0gYXRPZmZzZXRbIDAgXTtcblx0YmFzZVBvc2l0aW9uLnRvcCArPSBhdE9mZnNldFsgMSBdO1xuXG5cdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjb2xsaXNpb25Qb3NpdGlvbiwgdXNpbmcsXG5cdFx0XHRlbGVtID0gJCggdGhpcyApLFxuXHRcdFx0ZWxlbVdpZHRoID0gZWxlbS5vdXRlcldpZHRoKCksXG5cdFx0XHRlbGVtSGVpZ2h0ID0gZWxlbS5vdXRlckhlaWdodCgpLFxuXHRcdFx0bWFyZ2luTGVmdCA9IHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpbkxlZnRcIiApLFxuXHRcdFx0bWFyZ2luVG9wID0gcGFyc2VDc3MoIHRoaXMsIFwibWFyZ2luVG9wXCIgKSxcblx0XHRcdGNvbGxpc2lvbldpZHRoID0gZWxlbVdpZHRoICsgbWFyZ2luTGVmdCArIHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpblJpZ2h0XCIgKSArXG5cdFx0XHRcdHNjcm9sbEluZm8ud2lkdGgsXG5cdFx0XHRjb2xsaXNpb25IZWlnaHQgPSBlbGVtSGVpZ2h0ICsgbWFyZ2luVG9wICsgcGFyc2VDc3MoIHRoaXMsIFwibWFyZ2luQm90dG9tXCIgKSArXG5cdFx0XHRcdHNjcm9sbEluZm8uaGVpZ2h0LFxuXHRcdFx0cG9zaXRpb24gPSAkLmV4dGVuZCgge30sIGJhc2VQb3NpdGlvbiApLFxuXHRcdFx0bXlPZmZzZXQgPSBnZXRPZmZzZXRzKCBvZmZzZXRzLm15LCBlbGVtLm91dGVyV2lkdGgoKSwgZWxlbS5vdXRlckhlaWdodCgpICk7XG5cblx0XHRpZiAoIG9wdGlvbnMubXlbIDAgXSA9PT0gXCJyaWdodFwiICkge1xuXHRcdFx0cG9zaXRpb24ubGVmdCAtPSBlbGVtV2lkdGg7XG5cdFx0fSBlbHNlIGlmICggb3B0aW9ucy5teVsgMCBdID09PSBcImNlbnRlclwiICkge1xuXHRcdFx0cG9zaXRpb24ubGVmdCAtPSBlbGVtV2lkdGggLyAyO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy5teVsgMSBdID09PSBcImJvdHRvbVwiICkge1xuXHRcdFx0cG9zaXRpb24udG9wIC09IGVsZW1IZWlnaHQ7XG5cdFx0fSBlbHNlIGlmICggb3B0aW9ucy5teVsgMSBdID09PSBcImNlbnRlclwiICkge1xuXHRcdFx0cG9zaXRpb24udG9wIC09IGVsZW1IZWlnaHQgLyAyO1xuXHRcdH1cblxuXHRcdHBvc2l0aW9uLmxlZnQgKz0gbXlPZmZzZXRbIDAgXTtcblx0XHRwb3NpdGlvbi50b3AgKz0gbXlPZmZzZXRbIDEgXTtcblxuXHRcdGNvbGxpc2lvblBvc2l0aW9uID0ge1xuXHRcdFx0bWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcblx0XHRcdG1hcmdpblRvcDogbWFyZ2luVG9wXG5cdFx0fTtcblxuXHRcdCQuZWFjaCggWyBcImxlZnRcIiwgXCJ0b3BcIiBdLCBmdW5jdGlvbiggaSwgZGlyICkge1xuXHRcdFx0aWYgKCAkLnVpLnBvc2l0aW9uWyBjb2xsaXNpb25bIGkgXSBdICkge1xuXHRcdFx0XHQkLnVpLnBvc2l0aW9uWyBjb2xsaXNpb25bIGkgXSBdWyBkaXIgXSggcG9zaXRpb24sIHtcblx0XHRcdFx0XHR0YXJnZXRXaWR0aDogdGFyZ2V0V2lkdGgsXG5cdFx0XHRcdFx0dGFyZ2V0SGVpZ2h0OiB0YXJnZXRIZWlnaHQsXG5cdFx0XHRcdFx0ZWxlbVdpZHRoOiBlbGVtV2lkdGgsXG5cdFx0XHRcdFx0ZWxlbUhlaWdodDogZWxlbUhlaWdodCxcblx0XHRcdFx0XHRjb2xsaXNpb25Qb3NpdGlvbjogY29sbGlzaW9uUG9zaXRpb24sXG5cdFx0XHRcdFx0Y29sbGlzaW9uV2lkdGg6IGNvbGxpc2lvbldpZHRoLFxuXHRcdFx0XHRcdGNvbGxpc2lvbkhlaWdodDogY29sbGlzaW9uSGVpZ2h0LFxuXHRcdFx0XHRcdG9mZnNldDogWyBhdE9mZnNldFsgMCBdICsgbXlPZmZzZXRbIDAgXSwgYXRPZmZzZXQgWyAxIF0gKyBteU9mZnNldFsgMSBdIF0sXG5cdFx0XHRcdFx0bXk6IG9wdGlvbnMubXksXG5cdFx0XHRcdFx0YXQ6IG9wdGlvbnMuYXQsXG5cdFx0XHRcdFx0d2l0aGluOiB3aXRoaW4sXG5cdFx0XHRcdFx0ZWxlbTogZWxlbVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0aWYgKCBvcHRpb25zLnVzaW5nICkge1xuXG5cdFx0XHQvLyBBZGRzIGZlZWRiYWNrIGFzIHNlY29uZCBhcmd1bWVudCB0byB1c2luZyBjYWxsYmFjaywgaWYgcHJlc2VudFxuXHRcdFx0dXNpbmcgPSBmdW5jdGlvbiggcHJvcHMgKSB7XG5cdFx0XHRcdHZhciBsZWZ0ID0gdGFyZ2V0T2Zmc2V0LmxlZnQgLSBwb3NpdGlvbi5sZWZ0LFxuXHRcdFx0XHRcdHJpZ2h0ID0gbGVmdCArIHRhcmdldFdpZHRoIC0gZWxlbVdpZHRoLFxuXHRcdFx0XHRcdHRvcCA9IHRhcmdldE9mZnNldC50b3AgLSBwb3NpdGlvbi50b3AsXG5cdFx0XHRcdFx0Ym90dG9tID0gdG9wICsgdGFyZ2V0SGVpZ2h0IC0gZWxlbUhlaWdodCxcblx0XHRcdFx0XHRmZWVkYmFjayA9IHtcblx0XHRcdFx0XHRcdHRhcmdldDoge1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50OiB0YXJnZXQsXG5cdFx0XHRcdFx0XHRcdGxlZnQ6IHRhcmdldE9mZnNldC5sZWZ0LFxuXHRcdFx0XHRcdFx0XHR0b3A6IHRhcmdldE9mZnNldC50b3AsXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiB0YXJnZXRXaWR0aCxcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiB0YXJnZXRIZWlnaHRcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRlbGVtZW50OiB7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW0sXG5cdFx0XHRcdFx0XHRcdGxlZnQ6IHBvc2l0aW9uLmxlZnQsXG5cdFx0XHRcdFx0XHRcdHRvcDogcG9zaXRpb24udG9wLFxuXHRcdFx0XHRcdFx0XHR3aWR0aDogZWxlbVdpZHRoLFxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1IZWlnaHRcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRob3Jpem9udGFsOiByaWdodCA8IDAgPyBcImxlZnRcIiA6IGxlZnQgPiAwID8gXCJyaWdodFwiIDogXCJjZW50ZXJcIixcblx0XHRcdFx0XHRcdHZlcnRpY2FsOiBib3R0b20gPCAwID8gXCJ0b3BcIiA6IHRvcCA+IDAgPyBcImJvdHRvbVwiIDogXCJtaWRkbGVcIlxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdGlmICggdGFyZ2V0V2lkdGggPCBlbGVtV2lkdGggJiYgYWJzKCBsZWZ0ICsgcmlnaHQgKSA8IHRhcmdldFdpZHRoICkge1xuXHRcdFx0XHRcdGZlZWRiYWNrLmhvcml6b250YWwgPSBcImNlbnRlclwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggdGFyZ2V0SGVpZ2h0IDwgZWxlbUhlaWdodCAmJiBhYnMoIHRvcCArIGJvdHRvbSApIDwgdGFyZ2V0SGVpZ2h0ICkge1xuXHRcdFx0XHRcdGZlZWRiYWNrLnZlcnRpY2FsID0gXCJtaWRkbGVcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIG1heCggYWJzKCBsZWZ0ICksIGFicyggcmlnaHQgKSApID4gbWF4KCBhYnMoIHRvcCApLCBhYnMoIGJvdHRvbSApICkgKSB7XG5cdFx0XHRcdFx0ZmVlZGJhY2suaW1wb3J0YW50ID0gXCJob3Jpem9udGFsXCI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmVlZGJhY2suaW1wb3J0YW50ID0gXCJ2ZXJ0aWNhbFwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggdGhpcywgcHJvcHMsIGZlZWRiYWNrICk7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGVsZW0ub2Zmc2V0KCAkLmV4dGVuZCggcG9zaXRpb24sIHsgdXNpbmc6IHVzaW5nIH0gKSApO1xuXHR9ICk7XG59O1xuXG4kLnVpLnBvc2l0aW9uID0ge1xuXHRmaXQ6IHtcblx0XHRsZWZ0OiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5pc1dpbmRvdyA/IHdpdGhpbi5zY3JvbGxMZWZ0IDogd2l0aGluLm9mZnNldC5sZWZ0LFxuXHRcdFx0XHRvdXRlcldpZHRoID0gd2l0aGluLndpZHRoLFxuXHRcdFx0XHRjb2xsaXNpb25Qb3NMZWZ0ID0gcG9zaXRpb24ubGVmdCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxcblx0XHRcdFx0b3ZlckxlZnQgPSB3aXRoaW5PZmZzZXQgLSBjb2xsaXNpb25Qb3NMZWZ0LFxuXHRcdFx0XHRvdmVyUmlnaHQgPSBjb2xsaXNpb25Qb3NMZWZ0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtIG91dGVyV2lkdGggLSB3aXRoaW5PZmZzZXQsXG5cdFx0XHRcdG5ld092ZXJSaWdodDtcblxuXHRcdFx0Ly8gRWxlbWVudCBpcyB3aWRlciB0aGFuIHdpdGhpblxuXHRcdFx0aWYgKCBkYXRhLmNvbGxpc2lvbldpZHRoID4gb3V0ZXJXaWR0aCApIHtcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIHRoZSBsZWZ0IHNpZGUgb2Ygd2l0aGluXG5cdFx0XHRcdGlmICggb3ZlckxlZnQgPiAwICYmIG92ZXJSaWdodCA8PSAwICkge1xuXHRcdFx0XHRcdG5ld092ZXJSaWdodCA9IHBvc2l0aW9uLmxlZnQgKyBvdmVyTGVmdCArIGRhdGEuY29sbGlzaW9uV2lkdGggLSBvdXRlcldpZHRoIC1cblx0XHRcdFx0XHRcdHdpdGhpbk9mZnNldDtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG92ZXJMZWZ0IC0gbmV3T3ZlclJpZ2h0O1xuXG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgaW5pdGlhbGx5IG92ZXIgcmlnaHQgc2lkZSBvZiB3aXRoaW5cblx0XHRcdFx0fSBlbHNlIGlmICggb3ZlclJpZ2h0ID4gMCAmJiBvdmVyTGVmdCA8PSAwICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgPSB3aXRoaW5PZmZzZXQ7XG5cblx0XHRcdFx0Ly8gRWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciBib3RoIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIG9mIHdpdGhpblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICggb3ZlckxlZnQgPiBvdmVyUmlnaHQgKSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gd2l0aGluT2Zmc2V0ICsgb3V0ZXJXaWR0aCAtIGRhdGEuY29sbGlzaW9uV2lkdGg7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgPSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvbyBmYXIgbGVmdCAtPiBhbGlnbiB3aXRoIGxlZnQgZWRnZVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlckxlZnQgPiAwICkge1xuXHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG92ZXJMZWZ0O1xuXG5cdFx0XHQvLyBUb28gZmFyIHJpZ2h0IC0+IGFsaWduIHdpdGggcmlnaHQgZWRnZVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlclJpZ2h0ID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24ubGVmdCAtPSBvdmVyUmlnaHQ7XG5cblx0XHRcdC8vIEFkanVzdCBiYXNlZCBvbiBwb3NpdGlvbiBhbmQgbWFyZ2luXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gbWF4KCBwb3NpdGlvbi5sZWZ0IC0gY29sbGlzaW9uUG9zTGVmdCwgcG9zaXRpb24ubGVmdCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dG9wOiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5pc1dpbmRvdyA/IHdpdGhpbi5zY3JvbGxUb3AgOiB3aXRoaW4ub2Zmc2V0LnRvcCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQgPSBkYXRhLndpdGhpbi5oZWlnaHQsXG5cdFx0XHRcdGNvbGxpc2lvblBvc1RvcCA9IHBvc2l0aW9uLnRvcCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLFxuXHRcdFx0XHRvdmVyVG9wID0gd2l0aGluT2Zmc2V0IC0gY29sbGlzaW9uUG9zVG9wLFxuXHRcdFx0XHRvdmVyQm90dG9tID0gY29sbGlzaW9uUG9zVG9wICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtIHdpdGhpbk9mZnNldCxcblx0XHRcdFx0bmV3T3ZlckJvdHRvbTtcblxuXHRcdFx0Ly8gRWxlbWVudCBpcyB0YWxsZXIgdGhhbiB3aXRoaW5cblx0XHRcdGlmICggZGF0YS5jb2xsaXNpb25IZWlnaHQgPiBvdXRlckhlaWdodCApIHtcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIHRoZSB0b3Agb2Ygd2l0aGluXG5cdFx0XHRcdGlmICggb3ZlclRvcCA+IDAgJiYgb3ZlckJvdHRvbSA8PSAwICkge1xuXHRcdFx0XHRcdG5ld092ZXJCb3R0b20gPSBwb3NpdGlvbi50b3AgKyBvdmVyVG9wICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtXG5cdFx0XHRcdFx0XHR3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0cG9zaXRpb24udG9wICs9IG92ZXJUb3AgLSBuZXdPdmVyQm90dG9tO1xuXG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgaW5pdGlhbGx5IG92ZXIgYm90dG9tIG9mIHdpdGhpblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBvdmVyQm90dG9tID4gMCAmJiBvdmVyVG9wIDw9IDAgKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24udG9wID0gd2l0aGluT2Zmc2V0O1xuXG5cdFx0XHRcdC8vIEVsZW1lbnQgaXMgaW5pdGlhbGx5IG92ZXIgYm90aCB0b3AgYW5kIGJvdHRvbSBvZiB3aXRoaW5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoIG92ZXJUb3AgPiBvdmVyQm90dG9tICkge1xuXHRcdFx0XHRcdFx0cG9zaXRpb24udG9wID0gd2l0aGluT2Zmc2V0ICsgb3V0ZXJIZWlnaHQgLSBkYXRhLmNvbGxpc2lvbkhlaWdodDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cG9zaXRpb24udG9wID0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb28gZmFyIHVwIC0+IGFsaWduIHdpdGggdG9wXG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyVG9wID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24udG9wICs9IG92ZXJUb3A7XG5cblx0XHRcdC8vIFRvbyBmYXIgZG93biAtPiBhbGlnbiB3aXRoIGJvdHRvbSBlZGdlXG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyQm90dG9tID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24udG9wIC09IG92ZXJCb3R0b207XG5cblx0XHRcdC8vIEFkanVzdCBiYXNlZCBvbiBwb3NpdGlvbiBhbmQgbWFyZ2luXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwb3NpdGlvbi50b3AgPSBtYXgoIHBvc2l0aW9uLnRvcCAtIGNvbGxpc2lvblBvc1RvcCwgcG9zaXRpb24udG9wICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRmbGlwOiB7XG5cdFx0bGVmdDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkge1xuXHRcdFx0dmFyIHdpdGhpbiA9IGRhdGEud2l0aGluLFxuXHRcdFx0XHR3aXRoaW5PZmZzZXQgPSB3aXRoaW4ub2Zmc2V0LmxlZnQgKyB3aXRoaW4uc2Nyb2xsTGVmdCxcblx0XHRcdFx0b3V0ZXJXaWR0aCA9IHdpdGhpbi53aWR0aCxcblx0XHRcdFx0b2Zmc2V0TGVmdCA9IHdpdGhpbi5pc1dpbmRvdyA/IHdpdGhpbi5zY3JvbGxMZWZ0IDogd2l0aGluLm9mZnNldC5sZWZ0LFxuXHRcdFx0XHRjb2xsaXNpb25Qb3NMZWZ0ID0gcG9zaXRpb24ubGVmdCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxcblx0XHRcdFx0b3ZlckxlZnQgPSBjb2xsaXNpb25Qb3NMZWZ0IC0gb2Zmc2V0TGVmdCxcblx0XHRcdFx0b3ZlclJpZ2h0ID0gY29sbGlzaW9uUG9zTGVmdCArIGRhdGEuY29sbGlzaW9uV2lkdGggLSBvdXRlcldpZHRoIC0gb2Zmc2V0TGVmdCxcblx0XHRcdFx0bXlPZmZzZXQgPSBkYXRhLm15WyAwIF0gPT09IFwibGVmdFwiID9cblx0XHRcdFx0XHQtZGF0YS5lbGVtV2lkdGggOlxuXHRcdFx0XHRcdGRhdGEubXlbIDAgXSA9PT0gXCJyaWdodFwiID9cblx0XHRcdFx0XHRcdGRhdGEuZWxlbVdpZHRoIDpcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdGF0T2Zmc2V0ID0gZGF0YS5hdFsgMCBdID09PSBcImxlZnRcIiA/XG5cdFx0XHRcdFx0ZGF0YS50YXJnZXRXaWR0aCA6XG5cdFx0XHRcdFx0ZGF0YS5hdFsgMCBdID09PSBcInJpZ2h0XCIgP1xuXHRcdFx0XHRcdFx0LWRhdGEudGFyZ2V0V2lkdGggOlxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0b2Zmc2V0ID0gLTIgKiBkYXRhLm9mZnNldFsgMCBdLFxuXHRcdFx0XHRuZXdPdmVyUmlnaHQsXG5cdFx0XHRcdG5ld092ZXJMZWZ0O1xuXG5cdFx0XHRpZiAoIG92ZXJMZWZ0IDwgMCApIHtcblx0XHRcdFx0bmV3T3ZlclJpZ2h0ID0gcG9zaXRpb24ubGVmdCArIG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQgKyBkYXRhLmNvbGxpc2lvbldpZHRoIC1cblx0XHRcdFx0XHRvdXRlcldpZHRoIC0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRpZiAoIG5ld092ZXJSaWdodCA8IDAgfHwgbmV3T3ZlclJpZ2h0IDwgYWJzKCBvdmVyTGVmdCApICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlclJpZ2h0ID4gMCApIHtcblx0XHRcdFx0bmV3T3ZlckxlZnQgPSBwb3NpdGlvbi5sZWZ0IC0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0ICsgbXlPZmZzZXQgK1xuXHRcdFx0XHRcdGF0T2Zmc2V0ICsgb2Zmc2V0IC0gb2Zmc2V0TGVmdDtcblx0XHRcdFx0aWYgKCBuZXdPdmVyTGVmdCA+IDAgfHwgYWJzKCBuZXdPdmVyTGVmdCApIDwgb3ZlclJpZ2h0ICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dG9wOiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5vZmZzZXQudG9wICsgd2l0aGluLnNjcm9sbFRvcCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQgPSB3aXRoaW4uaGVpZ2h0LFxuXHRcdFx0XHRvZmZzZXRUb3AgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsVG9wIDogd2l0aGluLm9mZnNldC50b3AsXG5cdFx0XHRcdGNvbGxpc2lvblBvc1RvcCA9IHBvc2l0aW9uLnRvcCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLFxuXHRcdFx0XHRvdmVyVG9wID0gY29sbGlzaW9uUG9zVG9wIC0gb2Zmc2V0VG9wLFxuXHRcdFx0XHRvdmVyQm90dG9tID0gY29sbGlzaW9uUG9zVG9wICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtIG9mZnNldFRvcCxcblx0XHRcdFx0dG9wID0gZGF0YS5teVsgMSBdID09PSBcInRvcFwiLFxuXHRcdFx0XHRteU9mZnNldCA9IHRvcCA/XG5cdFx0XHRcdFx0LWRhdGEuZWxlbUhlaWdodCA6XG5cdFx0XHRcdFx0ZGF0YS5teVsgMSBdID09PSBcImJvdHRvbVwiID9cblx0XHRcdFx0XHRcdGRhdGEuZWxlbUhlaWdodCA6XG5cdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRhdE9mZnNldCA9IGRhdGEuYXRbIDEgXSA9PT0gXCJ0b3BcIiA/XG5cdFx0XHRcdFx0ZGF0YS50YXJnZXRIZWlnaHQgOlxuXHRcdFx0XHRcdGRhdGEuYXRbIDEgXSA9PT0gXCJib3R0b21cIiA/XG5cdFx0XHRcdFx0XHQtZGF0YS50YXJnZXRIZWlnaHQgOlxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0b2Zmc2V0ID0gLTIgKiBkYXRhLm9mZnNldFsgMSBdLFxuXHRcdFx0XHRuZXdPdmVyVG9wLFxuXHRcdFx0XHRuZXdPdmVyQm90dG9tO1xuXHRcdFx0aWYgKCBvdmVyVG9wIDwgMCApIHtcblx0XHRcdFx0bmV3T3ZlckJvdHRvbSA9IHBvc2l0aW9uLnRvcCArIG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQgKyBkYXRhLmNvbGxpc2lvbkhlaWdodCAtXG5cdFx0XHRcdFx0b3V0ZXJIZWlnaHQgLSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdGlmICggbmV3T3ZlckJvdHRvbSA8IDAgfHwgbmV3T3ZlckJvdHRvbSA8IGFicyggb3ZlclRvcCApICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLnRvcCArPSBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyQm90dG9tID4gMCApIHtcblx0XHRcdFx0bmV3T3ZlclRvcCA9IHBvc2l0aW9uLnRvcCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wICsgbXlPZmZzZXQgKyBhdE9mZnNldCArXG5cdFx0XHRcdFx0b2Zmc2V0IC0gb2Zmc2V0VG9wO1xuXHRcdFx0XHRpZiAoIG5ld092ZXJUb3AgPiAwIHx8IGFicyggbmV3T3ZlclRvcCApIDwgb3ZlckJvdHRvbSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi50b3AgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0ZmxpcGZpdDoge1xuXHRcdGxlZnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JC51aS5wb3NpdGlvbi5mbGlwLmxlZnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0JC51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fSxcblx0XHR0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JC51aS5wb3NpdGlvbi5mbGlwLnRvcC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHQkLnVpLnBvc2l0aW9uLmZpdC50b3AuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fVxufTtcblxufSApKCk7XG5cbnZhciBwb3NpdGlvbiA9ICQudWkucG9zaXRpb247XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgOmRhdGEgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IDpkYXRhIFNlbGVjdG9yXG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogU2VsZWN0cyBlbGVtZW50cyB3aGljaCBoYXZlIGRhdGEgc3RvcmVkIHVuZGVyIHRoZSBzcGVjaWZpZWQga2V5LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RhdGEtc2VsZWN0b3IvXG5cblxudmFyIGRhdGEgPSAkLmV4dGVuZCggJC5leHByWyBcIjpcIiBdLCB7XG5cdGRhdGE6ICQuZXhwci5jcmVhdGVQc2V1ZG8gP1xuXHRcdCQuZXhwci5jcmVhdGVQc2V1ZG8oIGZ1bmN0aW9uKCBkYXRhTmFtZSApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBkYXRhTmFtZSApO1xuXHRcdFx0fTtcblx0XHR9ICkgOlxuXG5cdFx0Ly8gU3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRmdW5jdGlvbiggZWxlbSwgaSwgbWF0Y2ggKSB7XG5cdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIG1hdGNoWyAzIF0gKTtcblx0XHR9XG59ICk7XG5cbi8qIVxuICogalF1ZXJ5IFVJIERpc2FibGUgU2VsZWN0aW9uIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBkaXNhYmxlU2VsZWN0aW9uXG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogRGlzYWJsZSBzZWxlY3Rpb24gb2YgdGV4dCBjb250ZW50IHdpdGhpbiB0aGUgc2V0IG9mIG1hdGNoZWQgZWxlbWVudHMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZGlzYWJsZVNlbGVjdGlvbi9cblxuLy8gVGhpcyBmaWxlIGlzIGRlcHJlY2F0ZWRcblxuXG52YXIgZGlzYWJsZVNlbGVjdGlvbiA9ICQuZm4uZXh0ZW5kKCB7XG5cdGRpc2FibGVTZWxlY3Rpb246ICggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGV2ZW50VHlwZSA9IFwib25zZWxlY3RzdGFydFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSA/XG5cdFx0XHRcInNlbGVjdHN0YXJ0XCIgOlxuXHRcdFx0XCJtb3VzZWRvd25cIjtcblxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm9uKCBldmVudFR5cGUgKyBcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0gKTtcblx0XHR9O1xuXHR9ICkoKSxcblxuXHRlbmFibGVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggXCIudWktZGlzYWJsZVNlbGVjdGlvblwiICk7XG5cdH1cbn0gKTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBFZmZlY3RzIENvcmVcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZGVzY3JpcHRpb246IEV4dGVuZHMgdGhlIGludGVybmFsIGpRdWVyeSBlZmZlY3RzLiBJbmNsdWRlcyBtb3JwaGluZyBhbmQgZWFzaW5nLiBSZXF1aXJlZCBieSBhbGwgb3RoZXIgZWZmZWN0cy5cbi8vIGpzY3M6ZW5hYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2F0ZWdvcnkvZWZmZWN0cy1jb3JlL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuXG5cbnZhciBkYXRhU3BhY2UgPSBcInVpLWVmZmVjdHMtXCIsXG5cdGRhdGFTcGFjZVN0eWxlID0gXCJ1aS1lZmZlY3RzLXN0eWxlXCIsXG5cdGRhdGFTcGFjZUFuaW1hdGVkID0gXCJ1aS1lZmZlY3RzLWFuaW1hdGVkXCIsXG5cblx0Ly8gQ3JlYXRlIGEgbG9jYWwgalF1ZXJ5IGJlY2F1c2UgalF1ZXJ5IENvbG9yIHJlbGllcyBvbiBpdCBhbmQgdGhlXG5cdC8vIGdsb2JhbCBtYXkgbm90IGV4aXN0IHdpdGggQU1EIGFuZCBhIGN1c3RvbSBidWlsZCAoIzEwMTk5KVxuXHRqUXVlcnkgPSAkO1xuXG4kLmVmZmVjdHMgPSB7XG5cdGVmZmVjdDoge31cbn07XG5cbi8qIVxuICogalF1ZXJ5IENvbG9yIEFuaW1hdGlvbnMgdjIuMS4yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvclxuICpcbiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiBXZWQgSmFuIDE2IDA4OjQ3OjA5IDIwMTMgLTA2MDBcbiAqL1xuKCBmdW5jdGlvbiggalF1ZXJ5LCB1bmRlZmluZWQgKSB7XG5cblx0dmFyIHN0ZXBIb29rcyA9IFwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIFwiICtcblx0XHRcImJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvclwiLFxuXG5cdC8vIFBsdXNlcXVhbHMgdGVzdCBmb3IgKz0gMTAwIC09IDEwMFxuXHRycGx1c2VxdWFscyA9IC9eKFtcXC0rXSk9XFxzKihcXGQrXFwuP1xcZCopLyxcblxuXHQvLyBBIHNldCBvZiBSRSdzIHRoYXQgY2FuIG1hdGNoIHN0cmluZ3MgYW5kIGdlbmVyYXRlIGNvbG9yIHR1cGxlcy5cblx0c3RyaW5nUGFyc2VycyA9IFsge1xuXHRcdFx0cmU6IC9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0sXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdHJlOiAvcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZD8oPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcblx0XHRcdHBhcnNlOiBmdW5jdGlvbiggZXhlY1Jlc3VsdCApIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAxIF0gKiAyLjU1LFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSAqIDIuNTUsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdICogMi41NSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyA0IF1cblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cblx0XHRcdC8vIFRoaXMgcmVnZXggaWdub3JlcyBBLUYgYmVjYXVzZSBpdCdzIGNvbXBhcmVkIGFnYWluc3QgYW4gYWxyZWFkeSBsb3dlcmNhc2VkIHN0cmluZ1xuXHRcdFx0cmU6IC8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxcblx0XHRcdHBhcnNlOiBmdW5jdGlvbiggZXhlY1Jlc3VsdCApIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMSBdLCAxNiApLFxuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAyIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDMgXSwgMTYgKVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblxuXHRcdFx0Ly8gVGhpcyByZWdleCBpZ25vcmVzIEEtRiBiZWNhdXNlIGl0J3MgY29tcGFyZWQgYWdhaW5zdCBhbiBhbHJlYWR5IGxvd2VyY2FzZWQgc3RyaW5nXG5cdFx0XHRyZTogLyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAxIF0gKyBleGVjUmVzdWx0WyAxIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDIgXSArIGV4ZWNSZXN1bHRbIDIgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMyBdICsgZXhlY1Jlc3VsdFsgMyBdLCAxNiApXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0cmU6IC9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0c3BhY2U6IFwiaHNsYVwiLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0gLyAxMDAsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdIC8gMTAwLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0gXSxcblxuXHQvLyBKUXVlcnkuQ29sb3IoIClcblx0Y29sb3IgPSBqUXVlcnkuQ29sb3IgPSBmdW5jdGlvbiggY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5Db2xvci5mbi5wYXJzZSggY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSApO1xuXHR9LFxuXHRzcGFjZXMgPSB7XG5cdFx0cmdiYToge1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0cmVkOiB7XG5cdFx0XHRcdFx0aWR4OiAwLFxuXHRcdFx0XHRcdHR5cGU6IFwiYnl0ZVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGdyZWVuOiB7XG5cdFx0XHRcdFx0aWR4OiAxLFxuXHRcdFx0XHRcdHR5cGU6IFwiYnl0ZVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJsdWU6IHtcblx0XHRcdFx0XHRpZHg6IDIsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRoc2xhOiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRodWU6IHtcblx0XHRcdFx0XHRpZHg6IDAsXG5cdFx0XHRcdFx0dHlwZTogXCJkZWdyZWVzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0c2F0dXJhdGlvbjoge1xuXHRcdFx0XHRcdGlkeDogMSxcblx0XHRcdFx0XHR0eXBlOiBcInBlcmNlbnRcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsaWdodG5lc3M6IHtcblx0XHRcdFx0XHRpZHg6IDIsXG5cdFx0XHRcdFx0dHlwZTogXCJwZXJjZW50XCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0cHJvcFR5cGVzID0ge1xuXHRcdFwiYnl0ZVwiOiB7XG5cdFx0XHRmbG9vcjogdHJ1ZSxcblx0XHRcdG1heDogMjU1XG5cdFx0fSxcblx0XHRcInBlcmNlbnRcIjoge1xuXHRcdFx0bWF4OiAxXG5cdFx0fSxcblx0XHRcImRlZ3JlZXNcIjoge1xuXHRcdFx0bW9kOiAzNjAsXG5cdFx0XHRmbG9vcjogdHJ1ZVxuXHRcdH1cblx0fSxcblx0c3VwcG9ydCA9IGNvbG9yLnN1cHBvcnQgPSB7fSxcblxuXHQvLyBFbGVtZW50IGZvciBzdXBwb3J0IHRlc3RzXG5cdHN1cHBvcnRFbGVtID0galF1ZXJ5KCBcIjxwPlwiIClbIDAgXSxcblxuXHQvLyBDb2xvcnMgPSBqUXVlcnkuQ29sb3IubmFtZXNcblx0Y29sb3JzLFxuXG5cdC8vIExvY2FsIGFsaWFzZXMgb2YgZnVuY3Rpb25zIGNhbGxlZCBvZnRlblxuXHRlYWNoID0galF1ZXJ5LmVhY2g7XG5cbi8vIERldGVybWluZSByZ2JhIHN1cHBvcnQgaW1tZWRpYXRlbHlcbnN1cHBvcnRFbGVtLnN0eWxlLmNzc1RleHQgPSBcImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIjtcbnN1cHBvcnQucmdiYSA9IHN1cHBvcnRFbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCBcInJnYmFcIiApID4gLTE7XG5cbi8vIERlZmluZSBjYWNoZSBuYW1lIGFuZCBhbHBoYSBwcm9wZXJ0aWVzXG4vLyBmb3IgcmdiYSBhbmQgaHNsYSBzcGFjZXNcbmVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdHNwYWNlLmNhY2hlID0gXCJfXCIgKyBzcGFjZU5hbWU7XG5cdHNwYWNlLnByb3BzLmFscGhhID0ge1xuXHRcdGlkeDogMyxcblx0XHR0eXBlOiBcInBlcmNlbnRcIixcblx0XHRkZWY6IDFcblx0fTtcbn0gKTtcblxuZnVuY3Rpb24gY2xhbXAoIHZhbHVlLCBwcm9wLCBhbGxvd0VtcHR5ICkge1xuXHR2YXIgdHlwZSA9IHByb3BUeXBlc1sgcHJvcC50eXBlIF0gfHwge307XG5cblx0aWYgKCB2YWx1ZSA9PSBudWxsICkge1xuXHRcdHJldHVybiAoIGFsbG93RW1wdHkgfHwgIXByb3AuZGVmICkgPyBudWxsIDogcHJvcC5kZWY7XG5cdH1cblxuXHQvLyB+fiBpcyBhbiBzaG9ydCB3YXkgb2YgZG9pbmcgZmxvb3IgZm9yIHBvc2l0aXZlIG51bWJlcnNcblx0dmFsdWUgPSB0eXBlLmZsb29yID8gfn52YWx1ZSA6IHBhcnNlRmxvYXQoIHZhbHVlICk7XG5cblx0Ly8gSUUgd2lsbCBwYXNzIGluIGVtcHR5IHN0cmluZ3MgYXMgdmFsdWUgZm9yIGFscGhhLFxuXHQvLyB3aGljaCB3aWxsIGhpdCB0aGlzIGNhc2Vcblx0aWYgKCBpc05hTiggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gcHJvcC5kZWY7XG5cdH1cblxuXHRpZiAoIHR5cGUubW9kICkge1xuXG5cdFx0Ly8gV2UgYWRkIG1vZCBiZWZvcmUgbW9kZGluZyB0byBtYWtlIHN1cmUgdGhhdCBuZWdhdGl2ZXMgdmFsdWVzXG5cdFx0Ly8gZ2V0IGNvbnZlcnRlZCBwcm9wZXJseTogLTEwIC0+IDM1MFxuXHRcdHJldHVybiAoIHZhbHVlICsgdHlwZS5tb2QgKSAlIHR5cGUubW9kO1xuXHR9XG5cblx0Ly8gRm9yIG5vdyBhbGwgcHJvcGVydHkgdHlwZXMgd2l0aG91dCBtb2QgaGF2ZSBtaW4gYW5kIG1heFxuXHRyZXR1cm4gMCA+IHZhbHVlID8gMCA6IHR5cGUubWF4IDwgdmFsdWUgPyB0eXBlLm1heCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdQYXJzZSggc3RyaW5nICkge1xuXHR2YXIgaW5zdCA9IGNvbG9yKCksXG5cdFx0cmdiYSA9IGluc3QuX3JnYmEgPSBbXTtcblxuXHRzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcblxuXHRlYWNoKCBzdHJpbmdQYXJzZXJzLCBmdW5jdGlvbiggaSwgcGFyc2VyICkge1xuXHRcdHZhciBwYXJzZWQsXG5cdFx0XHRtYXRjaCA9IHBhcnNlci5yZS5leGVjKCBzdHJpbmcgKSxcblx0XHRcdHZhbHVlcyA9IG1hdGNoICYmIHBhcnNlci5wYXJzZSggbWF0Y2ggKSxcblx0XHRcdHNwYWNlTmFtZSA9IHBhcnNlci5zcGFjZSB8fCBcInJnYmFcIjtcblxuXHRcdGlmICggdmFsdWVzICkge1xuXHRcdFx0cGFyc2VkID0gaW5zdFsgc3BhY2VOYW1lIF0oIHZhbHVlcyApO1xuXG5cdFx0XHQvLyBJZiB0aGlzIHdhcyBhbiByZ2JhIHBhcnNlIHRoZSBhc3NpZ25tZW50IG1pZ2h0IGhhcHBlbiB0d2ljZVxuXHRcdFx0Ly8gb2ggd2VsbC4uLi5cblx0XHRcdGluc3RbIHNwYWNlc1sgc3BhY2VOYW1lIF0uY2FjaGUgXSA9IHBhcnNlZFsgc3BhY2VzWyBzcGFjZU5hbWUgXS5jYWNoZSBdO1xuXHRcdFx0cmdiYSA9IGluc3QuX3JnYmEgPSBwYXJzZWQuX3JnYmE7XG5cblx0XHRcdC8vIEV4aXQgZWFjaCggc3RyaW5nUGFyc2VycyApIGhlcmUgYmVjYXVzZSB3ZSBtYXRjaGVkXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9ICk7XG5cblx0Ly8gRm91bmQgYSBzdHJpbmdQYXJzZXIgdGhhdCBoYW5kbGVkIGl0XG5cdGlmICggcmdiYS5sZW5ndGggKSB7XG5cblx0XHQvLyBJZiB0aGlzIGNhbWUgZnJvbSBhIHBhcnNlZCBzdHJpbmcsIGZvcmNlIFwidHJhbnNwYXJlbnRcIiB3aGVuIGFscGhhIGlzIDBcblx0XHQvLyBjaHJvbWUsIChhbmQgbWF5YmUgb3RoZXJzKSByZXR1cm4gXCJ0cmFuc3BhcmVudFwiIGFzIHJnYmEoMCwwLDAsMClcblx0XHRpZiAoIHJnYmEuam9pbigpID09PSBcIjAsMCwwLDBcIiApIHtcblx0XHRcdGpRdWVyeS5leHRlbmQoIHJnYmEsIGNvbG9ycy50cmFuc3BhcmVudCApO1xuXHRcdH1cblx0XHRyZXR1cm4gaW5zdDtcblx0fVxuXG5cdC8vIE5hbWVkIGNvbG9yc1xuXHRyZXR1cm4gY29sb3JzWyBzdHJpbmcgXTtcbn1cblxuY29sb3IuZm4gPSBqUXVlcnkuZXh0ZW5kKCBjb2xvci5wcm90b3R5cGUsIHtcblx0cGFyc2U6IGZ1bmN0aW9uKCByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSApIHtcblx0XHRpZiAoIHJlZCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5fcmdiYSA9IFsgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCBdO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggcmVkLmpxdWVyeSB8fCByZWQubm9kZVR5cGUgKSB7XG5cdFx0XHRyZWQgPSBqUXVlcnkoIHJlZCApLmNzcyggZ3JlZW4gKTtcblx0XHRcdGdyZWVuID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHZhciBpbnN0ID0gdGhpcyxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggcmVkICksXG5cdFx0XHRyZ2JhID0gdGhpcy5fcmdiYSA9IFtdO1xuXG5cdFx0Ly8gTW9yZSB0aGFuIDEgYXJndW1lbnQgc3BlY2lmaWVkIC0gYXNzdW1lICggcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgKVxuXHRcdGlmICggZ3JlZW4gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJlZCA9IFsgcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgXTtcblx0XHRcdHR5cGUgPSBcImFycmF5XCI7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyc2UoIHN0cmluZ1BhcnNlKCByZWQgKSB8fCBjb2xvcnMuX2RlZmF1bHQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwiYXJyYXlcIiApIHtcblx0XHRcdGVhY2goIHNwYWNlcy5yZ2JhLnByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0XHRyZ2JhWyBwcm9wLmlkeCBdID0gY2xhbXAoIHJlZFsgcHJvcC5pZHggXSwgcHJvcCApO1xuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0aWYgKCByZWQgaW5zdGFuY2VvZiBjb2xvciApIHtcblx0XHRcdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdFx0XHRpZiAoIHJlZFsgc3BhY2UuY2FjaGUgXSApIHtcblx0XHRcdFx0XHRcdGluc3RbIHNwYWNlLmNhY2hlIF0gPSByZWRbIHNwYWNlLmNhY2hlIF0uc2xpY2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlID0gc3BhY2UuY2FjaGU7XG5cdFx0XHRcdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIHRoZSBjYWNoZSBkb2Vzbid0IGV4aXN0LCBhbmQgd2Uga25vdyBob3cgdG8gY29udmVydFxuXHRcdFx0XHRcdFx0aWYgKCAhaW5zdFsgY2FjaGUgXSAmJiBzcGFjZS50byApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiB0aGUgdmFsdWUgd2FzIG51bGwsIHdlIGRvbid0IG5lZWQgdG8gY29weSBpdFxuXHRcdFx0XHRcdFx0XHQvLyBpZiB0aGUga2V5IHdhcyBhbHBoYSwgd2UgZG9uJ3QgbmVlZCB0byBjb3B5IGl0IGVpdGhlclxuXHRcdFx0XHRcdFx0XHRpZiAoIGtleSA9PT0gXCJhbHBoYVwiIHx8IHJlZFsga2V5IF0gPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXSA9IHNwYWNlLnRvKCBpbnN0Ll9yZ2JhICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgdGhlIG9ubHkgY2FzZSB3aGVyZSB3ZSBhbGxvdyBudWxscyBmb3IgQUxMIHByb3BlcnRpZXMuXG5cdFx0XHRcdFx0XHQvLyBjYWxsIGNsYW1wIHdpdGggYWx3YXlzQWxsb3dFbXB0eVxuXHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXVsgcHJvcC5pZHggXSA9IGNsYW1wKCByZWRbIGtleSBdLCBwcm9wLCB0cnVlICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0Ly8gRXZlcnl0aGluZyBkZWZpbmVkIGJ1dCBhbHBoYT9cblx0XHRcdFx0XHRpZiAoIGluc3RbIGNhY2hlIF0gJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIG51bGwsIGluc3RbIGNhY2hlIF0uc2xpY2UoIDAsIDMgKSApIDwgMCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBkZWZhdWx0IG9mIDFcblx0XHRcdFx0XHRcdGluc3RbIGNhY2hlIF1bIDMgXSA9IDE7XG5cdFx0XHRcdFx0XHRpZiAoIHNwYWNlLmZyb20gKSB7XG5cdFx0XHRcdFx0XHRcdGluc3QuX3JnYmEgPSBzcGFjZS5mcm9tKCBpbnN0WyBjYWNoZSBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggY29tcGFyZSApIHtcblx0XHR2YXIgaXMgPSBjb2xvciggY29tcGFyZSApLFxuXHRcdFx0c2FtZSA9IHRydWUsXG5cdFx0XHRpbnN0ID0gdGhpcztcblxuXHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIF8sIHNwYWNlICkge1xuXHRcdFx0dmFyIGxvY2FsQ2FjaGUsXG5cdFx0XHRcdGlzQ2FjaGUgPSBpc1sgc3BhY2UuY2FjaGUgXTtcblx0XHRcdGlmICggaXNDYWNoZSApIHtcblx0XHRcdFx0bG9jYWxDYWNoZSA9IGluc3RbIHNwYWNlLmNhY2hlIF0gfHwgc3BhY2UudG8gJiYgc3BhY2UudG8oIGluc3QuX3JnYmEgKSB8fCBbXTtcblx0XHRcdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBfLCBwcm9wICkge1xuXHRcdFx0XHRcdGlmICggaXNDYWNoZVsgcHJvcC5pZHggXSAhPSBudWxsICkge1xuXHRcdFx0XHRcdFx0c2FtZSA9ICggaXNDYWNoZVsgcHJvcC5pZHggXSA9PT0gbG9jYWxDYWNoZVsgcHJvcC5pZHggXSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNhbWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2FtZTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNhbWU7XG5cdH0sXG5cdF9zcGFjZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVzZWQgPSBbXSxcblx0XHRcdGluc3QgPSB0aGlzO1xuXHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdFx0XHRpZiAoIGluc3RbIHNwYWNlLmNhY2hlIF0gKSB7XG5cdFx0XHRcdHVzZWQucHVzaCggc3BhY2VOYW1lICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB1c2VkLnBvcCgpO1xuXHR9LFxuXHR0cmFuc2l0aW9uOiBmdW5jdGlvbiggb3RoZXIsIGRpc3RhbmNlICkge1xuXHRcdHZhciBlbmQgPSBjb2xvciggb3RoZXIgKSxcblx0XHRcdHNwYWNlTmFtZSA9IGVuZC5fc3BhY2UoKSxcblx0XHRcdHNwYWNlID0gc3BhY2VzWyBzcGFjZU5hbWUgXSxcblx0XHRcdHN0YXJ0Q29sb3IgPSB0aGlzLmFscGhhKCkgPT09IDAgPyBjb2xvciggXCJ0cmFuc3BhcmVudFwiICkgOiB0aGlzLFxuXHRcdFx0c3RhcnQgPSBzdGFydENvbG9yWyBzcGFjZS5jYWNoZSBdIHx8IHNwYWNlLnRvKCBzdGFydENvbG9yLl9yZ2JhICksXG5cdFx0XHRyZXN1bHQgPSBzdGFydC5zbGljZSgpO1xuXG5cdFx0ZW5kID0gZW5kWyBzcGFjZS5jYWNoZSBdO1xuXHRcdGVhY2goIHNwYWNlLnByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0dmFyIGluZGV4ID0gcHJvcC5pZHgsXG5cdFx0XHRcdHN0YXJ0VmFsdWUgPSBzdGFydFsgaW5kZXggXSxcblx0XHRcdFx0ZW5kVmFsdWUgPSBlbmRbIGluZGV4IF0sXG5cdFx0XHRcdHR5cGUgPSBwcm9wVHlwZXNbIHByb3AudHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBudWxsLCBkb24ndCBvdmVycmlkZSBzdGFydCB2YWx1ZVxuXHRcdFx0aWYgKCBlbmRWYWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBudWxsIC0gdXNlIGVuZFxuXHRcdFx0aWYgKCBzdGFydFZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRyZXN1bHRbIGluZGV4IF0gPSBlbmRWYWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggdHlwZS5tb2QgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUgPiB0eXBlLm1vZCAvIDIgKSB7XG5cdFx0XHRcdFx0XHRzdGFydFZhbHVlICs9IHR5cGUubW9kO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXJ0VmFsdWUgLSBlbmRWYWx1ZSA+IHR5cGUubW9kIC8gMiApIHtcblx0XHRcdFx0XHRcdHN0YXJ0VmFsdWUgLT0gdHlwZS5tb2Q7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc3VsdFsgaW5kZXggXSA9IGNsYW1wKCAoIGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSApICogZGlzdGFuY2UgKyBzdGFydFZhbHVlLCBwcm9wICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzWyBzcGFjZU5hbWUgXSggcmVzdWx0ICk7XG5cdH0sXG5cdGJsZW5kOiBmdW5jdGlvbiggb3BhcXVlICkge1xuXG5cdFx0Ly8gSWYgd2UgYXJlIGFscmVhZHkgb3BhcXVlIC0gcmV0dXJuIG91cnNlbGZcblx0XHRpZiAoIHRoaXMuX3JnYmFbIDMgXSA9PT0gMSApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdHZhciByZ2IgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG5cdFx0XHRhID0gcmdiLnBvcCgpLFxuXHRcdFx0YmxlbmQgPSBjb2xvciggb3BhcXVlICkuX3JnYmE7XG5cblx0XHRyZXR1cm4gY29sb3IoIGpRdWVyeS5tYXAoIHJnYiwgZnVuY3Rpb24oIHYsIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCAxIC0gYSApICogYmxlbmRbIGkgXSArIGEgKiB2O1xuXHRcdH0gKSApO1xuXHR9LFxuXHR0b1JnYmFTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVmaXggPSBcInJnYmEoXCIsXG5cdFx0XHRyZ2JhID0galF1ZXJ5Lm1hcCggdGhpcy5fcmdiYSwgZnVuY3Rpb24oIHYsIGkgKSB7XG5cdFx0XHRcdHJldHVybiB2ID09IG51bGwgPyAoIGkgPiAyID8gMSA6IDAgKSA6IHY7XG5cdFx0XHR9ICk7XG5cblx0XHRpZiAoIHJnYmFbIDMgXSA9PT0gMSApIHtcblx0XHRcdHJnYmEucG9wKCk7XG5cdFx0XHRwcmVmaXggPSBcInJnYihcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJlZml4ICsgcmdiYS5qb2luKCkgKyBcIilcIjtcblx0fSxcblx0dG9Ic2xhU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJlZml4ID0gXCJoc2xhKFwiLFxuXHRcdFx0aHNsYSA9IGpRdWVyeS5tYXAoIHRoaXMuaHNsYSgpLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdFx0aWYgKCB2ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0diA9IGkgPiAyID8gMSA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYXRjaCAxIGFuZCAyXG5cdFx0XHRcdGlmICggaSAmJiBpIDwgMyApIHtcblx0XHRcdFx0XHR2ID0gTWF0aC5yb3VuZCggdiAqIDEwMCApICsgXCIlXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHY7XG5cdFx0XHR9ICk7XG5cblx0XHRpZiAoIGhzbGFbIDMgXSA9PT0gMSApIHtcblx0XHRcdGhzbGEucG9wKCk7XG5cdFx0XHRwcmVmaXggPSBcImhzbChcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHByZWZpeCArIGhzbGEuam9pbigpICsgXCIpXCI7XG5cdH0sXG5cdHRvSGV4U3RyaW5nOiBmdW5jdGlvbiggaW5jbHVkZUFscGhhICkge1xuXHRcdHZhciByZ2JhID0gdGhpcy5fcmdiYS5zbGljZSgpLFxuXHRcdFx0YWxwaGEgPSByZ2JhLnBvcCgpO1xuXG5cdFx0aWYgKCBpbmNsdWRlQWxwaGEgKSB7XG5cdFx0XHRyZ2JhLnB1c2goIH5+KCBhbHBoYSAqIDI1NSApICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFwiI1wiICsgalF1ZXJ5Lm1hcCggcmdiYSwgZnVuY3Rpb24oIHYgKSB7XG5cblx0XHRcdC8vIERlZmF1bHQgdG8gMCB3aGVuIG51bGxzIGV4aXN0XG5cdFx0XHR2ID0gKCB2IHx8IDAgKS50b1N0cmluZyggMTYgKTtcblx0XHRcdHJldHVybiB2Lmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgdiA6IHY7XG5cdFx0fSApLmpvaW4oIFwiXCIgKTtcblx0fSxcblx0dG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9yZ2JhWyAzIF0gPT09IDAgPyBcInRyYW5zcGFyZW50XCIgOiB0aGlzLnRvUmdiYVN0cmluZygpO1xuXHR9XG59ICk7XG5jb2xvci5mbi5wYXJzZS5wcm90b3R5cGUgPSBjb2xvci5mbjtcblxuLy8gSHNsYSBjb252ZXJzaW9ucyBhZGFwdGVkIGZyb206XG4vLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL21hYXNoYWFjay9zb3VyY2UvYnJvd3NlL3BhY2thZ2VzL2dyYXBoaWNzL3RydW5rL3NyYy9ncmFwaGljcy9jb2xvcnMvSFVFMlJHQi5hcz9yPTUwMjFcblxuZnVuY3Rpb24gaHVlMnJnYiggcCwgcSwgaCApIHtcblx0aCA9ICggaCArIDEgKSAlIDE7XG5cdGlmICggaCAqIDYgPCAxICkge1xuXHRcdHJldHVybiBwICsgKCBxIC0gcCApICogaCAqIDY7XG5cdH1cblx0aWYgKCBoICogMiA8IDEgKSB7XG5cdFx0cmV0dXJuIHE7XG5cdH1cblx0aWYgKCBoICogMyA8IDIgKSB7XG5cdFx0cmV0dXJuIHAgKyAoIHEgLSBwICkgKiAoICggMiAvIDMgKSAtIGggKSAqIDY7XG5cdH1cblx0cmV0dXJuIHA7XG59XG5cbnNwYWNlcy5oc2xhLnRvID0gZnVuY3Rpb24oIHJnYmEgKSB7XG5cdGlmICggcmdiYVsgMCBdID09IG51bGwgfHwgcmdiYVsgMSBdID09IG51bGwgfHwgcmdiYVsgMiBdID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFsgbnVsbCwgbnVsbCwgbnVsbCwgcmdiYVsgMyBdIF07XG5cdH1cblx0dmFyIHIgPSByZ2JhWyAwIF0gLyAyNTUsXG5cdFx0ZyA9IHJnYmFbIDEgXSAvIDI1NSxcblx0XHRiID0gcmdiYVsgMiBdIC8gMjU1LFxuXHRcdGEgPSByZ2JhWyAzIF0sXG5cdFx0bWF4ID0gTWF0aC5tYXgoIHIsIGcsIGIgKSxcblx0XHRtaW4gPSBNYXRoLm1pbiggciwgZywgYiApLFxuXHRcdGRpZmYgPSBtYXggLSBtaW4sXG5cdFx0YWRkID0gbWF4ICsgbWluLFxuXHRcdGwgPSBhZGQgKiAwLjUsXG5cdFx0aCwgcztcblxuXHRpZiAoIG1pbiA9PT0gbWF4ICkge1xuXHRcdGggPSAwO1xuXHR9IGVsc2UgaWYgKCByID09PSBtYXggKSB7XG5cdFx0aCA9ICggNjAgKiAoIGcgLSBiICkgLyBkaWZmICkgKyAzNjA7XG5cdH0gZWxzZSBpZiAoIGcgPT09IG1heCApIHtcblx0XHRoID0gKCA2MCAqICggYiAtIHIgKSAvIGRpZmYgKSArIDEyMDtcblx0fSBlbHNlIHtcblx0XHRoID0gKCA2MCAqICggciAtIGcgKSAvIGRpZmYgKSArIDI0MDtcblx0fVxuXG5cdC8vIENocm9tYSAoZGlmZikgPT0gMCBtZWFucyBncmV5c2NhbGUgd2hpY2gsIGJ5IGRlZmluaXRpb24sIHNhdHVyYXRpb24gPSAwJVxuXHQvLyBvdGhlcndpc2UsIHNhdHVyYXRpb24gaXMgYmFzZWQgb24gdGhlIHJhdGlvIG9mIGNocm9tYSAoZGlmZikgdG8gbGlnaHRuZXNzIChhZGQpXG5cdGlmICggZGlmZiA9PT0gMCApIHtcblx0XHRzID0gMDtcblx0fSBlbHNlIGlmICggbCA8PSAwLjUgKSB7XG5cdFx0cyA9IGRpZmYgLyBhZGQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IGRpZmYgLyAoIDIgLSBhZGQgKTtcblx0fVxuXHRyZXR1cm4gWyBNYXRoLnJvdW5kKCBoICkgJSAzNjAsIHMsIGwsIGEgPT0gbnVsbCA/IDEgOiBhIF07XG59O1xuXG5zcGFjZXMuaHNsYS5mcm9tID0gZnVuY3Rpb24oIGhzbGEgKSB7XG5cdGlmICggaHNsYVsgMCBdID09IG51bGwgfHwgaHNsYVsgMSBdID09IG51bGwgfHwgaHNsYVsgMiBdID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFsgbnVsbCwgbnVsbCwgbnVsbCwgaHNsYVsgMyBdIF07XG5cdH1cblx0dmFyIGggPSBoc2xhWyAwIF0gLyAzNjAsXG5cdFx0cyA9IGhzbGFbIDEgXSxcblx0XHRsID0gaHNsYVsgMiBdLFxuXHRcdGEgPSBoc2xhWyAzIF0sXG5cdFx0cSA9IGwgPD0gMC41ID8gbCAqICggMSArIHMgKSA6IGwgKyBzIC0gbCAqIHMsXG5cdFx0cCA9IDIgKiBsIC0gcTtcblxuXHRyZXR1cm4gW1xuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggKyAoIDEgLyAzICkgKSAqIDI1NSApLFxuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggKSAqIDI1NSApLFxuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggLSAoIDEgLyAzICkgKSAqIDI1NSApLFxuXHRcdGFcblx0XTtcbn07XG5cbmVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdHZhciBwcm9wcyA9IHNwYWNlLnByb3BzLFxuXHRcdGNhY2hlID0gc3BhY2UuY2FjaGUsXG5cdFx0dG8gPSBzcGFjZS50byxcblx0XHRmcm9tID0gc3BhY2UuZnJvbTtcblxuXHQvLyBNYWtlcyByZ2JhKCkgYW5kIGhzbGEoKVxuXHRjb2xvci5mblsgc3BhY2VOYW1lIF0gPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cblx0XHQvLyBHZW5lcmF0ZSBhIGNhY2hlIGZvciB0aGlzIHNwYWNlIGlmIGl0IGRvZXNuJ3QgZXhpc3Rcblx0XHRpZiAoIHRvICYmICF0aGlzWyBjYWNoZSBdICkge1xuXHRcdFx0dGhpc1sgY2FjaGUgXSA9IHRvKCB0aGlzLl9yZ2JhICk7XG5cdFx0fVxuXHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzWyBjYWNoZSBdLnNsaWNlKCk7XG5cdFx0fVxuXG5cdFx0dmFyIHJldCxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKSxcblx0XHRcdGFyciA9ICggdHlwZSA9PT0gXCJhcnJheVwiIHx8IHR5cGUgPT09IFwib2JqZWN0XCIgKSA/IHZhbHVlIDogYXJndW1lbnRzLFxuXHRcdFx0bG9jYWwgPSB0aGlzWyBjYWNoZSBdLnNsaWNlKCk7XG5cblx0XHRlYWNoKCBwcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblx0XHRcdHZhciB2YWwgPSBhcnJbIHR5cGUgPT09IFwib2JqZWN0XCIgPyBrZXkgOiBwcm9wLmlkeCBdO1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gbG9jYWxbIHByb3AuaWR4IF07XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFsgcHJvcC5pZHggXSA9IGNsYW1wKCB2YWwsIHByb3AgKTtcblx0XHR9ICk7XG5cblx0XHRpZiAoIGZyb20gKSB7XG5cdFx0XHRyZXQgPSBjb2xvciggZnJvbSggbG9jYWwgKSApO1xuXHRcdFx0cmV0WyBjYWNoZSBdID0gbG9jYWw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gY29sb3IoIGxvY2FsICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIE1ha2VzIHJlZCgpIGdyZWVuKCkgYmx1ZSgpIGFscGhhKCkgaHVlKCkgc2F0dXJhdGlvbigpIGxpZ2h0bmVzcygpXG5cdGVhY2goIHByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXG5cdFx0Ly8gQWxwaGEgaXMgaW5jbHVkZWQgaW4gbW9yZSB0aGFuIG9uZSBzcGFjZVxuXHRcdGlmICggY29sb3IuZm5bIGtleSBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb2xvci5mblsga2V5IF0gPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgdnR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKSxcblx0XHRcdFx0Zm4gPSAoIGtleSA9PT0gXCJhbHBoYVwiID8gKCB0aGlzLl9oc2xhID8gXCJoc2xhXCIgOiBcInJnYmFcIiApIDogc3BhY2VOYW1lICksXG5cdFx0XHRcdGxvY2FsID0gdGhpc1sgZm4gXSgpLFxuXHRcdFx0XHRjdXIgPSBsb2NhbFsgcHJvcC5pZHggXSxcblx0XHRcdFx0bWF0Y2g7XG5cblx0XHRcdGlmICggdnR5cGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdnR5cGUgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5jYWxsKCB0aGlzLCBjdXIgKTtcblx0XHRcdFx0dnR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCAmJiBwcm9wLmVtcHR5ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdGlmICggdnR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdG1hdGNoID0gcnBsdXNlcXVhbHMuZXhlYyggdmFsdWUgKTtcblx0XHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGN1ciArIHBhcnNlRmxvYXQoIG1hdGNoWyAyIF0gKSAqICggbWF0Y2hbIDEgXSA9PT0gXCIrXCIgPyAxIDogLTEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bG9jYWxbIHByb3AuaWR4IF0gPSB2YWx1ZTtcblx0XHRcdHJldHVybiB0aGlzWyBmbiBdKCBsb2NhbCApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuLy8gQWRkIGNzc0hvb2sgYW5kIC5meC5zdGVwIGZ1bmN0aW9uIGZvciBlYWNoIG5hbWVkIGhvb2suXG4vLyBhY2NlcHQgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIHByb3BlcnRpZXNcbmNvbG9yLmhvb2sgPSBmdW5jdGlvbiggaG9vayApIHtcblx0dmFyIGhvb2tzID0gaG9vay5zcGxpdCggXCIgXCIgKTtcblx0ZWFjaCggaG9va3MsIGZ1bmN0aW9uKCBpLCBob29rICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgaG9vayBdID0ge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBwYXJzZWQsIGN1ckVsZW0sXG5cdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yID0gXCJcIjtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9PSBcInRyYW5zcGFyZW50XCIgJiYgKCBqUXVlcnkudHlwZSggdmFsdWUgKSAhPT0gXCJzdHJpbmdcIiB8fFxuXHRcdFx0XHRcdFx0KCBwYXJzZWQgPSBzdHJpbmdQYXJzZSggdmFsdWUgKSApICkgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjb2xvciggcGFyc2VkIHx8IHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yZ2JhICYmIHZhbHVlLl9yZ2JhWyAzIF0gIT09IDEgKSB7XG5cdFx0XHRcdFx0XHRjdXJFbGVtID0gaG9vayA9PT0gXCJiYWNrZ3JvdW5kQ29sb3JcIiA/IGVsZW0ucGFyZW50Tm9kZSA6IGVsZW07XG5cdFx0XHRcdFx0XHR3aGlsZSAoXG5cdFx0XHRcdFx0XHRcdCggYmFja2dyb3VuZENvbG9yID09PSBcIlwiIHx8IGJhY2tncm91bmRDb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiICkgJiZcblx0XHRcdFx0XHRcdFx0Y3VyRWxlbSAmJiBjdXJFbGVtLnN0eWxlXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgPSBqUXVlcnkuY3NzKCBjdXJFbGVtLCBcImJhY2tncm91bmRDb2xvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0Y3VyRWxlbSA9IGN1ckVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5ibGVuZCggYmFja2dyb3VuZENvbG9yICYmIGJhY2tncm91bmRDb2xvciAhPT0gXCJ0cmFuc3BhcmVudFwiID9cblx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yIDpcblx0XHRcdFx0XHRcdFx0XCJfZGVmYXVsdFwiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b1JnYmFTdHJpbmcoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGVsZW0uc3R5bGVbIGhvb2sgXSA9IHZhbHVlO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vIFdyYXBwZWQgdG8gcHJldmVudCBJRSBmcm9tIHRocm93aW5nIGVycm9ycyBvbiBcImludmFsaWRcIiB2YWx1ZXMgbGlrZVxuXHRcdFx0XHRcdC8vICdhdXRvJyBvciAnaW5oZXJpdCdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0alF1ZXJ5LmZ4LnN0ZXBbIGhvb2sgXSA9IGZ1bmN0aW9uKCBmeCApIHtcblx0XHRcdGlmICggIWZ4LmNvbG9ySW5pdCApIHtcblx0XHRcdFx0Znguc3RhcnQgPSBjb2xvciggZnguZWxlbSwgaG9vayApO1xuXHRcdFx0XHRmeC5lbmQgPSBjb2xvciggZnguZW5kICk7XG5cdFx0XHRcdGZ4LmNvbG9ySW5pdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRqUXVlcnkuY3NzSG9va3NbIGhvb2sgXS5zZXQoIGZ4LmVsZW0sIGZ4LnN0YXJ0LnRyYW5zaXRpb24oIGZ4LmVuZCwgZngucG9zICkgKTtcblx0XHR9O1xuXHR9ICk7XG5cbn07XG5cbmNvbG9yLmhvb2soIHN0ZXBIb29rcyApO1xuXG5qUXVlcnkuY3NzSG9va3MuYm9yZGVyQ29sb3IgPSB7XG5cdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBleHBhbmRlZCA9IHt9O1xuXG5cdFx0ZWFjaCggWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwYXJ0ICkge1xuXHRcdFx0ZXhwYW5kZWRbIFwiYm9yZGVyXCIgKyBwYXJ0ICsgXCJDb2xvclwiIF0gPSB2YWx1ZTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHR9XG59O1xuXG4vLyBCYXNpYyBjb2xvciBuYW1lcyBvbmx5LlxuLy8gVXNhZ2Ugb2YgYW55IG9mIHRoZSBvdGhlciBjb2xvciBuYW1lcyByZXF1aXJlcyBhZGRpbmcgeW91cnNlbGYgb3IgaW5jbHVkaW5nXG4vLyBqcXVlcnkuY29sb3Iuc3ZnLW5hbWVzLmpzLlxuY29sb3JzID0galF1ZXJ5LkNvbG9yLm5hbWVzID0ge1xuXG5cdC8vIDQuMS4gQmFzaWMgY29sb3Iga2V5d29yZHNcblx0YXF1YTogXCIjMDBmZmZmXCIsXG5cdGJsYWNrOiBcIiMwMDAwMDBcIixcblx0Ymx1ZTogXCIjMDAwMGZmXCIsXG5cdGZ1Y2hzaWE6IFwiI2ZmMDBmZlwiLFxuXHRncmF5OiBcIiM4MDgwODBcIixcblx0Z3JlZW46IFwiIzAwODAwMFwiLFxuXHRsaW1lOiBcIiMwMGZmMDBcIixcblx0bWFyb29uOiBcIiM4MDAwMDBcIixcblx0bmF2eTogXCIjMDAwMDgwXCIsXG5cdG9saXZlOiBcIiM4MDgwMDBcIixcblx0cHVycGxlOiBcIiM4MDAwODBcIixcblx0cmVkOiBcIiNmZjAwMDBcIixcblx0c2lsdmVyOiBcIiNjMGMwYzBcIixcblx0dGVhbDogXCIjMDA4MDgwXCIsXG5cdHdoaXRlOiBcIiNmZmZmZmZcIixcblx0eWVsbG93OiBcIiNmZmZmMDBcIixcblxuXHQvLyA0LjIuMy4gXCJ0cmFuc3BhcmVudFwiIGNvbG9yIGtleXdvcmRcblx0dHJhbnNwYXJlbnQ6IFsgbnVsbCwgbnVsbCwgbnVsbCwgMCBdLFxuXG5cdF9kZWZhdWx0OiBcIiNmZmZmZmZcIlxufTtcblxufSApKCBqUXVlcnkgKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQ0xBU1MgQU5JTUFUSU9OUyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuKCBmdW5jdGlvbigpIHtcblxudmFyIGNsYXNzQW5pbWF0aW9uQWN0aW9ucyA9IFsgXCJhZGRcIiwgXCJyZW1vdmVcIiwgXCJ0b2dnbGVcIiBdLFxuXHRzaG9ydGhhbmRTdHlsZXMgPSB7XG5cdFx0Ym9yZGVyOiAxLFxuXHRcdGJvcmRlckJvdHRvbTogMSxcblx0XHRib3JkZXJDb2xvcjogMSxcblx0XHRib3JkZXJMZWZ0OiAxLFxuXHRcdGJvcmRlclJpZ2h0OiAxLFxuXHRcdGJvcmRlclRvcDogMSxcblx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRtYXJnaW46IDEsXG5cdFx0cGFkZGluZzogMVxuXHR9O1xuXG4kLmVhY2goXG5cdFsgXCJib3JkZXJMZWZ0U3R5bGVcIiwgXCJib3JkZXJSaWdodFN0eWxlXCIsIFwiYm9yZGVyQm90dG9tU3R5bGVcIiwgXCJib3JkZXJUb3BTdHlsZVwiIF0sXG5cdGZ1bmN0aW9uKCBfLCBwcm9wICkge1xuXHRcdCQuZnguc3RlcFsgcHJvcCBdID0gZnVuY3Rpb24oIGZ4ICkge1xuXHRcdFx0aWYgKCBmeC5lbmQgIT09IFwibm9uZVwiICYmICFmeC5zZXRBdHRyIHx8IGZ4LnBvcyA9PT0gMSAmJiAhZnguc2V0QXR0ciApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBmeC5lbGVtLCBwcm9wLCBmeC5lbmQgKTtcblx0XHRcdFx0Znguc2V0QXR0ciA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuKTtcblxuZnVuY3Rpb24gZ2V0RWxlbWVudFN0eWxlcyggZWxlbSApIHtcblx0dmFyIGtleSwgbGVuLFxuXHRcdHN0eWxlID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ID9cblx0XHRcdGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtLCBudWxsICkgOlxuXHRcdFx0ZWxlbS5jdXJyZW50U3R5bGUsXG5cdFx0c3R5bGVzID0ge307XG5cblx0aWYgKCBzdHlsZSAmJiBzdHlsZS5sZW5ndGggJiYgc3R5bGVbIDAgXSAmJiBzdHlsZVsgc3R5bGVbIDAgXSBdICkge1xuXHRcdGxlbiA9IHN0eWxlLmxlbmd0aDtcblx0XHR3aGlsZSAoIGxlbi0tICkge1xuXHRcdFx0a2V5ID0gc3R5bGVbIGxlbiBdO1xuXHRcdFx0aWYgKCB0eXBlb2Ygc3R5bGVbIGtleSBdID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRzdHlsZXNbICQuY2FtZWxDYXNlKCBrZXkgKSBdID0gc3R5bGVbIGtleSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHQvLyBTdXBwb3J0OiBPcGVyYSwgSUUgPDlcblx0fSBlbHNlIHtcblx0XHRmb3IgKCBrZXkgaW4gc3R5bGUgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBzdHlsZVsga2V5IF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHN0eWxlc1sga2V5IF0gPSBzdHlsZVsga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gc3R5bGVEaWZmZXJlbmNlKCBvbGRTdHlsZSwgbmV3U3R5bGUgKSB7XG5cdHZhciBkaWZmID0ge30sXG5cdFx0bmFtZSwgdmFsdWU7XG5cblx0Zm9yICggbmFtZSBpbiBuZXdTdHlsZSApIHtcblx0XHR2YWx1ZSA9IG5ld1N0eWxlWyBuYW1lIF07XG5cdFx0aWYgKCBvbGRTdHlsZVsgbmFtZSBdICE9PSB2YWx1ZSApIHtcblx0XHRcdGlmICggIXNob3J0aGFuZFN0eWxlc1sgbmFtZSBdICkge1xuXHRcdFx0XHRpZiAoICQuZnguc3RlcFsgbmFtZSBdIHx8ICFpc05hTiggcGFyc2VGbG9hdCggdmFsdWUgKSApICkge1xuXHRcdFx0XHRcdGRpZmZbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRpZmY7XG59XG5cbi8vIFN1cHBvcnQ6IGpRdWVyeSA8MS44XG5pZiAoICEkLmZuLmFkZEJhY2sgKSB7XG5cdCQuZm4uYWRkQmFjayA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH07XG59XG5cbiQuZWZmZWN0cy5hbmltYXRlQ2xhc3MgPSBmdW5jdGlvbiggdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHR2YXIgbyA9ICQuc3BlZWQoIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhbmltYXRlZCA9ICQoIHRoaXMgKSxcblx0XHRcdGJhc2VDbGFzcyA9IGFuaW1hdGVkLmF0dHIoIFwiY2xhc3NcIiApIHx8IFwiXCIsXG5cdFx0XHRhcHBseUNsYXNzQ2hhbmdlLFxuXHRcdFx0YWxsQW5pbWF0aW9ucyA9IG8uY2hpbGRyZW4gPyBhbmltYXRlZC5maW5kKCBcIipcIiApLmFkZEJhY2soKSA6IGFuaW1hdGVkO1xuXG5cdFx0Ly8gTWFwIHRoZSBhbmltYXRlZCBvYmplY3RzIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBzdHlsZXMuXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbCA9ICQoIHRoaXMgKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVsOiBlbCxcblx0XHRcdFx0c3RhcnQ6IGdldEVsZW1lbnRTdHlsZXMoIHRoaXMgKVxuXHRcdFx0fTtcblx0XHR9ICk7XG5cblx0XHQvLyBBcHBseSBjbGFzcyBjaGFuZ2Vcblx0XHRhcHBseUNsYXNzQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkLmVhY2goIGNsYXNzQW5pbWF0aW9uQWN0aW9ucywgZnVuY3Rpb24oIGksIGFjdGlvbiApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZVsgYWN0aW9uIF0gKSB7XG5cdFx0XHRcdFx0YW5pbWF0ZWRbIGFjdGlvbiArIFwiQ2xhc3NcIiBdKCB2YWx1ZVsgYWN0aW9uIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH07XG5cdFx0YXBwbHlDbGFzc0NoYW5nZSgpO1xuXG5cdFx0Ly8gTWFwIGFsbCBhbmltYXRlZCBvYmplY3RzIGFnYWluIC0gY2FsY3VsYXRlIG5ldyBzdHlsZXMgYW5kIGRpZmZcblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5lbmQgPSBnZXRFbGVtZW50U3R5bGVzKCB0aGlzLmVsWyAwIF0gKTtcblx0XHRcdHRoaXMuZGlmZiA9IHN0eWxlRGlmZmVyZW5jZSggdGhpcy5zdGFydCwgdGhpcy5lbmQgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0gKTtcblxuXHRcdC8vIEFwcGx5IG9yaWdpbmFsIGNsYXNzXG5cdFx0YW5pbWF0ZWQuYXR0ciggXCJjbGFzc1wiLCBiYXNlQ2xhc3MgKTtcblxuXHRcdC8vIE1hcCBhbGwgYW5pbWF0ZWQgb2JqZWN0cyBhZ2FpbiAtIHRoaXMgdGltZSBjb2xsZWN0aW5nIGEgcHJvbWlzZVxuXHRcdGFsbEFuaW1hdGlvbnMgPSBhbGxBbmltYXRpb25zLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc3R5bGVJbmZvID0gdGhpcyxcblx0XHRcdFx0ZGZkID0gJC5EZWZlcnJlZCgpLFxuXHRcdFx0XHRvcHRzID0gJC5leHRlbmQoIHt9LCBvLCB7XG5cdFx0XHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRmZC5yZXNvbHZlKCBzdHlsZUluZm8gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5lbC5hbmltYXRlKCB0aGlzLmRpZmYsIG9wdHMgKTtcblx0XHRcdHJldHVybiBkZmQucHJvbWlzZSgpO1xuXHRcdH0gKTtcblxuXHRcdC8vIE9uY2UgYWxsIGFuaW1hdGlvbnMgaGF2ZSBjb21wbGV0ZWQ6XG5cdFx0JC53aGVuLmFwcGx5KCAkLCBhbGxBbmltYXRpb25zLmdldCgpICkuZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFNldCB0aGUgZmluYWwgY2xhc3Ncblx0XHRcdGFwcGx5Q2xhc3NDaGFuZ2UoKTtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggYW5pbWF0ZWQgZWxlbWVudCxcblx0XHRcdC8vIGNsZWFyIGFsbCBjc3MgcHJvcGVydGllcyB0aGF0IHdlcmUgYW5pbWF0ZWRcblx0XHRcdCQuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsID0gdGhpcy5lbDtcblx0XHRcdFx0JC5lYWNoKCB0aGlzLmRpZmYsIGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0ZWwuY3NzKCBrZXksIFwiXCIgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBUaGlzIGlzIGd1YXJudGVlZCB0byBiZSB0aGVyZSBpZiB5b3UgdXNlIGpRdWVyeS5zcGVlZCgpXG5cdFx0XHQvLyBpdCBhbHNvIGhhbmRsZXMgZGVxdWV1aW5nIHRoZSBuZXh0IGFuaW0uLi5cblx0XHRcdG8uY29tcGxldGUuY2FsbCggYW5pbWF0ZWRbIDAgXSApO1xuXHRcdH0gKTtcblx0fSApO1xufTtcblxuJC5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBzcGVlZCA/XG5cdFx0XHRcdCQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IGFkZDogY2xhc3NOYW1lcyB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIDpcblx0XHRcdFx0b3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSApKCAkLmZuLmFkZENsYXNzICksXG5cblx0cmVtb3ZlQ2xhc3M6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSA/XG5cdFx0XHRcdCQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IHJlbW92ZTogY2xhc3NOYW1lcyB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIDpcblx0XHRcdFx0b3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSApKCAkLmZuLnJlbW92ZUNsYXNzICksXG5cblx0dG9nZ2xlQ2xhc3M6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBmb3JjZSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBmb3JjZSA9PT0gXCJib29sZWFuXCIgfHwgZm9yY2UgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0aWYgKCAhc3BlZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBXaXRob3V0IHNwZWVkIHBhcmFtZXRlclxuXHRcdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gJC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdFx0KCBmb3JjZSA/IHsgYWRkOiBjbGFzc05hbWVzIH0gOiB7IHJlbW92ZTogY2xhc3NOYW1lcyB9ICksXG5cdFx0XHRcdFx0XHRzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFdpdGhvdXQgZm9yY2UgcGFyYW1ldGVyXG5cdFx0XHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0eyB0b2dnbGU6IGNsYXNzTmFtZXMgfSwgZm9yY2UsIHNwZWVkLCBlYXNpbmcgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICkoICQuZm4udG9nZ2xlQ2xhc3MgKSxcblxuXHRzd2l0Y2hDbGFzczogZnVuY3Rpb24oIHJlbW92ZSwgYWRkLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gJC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLCB7XG5cdFx0XHRhZGQ6IGFkZCxcblx0XHRcdHJlbW92ZTogcmVtb3ZlXG5cdFx0fSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fVxufSApO1xuXG59ICkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFRkZFQ1RTICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4oIGZ1bmN0aW9uKCkge1xuXG5pZiAoICQuZXhwciAmJiAkLmV4cHIuZmlsdGVycyAmJiAkLmV4cHIuZmlsdGVycy5hbmltYXRlZCApIHtcblx0JC5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhISQoIGVsZW0gKS5kYXRhKCBkYXRhU3BhY2VBbmltYXRlZCApIHx8IG9yaWcoIGVsZW0gKTtcblx0XHR9O1xuXHR9ICkoICQuZXhwci5maWx0ZXJzLmFuaW1hdGVkICk7XG59XG5cbmlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICkge1xuXHQkLmV4dGVuZCggJC5lZmZlY3RzLCB7XG5cblx0XHQvLyBTYXZlcyBhIHNldCBvZiBwcm9wZXJ0aWVzIGluIGEgZGF0YSBzdG9yYWdlXG5cdFx0c2F2ZTogZnVuY3Rpb24oIGVsZW1lbnQsIHNldCApIHtcblx0XHRcdHZhciBpID0gMCwgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHNldFsgaSBdICE9PSBudWxsICkge1xuXHRcdFx0XHRcdGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlICsgc2V0WyBpIF0sIGVsZW1lbnRbIDAgXS5zdHlsZVsgc2V0WyBpIF0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIFJlc3RvcmVzIGEgc2V0IG9mIHByZXZpb3VzbHkgc2F2ZWQgcHJvcGVydGllcyBmcm9tIGEgZGF0YSBzdG9yYWdlXG5cdFx0cmVzdG9yZTogZnVuY3Rpb24oIGVsZW1lbnQsIHNldCApIHtcblx0XHRcdHZhciB2YWwsIGkgPSAwLCBsZW5ndGggPSBzZXQubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggc2V0WyBpIF0gIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0dmFsID0gZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBzZXRbIGkgXSApO1xuXHRcdFx0XHRcdGVsZW1lbnQuY3NzKCBzZXRbIGkgXSwgdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0TW9kZTogZnVuY3Rpb24oIGVsLCBtb2RlICkge1xuXHRcdFx0aWYgKCBtb2RlID09PSBcInRvZ2dsZVwiICkge1xuXHRcdFx0XHRtb2RlID0gZWwuaXMoIFwiOmhpZGRlblwiICkgPyBcInNob3dcIiA6IFwiaGlkZVwiO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1vZGU7XG5cdFx0fSxcblxuXHRcdC8vIFdyYXBzIHRoZSBlbGVtZW50IGFyb3VuZCBhIHdyYXBwZXIgdGhhdCBjb3BpZXMgcG9zaXRpb24gcHJvcGVydGllc1xuXHRcdGNyZWF0ZVdyYXBwZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IHdyYXBwZWQsIHJldHVybiBpdFxuXHRcdFx0aWYgKCBlbGVtZW50LnBhcmVudCgpLmlzKCBcIi51aS1lZmZlY3RzLXdyYXBwZXJcIiApICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudC5wYXJlbnQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV3JhcCB0aGUgZWxlbWVudFxuXHRcdFx0dmFyIHByb3BzID0ge1xuXHRcdFx0XHRcdHdpZHRoOiBlbGVtZW50Lm91dGVyV2lkdGgoIHRydWUgKSxcblx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQub3V0ZXJIZWlnaHQoIHRydWUgKSxcblx0XHRcdFx0XHRcImZsb2F0XCI6IGVsZW1lbnQuY3NzKCBcImZsb2F0XCIgKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cmFwcGVyID0gJCggXCI8ZGl2PjwvZGl2PlwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZWZmZWN0cy13cmFwcGVyXCIgKVxuXHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcblx0XHRcdFx0XHRcdGJvcmRlcjogXCJub25lXCIsXG5cdFx0XHRcdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRcdFx0XHRwYWRkaW5nOiAwXG5cdFx0XHRcdFx0fSApLFxuXG5cdFx0XHRcdC8vIFN0b3JlIHRoZSBzaXplIGluIGNhc2Ugd2lkdGgvaGVpZ2h0IGFyZSBkZWZpbmVkIGluICUgLSBGaXhlcyAjNTI0NVxuXHRcdFx0XHRzaXplID0ge1xuXHRcdFx0XHRcdHdpZHRoOiBlbGVtZW50LndpZHRoKCksXG5cdFx0XHRcdFx0aGVpZ2h0OiBlbGVtZW50LmhlaWdodCgpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3hcblx0XHRcdC8vIEZpcmVmb3ggaW5jb3JyZWN0bHkgZXhwb3NlcyBhbm9ueW1vdXMgY29udGVudFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTYxNjY0XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhY3RpdmUuaWQ7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0YWN0aXZlID0gZG9jdW1lbnQuYm9keTtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbWVudC53cmFwKCB3cmFwcGVyICk7XG5cblx0XHRcdC8vIEZpeGVzICM3NTk1IC0gRWxlbWVudHMgbG9zZSBmb2N1cyB3aGVuIHdyYXBwZWQuXG5cdFx0XHRpZiAoIGVsZW1lbnRbIDAgXSA9PT0gYWN0aXZlIHx8ICQuY29udGFpbnMoIGVsZW1lbnRbIDAgXSwgYWN0aXZlICkgKSB7XG5cdFx0XHRcdCQoIGFjdGl2ZSApLnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb3RmaXggZm9yIGpRdWVyeSAxLjQgc2luY2Ugc29tZSBjaGFuZ2UgaW4gd3JhcCgpIHNlZW1zIHRvIGFjdHVhbGx5XG5cdFx0XHQvLyBsb3NlIHRoZSByZWZlcmVuY2UgdG8gdGhlIHdyYXBwZWQgZWxlbWVudFxuXHRcdFx0d3JhcHBlciA9IGVsZW1lbnQucGFyZW50KCk7XG5cblx0XHRcdC8vIFRyYW5zZmVyIHBvc2l0aW9uaW5nIHByb3BlcnRpZXMgdG8gdGhlIHdyYXBwZXJcblx0XHRcdGlmICggZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHR3cmFwcGVyLmNzcyggeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0gKTtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkLmV4dGVuZCggcHJvcHMsIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0XHRcdHpJbmRleDogZWxlbWVudC5jc3MoIFwiei1pbmRleFwiIClcblx0XHRcdFx0fSApO1xuXHRcdFx0XHQkLmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIsIFwiYm90dG9tXCIsIFwicmlnaHRcIiBdLCBmdW5jdGlvbiggaSwgcG9zICkge1xuXHRcdFx0XHRcdHByb3BzWyBwb3MgXSA9IGVsZW1lbnQuY3NzKCBwb3MgKTtcblx0XHRcdFx0XHRpZiAoIGlzTmFOKCBwYXJzZUludCggcHJvcHNbIHBvcyBdLCAxMCApICkgKSB7XG5cdFx0XHRcdFx0XHRwcm9wc1sgcG9zIF0gPSBcImF1dG9cIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdHJpZ2h0OiBcImF1dG9cIixcblx0XHRcdFx0XHRib3R0b206IFwiYXV0b1wiXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdGVsZW1lbnQuY3NzKCBzaXplICk7XG5cblx0XHRcdHJldHVybiB3cmFwcGVyLmNzcyggcHJvcHMgKS5zaG93KCk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZVdyYXBwZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dmFyIGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRcdGlmICggZWxlbWVudC5wYXJlbnQoKS5pcyggXCIudWktZWZmZWN0cy13cmFwcGVyXCIgKSApIHtcblx0XHRcdFx0ZWxlbWVudC5wYXJlbnQoKS5yZXBsYWNlV2l0aCggZWxlbWVudCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzICM3NTk1IC0gRWxlbWVudHMgbG9zZSBmb2N1cyB3aGVuIHdyYXBwZWQuXG5cdFx0XHRcdGlmICggZWxlbWVudFsgMCBdID09PSBhY3RpdmUgfHwgJC5jb250YWlucyggZWxlbWVudFsgMCBdLCBhY3RpdmUgKSApIHtcblx0XHRcdFx0XHQkKCBhY3RpdmUgKS50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHR9XG5cdH0gKTtcbn1cblxuJC5leHRlbmQoICQuZWZmZWN0cywge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXG5cdGRlZmluZTogZnVuY3Rpb24oIG5hbWUsIG1vZGUsIGVmZmVjdCApIHtcblx0XHRpZiAoICFlZmZlY3QgKSB7XG5cdFx0XHRlZmZlY3QgPSBtb2RlO1xuXHRcdFx0bW9kZSA9IFwiZWZmZWN0XCI7XG5cdFx0fVxuXG5cdFx0JC5lZmZlY3RzLmVmZmVjdFsgbmFtZSBdID0gZWZmZWN0O1xuXHRcdCQuZWZmZWN0cy5lZmZlY3RbIG5hbWUgXS5tb2RlID0gbW9kZTtcblxuXHRcdHJldHVybiBlZmZlY3Q7XG5cdH0sXG5cblx0c2NhbGVkRGltZW5zaW9uczogZnVuY3Rpb24oIGVsZW1lbnQsIHBlcmNlbnQsIGRpcmVjdGlvbiApIHtcblx0XHRpZiAoIHBlcmNlbnQgPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0XHRvdXRlckhlaWdodDogMCxcblx0XHRcdFx0b3V0ZXJXaWR0aDogMFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHR2YXIgeCA9IGRpcmVjdGlvbiAhPT0gXCJob3Jpem9udGFsXCIgPyAoICggcGVyY2VudCB8fCAxMDAgKSAvIDEwMCApIDogMSxcblx0XHRcdHkgPSBkaXJlY3Rpb24gIT09IFwidmVydGljYWxcIiA/ICggKCBwZXJjZW50IHx8IDEwMCApIC8gMTAwICkgOiAxO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlaWdodDogZWxlbWVudC5oZWlnaHQoKSAqIHksXG5cdFx0XHR3aWR0aDogZWxlbWVudC53aWR0aCgpICogeCxcblx0XHRcdG91dGVySGVpZ2h0OiBlbGVtZW50Lm91dGVySGVpZ2h0KCkgKiB5LFxuXHRcdFx0b3V0ZXJXaWR0aDogZWxlbWVudC5vdXRlcldpZHRoKCkgKiB4XG5cdFx0fTtcblxuXHR9LFxuXG5cdGNsaXBUb0JveDogZnVuY3Rpb24oIGFuaW1hdGlvbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGFuaW1hdGlvbi5jbGlwLnJpZ2h0IC0gYW5pbWF0aW9uLmNsaXAubGVmdCxcblx0XHRcdGhlaWdodDogYW5pbWF0aW9uLmNsaXAuYm90dG9tIC0gYW5pbWF0aW9uLmNsaXAudG9wLFxuXHRcdFx0bGVmdDogYW5pbWF0aW9uLmNsaXAubGVmdCxcblx0XHRcdHRvcDogYW5pbWF0aW9uLmNsaXAudG9wXG5cdFx0fTtcblx0fSxcblxuXHQvLyBJbmplY3RzIHJlY2VudGx5IHF1ZXVlZCBmdW5jdGlvbnMgdG8gYmUgZmlyc3QgaW4gbGluZSAoYWZ0ZXIgXCJpbnByb2dyZXNzXCIpXG5cdHVuc2hpZnQ6IGZ1bmN0aW9uKCBlbGVtZW50LCBxdWV1ZUxlbmd0aCwgY291bnQgKSB7XG5cdFx0dmFyIHF1ZXVlID0gZWxlbWVudC5xdWV1ZSgpO1xuXG5cdFx0aWYgKCBxdWV1ZUxlbmd0aCA+IDEgKSB7XG5cdFx0XHRxdWV1ZS5zcGxpY2UuYXBwbHkoIHF1ZXVlLFxuXHRcdFx0XHRbIDEsIDAgXS5jb25jYXQoIHF1ZXVlLnNwbGljZSggcXVldWVMZW5ndGgsIGNvdW50ICkgKSApO1xuXHRcdH1cblx0XHRlbGVtZW50LmRlcXVldWUoKTtcblx0fSxcblxuXHRzYXZlU3R5bGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlU3R5bGUsIGVsZW1lbnRbIDAgXS5zdHlsZS5jc3NUZXh0ICk7XG5cdH0sXG5cblx0cmVzdG9yZVN0eWxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRlbGVtZW50WyAwIF0uc3R5bGUuY3NzVGV4dCA9IGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlU3R5bGUgKSB8fCBcIlwiO1xuXHRcdGVsZW1lbnQucmVtb3ZlRGF0YSggZGF0YVNwYWNlU3R5bGUgKTtcblx0fSxcblxuXHRtb2RlOiBmdW5jdGlvbiggZWxlbWVudCwgbW9kZSApIHtcblx0XHR2YXIgaGlkZGVuID0gZWxlbWVudC5pcyggXCI6aGlkZGVuXCIgKTtcblxuXHRcdGlmICggbW9kZSA9PT0gXCJ0b2dnbGVcIiApIHtcblx0XHRcdG1vZGUgPSBoaWRkZW4gPyBcInNob3dcIiA6IFwiaGlkZVwiO1xuXHRcdH1cblx0XHRpZiAoIGhpZGRlbiA/IG1vZGUgPT09IFwiaGlkZVwiIDogbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0XHRtb2RlID0gXCJub25lXCI7XG5cdFx0fVxuXHRcdHJldHVybiBtb2RlO1xuXHR9LFxuXG5cdC8vIFRyYW5zbGF0ZXMgYSBbdG9wLGxlZnRdIGFycmF5IGludG8gYSBiYXNlbGluZSB2YWx1ZVxuXHRnZXRCYXNlbGluZTogZnVuY3Rpb24oIG9yaWdpbiwgb3JpZ2luYWwgKSB7XG5cdFx0dmFyIHksIHg7XG5cblx0XHRzd2l0Y2ggKCBvcmlnaW5bIDAgXSApIHtcblx0XHRjYXNlIFwidG9wXCI6XG5cdFx0XHR5ID0gMDtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtaWRkbGVcIjpcblx0XHRcdHkgPSAwLjU7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiYm90dG9tXCI6XG5cdFx0XHR5ID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR5ID0gb3JpZ2luWyAwIF0gLyBvcmlnaW5hbC5oZWlnaHQ7XG5cdFx0fVxuXG5cdFx0c3dpdGNoICggb3JpZ2luWyAxIF0gKSB7XG5cdFx0Y2FzZSBcImxlZnRcIjpcblx0XHRcdHggPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImNlbnRlclwiOlxuXHRcdFx0eCA9IDAuNTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJyaWdodFwiOlxuXHRcdFx0eCA9IDE7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0eCA9IG9yaWdpblsgMSBdIC8gb3JpZ2luYWwud2lkdGg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IHgsXG5cdFx0XHR5OiB5XG5cdFx0fTtcblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgcGxhY2Vob2xkZXIgZWxlbWVudCBzbyB0aGF0IHRoZSBvcmlnaW5hbCBlbGVtZW50IGNhbiBiZSBtYWRlIGFic29sdXRlXG5cdGNyZWF0ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgcGxhY2Vob2xkZXIsXG5cdFx0XHRjc3NQb3NpdGlvbiA9IGVsZW1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdHBvc2l0aW9uID0gZWxlbWVudC5wb3NpdGlvbigpO1xuXG5cdFx0Ly8gTG9jayBpbiBtYXJnaW5zIGZpcnN0IHRvIGFjY291bnQgZm9yIGZvcm0gZWxlbWVudHMsIHdoaWNoXG5cdFx0Ly8gd2lsbCBjaGFuZ2UgbWFyZ2luIGlmIHlvdSBleHBsaWNpdGx5IHNldCBoZWlnaHRcblx0XHQvLyBzZWU6IGh0dHA6Ly9qc2ZpZGRsZS5uZXQvSlpTTXQvMy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEwNzM4MFxuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaVxuXHRcdGVsZW1lbnQuY3NzKCB7XG5cdFx0XHRtYXJnaW5Ub3A6IGVsZW1lbnQuY3NzKCBcIm1hcmdpblRvcFwiICksXG5cdFx0XHRtYXJnaW5Cb3R0b206IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkJvdHRvbVwiICksXG5cdFx0XHRtYXJnaW5MZWZ0OiBlbGVtZW50LmNzcyggXCJtYXJnaW5MZWZ0XCIgKSxcblx0XHRcdG1hcmdpblJpZ2h0OiBlbGVtZW50LmNzcyggXCJtYXJnaW5SaWdodFwiIClcblx0XHR9IClcblx0XHQub3V0ZXJXaWR0aCggZWxlbWVudC5vdXRlcldpZHRoKCkgKVxuXHRcdC5vdXRlckhlaWdodCggZWxlbWVudC5vdXRlckhlaWdodCgpICk7XG5cblx0XHRpZiAoIC9eKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QoIGNzc1Bvc2l0aW9uICkgKSB7XG5cdFx0XHRjc3NQb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblxuXHRcdFx0cGxhY2Vob2xkZXIgPSAkKCBcIjxcIiArIGVsZW1lbnRbIDAgXS5ub2RlTmFtZSArIFwiPlwiICkuaW5zZXJ0QWZ0ZXIoIGVsZW1lbnQgKS5jc3MoIHtcblxuXHRcdFx0XHQvLyBDb252ZXJ0IGlubGluZSB0byBpbmxpbmUgYmxvY2sgdG8gYWNjb3VudCBmb3IgaW5saW5lIGVsZW1lbnRzXG5cdFx0XHRcdC8vIHRoYXQgdHVybiB0byBpbmxpbmUgYmxvY2sgYmFzZWQgb24gY29udGVudCAobGlrZSBpbWcpXG5cdFx0XHRcdGRpc3BsYXk6IC9eKGlubGluZXxydWJ5KS8udGVzdCggZWxlbWVudC5jc3MoIFwiZGlzcGxheVwiICkgKSA/XG5cdFx0XHRcdFx0XCJpbmxpbmUtYmxvY2tcIiA6XG5cdFx0XHRcdFx0XCJibG9ja1wiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuXG5cdFx0XHRcdC8vIE1hcmdpbnMgbmVlZCB0byBiZSBzZXQgdG8gYWNjb3VudCBmb3IgbWFyZ2luIGNvbGxhcHNlXG5cdFx0XHRcdG1hcmdpblRvcDogZWxlbWVudC5jc3MoIFwibWFyZ2luVG9wXCIgKSxcblx0XHRcdFx0bWFyZ2luQm90dG9tOiBlbGVtZW50LmNzcyggXCJtYXJnaW5Cb3R0b21cIiApLFxuXHRcdFx0XHRtYXJnaW5MZWZ0OiBlbGVtZW50LmNzcyggXCJtYXJnaW5MZWZ0XCIgKSxcblx0XHRcdFx0bWFyZ2luUmlnaHQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpblJpZ2h0XCIgKSxcblx0XHRcdFx0XCJmbG9hdFwiOiBlbGVtZW50LmNzcyggXCJmbG9hdFwiIClcblx0XHRcdH0gKVxuXHRcdFx0Lm91dGVyV2lkdGgoIGVsZW1lbnQub3V0ZXJXaWR0aCgpIClcblx0XHRcdC5vdXRlckhlaWdodCggZWxlbWVudC5vdXRlckhlaWdodCgpIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1lZmZlY3RzLXBsYWNlaG9sZGVyXCIgKTtcblxuXHRcdFx0ZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBcInBsYWNlaG9sZGVyXCIsIHBsYWNlaG9sZGVyICk7XG5cdFx0fVxuXG5cdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdHBvc2l0aW9uOiBjc3NQb3NpdGlvbixcblx0XHRcdGxlZnQ6IHBvc2l0aW9uLmxlZnQsXG5cdFx0XHR0b3A6IHBvc2l0aW9uLnRvcFxuXHRcdH0gKTtcblxuXHRcdHJldHVybiBwbGFjZWhvbGRlcjtcblx0fSxcblxuXHRyZW1vdmVQbGFjZWhvbGRlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIGRhdGFLZXkgPSBkYXRhU3BhY2UgKyBcInBsYWNlaG9sZGVyXCIsXG5cdFx0XHRcdHBsYWNlaG9sZGVyID0gZWxlbWVudC5kYXRhKCBkYXRhS2V5ICk7XG5cblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIucmVtb3ZlKCk7XG5cdFx0XHRlbGVtZW50LnJlbW92ZURhdGEoIGRhdGFLZXkgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gUmVtb3ZlcyBhIHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0cyBhbmQgcmVzdG9yZXNcblx0Ly8gcHJvcGVydGllcyB0aGF0IHdlcmUgbW9kaWZpZWQgZHVyaW5nIHBsYWNlaG9sZGVyIGNyZWF0aW9uXG5cdGNsZWFuVXA6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdCQuZWZmZWN0cy5yZXN0b3JlU3R5bGUoIGVsZW1lbnQgKTtcblx0XHQkLmVmZmVjdHMucmVtb3ZlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblx0fSxcblxuXHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiggZWxlbWVudCwgbGlzdCwgZmFjdG9yLCB2YWx1ZSApIHtcblx0XHR2YWx1ZSA9IHZhbHVlIHx8IHt9O1xuXHRcdCQuZWFjaCggbGlzdCwgZnVuY3Rpb24oIGksIHggKSB7XG5cdFx0XHR2YXIgdW5pdCA9IGVsZW1lbnQuY3NzVW5pdCggeCApO1xuXHRcdFx0aWYgKCB1bml0WyAwIF0gPiAwICkge1xuXHRcdFx0XHR2YWx1ZVsgeCBdID0gdW5pdFsgMCBdICogZmFjdG9yICsgdW5pdFsgMSBdO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cbn0gKTtcblxuLy8gUmV0dXJuIGFuIGVmZmVjdCBvcHRpb25zIG9iamVjdCBmb3IgdGhlIGdpdmVuIHBhcmFtZXRlcnM6XG5mdW5jdGlvbiBfbm9ybWFsaXplQXJndW1lbnRzKCBlZmZlY3QsIG9wdGlvbnMsIHNwZWVkLCBjYWxsYmFjayApIHtcblxuXHQvLyBBbGxvdyBwYXNzaW5nIGFsbCBvcHRpb25zIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcblx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIGVmZmVjdCApICkge1xuXHRcdG9wdGlvbnMgPSBlZmZlY3Q7XG5cdFx0ZWZmZWN0ID0gZWZmZWN0LmVmZmVjdDtcblx0fVxuXG5cdC8vIENvbnZlcnQgdG8gYW4gb2JqZWN0XG5cdGVmZmVjdCA9IHsgZWZmZWN0OiBlZmZlY3QgfTtcblxuXHQvLyBDYXRjaCAoZWZmZWN0LCBudWxsLCAuLi4pXG5cdGlmICggb3B0aW9ucyA9PSBudWxsICkge1xuXHRcdG9wdGlvbnMgPSB7fTtcblx0fVxuXG5cdC8vIENhdGNoIChlZmZlY3QsIGNhbGxiYWNrKVxuXHRpZiAoICQuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXHRcdGNhbGxiYWNrID0gb3B0aW9ucztcblx0XHRzcGVlZCA9IG51bGw7XG5cdFx0b3B0aW9ucyA9IHt9O1xuXHR9XG5cblx0Ly8gQ2F0Y2ggKGVmZmVjdCwgc3BlZWQsID8pXG5cdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgfHwgJC5meC5zcGVlZHNbIG9wdGlvbnMgXSApIHtcblx0XHRjYWxsYmFjayA9IHNwZWVkO1xuXHRcdHNwZWVkID0gb3B0aW9ucztcblx0XHRvcHRpb25zID0ge307XG5cdH1cblxuXHQvLyBDYXRjaCAoZWZmZWN0LCBvcHRpb25zLCBjYWxsYmFjaylcblx0aWYgKCAkLmlzRnVuY3Rpb24oIHNwZWVkICkgKSB7XG5cdFx0Y2FsbGJhY2sgPSBzcGVlZDtcblx0XHRzcGVlZCA9IG51bGw7XG5cdH1cblxuXHQvLyBBZGQgb3B0aW9ucyB0byBlZmZlY3Rcblx0aWYgKCBvcHRpb25zICkge1xuXHRcdCQuZXh0ZW5kKCBlZmZlY3QsIG9wdGlvbnMgKTtcblx0fVxuXG5cdHNwZWVkID0gc3BlZWQgfHwgb3B0aW9ucy5kdXJhdGlvbjtcblx0ZWZmZWN0LmR1cmF0aW9uID0gJC5meC5vZmYgPyAwIDpcblx0XHR0eXBlb2Ygc3BlZWQgPT09IFwibnVtYmVyXCIgPyBzcGVlZCA6XG5cdFx0c3BlZWQgaW4gJC5meC5zcGVlZHMgPyAkLmZ4LnNwZWVkc1sgc3BlZWQgXSA6XG5cdFx0JC5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0ZWZmZWN0LmNvbXBsZXRlID0gY2FsbGJhY2sgfHwgb3B0aW9ucy5jb21wbGV0ZTtcblxuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG5mdW5jdGlvbiBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkge1xuXG5cdC8vIFZhbGlkIHN0YW5kYXJkIHNwZWVkcyAobm90aGluZywgbnVtYmVyLCBuYW1lZCBzcGVlZClcblx0aWYgKCAhb3B0aW9uIHx8IHR5cGVvZiBvcHRpb24gPT09IFwibnVtYmVyXCIgfHwgJC5meC5zcGVlZHNbIG9wdGlvbiBdICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSW52YWxpZCBzdHJpbmdzIC0gdHJlYXQgYXMgXCJub3JtYWxcIiBzcGVlZFxuXHRpZiAoIHR5cGVvZiBvcHRpb24gPT09IFwic3RyaW5nXCIgJiYgISQuZWZmZWN0cy5lZmZlY3RbIG9wdGlvbiBdICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gQ29tcGxldGUgY2FsbGJhY2tcblx0aWYgKCAkLmlzRnVuY3Rpb24oIG9wdGlvbiApICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gT3B0aW9ucyBoYXNoIChidXQgbm90IG5hbWluZyBhbiBlZmZlY3QpXG5cdGlmICggdHlwZW9mIG9wdGlvbiA9PT0gXCJvYmplY3RcIiAmJiAhb3B0aW9uLmVmZmVjdCApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIERpZG4ndCBtYXRjaCBhbnkgc3RhbmRhcmQgQVBJXG5cdHJldHVybiBmYWxzZTtcbn1cblxuJC5mbi5leHRlbmQoIHtcblx0ZWZmZWN0OiBmdW5jdGlvbiggLyogZWZmZWN0LCBvcHRpb25zLCBzcGVlZCwgY2FsbGJhY2sgKi8gKSB7XG5cdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSxcblx0XHRcdGVmZmVjdE1ldGhvZCA9ICQuZWZmZWN0cy5lZmZlY3RbIGFyZ3MuZWZmZWN0IF0sXG5cdFx0XHRkZWZhdWx0TW9kZSA9IGVmZmVjdE1ldGhvZC5tb2RlLFxuXHRcdFx0cXVldWUgPSBhcmdzLnF1ZXVlLFxuXHRcdFx0cXVldWVOYW1lID0gcXVldWUgfHwgXCJmeFwiLFxuXHRcdFx0Y29tcGxldGUgPSBhcmdzLmNvbXBsZXRlLFxuXHRcdFx0bW9kZSA9IGFyZ3MubW9kZSxcblx0XHRcdG1vZGVzID0gW10sXG5cdFx0XHRwcmVmaWx0ZXIgPSBmdW5jdGlvbiggbmV4dCApIHtcblx0XHRcdFx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdG5vcm1hbGl6ZWRNb2RlID0gJC5lZmZlY3RzLm1vZGUoIGVsLCBtb2RlICkgfHwgZGVmYXVsdE1vZGU7XG5cblx0XHRcdFx0Ly8gU2VudGluZWwgZm9yIGR1Y2stcHVuY2hpbmcgdGhlIDphbmltYXRlZCBwc3VlZG8tc2VsZWN0b3Jcblx0XHRcdFx0ZWwuZGF0YSggZGF0YVNwYWNlQW5pbWF0ZWQsIHRydWUgKTtcblxuXHRcdFx0XHQvLyBTYXZlIGVmZmVjdCBtb2RlIGZvciBsYXRlciB1c2UsXG5cdFx0XHRcdC8vIHdlIGNhbid0IGp1c3QgY2FsbCAkLmVmZmVjdHMubW9kZSBhZ2FpbiBsYXRlcixcblx0XHRcdFx0Ly8gYXMgdGhlIC5zaG93KCkgYmVsb3cgZGVzdHJveXMgdGhlIGluaXRpYWwgc3RhdGVcblx0XHRcdFx0bW9kZXMucHVzaCggbm9ybWFsaXplZE1vZGUgKTtcblxuXHRcdFx0XHQvLyBTZWUgJC51aUJhY2tDb21wYXQgaW5zaWRlIG9mIHJ1bigpIGZvciByZW1vdmFsIG9mIGRlZmF1bHRNb2RlIGluIDEuMTNcblx0XHRcdFx0aWYgKCBkZWZhdWx0TW9kZSAmJiAoIG5vcm1hbGl6ZWRNb2RlID09PSBcInNob3dcIiB8fFxuXHRcdFx0XHRcdFx0KCBub3JtYWxpemVkTW9kZSA9PT0gZGVmYXVsdE1vZGUgJiYgbm9ybWFsaXplZE1vZGUgPT09IFwiaGlkZVwiICkgKSApIHtcblx0XHRcdFx0XHRlbC5zaG93KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICFkZWZhdWx0TW9kZSB8fCBub3JtYWxpemVkTW9kZSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdFx0JC5lZmZlY3RzLnNhdmVTdHlsZSggZWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBuZXh0ICkgKSB7XG5cdFx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCAkLmZ4Lm9mZiB8fCAhZWZmZWN0TWV0aG9kICkge1xuXG5cdFx0XHQvLyBEZWxlZ2F0ZSB0byB0aGUgb3JpZ2luYWwgbWV0aG9kIChlLmcuLCAuc2hvdygpKSBpZiBwb3NzaWJsZVxuXHRcdFx0aWYgKCBtb2RlICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpc1sgbW9kZSBdKCBhcmdzLmR1cmF0aW9uLCBjb21wbGV0ZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZSApIHtcblx0XHRcdFx0XHRcdGNvbXBsZXRlLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBydW4oIG5leHQgKSB7XG5cdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXMgKTtcblxuXHRcdFx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVEYXRhKCBkYXRhU3BhY2VBbmltYXRlZCApO1xuXG5cdFx0XHRcdCQuZWZmZWN0cy5jbGVhblVwKCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBhcmdzLm1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdFx0XHRcdGVsZW0uaGlkZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBkb25lKCkge1xuXHRcdFx0XHRpZiAoICQuaXNGdW5jdGlvbiggY29tcGxldGUgKSApIHtcblx0XHRcdFx0XHRjb21wbGV0ZS5jYWxsKCBlbGVtWyAwIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBuZXh0ICkgKSB7XG5cdFx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE92ZXJyaWRlIG1vZGUgb3B0aW9uIG9uIGEgcGVyIGVsZW1lbnQgYmFzaXMsXG5cdFx0XHQvLyBhcyB0b2dnbGUgY2FuIGJlIGVpdGhlciBzaG93IG9yIGhpZGUgZGVwZW5kaW5nIG9uIGVsZW1lbnQgc3RhdGVcblx0XHRcdGFyZ3MubW9kZSA9IG1vZGVzLnNoaWZ0KCk7XG5cblx0XHRcdGlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICYmICFkZWZhdWx0TW9kZSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLmlzKCBcIjpoaWRkZW5cIiApID8gbW9kZSA9PT0gXCJoaWRlXCIgOiBtb2RlID09PSBcInNob3dcIiApIHtcblxuXHRcdFx0XHRcdC8vIENhbGwgdGhlIGNvcmUgbWV0aG9kIHRvIHRyYWNrIFwib2xkZGlzcGxheVwiIHByb3Blcmx5XG5cdFx0XHRcdFx0ZWxlbVsgbW9kZSBdKCk7XG5cdFx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVmZmVjdE1ldGhvZC5jYWxsKCBlbGVtWyAwIF0sIGFyZ3MsIGRvbmUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmdzLm1vZGUgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbCB0aGUgY29yZSBtZXRob2QgdG8gdHJhY2sgXCJvbGRkaXNwbGF5XCIgcHJvcGVybHlcblx0XHRcdFx0XHRlbGVtWyBtb2RlIF0oKTtcblx0XHRcdFx0XHRkb25lKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWZmZWN0TWV0aG9kLmNhbGwoIGVsZW1bIDAgXSwgYXJncywgY2xlYW51cCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUnVuIHByZWZpbHRlciBvbiBhbGwgZWxlbWVudHMgZmlyc3QgdG8gZW5zdXJlIHRoYXRcblx0XHQvLyBhbnkgc2hvd2luZyBvciBoaWRpbmcgaGFwcGVucyBiZWZvcmUgcGxhY2Vob2xkZXIgY3JlYXRpb24sXG5cdFx0Ly8gd2hpY2ggZW5zdXJlcyB0aGF0IGFueSBsYXlvdXQgY2hhbmdlcyBhcmUgY29ycmVjdGx5IGNhcHR1cmVkLlxuXHRcdHJldHVybiBxdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBwcmVmaWx0ZXIgKS5lYWNoKCBydW4gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBxdWV1ZU5hbWUsIHByZWZpbHRlciApLnF1ZXVlKCBxdWV1ZU5hbWUsIHJ1biApO1xuXHR9LFxuXG5cdHNob3c6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJzaG93XCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApKCAkLmZuLnNob3cgKSxcblxuXHRoaWRlOiAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9uICkge1xuXHRcdFx0aWYgKCBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGFyZ3MubW9kZSA9IFwiaGlkZVwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lZmZlY3QuY2FsbCggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gKSggJC5mbi5oaWRlICksXG5cblx0dG9nZ2xlOiAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9uICkge1xuXHRcdFx0aWYgKCBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkgfHwgdHlwZW9mIG9wdGlvbiA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGFyZ3MubW9kZSA9IFwidG9nZ2xlXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApKCAkLmZuLnRvZ2dsZSApLFxuXG5cdGNzc1VuaXQ6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0dmFyIHN0eWxlID0gdGhpcy5jc3MoIGtleSApLFxuXHRcdFx0dmFsID0gW107XG5cblx0XHQkLmVhY2goIFsgXCJlbVwiLCBcInB4XCIsIFwiJVwiLCBcInB0XCIgXSwgZnVuY3Rpb24oIGksIHVuaXQgKSB7XG5cdFx0XHRpZiAoIHN0eWxlLmluZGV4T2YoIHVuaXQgKSA+IDAgKSB7XG5cdFx0XHRcdHZhbCA9IFsgcGFyc2VGbG9hdCggc3R5bGUgKSwgdW5pdCBdO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gdmFsO1xuXHR9LFxuXG5cdGNzc0NsaXA6IGZ1bmN0aW9uKCBjbGlwT2JqICkge1xuXHRcdGlmICggY2xpcE9iaiApIHtcblx0XHRcdHJldHVybiB0aGlzLmNzcyggXCJjbGlwXCIsIFwicmVjdChcIiArIGNsaXBPYmoudG9wICsgXCJweCBcIiArIGNsaXBPYmoucmlnaHQgKyBcInB4IFwiICtcblx0XHRcdFx0Y2xpcE9iai5ib3R0b20gKyBcInB4IFwiICsgY2xpcE9iai5sZWZ0ICsgXCJweClcIiApO1xuXHRcdH1cblx0XHRyZXR1cm4gcGFyc2VDbGlwKCB0aGlzLmNzcyggXCJjbGlwXCIgKSwgdGhpcyApO1xuXHR9LFxuXG5cdHRyYW5zZmVyOiBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0XHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRcdHRhcmdldCA9ICQoIG9wdGlvbnMudG8gKSxcblx0XHRcdHRhcmdldEZpeGVkID0gdGFyZ2V0LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIixcblx0XHRcdGJvZHkgPSAkKCBcImJvZHlcIiApLFxuXHRcdFx0Zml4VG9wID0gdGFyZ2V0Rml4ZWQgPyBib2R5LnNjcm9sbFRvcCgpIDogMCxcblx0XHRcdGZpeExlZnQgPSB0YXJnZXRGaXhlZCA/IGJvZHkuc2Nyb2xsTGVmdCgpIDogMCxcblx0XHRcdGVuZFBvc2l0aW9uID0gdGFyZ2V0Lm9mZnNldCgpLFxuXHRcdFx0YW5pbWF0aW9uID0ge1xuXHRcdFx0XHR0b3A6IGVuZFBvc2l0aW9uLnRvcCAtIGZpeFRvcCxcblx0XHRcdFx0bGVmdDogZW5kUG9zaXRpb24ubGVmdCAtIGZpeExlZnQsXG5cdFx0XHRcdGhlaWdodDogdGFyZ2V0LmlubmVySGVpZ2h0KCksXG5cdFx0XHRcdHdpZHRoOiB0YXJnZXQuaW5uZXJXaWR0aCgpXG5cdFx0XHR9LFxuXHRcdFx0c3RhcnRQb3NpdGlvbiA9IGVsZW1lbnQub2Zmc2V0KCksXG5cdFx0XHR0cmFuc2ZlciA9ICQoIFwiPGRpdiBjbGFzcz0ndWktZWZmZWN0cy10cmFuc2Zlcic+PC9kaXY+XCIgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIFwiYm9keVwiIClcblx0XHRcdFx0LmFkZENsYXNzKCBvcHRpb25zLmNsYXNzTmFtZSApXG5cdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHR0b3A6IHN0YXJ0UG9zaXRpb24udG9wIC0gZml4VG9wLFxuXHRcdFx0XHRcdGxlZnQ6IHN0YXJ0UG9zaXRpb24ubGVmdCAtIGZpeExlZnQsXG5cdFx0XHRcdFx0aGVpZ2h0OiBlbGVtZW50LmlubmVySGVpZ2h0KCksXG5cdFx0XHRcdFx0d2lkdGg6IGVsZW1lbnQuaW5uZXJXaWR0aCgpLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiB0YXJnZXRGaXhlZCA/IFwiZml4ZWRcIiA6IFwiYWJzb2x1dGVcIlxuXHRcdFx0XHR9IClcblx0XHRcdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRyYW5zZmVyLnJlbW92ZSgpO1xuXHRcdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBkb25lICkgKSB7XG5cdFx0XHRcdFx0XHRkb25lKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdH1cbn0gKTtcblxuZnVuY3Rpb24gcGFyc2VDbGlwKCBzdHIsIGVsZW1lbnQgKSB7XG5cdFx0dmFyIG91dGVyV2lkdGggPSBlbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdG91dGVySGVpZ2h0ID0gZWxlbWVudC5vdXRlckhlaWdodCgpLFxuXHRcdFx0Y2xpcFJlZ2V4ID0gL15yZWN0XFwoKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKSw/XFxzKigtP1xcZCpcXC4/XFxkKnB4fC0/XFxkKyV8YXV0byksP1xccyooLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pLD9cXHMqKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKVxcKSQvLFxuXHRcdFx0dmFsdWVzID0gY2xpcFJlZ2V4LmV4ZWMoIHN0ciApIHx8IFsgXCJcIiwgMCwgb3V0ZXJXaWR0aCwgb3V0ZXJIZWlnaHQsIDAgXTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBhcnNlRmxvYXQoIHZhbHVlc1sgMSBdICkgfHwgMCxcblx0XHRcdHJpZ2h0OiB2YWx1ZXNbIDIgXSA9PT0gXCJhdXRvXCIgPyBvdXRlcldpZHRoIDogcGFyc2VGbG9hdCggdmFsdWVzWyAyIF0gKSxcblx0XHRcdGJvdHRvbTogdmFsdWVzWyAzIF0gPT09IFwiYXV0b1wiID8gb3V0ZXJIZWlnaHQgOiBwYXJzZUZsb2F0KCB2YWx1ZXNbIDMgXSApLFxuXHRcdFx0bGVmdDogcGFyc2VGbG9hdCggdmFsdWVzWyA0IF0gKSB8fCAwXG5cdFx0fTtcbn1cblxuJC5meC5zdGVwLmNsaXAgPSBmdW5jdGlvbiggZnggKSB7XG5cdGlmICggIWZ4LmNsaXBJbml0ICkge1xuXHRcdGZ4LnN0YXJ0ID0gJCggZnguZWxlbSApLmNzc0NsaXAoKTtcblx0XHRpZiAoIHR5cGVvZiBmeC5lbmQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmeC5lbmQgPSBwYXJzZUNsaXAoIGZ4LmVuZCwgZnguZWxlbSApO1xuXHRcdH1cblx0XHRmeC5jbGlwSW5pdCA9IHRydWU7XG5cdH1cblxuXHQkKCBmeC5lbGVtICkuY3NzQ2xpcCgge1xuXHRcdHRvcDogZngucG9zICogKCBmeC5lbmQudG9wIC0gZnguc3RhcnQudG9wICkgKyBmeC5zdGFydC50b3AsXG5cdFx0cmlnaHQ6IGZ4LnBvcyAqICggZnguZW5kLnJpZ2h0IC0gZnguc3RhcnQucmlnaHQgKSArIGZ4LnN0YXJ0LnJpZ2h0LFxuXHRcdGJvdHRvbTogZngucG9zICogKCBmeC5lbmQuYm90dG9tIC0gZnguc3RhcnQuYm90dG9tICkgKyBmeC5zdGFydC5ib3R0b20sXG5cdFx0bGVmdDogZngucG9zICogKCBmeC5lbmQubGVmdCAtIGZ4LnN0YXJ0LmxlZnQgKSArIGZ4LnN0YXJ0LmxlZnRcblx0fSApO1xufTtcblxufSApKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRUFTSU5HICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuKCBmdW5jdGlvbigpIHtcblxuLy8gQmFzZWQgb24gZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbnZhciBiYXNlRWFzaW5ncyA9IHt9O1xuXG4kLmVhY2goIFsgXCJRdWFkXCIsIFwiQ3ViaWNcIiwgXCJRdWFydFwiLCBcIlF1aW50XCIsIFwiRXhwb1wiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRiYXNlRWFzaW5nc1sgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIE1hdGgucG93KCBwLCBpICsgMiApO1xuXHR9O1xufSApO1xuXG4kLmV4dGVuZCggYmFzZUVhc2luZ3MsIHtcblx0U2luZTogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgLyAyICk7XG5cdH0sXG5cdENpcmM6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAxIC0gTWF0aC5zcXJ0KCAxIC0gcCAqIHAgKTtcblx0fSxcblx0RWxhc3RpYzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgPT09IDAgfHwgcCA9PT0gMSA/IHAgOlxuXHRcdFx0LU1hdGgucG93KCAyLCA4ICogKCBwIC0gMSApICkgKiBNYXRoLnNpbiggKCAoIHAgLSAxICkgKiA4MCAtIDcuNSApICogTWF0aC5QSSAvIDE1ICk7XG5cdH0sXG5cdEJhY2s6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwICogcCAqICggMyAqIHAgLSAyICk7XG5cdH0sXG5cdEJvdW5jZTogZnVuY3Rpb24oIHAgKSB7XG5cdFx0dmFyIHBvdzIsXG5cdFx0XHRib3VuY2UgPSA0O1xuXG5cdFx0d2hpbGUgKCBwIDwgKCAoIHBvdzIgPSBNYXRoLnBvdyggMiwgLS1ib3VuY2UgKSApIC0gMSApIC8gMTEgKSB7fVxuXHRcdHJldHVybiAxIC8gTWF0aC5wb3coIDQsIDMgLSBib3VuY2UgKSAtIDcuNTYyNSAqIE1hdGgucG93KCAoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSBwLCAyICk7XG5cdH1cbn0gKTtcblxuJC5lYWNoKCBiYXNlRWFzaW5ncywgZnVuY3Rpb24oIG5hbWUsIGVhc2VJbiApIHtcblx0JC5lYXNpbmdbIFwiZWFzZUluXCIgKyBuYW1lIF0gPSBlYXNlSW47XG5cdCQuZWFzaW5nWyBcImVhc2VPdXRcIiArIG5hbWUgXSA9IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAxIC0gZWFzZUluKCAxIC0gcCApO1xuXHR9O1xuXHQkLmVhc2luZ1sgXCJlYXNlSW5PdXRcIiArIG5hbWUgXSA9IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwIDwgMC41ID9cblx0XHRcdGVhc2VJbiggcCAqIDIgKSAvIDIgOlxuXHRcdFx0MSAtIGVhc2VJbiggcCAqIC0yICsgMiApIC8gMjtcblx0fTtcbn0gKTtcblxufSApKCk7XG5cbnZhciBlZmZlY3QgPSAkLmVmZmVjdHM7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBCbGluZCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQmxpbmQgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogQmxpbmRzIHRoZSBlbGVtZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2JsaW5kLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdEJsaW5kID0gJC5lZmZlY3RzLmRlZmluZSggXCJibGluZFwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBtYXAgPSB7XG5cdFx0XHR1cDogWyBcImJvdHRvbVwiLCBcInRvcFwiIF0sXG5cdFx0XHR2ZXJ0aWNhbDogWyBcImJvdHRvbVwiLCBcInRvcFwiIF0sXG5cdFx0XHRkb3duOiBbIFwidG9wXCIsIFwiYm90dG9tXCIgXSxcblx0XHRcdGxlZnQ6IFsgXCJyaWdodFwiLCBcImxlZnRcIiBdLFxuXHRcdFx0aG9yaXpvbnRhbDogWyBcInJpZ2h0XCIsIFwibGVmdFwiIF0sXG5cdFx0XHRyaWdodDogWyBcImxlZnRcIiwgXCJyaWdodFwiIF1cblx0XHR9LFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJ1cFwiLFxuXHRcdHN0YXJ0ID0gZWxlbWVudC5jc3NDbGlwKCksXG5cdFx0YW5pbWF0ZSA9IHsgY2xpcDogJC5leHRlbmQoIHt9LCBzdGFydCApIH0sXG5cdFx0cGxhY2Vob2xkZXIgPSAkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHRhbmltYXRlLmNsaXBbIG1hcFsgZGlyZWN0aW9uIF1bIDAgXSBdID0gYW5pbWF0ZS5jbGlwWyBtYXBbIGRpcmVjdGlvbiBdWyAxIF0gXTtcblxuXHRpZiAoIG9wdGlvbnMubW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0ZWxlbWVudC5jc3NDbGlwKCBhbmltYXRlLmNsaXAgKTtcblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIuY3NzKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRlICkgKTtcblx0XHR9XG5cblx0XHRhbmltYXRlLmNsaXAgPSBzdGFydDtcblx0fVxuXG5cdGlmICggcGxhY2Vob2xkZXIgKSB7XG5cdFx0cGxhY2Vob2xkZXIuYW5pbWF0ZSggJC5lZmZlY3RzLmNsaXBUb0JveCggYW5pbWF0ZSApLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApO1xuXHR9XG5cblx0ZWxlbWVudC5hbmltYXRlKCBhbmltYXRlLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgQm91bmNlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBCb3VuY2UgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogQm91bmNlcyBhbiBlbGVtZW50IGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5IG4gdGltZXMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYm91bmNlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdEJvdW5jZSA9ICQuZWZmZWN0cy5kZWZpbmUoIFwiYm91bmNlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgdXBBbmltLCBkb3duQW5pbSwgcmVmVmFsdWUsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblxuXHRcdC8vIERlZmF1bHRzOlxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcInVwXCIsXG5cdFx0ZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlLFxuXHRcdHRpbWVzID0gb3B0aW9ucy50aW1lcyB8fCA1LFxuXG5cdFx0Ly8gTnVtYmVyIG9mIGludGVybmFsIGFuaW1hdGlvbnNcblx0XHRhbmltcyA9IHRpbWVzICogMiArICggc2hvdyB8fCBoaWRlID8gMSA6IDAgKSxcblx0XHRzcGVlZCA9IG9wdGlvbnMuZHVyYXRpb24gLyBhbmltcyxcblx0XHRlYXNpbmcgPSBvcHRpb25zLmVhc2luZyxcblxuXHRcdC8vIFV0aWxpdHk6XG5cdFx0cmVmID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0bW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICksXG5cdFx0aSA9IDAsXG5cblx0XHRxdWV1ZWxlbiA9IGVsZW1lbnQucXVldWUoKS5sZW5ndGg7XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKCBlbGVtZW50ICk7XG5cblx0cmVmVmFsdWUgPSBlbGVtZW50LmNzcyggcmVmICk7XG5cblx0Ly8gRGVmYXVsdCBkaXN0YW5jZSBmb3IgdGhlIEJJR0dFU1QgYm91bmNlIGlzIHRoZSBvdXRlciBEaXN0YW5jZSAvIDNcblx0aWYgKCAhZGlzdGFuY2UgKSB7XG5cdFx0ZGlzdGFuY2UgPSBlbGVtZW50WyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCkgLyAzO1xuXHR9XG5cblx0aWYgKCBzaG93ICkge1xuXHRcdGRvd25BbmltID0geyBvcGFjaXR5OiAxIH07XG5cdFx0ZG93bkFuaW1bIHJlZiBdID0gcmVmVmFsdWU7XG5cblx0XHQvLyBJZiB3ZSBhcmUgc2hvd2luZywgZm9yY2Ugb3BhY2l0eSAwIGFuZCBzZXQgdGhlIGluaXRpYWwgcG9zaXRpb25cblx0XHQvLyB0aGVuIGRvIHRoZSBcImZpcnN0XCIgYW5pbWF0aW9uXG5cdFx0ZWxlbWVudFxuXHRcdFx0LmNzcyggXCJvcGFjaXR5XCIsIDAgKVxuXHRcdFx0LmNzcyggcmVmLCBtb3Rpb24gPyAtZGlzdGFuY2UgKiAyIDogZGlzdGFuY2UgKiAyIClcblx0XHRcdC5hbmltYXRlKCBkb3duQW5pbSwgc3BlZWQsIGVhc2luZyApO1xuXHR9XG5cblx0Ly8gU3RhcnQgYXQgdGhlIHNtYWxsZXN0IGRpc3RhbmNlIGlmIHdlIGFyZSBoaWRpbmdcblx0aWYgKCBoaWRlICkge1xuXHRcdGRpc3RhbmNlID0gZGlzdGFuY2UgLyBNYXRoLnBvdyggMiwgdGltZXMgLSAxICk7XG5cdH1cblxuXHRkb3duQW5pbSA9IHt9O1xuXHRkb3duQW5pbVsgcmVmIF0gPSByZWZWYWx1ZTtcblxuXHQvLyBCb3VuY2VzIHVwL2Rvd24vbGVmdC9yaWdodCB0aGVuIGJhY2sgdG8gMCAtLSB0aW1lcyAqIDIgYW5pbWF0aW9ucyBoYXBwZW4gaGVyZVxuXHRmb3IgKCA7IGkgPCB0aW1lczsgaSsrICkge1xuXHRcdHVwQW5pbSA9IHt9O1xuXHRcdHVwQW5pbVsgcmVmIF0gPSAoIG1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2U7XG5cblx0XHRlbGVtZW50XG5cdFx0XHQuYW5pbWF0ZSggdXBBbmltLCBzcGVlZCwgZWFzaW5nIClcblx0XHRcdC5hbmltYXRlKCBkb3duQW5pbSwgc3BlZWQsIGVhc2luZyApO1xuXG5cdFx0ZGlzdGFuY2UgPSBoaWRlID8gZGlzdGFuY2UgKiAyIDogZGlzdGFuY2UgLyAyO1xuXHR9XG5cblx0Ly8gTGFzdCBCb3VuY2Ugd2hlbiBIaWRpbmdcblx0aWYgKCBoaWRlICkge1xuXHRcdHVwQW5pbSA9IHsgb3BhY2l0eTogMCB9O1xuXHRcdHVwQW5pbVsgcmVmIF0gPSAoIG1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2U7XG5cblx0XHRlbGVtZW50LmFuaW1hdGUoIHVwQW5pbSwgc3BlZWQsIGVhc2luZyApO1xuXHR9XG5cblx0ZWxlbWVudC5xdWV1ZSggZG9uZSApO1xuXG5cdCQuZWZmZWN0cy51bnNoaWZ0KCBlbGVtZW50LCBxdWV1ZWxlbiwgYW5pbXMgKyAxICk7XG59ICk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBDbGlwIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBDbGlwIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IENsaXBzIHRoZSBlbGVtZW50IG9uIGFuZCBvZmYgbGlrZSBhbiBvbGQgVFYuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2xpcC1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG5cblxudmFyIGVmZmVjdHNFZmZlY3RDbGlwID0gJC5lZmZlY3RzLmRlZmluZSggXCJjbGlwXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIHN0YXJ0LFxuXHRcdGFuaW1hdGUgPSB7fSxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwidmVydGljYWxcIixcblx0XHRib3RoID0gZGlyZWN0aW9uID09PSBcImJvdGhcIixcblx0XHRob3Jpem9udGFsID0gYm90aCB8fCBkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiLFxuXHRcdHZlcnRpY2FsID0gYm90aCB8fCBkaXJlY3Rpb24gPT09IFwidmVydGljYWxcIjtcblxuXHRzdGFydCA9IGVsZW1lbnQuY3NzQ2xpcCgpO1xuXHRhbmltYXRlLmNsaXAgPSB7XG5cdFx0dG9wOiB2ZXJ0aWNhbCA/ICggc3RhcnQuYm90dG9tIC0gc3RhcnQudG9wICkgLyAyIDogc3RhcnQudG9wLFxuXHRcdHJpZ2h0OiBob3Jpem9udGFsID8gKCBzdGFydC5yaWdodCAtIHN0YXJ0LmxlZnQgKSAvIDIgOiBzdGFydC5yaWdodCxcblx0XHRib3R0b206IHZlcnRpY2FsID8gKCBzdGFydC5ib3R0b20gLSBzdGFydC50b3AgKSAvIDIgOiBzdGFydC5ib3R0b20sXG5cdFx0bGVmdDogaG9yaXpvbnRhbCA/ICggc3RhcnQucmlnaHQgLSBzdGFydC5sZWZ0ICkgLyAyIDogc3RhcnQubGVmdFxuXHR9O1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGlmICggb3B0aW9ucy5tb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbGVtZW50LmNzc0NsaXAoIGFuaW1hdGUuY2xpcCApO1xuXHRcdGFuaW1hdGUuY2xpcCA9IHN0YXJ0O1xuXHR9XG5cblx0ZWxlbWVudC5hbmltYXRlKCBhbmltYXRlLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xuXG59ICk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBEcm9wIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBEcm9wIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IE1vdmVzIGFuIGVsZW1lbnQgaW4gb25lIGRpcmVjdGlvbiBhbmQgaGlkZXMgaXQgYXQgdGhlIHNhbWUgdGltZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kcm9wLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdERyb3AgPSAkLmVmZmVjdHMuZGVmaW5lKCBcImRyb3BcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdHZhciBkaXN0YW5jZSxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwibGVmdFwiLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdG1vdGlvbiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiApID8gXCItPVwiIDogXCIrPVwiLFxuXHRcdG9wcG9zaXRlTW90aW9uID0gKCBtb3Rpb24gPT09IFwiKz1cIiApID8gXCItPVwiIDogXCIrPVwiLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdG9wYWNpdHk6IDBcblx0XHR9O1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSB8fFxuXHRcdGVsZW1lbnRbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oIHRydWUgKSAvIDI7XG5cblx0YW5pbWF0aW9uWyByZWYgXSA9IG1vdGlvbiArIGRpc3RhbmNlO1xuXG5cdGlmICggc2hvdyApIHtcblx0XHRlbGVtZW50LmNzcyggYW5pbWF0aW9uICk7XG5cblx0XHRhbmltYXRpb25bIHJlZiBdID0gb3Bwb3NpdGVNb3Rpb24gKyBkaXN0YW5jZTtcblx0XHRhbmltYXRpb24ub3BhY2l0eSA9IDE7XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRXhwbG9kZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRXhwbG9kZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZGVzY3JpcHRpb246IEV4cGxvZGVzIGFuIGVsZW1lbnQgaW4gYWxsIGRpcmVjdGlvbnMgaW50byBuIHBpZWNlcy4gSW1wbG9kZXMgYW4gZWxlbWVudCB0byBpdHMgb3JpZ2luYWwgd2hvbGVuZXNzLlxuLy8ganNjczplbmFibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9leHBsb2RlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdEV4cGxvZGUgPSAkLmVmZmVjdHMuZGVmaW5lKCBcImV4cGxvZGVcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdHZhciBpLCBqLCBsZWZ0LCB0b3AsIG14LCBteSxcblx0XHRyb3dzID0gb3B0aW9ucy5waWVjZXMgPyBNYXRoLnJvdW5kKCBNYXRoLnNxcnQoIG9wdGlvbnMucGllY2VzICkgKSA6IDMsXG5cdFx0Y2VsbHMgPSByb3dzLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cblx0XHQvLyBTaG93IGFuZCB0aGVuIHZpc2liaWxpdHk6aGlkZGVuIHRoZSBlbGVtZW50IGJlZm9yZSBjYWxjdWxhdGluZyBvZmZzZXRcblx0XHRvZmZzZXQgPSBlbGVtZW50LnNob3coKS5jc3MoIFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiICkub2Zmc2V0KCksXG5cblx0XHQvLyBXaWR0aCBhbmQgaGVpZ2h0IG9mIGEgcGllY2Vcblx0XHR3aWR0aCA9IE1hdGguY2VpbCggZWxlbWVudC5vdXRlcldpZHRoKCkgLyBjZWxscyApLFxuXHRcdGhlaWdodCA9IE1hdGguY2VpbCggZWxlbWVudC5vdXRlckhlaWdodCgpIC8gcm93cyApLFxuXHRcdHBpZWNlcyA9IFtdO1xuXG5cdC8vIENoaWxkcmVuIGFuaW1hdGUgY29tcGxldGU6XG5cdGZ1bmN0aW9uIGNoaWxkQ29tcGxldGUoKSB7XG5cdFx0cGllY2VzLnB1c2goIHRoaXMgKTtcblx0XHRpZiAoIHBpZWNlcy5sZW5ndGggPT09IHJvd3MgKiBjZWxscyApIHtcblx0XHRcdGFuaW1Db21wbGV0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsb25lIHRoZSBlbGVtZW50IGZvciBlYWNoIHJvdyBhbmQgY2VsbC5cblx0Zm9yICggaSA9IDA7IGkgPCByb3dzOyBpKysgKSB7IC8vID09PT5cblx0XHR0b3AgPSBvZmZzZXQudG9wICsgaSAqIGhlaWdodDtcblx0XHRteSA9IGkgLSAoIHJvd3MgLSAxICkgLyAyO1xuXG5cdFx0Zm9yICggaiA9IDA7IGogPCBjZWxsczsgaisrICkgeyAvLyB8fHxcblx0XHRcdGxlZnQgPSBvZmZzZXQubGVmdCArIGogKiB3aWR0aDtcblx0XHRcdG14ID0gaiAtICggY2VsbHMgLSAxICkgLyAyO1xuXG5cdFx0XHQvLyBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgbm93IGhpZGRlbiBtYWluIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGFic29sdXRlIHBvc2l0aW9uZWRcblx0XHRcdC8vIHdpdGhpbiBhIHdyYXBwZXIgZGl2IG9mZiB0aGUgLWxlZnQgYW5kIC10b3AgZXF1YWwgdG8gc2l6ZSBvZiBvdXIgcGllY2VzXG5cdFx0XHRlbGVtZW50XG5cdFx0XHRcdC5jbG9uZSgpXG5cdFx0XHRcdC5hcHBlbmRUbyggXCJib2R5XCIgKVxuXHRcdFx0XHQud3JhcCggXCI8ZGl2PjwvZGl2PlwiIClcblx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0dmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIsXG5cdFx0XHRcdFx0bGVmdDogLWogKiB3aWR0aCxcblx0XHRcdFx0XHR0b3A6IC1pICogaGVpZ2h0XG5cdFx0XHRcdH0gKVxuXG5cdFx0XHRcdC8vIFNlbGVjdCB0aGUgd3JhcHBlciAtIG1ha2UgaXQgb3ZlcmZsb3c6IGhpZGRlbiBhbmQgYWJzb2x1dGUgcG9zaXRpb25lZCBiYXNlZCBvblxuXHRcdFx0XHQvLyB3aGVyZSB0aGUgb3JpZ2luYWwgd2FzIGxvY2F0ZWQgK2xlZnQgYW5kICt0b3AgZXF1YWwgdG8gdGhlIHNpemUgb2YgcGllY2VzXG5cdFx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1lZmZlY3RzLWV4cGxvZGVcIiApXG5cdFx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdG92ZXJmbG93OiBcImhpZGRlblwiLFxuXHRcdFx0XHRcdFx0d2lkdGg6IHdpZHRoLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBoZWlnaHQsXG5cdFx0XHRcdFx0XHRsZWZ0OiBsZWZ0ICsgKCBzaG93ID8gbXggKiB3aWR0aCA6IDAgKSxcblx0XHRcdFx0XHRcdHRvcDogdG9wICsgKCBzaG93ID8gbXkgKiBoZWlnaHQgOiAwICksXG5cdFx0XHRcdFx0XHRvcGFjaXR5OiBzaG93ID8gMCA6IDFcblx0XHRcdFx0XHR9IClcblx0XHRcdFx0XHQuYW5pbWF0ZSgge1xuXHRcdFx0XHRcdFx0bGVmdDogbGVmdCArICggc2hvdyA/IDAgOiBteCAqIHdpZHRoICksXG5cdFx0XHRcdFx0XHR0b3A6IHRvcCArICggc2hvdyA/IDAgOiBteSAqIGhlaWdodCApLFxuXHRcdFx0XHRcdFx0b3BhY2l0eTogc2hvdyA/IDEgOiAwXG5cdFx0XHRcdFx0fSwgb3B0aW9ucy5kdXJhdGlvbiB8fCA1MDAsIG9wdGlvbnMuZWFzaW5nLCBjaGlsZENvbXBsZXRlICk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYW5pbUNvbXBsZXRlKCkge1xuXHRcdGVsZW1lbnQuY3NzKCB7XG5cdFx0XHR2aXNpYmlsaXR5OiBcInZpc2libGVcIlxuXHRcdH0gKTtcblx0XHQkKCBwaWVjZXMgKS5yZW1vdmUoKTtcblx0XHRkb25lKCk7XG5cdH1cbn0gKTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEZhZGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEZhZGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogRmFkZXMgdGhlIGVsZW1lbnQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZmFkZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG5cblxudmFyIGVmZmVjdHNFZmZlY3RGYWRlID0gJC5lZmZlY3RzLmRlZmluZSggXCJmYWRlXCIsIFwidG9nZ2xlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgc2hvdyA9IG9wdGlvbnMubW9kZSA9PT0gXCJzaG93XCI7XG5cblx0JCggdGhpcyApXG5cdFx0LmNzcyggXCJvcGFjaXR5XCIsIHNob3cgPyAwIDogMSApXG5cdFx0LmFuaW1hdGUoIHtcblx0XHRcdG9wYWNpdHk6IHNob3cgPyAxIDogMFxuXHRcdH0sIHtcblx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRcdGNvbXBsZXRlOiBkb25lXG5cdFx0fSApO1xufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRm9sZCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRm9sZCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBGb2xkcyBhbiBlbGVtZW50IGZpcnN0IGhvcml6b250YWxseSBhbmQgdGhlbiB2ZXJ0aWNhbGx5LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2ZvbGQtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuXG5cbnZhciBlZmZlY3RzRWZmZWN0Rm9sZCA9ICQuZWZmZWN0cy5kZWZpbmUoIFwiZm9sZFwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNpemUgPSBvcHRpb25zLnNpemUgfHwgMTUsXG5cdFx0cGVyY2VudCA9IC8oWzAtOV0rKSUvLmV4ZWMoIHNpemUgKSxcblx0XHRob3JpekZpcnN0ID0gISFvcHRpb25zLmhvcml6Rmlyc3QsXG5cdFx0cmVmID0gaG9yaXpGaXJzdCA/IFsgXCJyaWdodFwiLCBcImJvdHRvbVwiIF0gOiBbIFwiYm90dG9tXCIsIFwicmlnaHRcIiBdLFxuXHRcdGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAvIDIsXG5cblx0XHRwbGFjZWhvbGRlciA9ICQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApLFxuXG5cdFx0c3RhcnQgPSBlbGVtZW50LmNzc0NsaXAoKSxcblx0XHRhbmltYXRpb24xID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblx0XHRhbmltYXRpb24yID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblxuXHRcdGRpc3RhbmNlID0gWyBzdGFydFsgcmVmWyAwIF0gXSwgc3RhcnRbIHJlZlsgMSBdIF0gXSxcblxuXHRcdHF1ZXVlbGVuID0gZWxlbWVudC5xdWV1ZSgpLmxlbmd0aDtcblxuXHRpZiAoIHBlcmNlbnQgKSB7XG5cdFx0c2l6ZSA9IHBhcnNlSW50KCBwZXJjZW50WyAxIF0sIDEwICkgLyAxMDAgKiBkaXN0YW5jZVsgaGlkZSA/IDAgOiAxIF07XG5cdH1cblx0YW5pbWF0aW9uMS5jbGlwWyByZWZbIDAgXSBdID0gc2l6ZTtcblx0YW5pbWF0aW9uMi5jbGlwWyByZWZbIDAgXSBdID0gc2l6ZTtcblx0YW5pbWF0aW9uMi5jbGlwWyByZWZbIDEgXSBdID0gMDtcblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZWxlbWVudC5jc3NDbGlwKCBhbmltYXRpb24yLmNsaXAgKTtcblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIuY3NzKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24yICkgKTtcblx0XHR9XG5cblx0XHRhbmltYXRpb24yLmNsaXAgPSBzdGFydDtcblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0ZWxlbWVudFxuXHRcdC5xdWV1ZSggZnVuY3Rpb24oIG5leHQgKSB7XG5cdFx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0XHRwbGFjZWhvbGRlclxuXHRcdFx0XHRcdC5hbmltYXRlKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24xICksIGR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApXG5cdFx0XHRcdFx0LmFuaW1hdGUoICQuZWZmZWN0cy5jbGlwVG9Cb3goIGFuaW1hdGlvbjIgKSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdFx0XHR9XG5cblx0XHRcdG5leHQoKTtcblx0XHR9IClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nIClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMiwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nIClcblx0XHQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIDQgKTtcbn0gKTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEhpZ2hsaWdodCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogSGlnaGxpZ2h0IEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEhpZ2hsaWdodHMgdGhlIGJhY2tncm91bmQgb2YgYW4gZWxlbWVudCBpbiBhIGRlZmluZWQgY29sb3IgZm9yIGEgY3VzdG9tIGR1cmF0aW9uLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2hpZ2hsaWdodC1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG5cblxudmFyIGVmZmVjdHNFZmZlY3RIaWdobGlnaHQgPSAkLmVmZmVjdHMuZGVmaW5lKCBcImhpZ2hsaWdodFwiLCBcInNob3dcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdGJhY2tncm91bmRDb2xvcjogZWxlbWVudC5jc3MoIFwiYmFja2dyb3VuZENvbG9yXCIgKVxuXHRcdH07XG5cblx0aWYgKCBvcHRpb25zLm1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdGFuaW1hdGlvbi5vcGFjaXR5ID0gMDtcblx0fVxuXG5cdCQuZWZmZWN0cy5zYXZlU3R5bGUoIGVsZW1lbnQgKTtcblxuXHRlbGVtZW50XG5cdFx0LmNzcygge1xuXHRcdFx0YmFja2dyb3VuZEltYWdlOiBcIm5vbmVcIixcblx0XHRcdGJhY2tncm91bmRDb2xvcjogb3B0aW9ucy5jb2xvciB8fCBcIiNmZmZmOTlcIlxuXHRcdH0gKVxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRcdGNvbXBsZXRlOiBkb25lXG5cdFx0fSApO1xufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgU2l6ZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2l6ZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBSZXNpemUgYW4gZWxlbWVudCB0byBhIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NpemUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuXG5cbnZhciBlZmZlY3RzRWZmZWN0U2l6ZSA9ICQuZWZmZWN0cy5kZWZpbmUoIFwic2l6ZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgYmFzZWxpbmUsIGZhY3RvciwgdGVtcCxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXG5cdFx0Ly8gQ29weSBmb3IgY2hpbGRyZW5cblx0XHRjUHJvcHMgPSBbIFwiZm9udFNpemVcIiBdLFxuXHRcdHZQcm9wcyA9IFsgXCJib3JkZXJUb3BXaWR0aFwiLCBcImJvcmRlckJvdHRvbVdpZHRoXCIsIFwicGFkZGluZ1RvcFwiLCBcInBhZGRpbmdCb3R0b21cIiBdLFxuXHRcdGhQcm9wcyA9IFsgXCJib3JkZXJMZWZ0V2lkdGhcIiwgXCJib3JkZXJSaWdodFdpZHRoXCIsIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nUmlnaHRcIiBdLFxuXG5cdFx0Ly8gU2V0IG9wdGlvbnNcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHJlc3RvcmUgPSBtb2RlICE9PSBcImVmZmVjdFwiLFxuXHRcdHNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCBcImJvdGhcIixcblx0XHRvcmlnaW4gPSBvcHRpb25zLm9yaWdpbiB8fCBbIFwibWlkZGxlXCIsIFwiY2VudGVyXCIgXSxcblx0XHRwb3NpdGlvbiA9IGVsZW1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRwb3MgPSBlbGVtZW50LnBvc2l0aW9uKCksXG5cdFx0b3JpZ2luYWwgPSAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWxlbWVudCApLFxuXHRcdGZyb20gPSBvcHRpb25zLmZyb20gfHwgb3JpZ2luYWwsXG5cdFx0dG8gPSBvcHRpb25zLnRvIHx8ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBlbGVtZW50LCAwICk7XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKCBlbGVtZW50ICk7XG5cblx0aWYgKCBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHR0ZW1wID0gZnJvbTtcblx0XHRmcm9tID0gdG87XG5cdFx0dG8gPSB0ZW1wO1xuXHR9XG5cblx0Ly8gU2V0IHNjYWxpbmcgZmFjdG9yXG5cdGZhY3RvciA9IHtcblx0XHRmcm9tOiB7XG5cdFx0XHR5OiBmcm9tLmhlaWdodCAvIG9yaWdpbmFsLmhlaWdodCxcblx0XHRcdHg6IGZyb20ud2lkdGggLyBvcmlnaW5hbC53aWR0aFxuXHRcdH0sXG5cdFx0dG86IHtcblx0XHRcdHk6IHRvLmhlaWdodCAvIG9yaWdpbmFsLmhlaWdodCxcblx0XHRcdHg6IHRvLndpZHRoIC8gb3JpZ2luYWwud2lkdGhcblx0XHR9XG5cdH07XG5cblx0Ly8gU2NhbGUgdGhlIGNzcyBib3hcblx0aWYgKCBzY2FsZSA9PT0gXCJib3hcIiB8fCBzY2FsZSA9PT0gXCJib3RoXCIgKSB7XG5cblx0XHQvLyBWZXJ0aWNhbCBwcm9wcyBzY2FsaW5nXG5cdFx0aWYgKCBmYWN0b3IuZnJvbS55ICE9PSBmYWN0b3IudG8ueSApIHtcblx0XHRcdGZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgdlByb3BzLCBmYWN0b3IuZnJvbS55LCBmcm9tICk7XG5cdFx0XHR0byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCB2UHJvcHMsIGZhY3Rvci50by55LCB0byApO1xuXHRcdH1cblxuXHRcdC8vIEhvcml6b250YWwgcHJvcHMgc2NhbGluZ1xuXHRcdGlmICggZmFjdG9yLmZyb20ueCAhPT0gZmFjdG9yLnRvLnggKSB7XG5cdFx0XHRmcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIGhQcm9wcywgZmFjdG9yLmZyb20ueCwgZnJvbSApO1xuXHRcdFx0dG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgaFByb3BzLCBmYWN0b3IudG8ueCwgdG8gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTY2FsZSB0aGUgY29udGVudFxuXHRpZiAoIHNjYWxlID09PSBcImNvbnRlbnRcIiB8fCBzY2FsZSA9PT0gXCJib3RoXCIgKSB7XG5cblx0XHQvLyBWZXJ0aWNhbCBwcm9wcyBzY2FsaW5nXG5cdFx0aWYgKCBmYWN0b3IuZnJvbS55ICE9PSBmYWN0b3IudG8ueSApIHtcblx0XHRcdGZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgY1Byb3BzLCBmYWN0b3IuZnJvbS55LCBmcm9tICk7XG5cdFx0XHR0byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCBjUHJvcHMsIGZhY3Rvci50by55LCB0byApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEFkanVzdCB0aGUgcG9zaXRpb24gcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgb3JpZ2luIHBvaW50c1xuXHRpZiAoIG9yaWdpbiApIHtcblx0XHRiYXNlbGluZSA9ICQuZWZmZWN0cy5nZXRCYXNlbGluZSggb3JpZ2luLCBvcmlnaW5hbCApO1xuXHRcdGZyb20udG9wID0gKCBvcmlnaW5hbC5vdXRlckhlaWdodCAtIGZyb20ub3V0ZXJIZWlnaHQgKSAqIGJhc2VsaW5lLnkgKyBwb3MudG9wO1xuXHRcdGZyb20ubGVmdCA9ICggb3JpZ2luYWwub3V0ZXJXaWR0aCAtIGZyb20ub3V0ZXJXaWR0aCApICogYmFzZWxpbmUueCArIHBvcy5sZWZ0O1xuXHRcdHRvLnRvcCA9ICggb3JpZ2luYWwub3V0ZXJIZWlnaHQgLSB0by5vdXRlckhlaWdodCApICogYmFzZWxpbmUueSArIHBvcy50b3A7XG5cdFx0dG8ubGVmdCA9ICggb3JpZ2luYWwub3V0ZXJXaWR0aCAtIHRvLm91dGVyV2lkdGggKSAqIGJhc2VsaW5lLnggKyBwb3MubGVmdDtcblx0fVxuXHRlbGVtZW50LmNzcyggZnJvbSApO1xuXG5cdC8vIEFuaW1hdGUgdGhlIGNoaWxkcmVuIGlmIGRlc2lyZWRcblx0aWYgKCBzY2FsZSA9PT0gXCJjb250ZW50XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkge1xuXG5cdFx0dlByb3BzID0gdlByb3BzLmNvbmNhdCggWyBcIm1hcmdpblRvcFwiLCBcIm1hcmdpbkJvdHRvbVwiIF0gKS5jb25jYXQoIGNQcm9wcyApO1xuXHRcdGhQcm9wcyA9IGhQcm9wcy5jb25jYXQoIFsgXCJtYXJnaW5MZWZ0XCIsIFwibWFyZ2luUmlnaHRcIiBdICk7XG5cblx0XHQvLyBPbmx5IGFuaW1hdGUgY2hpbGRyZW4gd2l0aCB3aWR0aCBhdHRyaWJ1dGVzIHNwZWNpZmllZFxuXHRcdC8vIFRPRE86IGlzIHRoaXMgcmlnaHQ/IHNob3VsZCB3ZSBpbmNsdWRlIGFueXRoaW5nIHdpdGggY3NzIHdpZHRoIHNwZWNpZmllZCBhcyB3ZWxsXG5cdFx0ZWxlbWVudC5maW5kKCBcIipbd2lkdGhdXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjaGlsZCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0Y2hpbGRPcmlnaW5hbCA9ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBjaGlsZCApLFxuXHRcdFx0XHRjaGlsZEZyb20gPSB7XG5cdFx0XHRcdFx0aGVpZ2h0OiBjaGlsZE9yaWdpbmFsLmhlaWdodCAqIGZhY3Rvci5mcm9tLnksXG5cdFx0XHRcdFx0d2lkdGg6IGNoaWxkT3JpZ2luYWwud2lkdGggKiBmYWN0b3IuZnJvbS54LFxuXHRcdFx0XHRcdG91dGVySGVpZ2h0OiBjaGlsZE9yaWdpbmFsLm91dGVySGVpZ2h0ICogZmFjdG9yLmZyb20ueSxcblx0XHRcdFx0XHRvdXRlcldpZHRoOiBjaGlsZE9yaWdpbmFsLm91dGVyV2lkdGggKiBmYWN0b3IuZnJvbS54XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNoaWxkVG8gPSB7XG5cdFx0XHRcdFx0aGVpZ2h0OiBjaGlsZE9yaWdpbmFsLmhlaWdodCAqIGZhY3Rvci50by55LFxuXHRcdFx0XHRcdHdpZHRoOiBjaGlsZE9yaWdpbmFsLndpZHRoICogZmFjdG9yLnRvLngsXG5cdFx0XHRcdFx0b3V0ZXJIZWlnaHQ6IGNoaWxkT3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLnRvLnksXG5cdFx0XHRcdFx0b3V0ZXJXaWR0aDogY2hpbGRPcmlnaW5hbC53aWR0aCAqIGZhY3Rvci50by54XG5cdFx0XHRcdH07XG5cblx0XHRcdC8vIFZlcnRpY2FsIHByb3BzIHNjYWxpbmdcblx0XHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRcdGNoaWxkRnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgdlByb3BzLCBmYWN0b3IuZnJvbS55LCBjaGlsZEZyb20gKTtcblx0XHRcdFx0Y2hpbGRUbyA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgdlByb3BzLCBmYWN0b3IudG8ueSwgY2hpbGRUbyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb3Jpem9udGFsIHByb3BzIHNjYWxpbmdcblx0XHRcdGlmICggZmFjdG9yLmZyb20ueCAhPT0gZmFjdG9yLnRvLnggKSB7XG5cdFx0XHRcdGNoaWxkRnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgaFByb3BzLCBmYWN0b3IuZnJvbS54LCBjaGlsZEZyb20gKTtcblx0XHRcdFx0Y2hpbGRUbyA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgaFByb3BzLCBmYWN0b3IudG8ueCwgY2hpbGRUbyApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHJlc3RvcmUgKSB7XG5cdFx0XHRcdCQuZWZmZWN0cy5zYXZlU3R5bGUoIGNoaWxkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFuaW1hdGUgY2hpbGRyZW5cblx0XHRcdGNoaWxkLmNzcyggY2hpbGRGcm9tICk7XG5cdFx0XHRjaGlsZC5hbmltYXRlKCBjaGlsZFRvLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSBjaGlsZHJlblxuXHRcdFx0XHRpZiAoIHJlc3RvcmUgKSB7XG5cdFx0XHRcdFx0JC5lZmZlY3RzLnJlc3RvcmVTdHlsZSggY2hpbGQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0ZWxlbWVudC5hbmltYXRlKCB0bywge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIG9mZnNldCA9IGVsZW1lbnQub2Zmc2V0KCk7XG5cblx0XHRcdGlmICggdG8ub3BhY2l0eSA9PT0gMCApIHtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwib3BhY2l0eVwiLCBmcm9tLm9wYWNpdHkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhcmVzdG9yZSApIHtcblx0XHRcdFx0ZWxlbWVudFxuXHRcdFx0XHRcdC5jc3MoIFwicG9zaXRpb25cIiwgcG9zaXRpb24gPT09IFwic3RhdGljXCIgPyBcInJlbGF0aXZlXCIgOiBwb3NpdGlvbiApXG5cdFx0XHRcdFx0Lm9mZnNldCggb2Zmc2V0ICk7XG5cblx0XHRcdFx0Ly8gTmVlZCB0byBzYXZlIHN0eWxlIGhlcmUgc28gdGhhdCBhdXRvbWF0aWMgc3R5bGUgcmVzdG9yYXRpb25cblx0XHRcdFx0Ly8gZG9lc24ndCByZXN0b3JlIHRvIHRoZSBvcmlnaW5hbCBzdHlsZXMgZnJvbSBiZWZvcmUgdGhlIGFuaW1hdGlvbi5cblx0XHRcdFx0JC5lZmZlY3RzLnNhdmVTdHlsZSggZWxlbWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkb25lKCk7XG5cdFx0fVxuXHR9ICk7XG5cbn0gKTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNjYWxlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTY2FsZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBHcm93cyBvciBzaHJpbmtzIGFuIGVsZW1lbnQgYW5kIGl0cyBjb250ZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NjYWxlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdFNjYWxlID0gJC5lZmZlY3RzLmRlZmluZSggXCJzY2FsZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRwZXJjZW50ID0gcGFyc2VJbnQoIG9wdGlvbnMucGVyY2VudCwgMTAgKSB8fFxuXHRcdFx0KCBwYXJzZUludCggb3B0aW9ucy5wZXJjZW50LCAxMCApID09PSAwID8gMCA6ICggbW9kZSAhPT0gXCJlZmZlY3RcIiA/IDAgOiAxMDAgKSApLFxuXG5cdFx0bmV3T3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRmcm9tOiAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWwgKSxcblx0XHRcdHRvOiAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWwsIHBlcmNlbnQsIG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwiYm90aFwiICksXG5cdFx0XHRvcmlnaW46IG9wdGlvbnMub3JpZ2luIHx8IFsgXCJtaWRkbGVcIiwgXCJjZW50ZXJcIiBdXG5cdFx0fSwgb3B0aW9ucyApO1xuXG5cdC8vIEZhZGUgb3B0aW9uIHRvIHN1cHBvcnQgcHVmZlxuXHRpZiAoIG9wdGlvbnMuZmFkZSApIHtcblx0XHRuZXdPcHRpb25zLmZyb20ub3BhY2l0eSA9IDE7XG5cdFx0bmV3T3B0aW9ucy50by5vcGFjaXR5ID0gMDtcblx0fVxuXG5cdCQuZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKCB0aGlzLCBuZXdPcHRpb25zLCBkb25lICk7XG59ICk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBQdWZmIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBQdWZmIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IENyZWF0ZXMgYSBwdWZmIGVmZmVjdCBieSBzY2FsaW5nIHRoZSBlbGVtZW50IHVwIGFuZCBoaWRpbmcgaXQgYXQgdGhlIHNhbWUgdGltZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWZmLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdFB1ZmYgPSAkLmVmZmVjdHMuZGVmaW5lKCBcInB1ZmZcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgbmV3T3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgb3B0aW9ucywge1xuXHRcdGZhZGU6IHRydWUsXG5cdFx0cGVyY2VudDogcGFyc2VJbnQoIG9wdGlvbnMucGVyY2VudCwgMTAgKSB8fCAxNTBcblx0fSApO1xuXG5cdCQuZWZmZWN0cy5lZmZlY3Quc2NhbGUuY2FsbCggdGhpcywgbmV3T3B0aW9ucywgZG9uZSApO1xufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgUHVsc2F0ZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogUHVsc2F0ZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBQdWxzYXRlcyBhbiBlbGVtZW50IG4gdGltZXMgYnkgY2hhbmdpbmcgdGhlIG9wYWNpdHkgdG8gemVybyBhbmQgYmFjay5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWxzYXRlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cblxuXG52YXIgZWZmZWN0c0VmZmVjdFB1bHNhdGUgPSAkLmVmZmVjdHMuZGVmaW5lKCBcInB1bHNhdGVcIiwgXCJzaG93XCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRoaWRlID0gbW9kZSA9PT0gXCJoaWRlXCIsXG5cdFx0c2hvd2hpZGUgPSBzaG93IHx8IGhpZGUsXG5cblx0XHQvLyBTaG93aW5nIG9yIGhpZGluZyBsZWF2ZXMgb2ZmIHRoZSBcImxhc3RcIiBhbmltYXRpb25cblx0XHRhbmltcyA9ICggKCBvcHRpb25zLnRpbWVzIHx8IDUgKSAqIDIgKSArICggc2hvd2hpZGUgPyAxIDogMCApLFxuXHRcdGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAvIGFuaW1zLFxuXHRcdGFuaW1hdGVUbyA9IDAsXG5cdFx0aSA9IDEsXG5cdFx0cXVldWVsZW4gPSBlbGVtZW50LnF1ZXVlKCkubGVuZ3RoO1xuXG5cdGlmICggc2hvdyB8fCAhZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0ZWxlbWVudC5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpO1xuXHRcdGFuaW1hdGVUbyA9IDE7XG5cdH1cblxuXHQvLyBBbmltcyAtIDEgb3BhY2l0eSBcInRvZ2dsZXNcIlxuXHRmb3IgKCA7IGkgPCBhbmltczsgaSsrICkge1xuXHRcdGVsZW1lbnQuYW5pbWF0ZSggeyBvcGFjaXR5OiBhbmltYXRlVG8gfSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdFx0YW5pbWF0ZVRvID0gMSAtIGFuaW1hdGVUbztcblx0fVxuXG5cdGVsZW1lbnQuYW5pbWF0ZSggeyBvcGFjaXR5OiBhbmltYXRlVG8gfSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cblx0ZWxlbWVudC5xdWV1ZSggZG9uZSApO1xuXG5cdCQuZWZmZWN0cy51bnNoaWZ0KCBlbGVtZW50LCBxdWV1ZWxlbiwgYW5pbXMgKyAxICk7XG59ICk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTaGFrZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2hha2UgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogU2hha2VzIGFuIGVsZW1lbnQgaG9yaXpvbnRhbGx5IG9yIHZlcnRpY2FsbHkgbiB0aW1lcy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zaGFrZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG5cblxudmFyIGVmZmVjdHNFZmZlY3RTaGFrZSA9ICQuZWZmZWN0cy5kZWZpbmUoIFwic2hha2VcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0dmFyIGkgPSAxLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJsZWZ0XCIsXG5cdFx0ZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlIHx8IDIwLFxuXHRcdHRpbWVzID0gb3B0aW9ucy50aW1lcyB8fCAzLFxuXHRcdGFuaW1zID0gdGltZXMgKiAyICsgMSxcblx0XHRzcGVlZCA9IE1hdGgucm91bmQoIG9wdGlvbnMuZHVyYXRpb24gLyBhbmltcyApLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdHBvc2l0aXZlTW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICksXG5cdFx0YW5pbWF0aW9uID0ge30sXG5cdFx0YW5pbWF0aW9uMSA9IHt9LFxuXHRcdGFuaW1hdGlvbjIgPSB7fSxcblxuXHRcdHF1ZXVlbGVuID0gZWxlbWVudC5xdWV1ZSgpLmxlbmd0aDtcblxuXHQkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHQvLyBBbmltYXRpb25cblx0YW5pbWF0aW9uWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXHRhbmltYXRpb24xWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIis9XCIgOiBcIi09XCIgKSArIGRpc3RhbmNlICogMjtcblx0YW5pbWF0aW9uMlsgcmVmIF0gPSAoIHBvc2l0aXZlTW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZSAqIDI7XG5cblx0Ly8gQW5pbWF0ZVxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGlvbiwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nICk7XG5cblx0Ly8gU2hha2VzXG5cdGZvciAoIDsgaSA8IHRpbWVzOyBpKysgKSB7XG5cdFx0ZWxlbWVudFxuXHRcdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIHNwZWVkLCBvcHRpb25zLmVhc2luZyApXG5cdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMiwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nICk7XG5cdH1cblxuXHRlbGVtZW50XG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIHNwZWVkLCBvcHRpb25zLmVhc2luZyApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwgc3BlZWQgLyAyLCBvcHRpb25zLmVhc2luZyApXG5cdFx0LnF1ZXVlKCBkb25lICk7XG5cblx0JC5lZmZlY3RzLnVuc2hpZnQoIGVsZW1lbnQsIHF1ZXVlbGVuLCBhbmltcyArIDEgKTtcbn0gKTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNsaWRlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTbGlkZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBTbGlkZXMgYW4gZWxlbWVudCBpbiBhbmQgb3V0IG9mIHRoZSB2aWV3cG9ydC5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zbGlkZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG5cblxudmFyIGVmZmVjdHNFZmZlY3RTbGlkZSA9ICQuZWZmZWN0cy5kZWZpbmUoIFwic2xpZGVcIiwgXCJzaG93XCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgc3RhcnRDbGlwLCBzdGFydFJlZixcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1hcCA9IHtcblx0XHRcdHVwOiBbIFwiYm90dG9tXCIsIFwidG9wXCIgXSxcblx0XHRcdGRvd246IFsgXCJ0b3BcIiwgXCJib3R0b21cIiBdLFxuXHRcdFx0bGVmdDogWyBcInJpZ2h0XCIsIFwibGVmdFwiIF0sXG5cdFx0XHRyaWdodDogWyBcImxlZnRcIiwgXCJyaWdodFwiIF1cblx0XHR9LFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJsZWZ0XCIsXG5cdFx0cmVmID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0cG9zaXRpdmVNb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSxcblx0XHRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UgfHxcblx0XHRcdGVsZW1lbnRbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oIHRydWUgKSxcblx0XHRhbmltYXRpb24gPSB7fTtcblxuXHQkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHRzdGFydENsaXAgPSBlbGVtZW50LmNzc0NsaXAoKTtcblx0c3RhcnRSZWYgPSBlbGVtZW50LnBvc2l0aW9uKClbIHJlZiBdO1xuXG5cdC8vIERlZmluZSBoaWRlIGFuaW1hdGlvblxuXHRhbmltYXRpb25bIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IC0xIDogMSApICogZGlzdGFuY2UgKyBzdGFydFJlZjtcblx0YW5pbWF0aW9uLmNsaXAgPSBlbGVtZW50LmNzc0NsaXAoKTtcblx0YW5pbWF0aW9uLmNsaXBbIG1hcFsgZGlyZWN0aW9uIF1bIDEgXSBdID0gYW5pbWF0aW9uLmNsaXBbIG1hcFsgZGlyZWN0aW9uIF1bIDAgXSBdO1xuXG5cdC8vIFJldmVyc2UgdGhlIGFuaW1hdGlvbiBpZiB3ZSdyZSBzaG93aW5nXG5cdGlmICggbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0ZWxlbWVudC5jc3NDbGlwKCBhbmltYXRpb24uY2xpcCApO1xuXHRcdGVsZW1lbnQuY3NzKCByZWYsIGFuaW1hdGlvblsgcmVmIF0gKTtcblx0XHRhbmltYXRpb24uY2xpcCA9IHN0YXJ0Q2xpcDtcblx0XHRhbmltYXRpb25bIHJlZiBdID0gc3RhcnRSZWY7XG5cdH1cblxuXHQvLyBBY3R1YWxseSBhbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgVHJhbnNmZXIgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFRyYW5zZmVyIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IERpc3BsYXlzIGEgdHJhbnNmZXIgZWZmZWN0IGZyb20gb25lIGVsZW1lbnQgdG8gYW5vdGhlci5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90cmFuc2Zlci1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG5cblxudmFyIGVmZmVjdDtcbmlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICkge1xuXHRlZmZlY3QgPSAkLmVmZmVjdHMuZGVmaW5lKCBcInRyYW5zZmVyXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHRcdCQoIHRoaXMgKS50cmFuc2Zlciggb3B0aW9ucywgZG9uZSApO1xuXHR9ICk7XG59XG52YXIgZWZmZWN0c0VmZmVjdFRyYW5zZmVyID0gZWZmZWN0O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEZvY3VzYWJsZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogOmZvY3VzYWJsZSBTZWxlY3RvclxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFNlbGVjdHMgZWxlbWVudHMgd2hpY2ggY2FuIGJlIGZvY3VzZWQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZm9jdXNhYmxlLXNlbGVjdG9yL1xuXG5cblxuLy8gU2VsZWN0b3JzXG4kLnVpLmZvY3VzYWJsZSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBoYXNUYWJpbmRleCApIHtcblx0dmFyIG1hcCwgbWFwTmFtZSwgaW1nLCBmb2N1c2FibGVJZlZpc2libGUsIGZpZWxkc2V0LFxuXHRcdG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdGlmICggXCJhcmVhXCIgPT09IG5vZGVOYW1lICkge1xuXHRcdG1hcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRtYXBOYW1lID0gbWFwLm5hbWU7XG5cdFx0aWYgKCAhZWxlbWVudC5ocmVmIHx8ICFtYXBOYW1lIHx8IG1hcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm1hcFwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpbWcgPSAkKCBcImltZ1t1c2VtYXA9JyNcIiArIG1hcE5hbWUgKyBcIiddXCIgKTtcblx0XHRyZXR1cm4gaW1nLmxlbmd0aCA+IDAgJiYgaW1nLmlzKCBcIjp2aXNpYmxlXCIgKTtcblx0fVxuXG5cdGlmICggL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdCggbm9kZU5hbWUgKSApIHtcblx0XHRmb2N1c2FibGVJZlZpc2libGUgPSAhZWxlbWVudC5kaXNhYmxlZDtcblxuXHRcdGlmICggZm9jdXNhYmxlSWZWaXNpYmxlICkge1xuXG5cdFx0XHQvLyBGb3JtIGNvbnRyb2xzIHdpdGhpbiBhIGRpc2FibGVkIGZpZWxkc2V0IGFyZSBkaXNhYmxlZC5cblx0XHRcdC8vIEhvd2V2ZXIsIGNvbnRyb2xzIHdpdGhpbiB0aGUgZmllbGRzZXQncyBsZWdlbmQgZG8gbm90IGdldCBkaXNhYmxlZC5cblx0XHRcdC8vIFNpbmNlIGNvbnRyb2xzIGdlbmVyYWxseSBhcmVuJ3QgcGxhY2VkIGluc2lkZSBsZWdlbmRzLCB3ZSBza2lwXG5cdFx0XHQvLyB0aGlzIHBvcnRpb24gb2YgdGhlIGNoZWNrLlxuXHRcdFx0ZmllbGRzZXQgPSAkKCBlbGVtZW50ICkuY2xvc2VzdCggXCJmaWVsZHNldFwiIClbIDAgXTtcblx0XHRcdGlmICggZmllbGRzZXQgKSB7XG5cdFx0XHRcdGZvY3VzYWJsZUlmVmlzaWJsZSA9ICFmaWVsZHNldC5kaXNhYmxlZDtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIFwiYVwiID09PSBub2RlTmFtZSApIHtcblx0XHRmb2N1c2FibGVJZlZpc2libGUgPSBlbGVtZW50LmhyZWYgfHwgaGFzVGFiaW5kZXg7XG5cdH0gZWxzZSB7XG5cdFx0Zm9jdXNhYmxlSWZWaXNpYmxlID0gaGFzVGFiaW5kZXg7XG5cdH1cblxuXHRyZXR1cm4gZm9jdXNhYmxlSWZWaXNpYmxlICYmICQoIGVsZW1lbnQgKS5pcyggXCI6dmlzaWJsZVwiICkgJiYgdmlzaWJsZSggJCggZWxlbWVudCApICk7XG59O1xuXG4vLyBTdXBwb3J0OiBJRSA4IG9ubHlcbi8vIElFIDggZG9lc24ndCByZXNvbHZlIGluaGVyaXQgdG8gdmlzaWJsZS9oaWRkZW4gZm9yIGNvbXB1dGVkIHZhbHVlc1xuZnVuY3Rpb24gdmlzaWJsZSggZWxlbWVudCApIHtcblx0dmFyIHZpc2liaWxpdHkgPSBlbGVtZW50LmNzcyggXCJ2aXNpYmlsaXR5XCIgKTtcblx0d2hpbGUgKCB2aXNpYmlsaXR5ID09PSBcImluaGVyaXRcIiApIHtcblx0XHRlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcblx0XHR2aXNpYmlsaXR5ID0gZWxlbWVudC5jc3MoIFwidmlzaWJpbGl0eVwiICk7XG5cdH1cblx0cmV0dXJuIHZpc2liaWxpdHkgIT09IFwiaGlkZGVuXCI7XG59XG5cbiQuZXh0ZW5kKCAkLmV4cHJbIFwiOlwiIF0sIHtcblx0Zm9jdXNhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRyZXR1cm4gJC51aS5mb2N1c2FibGUoIGVsZW1lbnQsICQuYXR0ciggZWxlbWVudCwgXCJ0YWJpbmRleFwiICkgIT0gbnVsbCApO1xuXHR9XG59ICk7XG5cbnZhciBmb2N1c2FibGUgPSAkLnVpLmZvY3VzYWJsZTtcblxuXG5cblxuLy8gU3VwcG9ydDogSUU4IE9ubHlcbi8vIElFOCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBmb3JtIGF0dHJpYnV0ZSBhbmQgd2hlbiBpdCBpcyBzdXBwbGllZC4gSXQgb3ZlcndyaXRlcyB0aGUgZm9ybSBwcm9wXG4vLyB3aXRoIGEgc3RyaW5nLCBzbyB3ZSBuZWVkIHRvIGZpbmQgdGhlIHByb3BlciBmb3JtLlxudmFyIGZvcm0gPSAkLmZuLmZvcm0gPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGlzWyAwIF0uZm9ybSA9PT0gXCJzdHJpbmdcIiA/IHRoaXMuY2xvc2VzdCggXCJmb3JtXCIgKSA6ICQoIHRoaXNbIDAgXS5mb3JtICk7XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEZvcm0gUmVzZXQgTWl4aW4gMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEZvcm0gUmVzZXQgTWl4aW5cbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBSZWZyZXNoIGlucHV0IHdpZGdldHMgd2hlbiB0aGVpciBmb3JtIGlzIHJlc2V0XG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZm9ybS1yZXNldC1taXhpbi9cblxuXG5cbnZhciBmb3JtUmVzZXRNaXhpbiA9ICQudWkuZm9ybVJlc2V0TWl4aW4gPSB7XG5cdF9mb3JtUmVzZXRIYW5kbGVyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZm9ybSA9ICQoIHRoaXMgKTtcblxuXHRcdC8vIFdhaXQgZm9yIHRoZSBmb3JtIHJlc2V0IHRvIGFjdHVhbGx5IGhhcHBlbiBiZWZvcmUgcmVmcmVzaGluZ1xuXHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluc3RhbmNlcyA9IGZvcm0uZGF0YSggXCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlc1wiICk7XG5cdFx0XHQkLmVhY2goIGluc3RhbmNlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRfYmluZEZvcm1SZXNldEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZm9ybSA9IHRoaXMuZWxlbWVudC5mb3JtKCk7XG5cdFx0aWYgKCAhdGhpcy5mb3JtLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgaW5zdGFuY2VzID0gdGhpcy5mb3JtLmRhdGEoIFwidWktZm9ybS1yZXNldC1pbnN0YW5jZXNcIiApIHx8IFtdO1xuXHRcdGlmICggIWluc3RhbmNlcy5sZW5ndGggKSB7XG5cblx0XHRcdC8vIFdlIGRvbid0IHVzZSBfb24oKSBoZXJlIGJlY2F1c2Ugd2UgdXNlIGEgc2luZ2xlIGV2ZW50IGhhbmRsZXIgcGVyIGZvcm1cblx0XHRcdHRoaXMuZm9ybS5vbiggXCJyZXNldC51aS1mb3JtLXJlc2V0XCIsIHRoaXMuX2Zvcm1SZXNldEhhbmRsZXIgKTtcblx0XHR9XG5cdFx0aW5zdGFuY2VzLnB1c2goIHRoaXMgKTtcblx0XHR0aGlzLmZvcm0uZGF0YSggXCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlc1wiLCBpbnN0YW5jZXMgKTtcblx0fSxcblxuXHRfdW5iaW5kRm9ybVJlc2V0SGFuZGxlcjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpcy5mb3JtLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgaW5zdGFuY2VzID0gdGhpcy5mb3JtLmRhdGEoIFwidWktZm9ybS1yZXNldC1pbnN0YW5jZXNcIiApO1xuXHRcdGluc3RhbmNlcy5zcGxpY2UoICQuaW5BcnJheSggdGhpcywgaW5zdGFuY2VzICksIDEgKTtcblx0XHRpZiAoIGluc3RhbmNlcy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmZvcm0uZGF0YSggXCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlc1wiLCBpbnN0YW5jZXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5mb3JtXG5cdFx0XHRcdC5yZW1vdmVEYXRhKCBcInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzXCIgKVxuXHRcdFx0XHQub2ZmKCBcInJlc2V0LnVpLWZvcm0tcmVzZXRcIiApO1xuXHRcdH1cblx0fVxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBTdXBwb3J0IGZvciBqUXVlcnkgY29yZSAxLjcueCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqL1xuXG4vLz4+bGFiZWw6IGpRdWVyeSAxLjcgU3VwcG9ydFxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFN1cHBvcnQgdmVyc2lvbiAxLjcueCBvZiBqUXVlcnkgY29yZVxuXG5cblxuLy8gU3VwcG9ydDogalF1ZXJ5IDEuNyBvbmx5XG4vLyBOb3QgYSBncmVhdCB3YXkgdG8gY2hlY2sgdmVyc2lvbnMsIGJ1dCBzaW5jZSB3ZSBvbmx5IHN1cHBvcnQgMS43KyBhbmQgb25seVxuLy8gbmVlZCB0byBkZXRlY3QgPDEuOCwgdGhpcyBpcyBhIHNpbXBsZSBjaGVjayB0aGF0IHNob3VsZCBzdWZmaWNlLiBDaGVja2luZ1xuLy8gZm9yIFwiMS43LlwiIHdvdWxkIGJlIGEgYml0IHNhZmVyLCBidXQgdGhlIHZlcnNpb24gc3RyaW5nIGlzIDEuNywgbm90IDEuNy4wXG4vLyBhbmQgd2UnbGwgbmV2ZXIgcmVhY2ggMS43MC4wIChpZiB3ZSBkbywgd2UgY2VydGFpbmx5IHdvbid0IGJlIHN1cHBvcnRpbmdcbi8vIDEuNyBhbnltb3JlKS4gU2VlICMxMTE5NyBmb3Igd2h5IHdlJ3JlIG5vdCB1c2luZyBmZWF0dXJlIGRldGVjdGlvbi5cbmlmICggJC5mbi5qcXVlcnkuc3Vic3RyaW5nKCAwLCAzICkgPT09IFwiMS43XCIgKSB7XG5cblx0Ly8gU2V0dGVycyBmb3IgLmlubmVyV2lkdGgoKSwgLmlubmVySGVpZ2h0KCksIC5vdXRlcldpZHRoKCksIC5vdXRlckhlaWdodCgpXG5cdC8vIFVubGlrZSBqUXVlcnkgQ29yZSAxLjgrLCB0aGVzZSBvbmx5IHN1cHBvcnQgbnVtZXJpYyB2YWx1ZXMgdG8gc2V0IHRoZVxuXHQvLyBkaW1lbnNpb25zIGluIHBpeGVsc1xuXHQkLmVhY2goIFsgXCJXaWR0aFwiLCBcIkhlaWdodFwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdHZhciBzaWRlID0gbmFtZSA9PT0gXCJXaWR0aFwiID8gWyBcIkxlZnRcIiwgXCJSaWdodFwiIF0gOiBbIFwiVG9wXCIsIFwiQm90dG9tXCIgXSxcblx0XHRcdHR5cGUgPSBuYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRvcmlnID0ge1xuXHRcdFx0XHRpbm5lcldpZHRoOiAkLmZuLmlubmVyV2lkdGgsXG5cdFx0XHRcdGlubmVySGVpZ2h0OiAkLmZuLmlubmVySGVpZ2h0LFxuXHRcdFx0XHRvdXRlcldpZHRoOiAkLmZuLm91dGVyV2lkdGgsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiAkLmZuLm91dGVySGVpZ2h0XG5cdFx0XHR9O1xuXG5cdFx0ZnVuY3Rpb24gcmVkdWNlKCBlbGVtLCBzaXplLCBib3JkZXIsIG1hcmdpbiApIHtcblx0XHRcdCQuZWFjaCggc2lkZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNpemUgLT0gcGFyc2VGbG9hdCggJC5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgdGhpcyApICkgfHwgMDtcblx0XHRcdFx0aWYgKCBib3JkZXIgKSB7XG5cdFx0XHRcdFx0c2l6ZSAtPSBwYXJzZUZsb2F0KCAkLmNzcyggZWxlbSwgXCJib3JkZXJcIiArIHRoaXMgKyBcIldpZHRoXCIgKSApIHx8IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBtYXJnaW4gKSB7XG5cdFx0XHRcdFx0c2l6ZSAtPSBwYXJzZUZsb2F0KCAkLmNzcyggZWxlbSwgXCJtYXJnaW5cIiArIHRoaXMgKSApIHx8IDA7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHRcdHJldHVybiBzaXplO1xuXHRcdH1cblxuXHRcdCQuZm5bIFwiaW5uZXJcIiArIG5hbWUgXSA9IGZ1bmN0aW9uKCBzaXplICkge1xuXHRcdFx0aWYgKCBzaXplID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnWyBcImlubmVyXCIgKyBuYW1lIF0uY2FsbCggdGhpcyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLmNzcyggdHlwZSwgcmVkdWNlKCB0aGlzLCBzaXplICkgKyBcInB4XCIgKTtcblx0XHRcdH0gKTtcblx0XHR9O1xuXG5cdFx0JC5mblsgXCJvdXRlclwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHNpemUsIG1hcmdpbiApIHtcblx0XHRcdGlmICggdHlwZW9mIHNpemUgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnWyBcIm91dGVyXCIgKyBuYW1lIF0uY2FsbCggdGhpcywgc2l6ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLmNzcyggdHlwZSwgcmVkdWNlKCB0aGlzLCBzaXplLCB0cnVlLCBtYXJnaW4gKSArIFwicHhcIiApO1xuXHRcdFx0fSApO1xuXHRcdH07XG5cdH0gKTtcblxuXHQkLmZuLmFkZEJhY2sgPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9O1xufVxuXG47XG4vKiFcbiAqIGpRdWVyeSBVSSBLZXljb2RlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBLZXljb2RlXG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogUHJvdmlkZSBrZXljb2RlcyBhcyBrZXluYW1lc1xuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2pRdWVyeS51aS5rZXlDb2RlL1xuXG5cbnZhciBrZXljb2RlID0gJC51aS5rZXlDb2RlID0ge1xuXHRCQUNLU1BBQ0U6IDgsXG5cdENPTU1BOiAxODgsXG5cdERFTEVURTogNDYsXG5cdERPV046IDQwLFxuXHRFTkQ6IDM1LFxuXHRFTlRFUjogMTMsXG5cdEVTQ0FQRTogMjcsXG5cdEhPTUU6IDM2LFxuXHRMRUZUOiAzNyxcblx0UEFHRV9ET1dOOiAzNCxcblx0UEFHRV9VUDogMzMsXG5cdFBFUklPRDogMTkwLFxuXHRSSUdIVDogMzksXG5cdFNQQUNFOiAzMixcblx0VEFCOiA5LFxuXHRVUDogMzhcbn07XG5cblxuXG5cbi8vIEludGVybmFsIHVzZSBvbmx5XG52YXIgZXNjYXBlU2VsZWN0b3IgPSAkLnVpLmVzY2FwZVNlbGVjdG9yID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGVjdG9yRXNjYXBlID0gLyhbIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dKS9nO1xuXHRyZXR1cm4gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiBzZWxlY3Rvci5yZXBsYWNlKCBzZWxlY3RvckVzY2FwZSwgXCJcXFxcJDFcIiApO1xuXHR9O1xufSApKCk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgTGFiZWxzIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBsYWJlbHNcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBGaW5kIGFsbCB0aGUgbGFiZWxzIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGlucHV0XG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbGFiZWxzL1xuXG5cblxudmFyIGxhYmVscyA9ICQuZm4ubGFiZWxzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBhbmNlc3Rvciwgc2VsZWN0b3IsIGlkLCBsYWJlbHMsIGFuY2VzdG9ycztcblxuXHQvLyBDaGVjayBjb250cm9sLmxhYmVscyBmaXJzdFxuXHRpZiAoIHRoaXNbIDAgXS5sYWJlbHMgJiYgdGhpc1sgMCBdLmxhYmVscy5sZW5ndGggKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB0aGlzWyAwIF0ubGFiZWxzICk7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PSAxMSwgRkYgPD0gMzcsIEFuZHJvaWQgPD0gMi4zIG9ubHlcblx0Ly8gQWJvdmUgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgY29udHJvbC5sYWJlbHMuIEV2ZXJ5dGhpbmcgYmVsb3cgaXMgdG8gc3VwcG9ydCB0aGVtXG5cdC8vIGFzIHdlbGwgYXMgZG9jdW1lbnQgZnJhZ21lbnRzLiBjb250cm9sLmxhYmVscyBkb2VzIG5vdCB3b3JrIG9uIGRvY3VtZW50IGZyYWdtZW50c1xuXHRsYWJlbHMgPSB0aGlzLmVxKCAwICkucGFyZW50cyggXCJsYWJlbFwiICk7XG5cblx0Ly8gTG9vayBmb3IgdGhlIGxhYmVsIGJhc2VkIG9uIHRoZSBpZFxuXHRpZCA9IHRoaXMuYXR0ciggXCJpZFwiICk7XG5cdGlmICggaWQgKSB7XG5cblx0XHQvLyBXZSBkb24ndCBzZWFyY2ggYWdhaW5zdCB0aGUgZG9jdW1lbnQgaW4gY2FzZSB0aGUgZWxlbWVudFxuXHRcdC8vIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBET01cblx0XHRhbmNlc3RvciA9IHRoaXMuZXEoIDAgKS5wYXJlbnRzKCkubGFzdCgpO1xuXG5cdFx0Ly8gR2V0IGEgZnVsbCBzZXQgb2YgdG9wIGxldmVsIGFuY2VzdG9yc1xuXHRcdGFuY2VzdG9ycyA9IGFuY2VzdG9yLmFkZCggYW5jZXN0b3IubGVuZ3RoID8gYW5jZXN0b3Iuc2libGluZ3MoKSA6IHRoaXMuc2libGluZ3MoKSApO1xuXG5cdFx0Ly8gQ3JlYXRlIGEgc2VsZWN0b3IgZm9yIHRoZSBsYWJlbCBiYXNlZCBvbiB0aGUgaWRcblx0XHRzZWxlY3RvciA9IFwibGFiZWxbZm9yPSdcIiArICQudWkuZXNjYXBlU2VsZWN0b3IoIGlkICkgKyBcIiddXCI7XG5cblx0XHRsYWJlbHMgPSBsYWJlbHMuYWRkKCBhbmNlc3RvcnMuZmluZCggc2VsZWN0b3IgKS5hZGRCYWNrKCBzZWxlY3RvciApICk7XG5cblx0fVxuXG5cdC8vIFJldHVybiB3aGF0ZXZlciB3ZSBoYXZlIGZvdW5kIGZvciBsYWJlbHNcblx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBsYWJlbHMgKTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgU2Nyb2xsIFBhcmVudCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogc2Nyb2xsUGFyZW50XG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogR2V0IHRoZSBjbG9zZXN0IGFuY2VzdG9yIGVsZW1lbnQgdGhhdCBpcyBzY3JvbGxhYmxlLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Njcm9sbFBhcmVudC9cblxuXG5cbnZhciBzY3JvbGxQYXJlbnQgPSAkLmZuLnNjcm9sbFBhcmVudCA9IGZ1bmN0aW9uKCBpbmNsdWRlSGlkZGVuICkge1xuXHR2YXIgcG9zaXRpb24gPSB0aGlzLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0ZXhjbHVkZVN0YXRpY1BhcmVudCA9IHBvc2l0aW9uID09PSBcImFic29sdXRlXCIsXG5cdFx0b3ZlcmZsb3dSZWdleCA9IGluY2x1ZGVIaWRkZW4gPyAvKGF1dG98c2Nyb2xsfGhpZGRlbikvIDogLyhhdXRvfHNjcm9sbCkvLFxuXHRcdHNjcm9sbFBhcmVudCA9IHRoaXMucGFyZW50cygpLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCBleGNsdWRlU3RhdGljUGFyZW50ICYmIHBhcmVudC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3ZlcmZsb3dSZWdleC50ZXN0KCBwYXJlbnQuY3NzKCBcIm92ZXJmbG93XCIgKSArIHBhcmVudC5jc3MoIFwib3ZlcmZsb3cteVwiICkgK1xuXHRcdFx0XHRwYXJlbnQuY3NzKCBcIm92ZXJmbG93LXhcIiApICk7XG5cdFx0fSApLmVxKCAwICk7XG5cblx0cmV0dXJuIHBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgIXNjcm9sbFBhcmVudC5sZW5ndGggP1xuXHRcdCQoIHRoaXNbIDAgXS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgOlxuXHRcdHNjcm9sbFBhcmVudDtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgVGFiYmFibGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IDp0YWJiYWJsZSBTZWxlY3RvclxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFNlbGVjdHMgZWxlbWVudHMgd2hpY2ggY2FuIGJlIHRhYmJlZCB0by5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90YWJiYWJsZS1zZWxlY3Rvci9cblxuXG5cbnZhciB0YWJiYWJsZSA9ICQuZXh0ZW5kKCAkLmV4cHJbIFwiOlwiIF0sIHtcblx0dGFiYmFibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciB0YWJJbmRleCA9ICQuYXR0ciggZWxlbWVudCwgXCJ0YWJpbmRleFwiICksXG5cdFx0XHRoYXNUYWJpbmRleCA9IHRhYkluZGV4ICE9IG51bGw7XG5cdFx0cmV0dXJuICggIWhhc1RhYmluZGV4IHx8IHRhYkluZGV4ID49IDAgKSAmJiAkLnVpLmZvY3VzYWJsZSggZWxlbWVudCwgaGFzVGFiaW5kZXggKTtcblx0fVxufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFVuaXF1ZSBJRCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogdW5pcXVlSWRcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBGdW5jdGlvbnMgdG8gZ2VuZXJhdGUgYW5kIHJlbW92ZSB1bmlxdWVJZCdzXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vdW5pcXVlSWQvXG5cblxuXG52YXIgdW5pcXVlSWQgPSAkLmZuLmV4dGVuZCgge1xuXHR1bmlxdWVJZDogKCBmdW5jdGlvbigpIHtcblx0XHR2YXIgdXVpZCA9IDA7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhdGhpcy5pZCApIHtcblx0XHRcdFx0XHR0aGlzLmlkID0gXCJ1aS1pZC1cIiArICggKyt1dWlkICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9O1xuXHR9ICkoKSxcblxuXHRyZW1vdmVVbmlxdWVJZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIC9edWktaWQtXFxkKyQvLnRlc3QoIHRoaXMuaWQgKSApIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUF0dHIoIFwiaWRcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEFjY29yZGlvbiAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQWNjb3JkaW9uXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vIGpzY3M6ZGlzYWJsZSBtYXhpbXVtTGluZUxlbmd0aFxuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBjb2xsYXBzaWJsZSBjb250ZW50IHBhbmVscyBmb3IgcHJlc2VudGluZyBpbmZvcm1hdGlvbiBpbiBhIGxpbWl0ZWQgYW1vdW50IG9mIHNwYWNlLlxuLy8ganNjczplbmFibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9hY2NvcmRpb24vXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vYWNjb3JkaW9uL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NvcmUuY3NzXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvYWNjb3JkaW9uLmNzc1xuLy8+PmNzcy50aGVtZTogLi4vLi4vdGhlbWVzL2Jhc2UvdGhlbWUuY3NzXG5cblxuXG52YXIgd2lkZ2V0c0FjY29yZGlvbiA9ICQud2lkZ2V0KCBcInVpLmFjY29yZGlvblwiLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdG9wdGlvbnM6IHtcblx0XHRhY3RpdmU6IDAsXG5cdFx0YW5pbWF0ZToge30sXG5cdFx0Y2xhc3Nlczoge1xuXHRcdFx0XCJ1aS1hY2NvcmRpb24taGVhZGVyXCI6IFwidWktY29ybmVyLXRvcFwiLFxuXHRcdFx0XCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZFwiOiBcInVpLWNvcm5lci1hbGxcIixcblx0XHRcdFwidWktYWNjb3JkaW9uLWNvbnRlbnRcIjogXCJ1aS1jb3JuZXItYm90dG9tXCJcblx0XHR9LFxuXHRcdGNvbGxhcHNpYmxlOiBmYWxzZSxcblx0XHRldmVudDogXCJjbGlja1wiLFxuXHRcdGhlYWRlcjogXCI+IGxpID4gOmZpcnN0LWNoaWxkLCA+IDpub3QobGkpOmV2ZW5cIixcblx0XHRoZWlnaHRTdHlsZTogXCJhdXRvXCIsXG5cdFx0aWNvbnM6IHtcblx0XHRcdGFjdGl2ZUhlYWRlcjogXCJ1aS1pY29uLXRyaWFuZ2xlLTEtc1wiLFxuXHRcdFx0aGVhZGVyOiBcInVpLWljb24tdHJpYW5nbGUtMS1lXCJcblx0XHR9LFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0YWN0aXZhdGU6IG51bGwsXG5cdFx0YmVmb3JlQWN0aXZhdGU6IG51bGxcblx0fSxcblxuXHRoaWRlUHJvcHM6IHtcblx0XHRib3JkZXJUb3BXaWR0aDogXCJoaWRlXCIsXG5cdFx0Ym9yZGVyQm90dG9tV2lkdGg6IFwiaGlkZVwiLFxuXHRcdHBhZGRpbmdUb3A6IFwiaGlkZVwiLFxuXHRcdHBhZGRpbmdCb3R0b206IFwiaGlkZVwiLFxuXHRcdGhlaWdodDogXCJoaWRlXCJcblx0fSxcblxuXHRzaG93UHJvcHM6IHtcblx0XHRib3JkZXJUb3BXaWR0aDogXCJzaG93XCIsXG5cdFx0Ym9yZGVyQm90dG9tV2lkdGg6IFwic2hvd1wiLFxuXHRcdHBhZGRpbmdUb3A6IFwic2hvd1wiLFxuXHRcdHBhZGRpbmdCb3R0b206IFwic2hvd1wiLFxuXHRcdGhlaWdodDogXCJzaG93XCJcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdHRoaXMucHJldlNob3cgPSB0aGlzLnByZXZIaWRlID0gJCgpO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLWFjY29yZGlvblwiLCBcInVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXRcIiApO1xuXHRcdHRoaXMuZWxlbWVudC5hdHRyKCBcInJvbGVcIiwgXCJ0YWJsaXN0XCIgKTtcblxuXHRcdC8vIERvbid0IGFsbG93IGNvbGxhcHNpYmxlOiBmYWxzZSBhbmQgYWN0aXZlOiBmYWxzZSAvIG51bGxcblx0XHRpZiAoICFvcHRpb25zLmNvbGxhcHNpYmxlICYmICggb3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlIHx8IG9wdGlvbnMuYWN0aXZlID09IG51bGwgKSApIHtcblx0XHRcdG9wdGlvbnMuYWN0aXZlID0gMDtcblx0XHR9XG5cblx0XHR0aGlzLl9wcm9jZXNzUGFuZWxzKCk7XG5cblx0XHQvLyBoYW5kbGUgbmVnYXRpdmUgdmFsdWVzXG5cdFx0aWYgKCBvcHRpb25zLmFjdGl2ZSA8IDAgKSB7XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSArPSB0aGlzLmhlYWRlcnMubGVuZ3RoO1xuXHRcdH1cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0X2dldENyZWF0ZUV2ZW50RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlYWRlcjogdGhpcy5hY3RpdmUsXG5cdFx0XHRwYW5lbDogIXRoaXMuYWN0aXZlLmxlbmd0aCA/ICQoKSA6IHRoaXMuYWN0aXZlLm5leHQoKVxuXHRcdH07XG5cdH0sXG5cblx0X2NyZWF0ZUljb25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWNvbiwgY2hpbGRyZW4sXG5cdFx0XHRpY29ucyA9IHRoaXMub3B0aW9ucy5pY29ucztcblxuXHRcdGlmICggaWNvbnMgKSB7XG5cdFx0XHRpY29uID0gJCggXCI8c3Bhbj5cIiApO1xuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIGljb24sIFwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIsIFwidWktaWNvbiBcIiArIGljb25zLmhlYWRlciApO1xuXHRcdFx0aWNvbi5wcmVwZW5kVG8oIHRoaXMuaGVhZGVycyApO1xuXHRcdFx0Y2hpbGRyZW4gPSB0aGlzLmFjdGl2ZS5jaGlsZHJlbiggXCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBjaGlsZHJlbiwgaWNvbnMuaGVhZGVyIClcblx0XHRcdFx0Ll9hZGRDbGFzcyggY2hpbGRyZW4sIG51bGwsIGljb25zLmFjdGl2ZUhlYWRlciApXG5cdFx0XHRcdC5fYWRkQ2xhc3MoIHRoaXMuaGVhZGVycywgXCJ1aS1hY2NvcmRpb24taWNvbnNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfZGVzdHJveUljb25zOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5oZWFkZXJzLCBcInVpLWFjY29yZGlvbi1pY29uc1wiICk7XG5cdFx0dGhpcy5oZWFkZXJzLmNoaWxkcmVuKCBcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIiApLnJlbW92ZSgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY29udGVudHM7XG5cblx0XHQvLyBDbGVhbiB1cCBtYWluIGVsZW1lbnRcblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKTtcblxuXHRcdC8vIENsZWFuIHVwIGhlYWRlcnNcblx0XHR0aGlzLmhlYWRlcnNcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXhcIiApXG5cdFx0XHQucmVtb3ZlVW5pcXVlSWQoKTtcblxuXHRcdHRoaXMuX2Rlc3Ryb3lJY29ucygpO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgY29udGVudCBwYW5lbHNcblx0XHRjb250ZW50cyA9IHRoaXMuaGVhZGVycy5uZXh0KClcblx0XHRcdC5jc3MoIFwiZGlzcGxheVwiLCBcIlwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGUgYXJpYS1oaWRkZW4gYXJpYS1sYWJlbGxlZGJ5XCIgKVxuXHRcdFx0LnJlbW92ZVVuaXF1ZUlkKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSAhPT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRjb250ZW50cy5jc3MoIFwiaGVpZ2h0XCIsIFwiXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiYWN0aXZlXCIgKSB7XG5cblx0XHRcdC8vIF9hY3RpdmF0ZSgpIHdpbGwgaGFuZGxlIGludmFsaWQgdmFsdWVzIGFuZCB1cGRhdGUgdGhpcy5vcHRpb25zXG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggdmFsdWUgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJldmVudFwiICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX29mZiggdGhpcy5oZWFkZXJzLCB0aGlzLm9wdGlvbnMuZXZlbnQgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3NldHVwRXZlbnRzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTZXR0aW5nIGNvbGxhcHNpYmxlOiBmYWxzZSB3aGlsZSBjb2xsYXBzZWQ7IG9wZW4gZmlyc3QgcGFuZWxcblx0XHRpZiAoIGtleSA9PT0gXCJjb2xsYXBzaWJsZVwiICYmICF2YWx1ZSAmJiB0aGlzLm9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSApIHtcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCAwICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiaWNvbnNcIiApIHtcblx0XHRcdHRoaXMuX2Rlc3Ryb3lJY29ucygpO1xuXHRcdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdFx0dGhpcy5fY3JlYXRlSWNvbnMoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIHZhbHVlICk7XG5cblx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRTggT25seVxuXHRcdC8vICM1MzMyIC8gIzYwNTkgLSBvcGFjaXR5IGRvZXNuJ3QgY2FzY2FkZSB0byBwb3NpdGlvbmVkIGVsZW1lbnRzIGluIElFXG5cdFx0Ly8gc28gd2UgbmVlZCB0byBhZGQgdGhlIGRpc2FibGVkIGNsYXNzIHRvIHRoZSBoZWFkZXJzIGFuZCBwYW5lbHNcblx0XHR0aGlzLl90b2dnbGVDbGFzcyggbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIHRoaXMuaGVhZGVycy5hZGQoIHRoaXMuaGVhZGVycy5uZXh0KCkgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLFxuXHRcdFx0ISF2YWx1ZSApO1xuXHR9LFxuXG5cdF9rZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIga2V5Q29kZSA9ICQudWkua2V5Q29kZSxcblx0XHRcdGxlbmd0aCA9IHRoaXMuaGVhZGVycy5sZW5ndGgsXG5cdFx0XHRjdXJyZW50SW5kZXggPSB0aGlzLmhlYWRlcnMuaW5kZXgoIGV2ZW50LnRhcmdldCApLFxuXHRcdFx0dG9Gb2N1cyA9IGZhbHNlO1xuXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRjYXNlIGtleUNvZGUuUklHSFQ6XG5cdFx0Y2FzZSBrZXlDb2RlLkRPV046XG5cdFx0XHR0b0ZvY3VzID0gdGhpcy5oZWFkZXJzWyAoIGN1cnJlbnRJbmRleCArIDEgKSAlIGxlbmd0aCBdO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBrZXlDb2RlLkxFRlQ6XG5cdFx0Y2FzZSBrZXlDb2RlLlVQOlxuXHRcdFx0dG9Gb2N1cyA9IHRoaXMuaGVhZGVyc1sgKCBjdXJyZW50SW5kZXggLSAxICsgbGVuZ3RoICkgJSBsZW5ndGggXTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2Uga2V5Q29kZS5TUEFDRTpcblx0XHRjYXNlIGtleUNvZGUuRU5URVI6XG5cdFx0XHR0aGlzLl9ldmVudEhhbmRsZXIoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIGtleUNvZGUuSE9NRTpcblx0XHRcdHRvRm9jdXMgPSB0aGlzLmhlYWRlcnNbIDAgXTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2Uga2V5Q29kZS5FTkQ6XG5cdFx0XHR0b0ZvY3VzID0gdGhpcy5oZWFkZXJzWyBsZW5ndGggLSAxIF07XG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRpZiAoIHRvRm9jdXMgKSB7XG5cdFx0XHQkKCBldmVudC50YXJnZXQgKS5hdHRyKCBcInRhYkluZGV4XCIsIC0xICk7XG5cdFx0XHQkKCB0b0ZvY3VzICkuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XG5cdFx0XHQkKCB0b0ZvY3VzICkudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblxuXHRfcGFuZWxLZXlEb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVAgJiYgZXZlbnQuY3RybEtleSApIHtcblx0XHRcdCQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5wcmV2KCkudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcdHRoaXMuX3Byb2Nlc3NQYW5lbHMoKTtcblxuXHRcdC8vIFdhcyBjb2xsYXBzZWQgb3Igbm8gcGFuZWxcblx0XHRpZiAoICggb3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlICYmIG9wdGlvbnMuY29sbGFwc2libGUgPT09IHRydWUgKSB8fFxuXHRcdFx0XHQhdGhpcy5oZWFkZXJzLmxlbmd0aCApIHtcblx0XHRcdG9wdGlvbnMuYWN0aXZlID0gZmFsc2U7XG5cdFx0XHR0aGlzLmFjdGl2ZSA9ICQoKTtcblxuXHRcdC8vIGFjdGl2ZSBmYWxzZSBvbmx5IHdoZW4gY29sbGFwc2libGUgaXMgdHJ1ZVxuXHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSApIHtcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCAwICk7XG5cblx0XHQvLyB3YXMgYWN0aXZlLCBidXQgYWN0aXZlIHBhbmVsIGlzIGdvbmVcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmFjdGl2ZS5sZW5ndGggJiYgISQuY29udGFpbnMoIHRoaXMuZWxlbWVudFsgMCBdLCB0aGlzLmFjdGl2ZVsgMCBdICkgKSB7XG5cblx0XHRcdC8vIGFsbCByZW1haW5pbmcgcGFuZWwgYXJlIGRpc2FibGVkXG5cdFx0XHRpZiAoIHRoaXMuaGVhZGVycy5sZW5ndGggPT09IHRoaXMuaGVhZGVycy5maW5kKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRvcHRpb25zLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0XHR0aGlzLmFjdGl2ZSA9ICQoKTtcblxuXHRcdFx0Ly8gYWN0aXZhdGUgcHJldmlvdXMgcGFuZWxcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCBNYXRoLm1heCggMCwgb3B0aW9ucy5hY3RpdmUgLSAxICkgKTtcblx0XHRcdH1cblxuXHRcdC8vIHdhcyBhY3RpdmUsIGFjdGl2ZSBwYW5lbCBzdGlsbCBleGlzdHNcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBtYWtlIHN1cmUgYWN0aXZlIGluZGV4IGlzIGNvcnJlY3Rcblx0XHRcdG9wdGlvbnMuYWN0aXZlID0gdGhpcy5oZWFkZXJzLmluZGV4KCB0aGlzLmFjdGl2ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX2Rlc3Ryb3lJY29ucygpO1xuXG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHR9LFxuXG5cdF9wcm9jZXNzUGFuZWxzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJldkhlYWRlcnMgPSB0aGlzLmhlYWRlcnMsXG5cdFx0XHRwcmV2UGFuZWxzID0gdGhpcy5wYW5lbHM7XG5cblx0XHR0aGlzLmhlYWRlcnMgPSB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLmhlYWRlciApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmhlYWRlcnMsIFwidWktYWNjb3JkaW9uLWhlYWRlciB1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZFwiLFxuXHRcdFx0XCJ1aS1zdGF0ZS1kZWZhdWx0XCIgKTtcblxuXHRcdHRoaXMucGFuZWxzID0gdGhpcy5oZWFkZXJzLm5leHQoKS5maWx0ZXIoIFwiOm5vdCgudWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlKVwiICkuaGlkZSgpO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnBhbmVscywgXCJ1aS1hY2NvcmRpb24tY29udGVudFwiLCBcInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudFwiICk7XG5cblx0XHQvLyBBdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHRpZiAoIHByZXZQYW5lbHMgKSB7XG5cdFx0XHR0aGlzLl9vZmYoIHByZXZIZWFkZXJzLm5vdCggdGhpcy5oZWFkZXJzICkgKTtcblx0XHRcdHRoaXMuX29mZiggcHJldlBhbmVscy5ub3QoIHRoaXMucGFuZWxzICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtYXhIZWlnaHQsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGVpZ2h0U3R5bGUgPSBvcHRpb25zLmhlaWdodFN0eWxlLFxuXHRcdFx0cGFyZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudCgpO1xuXG5cdFx0dGhpcy5hY3RpdmUgPSB0aGlzLl9maW5kQWN0aXZlKCBvcHRpb25zLmFjdGl2ZSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmFjdGl2ZSwgXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZVwiLCBcInVpLXN0YXRlLWFjdGl2ZVwiIClcblx0XHRcdC5fcmVtb3ZlQ2xhc3MoIHRoaXMuYWN0aXZlLCBcInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkXCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5hY3RpdmUubmV4dCgpLCBcInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZVwiICk7XG5cdFx0dGhpcy5hY3RpdmUubmV4dCgpLnNob3coKTtcblxuXHRcdHRoaXMuaGVhZGVyc1xuXHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcInRhYlwiIClcblx0XHRcdC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGhlYWRlciA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRoZWFkZXJJZCA9IGhlYWRlci51bmlxdWVJZCgpLmF0dHIoIFwiaWRcIiApLFxuXHRcdFx0XHRcdHBhbmVsID0gaGVhZGVyLm5leHQoKSxcblx0XHRcdFx0XHRwYW5lbElkID0gcGFuZWwudW5pcXVlSWQoKS5hdHRyKCBcImlkXCIgKTtcblx0XHRcdFx0aGVhZGVyLmF0dHIoIFwiYXJpYS1jb250cm9sc1wiLCBwYW5lbElkICk7XG5cdFx0XHRcdHBhbmVsLmF0dHIoIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIGhlYWRlcklkICk7XG5cdFx0XHR9IClcblx0XHRcdC5uZXh0KClcblx0XHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcInRhYnBhbmVsXCIgKTtcblxuXHRcdHRoaXMuaGVhZGVyc1xuXHRcdFx0Lm5vdCggdGhpcy5hY3RpdmUgKVxuXHRcdFx0XHQuYXR0cigge1xuXHRcdFx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcImZhbHNlXCIsXG5cdFx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFx0XHR0YWJJbmRleDogLTFcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5uZXh0KClcblx0XHRcdFx0XHQuYXR0cigge1xuXHRcdFx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdC5oaWRlKCk7XG5cblx0XHQvLyBNYWtlIHN1cmUgYXQgbGVhc3Qgb25lIGhlYWRlciBpcyBpbiB0aGUgdGFiIG9yZGVyXG5cdFx0aWYgKCAhdGhpcy5hY3RpdmUubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5oZWFkZXJzLmVxKCAwICkuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWN0aXZlLmF0dHIoIHtcblx0XHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdHRhYkluZGV4OiAwXG5cdFx0XHR9IClcblx0XHRcdFx0Lm5leHQoKVxuXHRcdFx0XHRcdC5hdHRyKCB7XG5cdFx0XHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwiZmFsc2VcIlxuXHRcdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR0aGlzLl9jcmVhdGVJY29ucygpO1xuXG5cdFx0dGhpcy5fc2V0dXBFdmVudHMoIG9wdGlvbnMuZXZlbnQgKTtcblxuXHRcdGlmICggaGVpZ2h0U3R5bGUgPT09IFwiZmlsbFwiICkge1xuXHRcdFx0bWF4SGVpZ2h0ID0gcGFyZW50LmhlaWdodCgpO1xuXHRcdFx0dGhpcy5lbGVtZW50LnNpYmxpbmdzKCBcIjp2aXNpYmxlXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBlbGVtLmNzcyggXCJwb3NpdGlvblwiICk7XG5cblx0XHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1heEhlaWdodCAtPSBlbGVtLm91dGVySGVpZ2h0KCB0cnVlICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuaGVhZGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0bWF4SGVpZ2h0IC09ICQoIHRoaXMgKS5vdXRlckhlaWdodCggdHJ1ZSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLmhlYWRlcnMubmV4dCgpXG5cdFx0XHRcdC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuaGVpZ2h0KCBNYXRoLm1heCggMCwgbWF4SGVpZ2h0IC1cblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5pbm5lckhlaWdodCgpICsgJCggdGhpcyApLmhlaWdodCgpICkgKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5jc3MoIFwib3ZlcmZsb3dcIiwgXCJhdXRvXCIgKTtcblx0XHR9IGVsc2UgaWYgKCBoZWlnaHRTdHlsZSA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0XHRtYXhIZWlnaHQgPSAwO1xuXHRcdFx0dGhpcy5oZWFkZXJzLm5leHQoKVxuXHRcdFx0XHQuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGlzVmlzaWJsZSA9ICQoIHRoaXMgKS5pcyggXCI6dmlzaWJsZVwiICk7XG5cdFx0XHRcdFx0aWYgKCAhaXNWaXNpYmxlICkge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLnNob3coKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWF4SGVpZ2h0ID0gTWF0aC5tYXgoIG1heEhlaWdodCwgJCggdGhpcyApLmNzcyggXCJoZWlnaHRcIiwgXCJcIiApLmhlaWdodCgpICk7XG5cdFx0XHRcdFx0aWYgKCAhaXNWaXNpYmxlICkge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmhpZGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQuaGVpZ2h0KCBtYXhIZWlnaHQgKTtcblx0XHR9XG5cdH0sXG5cblx0X2FjdGl2YXRlOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIGFjdGl2ZSA9IHRoaXMuX2ZpbmRBY3RpdmUoIGluZGV4IClbIDAgXTtcblxuXHRcdC8vIFRyeWluZyB0byBhY3RpdmF0ZSB0aGUgYWxyZWFkeSBhY3RpdmUgcGFuZWxcblx0XHRpZiAoIGFjdGl2ZSA9PT0gdGhpcy5hY3RpdmVbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBUcnlpbmcgdG8gY29sbGFwc2UsIHNpbXVsYXRlIGEgY2xpY2sgb24gdGhlIGN1cnJlbnRseSBhY3RpdmUgaGVhZGVyXG5cdFx0YWN0aXZlID0gYWN0aXZlIHx8IHRoaXMuYWN0aXZlWyAwIF07XG5cblx0XHR0aGlzLl9ldmVudEhhbmRsZXIoIHtcblx0XHRcdHRhcmdldDogYWN0aXZlLFxuXHRcdFx0Y3VycmVudFRhcmdldDogYWN0aXZlLFxuXHRcdFx0cHJldmVudERlZmF1bHQ6ICQubm9vcFxuXHRcdH0gKTtcblx0fSxcblxuXHRfZmluZEFjdGl2ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwibnVtYmVyXCIgPyB0aGlzLmhlYWRlcnMuZXEoIHNlbGVjdG9yICkgOiAkKCk7XG5cdH0sXG5cblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdGtleWRvd246IFwiX2tleWRvd25cIlxuXHRcdH07XG5cdFx0aWYgKCBldmVudCApIHtcblx0XHRcdCQuZWFjaCggZXZlbnQuc3BsaXQoIFwiIFwiICksIGZ1bmN0aW9uKCBpbmRleCwgZXZlbnROYW1lICkge1xuXHRcdFx0XHRldmVudHNbIGV2ZW50TmFtZSBdID0gXCJfZXZlbnRIYW5kbGVyXCI7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fb2ZmKCB0aGlzLmhlYWRlcnMuYWRkKCB0aGlzLmhlYWRlcnMubmV4dCgpICkgKTtcblx0XHR0aGlzLl9vbiggdGhpcy5oZWFkZXJzLCBldmVudHMgKTtcblx0XHR0aGlzLl9vbiggdGhpcy5oZWFkZXJzLm5leHQoKSwgeyBrZXlkb3duOiBcIl9wYW5lbEtleURvd25cIiB9ICk7XG5cdFx0dGhpcy5faG92ZXJhYmxlKCB0aGlzLmhlYWRlcnMgKTtcblx0XHR0aGlzLl9mb2N1c2FibGUoIHRoaXMuaGVhZGVycyApO1xuXHR9LFxuXG5cdF9ldmVudEhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgYWN0aXZlQ2hpbGRyZW4sIGNsaWNrZWRDaGlsZHJlbixcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRhY3RpdmUgPSB0aGlzLmFjdGl2ZSxcblx0XHRcdGNsaWNrZWQgPSAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksXG5cdFx0XHRjbGlja2VkSXNBY3RpdmUgPSBjbGlja2VkWyAwIF0gPT09IGFjdGl2ZVsgMCBdLFxuXHRcdFx0Y29sbGFwc2luZyA9IGNsaWNrZWRJc0FjdGl2ZSAmJiBvcHRpb25zLmNvbGxhcHNpYmxlLFxuXHRcdFx0dG9TaG93ID0gY29sbGFwc2luZyA/ICQoKSA6IGNsaWNrZWQubmV4dCgpLFxuXHRcdFx0dG9IaWRlID0gYWN0aXZlLm5leHQoKSxcblx0XHRcdGV2ZW50RGF0YSA9IHtcblx0XHRcdFx0b2xkSGVhZGVyOiBhY3RpdmUsXG5cdFx0XHRcdG9sZFBhbmVsOiB0b0hpZGUsXG5cdFx0XHRcdG5ld0hlYWRlcjogY29sbGFwc2luZyA/ICQoKSA6IGNsaWNrZWQsXG5cdFx0XHRcdG5ld1BhbmVsOiB0b1Nob3dcblx0XHRcdH07XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKFxuXG5cdFx0XHRcdC8vIGNsaWNrIG9uIGFjdGl2ZSBoZWFkZXIsIGJ1dCBub3QgY29sbGFwc2libGVcblx0XHRcdFx0KCBjbGlja2VkSXNBY3RpdmUgJiYgIW9wdGlvbnMuY29sbGFwc2libGUgKSB8fFxuXG5cdFx0XHRcdC8vIGFsbG93IGNhbmNlbGluZyBhY3RpdmF0aW9uXG5cdFx0XHRcdCggdGhpcy5fdHJpZ2dlciggXCJiZWZvcmVBY3RpdmF0ZVwiLCBldmVudCwgZXZlbnREYXRhICkgPT09IGZhbHNlICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0b3B0aW9ucy5hY3RpdmUgPSBjb2xsYXBzaW5nID8gZmFsc2UgOiB0aGlzLmhlYWRlcnMuaW5kZXgoIGNsaWNrZWQgKTtcblxuXHRcdC8vIFdoZW4gdGhlIGNhbGwgdG8gLl90b2dnbGUoKSBjb21lcyBhZnRlciB0aGUgY2xhc3MgY2hhbmdlc1xuXHRcdC8vIGl0IGNhdXNlcyBhIHZlcnkgb2RkIGJ1ZyBpbiBJRSA4IChzZWUgIzY3MjApXG5cdFx0dGhpcy5hY3RpdmUgPSBjbGlja2VkSXNBY3RpdmUgPyAkKCkgOiBjbGlja2VkO1xuXHRcdHRoaXMuX3RvZ2dsZSggZXZlbnREYXRhICk7XG5cblx0XHQvLyBTd2l0Y2ggY2xhc3Nlc1xuXHRcdC8vIGNvcm5lciBjbGFzc2VzIG9uIHRoZSBwcmV2aW91c2x5IGFjdGl2ZSBoZWFkZXIgc3RheSBhZnRlciB0aGUgYW5pbWF0aW9uXG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIGFjdGl2ZSwgXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZVwiLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0aWYgKCBvcHRpb25zLmljb25zICkge1xuXHRcdFx0YWN0aXZlQ2hpbGRyZW4gPSBhY3RpdmUuY2hpbGRyZW4oIFwiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvblwiICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggYWN0aXZlQ2hpbGRyZW4sIG51bGwsIG9wdGlvbnMuaWNvbnMuYWN0aXZlSGVhZGVyIClcblx0XHRcdFx0Ll9hZGRDbGFzcyggYWN0aXZlQ2hpbGRyZW4sIG51bGwsIG9wdGlvbnMuaWNvbnMuaGVhZGVyICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhY2xpY2tlZElzQWN0aXZlICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIGNsaWNrZWQsIFwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWRcIiApXG5cdFx0XHRcdC5fYWRkQ2xhc3MoIGNsaWNrZWQsIFwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmVcIiwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0aWYgKCBvcHRpb25zLmljb25zICkge1xuXHRcdFx0XHRjbGlja2VkQ2hpbGRyZW4gPSBjbGlja2VkLmNoaWxkcmVuKCBcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIiApO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggY2xpY2tlZENoaWxkcmVuLCBudWxsLCBvcHRpb25zLmljb25zLmhlYWRlciApXG5cdFx0XHRcdFx0Ll9hZGRDbGFzcyggY2xpY2tlZENoaWxkcmVuLCBudWxsLCBvcHRpb25zLmljb25zLmFjdGl2ZUhlYWRlciApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9hZGRDbGFzcyggY2xpY2tlZC5uZXh0KCksIFwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X3RvZ2dsZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0dmFyIHRvU2hvdyA9IGRhdGEubmV3UGFuZWwsXG5cdFx0XHR0b0hpZGUgPSB0aGlzLnByZXZTaG93Lmxlbmd0aCA/IHRoaXMucHJldlNob3cgOiBkYXRhLm9sZFBhbmVsO1xuXG5cdFx0Ly8gSGFuZGxlIGFjdGl2YXRpbmcgYSBwYW5lbCBkdXJpbmcgdGhlIGFuaW1hdGlvbiBmb3IgYW5vdGhlciBhY3RpdmF0aW9uXG5cdFx0dGhpcy5wcmV2U2hvdy5hZGQoIHRoaXMucHJldkhpZGUgKS5zdG9wKCB0cnVlLCB0cnVlICk7XG5cdFx0dGhpcy5wcmV2U2hvdyA9IHRvU2hvdztcblx0XHR0aGlzLnByZXZIaWRlID0gdG9IaWRlO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYW5pbWF0ZSApIHtcblx0XHRcdHRoaXMuX2FuaW1hdGUoIHRvU2hvdywgdG9IaWRlLCBkYXRhICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRvSGlkZS5oaWRlKCk7XG5cdFx0XHR0b1Nob3cuc2hvdygpO1xuXHRcdFx0dGhpcy5fdG9nZ2xlQ29tcGxldGUoIGRhdGEgKTtcblx0XHR9XG5cblx0XHR0b0hpZGUuYXR0cigge1xuXHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuXHRcdH0gKTtcblx0XHR0b0hpZGUucHJldigpLmF0dHIoIHtcblx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcImZhbHNlXCIsXG5cdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG5cdFx0fSApO1xuXG5cdFx0Ly8gaWYgd2UncmUgc3dpdGNoaW5nIHBhbmVscywgcmVtb3ZlIHRoZSBvbGQgaGVhZGVyIGZyb20gdGhlIHRhYiBvcmRlclxuXHRcdC8vIGlmIHdlJ3JlIG9wZW5pbmcgZnJvbSBjb2xsYXBzZWQgc3RhdGUsIHJlbW92ZSB0aGUgcHJldmlvdXMgaGVhZGVyIGZyb20gdGhlIHRhYiBvcmRlclxuXHRcdC8vIGlmIHdlJ3JlIGNvbGxhcHNpbmcsIHRoZW4ga2VlcCB0aGUgY29sbGFwc2luZyBoZWFkZXIgaW4gdGhlIHRhYiBvcmRlclxuXHRcdGlmICggdG9TaG93Lmxlbmd0aCAmJiB0b0hpZGUubGVuZ3RoICkge1xuXHRcdFx0dG9IaWRlLnByZXYoKS5hdHRyKCB7XG5cdFx0XHRcdFwidGFiSW5kZXhcIjogLTEsXG5cdFx0XHRcdFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCJcblx0XHRcdH0gKTtcblx0XHR9IGVsc2UgaWYgKCB0b1Nob3cubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5oZWFkZXJzLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBwYXJzZUludCggJCggdGhpcyApLmF0dHIoIFwidGFiSW5kZXhcIiApLCAxMCApID09PSAwO1xuXHRcdFx0fSApXG5cdFx0XHRcdC5hdHRyKCBcInRhYkluZGV4XCIsIC0xICk7XG5cdFx0fVxuXG5cdFx0dG9TaG93XG5cdFx0XHQuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIgKVxuXHRcdFx0LnByZXYoKVxuXHRcdFx0XHQuYXR0cigge1xuXHRcdFx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcInRydWVcIixcblx0XHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdFx0dGFiSW5kZXg6IDBcblx0XHRcdFx0fSApO1xuXHR9LFxuXG5cdF9hbmltYXRlOiBmdW5jdGlvbiggdG9TaG93LCB0b0hpZGUsIGRhdGEgKSB7XG5cdFx0dmFyIHRvdGFsLCBlYXNpbmcsIGR1cmF0aW9uLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRhZGp1c3QgPSAwLFxuXHRcdFx0Ym94U2l6aW5nID0gdG9TaG93LmNzcyggXCJib3gtc2l6aW5nXCIgKSxcblx0XHRcdGRvd24gPSB0b1Nob3cubGVuZ3RoICYmXG5cdFx0XHRcdCggIXRvSGlkZS5sZW5ndGggfHwgKCB0b1Nob3cuaW5kZXgoKSA8IHRvSGlkZS5pbmRleCgpICkgKSxcblx0XHRcdGFuaW1hdGUgPSB0aGlzLm9wdGlvbnMuYW5pbWF0ZSB8fCB7fSxcblx0XHRcdG9wdGlvbnMgPSBkb3duICYmIGFuaW1hdGUuZG93biB8fCBhbmltYXRlLFxuXHRcdFx0Y29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5fdG9nZ2xlQ29tcGxldGUoIGRhdGEgKTtcblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0ZHVyYXRpb24gPSBvcHRpb25zO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZWFzaW5nID0gb3B0aW9ucztcblx0XHR9XG5cblx0XHQvLyBmYWxsIGJhY2sgZnJvbSBvcHRpb25zIHRvIGFuaW1hdGlvbiBpbiBjYXNlIG9mIHBhcnRpYWwgZG93biBzZXR0aW5nc1xuXHRcdGVhc2luZyA9IGVhc2luZyB8fCBvcHRpb25zLmVhc2luZyB8fCBhbmltYXRlLmVhc2luZztcblx0XHRkdXJhdGlvbiA9IGR1cmF0aW9uIHx8IG9wdGlvbnMuZHVyYXRpb24gfHwgYW5pbWF0ZS5kdXJhdGlvbjtcblxuXHRcdGlmICggIXRvSGlkZS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdG9TaG93LmFuaW1hdGUoIHRoaXMuc2hvd1Byb3BzLCBkdXJhdGlvbiwgZWFzaW5nLCBjb21wbGV0ZSApO1xuXHRcdH1cblx0XHRpZiAoICF0b1Nob3cubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRvSGlkZS5hbmltYXRlKCB0aGlzLmhpZGVQcm9wcywgZHVyYXRpb24sIGVhc2luZywgY29tcGxldGUgKTtcblx0XHR9XG5cblx0XHR0b3RhbCA9IHRvU2hvdy5zaG93KCkub3V0ZXJIZWlnaHQoKTtcblx0XHR0b0hpZGUuYW5pbWF0ZSggdGhpcy5oaWRlUHJvcHMsIHtcblx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdGVhc2luZzogZWFzaW5nLFxuXHRcdFx0c3RlcDogZnVuY3Rpb24oIG5vdywgZnggKSB7XG5cdFx0XHRcdGZ4Lm5vdyA9IE1hdGgucm91bmQoIG5vdyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHR0b1Nob3dcblx0XHRcdC5oaWRlKClcblx0XHRcdC5hbmltYXRlKCB0aGlzLnNob3dQcm9wcywge1xuXHRcdFx0XHRkdXJhdGlvbjogZHVyYXRpb24sXG5cdFx0XHRcdGVhc2luZzogZWFzaW5nLFxuXHRcdFx0XHRjb21wbGV0ZTogY29tcGxldGUsXG5cdFx0XHRcdHN0ZXA6IGZ1bmN0aW9uKCBub3csIGZ4ICkge1xuXHRcdFx0XHRcdGZ4Lm5vdyA9IE1hdGgucm91bmQoIG5vdyApO1xuXHRcdFx0XHRcdGlmICggZngucHJvcCAhPT0gXCJoZWlnaHRcIiApIHtcblx0XHRcdFx0XHRcdGlmICggYm94U2l6aW5nID09PSBcImNvbnRlbnQtYm94XCIgKSB7XG5cdFx0XHRcdFx0XHRcdGFkanVzdCArPSBmeC5ub3c7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggdGhhdC5vcHRpb25zLmhlaWdodFN0eWxlICE9PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0XHRcdGZ4Lm5vdyA9IE1hdGgucm91bmQoIHRvdGFsIC0gdG9IaWRlLm91dGVySGVpZ2h0KCkgLSBhZGp1c3QgKTtcblx0XHRcdFx0XHRcdGFkanVzdCA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cblx0X3RvZ2dsZUNvbXBsZXRlOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHR2YXIgdG9IaWRlID0gZGF0YS5vbGRQYW5lbCxcblx0XHRcdHByZXYgPSB0b0hpZGUucHJldigpO1xuXG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRvSGlkZSwgXCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmVcIiApO1xuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBwcmV2LCBcInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlXCIgKVxuXHRcdFx0Ll9hZGRDbGFzcyggcHJldiwgXCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZFwiICk7XG5cblx0XHQvLyBXb3JrIGFyb3VuZCBmb3IgcmVuZGVyaW5nIGJ1ZyBpbiBJRSAoIzU0MjEpXG5cdFx0aWYgKCB0b0hpZGUubGVuZ3RoICkge1xuXHRcdFx0dG9IaWRlLnBhcmVudCgpWyAwIF0uY2xhc3NOYW1lID0gdG9IaWRlLnBhcmVudCgpWyAwIF0uY2xhc3NOYW1lO1xuXHRcdH1cblx0XHR0aGlzLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIG51bGwsIGRhdGEgKTtcblx0fVxufSApO1xuXG5cblxudmFyIHNhZmVBY3RpdmVFbGVtZW50ID0gJC51aS5zYWZlQWN0aXZlRWxlbWVudCA9IGZ1bmN0aW9uKCBkb2N1bWVudCApIHtcblx0dmFyIGFjdGl2ZUVsZW1lbnQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdC8vIElFOSB0aHJvd3MgYW4gXCJVbnNwZWNpZmllZCBlcnJvclwiIGFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGZyb20gYW4gPGlmcmFtZT5cblx0dHJ5IHtcblx0XHRhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVycm9yICkge1xuXHRcdGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgbWF5IHJldHVybiBudWxsIGluc3RlYWQgb2YgYW4gZWxlbWVudFxuXHQvLyBJbnRlcmVzdGluZ2x5LCB0aGlzIG9ubHkgc2VlbXMgdG8gb2NjdXIgd2hlbiBOT1QgaW4gYW4gaWZyYW1lXG5cdGlmICggIWFjdGl2ZUVsZW1lbnQgKSB7XG5cdFx0YWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdC8vIElFMTEgcmV0dXJucyBhIHNlZW1pbmdseSBlbXB0eSBvYmplY3QgaW4gc29tZSBjYXNlcyB3aGVuIGFjY2Vzc2luZ1xuXHQvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGZyb20gYW4gPGlmcmFtZT5cblx0aWYgKCAhYWN0aXZlRWxlbWVudC5ub2RlTmFtZSApIHtcblx0XHRhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcblx0fVxuXG5cdHJldHVybiBhY3RpdmVFbGVtZW50O1xufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBNZW51IDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBNZW51XG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogQ3JlYXRlcyBuZXN0YWJsZSBtZW51cy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9tZW51L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL21lbnUvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9tZW51LmNzc1xuLy8+PmNzcy50aGVtZTogLi4vLi4vdGhlbWVzL2Jhc2UvdGhlbWUuY3NzXG5cblxuXG52YXIgd2lkZ2V0c01lbnUgPSAkLndpZGdldCggXCJ1aS5tZW51XCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPHVsPlwiLFxuXHRkZWxheTogMzAwLFxuXHRvcHRpb25zOiB7XG5cdFx0aWNvbnM6IHtcblx0XHRcdHN1Ym1lbnU6IFwidWktaWNvbi1jYXJldC0xLWVcIlxuXHRcdH0sXG5cdFx0aXRlbXM6IFwiPiAqXCIsXG5cdFx0bWVudXM6IFwidWxcIixcblx0XHRwb3NpdGlvbjoge1xuXHRcdFx0bXk6IFwibGVmdCB0b3BcIixcblx0XHRcdGF0OiBcInJpZ2h0IHRvcFwiXG5cdFx0fSxcblx0XHRyb2xlOiBcIm1lbnVcIixcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGJsdXI6IG51bGwsXG5cdFx0Zm9jdXM6IG51bGwsXG5cdFx0c2VsZWN0OiBudWxsXG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5hY3RpdmVNZW51ID0gdGhpcy5lbGVtZW50O1xuXG5cdFx0Ly8gRmxhZyB1c2VkIHRvIHByZXZlbnQgZmlyaW5nIG9mIHRoZSBjbGljayBoYW5kbGVyXG5cdFx0Ly8gYXMgdGhlIGV2ZW50IGJ1YmJsZXMgdXAgdGhyb3VnaCBuZXN0ZWQgbWVudXNcblx0XHR0aGlzLm1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnVuaXF1ZUlkKClcblx0XHRcdC5hdHRyKCB7XG5cdFx0XHRcdHJvbGU6IHRoaXMub3B0aW9ucy5yb2xlLFxuXHRcdFx0XHR0YWJJbmRleDogMFxuXHRcdFx0fSApO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktbWVudVwiLCBcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiICk7XG5cdFx0dGhpcy5fb24oIHtcblxuXHRcdFx0Ly8gUHJldmVudCBmb2N1cyBmcm9tIHN0aWNraW5nIHRvIGxpbmtzIGluc2lkZSBtZW51IGFmdGVyIGNsaWNraW5nXG5cdFx0XHQvLyB0aGVtIChmb2N1cyBzaG91bGQgYWx3YXlzIHN0YXkgb24gVUwgZHVyaW5nIG5hdmlnYXRpb24pLlxuXHRcdFx0XCJtb3VzZWRvd24gLnVpLW1lbnUtaXRlbVwiOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9LFxuXHRcdFx0XCJjbGljayAudWktbWVudS1pdGVtXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApO1xuXHRcdFx0XHR2YXIgYWN0aXZlID0gJCggJC51aS5zYWZlQWN0aXZlRWxlbWVudCggdGhpcy5kb2N1bWVudFsgMCBdICkgKTtcblx0XHRcdFx0aWYgKCAhdGhpcy5tb3VzZUhhbmRsZWQgJiYgdGFyZ2V0Lm5vdCggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHR0aGlzLnNlbGVjdCggZXZlbnQgKTtcblxuXHRcdFx0XHRcdC8vIE9ubHkgc2V0IHRoZSBtb3VzZUhhbmRsZWQgZmxhZyBpZiB0aGUgZXZlbnQgd2lsbCBidWJibGUsIHNlZSAjOTQ2OS5cblx0XHRcdFx0XHRpZiAoICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0dGhpcy5tb3VzZUhhbmRsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9wZW4gc3VibWVudSBvbiBjbGlja1xuXHRcdFx0XHRcdGlmICggdGFyZ2V0LmhhcyggXCIudWktbWVudVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0dGhpcy5leHBhbmQoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggIXRoaXMuZWxlbWVudC5pcyggXCI6Zm9jdXNcIiApICYmXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZS5jbG9zZXN0KCBcIi51aS1tZW51XCIgKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlZGlyZWN0IGZvY3VzIHRvIHRoZSBtZW51XG5cdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggXCJmb2N1c1wiLCBbIHRydWUgXSApO1xuXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgYWN0aXZlIGl0ZW0gaXMgb24gdGhlIHRvcCBsZXZlbCwgbGV0IGl0IHN0YXkgYWN0aXZlLlxuXHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBibHVyIHRoZSBhY3RpdmUgaXRlbSBzaW5jZSBpdCBpcyBubyBsb25nZXIgdmlzaWJsZS5cblx0XHRcdFx0XHRcdGlmICggdGhpcy5hY3RpdmUgJiYgdGhpcy5hY3RpdmUucGFyZW50cyggXCIudWktbWVudVwiICkubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRcIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbVwiOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gSWdub3JlIG1vdXNlIGV2ZW50cyB3aGlsZSB0eXBlYWhlYWQgaXMgYWN0aXZlLCBzZWUgIzEwNDU4LlxuXHRcdFx0XHQvLyBQcmV2ZW50cyBmb2N1c2luZyB0aGUgd3JvbmcgaXRlbSB3aGVuIHR5cGVhaGVhZCBjYXVzZXMgYSBzY3JvbGwgd2hpbGUgdGhlIG1vdXNlXG5cdFx0XHRcdC8vIGlzIG92ZXIgYW4gaXRlbSBpbiB0aGUgbWVudVxuXHRcdFx0XHRpZiAoIHRoaXMucHJldmlvdXNGaWx0ZXIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGFjdHVhbFRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiICksXG5cdFx0XHRcdFx0dGFyZ2V0ID0gJCggZXZlbnQuY3VycmVudFRhcmdldCApO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBidWJibGVkIGV2ZW50cyBvbiBwYXJlbnQgaXRlbXMsIHNlZSAjMTE2NDFcblx0XHRcdFx0aWYgKCBhY3R1YWxUYXJnZXRbIDAgXSAhPT0gdGFyZ2V0WyAwIF0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIHVpLXN0YXRlLWFjdGl2ZSBjbGFzcyBmcm9tIHNpYmxpbmdzIG9mIHRoZSBuZXdseSBmb2N1c2VkIG1lbnUgaXRlbVxuXHRcdFx0XHQvLyB0byBhdm9pZCBhIGp1bXAgY2F1c2VkIGJ5IGFkamFjZW50IGVsZW1lbnRzIGJvdGggaGF2aW5nIGEgY2xhc3Mgd2l0aCBhIGJvcmRlclxuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGFyZ2V0LnNpYmxpbmdzKCkuY2hpbGRyZW4oIFwiLnVpLXN0YXRlLWFjdGl2ZVwiICksXG5cdFx0XHRcdFx0bnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgdGFyZ2V0ICk7XG5cdFx0XHR9LFxuXHRcdFx0bW91c2VsZWF2ZTogXCJjb2xsYXBzZUFsbFwiLFxuXHRcdFx0XCJtb3VzZWxlYXZlIC51aS1tZW51XCI6IFwiY29sbGFwc2VBbGxcIixcblx0XHRcdGZvY3VzOiBmdW5jdGlvbiggZXZlbnQsIGtlZXBBY3RpdmVJdGVtICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlJ3MgYWxyZWFkeSBhbiBhY3RpdmUgaXRlbSwga2VlcCBpdCBhY3RpdmVcblx0XHRcdFx0Ly8gSWYgbm90LCBhY3RpdmF0ZSB0aGUgZmlyc3QgaXRlbVxuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXMuYWN0aXZlIHx8IHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKS5lcSggMCApO1xuXG5cdFx0XHRcdGlmICggIWtlZXBBY3RpdmVJdGVtICkge1xuXHRcdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBpdGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRibHVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgbm90Q29udGFpbmVkID0gISQuY29udGFpbnMoXG5cdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnRbIDAgXSxcblx0XHRcdFx0XHRcdCQudWkuc2FmZUFjdGl2ZUVsZW1lbnQoIHRoaXMuZG9jdW1lbnRbIDAgXSApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRpZiAoIG5vdENvbnRhaW5lZCApIHtcblx0XHRcdFx0XHRcdHRoaXMuY29sbGFwc2VBbGwoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9LFxuXHRcdFx0a2V5ZG93bjogXCJfa2V5ZG93blwiXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cblx0XHQvLyBDbGlja3Mgb3V0c2lkZSBvZiBhIG1lbnUgY29sbGFwc2UgYW55IG9wZW4gbWVudXNcblx0XHR0aGlzLl9vbiggdGhpcy5kb2N1bWVudCwge1xuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayggZXZlbnQgKSApIHtcblx0XHRcdFx0XHR0aGlzLmNvbGxhcHNlQWxsKCBldmVudCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzZXQgdGhlIG1vdXNlSGFuZGxlZCBmbGFnXG5cdFx0XHRcdHRoaXMubW91c2VIYW5kbGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaXRlbXMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlIGFyaWEtZGlzYWJsZWRcIiApLFxuXHRcdFx0c3VibWVudXMgPSBpdGVtcy5jaGlsZHJlbiggXCIudWktbWVudS1pdGVtLXdyYXBwZXJcIiApXG5cdFx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpXG5cdFx0XHRcdC5yZW1vdmVBdHRyKCBcInRhYkluZGV4IHJvbGUgYXJpYS1oYXNwb3B1cFwiICk7XG5cblx0XHQvLyBEZXN0cm95IChzdWIpbWVudXNcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiIClcblx0XHRcdC5maW5kKCBcIi51aS1tZW51XCIgKS5hZGRCYWNrKClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZSBhcmlhLWxhYmVsbGVkYnkgYXJpYS1leHBhbmRlZCBhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIFwiICtcblx0XHRcdFx0XHRcInRhYkluZGV4XCIgKVxuXHRcdFx0XHQucmVtb3ZlVW5pcXVlSWQoKVxuXHRcdFx0XHQuc2hvdygpO1xuXG5cdFx0c3VibWVudXMuY2hpbGRyZW4oKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbGVtID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCBlbGVtLmRhdGEoIFwidWktbWVudS1zdWJtZW51LWNhcmV0XCIgKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X2tleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbWF0Y2gsIHByZXYsIGNoYXJhY3Rlciwgc2tpcCxcblx0XHRcdHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdHRoaXMucHJldmlvdXNQYWdlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0dGhpcy5uZXh0UGFnZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkhPTUU6XG5cdFx0XHR0aGlzLl9tb3ZlKCBcImZpcnN0XCIsIFwiZmlyc3RcIiwgZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkVORDpcblx0XHRcdHRoaXMuX21vdmUoIFwibGFzdFwiLCBcImxhc3RcIiwgZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0dGhpcy5wcmV2aW91cyggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHR0aGlzLm5leHQoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0dGhpcy5jb2xsYXBzZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0aWYgKCB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUuaXMoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKSApIHtcblx0XHRcdFx0dGhpcy5leHBhbmQoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5FTlRFUjpcblx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuRVNDQVBFOlxuXHRcdFx0dGhpcy5jb2xsYXBzZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuXHRcdFx0cHJldiA9IHRoaXMucHJldmlvdXNGaWx0ZXIgfHwgXCJcIjtcblx0XHRcdHNraXAgPSBmYWxzZTtcblxuXHRcdFx0Ly8gU3VwcG9ydCBudW1iZXIgcGFkIHZhbHVlc1xuXHRcdFx0Y2hhcmFjdGVyID0gZXZlbnQua2V5Q29kZSA+PSA5NiAmJiBldmVudC5rZXlDb2RlIDw9IDEwNSA/XG5cdFx0XHRcdCggZXZlbnQua2V5Q29kZSAtIDk2ICkudG9TdHJpbmcoKSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoIGV2ZW50LmtleUNvZGUgKTtcblxuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmZpbHRlclRpbWVyICk7XG5cblx0XHRcdGlmICggY2hhcmFjdGVyID09PSBwcmV2ICkge1xuXHRcdFx0XHRza2lwID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNoYXJhY3RlciA9IHByZXYgKyBjaGFyYWN0ZXI7XG5cdFx0XHR9XG5cblx0XHRcdG1hdGNoID0gdGhpcy5fZmlsdGVyTWVudUl0ZW1zKCBjaGFyYWN0ZXIgKTtcblx0XHRcdG1hdGNoID0gc2tpcCAmJiBtYXRjaC5pbmRleCggdGhpcy5hY3RpdmUubmV4dCgpICkgIT09IC0xID9cblx0XHRcdFx0dGhpcy5hY3RpdmUubmV4dEFsbCggXCIudWktbWVudS1pdGVtXCIgKSA6XG5cdFx0XHRcdG1hdGNoO1xuXG5cdFx0XHQvLyBJZiBubyBtYXRjaGVzIG9uIHRoZSBjdXJyZW50IGZpbHRlciwgcmVzZXQgdG8gdGhlIGxhc3QgY2hhcmFjdGVyIHByZXNzZWRcblx0XHRcdC8vIHRvIG1vdmUgZG93biB0aGUgbWVudSB0byB0aGUgZmlyc3QgaXRlbSB0aGF0IHN0YXJ0cyB3aXRoIHRoYXQgY2hhcmFjdGVyXG5cdFx0XHRpZiAoICFtYXRjaC5sZW5ndGggKSB7XG5cdFx0XHRcdGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoIGV2ZW50LmtleUNvZGUgKTtcblx0XHRcdFx0bWF0Y2ggPSB0aGlzLl9maWx0ZXJNZW51SXRlbXMoIGNoYXJhY3RlciApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1hdGNoLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIG1hdGNoICk7XG5cdFx0XHRcdHRoaXMucHJldmlvdXNGaWx0ZXIgPSBjaGFyYWN0ZXI7XG5cdFx0XHRcdHRoaXMuZmlsdGVyVGltZXIgPSB0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXI7XG5cdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggcHJldmVudERlZmF1bHQgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblxuXHRfYWN0aXZhdGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMuYWN0aXZlICYmICF0aGlzLmFjdGl2ZS5pcyggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0aWYgKCB0aGlzLmFjdGl2ZS5jaGlsZHJlbiggXCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMuZXhwYW5kKCBldmVudCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZWxlY3QoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtZW51cywgaXRlbXMsIG5ld1N1Ym1lbnVzLCBuZXdJdGVtcywgbmV3V3JhcHBlcnMsXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdGljb24gPSB0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxcblx0XHRcdHN1Ym1lbnVzID0gdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5tZW51cyApO1xuXG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIFwidWktbWVudS1pY29uc1wiLCBudWxsLCAhIXRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1pY29uXCIgKS5sZW5ndGggKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbmVzdGVkIG1lbnVzXG5cdFx0bmV3U3VibWVudXMgPSBzdWJtZW51cy5maWx0ZXIoIFwiOm5vdCgudWktbWVudSlcIiApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYXR0cigge1xuXHRcdFx0XHRyb2xlOiB0aGlzLm9wdGlvbnMucm9sZSxcblx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcblx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIlxuXHRcdFx0fSApXG5cdFx0XHQuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBtZW51ID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGl0ZW0gPSBtZW51LnByZXYoKSxcblx0XHRcdFx0XHRzdWJtZW51Q2FyZXQgPSAkKCBcIjxzcGFuPlwiICkuZGF0YSggXCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXRcIiwgdHJ1ZSApO1xuXG5cdFx0XHRcdHRoYXQuX2FkZENsYXNzKCBzdWJtZW51Q2FyZXQsIFwidWktbWVudS1pY29uXCIsIFwidWktaWNvbiBcIiArIGljb24gKTtcblx0XHRcdFx0aXRlbVxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtaGFzcG9wdXBcIiwgXCJ0cnVlXCIgKVxuXHRcdFx0XHRcdC5wcmVwZW5kKCBzdWJtZW51Q2FyZXQgKTtcblx0XHRcdFx0bWVudS5hdHRyKCBcImFyaWEtbGFiZWxsZWRieVwiLCBpdGVtLmF0dHIoIFwiaWRcIiApICk7XG5cdFx0XHR9ICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggbmV3U3VibWVudXMsIFwidWktbWVudVwiLCBcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udFwiICk7XG5cblx0XHRtZW51cyA9IHN1Ym1lbnVzLmFkZCggdGhpcy5lbGVtZW50ICk7XG5cdFx0aXRlbXMgPSBtZW51cy5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbWVudS1pdGVtcyBjb250YWluaW5nIHNwYWNlcyBhbmQvb3IgZGFzaGVzIG9ubHkgYXMgZGl2aWRlcnNcblx0XHRpdGVtcy5ub3QoIFwiLnVpLW1lbnUtaXRlbVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaXRlbSA9ICQoIHRoaXMgKTtcblx0XHRcdGlmICggdGhhdC5faXNEaXZpZGVyKCBpdGVtICkgKSB7XG5cdFx0XHRcdHRoYXQuX2FkZENsYXNzKCBpdGVtLCBcInVpLW1lbnUtZGl2aWRlclwiLCBcInVpLXdpZGdldC1jb250ZW50XCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHQvLyBEb24ndCByZWZyZXNoIGxpc3QgaXRlbXMgdGhhdCBhcmUgYWxyZWFkeSBhZGFwdGVkXG5cdFx0bmV3SXRlbXMgPSBpdGVtcy5ub3QoIFwiLnVpLW1lbnUtaXRlbSwgLnVpLW1lbnUtZGl2aWRlclwiICk7XG5cdFx0bmV3V3JhcHBlcnMgPSBuZXdJdGVtcy5jaGlsZHJlbigpXG5cdFx0XHQubm90KCBcIi51aS1tZW51XCIgKVxuXHRcdFx0XHQudW5pcXVlSWQoKVxuXHRcdFx0XHQuYXR0cigge1xuXHRcdFx0XHRcdHRhYkluZGV4OiAtMSxcblx0XHRcdFx0XHRyb2xlOiB0aGlzLl9pdGVtUm9sZSgpXG5cdFx0XHRcdH0gKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggbmV3SXRlbXMsIFwidWktbWVudS1pdGVtXCIgKVxuXHRcdFx0Ll9hZGRDbGFzcyggbmV3V3JhcHBlcnMsIFwidWktbWVudS1pdGVtLXdyYXBwZXJcIiApO1xuXG5cdFx0Ly8gQWRkIGFyaWEtZGlzYWJsZWQgYXR0cmlidXRlIHRvIGFueSBkaXNhYmxlZCBtZW51IGl0ZW1cblx0XHRpdGVtcy5maWx0ZXIoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKS5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgXCJ0cnVlXCIgKTtcblxuXHRcdC8vIElmIHRoZSBhY3RpdmUgaXRlbSBoYXMgYmVlbiByZW1vdmVkLCBibHVyIHRoZSBtZW51XG5cdFx0aWYgKCB0aGlzLmFjdGl2ZSAmJiAhJC5jb250YWlucyggdGhpcy5lbGVtZW50WyAwIF0sIHRoaXMuYWN0aXZlWyAwIF0gKSApIHtcblx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdH1cblx0fSxcblxuXHRfaXRlbVJvbGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtZW51OiBcIm1lbnVpdGVtXCIsXG5cdFx0XHRsaXN0Ym94OiBcIm9wdGlvblwiXG5cdFx0fVsgdGhpcy5vcHRpb25zLnJvbGUgXTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJpY29uc1wiICkge1xuXHRcdFx0dmFyIGljb25zID0gdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLW1lbnUtaWNvblwiICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggaWNvbnMsIG51bGwsIHRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51IClcblx0XHRcdFx0Ll9hZGRDbGFzcyggaWNvbnMsIG51bGwsIHZhbHVlLnN1Ym1lbnUgKTtcblx0XHR9XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uRGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlciggdmFsdWUgKTtcblxuXHRcdHRoaXMuZWxlbWVudC5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgU3RyaW5nKCB2YWx1ZSApICk7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIG51bGwsIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHR9LFxuXG5cdGZvY3VzOiBmdW5jdGlvbiggZXZlbnQsIGl0ZW0gKSB7XG5cdFx0dmFyIG5lc3RlZCwgZm9jdXNlZCwgYWN0aXZlUGFyZW50O1xuXHRcdHRoaXMuYmx1ciggZXZlbnQsIGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09IFwiZm9jdXNcIiApO1xuXG5cdFx0dGhpcy5fc2Nyb2xsSW50b1ZpZXcoIGl0ZW0gKTtcblxuXHRcdHRoaXMuYWN0aXZlID0gaXRlbS5maXJzdCgpO1xuXG5cdFx0Zm9jdXNlZCA9IHRoaXMuYWN0aXZlLmNoaWxkcmVuKCBcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiICk7XG5cdFx0dGhpcy5fYWRkQ2xhc3MoIGZvY3VzZWQsIG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblxuXHRcdC8vIE9ubHkgdXBkYXRlIGFyaWEtYWN0aXZlZGVzY2VuZGFudCBpZiB0aGVyZSdzIGEgcm9sZVxuXHRcdC8vIG90aGVyd2lzZSB3ZSBhc3N1bWUgZm9jdXMgaXMgbWFuYWdlZCBlbHNld2hlcmVcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5yb2xlICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsIGZvY3VzZWQuYXR0ciggXCJpZFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBIaWdobGlnaHQgYWN0aXZlIHBhcmVudCBtZW51IGl0ZW0sIGlmIGFueVxuXHRcdGFjdGl2ZVBhcmVudCA9IHRoaXMuYWN0aXZlXG5cdFx0XHQucGFyZW50KClcblx0XHRcdFx0LmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiIClcblx0XHRcdFx0XHQuY2hpbGRyZW4oIFwiLnVpLW1lbnUtaXRlbS13cmFwcGVyXCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggYWN0aXZlUGFyZW50LCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cblx0XHRpZiAoIGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09IFwia2V5ZG93blwiICkge1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50aW1lciA9IHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0XHR9XG5cblx0XHRuZXN0ZWQgPSBpdGVtLmNoaWxkcmVuKCBcIi51aS1tZW51XCIgKTtcblx0XHRpZiAoIG5lc3RlZC5sZW5ndGggJiYgZXZlbnQgJiYgKCAvXm1vdXNlLy50ZXN0KCBldmVudC50eXBlICkgKSApIHtcblx0XHRcdHRoaXMuX3N0YXJ0T3BlbmluZyggbmVzdGVkICk7XG5cdFx0fVxuXHRcdHRoaXMuYWN0aXZlTWVudSA9IGl0ZW0ucGFyZW50KCk7XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImZvY3VzXCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApO1xuXHR9LFxuXG5cdF9zY3JvbGxJbnRvVmlldzogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0dmFyIGJvcmRlclRvcCwgcGFkZGluZ1RvcCwgb2Zmc2V0LCBzY3JvbGwsIGVsZW1lbnRIZWlnaHQsIGl0ZW1IZWlnaHQ7XG5cdFx0aWYgKCB0aGlzLl9oYXNTY3JvbGwoKSApIHtcblx0XHRcdGJvcmRlclRvcCA9IHBhcnNlRmxvYXQoICQuY3NzKCB0aGlzLmFjdGl2ZU1lbnVbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiICkgKSB8fCAwO1xuXHRcdFx0cGFkZGluZ1RvcCA9IHBhcnNlRmxvYXQoICQuY3NzKCB0aGlzLmFjdGl2ZU1lbnVbIDAgXSwgXCJwYWRkaW5nVG9wXCIgKSApIHx8IDA7XG5cdFx0XHRvZmZzZXQgPSBpdGVtLm9mZnNldCgpLnRvcCAtIHRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3AgLSBib3JkZXJUb3AgLSBwYWRkaW5nVG9wO1xuXHRcdFx0c2Nyb2xsID0gdGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpO1xuXHRcdFx0ZWxlbWVudEhlaWdodCA9IHRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKTtcblx0XHRcdGl0ZW1IZWlnaHQgPSBpdGVtLm91dGVySGVpZ2h0KCk7XG5cblx0XHRcdGlmICggb2Zmc2V0IDwgMCApIHtcblx0XHRcdFx0dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCggc2Nyb2xsICsgb2Zmc2V0ICk7XG5cdFx0XHR9IGVsc2UgaWYgKCBvZmZzZXQgKyBpdGVtSGVpZ2h0ID4gZWxlbWVudEhlaWdodCApIHtcblx0XHRcdFx0dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCggc2Nyb2xsICsgb2Zmc2V0IC0gZWxlbWVudEhlaWdodCArIGl0ZW1IZWlnaHQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ymx1cjogZnVuY3Rpb24oIGV2ZW50LCBmcm9tRm9jdXMgKSB7XG5cdFx0aWYgKCAhZnJvbUZvY3VzICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhdGhpcy5hY3RpdmUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuYWN0aXZlLmNoaWxkcmVuKCBcIi51aS1tZW51LWl0ZW0td3JhcHBlclwiICksXG5cdFx0XHRudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImJsdXJcIiwgZXZlbnQsIHsgaXRlbTogdGhpcy5hY3RpdmUgfSApO1xuXHRcdHRoaXMuYWN0aXZlID0gbnVsbDtcblx0fSxcblxuXHRfc3RhcnRPcGVuaW5nOiBmdW5jdGlvbiggc3VibWVudSApIHtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblxuXHRcdC8vIERvbid0IG9wZW4gaWYgYWxyZWFkeSBvcGVuIGZpeGVzIGEgRmlyZWZveCBidWcgdGhhdCBjYXVzZWQgYSAuNSBwaXhlbFxuXHRcdC8vIHNoaWZ0IGluIHRoZSBzdWJtZW51IHBvc2l0aW9uIHdoZW4gbW91c2luZyBvdmVyIHRoZSBjYXJldCBpY29uXG5cdFx0aWYgKCBzdWJtZW51LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiApICE9PSBcInRydWVcIiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnRpbWVyID0gdGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHRcdHRoaXMuX29wZW4oIHN1Ym1lbnUgKTtcblx0XHR9LCB0aGlzLmRlbGF5ICk7XG5cdH0sXG5cblx0X29wZW46IGZ1bmN0aW9uKCBzdWJtZW51ICkge1xuXHRcdHZhciBwb3NpdGlvbiA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRvZjogdGhpcy5hY3RpdmVcblx0XHR9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKTtcblxuXHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1tZW51XCIgKS5ub3QoIHN1Ym1lbnUucGFyZW50cyggXCIudWktbWVudVwiICkgKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIgKTtcblxuXHRcdHN1Ym1lbnVcblx0XHRcdC5zaG93KClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtaGlkZGVuXCIgKVxuXHRcdFx0LmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIiApXG5cdFx0XHQucG9zaXRpb24oIHBvc2l0aW9uICk7XG5cdH0sXG5cblx0Y29sbGFwc2VBbGw6IGZ1bmN0aW9uKCBldmVudCwgYWxsICkge1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXHRcdHRoaXMudGltZXIgPSB0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHdlIHdlcmUgcGFzc2VkIGFuIGV2ZW50LCBsb29rIGZvciB0aGUgc3VibWVudSB0aGF0IGNvbnRhaW5zIHRoZSBldmVudFxuXHRcdFx0dmFyIGN1cnJlbnRNZW51ID0gYWxsID8gdGhpcy5lbGVtZW50IDpcblx0XHRcdFx0JCggZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLW1lbnVcIiApICk7XG5cblx0XHRcdC8vIElmIHdlIGZvdW5kIG5vIHZhbGlkIHN1Ym1lbnUgYW5jZXN0b3IsIHVzZSB0aGUgbWFpbiBtZW51IHRvIGNsb3NlIGFsbFxuXHRcdFx0Ly8gc3ViIG1lbnVzIGFueXdheVxuXHRcdFx0aWYgKCAhY3VycmVudE1lbnUubGVuZ3RoICkge1xuXHRcdFx0XHRjdXJyZW50TWVudSA9IHRoaXMuZWxlbWVudDtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY2xvc2UoIGN1cnJlbnRNZW51ICk7XG5cblx0XHRcdHRoaXMuYmx1ciggZXZlbnQgKTtcblxuXHRcdFx0Ly8gV29yayBhcm91bmQgYWN0aXZlIGl0ZW0gc3RheWluZyBhY3RpdmUgYWZ0ZXIgbWVudSBpcyBibHVycmVkXG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggY3VycmVudE1lbnUuZmluZCggXCIudWktc3RhdGUtYWN0aXZlXCIgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXG5cdFx0XHR0aGlzLmFjdGl2ZU1lbnUgPSBjdXJyZW50TWVudTtcblx0XHR9LCB0aGlzLmRlbGF5ICk7XG5cdH0sXG5cblx0Ly8gV2l0aCBubyBhcmd1bWVudHMsIGNsb3NlcyB0aGUgY3VycmVudGx5IGFjdGl2ZSBtZW51IC0gaWYgbm90aGluZyBpcyBhY3RpdmVcblx0Ly8gaXQgY2xvc2VzIGFsbCBtZW51cy4gIElmIHBhc3NlZCBhbiBhcmd1bWVudCwgaXQgd2lsbCBzZWFyY2ggZm9yIG1lbnVzIEJFTE9XXG5cdF9jbG9zZTogZnVuY3Rpb24oIHN0YXJ0TWVudSApIHtcblx0XHRpZiAoICFzdGFydE1lbnUgKSB7XG5cdFx0XHRzdGFydE1lbnUgPSB0aGlzLmFjdGl2ZSA/IHRoaXMuYWN0aXZlLnBhcmVudCgpIDogdGhpcy5lbGVtZW50O1xuXHRcdH1cblxuXHRcdHN0YXJ0TWVudS5maW5kKCBcIi51aS1tZW51XCIgKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIgKVxuXHRcdFx0LmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIgKTtcblx0fSxcblxuXHRfY2xvc2VPbkRvY3VtZW50Q2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRyZXR1cm4gISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLW1lbnVcIiApLmxlbmd0aDtcblx0fSxcblxuXHRfaXNEaXZpZGVyOiBmdW5jdGlvbiggaXRlbSApIHtcblxuXHRcdC8vIE1hdGNoIGh5cGhlbiwgZW0gZGFzaCwgZW4gZGFzaFxuXHRcdHJldHVybiAhL1teXFwtXFx1MjAxNFxcdTIwMTNcXHNdLy50ZXN0KCBpdGVtLnRleHQoKSApO1xuXHR9LFxuXG5cdGNvbGxhcHNlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG5ld0l0ZW0gPSB0aGlzLmFjdGl2ZSAmJlxuXHRcdFx0dGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCggXCIudWktbWVudS1pdGVtXCIsIHRoaXMuZWxlbWVudCApO1xuXHRcdGlmICggbmV3SXRlbSAmJiBuZXdJdGVtLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX2Nsb3NlKCk7XG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgbmV3SXRlbSApO1xuXHRcdH1cblx0fSxcblxuXHRleHBhbmQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbmV3SXRlbSA9IHRoaXMuYWN0aXZlICYmXG5cdFx0XHR0aGlzLmFjdGl2ZVxuXHRcdFx0XHQuY2hpbGRyZW4oIFwiLnVpLW1lbnUgXCIgKVxuXHRcdFx0XHRcdC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVxuXHRcdFx0XHRcdFx0LmZpcnN0KCk7XG5cblx0XHRpZiAoIG5ld0l0ZW0gJiYgbmV3SXRlbS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLl9vcGVuKCBuZXdJdGVtLnBhcmVudCgpICk7XG5cblx0XHRcdC8vIERlbGF5IHNvIEZpcmVmb3ggd2lsbCBub3QgaGlkZSBhY3RpdmVkZXNjZW5kYW50IGNoYW5nZSBpbiBleHBhbmRpbmcgc3VibWVudSBmcm9tIEFUXG5cdFx0XHR0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBuZXdJdGVtICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdG5leHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9tb3ZlKCBcIm5leHRcIiwgXCJmaXJzdFwiLCBldmVudCApO1xuXHR9LFxuXG5cdHByZXZpb3VzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5fbW92ZSggXCJwcmV2XCIsIFwibGFzdFwiLCBldmVudCApO1xuXHR9LFxuXG5cdGlzRmlyc3RJdGVtOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5hY3RpdmUgJiYgIXRoaXMuYWN0aXZlLnByZXZBbGwoIFwiLnVpLW1lbnUtaXRlbVwiICkubGVuZ3RoO1xuXHR9LFxuXG5cdGlzTGFzdEl0ZW06IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUubmV4dEFsbCggXCIudWktbWVudS1pdGVtXCIgKS5sZW5ndGg7XG5cdH0sXG5cblx0X21vdmU6IGZ1bmN0aW9uKCBkaXJlY3Rpb24sIGZpbHRlciwgZXZlbnQgKSB7XG5cdFx0dmFyIG5leHQ7XG5cdFx0aWYgKCB0aGlzLmFjdGl2ZSApIHtcblx0XHRcdGlmICggZGlyZWN0aW9uID09PSBcImZpcnN0XCIgfHwgZGlyZWN0aW9uID09PSBcImxhc3RcIiApIHtcblx0XHRcdFx0bmV4dCA9IHRoaXMuYWN0aXZlXG5cdFx0XHRcdFx0WyBkaXJlY3Rpb24gPT09IFwiZmlyc3RcIiA/IFwicHJldkFsbFwiIDogXCJuZXh0QWxsXCIgXSggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0XHRcdC5lcSggLTEgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5leHQgPSB0aGlzLmFjdGl2ZVxuXHRcdFx0XHRcdFsgZGlyZWN0aW9uICsgXCJBbGxcIiBdKCBcIi51aS1tZW51LWl0ZW1cIiApXG5cdFx0XHRcdFx0LmVxKCAwICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICggIW5leHQgfHwgIW5leHQubGVuZ3RoIHx8ICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdG5leHQgPSB0aGlzLmFjdGl2ZU1lbnUuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zIClbIGZpbHRlciBdKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mb2N1cyggZXZlbnQsIG5leHQgKTtcblx0fSxcblxuXHRuZXh0UGFnZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpdGVtLCBiYXNlLCBoZWlnaHQ7XG5cblx0XHRpZiAoICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdHRoaXMubmV4dCggZXZlbnQgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLmlzTGFzdEl0ZW0oKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9oYXNTY3JvbGwoKSApIHtcblx0XHRcdGJhc2UgPSB0aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3A7XG5cdFx0XHRoZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7XG5cdFx0XHR0aGlzLmFjdGl2ZS5uZXh0QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpdGVtID0gJCggdGhpcyApO1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5vZmZzZXQoKS50b3AgLSBiYXNlIC0gaGVpZ2h0IDwgMDtcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIGl0ZW0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIHRoaXMuYWN0aXZlTWVudS5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVxuXHRcdFx0XHRbICF0aGlzLmFjdGl2ZSA/IFwiZmlyc3RcIiA6IFwibGFzdFwiIF0oKSApO1xuXHRcdH1cblx0fSxcblxuXHRwcmV2aW91c1BhZ2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaXRlbSwgYmFzZSwgaGVpZ2h0O1xuXHRcdGlmICggIXRoaXMuYWN0aXZlICkge1xuXHRcdFx0dGhpcy5uZXh0KCBldmVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuaXNGaXJzdEl0ZW0oKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9oYXNTY3JvbGwoKSApIHtcblx0XHRcdGJhc2UgPSB0aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3A7XG5cdFx0XHRoZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7XG5cdFx0XHR0aGlzLmFjdGl2ZS5wcmV2QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpdGVtID0gJCggdGhpcyApO1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5vZmZzZXQoKS50b3AgLSBiYXNlICsgaGVpZ2h0ID4gMDtcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIGl0ZW0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIHRoaXMuYWN0aXZlTWVudS5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKS5maXJzdCgpICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9oYXNTY3JvbGw6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSA8IHRoaXMuZWxlbWVudC5wcm9wKCBcInNjcm9sbEhlaWdodFwiICk7XG5cdH0sXG5cblx0c2VsZWN0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHQvLyBUT0RPOiBJdCBzaG91bGQgbmV2ZXIgYmUgcG9zc2libGUgdG8gbm90IGhhdmUgYW4gYWN0aXZlIGl0ZW0gYXQgdGhpc1xuXHRcdC8vIHBvaW50LCBidXQgdGhlIHRlc3RzIGRvbid0IHRyaWdnZXIgbW91c2VlbnRlciBiZWZvcmUgY2xpY2suXG5cdFx0dGhpcy5hY3RpdmUgPSB0aGlzLmFjdGl2ZSB8fCAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1tZW51LWl0ZW1cIiApO1xuXHRcdHZhciB1aSA9IHsgaXRlbTogdGhpcy5hY3RpdmUgfTtcblx0XHRpZiAoICF0aGlzLmFjdGl2ZS5oYXMoIFwiLnVpLW1lbnVcIiApLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuY29sbGFwc2VBbGwoIGV2ZW50LCB0cnVlICk7XG5cdFx0fVxuXHRcdHRoaXMuX3RyaWdnZXIoIFwic2VsZWN0XCIsIGV2ZW50LCB1aSApO1xuXHR9LFxuXG5cdF9maWx0ZXJNZW51SXRlbXM6IGZ1bmN0aW9uKCBjaGFyYWN0ZXIgKSB7XG5cdFx0dmFyIGVzY2FwZWRDaGFyYWN0ZXIgPSBjaGFyYWN0ZXIucmVwbGFjZSggL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLCBcIlxcXFwkJlwiICksXG5cdFx0XHRyZWdleCA9IG5ldyBSZWdFeHAoIFwiXlwiICsgZXNjYXBlZENoYXJhY3RlciwgXCJpXCIgKTtcblxuXHRcdHJldHVybiB0aGlzLmFjdGl2ZU1lbnVcblx0XHRcdC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVxuXG5cdFx0XHRcdC8vIE9ubHkgbWF0Y2ggb24gaXRlbXMsIG5vdCBkaXZpZGVycyBvciBvdGhlciBjb250ZW50ICgjMTA1NzEpXG5cdFx0XHRcdC5maWx0ZXIoIFwiLnVpLW1lbnUtaXRlbVwiIClcblx0XHRcdFx0XHQuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiByZWdleC50ZXN0KFxuXHRcdFx0XHRcdFx0XHQkLnRyaW0oICQoIHRoaXMgKS5jaGlsZHJlbiggXCIudWktbWVudS1pdGVtLXdyYXBwZXJcIiApLnRleHQoKSApICk7XG5cdFx0XHRcdFx0fSApO1xuXHR9XG59ICk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgQXV0b2NvbXBsZXRlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBBdXRvY29tcGxldGVcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBMaXN0cyBzdWdnZXN0ZWQgd29yZHMgYXMgdGhlIHVzZXIgaXMgdHlwaW5nLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2F1dG9jb21wbGV0ZS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9hdXRvY29tcGxldGUvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9hdXRvY29tcGxldGUuY3NzXG4vLz4+Y3NzLnRoZW1lOiAuLi8uLi90aGVtZXMvYmFzZS90aGVtZS5jc3NcblxuXG5cbiQud2lkZ2V0KCBcInVpLmF1dG9jb21wbGV0ZVwiLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxpbnB1dD5cIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBudWxsLFxuXHRcdGF1dG9Gb2N1czogZmFsc2UsXG5cdFx0ZGVsYXk6IDMwMCxcblx0XHRtaW5MZW5ndGg6IDEsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImxlZnQgdG9wXCIsXG5cdFx0XHRhdDogXCJsZWZ0IGJvdHRvbVwiLFxuXHRcdFx0Y29sbGlzaW9uOiBcIm5vbmVcIlxuXHRcdH0sXG5cdFx0c291cmNlOiBudWxsLFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdGNsb3NlOiBudWxsLFxuXHRcdGZvY3VzOiBudWxsLFxuXHRcdG9wZW46IG51bGwsXG5cdFx0cmVzcG9uc2U6IG51bGwsXG5cdFx0c2VhcmNoOiBudWxsLFxuXHRcdHNlbGVjdDogbnVsbFxuXHR9LFxuXG5cdHJlcXVlc3RJbmRleDogMCxcblx0cGVuZGluZzogMCxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdC8vIFNvbWUgYnJvd3NlcnMgb25seSByZXBlYXQga2V5ZG93biBldmVudHMsIG5vdCBrZXlwcmVzcyBldmVudHMsXG5cdFx0Ly8gc28gd2UgdXNlIHRoZSBzdXBwcmVzc0tleVByZXNzIGZsYWcgdG8gZGV0ZXJtaW5lIGlmIHdlJ3ZlIGFscmVhZHlcblx0XHQvLyBoYW5kbGVkIHRoZSBrZXlkb3duIGV2ZW50LiAjNzI2OVxuXHRcdC8vIFVuZm9ydHVuYXRlbHkgdGhlIGNvZGUgZm9yICYgaW4ga2V5cHJlc3MgaXMgdGhlIHNhbWUgYXMgdGhlIHVwIGFycm93LFxuXHRcdC8vIHNvIHdlIHVzZSB0aGUgc3VwcHJlc3NLZXlQcmVzc1JlcGVhdCBmbGFnIHRvIGF2b2lkIGhhbmRsaW5nIGtleXByZXNzXG5cdFx0Ly8gZXZlbnRzIHdoZW4gd2Uga25vdyB0aGUga2V5ZG93biBldmVudCB3YXMgdXNlZCB0byBtb2RpZnkgdGhlXG5cdFx0Ly8gc2VhcmNoIHRlcm0uICM3Nzk5XG5cdFx0dmFyIHN1cHByZXNzS2V5UHJlc3MsIHN1cHByZXNzS2V5UHJlc3NSZXBlYXQsIHN1cHByZXNzSW5wdXQsXG5cdFx0XHRub2RlTmFtZSA9IHRoaXMuZWxlbWVudFsgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRpc1RleHRhcmVhID0gbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIixcblx0XHRcdGlzSW5wdXQgPSBub2RlTmFtZSA9PT0gXCJpbnB1dFwiO1xuXG5cdFx0Ly8gVGV4dGFyZWFzIGFyZSBhbHdheXMgbXVsdGktbGluZVxuXHRcdC8vIElucHV0cyBhcmUgYWx3YXlzIHNpbmdsZS1saW5lLCBldmVuIGlmIGluc2lkZSBhIGNvbnRlbnRFZGl0YWJsZSBlbGVtZW50XG5cdFx0Ly8gSUUgYWxzbyB0cmVhdHMgaW5wdXRzIGFzIGNvbnRlbnRFZGl0YWJsZVxuXHRcdC8vIEFsbCBvdGhlciBlbGVtZW50IHR5cGVzIGFyZSBkZXRlcm1pbmVkIGJ5IHdoZXRoZXIgb3Igbm90IHRoZXkncmUgY29udGVudEVkaXRhYmxlXG5cdFx0dGhpcy5pc011bHRpTGluZSA9IGlzVGV4dGFyZWEgfHwgIWlzSW5wdXQgJiYgdGhpcy5faXNDb250ZW50RWRpdGFibGUoIHRoaXMuZWxlbWVudCApO1xuXG5cdFx0dGhpcy52YWx1ZU1ldGhvZCA9IHRoaXMuZWxlbWVudFsgaXNUZXh0YXJlYSB8fCBpc0lucHV0ID8gXCJ2YWxcIiA6IFwidGV4dFwiIF07XG5cdFx0dGhpcy5pc05ld01lbnUgPSB0cnVlO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktYXV0b2NvbXBsZXRlLWlucHV0XCIgKTtcblx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIiApO1xuXG5cdFx0dGhpcy5fb24oIHRoaXMuZWxlbWVudCwge1xuXHRcdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuZWxlbWVudC5wcm9wKCBcInJlYWRPbmx5XCIgKSApIHtcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRzdXBwcmVzc0lucHV0ID0gdHJ1ZTtcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzUmVwZWF0ID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gZmFsc2U7XG5cdFx0XHRcdHN1cHByZXNzSW5wdXQgPSBmYWxzZTtcblx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9IGZhbHNlO1xuXHRcdFx0XHR2YXIga2V5Q29kZSA9ICQudWkua2V5Q29kZTtcblx0XHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJwcmV2aW91c1BhZ2VcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcIm5leHRQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5VUDpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9rZXlFdmVudCggXCJwcmV2aW91c1wiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuRE9XTjpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9rZXlFdmVudCggXCJuZXh0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5FTlRFUjpcblxuXHRcdFx0XHRcdC8vIHdoZW4gbWVudSBpcyBvcGVuIGFuZCBoYXMgZm9jdXNcblx0XHRcdFx0XHRpZiAoIHRoaXMubWVudS5hY3RpdmUgKSB7XG5cblx0XHRcdFx0XHRcdC8vICM2MDU1IC0gT3BlcmEgc3RpbGwgYWxsb3dzIHRoZSBrZXlwcmVzcyB0byBvY2N1clxuXHRcdFx0XHRcdFx0Ly8gd2hpY2ggY2F1c2VzIGZvcm1zIHRvIHN1Ym1pdFxuXHRcdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0dGhpcy5tZW51LnNlbGVjdCggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5UQUI6XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm1lbnUuYWN0aXZlICkge1xuXHRcdFx0XHRcdFx0dGhpcy5tZW51LnNlbGVjdCggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5FU0NBUEU6XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICF0aGlzLmlzTXVsdGlMaW5lICkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl92YWx1ZSggdGhpcy50ZXJtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXG5cdFx0XHRcdFx0XHQvLyBEaWZmZXJlbnQgYnJvd3NlcnMgaGF2ZSBkaWZmZXJlbnQgZGVmYXVsdCBiZWhhdmlvciBmb3IgZXNjYXBlXG5cdFx0XHRcdFx0XHQvLyBTaW5nbGUgcHJlc3MgY2FuIG1lYW4gdW5kbyBvciBjbGVhclxuXHRcdFx0XHRcdFx0Ly8gRG91YmxlIHByZXNzIGluIElFIG1lYW5zIGNsZWFyIHRoZSB3aG9sZSBmb3JtXG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzUmVwZWF0ID0gdHJ1ZTtcblxuXHRcdFx0XHRcdC8vIHNlYXJjaCB0aW1lb3V0IHNob3VsZCBiZSB0cmlnZ2VyZWQgYmVmb3JlIHRoZSBpbnB1dCB2YWx1ZSBpcyBjaGFuZ2VkXG5cdFx0XHRcdFx0dGhpcy5fc2VhcmNoVGltZW91dCggZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGtleXByZXNzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggc3VwcHJlc3NLZXlQcmVzcyApIHtcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gZmFsc2U7XG5cdFx0XHRcdFx0aWYgKCAhdGhpcy5pc011bHRpTGluZSB8fCB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBzdXBwcmVzc0tleVByZXNzUmVwZWF0ICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlcGxpY2F0ZSBzb21lIGtleSBoYW5kbGVycyB0byBhbGxvdyB0aGVtIHRvIHJlcGVhdCBpbiBGaXJlZm94IGFuZCBPcGVyYVxuXHRcdFx0XHR2YXIga2V5Q29kZSA9ICQudWkua2V5Q29kZTtcblx0XHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJwcmV2aW91c1BhZ2VcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcIm5leHRQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5VUDpcblx0XHRcdFx0XHR0aGlzLl9rZXlFdmVudCggXCJwcmV2aW91c1wiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuRE9XTjpcblx0XHRcdFx0XHR0aGlzLl9rZXlFdmVudCggXCJuZXh0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRpbnB1dDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHN1cHByZXNzSW5wdXQgKSB7XG5cdFx0XHRcdFx0c3VwcHJlc3NJbnB1dCA9IGZhbHNlO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX3NlYXJjaFRpbWVvdXQoIGV2ZW50ICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG5cdFx0XHRcdHRoaXMucHJldmlvdXMgPSB0aGlzLl92YWx1ZSgpO1xuXHRcdFx0fSxcblx0XHRcdGJsdXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLmNhbmNlbEJsdXIgKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuc2VhcmNoaW5nICk7XG5cdFx0XHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0XHRcdHRoaXMuX2NoYW5nZSggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHR0aGlzLl9pbml0U291cmNlKCk7XG5cdFx0dGhpcy5tZW51ID0gJCggXCI8dWw+XCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpIClcblx0XHRcdC5tZW51KCB7XG5cblx0XHRcdFx0Ly8gZGlzYWJsZSBBUklBIHN1cHBvcnQsIHRoZSBsaXZlIHJlZ2lvbiB0YWtlcyBjYXJlIG9mIHRoYXRcblx0XHRcdFx0cm9sZTogbnVsbFxuXHRcdFx0fSApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQubWVudSggXCJpbnN0YW5jZVwiICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5tZW51LmVsZW1lbnQsIFwidWktYXV0b2NvbXBsZXRlXCIsIFwidWktZnJvbnRcIiApO1xuXHRcdHRoaXMuX29uKCB0aGlzLm1lbnUuZWxlbWVudCwge1xuXHRcdFx0bW91c2Vkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gcHJldmVudCBtb3ZpbmcgZm9jdXMgb3V0IG9mIHRoZSB0ZXh0IGZpZWxkXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0Ly8gSUUgZG9lc24ndCBwcmV2ZW50IG1vdmluZyBmb2N1cyBldmVuIHdpdGggZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XHQvLyBzbyB3ZSBzZXQgYSBmbGFnIHRvIGtub3cgd2hlbiB3ZSBzaG91bGQgaWdub3JlIHRoZSBibHVyIGV2ZW50XG5cdFx0XHRcdHRoaXMuY2FuY2VsQmx1ciA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5jYW5jZWxCbHVyO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOCBvbmx5XG5cdFx0XHRcdFx0Ly8gUmlnaHQgY2xpY2tpbmcgYSBtZW51IGl0ZW0gb3Igc2VsZWN0aW5nIHRleHQgZnJvbSB0aGUgbWVudSBpdGVtcyB3aWxsXG5cdFx0XHRcdFx0Ly8gcmVzdWx0IGluIGZvY3VzIG1vdmluZyBvdXQgb2YgdGhlIGlucHV0LiBIb3dldmVyLCB3ZSd2ZSBhbHJlYWR5IHJlY2VpdmVkXG5cdFx0XHRcdFx0Ly8gYW5kIGlnbm9yZWQgdGhlIGJsdXIgZXZlbnQgYmVjYXVzZSBvZiB0aGUgY2FuY2VsQmx1ciBmbGFnIHNldCBhYm92ZS4gU29cblx0XHRcdFx0XHQvLyB3ZSByZXN0b3JlIGZvY3VzIHRvIGVuc3VyZSB0aGF0IHRoZSBtZW51IGNsb3NlcyBwcm9wZXJseSBiYXNlZCBvbiB0aGUgdXNlcidzXG5cdFx0XHRcdFx0Ly8gbmV4dCBhY3Rpb25zLlxuXHRcdFx0XHRcdGlmICggdGhpcy5lbGVtZW50WyAwIF0gIT09ICQudWkuc2FmZUFjdGl2ZUVsZW1lbnQoIHRoaXMuZG9jdW1lbnRbIDAgXSApICkge1xuXHRcdFx0XHRcdFx0dGhpcy5lbGVtZW50LnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSxcblx0XHRcdG1lbnVmb2N1czogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIGxhYmVsLCBpdGVtO1xuXG5cdFx0XHRcdC8vIHN1cHBvcnQ6IEZpcmVmb3hcblx0XHRcdFx0Ly8gUHJldmVudCBhY2NpZGVudGFsIGFjdGl2YXRpb24gb2YgbWVudSBpdGVtcyBpbiBGaXJlZm94ICgjNzAyNCAjOTExOClcblx0XHRcdFx0aWYgKCB0aGlzLmlzTmV3TWVudSApIHtcblx0XHRcdFx0XHR0aGlzLmlzTmV3TWVudSA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudCAmJiAvXm1vdXNlLy50ZXN0KCBldmVudC5vcmlnaW5hbEV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0XHRcdHRoaXMubWVudS5ibHVyKCk7XG5cblx0XHRcdFx0XHRcdHRoaXMuZG9jdW1lbnQub25lKCBcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0JCggZXZlbnQudGFyZ2V0ICkudHJpZ2dlciggZXZlbnQub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aXRlbSA9IHVpLml0ZW0uZGF0YSggXCJ1aS1hdXRvY29tcGxldGUtaXRlbVwiICk7XG5cdFx0XHRcdGlmICggZmFsc2UgIT09IHRoaXMuX3RyaWdnZXIoIFwiZm9jdXNcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICkgKSB7XG5cblx0XHRcdFx0XHQvLyB1c2UgdmFsdWUgdG8gbWF0Y2ggd2hhdCB3aWxsIGVuZCB1cCBpbiB0aGUgaW5wdXQsIGlmIGl0IHdhcyBhIGtleSBldmVudFxuXHRcdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudCAmJiAvXmtleS8udGVzdCggZXZlbnQub3JpZ2luYWxFdmVudC50eXBlICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl92YWx1ZSggaXRlbS52YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFubm91bmNlIHRoZSB2YWx1ZSBpbiB0aGUgbGl2ZVJlZ2lvblxuXHRcdFx0XHRsYWJlbCA9IHVpLml0ZW0uYXR0ciggXCJhcmlhLWxhYmVsXCIgKSB8fCBpdGVtLnZhbHVlO1xuXHRcdFx0XHRpZiAoIGxhYmVsICYmICQudHJpbSggbGFiZWwgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpO1xuXHRcdFx0XHRcdCQoIFwiPGRpdj5cIiApLnRleHQoIGxhYmVsICkuYXBwZW5kVG8oIHRoaXMubGl2ZVJlZ2lvbiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bWVudXNlbGVjdDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSB1aS5pdGVtLmRhdGEoIFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiApLFxuXHRcdFx0XHRcdHByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcblxuXHRcdFx0XHQvLyBPbmx5IHRyaWdnZXIgd2hlbiBmb2N1cyB3YXMgbG9zdCAoY2xpY2sgb24gbWVudSlcblx0XHRcdFx0aWYgKCB0aGlzLmVsZW1lbnRbIDAgXSAhPT0gJC51aS5zYWZlQWN0aXZlRWxlbWVudCggdGhpcy5kb2N1bWVudFsgMCBdICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50LnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0XHRcdHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcblxuXHRcdFx0XHRcdC8vICM2MTA5IC0gSUUgdHJpZ2dlcnMgdHdvIGZvY3VzIGV2ZW50cyBhbmQgdGhlIHNlY29uZFxuXHRcdFx0XHRcdC8vIGlzIGFzeW5jaHJvbm91cywgc28gd2UgbmVlZCB0byByZXNldCB0aGUgcHJldmlvdXNcblx0XHRcdFx0XHQvLyB0ZXJtIHN5bmNocm9ub3VzbHkgYW5kIGFzeW5jaHJvbm91c2x5IDotKFxuXHRcdFx0XHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcblx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGZhbHNlICE9PSB0aGlzLl90cmlnZ2VyKCBcInNlbGVjdFwiLCBldmVudCwgeyBpdGVtOiBpdGVtIH0gKSApIHtcblx0XHRcdFx0XHR0aGlzLl92YWx1ZSggaXRlbS52YWx1ZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gcmVzZXQgdGhlIHRlcm0gYWZ0ZXIgdGhlIHNlbGVjdCBldmVudFxuXHRcdFx0XHQvLyB0aGlzIGFsbG93cyBjdXN0b20gc2VsZWN0IGhhbmRsaW5nIHRvIHdvcmsgcHJvcGVybHlcblx0XHRcdFx0dGhpcy50ZXJtID0gdGhpcy5fdmFsdWUoKTtcblxuXHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0dGhpcy5saXZlUmVnaW9uID0gJCggXCI8ZGl2PlwiLCB7XG5cdFx0XHRyb2xlOiBcInN0YXR1c1wiLFxuXHRcdFx0XCJhcmlhLWxpdmVcIjogXCJhc3NlcnRpdmVcIixcblx0XHRcdFwiYXJpYS1yZWxldmFudFwiOiBcImFkZGl0aW9uc1wiXG5cdFx0fSApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5ICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5saXZlUmVnaW9uLCBudWxsLCBcInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZVwiICk7XG5cblx0XHQvLyBUdXJuaW5nIG9mZiBhdXRvY29tcGxldGUgcHJldmVudHMgdGhlIGJyb3dzZXIgZnJvbSByZW1lbWJlcmluZyB0aGVcblx0XHQvLyB2YWx1ZSB3aGVuIG5hdmlnYXRpbmcgdGhyb3VnaCBoaXN0b3J5LCBzbyB3ZSByZS1lbmFibGUgYXV0b2NvbXBsZXRlXG5cdFx0Ly8gaWYgdGhlIHBhZ2UgaXMgdW5sb2FkZWQgYmVmb3JlIHRoZSB3aWRnZXQgaXMgZGVzdHJveWVkLiAjNzc5MFxuXHRcdHRoaXMuX29uKCB0aGlzLndpbmRvdywge1xuXHRcdFx0YmVmb3JldW5sb2FkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwiYXV0b2NvbXBsZXRlXCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy5zZWFyY2hpbmcgKTtcblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQXR0ciggXCJhdXRvY29tcGxldGVcIiApO1xuXHRcdHRoaXMubWVudS5lbGVtZW50LnJlbW92ZSgpO1xuXHRcdHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHRcdGlmICgga2V5ID09PSBcInNvdXJjZVwiICkge1xuXHRcdFx0dGhpcy5faW5pdFNvdXJjZSgpO1xuXHRcdH1cblx0XHRpZiAoIGtleSA9PT0gXCJhcHBlbmRUb1wiICkge1xuXHRcdFx0dGhpcy5tZW51LmVsZW1lbnQuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblx0XHR9XG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiAmJiB2YWx1ZSAmJiB0aGlzLnhociApIHtcblx0XHRcdHRoaXMueGhyLmFib3J0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbWVudUVsZW1lbnQgPSB0aGlzLm1lbnUuZWxlbWVudFsgMCBdO1xuXG5cdFx0cmV0dXJuIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5lbGVtZW50WyAwIF0gfHxcblx0XHRcdGV2ZW50LnRhcmdldCA9PT0gbWVudUVsZW1lbnQgfHxcblx0XHRcdCQuY29udGFpbnMoIG1lbnVFbGVtZW50LCBldmVudC50YXJnZXQgKTtcblx0fSxcblxuXHRfY2xvc2VPbkNsaWNrT3V0c2lkZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldCggZXZlbnQgKSApIHtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHR9XG5cdH0sXG5cblx0X2FwcGVuZFRvOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblxuXHRcdGlmICggZWxlbWVudCApIHtcblx0XHRcdGVsZW1lbnQgPSBlbGVtZW50LmpxdWVyeSB8fCBlbGVtZW50Lm5vZGVUeXBlID9cblx0XHRcdFx0JCggZWxlbWVudCApIDpcblx0XHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBlbGVtZW50ICkuZXEoIDAgKTtcblx0XHR9XG5cblx0XHRpZiAoICFlbGVtZW50IHx8ICFlbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiLnVpLWZyb250LCBkaWFsb2dcIiApO1xuXHRcdH1cblxuXHRcdGlmICggIWVsZW1lbnQubGVuZ3RoICkge1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtZW50O1xuXHR9LFxuXG5cdF9pbml0U291cmNlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgYXJyYXksIHVybCxcblx0XHRcdHRoYXQgPSB0aGlzO1xuXHRcdGlmICggJC5pc0FycmF5KCB0aGlzLm9wdGlvbnMuc291cmNlICkgKSB7XG5cdFx0XHRhcnJheSA9IHRoaXMub3B0aW9ucy5zb3VyY2U7XG5cdFx0XHR0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uKCByZXF1ZXN0LCByZXNwb25zZSApIHtcblx0XHRcdFx0cmVzcG9uc2UoICQudWkuYXV0b2NvbXBsZXRlLmZpbHRlciggYXJyYXksIHJlcXVlc3QudGVybSApICk7XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuc291cmNlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dXJsID0gdGhpcy5vcHRpb25zLnNvdXJjZTtcblx0XHRcdHRoaXMuc291cmNlID0gZnVuY3Rpb24oIHJlcXVlc3QsIHJlc3BvbnNlICkge1xuXHRcdFx0XHRpZiAoIHRoYXQueGhyICkge1xuXHRcdFx0XHRcdHRoYXQueGhyLmFib3J0KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhhdC54aHIgPSAkLmFqYXgoIHtcblx0XHRcdFx0XHR1cmw6IHVybCxcblx0XHRcdFx0XHRkYXRhOiByZXF1ZXN0LFxuXHRcdFx0XHRcdGRhdGFUeXBlOiBcImpzb25cIixcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlKCBkYXRhICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSggW10gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc291cmNlID0gdGhpcy5vcHRpb25zLnNvdXJjZTtcblx0XHR9XG5cdH0sXG5cblx0X3NlYXJjaFRpbWVvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMuc2VhcmNoaW5nICk7XG5cdFx0dGhpcy5zZWFyY2hpbmcgPSB0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFNlYXJjaCBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQsIG9yIGlmIHRoZSB1c2VyIHJldHlwZXMgdGhlIHNhbWUgdmFsdWUgKHNlZSAjNzQzNClcblx0XHRcdHZhciBlcXVhbFZhbHVlcyA9IHRoaXMudGVybSA9PT0gdGhpcy5fdmFsdWUoKSxcblx0XHRcdFx0bWVudVZpc2libGUgPSB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICksXG5cdFx0XHRcdG1vZGlmaWVyS2V5ID0gZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleTtcblxuXHRcdFx0aWYgKCAhZXF1YWxWYWx1ZXMgfHwgKCBlcXVhbFZhbHVlcyAmJiAhbWVudVZpc2libGUgJiYgIW1vZGlmaWVyS2V5ICkgKSB7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblx0XHRcdFx0dGhpcy5zZWFyY2goIG51bGwsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcy5vcHRpb25zLmRlbGF5ICk7XG5cdH0sXG5cblx0c2VhcmNoOiBmdW5jdGlvbiggdmFsdWUsIGV2ZW50ICkge1xuXHRcdHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogdGhpcy5fdmFsdWUoKTtcblxuXHRcdC8vIEFsd2F5cyBzYXZlIHRoZSBhY3R1YWwgdmFsdWUsIG5vdCB0aGUgb25lIHBhc3NlZCBhcyBhbiBhcmd1bWVudFxuXHRcdHRoaXMudGVybSA9IHRoaXMuX3ZhbHVlKCk7XG5cblx0XHRpZiAoIHZhbHVlLmxlbmd0aCA8IHRoaXMub3B0aW9ucy5taW5MZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX3RyaWdnZXIoIFwic2VhcmNoXCIsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLl9zZWFyY2goIHZhbHVlICk7XG5cdH0sXG5cblx0X3NlYXJjaDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMucGVuZGluZysrO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIgKTtcblx0XHR0aGlzLmNhbmNlbFNlYXJjaCA9IGZhbHNlO1xuXG5cdFx0dGhpcy5zb3VyY2UoIHsgdGVybTogdmFsdWUgfSwgdGhpcy5fcmVzcG9uc2UoKSApO1xuXHR9LFxuXG5cdF9yZXNwb25zZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluZGV4ID0gKyt0aGlzLnJlcXVlc3RJbmRleDtcblxuXHRcdHJldHVybiAkLnByb3h5KCBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdGlmICggaW5kZXggPT09IHRoaXMucmVxdWVzdEluZGV4ICkge1xuXHRcdFx0XHR0aGlzLl9fcmVzcG9uc2UoIGNvbnRlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wZW5kaW5nLS07XG5cdFx0XHRpZiAoICF0aGlzLnBlbmRpbmcgKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBcInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIgKTtcblx0XHRcdH1cblx0XHR9LCB0aGlzICk7XG5cdH0sXG5cblx0X19yZXNwb25zZTogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0aWYgKCBjb250ZW50ICkge1xuXHRcdFx0Y29udGVudCA9IHRoaXMuX25vcm1hbGl6ZSggY29udGVudCApO1xuXHRcdH1cblx0XHR0aGlzLl90cmlnZ2VyKCBcInJlc3BvbnNlXCIsIG51bGwsIHsgY29udGVudDogY29udGVudCB9ICk7XG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIGNvbnRlbnQgJiYgY29udGVudC5sZW5ndGggJiYgIXRoaXMuY2FuY2VsU2VhcmNoICkge1xuXHRcdFx0dGhpcy5fc3VnZ2VzdCggY29udGVudCApO1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIgKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyB1c2UgLl9jbG9zZSgpIGluc3RlYWQgb2YgLmNsb3NlKCkgc28gd2UgZG9uJ3QgY2FuY2VsIGZ1dHVyZSBzZWFyY2hlc1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHR9XG5cdH0sXG5cblx0Y2xvc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLmNhbmNlbFNlYXJjaCA9IHRydWU7XG5cdFx0dGhpcy5fY2xvc2UoIGV2ZW50ICk7XG5cdH0sXG5cblx0X2Nsb3NlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGhhbmRsZXIgdGhhdCBjbG9zZXMgdGhlIG1lbnUgb24gb3V0c2lkZSBjbGlja3Ncblx0XHR0aGlzLl9vZmYoIHRoaXMuZG9jdW1lbnQsIFwibW91c2Vkb3duXCIgKTtcblxuXHRcdGlmICggdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0dGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpO1xuXHRcdFx0dGhpcy5tZW51LmJsdXIoKTtcblx0XHRcdHRoaXMuaXNOZXdNZW51ID0gdHJ1ZTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2xvc2VcIiwgZXZlbnQgKTtcblx0XHR9XG5cdH0sXG5cblx0X2NoYW5nZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5wcmV2aW91cyAhPT0gdGhpcy5fdmFsdWUoKSApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50LCB7IGl0ZW06IHRoaXMuc2VsZWN0ZWRJdGVtIH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X25vcm1hbGl6ZTogZnVuY3Rpb24oIGl0ZW1zICkge1xuXG5cdFx0Ly8gYXNzdW1lIGFsbCBpdGVtcyBoYXZlIHRoZSByaWdodCBmb3JtYXQgd2hlbiB0aGUgZmlyc3QgaXRlbSBpcyBjb21wbGV0ZVxuXHRcdGlmICggaXRlbXMubGVuZ3RoICYmIGl0ZW1zWyAwIF0ubGFiZWwgJiYgaXRlbXNbIDAgXS52YWx1ZSApIHtcblx0XHRcdHJldHVybiBpdGVtcztcblx0XHR9XG5cdFx0cmV0dXJuICQubWFwKCBpdGVtcywgZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGxhYmVsOiBpdGVtLFxuXHRcdFx0XHRcdHZhbHVlOiBpdGVtXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gJC5leHRlbmQoIHt9LCBpdGVtLCB7XG5cdFx0XHRcdGxhYmVsOiBpdGVtLmxhYmVsIHx8IGl0ZW0udmFsdWUsXG5cdFx0XHRcdHZhbHVlOiBpdGVtLnZhbHVlIHx8IGl0ZW0ubGFiZWxcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0X3N1Z2dlc3Q6IGZ1bmN0aW9uKCBpdGVtcyApIHtcblx0XHR2YXIgdWwgPSB0aGlzLm1lbnUuZWxlbWVudC5lbXB0eSgpO1xuXHRcdHRoaXMuX3JlbmRlck1lbnUoIHVsLCBpdGVtcyApO1xuXHRcdHRoaXMuaXNOZXdNZW51ID0gdHJ1ZTtcblx0XHR0aGlzLm1lbnUucmVmcmVzaCgpO1xuXG5cdFx0Ly8gU2l6ZSBhbmQgcG9zaXRpb24gbWVudVxuXHRcdHVsLnNob3coKTtcblx0XHR0aGlzLl9yZXNpemVNZW51KCk7XG5cdFx0dWwucG9zaXRpb24oICQuZXh0ZW5kKCB7XG5cdFx0XHRvZjogdGhpcy5lbGVtZW50XG5cdFx0fSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uICkgKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmF1dG9Gb2N1cyApIHtcblx0XHRcdHRoaXMubWVudS5uZXh0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gTGlzdGVuIGZvciBpbnRlcmFjdGlvbnMgb3V0c2lkZSBvZiB0aGUgd2lkZ2V0ICgjNjY0Milcblx0XHR0aGlzLl9vbiggdGhpcy5kb2N1bWVudCwge1xuXHRcdFx0bW91c2Vkb3duOiBcIl9jbG9zZU9uQ2xpY2tPdXRzaWRlXCJcblx0XHR9ICk7XG5cdH0sXG5cblx0X3Jlc2l6ZU1lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB1bCA9IHRoaXMubWVudS5lbGVtZW50O1xuXHRcdHVsLm91dGVyV2lkdGgoIE1hdGgubWF4KFxuXG5cdFx0XHQvLyBGaXJlZm94IHdyYXBzIGxvbmcgdGV4dCAocG9zc2libHkgYSByb3VuZGluZyBidWcpXG5cdFx0XHQvLyBzbyB3ZSBhZGQgMXB4IHRvIGF2b2lkIHRoZSB3cmFwcGluZyAoIzc1MTMpXG5cdFx0XHR1bC53aWR0aCggXCJcIiApLm91dGVyV2lkdGgoKSArIDEsXG5cdFx0XHR0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpXG5cdFx0KSApO1xuXHR9LFxuXG5cdF9yZW5kZXJNZW51OiBmdW5jdGlvbiggdWwsIGl0ZW1zICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHQkLmVhY2goIGl0ZW1zLCBmdW5jdGlvbiggaW5kZXgsIGl0ZW0gKSB7XG5cdFx0XHR0aGF0Ll9yZW5kZXJJdGVtRGF0YSggdWwsIGl0ZW0gKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0X3JlbmRlckl0ZW1EYXRhOiBmdW5jdGlvbiggdWwsIGl0ZW0gKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0oIHVsLCBpdGVtICkuZGF0YSggXCJ1aS1hdXRvY29tcGxldGUtaXRlbVwiLCBpdGVtICk7XG5cdH0sXG5cblx0X3JlbmRlckl0ZW06IGZ1bmN0aW9uKCB1bCwgaXRlbSApIHtcblx0XHRyZXR1cm4gJCggXCI8bGk+XCIgKVxuXHRcdFx0LmFwcGVuZCggJCggXCI8ZGl2PlwiICkudGV4dCggaXRlbS5sYWJlbCApIClcblx0XHRcdC5hcHBlbmRUbyggdWwgKTtcblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZXZlbnQgKSB7XG5cdFx0aWYgKCAhdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0dGhpcy5zZWFyY2goIG51bGwsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICggdGhpcy5tZW51LmlzRmlyc3RJdGVtKCkgJiYgL15wcmV2aW91cy8udGVzdCggZGlyZWN0aW9uICkgfHxcblx0XHRcdFx0dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSAmJiAvXm5leHQvLnRlc3QoIGRpcmVjdGlvbiApICkge1xuXG5cdFx0XHRpZiAoICF0aGlzLmlzTXVsdGlMaW5lICkge1xuXHRcdFx0XHR0aGlzLl92YWx1ZSggdGhpcy50ZXJtICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMubWVudS5ibHVyKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMubWVudVsgZGlyZWN0aW9uIF0oIGV2ZW50ICk7XG5cdH0sXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnQ7XG5cdH0sXG5cblx0X3ZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSggdGhpcy5lbGVtZW50LCBhcmd1bWVudHMgKTtcblx0fSxcblxuXHRfa2V5RXZlbnQ6IGZ1bmN0aW9uKCBrZXlFdmVudCwgZXZlbnQgKSB7XG5cdFx0aWYgKCAhdGhpcy5pc011bHRpTGluZSB8fCB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0XHR0aGlzLl9tb3ZlKCBrZXlFdmVudCwgZXZlbnQgKTtcblxuXHRcdFx0Ly8gUHJldmVudHMgbW92aW5nIGN1cnNvciB0byBiZWdpbm5pbmcvZW5kIG9mIHRoZSB0ZXh0IGZpZWxkIGluIHNvbWUgYnJvd3NlcnNcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IENocm9tZSA8PTUwXG5cdC8vIFdlIHNob3VsZCBiZSBhYmxlIHRvIGp1c3QgdXNlIHRoaXMuZWxlbWVudC5wcm9wKCBcImlzQ29udGVudEVkaXRhYmxlXCIgKVxuXHQvLyBidXQgaGlkZGVuIGVsZW1lbnRzIGFsd2F5cyByZXBvcnQgZmFsc2UgaW4gQ2hyb21lLlxuXHQvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzEzMDgyXG5cdF9pc0NvbnRlbnRFZGl0YWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0aWYgKCAhZWxlbWVudC5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dmFyIGVkaXRhYmxlID0gZWxlbWVudC5wcm9wKCBcImNvbnRlbnRFZGl0YWJsZVwiICk7XG5cblx0XHRpZiAoIGVkaXRhYmxlID09PSBcImluaGVyaXRcIiApIHtcblx0XHQgIHJldHVybiB0aGlzLl9pc0NvbnRlbnRFZGl0YWJsZSggZWxlbWVudC5wYXJlbnQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBlZGl0YWJsZSA9PT0gXCJ0cnVlXCI7XG5cdH1cbn0gKTtcblxuJC5leHRlbmQoICQudWkuYXV0b2NvbXBsZXRlLCB7XG5cdGVzY2FwZVJlZ2V4OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIHZhbHVlLnJlcGxhY2UoIC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZywgXCJcXFxcJCZcIiApO1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBhcnJheSwgdGVybSApIHtcblx0XHR2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoICQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KCB0ZXJtICksIFwiaVwiICk7XG5cdFx0cmV0dXJuICQuZ3JlcCggYXJyYXksIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBtYXRjaGVyLnRlc3QoIHZhbHVlLmxhYmVsIHx8IHZhbHVlLnZhbHVlIHx8IHZhbHVlICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIExpdmUgcmVnaW9uIGV4dGVuc2lvbiwgYWRkaW5nIGEgYG1lc3NhZ2VzYCBvcHRpb25cbi8vIE5PVEU6IFRoaXMgaXMgYW4gZXhwZXJpbWVudGFsIEFQSS4gV2UgYXJlIHN0aWxsIGludmVzdGlnYXRpbmdcbi8vIGEgZnVsbCBzb2x1dGlvbiBmb3Igc3RyaW5nIG1hbmlwdWxhdGlvbiBhbmQgaW50ZXJuYXRpb25hbGl6YXRpb24uXG4kLndpZGdldCggXCJ1aS5hdXRvY29tcGxldGVcIiwgJC51aS5hdXRvY29tcGxldGUsIHtcblx0b3B0aW9uczoge1xuXHRcdG1lc3NhZ2VzOiB7XG5cdFx0XHRub1Jlc3VsdHM6IFwiTm8gc2VhcmNoIHJlc3VsdHMuXCIsXG5cdFx0XHRyZXN1bHRzOiBmdW5jdGlvbiggYW1vdW50ICkge1xuXHRcdFx0XHRyZXR1cm4gYW1vdW50ICsgKCBhbW91bnQgPiAxID8gXCIgcmVzdWx0cyBhcmVcIiA6IFwiIHJlc3VsdCBpc1wiICkgK1xuXHRcdFx0XHRcdFwiIGF2YWlsYWJsZSwgdXNlIHVwIGFuZCBkb3duIGFycm93IGtleXMgdG8gbmF2aWdhdGUuXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9fcmVzcG9uc2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdHZhciBtZXNzYWdlO1xuXHRcdHRoaXMuX3N1cGVyQXBwbHkoIGFyZ3VtZW50cyApO1xuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkIHx8IHRoaXMuY2FuY2VsU2VhcmNoICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIGNvbnRlbnQgJiYgY29udGVudC5sZW5ndGggKSB7XG5cdFx0XHRtZXNzYWdlID0gdGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHMoIGNvbnRlbnQubGVuZ3RoICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1lc3NhZ2UgPSB0aGlzLm9wdGlvbnMubWVzc2FnZXMubm9SZXN1bHRzO1xuXHRcdH1cblx0XHR0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0JCggXCI8ZGl2PlwiICkudGV4dCggbWVzc2FnZSApLmFwcGVuZFRvKCB0aGlzLmxpdmVSZWdpb24gKTtcblx0fVxufSApO1xuXG52YXIgd2lkZ2V0c0F1dG9jb21wbGV0ZSA9ICQudWkuYXV0b2NvbXBsZXRlO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIENvbnRyb2xncm91cCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQ29udHJvbGdyb3VwXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogVmlzdWFsbHkgZ3JvdXBzIGZvcm0gY29udHJvbCB3aWRnZXRzXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY29udHJvbGdyb3VwL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2NvbnRyb2xncm91cC9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NvbnRyb2xncm91cC5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG5cbnZhciBjb250cm9sZ3JvdXBDb3JuZXJSZWdleCA9IC91aS1jb3JuZXItKFthLXpdKXsyLDZ9L2c7XG5cbnZhciB3aWRnZXRzQ29udHJvbGdyb3VwID0gJC53aWRnZXQoIFwidWkuY29udHJvbGdyb3VwXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPGRpdj5cIixcblx0b3B0aW9uczoge1xuXHRcdGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXG5cdFx0ZGlzYWJsZWQ6IG51bGwsXG5cdFx0b25seVZpc2libGU6IHRydWUsXG5cdFx0aXRlbXM6IHtcblx0XHRcdFwiYnV0dG9uXCI6IFwiaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBidXR0b24sIGFcIixcblx0XHRcdFwiY29udHJvbGdyb3VwTGFiZWxcIjogXCIudWktY29udHJvbGdyb3VwLWxhYmVsXCIsXG5cdFx0XHRcImNoZWNrYm94cmFkaW9cIjogXCJpbnB1dFt0eXBlPSdjaGVja2JveCddLCBpbnB1dFt0eXBlPSdyYWRpbyddXCIsXG5cdFx0XHRcInNlbGVjdG1lbnVcIjogXCJzZWxlY3RcIixcblx0XHRcdFwic3Bpbm5lclwiOiBcIi51aS1zcGlubmVyLWlucHV0XCJcblx0XHR9XG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fZW5oYW5jZSgpO1xuXHR9LFxuXG5cdC8vIFRvIHN1cHBvcnQgdGhlIGVuaGFuY2VkIG9wdGlvbiBpbiBqUXVlcnkgTW9iaWxlLCB3ZSBpc29sYXRlIERPTSBtYW5pcHVsYXRpb25cblx0X2VuaGFuY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5hdHRyKCBcInJvbGVcIiwgXCJ0b29sYmFyXCIgKTtcblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fY2FsbENoaWxkTWV0aG9kKCBcImRlc3Ryb3lcIiApO1xuXHRcdHRoaXMuY2hpbGRXaWRnZXRzLnJlbW92ZURhdGEoIFwidWktY29udHJvbGdyb3VwLWRhdGFcIiApO1xuXHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcInJvbGVcIiApO1xuXHRcdGlmICggdGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsICkge1xuXHRcdFx0dGhpcy5lbGVtZW50XG5cdFx0XHRcdC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMuY29udHJvbGdyb3VwTGFiZWwgKVxuXHRcdFx0XHQuZmluZCggXCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzXCIgKVxuXHRcdFx0XHQuY29udGVudHMoKS51bndyYXAoKTtcblx0XHR9XG5cdH0sXG5cblx0X2luaXRXaWRnZXRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRjaGlsZFdpZGdldHMgPSBbXTtcblxuXHRcdC8vIEZpcnN0IHdlIGl0ZXJhdGUgb3ZlciBlYWNoIG9mIHRoZSBpdGVtcyBvcHRpb25zXG5cdFx0JC5lYWNoKCB0aGlzLm9wdGlvbnMuaXRlbXMsIGZ1bmN0aW9uKCB3aWRnZXQsIHNlbGVjdG9yICkge1xuXHRcdFx0dmFyIGxhYmVscztcblx0XHRcdHZhciBvcHRpb25zID0ge307XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGUgd2lkZ2V0IGhhcyBhIHNlbGVjdG9yIHNldFxuXHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aWRnZXQgPT09IFwiY29udHJvbGdyb3VwTGFiZWxcIiApIHtcblx0XHRcdFx0bGFiZWxzID0gdGhhdC5lbGVtZW50LmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHRcdGxhYmVscy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKTtcblxuXHRcdFx0XHRcdGlmICggZWxlbWVudC5jaGlsZHJlbiggXCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsZW1lbnQuY29udGVudHMoKVxuXHRcdFx0XHRcdFx0LndyYXBBbGwoIFwiPHNwYW4gY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyc+PC9zcGFuPlwiICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIGxhYmVscywgbnVsbCwgXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktc3RhdGUtZGVmYXVsdFwiICk7XG5cdFx0XHRcdGNoaWxkV2lkZ2V0cyA9IGNoaWxkV2lkZ2V0cy5jb25jYXQoIGxhYmVscy5nZXQoKSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGUgd2lkZ2V0IGFjdHVhbGx5IGV4aXN0c1xuXHRcdFx0aWYgKCAhJC5mblsgd2lkZ2V0IF0gKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UgYXNzdW1lIGV2ZXJ5dGhpbmcgaXMgaW4gdGhlIG1pZGRsZSB0byBzdGFydCBiZWNhdXNlIHdlIGNhbid0IGRldGVybWluZVxuXHRcdFx0Ly8gZmlyc3QgLyBsYXN0IGVsZW1lbnRzIHVudGlsIGFsbCBlbmhhbmNtZW50cyBhcmUgZG9uZS5cblx0XHRcdGlmICggdGhhdFsgXCJfXCIgKyB3aWRnZXQgKyBcIk9wdGlvbnNcIiBdICkge1xuXHRcdFx0XHRvcHRpb25zID0gdGhhdFsgXCJfXCIgKyB3aWRnZXQgKyBcIk9wdGlvbnNcIiBdKCBcIm1pZGRsZVwiICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHRpb25zID0geyBjbGFzc2VzOiB7fSB9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGaW5kIGluc3RhbmNlcyBvZiB0aGlzIHdpZGdldCBpbnNpZGUgY29udHJvbGdyb3VwIGFuZCBpbml0IHRoZW1cblx0XHRcdHRoYXQuZWxlbWVudFxuXHRcdFx0XHQuZmluZCggc2VsZWN0b3IgKVxuXHRcdFx0XHQuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICk7XG5cdFx0XHRcdFx0dmFyIGluc3RhbmNlID0gZWxlbWVudFsgd2lkZ2V0IF0oIFwiaW5zdGFuY2VcIiApO1xuXG5cdFx0XHRcdFx0Ly8gV2UgbmVlZCB0byBjbG9uZSB0aGUgZGVmYXVsdCBvcHRpb25zIGZvciB0aGlzIHR5cGUgb2Ygd2lkZ2V0IHRvIGF2b2lkXG5cdFx0XHRcdFx0Ly8gcG9sbHV0aW5nIHRoZSB2YXJpYWJsZSBvcHRpb25zIHdoaWNoIGhhcyBhIHdpZGVyIHNjb3BlIHRoYW4gYSBzaW5nbGUgd2lkZ2V0LlxuXHRcdFx0XHRcdHZhciBpbnN0YW5jZU9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cblx0XHRcdFx0XHQvLyBJZiB0aGUgYnV0dG9uIGlzIHRoZSBjaGlsZCBvZiBhIHNwaW5uZXIgaWdub3JlIGl0XG5cdFx0XHRcdFx0Ly8gVE9ETzogRmluZCBhIG1vcmUgZ2VuZXJpYyBzb2x1dGlvblxuXHRcdFx0XHRcdGlmICggd2lkZ2V0ID09PSBcImJ1dHRvblwiICYmIGVsZW1lbnQucGFyZW50KCBcIi51aS1zcGlubmVyXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSB3aWRnZXQgaWYgaXQgZG9lc24ndCBleGlzdFxuXHRcdFx0XHRcdGlmICggIWluc3RhbmNlICkge1xuXHRcdFx0XHRcdFx0aW5zdGFuY2UgPSBlbGVtZW50WyB3aWRnZXQgXSgpWyB3aWRnZXQgXSggXCJpbnN0YW5jZVwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggaW5zdGFuY2UgKSB7XG5cdFx0XHRcdFx0XHRpbnN0YW5jZU9wdGlvbnMuY2xhc3NlcyA9XG5cdFx0XHRcdFx0XHRcdHRoYXQuX3Jlc29sdmVDbGFzc2VzVmFsdWVzKCBpbnN0YW5jZU9wdGlvbnMuY2xhc3NlcywgaW5zdGFuY2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxlbWVudFsgd2lkZ2V0IF0oIGluc3RhbmNlT3B0aW9ucyApO1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgYW4gaW5zdGFuY2Ugb2YgdGhlIGNvbnRyb2xncm91cCB0byBiZSBhYmxlIHRvIHJlZmVyZW5jZVxuXHRcdFx0XHRcdC8vIGZyb20gdGhlIG91dGVybW9zdCBlbGVtZW50IGZvciBjaGFuZ2luZyBvcHRpb25zIGFuZCByZWZyZXNoXG5cdFx0XHRcdFx0dmFyIHdpZGdldEVsZW1lbnQgPSBlbGVtZW50WyB3aWRnZXQgXSggXCJ3aWRnZXRcIiApO1xuXHRcdFx0XHRcdCQuZGF0YSggd2lkZ2V0RWxlbWVudFsgMCBdLCBcInVpLWNvbnRyb2xncm91cC1kYXRhXCIsXG5cdFx0XHRcdFx0XHRpbnN0YW5jZSA/IGluc3RhbmNlIDogZWxlbWVudFsgd2lkZ2V0IF0oIFwiaW5zdGFuY2VcIiApICk7XG5cblx0XHRcdFx0XHRjaGlsZFdpZGdldHMucHVzaCggd2lkZ2V0RWxlbWVudFsgMCBdICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9ICk7XG5cblx0XHR0aGlzLmNoaWxkV2lkZ2V0cyA9ICQoICQudW5pcXVlKCBjaGlsZFdpZGdldHMgKSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmNoaWxkV2lkZ2V0cywgXCJ1aS1jb250cm9sZ3JvdXAtaXRlbVwiICk7XG5cdH0sXG5cblx0X2NhbGxDaGlsZE1ldGhvZDogZnVuY3Rpb24oIG1ldGhvZCApIHtcblx0XHR0aGlzLmNoaWxkV2lkZ2V0cy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdFx0XHRkYXRhID0gZWxlbWVudC5kYXRhKCBcInVpLWNvbnRyb2xncm91cC1kYXRhXCIgKTtcblx0XHRcdGlmICggZGF0YSAmJiBkYXRhWyBtZXRob2QgXSApIHtcblx0XHRcdFx0ZGF0YVsgbWV0aG9kIF0oKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X3VwZGF0ZUNvcm5lckNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwgcG9zaXRpb24gKSB7XG5cdFx0dmFyIHJlbW92ZSA9IFwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1sZWZ0IHVpLWNvcm5lci1yaWdodCB1aS1jb3JuZXItYWxsXCI7XG5cdFx0dmFyIGFkZCA9IHRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyggcG9zaXRpb24sIFwibGFiZWxcIiApLmNsYXNzZXMubGFiZWw7XG5cblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggZWxlbWVudCwgbnVsbCwgcmVtb3ZlICk7XG5cdFx0dGhpcy5fYWRkQ2xhc3MoIGVsZW1lbnQsIG51bGwsIGFkZCApO1xuXHR9LFxuXG5cdF9idWlsZFNpbXBsZU9wdGlvbnM6IGZ1bmN0aW9uKCBwb3NpdGlvbiwga2V5ICkge1xuXHRcdHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCI7XG5cdFx0dmFyIHJlc3VsdCA9IHtcblx0XHRcdGNsYXNzZXM6IHt9XG5cdFx0fTtcblx0XHRyZXN1bHQuY2xhc3Nlc1sga2V5IF0gPSB7XG5cdFx0XHRcIm1pZGRsZVwiOiBcIlwiLFxuXHRcdFx0XCJmaXJzdFwiOiBcInVpLWNvcm5lci1cIiArICggZGlyZWN0aW9uID8gXCJ0b3BcIiA6IFwibGVmdFwiICksXG5cdFx0XHRcImxhc3RcIjogXCJ1aS1jb3JuZXItXCIgKyAoIGRpcmVjdGlvbiA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCIgKSxcblx0XHRcdFwib25seVwiOiBcInVpLWNvcm5lci1hbGxcIlxuXHRcdH1bIHBvc2l0aW9uIF07XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdF9zcGlubmVyT3B0aW9uczogZnVuY3Rpb24oIHBvc2l0aW9uICkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKCBwb3NpdGlvbiwgXCJ1aS1zcGlubmVyXCIgKTtcblxuXHRcdG9wdGlvbnMuY2xhc3Nlc1sgXCJ1aS1zcGlubmVyLXVwXCIgXSA9IFwiXCI7XG5cdFx0b3B0aW9ucy5jbGFzc2VzWyBcInVpLXNwaW5uZXItZG93blwiIF0gPSBcIlwiO1xuXG5cdFx0cmV0dXJuIG9wdGlvbnM7XG5cdH0sXG5cblx0X2J1dHRvbk9wdGlvbnM6IGZ1bmN0aW9uKCBwb3NpdGlvbiApIHtcblx0XHRyZXR1cm4gdGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKCBwb3NpdGlvbiwgXCJ1aS1idXR0b25cIiApO1xuXHR9LFxuXG5cdF9jaGVja2JveHJhZGlvT3B0aW9uczogZnVuY3Rpb24oIHBvc2l0aW9uICkge1xuXHRcdHJldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMoIHBvc2l0aW9uLCBcInVpLWNoZWNrYm94cmFkaW8tbGFiZWxcIiApO1xuXHR9LFxuXG5cdF9zZWxlY3RtZW51T3B0aW9uczogZnVuY3Rpb24oIHBvc2l0aW9uICkge1xuXHRcdHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCI7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHdpZHRoOiBkaXJlY3Rpb24gPyBcImF1dG9cIiA6IGZhbHNlLFxuXHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRtaWRkbGU6IHtcblx0XHRcdFx0XHRcInVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW5cIjogXCJcIixcblx0XHRcdFx0XHRcInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZFwiOiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZpcnN0OiB7XG5cdFx0XHRcdFx0XCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuXCI6IFwidWktY29ybmVyLVwiICsgKCBkaXJlY3Rpb24gPyBcInRvcFwiIDogXCJ0bFwiICksXG5cdFx0XHRcdFx0XCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWRcIjogXCJ1aS1jb3JuZXItXCIgKyAoIGRpcmVjdGlvbiA/IFwidG9wXCIgOiBcImxlZnRcIiApXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxhc3Q6IHtcblx0XHRcdFx0XHRcInVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW5cIjogZGlyZWN0aW9uID8gXCJcIiA6IFwidWktY29ybmVyLXRyXCIsXG5cdFx0XHRcdFx0XCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWRcIjogXCJ1aS1jb3JuZXItXCIgKyAoIGRpcmVjdGlvbiA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCIgKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbmx5OiB7XG5cdFx0XHRcdFx0XCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuXCI6IFwidWktY29ybmVyLXRvcFwiLFxuXHRcdFx0XHRcdFwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkXCI6IFwidWktY29ybmVyLWFsbFwiXG5cdFx0XHRcdH1cblxuXHRcdFx0fVsgcG9zaXRpb24gXVxuXHRcdH07XG5cdH0sXG5cblx0X3Jlc29sdmVDbGFzc2VzVmFsdWVzOiBmdW5jdGlvbiggY2xhc3NlcywgaW5zdGFuY2UgKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdCQuZWFjaCggY2xhc3NlcywgZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdHZhciBjdXJyZW50ID0gaW5zdGFuY2Uub3B0aW9ucy5jbGFzc2VzWyBrZXkgXSB8fCBcIlwiO1xuXHRcdFx0Y3VycmVudCA9ICQudHJpbSggY3VycmVudC5yZXBsYWNlKCBjb250cm9sZ3JvdXBDb3JuZXJSZWdleCwgXCJcIiApICk7XG5cdFx0XHRyZXN1bHRbIGtleSBdID0gKCBjdXJyZW50ICsgXCIgXCIgKyBjbGFzc2VzWyBrZXkgXSApLnJlcGxhY2UoIC9cXHMrL2csIFwiIFwiICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiZGlyZWN0aW9uXCIgKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggXCJ1aS1jb250cm9sZ3JvdXAtXCIgKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5fY2FsbENoaWxkTWV0aG9kKCB2YWx1ZSA/IFwiZGlzYWJsZVwiIDogXCJlbmFibGVcIiApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMucmVmcmVzaCgpO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjaGlsZHJlbixcblx0XHRcdHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC1cIiArIHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHR0aGlzLl9hZGRDbGFzcyggbnVsbCwgXCJ1aS1oZWxwZXItY2xlYXJmaXhcIiApO1xuXHRcdH1cblx0XHR0aGlzLl9pbml0V2lkZ2V0cygpO1xuXG5cdFx0Y2hpbGRyZW4gPSB0aGlzLmNoaWxkV2lkZ2V0cztcblxuXHRcdC8vIFdlIGZpbHRlciBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byB0cmFjayBhbGwgY2hpbGRXaWRnZXRzIG5vdCBqdXN0IHRoZSB2aXNpYmxlIG9uZXNcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5vbmx5VmlzaWJsZSApIHtcblx0XHRcdGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKCBcIjp2aXNpYmxlXCIgKTtcblx0XHR9XG5cblx0XHRpZiAoIGNoaWxkcmVuLmxlbmd0aCApIHtcblxuXHRcdFx0Ly8gV2UgZG8gdGhpcyBsYXN0IGJlY2F1c2Ugd2UgbmVlZCB0byBtYWtlIHN1cmUgYWxsIGVuaGFuY21lbnQgaXMgZG9uZVxuXHRcdFx0Ly8gYmVmb3JlIGRldGVybWluaW5nIGZpcnN0IGFuZCBsYXN0XG5cdFx0XHQkLmVhY2goIFsgXCJmaXJzdFwiLCBcImxhc3RcIiBdLCBmdW5jdGlvbiggaW5kZXgsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgaW5zdGFuY2UgPSBjaGlsZHJlblsgdmFsdWUgXSgpLmRhdGEoIFwidWktY29udHJvbGdyb3VwLWRhdGFcIiApO1xuXG5cdFx0XHRcdGlmICggaW5zdGFuY2UgJiYgdGhhdFsgXCJfXCIgKyBpbnN0YW5jZS53aWRnZXROYW1lICsgXCJPcHRpb25zXCIgXSApIHtcblx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IHRoYXRbIFwiX1wiICsgaW5zdGFuY2Uud2lkZ2V0TmFtZSArIFwiT3B0aW9uc1wiIF0oXG5cdFx0XHRcdFx0XHRjaGlsZHJlbi5sZW5ndGggPT09IDEgPyBcIm9ubHlcIiA6IHZhbHVlXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRvcHRpb25zLmNsYXNzZXMgPSB0aGF0Ll9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyggb3B0aW9ucy5jbGFzc2VzLCBpbnN0YW5jZSApO1xuXHRcdFx0XHRcdGluc3RhbmNlLmVsZW1lbnRbIGluc3RhbmNlLndpZGdldE5hbWUgXSggb3B0aW9ucyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoYXQuX3VwZGF0ZUNvcm5lckNsYXNzKCBjaGlsZHJlblsgdmFsdWUgXSgpLCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIEZpbmFsbHkgY2FsbCB0aGUgcmVmcmVzaCBtZXRob2Qgb24gZWFjaCBvZiB0aGUgY2hpbGQgd2lkZ2V0cy5cblx0XHRcdHRoaXMuX2NhbGxDaGlsZE1ldGhvZCggXCJyZWZyZXNoXCIgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuLyohXG4gKiBqUXVlcnkgVUkgQ2hlY2tib3hyYWRpbyAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQ2hlY2tib3hyYWRpb1xuLy8+Pmdyb3VwOiBXaWRnZXRzXG4vLz4+ZGVzY3JpcHRpb246IEVuaGFuY2VzIGEgZm9ybSB3aXRoIG11bHRpcGxlIHRoZW1lYWJsZSBjaGVja2JveGVzIG9yIHJhZGlvIGJ1dHRvbnMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2hlY2tib3hyYWRpby9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9jaGVja2JveHJhZGlvL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NvcmUuY3NzXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvYnV0dG9uLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NoZWNrYm94cmFkaW8uY3NzXG4vLz4+Y3NzLnRoZW1lOiAuLi8uLi90aGVtZXMvYmFzZS90aGVtZS5jc3NcblxuXG5cbiQud2lkZ2V0KCBcInVpLmNoZWNrYm94cmFkaW9cIiwgWyAkLnVpLmZvcm1SZXNldE1peGluLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdG9wdGlvbnM6IHtcblx0XHRkaXNhYmxlZDogbnVsbCxcblx0XHRsYWJlbDogbnVsbCxcblx0XHRpY29uOiB0cnVlLFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdFwidWktY2hlY2tib3hyYWRpby1sYWJlbFwiOiBcInVpLWNvcm5lci1hbGxcIixcblx0XHRcdFwidWktY2hlY2tib3hyYWRpby1pY29uXCI6IFwidWktY29ybmVyLWFsbFwiXG5cdFx0fVxuXHR9LFxuXG5cdF9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGlzYWJsZWQsIGxhYmVscztcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl9zdXBlcigpIHx8IHt9O1xuXG5cdFx0Ly8gV2UgcmVhZCB0aGUgdHlwZSBoZXJlLCBiZWNhdXNlIGl0IG1ha2VzIG1vcmUgc2Vuc2UgdG8gdGhyb3cgYSBlbGVtZW50IHR5cGUgZXJyb3IgZmlyc3QsXG5cdFx0Ly8gcmF0aGVyIHRoZW4gdGhlIGVycm9yIGZvciBsYWNrIG9mIGEgbGFiZWwuIE9mdGVuIGlmIGl0cyB0aGUgd3JvbmcgdHlwZSwgaXRcblx0XHQvLyB3b24ndCBoYXZlIGEgbGFiZWwgKGUuZy4gY2FsbGluZyBvbiBhIGRpdiwgYnRuLCBldGMpXG5cdFx0dGhpcy5fcmVhZFR5cGUoKTtcblxuXHRcdGxhYmVscyA9IHRoaXMuZWxlbWVudC5sYWJlbHMoKTtcblxuXHRcdC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBsYWJlbHMsIHVzZSB0aGUgbGFzdCBvbmVcblx0XHR0aGlzLmxhYmVsID0gJCggbGFiZWxzWyBsYWJlbHMubGVuZ3RoIC0gMSBdICk7XG5cdFx0aWYgKCAhdGhpcy5sYWJlbC5sZW5ndGggKSB7XG5cdFx0XHQkLmVycm9yKCBcIk5vIGxhYmVsIGZvdW5kIGZvciBjaGVja2JveHJhZGlvIHdpZGdldFwiICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcmlnaW5hbExhYmVsID0gXCJcIjtcblxuXHRcdC8vIFdlIG5lZWQgdG8gZ2V0IHRoZSBsYWJlbCB0ZXh0IGJ1dCB0aGlzIG1heSBhbHNvIG5lZWQgdG8gbWFrZSBzdXJlIGl0IGRvZXMgbm90IGNvbnRhaW4gdGhlXG5cdFx0Ly8gaW5wdXQgaXRzZWxmLlxuXHRcdHRoaXMubGFiZWwuY29udGVudHMoKS5ub3QoIHRoaXMuZWxlbWVudFsgMCBdICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFRoZSBsYWJlbCBjb250ZW50cyBjb3VsZCBiZSB0ZXh0LCBodG1sLCBvciBhIG1peC4gV2UgY29uY2F0IGVhY2ggZWxlbWVudCB0byBnZXQgYVxuXHRcdFx0Ly8gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBsYWJlbCwgd2l0aG91dCB0aGUgaW5wdXQgYXMgcGFydCBvZiBpdC5cblx0XHRcdHRoYXQub3JpZ2luYWxMYWJlbCArPSB0aGlzLm5vZGVUeXBlID09PSAzID8gJCggdGhpcyApLnRleHQoKSA6IHRoaXMub3V0ZXJIVE1MO1xuXHRcdH0gKTtcblxuXHRcdC8vIFNldCB0aGUgbGFiZWwgb3B0aW9uIGlmIHdlIGZvdW5kIGxhYmVsIHRleHRcblx0XHRpZiAoIHRoaXMub3JpZ2luYWxMYWJlbCApIHtcblx0XHRcdG9wdGlvbnMubGFiZWwgPSB0aGlzLm9yaWdpbmFsTGFiZWw7XG5cdFx0fVxuXG5cdFx0ZGlzYWJsZWQgPSB0aGlzLmVsZW1lbnRbIDAgXS5kaXNhYmxlZDtcblx0XHRpZiAoIGRpc2FibGVkICE9IG51bGwgKSB7XG5cdFx0XHRvcHRpb25zLmRpc2FibGVkID0gZGlzYWJsZWQ7XG5cdFx0fVxuXHRcdHJldHVybiBvcHRpb25zO1xuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjaGVja2VkID0gdGhpcy5lbGVtZW50WyAwIF0uY2hlY2tlZDtcblxuXHRcdHRoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9PSBudWxsICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLmRpc2FibGVkID0gdGhpcy5lbGVtZW50WyAwIF0uZGlzYWJsZWQ7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcImRpc2FibGVkXCIsIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLWNoZWNrYm94cmFkaW9cIiwgXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmxhYmVsLCBcInVpLWNoZWNrYm94cmFkaW8tbGFiZWxcIiwgXCJ1aS1idXR0b24gdWktd2lkZ2V0XCIgKTtcblxuXHRcdGlmICggdGhpcy50eXBlID09PSBcInJhZGlvXCIgKSB7XG5cdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5sYWJlbCwgXCJ1aS1jaGVja2JveHJhZGlvLXJhZGlvLWxhYmVsXCIgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5sYWJlbCAmJiB0aGlzLm9wdGlvbnMubGFiZWwgIT09IHRoaXMub3JpZ2luYWxMYWJlbCApIHtcblx0XHRcdHRoaXMuX3VwZGF0ZUxhYmVsKCk7XG5cdFx0fSBlbHNlIGlmICggdGhpcy5vcmlnaW5hbExhYmVsICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLmxhYmVsID0gdGhpcy5vcmlnaW5hbExhYmVsO1xuXHRcdH1cblxuXHRcdHRoaXMuX2VuaGFuY2UoKTtcblxuXHRcdGlmICggY2hlY2tlZCApIHtcblx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmxhYmVsLCBcInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZFwiLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRpZiAoIHRoaXMuaWNvbiApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaWNvbiwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fb24oIHtcblx0XHRcdGNoYW5nZTogXCJfdG9nZ2xlQ2xhc3Nlc1wiLFxuXHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5sYWJlbCwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXNcIiApO1xuXHRcdFx0fSxcblx0XHRcdGJsdXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5sYWJlbCwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXNcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfcmVhZFR5cGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBub2RlTmFtZSA9IHRoaXMuZWxlbWVudFsgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0dGhpcy50eXBlID0gdGhpcy5lbGVtZW50WyAwIF0udHlwZTtcblx0XHRpZiAoIG5vZGVOYW1lICE9PSBcImlucHV0XCIgfHwgIS9yYWRpb3xjaGVja2JveC8udGVzdCggdGhpcy50eXBlICkgKSB7XG5cdFx0XHQkLmVycm9yKCBcIkNhbid0IGNyZWF0ZSBjaGVja2JveHJhZGlvIG9uIGVsZW1lbnQubm9kZU5hbWU9XCIgKyBub2RlTmFtZSArXG5cdFx0XHRcdFwiIGFuZCBlbGVtZW50LnR5cGU9XCIgKyB0aGlzLnR5cGUgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gU3VwcG9ydCBqUXVlcnkgTW9iaWxlIGVuaGFuY2VkIG9wdGlvblxuXHRfZW5oYW5jZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdXBkYXRlSWNvbiggdGhpcy5lbGVtZW50WyAwIF0uY2hlY2tlZCApO1xuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubGFiZWw7XG5cdH0sXG5cblx0X2dldFJhZGlvR3JvdXA6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBncm91cDtcblx0XHR2YXIgbmFtZSA9IHRoaXMuZWxlbWVudFsgMCBdLm5hbWU7XG5cdFx0dmFyIG5hbWVTZWxlY3RvciA9IFwiaW5wdXRbbmFtZT0nXCIgKyAkLnVpLmVzY2FwZVNlbGVjdG9yKCBuYW1lICkgKyBcIiddXCI7XG5cblx0XHRpZiAoICFuYW1lICkge1xuXHRcdFx0cmV0dXJuICQoIFtdICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmZvcm0ubGVuZ3RoICkge1xuXHRcdFx0Z3JvdXAgPSAkKCB0aGlzLmZvcm1bIDAgXS5lbGVtZW50cyApLmZpbHRlciggbmFtZVNlbGVjdG9yICk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gTm90IGluc2lkZSBhIGZvcm0sIGNoZWNrIGFsbCBpbnB1dHMgdGhhdCBhbHNvIGFyZSBub3QgaW5zaWRlIGEgZm9ybVxuXHRcdFx0Z3JvdXAgPSAkKCBuYW1lU2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmZvcm0oKS5sZW5ndGggPT09IDA7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdyb3VwLm5vdCggdGhpcy5lbGVtZW50ICk7XG5cdH0sXG5cblx0X3RvZ2dsZUNsYXNzZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjaGVja2VkID0gdGhpcy5lbGVtZW50WyAwIF0uY2hlY2tlZDtcblx0XHR0aGlzLl90b2dnbGVDbGFzcyggdGhpcy5sYWJlbCwgXCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWRcIiwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiwgY2hlY2tlZCApO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaWNvbiAmJiB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiApIHtcblx0XHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCB0aGlzLmljb24sIG51bGwsIFwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkXCIsIGNoZWNrZWQgKVxuXHRcdFx0XHQuX3RvZ2dsZUNsYXNzKCB0aGlzLmljb24sIG51bGwsIFwidWktaWNvbi1ibGFua1wiLCAhY2hlY2tlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy50eXBlID09PSBcInJhZGlvXCIgKSB7XG5cdFx0XHR0aGlzLl9nZXRSYWRpb0dyb3VwKClcblx0XHRcdFx0LmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQoIHRoaXMgKS5jaGVja2JveHJhZGlvKCBcImluc3RhbmNlXCIgKTtcblxuXHRcdFx0XHRcdGlmICggaW5zdGFuY2UgKSB7XG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5fcmVtb3ZlQ2xhc3MoIGluc3RhbmNlLmxhYmVsLFxuXHRcdFx0XHRcdFx0XHRcInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZFwiLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl91bmJpbmRGb3JtUmVzZXRIYW5kbGVyKCk7XG5cblx0XHRpZiAoIHRoaXMuaWNvbiApIHtcblx0XHRcdHRoaXMuaWNvbi5yZW1vdmUoKTtcblx0XHRcdHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIFdlIGRvbid0IGFsbG93IHRoZSB2YWx1ZSB0byBiZSBzZXQgdG8gbm90aGluZ1xuXHRcdGlmICgga2V5ID09PSBcImxhYmVsXCIgJiYgIXZhbHVlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIHRoaXMubGFiZWwsIG51bGwsIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgdmFsdWUgKTtcblx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLmRpc2FibGVkID0gdmFsdWU7XG5cblx0XHRcdC8vIERvbid0IHJlZnJlc2ggd2hlbiBzZXR0aW5nIGRpc2FibGVkXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMucmVmcmVzaCgpO1xuXHR9LFxuXG5cdF91cGRhdGVJY29uOiBmdW5jdGlvbiggY2hlY2tlZCApIHtcblx0XHR2YXIgdG9BZGQgPSBcInVpLWljb24gdWktaWNvbi1iYWNrZ3JvdW5kIFwiO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaWNvbiApIHtcblx0XHRcdGlmICggIXRoaXMuaWNvbiApIHtcblx0XHRcdFx0dGhpcy5pY29uID0gJCggXCI8c3Bhbj5cIiApO1xuXHRcdFx0XHR0aGlzLmljb25TcGFjZSA9ICQoIFwiPHNwYW4+IDwvc3Bhbj5cIiApO1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5pY29uU3BhY2UsIFwidWktY2hlY2tib3hyYWRpby1pY29uLXNwYWNlXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiApIHtcblx0XHRcdFx0dG9BZGQgKz0gY2hlY2tlZCA/IFwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkXCIgOiBcInVpLWljb24tYmxhbmtcIjtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaWNvbiwgbnVsbCwgY2hlY2tlZCA/IFwidWktaWNvbi1ibGFua1wiIDogXCJ1aS1pY29uLWNoZWNrXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRvQWRkICs9IFwidWktaWNvbi1ibGFua1wiO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaWNvbiwgXCJ1aS1jaGVja2JveHJhZGlvLWljb25cIiwgdG9BZGQgKTtcblx0XHRcdGlmICggIWNoZWNrZWQgKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmljb24sIG51bGwsIFwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkXCIgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuaWNvbi5wcmVwZW5kVG8oIHRoaXMubGFiZWwgKS5hZnRlciggdGhpcy5pY29uU3BhY2UgKTtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmljb24gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoaXMuaWNvbi5yZW1vdmUoKTtcblx0XHRcdHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpO1xuXHRcdFx0ZGVsZXRlIHRoaXMuaWNvbjtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZUxhYmVsOiBmdW5jdGlvbigpIHtcblxuXHRcdC8vIFJlbW92ZSB0aGUgY29udGVudHMgb2YgdGhlIGxhYmVsICggbWludXMgdGhlIGljb24sIGljb24gc3BhY2UsIGFuZCBpbnB1dCApXG5cdFx0dmFyIGNvbnRlbnRzID0gdGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCggdGhpcy5lbGVtZW50WyAwIF0gKTtcblx0XHRpZiAoIHRoaXMuaWNvbiApIHtcblx0XHRcdGNvbnRlbnRzID0gY29udGVudHMubm90KCB0aGlzLmljb25bIDAgXSApO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuaWNvblNwYWNlICkge1xuXHRcdFx0Y29udGVudHMgPSBjb250ZW50cy5ub3QoIHRoaXMuaWNvblNwYWNlWyAwIF0gKTtcblx0XHR9XG5cdFx0Y29udGVudHMucmVtb3ZlKCk7XG5cblx0XHR0aGlzLmxhYmVsLmFwcGVuZCggdGhpcy5vcHRpb25zLmxhYmVsICk7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNoZWNrZWQgPSB0aGlzLmVsZW1lbnRbIDAgXS5jaGVja2VkLFxuXHRcdFx0aXNEaXNhYmxlZCA9IHRoaXMuZWxlbWVudFsgMCBdLmRpc2FibGVkO1xuXG5cdFx0dGhpcy5fdXBkYXRlSWNvbiggY2hlY2tlZCApO1xuXHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCB0aGlzLmxhYmVsLCBcInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZFwiLCBcInVpLXN0YXRlLWFjdGl2ZVwiLCBjaGVja2VkICk7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMubGFiZWwgIT09IG51bGwgKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVMYWJlbCgpO1xuXHRcdH1cblxuXHRcdGlmICggaXNEaXNhYmxlZCAhPT0gdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9ucyggeyBcImRpc2FibGVkXCI6IGlzRGlzYWJsZWQgfSApO1xuXHRcdH1cblx0fVxuXG59IF0gKTtcblxudmFyIHdpZGdldHNDaGVja2JveHJhZGlvID0gJC51aS5jaGVja2JveHJhZGlvO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEJ1dHRvbiAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQnV0dG9uXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogRW5oYW5jZXMgYSBmb3JtIHdpdGggdGhlbWVhYmxlIGJ1dHRvbnMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYnV0dG9uL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2J1dHRvbi9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2J1dHRvbi5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG5cblxuJC53aWRnZXQoIFwidWkuYnV0dG9uXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPGJ1dHRvbj5cIixcblx0b3B0aW9uczoge1xuXHRcdGNsYXNzZXM6IHtcblx0XHRcdFwidWktYnV0dG9uXCI6IFwidWktY29ybmVyLWFsbFwiXG5cdFx0fSxcblx0XHRkaXNhYmxlZDogbnVsbCxcblx0XHRpY29uOiBudWxsLFxuXHRcdGljb25Qb3NpdGlvbjogXCJiZWdpbm5pbmdcIixcblx0XHRsYWJlbDogbnVsbCxcblx0XHRzaG93TGFiZWw6IHRydWVcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRpc2FibGVkLFxuXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHN1cHBvcnQgY2FzZXMgbGlrZSBpbiBqUXVlcnkgTW9iaWxlIHdoZXJlIHRoZSBiYXNlIHdpZGdldCBkb2VzIGhhdmVcblx0XHRcdC8vIGFuIGltcGxlbWVudGF0aW9uIG9mIF9nZXRDcmVhdGVPcHRpb25zXG5cdFx0XHRvcHRpb25zID0gdGhpcy5fc3VwZXIoKSB8fCB7fTtcblxuXHRcdHRoaXMuaXNJbnB1dCA9IHRoaXMuZWxlbWVudC5pcyggXCJpbnB1dFwiICk7XG5cblx0XHRkaXNhYmxlZCA9IHRoaXMuZWxlbWVudFsgMCBdLmRpc2FibGVkO1xuXHRcdGlmICggZGlzYWJsZWQgIT0gbnVsbCApIHtcblx0XHRcdG9wdGlvbnMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcblx0XHR9XG5cblx0XHR0aGlzLm9yaWdpbmFsTGFiZWwgPSB0aGlzLmlzSW5wdXQgPyB0aGlzLmVsZW1lbnQudmFsKCkgOiB0aGlzLmVsZW1lbnQuaHRtbCgpO1xuXHRcdGlmICggdGhpcy5vcmlnaW5hbExhYmVsICkge1xuXHRcdFx0b3B0aW9ucy5sYWJlbCA9IHRoaXMub3JpZ2luYWxMYWJlbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3B0aW9ucztcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzLm9wdGlvbi5zaG93TGFiZWwgJiAhdGhpcy5vcHRpb25zLmljb24gKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc2hvd0xhYmVsID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBXZSBoYXZlIHRvIGNoZWNrIHRoZSBvcHRpb24gYWdhaW4gaGVyZSBldmVuIHRob3VnaCB3ZSBkaWQgaW4gX2dldENyZWF0ZU9wdGlvbnMsXG5cdFx0Ly8gYmVjYXVzZSBudWxsIG1heSBoYXZlIGJlZW4gcGFzc2VkIG9uIGluaXQgd2hpY2ggd291bGQgb3ZlcnJpZGUgd2hhdCB3YXMgc2V0IGluXG5cdFx0Ly8gX2dldENyZWF0ZU9wdGlvbnNcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9PSBudWxsICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLmRpc2FibGVkID0gdGhpcy5lbGVtZW50WyAwIF0uZGlzYWJsZWQgfHwgZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYXNUaXRsZSA9ICEhdGhpcy5lbGVtZW50LmF0dHIoIFwidGl0bGVcIiApO1xuXG5cdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBsYWJlbCBuZWVkcyB0byBiZSBzZXQgb3IgaWYgaXRzIGFscmVhZHkgY29ycmVjdFxuXHRcdGlmICggdGhpcy5vcHRpb25zLmxhYmVsICYmIHRoaXMub3B0aW9ucy5sYWJlbCAhPT0gdGhpcy5vcmlnaW5hbExhYmVsICkge1xuXHRcdFx0aWYgKCB0aGlzLmlzSW5wdXQgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC52YWwoIHRoaXMub3B0aW9ucy5sYWJlbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50Lmh0bWwoIHRoaXMub3B0aW9ucy5sYWJlbCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1idXR0b25cIiwgXCJ1aS13aWRnZXRcIiApO1xuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJkaXNhYmxlZFwiLCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR0aGlzLl9lbmhhbmNlKCk7XG5cblx0XHRpZiAoIHRoaXMuZWxlbWVudC5pcyggXCJhXCIgKSApIHtcblx0XHRcdHRoaXMuX29uKCB7XG5cdFx0XHRcdFwia2V5dXBcIjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlNQQUNFICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUGhhbnRvbUpTIDw9IDEuOSwgSUUgOCBPbmx5XG5cdFx0XHRcdFx0XHQvLyBJZiBhIG5hdGl2ZSBjbGljayBpcyBhdmFpbGFibGUgdXNlIGl0IHNvIHdlIGFjdHVhbGx5IGNhdXNlIG5hdmlnYXRpb25cblx0XHRcdFx0XHRcdC8vIG90aGVyd2lzZSBqdXN0IHRyaWdnZXIgYSBjbGljayBldmVudFxuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLmVsZW1lbnRbIDAgXS5jbGljayApIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5lbGVtZW50WyAwIF0uY2xpY2soKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImNsaWNrXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X2VuaGFuY2U6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXMuZWxlbWVudC5pcyggXCJidXR0b25cIiApICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwicm9sZVwiLCBcImJ1dHRvblwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaWNvbiApIHtcblx0XHRcdHRoaXMuX3VwZGF0ZUljb24oIFwiaWNvblwiLCB0aGlzLm9wdGlvbnMuaWNvbiApO1xuXHRcdFx0dGhpcy5fdXBkYXRlVG9vbHRpcCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlVG9vbHRpcDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy50aXRsZSA9IHRoaXMuZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKTtcblxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5zaG93TGFiZWwgJiYgIXRoaXMudGl0bGUgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiLCB0aGlzLm9wdGlvbnMubGFiZWwgKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZUljb246IGZ1bmN0aW9uKCBvcHRpb24sIHZhbHVlICkge1xuXHRcdHZhciBpY29uID0gb3B0aW9uICE9PSBcImljb25Qb3NpdGlvblwiLFxuXHRcdFx0cG9zaXRpb24gPSBpY29uID8gdGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbiA6IHZhbHVlLFxuXHRcdFx0ZGlzcGxheUJsb2NrID0gcG9zaXRpb24gPT09IFwidG9wXCIgfHwgcG9zaXRpb24gPT09IFwiYm90dG9tXCI7XG5cblx0XHQvLyBDcmVhdGUgaWNvblxuXHRcdGlmICggIXRoaXMuaWNvbiApIHtcblx0XHRcdHRoaXMuaWNvbiA9ICQoIFwiPHNwYW4+XCIgKTtcblxuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaWNvbiwgXCJ1aS1idXR0b24taWNvblwiLCBcInVpLWljb25cIiApO1xuXG5cdFx0XHRpZiAoICF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsICkge1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1idXR0b24taWNvbi1vbmx5XCIgKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCBpY29uICkge1xuXG5cdFx0XHQvLyBJZiB3ZSBhcmUgdXBkYXRpbmcgdGhlIGljb24gcmVtb3ZlIHRoZSBvbGQgaWNvbiBjbGFzc1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaWNvbiwgbnVsbCwgdGhpcy5vcHRpb25zLmljb24gKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBhcmUgdXBkYXRpbmcgdGhlIGljb24gYWRkIHRoZSBuZXcgaWNvbiBjbGFzc1xuXHRcdGlmICggaWNvbiApIHtcblx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmljb24sIG51bGwsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fYXR0YWNoSWNvbiggcG9zaXRpb24gKTtcblxuXHRcdC8vIElmIHRoZSBpY29uIGlzIG9uIHRvcCBvciBib3R0b20gd2UgbmVlZCB0byBhZGQgdGhlIHVpLXdpZGdldC1pY29uLWJsb2NrIGNsYXNzIGFuZCByZW1vdmVcblx0XHQvLyB0aGUgaWNvblNwYWNlIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRpZiAoIGRpc3BsYXlCbG9jayApIHtcblx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmljb24sIG51bGwsIFwidWktd2lkZ2V0LWljb24tYmxvY2tcIiApO1xuXHRcdFx0aWYgKCB0aGlzLmljb25TcGFjZSApIHtcblx0XHRcdFx0dGhpcy5pY29uU3BhY2UucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gUG9zaXRpb24gaXMgYmVnaW5uaW5nIG9yIGVuZCBzbyByZW1vdmUgdGhlIHVpLXdpZGdldC1pY29uLWJsb2NrIGNsYXNzIGFuZCBhZGQgdGhlXG5cdFx0XHQvLyBzcGFjZSBpZiBpdCBkb2VzIG5vdCBleGlzdFxuXHRcdFx0aWYgKCAhdGhpcy5pY29uU3BhY2UgKSB7XG5cdFx0XHRcdHRoaXMuaWNvblNwYWNlID0gJCggXCI8c3Bhbj4gPC9zcGFuPlwiICk7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmljb25TcGFjZSwgXCJ1aS1idXR0b24taWNvbi1zcGFjZVwiICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5pY29uLCBudWxsLCBcInVpLXdpZ2V0LWljb24tYmxvY2tcIiApO1xuXHRcdFx0dGhpcy5fYXR0YWNoSWNvblNwYWNlKCBwb3NpdGlvbiApO1xuXHRcdH1cblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwicm9sZVwiICk7XG5cblx0XHRpZiAoIHRoaXMuaWNvbiApIHtcblx0XHRcdHRoaXMuaWNvbi5yZW1vdmUoKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLmljb25TcGFjZSApIHtcblx0XHRcdHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpO1xuXHRcdH1cblx0XHRpZiAoICF0aGlzLmhhc1RpdGxlICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwidGl0bGVcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfYXR0YWNoSWNvblNwYWNlOiBmdW5jdGlvbiggaWNvblBvc2l0aW9uICkge1xuXHRcdHRoaXMuaWNvblsgL14oPzplbmR8Ym90dG9tKS8udGVzdCggaWNvblBvc2l0aW9uICkgPyBcImJlZm9yZVwiIDogXCJhZnRlclwiIF0oIHRoaXMuaWNvblNwYWNlICk7XG5cdH0sXG5cblx0X2F0dGFjaEljb246IGZ1bmN0aW9uKCBpY29uUG9zaXRpb24gKSB7XG5cdFx0dGhpcy5lbGVtZW50WyAvXig/OmVuZHxib3R0b20pLy50ZXN0KCBpY29uUG9zaXRpb24gKSA/IFwiYXBwZW5kXCIgOiBcInByZXBlbmRcIiBdKCB0aGlzLmljb24gKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIG5ld1Nob3dMYWJlbCA9IG9wdGlvbnMuc2hvd0xhYmVsID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuc2hvd0xhYmVsIDpcblx0XHRcdFx0b3B0aW9ucy5zaG93TGFiZWwsXG5cdFx0XHRuZXdJY29uID0gb3B0aW9ucy5pY29uID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuaWNvbiA6IG9wdGlvbnMuaWNvbjtcblxuXHRcdGlmICggIW5ld1Nob3dMYWJlbCAmJiAhbmV3SWNvbiApIHtcblx0XHRcdG9wdGlvbnMuc2hvd0xhYmVsID0gdHJ1ZTtcblx0XHR9XG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJpY29uXCIgKSB7XG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLl91cGRhdGVJY29uKCBrZXksIHZhbHVlICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGlzLmljb24gKSB7XG5cdFx0XHRcdHRoaXMuaWNvbi5yZW1vdmUoKTtcblx0XHRcdFx0aWYgKCB0aGlzLmljb25TcGFjZSApIHtcblx0XHRcdFx0XHR0aGlzLmljb25TcGFjZS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImljb25Qb3NpdGlvblwiICkge1xuXHRcdFx0dGhpcy5fdXBkYXRlSWNvbigga2V5LCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSBjYW4ndCBlbmQgdXAgd2l0aCBhIGJ1dHRvbiB0aGF0IGhhcyBuZWl0aGVyIHRleHQgbm9yIGljb25cblx0XHRpZiAoIGtleSA9PT0gXCJzaG93TGFiZWxcIiApIHtcblx0XHRcdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIFwidWktYnV0dG9uLWljb24tb25seVwiLCBudWxsLCAhdmFsdWUgKTtcblx0XHRcdFx0dGhpcy5fdXBkYXRlVG9vbHRpcCgpO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImxhYmVsXCIgKSB7XG5cdFx0XHRpZiAoIHRoaXMuaXNJbnB1dCApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnZhbCggdmFsdWUgKTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gaWNvbiwgYXBwZW5kIGl0LCBlbHNlIG5vdGhpbmcgdGhlbiBhcHBlbmQgdGhlIHZhbHVlXG5cdFx0XHRcdC8vIHRoaXMgYXZvaWRzIHJlbW92YWwgb2YgdGhlIGljb24gd2hlbiBzZXR0aW5nIGxhYmVsIHRleHRcblx0XHRcdFx0dGhpcy5lbGVtZW50Lmh0bWwoIHZhbHVlICk7XG5cdFx0XHRcdGlmICggdGhpcy5pY29uICkge1xuXHRcdFx0XHRcdHRoaXMuX2F0dGFjaEljb24oIHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24gKTtcblx0XHRcdFx0XHR0aGlzLl9hdHRhY2hJY29uU3BhY2UoIHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIG51bGwsIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgdmFsdWUgKTtcblx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLmRpc2FibGVkID0gdmFsdWU7XG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQuYmx1cigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0byBvbmx5IGNoZWNrIGRpc2FibGVkIGlmIGl0cyBhbiBlbGVtZW50IHRoYXQgc3VwcG9ydHMgdGhpcyBvdGhlcndpc2Vcblx0XHQvLyBjaGVjayBmb3IgdGhlIGRpc2FibGVkIGNsYXNzIHRvIGRldGVybWluZSBzdGF0ZVxuXHRcdHZhciBpc0Rpc2FibGVkID0gdGhpcy5lbGVtZW50LmlzKCBcImlucHV0LCBidXR0b25cIiApID9cblx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLmRpc2FibGVkIDogdGhpcy5lbGVtZW50Lmhhc0NsYXNzKCBcInVpLWJ1dHRvbi1kaXNhYmxlZFwiICk7XG5cblx0XHRpZiAoIGlzRGlzYWJsZWQgIT09IHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbnMoIHsgZGlzYWJsZWQ6IGlzRGlzYWJsZWQgfSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3VwZGF0ZVRvb2x0aXAoKTtcblx0fVxufSApO1xuXG4vLyBERVBSRUNBVEVEXG5pZiAoICQudWlCYWNrQ29tcGF0ICE9PSBmYWxzZSApIHtcblxuXHQvLyBUZXh0IGFuZCBJY29ucyBvcHRpb25zXG5cdCQud2lkZ2V0KCBcInVpLmJ1dHRvblwiLCAkLnVpLmJ1dHRvbiwge1xuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHRleHQ6IHRydWUsXG5cdFx0XHRpY29uczoge1xuXHRcdFx0XHRwcmltYXJ5OiBudWxsLFxuXHRcdFx0XHRzZWNvbmRhcnk6IG51bGxcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5zaG93TGFiZWwgJiYgIXRoaXMub3B0aW9ucy50ZXh0ICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuc2hvd0xhYmVsID0gdGhpcy5vcHRpb25zLnRleHQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsICYmIHRoaXMub3B0aW9ucy50ZXh0ICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudGV4dCA9IHRoaXMub3B0aW9ucy5zaG93TGFiZWw7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICF0aGlzLm9wdGlvbnMuaWNvbiAmJiAoIHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5IHx8XG5cdFx0XHRcdFx0dGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeSApICkge1xuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5ICkge1xuXHRcdFx0XHRcdHRoaXMub3B0aW9ucy5pY29uID0gdGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5vcHRpb25zLmljb24gPSB0aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5O1xuXHRcdFx0XHRcdHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24gPSBcImVuZFwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMuaWNvbiApIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLmljb25zLnByaW1hcnkgPSB0aGlzLm9wdGlvbnMuaWNvbjtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3N1cGVyKCk7XG5cdFx0fSxcblxuXHRcdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0aWYgKCBrZXkgPT09IFwidGV4dFwiICkge1xuXHRcdFx0XHR0aGlzLl9zdXBlciggXCJzaG93TGFiZWxcIiwgdmFsdWUgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBrZXkgPT09IFwic2hvd0xhYmVsXCIgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy50ZXh0ID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGtleSA9PT0gXCJpY29uXCIgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5ID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGtleSA9PT0gXCJpY29uc1wiICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlLnByaW1hcnkgKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3VwZXIoIFwiaWNvblwiLCB2YWx1ZS5wcmltYXJ5ICk7XG5cdFx0XHRcdFx0dGhpcy5fc3VwZXIoIFwiaWNvblBvc2l0aW9uXCIsIFwiYmVnaW5uaW5nXCIgKTtcblx0XHRcdFx0fSBlbHNlIGlmICggdmFsdWUuc2Vjb25kYXJ5ICkge1xuXHRcdFx0XHRcdHRoaXMuX3N1cGVyKCBcImljb25cIiwgdmFsdWUuc2Vjb25kYXJ5ICk7XG5cdFx0XHRcdFx0dGhpcy5fc3VwZXIoIFwiaWNvblBvc2l0aW9uXCIsIFwiZW5kXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5fc3VwZXJBcHBseSggYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9ICk7XG5cblx0JC5mbi5idXR0b24gPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXRoaXMubGVuZ3RoIHx8ICggdGhpcy5sZW5ndGggJiYgdGhpc1sgMCBdLnRhZ05hbWUgIT09IFwiSU5QVVRcIiApIHx8XG5cdFx0XHRcdFx0KCB0aGlzLmxlbmd0aCAmJiB0aGlzWyAwIF0udGFnTmFtZSA9PT0gXCJJTlBVVFwiICYmIChcblx0XHRcdFx0XHRcdHRoaXMuYXR0ciggXCJ0eXBlXCIgKSAhPT0gXCJjaGVja2JveFwiICYmIHRoaXMuYXR0ciggXCJ0eXBlXCIgKSAhPT0gXCJyYWRpb1wiXG5cdFx0XHRcdFx0KSApICkge1xuXHRcdFx0XHRyZXR1cm4gb3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICEkLnVpLmNoZWNrYm94cmFkaW8gKSB7XG5cdFx0XHRcdCQuZXJyb3IoIFwiQ2hlY2tib3hyYWRpbyB3aWRnZXQgbWlzc2luZ1wiICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNoZWNrYm94cmFkaW8oIHtcblx0XHRcdFx0XHRcImljb25cIjogZmFsc2Vcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuY2hlY2tib3hyYWRpby5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSApKCAkLmZuLmJ1dHRvbiApO1xuXG5cdCQuZm4uYnV0dG9uc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhJC51aS5jb250cm9sZ3JvdXAgKSB7XG5cdFx0XHQkLmVycm9yKCBcIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZ1wiICk7XG5cdFx0fVxuXHRcdGlmICggYXJndW1lbnRzWyAwIF0gPT09IFwib3B0aW9uXCIgJiYgYXJndW1lbnRzWyAxIF0gPT09IFwiaXRlbXNcIiAmJiBhcmd1bWVudHNbIDIgXSApIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRyb2xncm91cC5hcHBseSggdGhpcyxcblx0XHRcdFx0WyBhcmd1bWVudHNbIDAgXSwgXCJpdGVtcy5idXR0b25cIiwgYXJndW1lbnRzWyAyIF0gXSApO1xuXHRcdH1cblx0XHRpZiAoIGFyZ3VtZW50c1sgMCBdID09PSBcIm9wdGlvblwiICYmIGFyZ3VtZW50c1sgMSBdID09PSBcIml0ZW1zXCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkoIHRoaXMsIFsgYXJndW1lbnRzWyAwIF0sIFwiaXRlbXMuYnV0dG9uXCIgXSApO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiBhcmd1bWVudHNbIDAgXSA9PT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHNbIDAgXS5pdGVtcyApIHtcblx0XHRcdGFyZ3VtZW50c1sgMCBdLml0ZW1zID0ge1xuXHRcdFx0XHRidXR0b246IGFyZ3VtZW50c1sgMCBdLml0ZW1zXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHR9O1xufVxuXG52YXIgd2lkZ2V0c0J1dHRvbiA9ICQudWkuYnV0dG9uO1xuXG5cbi8vIGpzY3M6ZGlzYWJsZSBtYXhpbXVtTGluZUxlbmd0aFxuLyoganNjczpkaXNhYmxlIHJlcXVpcmVDYW1lbENhc2VPclVwcGVyQ2FzZUlkZW50aWZpZXJzICovXG4vKiFcbiAqIGpRdWVyeSBVSSBEYXRlcGlja2VyIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBEYXRlcGlja2VyXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogRGlzcGxheXMgYSBjYWxlbmRhciBmcm9tIGFuIGlucHV0IG9yIGlubGluZSBmb3Igc2VsZWN0aW5nIGRhdGVzLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RhdGVwaWNrZXIvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZGF0ZXBpY2tlci9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2RhdGVwaWNrZXIuY3NzXG4vLz4+Y3NzLnRoZW1lOiAuLi8uLi90aGVtZXMvYmFzZS90aGVtZS5jc3NcblxuXG5cbiQuZXh0ZW5kKCAkLnVpLCB7IGRhdGVwaWNrZXI6IHsgdmVyc2lvbjogXCIxLjEyLjFcIiB9IH0gKTtcblxudmFyIGRhdGVwaWNrZXJfaW5zdEFjdGl2ZTtcblxuZnVuY3Rpb24gZGF0ZXBpY2tlcl9nZXRaaW5kZXgoIGVsZW0gKSB7XG5cdHZhciBwb3NpdGlvbiwgdmFsdWU7XG5cdHdoaWxlICggZWxlbS5sZW5ndGggJiYgZWxlbVsgMCBdICE9PSBkb2N1bWVudCApIHtcblxuXHRcdC8vIElnbm9yZSB6LWluZGV4IGlmIHBvc2l0aW9uIGlzIHNldCB0byBhIHZhbHVlIHdoZXJlIHotaW5kZXggaXMgaWdub3JlZCBieSB0aGUgYnJvd3NlclxuXHRcdC8vIFRoaXMgbWFrZXMgYmVoYXZpb3Igb2YgdGhpcyBmdW5jdGlvbiBjb25zaXN0ZW50IGFjcm9zcyBicm93c2Vyc1xuXHRcdC8vIFdlYktpdCBhbHdheXMgcmV0dXJucyBhdXRvIGlmIHRoZSBlbGVtZW50IGlzIHBvc2l0aW9uZWRcblx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcblx0XHRpZiAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyBJRSByZXR1cm5zIDAgd2hlbiB6SW5kZXggaXMgbm90IHNwZWNpZmllZFxuXHRcdFx0Ly8gb3RoZXIgYnJvd3NlcnMgcmV0dXJuIGEgc3RyaW5nXG5cdFx0XHQvLyB3ZSBpZ25vcmUgdGhlIGNhc2Ugb2YgbmVzdGVkIGVsZW1lbnRzIHdpdGggYW4gZXhwbGljaXQgdmFsdWUgb2YgMFxuXHRcdFx0Ly8gPGRpdiBzdHlsZT1cInotaW5kZXg6IC0xMDtcIj48ZGl2IHN0eWxlPVwiei1pbmRleDogMDtcIj48L2Rpdj48L2Rpdj5cblx0XHRcdHZhbHVlID0gcGFyc2VJbnQoIGVsZW0uY3NzKCBcInpJbmRleFwiICksIDEwICk7XG5cdFx0XHRpZiAoICFpc05hTiggdmFsdWUgKSAmJiB2YWx1ZSAhPT0gMCApIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbGVtID0gZWxlbS5wYXJlbnQoKTtcblx0fVxuXG5cdHJldHVybiAwO1xufVxuLyogRGF0ZSBwaWNrZXIgbWFuYWdlci5cbiAgIFVzZSB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MsICQuZGF0ZXBpY2tlciwgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgZGF0ZSBwaWNrZXIuXG4gICBTZXR0aW5ncyBmb3IgKGdyb3VwcyBvZikgZGF0ZSBwaWNrZXJzIGFyZSBtYWludGFpbmVkIGluIGFuIGluc3RhbmNlIG9iamVjdCxcbiAgIGFsbG93aW5nIG11bHRpcGxlIGRpZmZlcmVudCBzZXR0aW5ncyBvbiB0aGUgc2FtZSBwYWdlLiAqL1xuXG5mdW5jdGlvbiBEYXRlcGlja2VyKCkge1xuXHR0aGlzLl9jdXJJbnN0ID0gbnVsbDsgLy8gVGhlIGN1cnJlbnQgaW5zdGFuY2UgaW4gdXNlXG5cdHRoaXMuX2tleUV2ZW50ID0gZmFsc2U7IC8vIElmIHRoZSBsYXN0IGV2ZW50IHdhcyBhIGtleSBldmVudFxuXHR0aGlzLl9kaXNhYmxlZElucHV0cyA9IFtdOyAvLyBMaXN0IG9mIGRhdGUgcGlja2VyIGlucHV0cyB0aGF0IGhhdmUgYmVlbiBkaXNhYmxlZFxuXHR0aGlzLl9kYXRlcGlja2VyU2hvd2luZyA9IGZhbHNlOyAvLyBUcnVlIGlmIHRoZSBwb3B1cCBwaWNrZXIgaXMgc2hvd2luZyAsIGZhbHNlIGlmIG5vdFxuXHR0aGlzLl9pbkRpYWxvZyA9IGZhbHNlOyAvLyBUcnVlIGlmIHNob3dpbmcgd2l0aGluIGEgXCJkaWFsb2dcIiwgZmFsc2UgaWYgbm90XG5cdHRoaXMuX21haW5EaXZJZCA9IFwidWktZGF0ZXBpY2tlci1kaXZcIjsgLy8gVGhlIElEIG9mIHRoZSBtYWluIGRhdGVwaWNrZXIgZGl2aXNpb25cblx0dGhpcy5faW5saW5lQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItaW5saW5lXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSBpbmxpbmUgbWFya2VyIGNsYXNzXG5cdHRoaXMuX2FwcGVuZENsYXNzID0gXCJ1aS1kYXRlcGlja2VyLWFwcGVuZFwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgYXBwZW5kIG1hcmtlciBjbGFzc1xuXHR0aGlzLl90cmlnZ2VyQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItdHJpZ2dlclwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgdHJpZ2dlciBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fZGlhbG9nQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItZGlhbG9nXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSBkaWFsb2cgbWFya2VyIGNsYXNzXG5cdHRoaXMuX2Rpc2FibGVDbGFzcyA9IFwidWktZGF0ZXBpY2tlci1kaXNhYmxlZFwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgZGlzYWJsZWQgY292ZXJpbmcgbWFya2VyIGNsYXNzXG5cdHRoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzID0gXCJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZVwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgdW5zZWxlY3RhYmxlIGNlbGwgbWFya2VyIGNsYXNzXG5cdHRoaXMuX2N1cnJlbnRDbGFzcyA9IFwidWktZGF0ZXBpY2tlci1jdXJyZW50LWRheVwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgY3VycmVudCBkYXkgbWFya2VyIGNsYXNzXG5cdHRoaXMuX2RheU92ZXJDbGFzcyA9IFwidWktZGF0ZXBpY2tlci1kYXlzLWNlbGwtb3ZlclwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgZGF5IGhvdmVyIG1hcmtlciBjbGFzc1xuXHR0aGlzLnJlZ2lvbmFsID0gW107IC8vIEF2YWlsYWJsZSByZWdpb25hbCBzZXR0aW5ncywgaW5kZXhlZCBieSBsYW5ndWFnZSBjb2RlXG5cdHRoaXMucmVnaW9uYWxbIFwiXCIgXSA9IHsgLy8gRGVmYXVsdCByZWdpb25hbCBzZXR0aW5nc1xuXHRcdGNsb3NlVGV4dDogXCJEb25lXCIsIC8vIERpc3BsYXkgdGV4dCBmb3IgY2xvc2UgbGlua1xuXHRcdHByZXZUZXh0OiBcIlByZXZcIiwgLy8gRGlzcGxheSB0ZXh0IGZvciBwcmV2aW91cyBtb250aCBsaW5rXG5cdFx0bmV4dFRleHQ6IFwiTmV4dFwiLCAvLyBEaXNwbGF5IHRleHQgZm9yIG5leHQgbW9udGggbGlua1xuXHRcdHByZXZZZWFyVGV4dDogXCJQWWVhclwiLCAvLyBEaXNwbGF5IHRleHQgZm9yIHByZXZpb3VzIG1vbnRoIGxpbmtcbiAgICAgICAgbmV4dFllYXJUZXh0OiBcIk5ZZWFyXCIsIC8vIERpc3BsYXkgdGV4dCBmb3IgbmV4dCBtb250aCBsaW5rXG5cdFx0Y3VycmVudFRleHQ6IFwiVG9kYXlcIiwgLy8gRGlzcGxheSB0ZXh0IGZvciBjdXJyZW50IG1vbnRoIGxpbmtcblx0XHRtb250aE5hbWVzOiBbIFwiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXG5cdFx0XHRcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIiBdLCAvLyBOYW1lcyBvZiBtb250aHMgZm9yIGRyb3AtZG93biBhbmQgZm9ybWF0dGluZ1xuXHRcdG1vbnRoTmFtZXNTaG9ydDogWyBcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiIF0sIC8vIEZvciBmb3JtYXR0aW5nXG5cdFx0ZGF5TmFtZXM6IFsgXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiIF0sIC8vIEZvciBmb3JtYXR0aW5nXG5cdFx0ZGF5TmFtZXNTaG9ydDogWyBcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiIF0sIC8vIEZvciBmb3JtYXR0aW5nXG5cdFx0ZGF5TmFtZXNNaW46IFsgXCJTdVwiLFwiTW9cIixcIlR1XCIsXCJXZVwiLFwiVGhcIixcIkZyXCIsXCJTYVwiIF0sIC8vIENvbHVtbiBoZWFkaW5ncyBmb3IgZGF5cyBzdGFydGluZyBhdCBTdW5kYXlcblx0XHR3ZWVrSGVhZGVyOiBcIldrXCIsIC8vIENvbHVtbiBoZWFkZXIgZm9yIHdlZWsgb2YgdGhlIHllYXJcblx0XHRkYXRlRm9ybWF0OiBcIm1tL2RkL3l5XCIsIC8vIFNlZSBmb3JtYXQgb3B0aW9ucyBvbiBwYXJzZURhdGVcblx0XHRmaXJzdERheTogMCwgLy8gVGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaywgU3VuID0gMCwgTW9uID0gMSwgLi4uXG5cdFx0aXNSVEw6IGZhbHNlLCAvLyBUcnVlIGlmIHJpZ2h0LXRvLWxlZnQgbGFuZ3VhZ2UsIGZhbHNlIGlmIGxlZnQtdG8tcmlnaHRcblx0XHRzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLCAvLyBUcnVlIGlmIHRoZSB5ZWFyIHNlbGVjdCBwcmVjZWRlcyBtb250aCwgZmFsc2UgZm9yIG1vbnRoIHRoZW4geWVhclxuXHRcdHllYXJTdWZmaXg6IFwiXCIgLy8gQWRkaXRpb25hbCB0ZXh0IHRvIGFwcGVuZCB0byB0aGUgeWVhciBpbiB0aGUgbW9udGggaGVhZGVyc1xuXHR9O1xuXHR0aGlzLl9kZWZhdWx0cyA9IHsgLy8gR2xvYmFsIGRlZmF1bHRzIGZvciBhbGwgdGhlIGRhdGUgcGlja2VyIGluc3RhbmNlc1xuXHRcdHNob3dPbjogXCJmb2N1c1wiLCAvLyBcImZvY3VzXCIgZm9yIHBvcHVwIG9uIGZvY3VzLFxuXHRcdFx0Ly8gXCJidXR0b25cIiBmb3IgdHJpZ2dlciBidXR0b24sIG9yIFwiYm90aFwiIGZvciBlaXRoZXJcblx0XHRzaG93QW5pbTogXCJmYWRlSW5cIiwgLy8gTmFtZSBvZiBqUXVlcnkgYW5pbWF0aW9uIGZvciBwb3B1cFxuXHRcdHNob3dPcHRpb25zOiB7fSwgLy8gT3B0aW9ucyBmb3IgZW5oYW5jZWQgYW5pbWF0aW9uc1xuXHRcdGRlZmF1bHREYXRlOiBudWxsLCAvLyBVc2VkIHdoZW4gZmllbGQgaXMgYmxhbms6IGFjdHVhbCBkYXRlLFxuXHRcdFx0Ly8gKy8tbnVtYmVyIGZvciBvZmZzZXQgZnJvbSB0b2RheSwgbnVsbCBmb3IgdG9kYXlcblx0XHRhcHBlbmRUZXh0OiBcIlwiLCAvLyBEaXNwbGF5IHRleHQgZm9sbG93aW5nIHRoZSBpbnB1dCBib3gsIGUuZy4gc2hvd2luZyB0aGUgZm9ybWF0XG5cdFx0YnV0dG9uVGV4dDogXCIuLi5cIiwgLy8gVGV4dCBmb3IgdHJpZ2dlciBidXR0b25cblx0XHRidXR0b25JbWFnZTogXCJcIiwgLy8gVVJMIGZvciB0cmlnZ2VyIGJ1dHRvbiBpbWFnZVxuXHRcdGJ1dHRvbkltYWdlT25seTogZmFsc2UsIC8vIFRydWUgaWYgdGhlIGltYWdlIGFwcGVhcnMgYWxvbmUsIGZhbHNlIGlmIGl0IGFwcGVhcnMgb24gYSBidXR0b25cblx0XHRoaWRlSWZOb1ByZXZOZXh0OiBmYWxzZSwgLy8gVHJ1ZSB0byBoaWRlIG5leHQvcHJldmlvdXMgbW9udGggbGlua3Ncblx0XHRcdC8vIGlmIG5vdCBhcHBsaWNhYmxlLCBmYWxzZSB0byBqdXN0IGRpc2FibGUgdGhlbVxuXHRcdG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6IGZhbHNlLCAvLyBUcnVlIGlmIGRhdGUgZm9ybWF0dGluZyBhcHBsaWVkIHRvIHByZXYvdG9kYXkvbmV4dCBsaW5rc1xuXHRcdGdvdG9DdXJyZW50OiBmYWxzZSwgLy8gVHJ1ZSBpZiB0b2RheSBsaW5rIGdvZXMgYmFjayB0byBjdXJyZW50IHNlbGVjdGlvbiBpbnN0ZWFkXG5cdFx0Y2hhbmdlTW9udGg6IGZhbHNlLCAvLyBUcnVlIGlmIG1vbnRoIGNhbiBiZSBzZWxlY3RlZCBkaXJlY3RseSwgZmFsc2UgaWYgb25seSBwcmV2L25leHRcblx0XHRjaGFuZ2VZZWFyOiBmYWxzZSwgLy8gVHJ1ZSBpZiB5ZWFyIGNhbiBiZSBzZWxlY3RlZCBkaXJlY3RseSwgZmFsc2UgaWYgb25seSBwcmV2L25leHRcblx0XHR5ZWFyUmFuZ2U6IFwiYy0xMDpjKzEwXCIsIC8vIFJhbmdlIG9mIHllYXJzIHRvIGRpc3BsYXkgaW4gZHJvcC1kb3duLFxuXHRcdFx0Ly8gZWl0aGVyIHJlbGF0aXZlIHRvIHRvZGF5J3MgeWVhciAoLW5uOitubiksIHJlbGF0aXZlIHRvIGN1cnJlbnRseSBkaXNwbGF5ZWQgeWVhclxuXHRcdFx0Ly8gKGMtbm46YytubiksIGFic29sdXRlIChubm5uOm5ubm4pLCBvciBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSAobm5ubjotbilcblx0XHRzaG93T3RoZXJNb250aHM6IGZhbHNlLCAvLyBUcnVlIHRvIHNob3cgZGF0ZXMgaW4gb3RoZXIgbW9udGhzLCBmYWxzZSB0byBsZWF2ZSBibGFua1xuXHRcdHNlbGVjdE90aGVyTW9udGhzOiBmYWxzZSwgLy8gVHJ1ZSB0byBhbGxvdyBzZWxlY3Rpb24gb2YgZGF0ZXMgaW4gb3RoZXIgbW9udGhzLCBmYWxzZSBmb3IgdW5zZWxlY3RhYmxlXG5cdFx0c2hvd1dlZWs6IGZhbHNlLCAvLyBUcnVlIHRvIHNob3cgd2VlayBvZiB0aGUgeWVhciwgZmFsc2UgdG8gbm90IHNob3cgaXRcblx0XHRjYWxjdWxhdGVXZWVrOiB0aGlzLmlzbzg2MDFXZWVrLCAvLyBIb3cgdG8gY2FsY3VsYXRlIHRoZSB3ZWVrIG9mIHRoZSB5ZWFyLFxuXHRcdFx0Ly8gdGFrZXMgYSBEYXRlIGFuZCByZXR1cm5zIHRoZSBudW1iZXIgb2YgdGhlIHdlZWsgZm9yIGl0XG5cdFx0c2hvcnRZZWFyQ3V0b2ZmOiBcIisxMFwiLCAvLyBTaG9ydCB5ZWFyIHZhbHVlcyA8IHRoaXMgYXJlIGluIHRoZSBjdXJyZW50IGNlbnR1cnksXG5cdFx0XHQvLyA+IHRoaXMgYXJlIGluIHRoZSBwcmV2aW91cyBjZW50dXJ5LFxuXHRcdFx0Ly8gc3RyaW5nIHZhbHVlIHN0YXJ0aW5nIHdpdGggXCIrXCIgZm9yIGN1cnJlbnQgeWVhciArIHZhbHVlXG5cdFx0bWluRGF0ZTogbnVsbCwgLy8gVGhlIGVhcmxpZXN0IHNlbGVjdGFibGUgZGF0ZSwgb3IgbnVsbCBmb3Igbm8gbGltaXRcblx0XHRtYXhEYXRlOiBudWxsLCAvLyBUaGUgbGF0ZXN0IHNlbGVjdGFibGUgZGF0ZSwgb3IgbnVsbCBmb3Igbm8gbGltaXRcblx0XHRkdXJhdGlvbjogXCJmYXN0XCIsIC8vIER1cmF0aW9uIG9mIGRpc3BsYXkvY2xvc3VyZVxuXHRcdGJlZm9yZVNob3dEYXk6IG51bGwsIC8vIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBkYXRlIGFuZCByZXR1cm5zIGFuIGFycmF5IHdpdGhcblx0XHRcdC8vIFswXSA9IHRydWUgaWYgc2VsZWN0YWJsZSwgZmFsc2UgaWYgbm90LCBbMV0gPSBjdXN0b20gQ1NTIGNsYXNzIG5hbWUocykgb3IgXCJcIixcblx0XHRcdC8vIFsyXSA9IGNlbGwgdGl0bGUgKG9wdGlvbmFsKSwgZS5nLiAkLmRhdGVwaWNrZXIubm9XZWVrZW5kc1xuXHRcdGJlZm9yZVNob3c6IG51bGwsIC8vIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gaW5wdXQgZmllbGQgYW5kXG5cdFx0XHQvLyByZXR1cm5zIGEgc2V0IG9mIGN1c3RvbSBzZXR0aW5ncyBmb3IgdGhlIGRhdGUgcGlja2VyXG5cdFx0b25TZWxlY3Q6IG51bGwsIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gYSBkYXRlIGlzIHNlbGVjdGVkXG5cdFx0b25DaGFuZ2VNb250aFllYXI6IG51bGwsIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIG1vbnRoIG9yIHllYXIgaXMgY2hhbmdlZFxuXHRcdG9uQ2xvc2U6IG51bGwsIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIGRhdGVwaWNrZXIgaXMgY2xvc2VkXG5cdFx0bnVtYmVyT2ZNb250aHM6IDEsIC8vIE51bWJlciBvZiBtb250aHMgdG8gc2hvdyBhdCBhIHRpbWVcblx0XHRzaG93Q3VycmVudEF0UG9zOiAwLCAvLyBUaGUgcG9zaXRpb24gaW4gbXVsdGlwZSBtb250aHMgYXQgd2hpY2ggdG8gc2hvdyB0aGUgY3VycmVudCBtb250aCAoc3RhcnRpbmcgYXQgMClcblx0XHRzdGVwTW9udGhzOiAxLCAvLyBOdW1iZXIgb2YgbW9udGhzIHRvIHN0ZXAgYmFjay9mb3J3YXJkXG4gICAgICAgIHN0ZXBZZWFyczogMSwgLy8gTnVtYmVyIG9mIG1vbnRocyB0byBzdGVwIGJhY2svZm9yd2FyZFxuXHRcdHN0ZXBCaWdNb250aHM6IDEyLCAvLyBOdW1iZXIgb2YgbW9udGhzIHRvIHN0ZXAgYmFjay9mb3J3YXJkIGZvciB0aGUgYmlnIGxpbmtzXG5cdFx0YWx0RmllbGQ6IFwiXCIsIC8vIFNlbGVjdG9yIGZvciBhbiBhbHRlcm5hdGUgZmllbGQgdG8gc3RvcmUgc2VsZWN0ZWQgZGF0ZXMgaW50b1xuXHRcdGFsdEZvcm1hdDogXCJcIiwgLy8gVGhlIGRhdGUgZm9ybWF0IHRvIHVzZSBmb3IgdGhlIGFsdGVybmF0ZSBmaWVsZFxuXHRcdGNvbnN0cmFpbklucHV0OiB0cnVlLCAvLyBUaGUgaW5wdXQgaXMgY29uc3RyYWluZWQgYnkgdGhlIGN1cnJlbnQgZGF0ZSBmb3JtYXRcblx0XHRzaG93QnV0dG9uUGFuZWw6IGZhbHNlLCAvLyBUcnVlIHRvIHNob3cgYnV0dG9uIHBhbmVsLCBmYWxzZSB0byBub3Qgc2hvdyBpdFxuXHRcdGF1dG9TaXplOiBmYWxzZSwgLy8gVHJ1ZSB0byBzaXplIHRoZSBpbnB1dCBmb3IgdGhlIGRhdGUgZm9ybWF0LCBmYWxzZSB0byBsZWF2ZSBhcyBpc1xuXHRcdGRpc2FibGVkOiBmYWxzZSAvLyBUaGUgaW5pdGlhbCBkaXNhYmxlZCBzdGF0ZVxuXHR9O1xuXHQkLmV4dGVuZCggdGhpcy5fZGVmYXVsdHMsIHRoaXMucmVnaW9uYWxbIFwiXCIgXSApO1xuXHR0aGlzLnJlZ2lvbmFsLmVuID0gJC5leHRlbmQoIHRydWUsIHt9LCB0aGlzLnJlZ2lvbmFsWyBcIlwiIF0gKTtcblx0dGhpcy5yZWdpb25hbFsgXCJlbi1VU1wiIF0gPSAkLmV4dGVuZCggdHJ1ZSwge30sIHRoaXMucmVnaW9uYWwuZW4gKTtcblx0dGhpcy5kcERpdiA9IGRhdGVwaWNrZXJfYmluZEhvdmVyKCAkKCBcIjxkaXYgaWQ9J1wiICsgdGhpcy5fbWFpbkRpdklkICsgXCInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PC9kaXY+XCIgKSApO1xufVxuXG4kLmV4dGVuZCggRGF0ZXBpY2tlci5wcm90b3R5cGUsIHtcblx0LyogQ2xhc3MgbmFtZSBhZGRlZCB0byBlbGVtZW50cyB0byBpbmRpY2F0ZSBhbHJlYWR5IGNvbmZpZ3VyZWQgd2l0aCBhIGRhdGUgcGlja2VyLiAqL1xuXHRtYXJrZXJDbGFzc05hbWU6IFwiaGFzRGF0ZXBpY2tlclwiLFxuXG5cdC8vS2VlcCB0cmFjayBvZiB0aGUgbWF4aW11bSBudW1iZXIgb2Ygcm93cyBkaXNwbGF5ZWQgKHNlZSAjNzA0Mylcblx0bWF4Um93czogNCxcblxuXHQvLyBUT0RPIHJlbmFtZSB0byBcIndpZGdldFwiIHdoZW4gc3dpdGNoaW5nIHRvIHdpZGdldCBmYWN0b3J5XG5cdF93aWRnZXREYXRlcGlja2VyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5kcERpdjtcblx0fSxcblxuXHQvKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgYWxsIGluc3RhbmNlcyBvZiB0aGUgZGF0ZSBwaWNrZXIuXG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgIG9iamVjdCAtIHRoZSBuZXcgc2V0dGluZ3MgdG8gdXNlIGFzIGRlZmF1bHRzIChhbm9ueW1vdXMgb2JqZWN0KVxuXHQgKiBAcmV0dXJuIHRoZSBtYW5hZ2VyIG9iamVjdFxuXHQgKi9cblx0c2V0RGVmYXVsdHM6IGZ1bmN0aW9uKCBzZXR0aW5ncyApIHtcblx0XHRkYXRlcGlja2VyX2V4dGVuZFJlbW92ZSggdGhpcy5fZGVmYXVsdHMsIHNldHRpbmdzIHx8IHt9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyogQXR0YWNoIHRoZSBkYXRlIHBpY2tlciB0byBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgIG9iamVjdCAtIHRoZSBuZXcgc2V0dGluZ3MgdG8gdXNlIGZvciB0aGlzIGRhdGUgcGlja2VyIGluc3RhbmNlIChhbm9ueW1vdXMpXG5cdCAqL1xuXHRfYXR0YWNoRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0dmFyIG5vZGVOYW1lLCBpbmxpbmUsIGluc3Q7XG5cdFx0bm9kZU5hbWUgPSB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRpbmxpbmUgPSAoIG5vZGVOYW1lID09PSBcImRpdlwiIHx8IG5vZGVOYW1lID09PSBcInNwYW5cIiApO1xuXHRcdGlmICggIXRhcmdldC5pZCApIHtcblx0XHRcdHRoaXMudXVpZCArPSAxO1xuXHRcdFx0dGFyZ2V0LmlkID0gXCJkcFwiICsgdGhpcy51dWlkO1xuXHRcdH1cblx0XHRpbnN0ID0gdGhpcy5fbmV3SW5zdCggJCggdGFyZ2V0ICksIGlubGluZSApO1xuXHRcdGluc3Quc2V0dGluZ3MgPSAkLmV4dGVuZCgge30sIHNldHRpbmdzIHx8IHt9ICk7XG5cdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0dGhpcy5fY29ubmVjdERhdGVwaWNrZXIoIHRhcmdldCwgaW5zdCApO1xuXHRcdH0gZWxzZSBpZiAoIGlubGluZSApIHtcblx0XHRcdHRoaXMuX2lubGluZURhdGVwaWNrZXIoIHRhcmdldCwgaW5zdCApO1xuXHRcdH1cblx0fSxcblxuXHQvKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2JqZWN0LiAqL1xuXHRfbmV3SW5zdDogZnVuY3Rpb24oIHRhcmdldCwgaW5saW5lICkge1xuXHRcdHZhciBpZCA9IHRhcmdldFsgMCBdLmlkLnJlcGxhY2UoIC8oW15BLVphLXowLTlfXFwtXSkvZywgXCJcXFxcXFxcXCQxXCIgKTsgLy8gZXNjYXBlIGpRdWVyeSBtZXRhIGNoYXJzXG5cdFx0cmV0dXJuIHsgaWQ6IGlkLCBpbnB1dDogdGFyZ2V0LCAvLyBhc3NvY2lhdGVkIHRhcmdldFxuXHRcdFx0c2VsZWN0ZWREYXk6IDAsIHNlbGVjdGVkTW9udGg6IDAsIHNlbGVjdGVkWWVhcjogMCwgLy8gY3VycmVudCBzZWxlY3Rpb25cblx0XHRcdGRyYXdNb250aDogMCwgZHJhd1llYXI6IDAsIC8vIG1vbnRoIGJlaW5nIGRyYXduXG5cdFx0XHRpbmxpbmU6IGlubGluZSwgLy8gaXMgZGF0ZXBpY2tlciBpbmxpbmUgb3Igbm90XG5cdFx0XHRkcERpdjogKCAhaW5saW5lID8gdGhpcy5kcERpdiA6IC8vIHByZXNlbnRhdGlvbiBkaXZcblx0XHRcdGRhdGVwaWNrZXJfYmluZEhvdmVyKCAkKCBcIjxkaXYgY2xhc3M9J1wiICsgdGhpcy5faW5saW5lQ2xhc3MgKyBcIiB1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PC9kaXY+XCIgKSApICkgfTtcblx0fSxcblxuXHQvKiBBdHRhY2ggdGhlIGRhdGUgcGlja2VyIHRvIGFuIGlucHV0IGZpZWxkLiAqL1xuXHRfY29ubmVjdERhdGVwaWNrZXI6IGZ1bmN0aW9uKCB0YXJnZXQsIGluc3QgKSB7XG5cdFx0dmFyIGlucHV0ID0gJCggdGFyZ2V0ICk7XG5cdFx0aW5zdC5hcHBlbmQgPSAkKCBbXSApO1xuXHRcdGluc3QudHJpZ2dlciA9ICQoIFtdICk7XG5cdFx0aWYgKCBpbnB1dC5oYXNDbGFzcyggdGhpcy5tYXJrZXJDbGFzc05hbWUgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fYXR0YWNobWVudHMoIGlucHV0LCBpbnN0ICk7XG5cdFx0aW5wdXQuYWRkQ2xhc3MoIHRoaXMubWFya2VyQ2xhc3NOYW1lICkub24oIFwia2V5ZG93blwiLCB0aGlzLl9kb0tleURvd24gKS5cblx0XHRcdG9uKCBcImtleXByZXNzXCIsIHRoaXMuX2RvS2V5UHJlc3MgKS5vbiggXCJrZXl1cFwiLCB0aGlzLl9kb0tleVVwICk7XG5cdFx0dGhpcy5fYXV0b1NpemUoIGluc3QgKTtcblx0XHQkLmRhdGEoIHRhcmdldCwgXCJkYXRlcGlja2VyXCIsIGluc3QgKTtcblxuXHRcdC8vSWYgZGlzYWJsZWQgb3B0aW9uIGlzIHRydWUsIGRpc2FibGUgdGhlIGRhdGVwaWNrZXIgb25jZSBpdCBoYXMgYmVlbiBhdHRhY2hlZCB0byB0aGUgaW5wdXQgKHNlZSB0aWNrZXQgIzU2NjUpXG5cdFx0aWYgKCBpbnN0LnNldHRpbmdzLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fZGlzYWJsZURhdGVwaWNrZXIoIHRhcmdldCApO1xuXHRcdH1cblx0fSxcblxuXHQvKiBNYWtlIGF0dGFjaG1lbnRzIGJhc2VkIG9uIHNldHRpbmdzLiAqL1xuXHRfYXR0YWNobWVudHM6IGZ1bmN0aW9uKCBpbnB1dCwgaW5zdCApIHtcblx0XHR2YXIgc2hvd09uLCBidXR0b25UZXh0LCBidXR0b25JbWFnZSxcblx0XHRcdGFwcGVuZFRleHQgPSB0aGlzLl9nZXQoIGluc3QsIFwiYXBwZW5kVGV4dFwiICksXG5cdFx0XHRpc1JUTCA9IHRoaXMuX2dldCggaW5zdCwgXCJpc1JUTFwiICk7XG5cblx0XHRpZiAoIGluc3QuYXBwZW5kICkge1xuXHRcdFx0aW5zdC5hcHBlbmQucmVtb3ZlKCk7XG5cdFx0fVxuXHRcdGlmICggYXBwZW5kVGV4dCApIHtcblx0XHRcdGluc3QuYXBwZW5kID0gJCggXCI8c3BhbiBjbGFzcz0nXCIgKyB0aGlzLl9hcHBlbmRDbGFzcyArIFwiJz5cIiArIGFwcGVuZFRleHQgKyBcIjwvc3Bhbj5cIiApO1xuXHRcdFx0aW5wdXRbIGlzUlRMID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIiBdKCBpbnN0LmFwcGVuZCApO1xuXHRcdH1cblxuXHRcdGlucHV0Lm9mZiggXCJmb2N1c1wiLCB0aGlzLl9zaG93RGF0ZXBpY2tlciApO1xuXG5cdFx0aWYgKCBpbnN0LnRyaWdnZXIgKSB7XG5cdFx0XHRpbnN0LnRyaWdnZXIucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0c2hvd09uID0gdGhpcy5fZ2V0KCBpbnN0LCBcInNob3dPblwiICk7XG5cdFx0aWYgKCBzaG93T24gPT09IFwiZm9jdXNcIiB8fCBzaG93T24gPT09IFwiYm90aFwiICkgeyAvLyBwb3AtdXAgZGF0ZSBwaWNrZXIgd2hlbiBpbiB0aGUgbWFya2VkIGZpZWxkXG5cdFx0XHRpbnB1dC5vbiggXCJmb2N1c1wiLCB0aGlzLl9zaG93RGF0ZXBpY2tlciApO1xuXHRcdH1cblx0XHRpZiAoIHNob3dPbiA9PT0gXCJidXR0b25cIiB8fCBzaG93T24gPT09IFwiYm90aFwiICkgeyAvLyBwb3AtdXAgZGF0ZSBwaWNrZXIgd2hlbiBidXR0b24gY2xpY2tlZFxuXHRcdFx0YnV0dG9uVGV4dCA9IHRoaXMuX2dldCggaW5zdCwgXCJidXR0b25UZXh0XCIgKTtcblx0XHRcdGJ1dHRvbkltYWdlID0gdGhpcy5fZ2V0KCBpbnN0LCBcImJ1dHRvbkltYWdlXCIgKTtcblx0XHRcdGluc3QudHJpZ2dlciA9ICQoIHRoaXMuX2dldCggaW5zdCwgXCJidXR0b25JbWFnZU9ubHlcIiApID9cblx0XHRcdFx0JCggXCI8aW1nLz5cIiApLmFkZENsYXNzKCB0aGlzLl90cmlnZ2VyQ2xhc3MgKS5cblx0XHRcdFx0XHRhdHRyKCB7IHNyYzogYnV0dG9uSW1hZ2UsIGFsdDogYnV0dG9uVGV4dCwgdGl0bGU6IGJ1dHRvblRleHQgfSApIDpcblx0XHRcdFx0JCggXCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+XCIgKS5hZGRDbGFzcyggdGhpcy5fdHJpZ2dlckNsYXNzICkuXG5cdFx0XHRcdFx0aHRtbCggIWJ1dHRvbkltYWdlID8gYnV0dG9uVGV4dCA6ICQoIFwiPGltZy8+XCIgKS5hdHRyKFxuXHRcdFx0XHRcdHsgc3JjOmJ1dHRvbkltYWdlLCBhbHQ6YnV0dG9uVGV4dCwgdGl0bGU6YnV0dG9uVGV4dCB9ICkgKSApO1xuXHRcdFx0aW5wdXRbIGlzUlRMID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIiBdKCBpbnN0LnRyaWdnZXIgKTtcblx0XHRcdGluc3QudHJpZ2dlci5vbiggXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nICYmICQuZGF0ZXBpY2tlci5fbGFzdElucHV0ID09PSBpbnB1dFsgMCBdICkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdFx0fSBlbHNlIGlmICggJC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCAhPT0gaW5wdXRbIDAgXSApIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlciggaW5wdXRbIDAgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIoIGlucHV0WyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIEFwcGx5IHRoZSBtYXhpbXVtIGxlbmd0aCBmb3IgdGhlIGRhdGUgZm9ybWF0LiAqL1xuXHRfYXV0b1NpemU6IGZ1bmN0aW9uKCBpbnN0ICkge1xuXHRcdGlmICggdGhpcy5fZ2V0KCBpbnN0LCBcImF1dG9TaXplXCIgKSAmJiAhaW5zdC5pbmxpbmUgKSB7XG5cdFx0XHR2YXIgZmluZE1heCwgbWF4LCBtYXhJLCBpLFxuXHRcdFx0XHRkYXRlID0gbmV3IERhdGUoIDIwMDksIDEyIC0gMSwgMjAgKSwgLy8gRW5zdXJlIGRvdWJsZSBkaWdpdHNcblx0XHRcdFx0ZGF0ZUZvcm1hdCA9IHRoaXMuX2dldCggaW5zdCwgXCJkYXRlRm9ybWF0XCIgKTtcblxuXHRcdFx0aWYgKCBkYXRlRm9ybWF0Lm1hdGNoKCAvW0RNXS8gKSApIHtcblx0XHRcdFx0ZmluZE1heCA9IGZ1bmN0aW9uKCBuYW1lcyApIHtcblx0XHRcdFx0XHRtYXggPSAwO1xuXHRcdFx0XHRcdG1heEkgPSAwO1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG5hbWVzWyBpIF0ubGVuZ3RoID4gbWF4ICkge1xuXHRcdFx0XHRcdFx0XHRtYXggPSBuYW1lc1sgaSBdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0bWF4SSA9IGk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXhJO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRkYXRlLnNldE1vbnRoKCBmaW5kTWF4KCB0aGlzLl9nZXQoIGluc3QsICggZGF0ZUZvcm1hdC5tYXRjaCggL01NLyApID9cblx0XHRcdFx0XHRcIm1vbnRoTmFtZXNcIiA6IFwibW9udGhOYW1lc1Nob3J0XCIgKSApICkgKTtcblx0XHRcdFx0ZGF0ZS5zZXREYXRlKCBmaW5kTWF4KCB0aGlzLl9nZXQoIGluc3QsICggZGF0ZUZvcm1hdC5tYXRjaCggL0RELyApID9cblx0XHRcdFx0XHRcImRheU5hbWVzXCIgOiBcImRheU5hbWVzU2hvcnRcIiApICkgKSArIDIwIC0gZGF0ZS5nZXREYXkoKSApO1xuXHRcdFx0fVxuXHRcdFx0aW5zdC5pbnB1dC5hdHRyKCBcInNpemVcIiwgdGhpcy5fZm9ybWF0RGF0ZSggaW5zdCwgZGF0ZSApLmxlbmd0aCApO1xuXHRcdH1cblx0fSxcblxuXHQvKiBBdHRhY2ggYW4gaW5saW5lIGRhdGUgcGlja2VyIHRvIGEgZGl2LiAqL1xuXHRfaW5saW5lRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCwgaW5zdCApIHtcblx0XHR2YXIgZGl2U3BhbiA9ICQoIHRhcmdldCApO1xuXHRcdGlmICggZGl2U3Bhbi5oYXNDbGFzcyggdGhpcy5tYXJrZXJDbGFzc05hbWUgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGl2U3Bhbi5hZGRDbGFzcyggdGhpcy5tYXJrZXJDbGFzc05hbWUgKS5hcHBlbmQoIGluc3QuZHBEaXYgKTtcblx0XHQkLmRhdGEoIHRhcmdldCwgXCJkYXRlcGlja2VyXCIsIGluc3QgKTtcblx0XHR0aGlzLl9zZXREYXRlKCBpbnN0LCB0aGlzLl9nZXREZWZhdWx0RGF0ZSggaW5zdCApLCB0cnVlICk7XG5cdFx0dGhpcy5fdXBkYXRlRGF0ZXBpY2tlciggaW5zdCApO1xuXHRcdHRoaXMuX3VwZGF0ZUFsdGVybmF0ZSggaW5zdCApO1xuXG5cdFx0Ly9JZiBkaXNhYmxlZCBvcHRpb24gaXMgdHJ1ZSwgZGlzYWJsZSB0aGUgZGF0ZXBpY2tlciBiZWZvcmUgc2hvd2luZyBpdCAoc2VlIHRpY2tldCAjNTY2NSlcblx0XHRpZiAoIGluc3Quc2V0dGluZ3MuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlciggdGFyZ2V0ICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IGRpc3BsYXk6YmxvY2sgaW4gcGxhY2Ugb2YgaW5zdC5kcERpdi5zaG93KCkgd2hpY2ggd29uJ3Qgd29yayBvbiBkaXNjb25uZWN0ZWQgZWxlbWVudHNcblx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnl1aS5jb20vdGlja2V0Lzc1NTIgLSBBIERhdGVwaWNrZXIgY3JlYXRlZCBvbiBhIGRldGFjaGVkIGRpdiBoYXMgemVybyBoZWlnaHRcblx0XHRpbnN0LmRwRGl2LmNzcyggXCJkaXNwbGF5XCIsIFwiYmxvY2tcIiApO1xuXHR9LFxuXG5cdC8qIFBvcC11cCB0aGUgZGF0ZSBwaWNrZXIgaW4gYSBcImRpYWxvZ1wiIGJveC5cblx0ICogQHBhcmFtICBpbnB1dCBlbGVtZW50IC0gaWdub3JlZFxuXHQgKiBAcGFyYW0gIGRhdGVcdHN0cmluZyBvciBEYXRlIC0gdGhlIGluaXRpYWwgZGF0ZSB0byBkaXNwbGF5XG5cdCAqIEBwYXJhbSAgb25TZWxlY3QgIGZ1bmN0aW9uIC0gdGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIGRhdGUgaXMgc2VsZWN0ZWRcblx0ICogQHBhcmFtICBzZXR0aW5ncyAgb2JqZWN0IC0gdXBkYXRlIHRoZSBkaWFsb2cgZGF0ZSBwaWNrZXIgaW5zdGFuY2UncyBzZXR0aW5ncyAoYW5vbnltb3VzIG9iamVjdClcblx0ICogQHBhcmFtICBwb3MgaW50WzJdIC0gY29vcmRpbmF0ZXMgZm9yIHRoZSBkaWFsb2cncyBwb3NpdGlvbiB3aXRoaW4gdGhlIHNjcmVlbiBvclxuXHQgKlx0XHRcdFx0XHRldmVudCAtIHdpdGggeC95IGNvb3JkaW5hdGVzIG9yXG5cdCAqXHRcdFx0XHRcdGxlYXZlIGVtcHR5IGZvciBkZWZhdWx0IChzY3JlZW4gY2VudHJlKVxuXHQgKiBAcmV0dXJuIHRoZSBtYW5hZ2VyIG9iamVjdFxuXHQgKi9cblx0X2RpYWxvZ0RhdGVwaWNrZXI6IGZ1bmN0aW9uKCBpbnB1dCwgZGF0ZSwgb25TZWxlY3QsIHNldHRpbmdzLCBwb3MgKSB7XG5cdFx0dmFyIGlkLCBicm93c2VyV2lkdGgsIGJyb3dzZXJIZWlnaHQsIHNjcm9sbFgsIHNjcm9sbFksXG5cdFx0XHRpbnN0ID0gdGhpcy5fZGlhbG9nSW5zdDsgLy8gaW50ZXJuYWwgaW5zdGFuY2VcblxuXHRcdGlmICggIWluc3QgKSB7XG5cdFx0XHR0aGlzLnV1aWQgKz0gMTtcblx0XHRcdGlkID0gXCJkcFwiICsgdGhpcy51dWlkO1xuXHRcdFx0dGhpcy5fZGlhbG9nSW5wdXQgPSAkKCBcIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nXCIgKyBpZCArXG5cdFx0XHRcdFwiJyBzdHlsZT0ncG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsnLz5cIiApO1xuXHRcdFx0dGhpcy5fZGlhbG9nSW5wdXQub24oIFwia2V5ZG93blwiLCB0aGlzLl9kb0tleURvd24gKTtcblx0XHRcdCQoIFwiYm9keVwiICkuYXBwZW5kKCB0aGlzLl9kaWFsb2dJbnB1dCApO1xuXHRcdFx0aW5zdCA9IHRoaXMuX2RpYWxvZ0luc3QgPSB0aGlzLl9uZXdJbnN0KCB0aGlzLl9kaWFsb2dJbnB1dCwgZmFsc2UgKTtcblx0XHRcdGluc3Quc2V0dGluZ3MgPSB7fTtcblx0XHRcdCQuZGF0YSggdGhpcy5fZGlhbG9nSW5wdXRbIDAgXSwgXCJkYXRlcGlja2VyXCIsIGluc3QgKTtcblx0XHR9XG5cdFx0ZGF0ZXBpY2tlcl9leHRlbmRSZW1vdmUoIGluc3Quc2V0dGluZ3MsIHNldHRpbmdzIHx8IHt9ICk7XG5cdFx0ZGF0ZSA9ICggZGF0ZSAmJiBkYXRlLmNvbnN0cnVjdG9yID09PSBEYXRlID8gdGhpcy5fZm9ybWF0RGF0ZSggaW5zdCwgZGF0ZSApIDogZGF0ZSApO1xuXHRcdHRoaXMuX2RpYWxvZ0lucHV0LnZhbCggZGF0ZSApO1xuXG5cdFx0dGhpcy5fcG9zID0gKCBwb3MgPyAoIHBvcy5sZW5ndGggPyBwb3MgOiBbIHBvcy5wYWdlWCwgcG9zLnBhZ2VZIF0gKSA6IG51bGwgKTtcblx0XHRpZiAoICF0aGlzLl9wb3MgKSB7XG5cdFx0XHRicm93c2VyV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cdFx0XHRicm93c2VySGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblx0XHRcdHNjcm9sbFggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQ7XG5cdFx0XHRzY3JvbGxZID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblx0XHRcdHRoaXMuX3BvcyA9IC8vIHNob3VsZCB1c2UgYWN0dWFsIHdpZHRoL2hlaWdodCBiZWxvd1xuXHRcdFx0XHRbICggYnJvd3NlcldpZHRoIC8gMiApIC0gMTAwICsgc2Nyb2xsWCwgKCBicm93c2VySGVpZ2h0IC8gMiApIC0gMTUwICsgc2Nyb2xsWSBdO1xuXHRcdH1cblxuXHRcdC8vIE1vdmUgaW5wdXQgb24gc2NyZWVuIGZvciBmb2N1cywgYnV0IGhpZGRlbiBiZWhpbmQgZGlhbG9nXG5cdFx0dGhpcy5fZGlhbG9nSW5wdXQuY3NzKCBcImxlZnRcIiwgKCB0aGlzLl9wb3NbIDAgXSArIDIwICkgKyBcInB4XCIgKS5jc3MoIFwidG9wXCIsIHRoaXMuX3Bvc1sgMSBdICsgXCJweFwiICk7XG5cdFx0aW5zdC5zZXR0aW5ncy5vblNlbGVjdCA9IG9uU2VsZWN0O1xuXHRcdHRoaXMuX2luRGlhbG9nID0gdHJ1ZTtcblx0XHR0aGlzLmRwRGl2LmFkZENsYXNzKCB0aGlzLl9kaWFsb2dDbGFzcyApO1xuXHRcdHRoaXMuX3Nob3dEYXRlcGlja2VyKCB0aGlzLl9kaWFsb2dJbnB1dFsgMCBdICk7XG5cdFx0aWYgKCAkLmJsb2NrVUkgKSB7XG5cdFx0XHQkLmJsb2NrVUkoIHRoaXMuZHBEaXYgKTtcblx0XHR9XG5cdFx0JC5kYXRhKCB0aGlzLl9kaWFsb2dJbnB1dFsgMCBdLCBcImRhdGVwaWNrZXJcIiwgaW5zdCApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8qIERldGFjaCBhIGRhdGVwaWNrZXIgZnJvbSBpdHMgY29udHJvbC5cblx0ICogQHBhcmFtICB0YXJnZXRcdGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICovXG5cdF9kZXN0cm95RGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgbm9kZU5hbWUsXG5cdFx0XHQkdGFyZ2V0ID0gJCggdGFyZ2V0ICksXG5cdFx0XHRpbnN0ID0gJC5kYXRhKCB0YXJnZXQsIFwiZGF0ZXBpY2tlclwiICk7XG5cblx0XHRpZiAoICEkdGFyZ2V0Lmhhc0NsYXNzKCB0aGlzLm1hcmtlckNsYXNzTmFtZSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0JC5yZW1vdmVEYXRhKCB0YXJnZXQsIFwiZGF0ZXBpY2tlclwiICk7XG5cdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0aW5zdC5hcHBlbmQucmVtb3ZlKCk7XG5cdFx0XHRpbnN0LnRyaWdnZXIucmVtb3ZlKCk7XG5cdFx0XHQkdGFyZ2V0LnJlbW92ZUNsYXNzKCB0aGlzLm1hcmtlckNsYXNzTmFtZSApLlxuXHRcdFx0XHRvZmYoIFwiZm9jdXNcIiwgdGhpcy5fc2hvd0RhdGVwaWNrZXIgKS5cblx0XHRcdFx0b2ZmKCBcImtleWRvd25cIiwgdGhpcy5fZG9LZXlEb3duICkuXG5cdFx0XHRcdG9mZiggXCJrZXlwcmVzc1wiLCB0aGlzLl9kb0tleVByZXNzICkuXG5cdFx0XHRcdG9mZiggXCJrZXl1cFwiLCB0aGlzLl9kb0tleVVwICk7XG5cdFx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiZGl2XCIgfHwgbm9kZU5hbWUgPT09IFwic3BhblwiICkge1xuXHRcdFx0JHRhcmdldC5yZW1vdmVDbGFzcyggdGhpcy5tYXJrZXJDbGFzc05hbWUgKS5lbXB0eSgpO1xuXHRcdH1cblxuXHRcdGlmICggZGF0ZXBpY2tlcl9pbnN0QWN0aXZlID09PSBpbnN0ICkge1xuXHRcdFx0ZGF0ZXBpY2tlcl9pbnN0QWN0aXZlID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0LyogRW5hYmxlIHRoZSBkYXRlIHBpY2tlciB0byBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfZW5hYmxlRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgbm9kZU5hbWUsIGlubGluZSxcblx0XHRcdCR0YXJnZXQgPSAkKCB0YXJnZXQgKSxcblx0XHRcdGluc3QgPSAkLmRhdGEoIHRhcmdldCwgXCJkYXRlcGlja2VyXCIgKTtcblxuXHRcdGlmICggISR0YXJnZXQuaGFzQ2xhc3MoIHRoaXMubWFya2VyQ2xhc3NOYW1lICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bm9kZU5hbWUgPSB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHR0YXJnZXQuZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdGluc3QudHJpZ2dlci5maWx0ZXIoIFwiYnV0dG9uXCIgKS5cblx0XHRcdFx0ZWFjaCggZnVuY3Rpb24oKSB7IHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsgfSApLmVuZCgpLlxuXHRcdFx0XHRmaWx0ZXIoIFwiaW1nXCIgKS5jc3MoIHsgb3BhY2l0eTogXCIxLjBcIiwgY3Vyc29yOiBcIlwiIH0gKTtcblx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJkaXZcIiB8fCBub2RlTmFtZSA9PT0gXCJzcGFuXCIgKSB7XG5cdFx0XHRpbmxpbmUgPSAkdGFyZ2V0LmNoaWxkcmVuKCBcIi5cIiArIHRoaXMuX2lubGluZUNsYXNzICk7XG5cdFx0XHRpbmxpbmUuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XG5cdFx0XHRpbmxpbmUuZmluZCggXCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhclwiICkuXG5cdFx0XHRcdHByb3AoIFwiZGlzYWJsZWRcIiwgZmFsc2UgKTtcblx0XHR9XG5cdFx0dGhpcy5fZGlzYWJsZWRJbnB1dHMgPSAkLm1hcCggdGhpcy5fZGlzYWJsZWRJbnB1dHMsXG5cdFx0XHRmdW5jdGlvbiggdmFsdWUgKSB7IHJldHVybiAoIHZhbHVlID09PSB0YXJnZXQgPyBudWxsIDogdmFsdWUgKTsgfSApOyAvLyBkZWxldGUgZW50cnlcblx0fSxcblxuXHQvKiBEaXNhYmxlIHRoZSBkYXRlIHBpY2tlciB0byBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfZGlzYWJsZURhdGVwaWNrZXI6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIG5vZGVOYW1lLCBpbmxpbmUsXG5cdFx0XHQkdGFyZ2V0ID0gJCggdGFyZ2V0ICksXG5cdFx0XHRpbnN0ID0gJC5kYXRhKCB0YXJnZXQsIFwiZGF0ZXBpY2tlclwiICk7XG5cblx0XHRpZiAoICEkdGFyZ2V0Lmhhc0NsYXNzKCB0aGlzLm1hcmtlckNsYXNzTmFtZSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0dGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGluc3QudHJpZ2dlci5maWx0ZXIoIFwiYnV0dG9uXCIgKS5cblx0XHRcdFx0ZWFjaCggZnVuY3Rpb24oKSB7IHRoaXMuZGlzYWJsZWQgPSB0cnVlOyB9ICkuZW5kKCkuXG5cdFx0XHRcdGZpbHRlciggXCJpbWdcIiApLmNzcyggeyBvcGFjaXR5OiBcIjAuNVwiLCBjdXJzb3I6IFwiZGVmYXVsdFwiIH0gKTtcblx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJkaXZcIiB8fCBub2RlTmFtZSA9PT0gXCJzcGFuXCIgKSB7XG5cdFx0XHRpbmxpbmUgPSAkdGFyZ2V0LmNoaWxkcmVuKCBcIi5cIiArIHRoaXMuX2lubGluZUNsYXNzICk7XG5cdFx0XHRpbmxpbmUuY2hpbGRyZW4oKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XG5cdFx0XHRpbmxpbmUuZmluZCggXCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhclwiICkuXG5cdFx0XHRcdHByb3AoIFwiZGlzYWJsZWRcIiwgdHJ1ZSApO1xuXHRcdH1cblx0XHR0aGlzLl9kaXNhYmxlZElucHV0cyA9ICQubWFwKCB0aGlzLl9kaXNhYmxlZElucHV0cyxcblx0XHRcdGZ1bmN0aW9uKCB2YWx1ZSApIHsgcmV0dXJuICggdmFsdWUgPT09IHRhcmdldCA/IG51bGwgOiB2YWx1ZSApOyB9ICk7IC8vIGRlbGV0ZSBlbnRyeVxuXHRcdHRoaXMuX2Rpc2FibGVkSW5wdXRzWyB0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGggXSA9IHRhcmdldDtcblx0fSxcblxuXHQvKiBJcyB0aGUgZmlyc3QgZmllbGQgaW4gYSBqUXVlcnkgY29sbGVjdGlvbiBkaXNhYmxlZCBhcyBhIGRhdGVwaWNrZXI/XG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEByZXR1cm4gYm9vbGVhbiAtIHRydWUgaWYgZGlzYWJsZWQsIGZhbHNlIGlmIGVuYWJsZWRcblx0ICovXG5cdF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHRpZiAoICF0YXJnZXQgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0aWYgKCB0aGlzLl9kaXNhYmxlZElucHV0c1sgaSBdID09PSB0YXJnZXQgKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0LyogUmV0cmlldmUgdGhlIGluc3RhbmNlIGRhdGEgZm9yIHRoZSB0YXJnZXQgY29udHJvbC5cblx0ICogQHBhcmFtICB0YXJnZXQgIGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICogQHJldHVybiAgb2JqZWN0IC0gdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UgZGF0YVxuXHQgKiBAdGhyb3dzICBlcnJvciBpZiBhIGpRdWVyeSBwcm9ibGVtIGdldHRpbmcgZGF0YVxuXHQgKi9cblx0X2dldEluc3Q6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiAkLmRhdGEoIHRhcmdldCwgXCJkYXRlcGlja2VyXCIgKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKCBlcnIgKSB7XG5cdFx0XHR0aHJvdyBcIk1pc3NpbmcgaW5zdGFuY2UgZGF0YSBmb3IgdGhpcyBkYXRlcGlja2VyXCI7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFVwZGF0ZSBvciByZXRyaWV2ZSB0aGUgc2V0dGluZ3MgZm9yIGEgZGF0ZSBwaWNrZXIgYXR0YWNoZWQgdG8gYW4gaW5wdXQgZmllbGQgb3IgZGl2aXNpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0ICBlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEBwYXJhbSAgbmFtZVx0b2JqZWN0IC0gdGhlIG5ldyBzZXR0aW5ncyB0byB1cGRhdGUgb3Jcblx0ICpcdFx0XHRcdHN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBzZXR0aW5nIHRvIGNoYW5nZSBvciByZXRyaWV2ZSxcblx0ICpcdFx0XHRcdHdoZW4gcmV0cmlldmluZyBhbHNvIFwiYWxsXCIgZm9yIGFsbCBpbnN0YW5jZSBzZXR0aW5ncyBvclxuXHQgKlx0XHRcdFx0XCJkZWZhdWx0c1wiIGZvciBhbGwgZ2xvYmFsIGRlZmF1bHRzXG5cdCAqIEBwYXJhbSAgdmFsdWUgICBhbnkgLSB0aGUgbmV3IHZhbHVlIGZvciB0aGUgc2V0dGluZ1xuXHQgKlx0XHRcdFx0KG9taXQgaWYgYWJvdmUgaXMgYW4gb2JqZWN0IG9yIHRvIHJldHJpZXZlIGEgdmFsdWUpXG5cdCAqL1xuXHRfb3B0aW9uRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHNldHRpbmdzLCBkYXRlLCBtaW5EYXRlLCBtYXhEYXRlLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2dldEluc3QoIHRhcmdldCApO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuICggbmFtZSA9PT0gXCJkZWZhdWx0c1wiID8gJC5leHRlbmQoIHt9LCAkLmRhdGVwaWNrZXIuX2RlZmF1bHRzICkgOlxuXHRcdFx0XHQoIGluc3QgPyAoIG5hbWUgPT09IFwiYWxsXCIgPyAkLmV4dGVuZCgge30sIGluc3Quc2V0dGluZ3MgKSA6XG5cdFx0XHRcdHRoaXMuX2dldCggaW5zdCwgbmFtZSApICkgOiBudWxsICkgKTtcblx0XHR9XG5cblx0XHRzZXR0aW5ncyA9IG5hbWUgfHwge307XG5cdFx0aWYgKCB0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHNldHRpbmdzID0ge307XG5cdFx0XHRzZXR0aW5nc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBpbnN0ICkge1xuXHRcdFx0aWYgKCB0aGlzLl9jdXJJbnN0ID09PSBpbnN0ICkge1xuXHRcdFx0XHR0aGlzLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0fVxuXG5cdFx0XHRkYXRlID0gdGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIoIHRhcmdldCwgdHJ1ZSApO1xuXHRcdFx0bWluRGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoIGluc3QsIFwibWluXCIgKTtcblx0XHRcdG1heERhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKCBpbnN0LCBcIm1heFwiICk7XG5cdFx0XHRkYXRlcGlja2VyX2V4dGVuZFJlbW92ZSggaW5zdC5zZXR0aW5ncywgc2V0dGluZ3MgKTtcblxuXHRcdFx0Ly8gcmVmb3JtYXQgdGhlIG9sZCBtaW5EYXRlL21heERhdGUgdmFsdWVzIGlmIGRhdGVGb3JtYXQgY2hhbmdlcyBhbmQgYSBuZXcgbWluRGF0ZS9tYXhEYXRlIGlzbid0IHByb3ZpZGVkXG5cdFx0XHRpZiAoIG1pbkRhdGUgIT09IG51bGwgJiYgc2V0dGluZ3MuZGF0ZUZvcm1hdCAhPT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm1pbkRhdGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0aW5zdC5zZXR0aW5ncy5taW5EYXRlID0gdGhpcy5fZm9ybWF0RGF0ZSggaW5zdCwgbWluRGF0ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBtYXhEYXRlICE9PSBudWxsICYmIHNldHRpbmdzLmRhdGVGb3JtYXQgIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy5tYXhEYXRlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGluc3Quc2V0dGluZ3MubWF4RGF0ZSA9IHRoaXMuX2Zvcm1hdERhdGUoIGluc3QsIG1heERhdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggXCJkaXNhYmxlZFwiIGluIHNldHRpbmdzICkge1xuXHRcdFx0XHRpZiAoIHNldHRpbmdzLmRpc2FibGVkICkge1xuXHRcdFx0XHRcdHRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKCB0YXJnZXQgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9lbmFibGVEYXRlcGlja2VyKCB0YXJnZXQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5fYXR0YWNobWVudHMoICQoIHRhcmdldCApLCBpbnN0ICk7XG5cdFx0XHR0aGlzLl9hdXRvU2l6ZSggaW5zdCApO1xuXHRcdFx0dGhpcy5fc2V0RGF0ZSggaW5zdCwgZGF0ZSApO1xuXHRcdFx0dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKCBpbnN0ICk7XG5cdFx0XHR0aGlzLl91cGRhdGVEYXRlcGlja2VyKCBpbnN0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIENoYW5nZSBtZXRob2QgZGVwcmVjYXRlZFxuXHRfY2hhbmdlRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5fb3B0aW9uRGF0ZXBpY2tlciggdGFyZ2V0LCBuYW1lLCB2YWx1ZSApO1xuXHR9LFxuXG5cdC8qIFJlZHJhdyB0aGUgZGF0ZSBwaWNrZXIgYXR0YWNoZWQgdG8gYW4gaW5wdXQgZmllbGQgb3IgZGl2aXNpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0ICBlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfcmVmcmVzaERhdGVwaWNrZXI6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIGluc3QgPSB0aGlzLl9nZXRJbnN0KCB0YXJnZXQgKTtcblx0XHRpZiAoIGluc3QgKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVEYXRlcGlja2VyKCBpbnN0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFNldCB0aGUgZGF0ZXMgZm9yIGEgalF1ZXJ5IHNlbGVjdGlvbi5cblx0ICogQHBhcmFtICB0YXJnZXQgZWxlbWVudCAtIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQgb3IgZGl2aXNpb24gb3Igc3BhblxuXHQgKiBAcGFyYW0gIGRhdGVcdERhdGUgLSB0aGUgbmV3IGRhdGVcblx0ICovXG5cdF9zZXREYXRlRGF0ZXBpY2tlcjogZnVuY3Rpb24oIHRhcmdldCwgZGF0ZSApIHtcblx0XHR2YXIgaW5zdCA9IHRoaXMuX2dldEluc3QoIHRhcmdldCApO1xuXHRcdGlmICggaW5zdCApIHtcblx0XHRcdHRoaXMuX3NldERhdGUoIGluc3QsIGRhdGUgKTtcblx0XHRcdHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoIGluc3QgKTtcblx0XHRcdHRoaXMuX3VwZGF0ZUFsdGVybmF0ZSggaW5zdCApO1xuXHRcdH1cblx0fSxcblxuXHQvKiBHZXQgdGhlIGRhdGUocykgZm9yIHRoZSBmaXJzdCBlbnRyeSBpbiBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0IGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICogQHBhcmFtICBub0RlZmF1bHQgYm9vbGVhbiAtIHRydWUgaWYgbm8gZGVmYXVsdCBkYXRlIGlzIHRvIGJlIHVzZWRcblx0ICogQHJldHVybiBEYXRlIC0gdGhlIGN1cnJlbnQgZGF0ZVxuXHQgKi9cblx0X2dldERhdGVEYXRlcGlja2VyOiBmdW5jdGlvbiggdGFyZ2V0LCBub0RlZmF1bHQgKSB7XG5cdFx0dmFyIGluc3QgPSB0aGlzLl9nZXRJbnN0KCB0YXJnZXQgKTtcblx0XHRpZiAoIGluc3QgJiYgIWluc3QuaW5saW5lICkge1xuXHRcdFx0dGhpcy5fc2V0RGF0ZUZyb21GaWVsZCggaW5zdCwgbm9EZWZhdWx0ICk7XG5cdFx0fVxuXHRcdHJldHVybiAoIGluc3QgPyB0aGlzLl9nZXREYXRlKCBpbnN0ICkgOiBudWxsICk7XG5cdH0sXG5cblx0LyogSGFuZGxlIGtleXN0cm9rZXMuICovXG5cdF9kb0tleURvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgb25TZWxlY3QsIGRhdGVTdHIsIHNlbCxcblx0XHRcdGluc3QgPSAkLmRhdGVwaWNrZXIuX2dldEluc3QoIGV2ZW50LnRhcmdldCApLFxuXHRcdFx0aGFuZGxlZCA9IHRydWUsXG5cdFx0XHRpc1JUTCA9IGluc3QuZHBEaXYuaXMoIFwiLnVpLWRhdGVwaWNrZXItcnRsXCIgKTtcblxuXHRcdGluc3QuX2tleUV2ZW50ID0gdHJ1ZTtcblx0XHRpZiAoICQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgKSB7XG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlIDk6ICQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGJyZWFrOyAvLyBoaWRlIG9uIHRhYiBvdXRcblx0XHRcdFx0Y2FzZSAxMzogc2VsID0gJCggXCJ0ZC5cIiArICQuZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzICsgXCI6bm90KC5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcyArIFwiKVwiLCBpbnN0LmRwRGl2ICk7XG5cdFx0XHRcdFx0XHRpZiAoIHNlbFsgMCBdICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3NlbGVjdERheSggZXZlbnQudGFyZ2V0LCBpbnN0LnNlbGVjdGVkTW9udGgsIGluc3Quc2VsZWN0ZWRZZWFyLCBzZWxbIDAgXSApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRvblNlbGVjdCA9ICQuZGF0ZXBpY2tlci5fZ2V0KCBpbnN0LCBcIm9uU2VsZWN0XCIgKTtcblx0XHRcdFx0XHRcdGlmICggb25TZWxlY3QgKSB7XG5cdFx0XHRcdFx0XHRcdGRhdGVTdHIgPSAkLmRhdGVwaWNrZXIuX2Zvcm1hdERhdGUoIGluc3QgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUcmlnZ2VyIGN1c3RvbSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0XHRvblNlbGVjdC5hcHBseSggKCBpbnN0LmlucHV0ID8gaW5zdC5pbnB1dFsgMCBdIDogbnVsbCApLCBbIGRhdGVTdHIsIGluc3QgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIGRvbid0IHN1Ym1pdCB0aGUgZm9ybVxuXHRcdFx0XHRjYXNlIDI3OiAkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gaGlkZSBvbiBlc2NhcGVcblx0XHRcdFx0Y2FzZSAzMzogJC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCBldmVudC50YXJnZXQsICggZXZlbnQuY3RybEtleSA/XG5cdFx0XHRcdFx0XHRcdC0kLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzdGVwQmlnTW9udGhzXCIgKSA6XG5cdFx0XHRcdFx0XHRcdC0kLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzdGVwTW9udGhzXCIgKSApLCBcIk1cIiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIHByZXZpb3VzIG1vbnRoL3llYXIgb24gcGFnZSB1cC8rIGN0cmxcblx0XHRcdFx0Y2FzZSAzNDogJC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCBldmVudC50YXJnZXQsICggZXZlbnQuY3RybEtleSA/XG5cdFx0XHRcdFx0XHRcdCskLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzdGVwQmlnTW9udGhzXCIgKSA6XG5cdFx0XHRcdFx0XHRcdCskLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzdGVwTW9udGhzXCIgKSApLCBcIk1cIiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIG5leHQgbW9udGgveWVhciBvbiBwYWdlIGRvd24vKyBjdHJsXG5cdFx0XHRcdGNhc2UgMzU6IGlmICggZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZSggZXZlbnQudGFyZ2V0ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIGNsZWFyIG9uIGN0cmwgb3IgY29tbWFuZCArZW5kXG5cdFx0XHRcdGNhc2UgMzY6IGlmICggZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2dvdG9Ub2RheSggZXZlbnQudGFyZ2V0ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIGN1cnJlbnQgb24gY3RybCBvciBjb21tYW5kICtob21lXG5cdFx0XHRcdGNhc2UgMzc6IGlmICggZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGV2ZW50LnRhcmdldCwgKCBpc1JUTCA/ICsxIDogLTEgKSwgXCJEXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cblx0XHRcdFx0XHRcdC8vIC0xIGRheSBvbiBjdHJsIG9yIGNvbW1hbmQgK2xlZnRcblx0XHRcdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudC5hbHRLZXkgKSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSggZXZlbnQudGFyZ2V0LCAoIGV2ZW50LmN0cmxLZXkgP1xuXHRcdFx0XHRcdFx0XHRcdC0kLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzdGVwQmlnTW9udGhzXCIgKSA6XG5cdFx0XHRcdFx0XHRcdFx0LSQuZGF0ZXBpY2tlci5fZ2V0KCBpbnN0LCBcInN0ZXBNb250aHNcIiApICksIFwiTVwiICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIG5leHQgbW9udGgveWVhciBvbiBhbHQgK2xlZnQgb24gTWFjXG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAzODogaWYgKCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgKSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSggZXZlbnQudGFyZ2V0LCAtNywgXCJEXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gLTEgd2VlayBvbiBjdHJsIG9yIGNvbW1hbmQgK3VwXG5cdFx0XHRcdGNhc2UgMzk6IGlmICggZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGV2ZW50LnRhcmdldCwgKCBpc1JUTCA/IC0xIDogKzEgKSwgXCJEXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cblx0XHRcdFx0XHRcdC8vICsxIGRheSBvbiBjdHJsIG9yIGNvbW1hbmQgK3JpZ2h0XG5cdFx0XHRcdFx0XHRpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQuYWx0S2V5ICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGV2ZW50LnRhcmdldCwgKCBldmVudC5jdHJsS2V5ID9cblx0XHRcdFx0XHRcdFx0XHQrJC5kYXRlcGlja2VyLl9nZXQoIGluc3QsIFwic3RlcEJpZ01vbnRoc1wiICkgOlxuXHRcdFx0XHRcdFx0XHRcdCskLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzdGVwTW9udGhzXCIgKSApLCBcIk1cIiApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBuZXh0IG1vbnRoL3llYXIgb24gYWx0ICtyaWdodFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgNDA6IGlmICggZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5ICkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGV2ZW50LnRhcmdldCwgKzcsIFwiRFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vICsxIHdlZWsgb24gY3RybCBvciBjb21tYW5kICtkb3duXG5cdFx0XHRcdGRlZmF1bHQ6IGhhbmRsZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCBldmVudC5rZXlDb2RlID09PSAzNiAmJiBldmVudC5jdHJsS2V5ICkgeyAvLyBkaXNwbGF5IHRoZSBkYXRlIHBpY2tlciBvbiBjdHJsK2hvbWVcblx0XHRcdCQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGFuZGxlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggaGFuZGxlZCApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cblx0LyogRmlsdGVyIGVudGVyZWQgY2hhcmFjdGVycyAtIGJhc2VkIG9uIGRhdGUgZm9ybWF0LiAqL1xuXHRfZG9LZXlQcmVzczogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBjaGFycywgY2hyLFxuXHRcdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdCggZXZlbnQudGFyZ2V0ICk7XG5cblx0XHRpZiAoICQuZGF0ZXBpY2tlci5fZ2V0KCBpbnN0LCBcImNvbnN0cmFpbklucHV0XCIgKSApIHtcblx0XHRcdGNoYXJzID0gJC5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKCAkLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJkYXRlRm9ybWF0XCIgKSApO1xuXHRcdFx0Y2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZSggZXZlbnQuY2hhckNvZGUgPT0gbnVsbCA/IGV2ZW50LmtleUNvZGUgOiBldmVudC5jaGFyQ29kZSApO1xuXHRcdFx0cmV0dXJuIGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCAoIGNociA8IFwiIFwiIHx8ICFjaGFycyB8fCBjaGFycy5pbmRleE9mKCBjaHIgKSA+IC0xICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFN5bmNocm9uaXNlIG1hbnVhbCBlbnRyeSBhbmQgZmllbGQvYWx0ZXJuYXRlIGZpZWxkLiAqL1xuXHRfZG9LZXlVcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBkYXRlLFxuXHRcdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdCggZXZlbnQudGFyZ2V0ICk7XG5cblx0XHRpZiAoIGluc3QuaW5wdXQudmFsKCkgIT09IGluc3QubGFzdFZhbCApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCAkLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJkYXRlRm9ybWF0XCIgKSxcblx0XHRcdFx0XHQoIGluc3QuaW5wdXQgPyBpbnN0LmlucHV0LnZhbCgpIDogbnVsbCApLFxuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKCBpbnN0ICkgKTtcblxuXHRcdFx0XHRpZiAoIGRhdGUgKSB7IC8vIG9ubHkgaWYgdmFsaWRcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoIGluc3QgKTtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZSggaW5zdCApO1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlciggaW5zdCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjYXRjaCAoIGVyciApIHtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0LyogUG9wLXVwIHRoZSBkYXRlIHBpY2tlciBmb3IgYSBnaXZlbiBpbnB1dCBmaWVsZC5cblx0ICogSWYgZmFsc2UgcmV0dXJuZWQgZnJvbSBiZWZvcmVTaG93IGV2ZW50IGhhbmRsZXIgZG8gbm90IHNob3cuXG5cdCAqIEBwYXJhbSAgaW5wdXQgIGVsZW1lbnQgLSB0aGUgaW5wdXQgZmllbGQgYXR0YWNoZWQgdG8gdGhlIGRhdGUgcGlja2VyIG9yXG5cdCAqXHRcdFx0XHRcdGV2ZW50IC0gaWYgdHJpZ2dlcmVkIGJ5IGZvY3VzXG5cdCAqL1xuXHRfc2hvd0RhdGVwaWNrZXI6IGZ1bmN0aW9uKCBpbnB1dCApIHtcblx0XHRpbnB1dCA9IGlucHV0LnRhcmdldCB8fCBpbnB1dDtcblx0XHRpZiAoIGlucHV0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwiaW5wdXRcIiApIHsgLy8gZmluZCBmcm9tIGJ1dHRvbi9pbWFnZSB0cmlnZ2VyXG5cdFx0XHRpbnB1dCA9ICQoIFwiaW5wdXRcIiwgaW5wdXQucGFyZW50Tm9kZSApWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCAkLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKCBpbnB1dCApIHx8ICQuZGF0ZXBpY2tlci5fbGFzdElucHV0ID09PSBpbnB1dCApIHsgLy8gYWxyZWFkeSBoZXJlXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGluc3QsIGJlZm9yZVNob3csIGJlZm9yZVNob3dTZXR0aW5ncywgaXNGaXhlZCxcblx0XHRcdG9mZnNldCwgc2hvd0FuaW0sIGR1cmF0aW9uO1xuXG5cdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdCggaW5wdXQgKTtcblx0XHRpZiAoICQuZGF0ZXBpY2tlci5fY3VySW5zdCAmJiAkLmRhdGVwaWNrZXIuX2N1ckluc3QgIT09IGluc3QgKSB7XG5cdFx0XHQkLmRhdGVwaWNrZXIuX2N1ckluc3QuZHBEaXYuc3RvcCggdHJ1ZSwgdHJ1ZSApO1xuXHRcdFx0aWYgKCBpbnN0ICYmICQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgKSB7XG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoICQuZGF0ZXBpY2tlci5fY3VySW5zdC5pbnB1dFsgMCBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YmVmb3JlU2hvdyA9ICQuZGF0ZXBpY2tlci5fZ2V0KCBpbnN0LCBcImJlZm9yZVNob3dcIiApO1xuXHRcdGJlZm9yZVNob3dTZXR0aW5ncyA9IGJlZm9yZVNob3cgPyBiZWZvcmVTaG93LmFwcGx5KCBpbnB1dCwgWyBpbnB1dCwgaW5zdCBdICkgOiB7fTtcblx0XHRpZiAoIGJlZm9yZVNob3dTZXR0aW5ncyA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKCBpbnN0LnNldHRpbmdzLCBiZWZvcmVTaG93U2V0dGluZ3MgKTtcblxuXHRcdGluc3QubGFzdFZhbCA9IG51bGw7XG5cdFx0JC5kYXRlcGlja2VyLl9sYXN0SW5wdXQgPSBpbnB1dDtcblx0XHQkLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoIGluc3QgKTtcblxuXHRcdGlmICggJC5kYXRlcGlja2VyLl9pbkRpYWxvZyApIHsgLy8gaGlkZSBjdXJzb3Jcblx0XHRcdGlucHV0LnZhbHVlID0gXCJcIjtcblx0XHR9XG5cdFx0aWYgKCAhJC5kYXRlcGlja2VyLl9wb3MgKSB7IC8vIHBvc2l0aW9uIGJlbG93IGlucHV0XG5cdFx0XHQkLmRhdGVwaWNrZXIuX3BvcyA9ICQuZGF0ZXBpY2tlci5fZmluZFBvcyggaW5wdXQgKTtcblx0XHRcdCQuZGF0ZXBpY2tlci5fcG9zWyAxIF0gKz0gaW5wdXQub2Zmc2V0SGVpZ2h0OyAvLyBhZGQgdGhlIGhlaWdodFxuXHRcdH1cblxuXHRcdGlzRml4ZWQgPSBmYWxzZTtcblx0XHQkKCBpbnB1dCApLnBhcmVudHMoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlzRml4ZWQgfD0gJCggdGhpcyApLmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIjtcblx0XHRcdHJldHVybiAhaXNGaXhlZDtcblx0XHR9ICk7XG5cblx0XHRvZmZzZXQgPSB7IGxlZnQ6ICQuZGF0ZXBpY2tlci5fcG9zWyAwIF0sIHRvcDogJC5kYXRlcGlja2VyLl9wb3NbIDEgXSB9O1xuXHRcdCQuZGF0ZXBpY2tlci5fcG9zID0gbnVsbDtcblxuXHRcdC8vdG8gYXZvaWQgZmxhc2hlcyBvbiBGaXJlZm94XG5cdFx0aW5zdC5kcERpdi5lbXB0eSgpO1xuXG5cdFx0Ly8gZGV0ZXJtaW5lIHNpemluZyBvZmZzY3JlZW5cblx0XHRpbnN0LmRwRGl2LmNzcyggeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBkaXNwbGF5OiBcImJsb2NrXCIsIHRvcDogXCItMTAwMHB4XCIgfSApO1xuXHRcdCQuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlciggaW5zdCApO1xuXG5cdFx0Ly8gZml4IHdpZHRoIGZvciBkeW5hbWljIG51bWJlciBvZiBkYXRlIHBpY2tlcnNcblx0XHQvLyBhbmQgYWRqdXN0IHBvc2l0aW9uIGJlZm9yZSBzaG93aW5nXG5cdFx0b2Zmc2V0ID0gJC5kYXRlcGlja2VyLl9jaGVja09mZnNldCggaW5zdCwgb2Zmc2V0LCBpc0ZpeGVkICk7XG5cdFx0aW5zdC5kcERpdi5jc3MoIHsgcG9zaXRpb246ICggJC5kYXRlcGlja2VyLl9pbkRpYWxvZyAmJiAkLmJsb2NrVUkgP1xuXHRcdFx0XCJzdGF0aWNcIiA6ICggaXNGaXhlZCA/IFwiZml4ZWRcIiA6IFwiYWJzb2x1dGVcIiApICksIGRpc3BsYXk6IFwibm9uZVwiLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgKyBcInB4XCIsIHRvcDogb2Zmc2V0LnRvcCArIFwicHhcIiB9ICk7XG5cblx0XHRpZiAoICFpbnN0LmlubGluZSApIHtcblx0XHRcdHNob3dBbmltID0gJC5kYXRlcGlja2VyLl9nZXQoIGluc3QsIFwic2hvd0FuaW1cIiApO1xuXHRcdFx0ZHVyYXRpb24gPSAkLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJkdXJhdGlvblwiICk7XG5cdFx0XHRpbnN0LmRwRGl2LmNzcyggXCJ6LWluZGV4XCIsIGRhdGVwaWNrZXJfZ2V0WmluZGV4KCAkKCBpbnB1dCApICkgKyAxMDAgKTtcblx0XHRcdCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgPSB0cnVlO1xuXG5cdFx0XHRpZiAoICQuZWZmZWN0cyAmJiAkLmVmZmVjdHMuZWZmZWN0WyBzaG93QW5pbSBdICkge1xuXHRcdFx0XHRpbnN0LmRwRGl2LnNob3coIHNob3dBbmltLCAkLmRhdGVwaWNrZXIuX2dldCggaW5zdCwgXCJzaG93T3B0aW9uc1wiICksIGR1cmF0aW9uICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0LmRwRGl2WyBzaG93QW5pbSB8fCBcInNob3dcIiBdKCBzaG93QW5pbSA/IGR1cmF0aW9uIDogbnVsbCApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICQuZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dCggaW5zdCApICkge1xuXHRcdFx0XHRpbnN0LmlucHV0LnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQkLmRhdGVwaWNrZXIuX2N1ckluc3QgPSBpbnN0O1xuXHRcdH1cblx0fSxcblxuXHQvKiBHZW5lcmF0ZSB0aGUgZGF0ZSBwaWNrZXIgY29udGVudC4gKi9cblx0X3VwZGF0ZURhdGVwaWNrZXI6IGZ1bmN0aW9uKCBpbnN0ICkge1xuXHRcdHRoaXMubWF4Um93cyA9IDQ7IC8vUmVzZXQgdGhlIG1heCBudW1iZXIgb2Ygcm93cyBiZWluZyBkaXNwbGF5ZWQgKHNlZSAjNzA0Mylcblx0XHRkYXRlcGlja2VyX2luc3RBY3RpdmUgPSBpbnN0OyAvLyBmb3IgZGVsZWdhdGUgaG92ZXIgZXZlbnRzXG5cdFx0aW5zdC5kcERpdi5lbXB0eSgpLmFwcGVuZCggdGhpcy5fZ2VuZXJhdGVIVE1MKCBpbnN0ICkgKTtcblx0XHR0aGlzLl9hdHRhY2hIYW5kbGVycyggaW5zdCApO1xuXG5cdFx0dmFyIG9yaWd5ZWFyc2h0bWwsXG5cdFx0XHRudW1Nb250aHMgPSB0aGlzLl9nZXROdW1iZXJPZk1vbnRocyggaW5zdCApLFxuXHRcdFx0Y29scyA9IG51bU1vbnRoc1sgMSBdLFxuXHRcdFx0d2lkdGggPSAxNyxcblx0XHRcdGFjdGl2ZUNlbGwgPSBpbnN0LmRwRGl2LmZpbmQoIFwiLlwiICsgdGhpcy5fZGF5T3ZlckNsYXNzICsgXCIgYVwiICk7XG5cblx0XHRpZiAoIGFjdGl2ZUNlbGwubGVuZ3RoID4gMCApIHtcblx0XHRcdGRhdGVwaWNrZXJfaGFuZGxlTW91c2VvdmVyLmFwcGx5KCBhY3RpdmVDZWxsLmdldCggMCApICk7XG5cdFx0fVxuXG5cdFx0aW5zdC5kcERpdi5yZW1vdmVDbGFzcyggXCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNFwiICkud2lkdGgoIFwiXCIgKTtcblx0XHRpZiAoIGNvbHMgPiAxICkge1xuXHRcdFx0aW5zdC5kcERpdi5hZGRDbGFzcyggXCJ1aS1kYXRlcGlja2VyLW11bHRpLVwiICsgY29scyApLmNzcyggXCJ3aWR0aFwiLCAoIHdpZHRoICogY29scyApICsgXCJlbVwiICk7XG5cdFx0fVxuXHRcdGluc3QuZHBEaXZbICggbnVtTW9udGhzWyAwIF0gIT09IDEgfHwgbnVtTW9udGhzWyAxIF0gIT09IDEgPyBcImFkZFwiIDogXCJyZW1vdmVcIiApICtcblx0XHRcdFwiQ2xhc3NcIiBdKCBcInVpLWRhdGVwaWNrZXItbXVsdGlcIiApO1xuXHRcdGluc3QuZHBEaXZbICggdGhpcy5fZ2V0KCBpbnN0LCBcImlzUlRMXCIgKSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiICkgK1xuXHRcdFx0XCJDbGFzc1wiIF0oIFwidWktZGF0ZXBpY2tlci1ydGxcIiApO1xuXG5cdFx0aWYgKCBpbnN0ID09PSAkLmRhdGVwaWNrZXIuX2N1ckluc3QgJiYgJC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAkLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQoIGluc3QgKSApIHtcblx0XHRcdGluc3QuaW5wdXQudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gRGVmZmVyZWQgcmVuZGVyIG9mIHRoZSB5ZWFycyBzZWxlY3QgKHRvIGF2b2lkIGZsYXNoZXMgb24gRmlyZWZveClcblx0XHRpZiAoIGluc3QueWVhcnNodG1sICkge1xuXHRcdFx0b3JpZ3llYXJzaHRtbCA9IGluc3QueWVhcnNodG1sO1xuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly9hc3N1cmUgdGhhdCBpbnN0LnllYXJzaHRtbCBkaWRuJ3QgY2hhbmdlLlxuXHRcdFx0XHRpZiAoIG9yaWd5ZWFyc2h0bWwgPT09IGluc3QueWVhcnNodG1sICYmIGluc3QueWVhcnNodG1sICkge1xuXHRcdFx0XHRcdGluc3QuZHBEaXYuZmluZCggXCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0XCIgKS5yZXBsYWNlV2l0aCggaW5zdC55ZWFyc2h0bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcmlneWVhcnNodG1sID0gaW5zdC55ZWFyc2h0bWwgPSBudWxsO1xuXHRcdFx0fSwgMCApO1xuXHRcdH1cblx0fSxcblxuXHQvLyAjNjY5NCAtIGRvbid0IGZvY3VzIHRoZSBpbnB1dCBpZiBpdCdzIGFscmVhZHkgZm9jdXNlZFxuXHQvLyB0aGlzIGJyZWFrcyB0aGUgY2hhbmdlIGV2ZW50IGluIElFXG5cdC8vIFN1cHBvcnQ6IElFIGFuZCBqUXVlcnkgPDEuOVxuXHRfc2hvdWxkRm9jdXNJbnB1dDogZnVuY3Rpb24oIGluc3QgKSB7XG5cdFx0cmV0dXJuIGluc3QuaW5wdXQgJiYgaW5zdC5pbnB1dC5pcyggXCI6dmlzaWJsZVwiICkgJiYgIWluc3QuaW5wdXQuaXMoIFwiOmRpc2FibGVkXCIgKSAmJiAhaW5zdC5pbnB1dC5pcyggXCI6Zm9jdXNcIiApO1xuXHR9LFxuXG5cdC8qIENoZWNrIHBvc2l0aW9uaW5nIHRvIHJlbWFpbiBvbiBzY3JlZW4uICovXG5cdF9jaGVja09mZnNldDogZnVuY3Rpb24oIGluc3QsIG9mZnNldCwgaXNGaXhlZCApIHtcblx0XHR2YXIgZHBXaWR0aCA9IGluc3QuZHBEaXYub3V0ZXJXaWR0aCgpLFxuXHRcdFx0ZHBIZWlnaHQgPSBpbnN0LmRwRGl2Lm91dGVySGVpZ2h0KCksXG5cdFx0XHRpbnB1dFdpZHRoID0gaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQub3V0ZXJXaWR0aCgpIDogMCxcblx0XHRcdGlucHV0SGVpZ2h0ID0gaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQub3V0ZXJIZWlnaHQoKSA6IDAsXG5cdFx0XHR2aWV3V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKyAoIGlzRml4ZWQgPyAwIDogJCggZG9jdW1lbnQgKS5zY3JvbGxMZWZ0KCkgKSxcblx0XHRcdHZpZXdIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICsgKCBpc0ZpeGVkID8gMCA6ICQoIGRvY3VtZW50ICkuc2Nyb2xsVG9wKCkgKTtcblxuXHRcdG9mZnNldC5sZWZ0IC09ICggdGhpcy5fZ2V0KCBpbnN0LCBcImlzUlRMXCIgKSA/ICggZHBXaWR0aCAtIGlucHV0V2lkdGggKSA6IDAgKTtcblx0XHRvZmZzZXQubGVmdCAtPSAoIGlzRml4ZWQgJiYgb2Zmc2V0LmxlZnQgPT09IGluc3QuaW5wdXQub2Zmc2V0KCkubGVmdCApID8gJCggZG9jdW1lbnQgKS5zY3JvbGxMZWZ0KCkgOiAwO1xuXHRcdG9mZnNldC50b3AgLT0gKCBpc0ZpeGVkICYmIG9mZnNldC50b3AgPT09ICggaW5zdC5pbnB1dC5vZmZzZXQoKS50b3AgKyBpbnB1dEhlaWdodCApICkgPyAkKCBkb2N1bWVudCApLnNjcm9sbFRvcCgpIDogMDtcblxuXHRcdC8vIE5vdyBjaGVjayBpZiBkYXRlcGlja2VyIGlzIHNob3dpbmcgb3V0c2lkZSB3aW5kb3cgdmlld3BvcnQgLSBtb3ZlIHRvIGEgYmV0dGVyIHBsYWNlIGlmIHNvLlxuXHRcdG9mZnNldC5sZWZ0IC09IE1hdGgubWluKCBvZmZzZXQubGVmdCwgKCBvZmZzZXQubGVmdCArIGRwV2lkdGggPiB2aWV3V2lkdGggJiYgdmlld1dpZHRoID4gZHBXaWR0aCApID9cblx0XHRcdE1hdGguYWJzKCBvZmZzZXQubGVmdCArIGRwV2lkdGggLSB2aWV3V2lkdGggKSA6IDAgKTtcblx0XHRvZmZzZXQudG9wIC09IE1hdGgubWluKCBvZmZzZXQudG9wLCAoIG9mZnNldC50b3AgKyBkcEhlaWdodCA+IHZpZXdIZWlnaHQgJiYgdmlld0hlaWdodCA+IGRwSGVpZ2h0ICkgP1xuXHRcdFx0TWF0aC5hYnMoIGRwSGVpZ2h0ICsgaW5wdXRIZWlnaHQgKSA6IDAgKTtcblxuXHRcdHJldHVybiBvZmZzZXQ7XG5cdH0sXG5cblx0LyogRmluZCBhbiBvYmplY3QncyBwb3NpdGlvbiBvbiB0aGUgc2NyZWVuLiAqL1xuXHRfZmluZFBvczogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcG9zaXRpb24sXG5cdFx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdCggb2JqICksXG5cdFx0XHRpc1JUTCA9IHRoaXMuX2dldCggaW5zdCwgXCJpc1JUTFwiICk7XG5cblx0XHR3aGlsZSAoIG9iaiAmJiAoIG9iai50eXBlID09PSBcImhpZGRlblwiIHx8IG9iai5ub2RlVHlwZSAhPT0gMSB8fCAkLmV4cHIuZmlsdGVycy5oaWRkZW4oIG9iaiApICkgKSB7XG5cdFx0XHRvYmogPSBvYmpbIGlzUlRMID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIiBdO1xuXHRcdH1cblxuXHRcdHBvc2l0aW9uID0gJCggb2JqICkub2Zmc2V0KCk7XG5cdFx0cmV0dXJuIFsgcG9zaXRpb24ubGVmdCwgcG9zaXRpb24udG9wIF07XG5cdH0sXG5cblx0LyogSGlkZSB0aGUgZGF0ZSBwaWNrZXIgZnJvbSB2aWV3LlxuXHQgKiBAcGFyYW0gIGlucHV0ICBlbGVtZW50IC0gdGhlIGlucHV0IGZpZWxkIGF0dGFjaGVkIHRvIHRoZSBkYXRlIHBpY2tlclxuXHQgKi9cblx0X2hpZGVEYXRlcGlja2VyOiBmdW5jdGlvbiggaW5wdXQgKSB7XG5cdFx0dmFyIHNob3dBbmltLCBkdXJhdGlvbiwgcG9zdFByb2Nlc3MsIG9uQ2xvc2UsXG5cdFx0XHRpbnN0ID0gdGhpcy5fY3VySW5zdDtcblxuXHRcdGlmICggIWluc3QgfHwgKCBpbnB1dCAmJiBpbnN0ICE9PSAkLmRhdGEoIGlucHV0LCBcImRhdGVwaWNrZXJcIiApICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9kYXRlcGlja2VyU2hvd2luZyApIHtcblx0XHRcdHNob3dBbmltID0gdGhpcy5fZ2V0KCBpbnN0LCBcInNob3dBbmltXCIgKTtcblx0XHRcdGR1cmF0aW9uID0gdGhpcy5fZ2V0KCBpbnN0LCBcImR1cmF0aW9uXCIgKTtcblx0XHRcdHBvc3RQcm9jZXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5fdGlkeURpYWxvZyggaW5zdCApO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gREVQUkVDQVRFRDogYWZ0ZXIgQkMgZm9yIDEuOC54ICQuZWZmZWN0c1sgc2hvd0FuaW0gXSBpcyBub3QgbmVlZGVkXG5cdFx0XHRpZiAoICQuZWZmZWN0cyAmJiAoICQuZWZmZWN0cy5lZmZlY3RbIHNob3dBbmltIF0gfHwgJC5lZmZlY3RzWyBzaG93QW5pbSBdICkgKSB7XG5cdFx0XHRcdGluc3QuZHBEaXYuaGlkZSggc2hvd0FuaW0sICQuZGF0ZXBpY2tlci5fZ2V0KCBpbnN0LCBcInNob3dPcHRpb25zXCIgKSwgZHVyYXRpb24sIHBvc3RQcm9jZXNzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0LmRwRGl2WyAoIHNob3dBbmltID09PSBcInNsaWRlRG93blwiID8gXCJzbGlkZVVwXCIgOlxuXHRcdFx0XHRcdCggc2hvd0FuaW0gPT09IFwiZmFkZUluXCIgPyBcImZhZGVPdXRcIiA6IFwiaGlkZVwiICkgKSBdKCAoIHNob3dBbmltID8gZHVyYXRpb24gOiBudWxsICksIHBvc3RQcm9jZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXNob3dBbmltICkge1xuXHRcdFx0XHRwb3N0UHJvY2VzcygpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fZGF0ZXBpY2tlclNob3dpbmcgPSBmYWxzZTtcblxuXHRcdFx0b25DbG9zZSA9IHRoaXMuX2dldCggaW5zdCwgXCJvbkNsb3NlXCIgKTtcblx0XHRcdGlmICggb25DbG9zZSApIHtcblx0XHRcdFx0b25DbG9zZS5hcHBseSggKCBpbnN0LmlucHV0ID8gaW5zdC5pbnB1dFsgMCBdIDogbnVsbCApLCBbICggaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQudmFsKCkgOiBcIlwiICksIGluc3QgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xuXHRcdFx0aWYgKCB0aGlzLl9pbkRpYWxvZyApIHtcblx0XHRcdFx0dGhpcy5fZGlhbG9nSW5wdXQuY3NzKCB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGxlZnQ6IFwiMFwiLCB0b3A6IFwiLTEwMHB4XCIgfSApO1xuXHRcdFx0XHRpZiAoICQuYmxvY2tVSSApIHtcblx0XHRcdFx0XHQkLnVuYmxvY2tVSSgpO1xuXHRcdFx0XHRcdCQoIFwiYm9keVwiICkuYXBwZW5kKCB0aGlzLmRwRGl2ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuX2luRGlhbG9nID0gZmFsc2U7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFRpZHkgdXAgYWZ0ZXIgYSBkaWFsb2cgZGlzcGxheS4gKi9cblx0X3RpZHlEaWFsb2c6IGZ1bmN0aW9uKCBpbnN0ICkge1xuXHRcdGluc3QuZHBEaXYucmVtb3ZlQ2xhc3MoIHRoaXMuX2RpYWxvZ0NsYXNzICkub2ZmKCBcIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyXCIgKTtcblx0fSxcblxuXHQvKiBDbG9zZSBkYXRlIHBpY2tlciBpZiBjbGlja2VkIGVsc2V3aGVyZS4gKi9cblx0X2NoZWNrRXh0ZXJuYWxDbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggISQuZGF0ZXBpY2tlci5fY3VySW5zdCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgJHRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApLFxuXHRcdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdCggJHRhcmdldFsgMCBdICk7XG5cblx0XHRpZiAoICggKCAkdGFyZ2V0WyAwIF0uaWQgIT09ICQuZGF0ZXBpY2tlci5fbWFpbkRpdklkICYmXG5cdFx0XHRcdCR0YXJnZXQucGFyZW50cyggXCIjXCIgKyAkLmRhdGVwaWNrZXIuX21haW5EaXZJZCApLmxlbmd0aCA9PT0gMCAmJlxuXHRcdFx0XHQhJHRhcmdldC5oYXNDbGFzcyggJC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSApICYmXG5cdFx0XHRcdCEkdGFyZ2V0LmNsb3Nlc3QoIFwiLlwiICsgJC5kYXRlcGlja2VyLl90cmlnZ2VyQ2xhc3MgKS5sZW5ndGggJiZcblx0XHRcdFx0JC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAhKCAkLmRhdGVwaWNrZXIuX2luRGlhbG9nICYmICQuYmxvY2tVSSApICkgKSB8fFxuXHRcdFx0KCAkdGFyZ2V0Lmhhc0NsYXNzKCAkLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lICkgJiYgJC5kYXRlcGlja2VyLl9jdXJJbnN0ICE9PSBpbnN0ICkgKSB7XG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHR9XG5cdH0sXG5cblx0LyogQWRqdXN0IG9uZSBvZiB0aGUgZGF0ZSBzdWItZmllbGRzLiAqL1xuXHRfYWRqdXN0RGF0ZTogZnVuY3Rpb24oIGlkLCBvZmZzZXQsIHBlcmlvZCApIHtcblx0XHR2YXIgdGFyZ2V0ID0gJCggaWQgKSxcblx0XHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KCB0YXJnZXRbIDAgXSApO1xuXG5cdFx0aWYgKCB0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlciggdGFyZ2V0WyAwIF0gKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fYWRqdXN0SW5zdERhdGUoIGluc3QsIG9mZnNldCArXG5cdFx0XHQoIHBlcmlvZCA9PT0gXCJNXCIgPyB0aGlzLl9nZXQoIGluc3QsIFwic2hvd0N1cnJlbnRBdFBvc1wiICkgOiAwICksIC8vIHVuZG8gcG9zaXRpb25pbmdcblx0XHRcdHBlcmlvZCApO1xuXHRcdHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoIGluc3QgKTtcblx0fSxcblxuXHQvKiBBY3Rpb24gZm9yIGN1cnJlbnQgbGluay4gKi9cblx0X2dvdG9Ub2RheTogZnVuY3Rpb24oIGlkICkge1xuXHRcdHZhciBkYXRlLFxuXHRcdFx0dGFyZ2V0ID0gJCggaWQgKSxcblx0XHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KCB0YXJnZXRbIDAgXSApO1xuXG5cdFx0aWYgKCB0aGlzLl9nZXQoIGluc3QsIFwiZ290b0N1cnJlbnRcIiApICYmIGluc3QuY3VycmVudERheSApIHtcblx0XHRcdGluc3Quc2VsZWN0ZWREYXkgPSBpbnN0LmN1cnJlbnREYXk7XG5cdFx0XHRpbnN0LmRyYXdNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCA9IGluc3QuY3VycmVudE1vbnRoO1xuXHRcdFx0aW5zdC5kcmF3WWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyID0gaW5zdC5jdXJyZW50WWVhcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRpbnN0LnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7XG5cdFx0XHRpbnN0LmRyYXdNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcblx0XHRcdGluc3QuZHJhd1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHR9XG5cdFx0dGhpcy5fbm90aWZ5Q2hhbmdlKCBpbnN0ICk7XG5cdFx0dGhpcy5fYWRqdXN0RGF0ZSggdGFyZ2V0ICk7XG5cdH0sXG5cblx0LyogQWN0aW9uIGZvciBzZWxlY3RpbmcgYSBuZXcgbW9udGgveWVhci4gKi9cblx0X3NlbGVjdE1vbnRoWWVhcjogZnVuY3Rpb24oIGlkLCBzZWxlY3QsIHBlcmlvZCApIHtcblx0XHR2YXIgdGFyZ2V0ID0gJCggaWQgKSxcblx0XHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KCB0YXJnZXRbIDAgXSApO1xuXG5cdFx0aW5zdFsgXCJzZWxlY3RlZFwiICsgKCBwZXJpb2QgPT09IFwiTVwiID8gXCJNb250aFwiIDogXCJZZWFyXCIgKSBdID1cblx0XHRpbnN0WyBcImRyYXdcIiArICggcGVyaW9kID09PSBcIk1cIiA/IFwiTW9udGhcIiA6IFwiWWVhclwiICkgXSA9XG5cdFx0XHRwYXJzZUludCggc2VsZWN0Lm9wdGlvbnNbIHNlbGVjdC5zZWxlY3RlZEluZGV4IF0udmFsdWUsIDEwICk7XG5cblx0XHR0aGlzLl9ub3RpZnlDaGFuZ2UoIGluc3QgKTtcblx0XHR0aGlzLl9hZGp1c3REYXRlKCB0YXJnZXQgKTtcblx0fSxcblxuXHQvKiBBY3Rpb24gZm9yIHNlbGVjdGluZyBhIGRheS4gKi9cblx0X3NlbGVjdERheTogZnVuY3Rpb24oIGlkLCBtb250aCwgeWVhciwgdGQgKSB7XG5cdFx0dmFyIGluc3QsXG5cdFx0XHR0YXJnZXQgPSAkKCBpZCApO1xuXG5cdFx0aWYgKCAkKCB0ZCApLmhhc0NsYXNzKCB0aGlzLl91bnNlbGVjdGFibGVDbGFzcyApIHx8IHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKCB0YXJnZXRbIDAgXSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KCB0YXJnZXRbIDAgXSApO1xuXHRcdGluc3Quc2VsZWN0ZWREYXkgPSBpbnN0LmN1cnJlbnREYXkgPSAkKCBcImFcIiwgdGQgKS5odG1sKCk7XG5cdFx0aW5zdC5zZWxlY3RlZE1vbnRoID0gaW5zdC5jdXJyZW50TW9udGggPSBtb250aDtcblx0XHRpbnN0LnNlbGVjdGVkWWVhciA9IGluc3QuY3VycmVudFllYXIgPSB5ZWFyO1xuXHRcdHRoaXMuX3NlbGVjdERhdGUoIGlkLCB0aGlzLl9mb3JtYXREYXRlKCBpbnN0LFxuXHRcdFx0aW5zdC5jdXJyZW50RGF5LCBpbnN0LmN1cnJlbnRNb250aCwgaW5zdC5jdXJyZW50WWVhciApICk7XG5cdH0sXG5cblx0LyogRXJhc2UgdGhlIGlucHV0IGZpZWxkIGFuZCBoaWRlIHRoZSBkYXRlIHBpY2tlci4gKi9cblx0X2NsZWFyRGF0ZTogZnVuY3Rpb24oIGlkICkge1xuXHRcdHZhciB0YXJnZXQgPSAkKCBpZCApO1xuXHRcdHRoaXMuX3NlbGVjdERhdGUoIHRhcmdldCwgXCJcIiApO1xuXHR9LFxuXG5cdC8qIFVwZGF0ZSB0aGUgaW5wdXQgZmllbGQgd2l0aCB0aGUgc2VsZWN0ZWQgZGF0ZS4gKi9cblx0X3NlbGVjdERhdGU6IGZ1bmN0aW9uKCBpZCwgZGF0ZVN0ciApIHtcblx0XHR2YXIgb25TZWxlY3QsXG5cdFx0XHR0YXJnZXQgPSAkKCBpZCApLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2dldEluc3QoIHRhcmdldFsgMCBdICk7XG5cblx0XHRkYXRlU3RyID0gKCBkYXRlU3RyICE9IG51bGwgPyBkYXRlU3RyIDogdGhpcy5fZm9ybWF0RGF0ZSggaW5zdCApICk7XG5cdFx0aWYgKCBpbnN0LmlucHV0ICkge1xuXHRcdFx0aW5zdC5pbnB1dC52YWwoIGRhdGVTdHIgKTtcblx0XHR9XG5cdFx0dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKCBpbnN0ICk7XG5cblx0XHRvblNlbGVjdCA9IHRoaXMuX2dldCggaW5zdCwgXCJvblNlbGVjdFwiICk7XG5cdFx0aWYgKCBvblNlbGVjdCApIHtcblx0XHRcdG9uU2VsZWN0LmFwcGx5KCAoIGluc3QuaW5wdXQgPyBpbnN0LmlucHV0WyAwIF0gOiBudWxsICksIFsgZGF0ZVN0ciwgaW5zdCBdICk7ICAvLyB0cmlnZ2VyIGN1c3RvbSBjYWxsYmFja1xuXHRcdH0gZWxzZSBpZiAoIGluc3QuaW5wdXQgKSB7XG5cdFx0XHRpbnN0LmlucHV0LnRyaWdnZXIoIFwiY2hhbmdlXCIgKTsgLy8gZmlyZSB0aGUgY2hhbmdlIGV2ZW50XG5cdFx0fVxuXG5cdFx0aWYgKCBpbnN0LmlubGluZSApIHtcblx0XHRcdHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoIGluc3QgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdHRoaXMuX2xhc3RJbnB1dCA9IGluc3QuaW5wdXRbIDAgXTtcblx0XHRcdGlmICggdHlwZW9mKCBpbnN0LmlucHV0WyAwIF0gKSAhPT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0aW5zdC5pbnB1dC50cmlnZ2VyKCBcImZvY3VzXCIgKTsgLy8gcmVzdG9yZSBmb2N1c1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0LyogVXBkYXRlIGFueSBhbHRlcm5hdGUgZmllbGQgdG8gc3luY2hyb25pc2Ugd2l0aCB0aGUgbWFpbiBmaWVsZC4gKi9cblx0X3VwZGF0ZUFsdGVybmF0ZTogZnVuY3Rpb24oIGluc3QgKSB7XG5cdFx0dmFyIGFsdEZvcm1hdCwgZGF0ZSwgZGF0ZVN0cixcblx0XHRcdGFsdEZpZWxkID0gdGhpcy5fZ2V0KCBpbnN0LCBcImFsdEZpZWxkXCIgKTtcblxuXHRcdGlmICggYWx0RmllbGQgKSB7IC8vIHVwZGF0ZSBhbHRlcm5hdGUgZmllbGQgdG9vXG5cdFx0XHRhbHRGb3JtYXQgPSB0aGlzLl9nZXQoIGluc3QsIFwiYWx0Rm9ybWF0XCIgKSB8fCB0aGlzLl9nZXQoIGluc3QsIFwiZGF0ZUZvcm1hdFwiICk7XG5cdFx0XHRkYXRlID0gdGhpcy5fZ2V0RGF0ZSggaW5zdCApO1xuXHRcdFx0ZGF0ZVN0ciA9IHRoaXMuZm9ybWF0RGF0ZSggYWx0Rm9ybWF0LCBkYXRlLCB0aGlzLl9nZXRGb3JtYXRDb25maWcoIGluc3QgKSApO1xuXHRcdFx0JCggYWx0RmllbGQgKS52YWwoIGRhdGVTdHIgKTtcblx0XHR9XG5cdH0sXG5cblx0LyogU2V0IGFzIGJlZm9yZVNob3dEYXkgZnVuY3Rpb24gdG8gcHJldmVudCBzZWxlY3Rpb24gb2Ygd2Vla2VuZHMuXG5cdCAqIEBwYXJhbSAgZGF0ZSAgRGF0ZSAtIHRoZSBkYXRlIHRvIGN1c3RvbWlzZVxuXHQgKiBAcmV0dXJuIFtib29sZWFuLCBzdHJpbmddIC0gaXMgdGhpcyBkYXRlIHNlbGVjdGFibGU/LCB3aGF0IGlzIGl0cyBDU1MgY2xhc3M/XG5cdCAqL1xuXHRub1dlZWtlbmRzOiBmdW5jdGlvbiggZGF0ZSApIHtcblx0XHR2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcblx0XHRyZXR1cm4gWyAoIGRheSA+IDAgJiYgZGF5IDwgNiApLCBcIlwiIF07XG5cdH0sXG5cblx0LyogU2V0IGFzIGNhbGN1bGF0ZVdlZWsgdG8gZGV0ZXJtaW5lIHRoZSB3ZWVrIG9mIHRoZSB5ZWFyIGJhc2VkIG9uIHRoZSBJU08gODYwMSBkZWZpbml0aW9uLlxuXHQgKiBAcGFyYW0gIGRhdGUgIERhdGUgLSB0aGUgZGF0ZSB0byBnZXQgdGhlIHdlZWsgZm9yXG5cdCAqIEByZXR1cm4gIG51bWJlciAtIHRoZSBudW1iZXIgb2YgdGhlIHdlZWsgd2l0aGluIHRoZSB5ZWFyIHRoYXQgY29udGFpbnMgdGhpcyBkYXRlXG5cdCAqL1xuXHRpc284NjAxV2VlazogZnVuY3Rpb24oIGRhdGUgKSB7XG5cdFx0dmFyIHRpbWUsXG5cdFx0XHRjaGVja0RhdGUgPSBuZXcgRGF0ZSggZGF0ZS5nZXRUaW1lKCkgKTtcblxuXHRcdC8vIEZpbmQgVGh1cnNkYXkgb2YgdGhpcyB3ZWVrIHN0YXJ0aW5nIG9uIE1vbmRheVxuXHRcdGNoZWNrRGF0ZS5zZXREYXRlKCBjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtICggY2hlY2tEYXRlLmdldERheSgpIHx8IDcgKSApO1xuXG5cdFx0dGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7XG5cdFx0Y2hlY2tEYXRlLnNldE1vbnRoKCAwICk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuXHRcdGNoZWNrRGF0ZS5zZXREYXRlKCAxICk7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucm91bmQoICggdGltZSAtIGNoZWNrRGF0ZSApIC8gODY0MDAwMDAgKSAvIDcgKSArIDE7XG5cdH0sXG5cblx0LyogUGFyc2UgYSBzdHJpbmcgdmFsdWUgaW50byBhIGRhdGUgb2JqZWN0LlxuXHQgKiBTZWUgZm9ybWF0RGF0ZSBiZWxvdyBmb3IgdGhlIHBvc3NpYmxlIGZvcm1hdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSAgZm9ybWF0IHN0cmluZyAtIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIGRhdGVcblx0ICogQHBhcmFtICB2YWx1ZSBzdHJpbmcgLSB0aGUgZGF0ZSBpbiB0aGUgYWJvdmUgZm9ybWF0XG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgT2JqZWN0IC0gYXR0cmlidXRlcyBpbmNsdWRlOlxuXHQgKlx0XHRcdFx0XHRzaG9ydFllYXJDdXRvZmYgIG51bWJlciAtIHRoZSBjdXRvZmYgeWVhciBmb3IgZGV0ZXJtaW5pbmcgdGhlIGNlbnR1cnkgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRkYXlOYW1lc1Nob3J0XHRzdHJpbmdbN10gLSBhYmJyZXZpYXRlZCBuYW1lcyBvZiB0aGUgZGF5cyBmcm9tIFN1bmRheSAob3B0aW9uYWwpXG5cdCAqXHRcdFx0XHRcdGRheU5hbWVzXHRcdHN0cmluZ1s3XSAtIG5hbWVzIG9mIHRoZSBkYXlzIGZyb20gU3VuZGF5IChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0bW9udGhOYW1lc1Nob3J0IHN0cmluZ1sxMl0gLSBhYmJyZXZpYXRlZCBuYW1lcyBvZiB0aGUgbW9udGhzIChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0bW9udGhOYW1lc1x0XHRzdHJpbmdbMTJdIC0gbmFtZXMgb2YgdGhlIG1vbnRocyAob3B0aW9uYWwpXG5cdCAqIEByZXR1cm4gIERhdGUgLSB0aGUgZXh0cmFjdGVkIGRhdGUgdmFsdWUgb3IgbnVsbCBpZiB2YWx1ZSBpcyBibGFua1xuXHQgKi9cblx0cGFyc2VEYXRlOiBmdW5jdGlvbiggZm9ybWF0LCB2YWx1ZSwgc2V0dGluZ3MgKSB7XG5cdFx0aWYgKCBmb3JtYXQgPT0gbnVsbCB8fCB2YWx1ZSA9PSBudWxsICkge1xuXHRcdFx0dGhyb3cgXCJJbnZhbGlkIGFyZ3VtZW50c1wiO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gKCB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyB2YWx1ZS50b1N0cmluZygpIDogdmFsdWUgKyBcIlwiICk7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHZhciBpRm9ybWF0LCBkaW0sIGV4dHJhLFxuXHRcdFx0aVZhbHVlID0gMCxcblx0XHRcdHNob3J0WWVhckN1dG9mZlRlbXAgPSAoIHNldHRpbmdzID8gc2V0dGluZ3Muc2hvcnRZZWFyQ3V0b2ZmIDogbnVsbCApIHx8IHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixcblx0XHRcdHNob3J0WWVhckN1dG9mZiA9ICggdHlwZW9mIHNob3J0WWVhckN1dG9mZlRlbXAgIT09IFwic3RyaW5nXCIgPyBzaG9ydFllYXJDdXRvZmZUZW1wIDpcblx0XHRcdFx0bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICUgMTAwICsgcGFyc2VJbnQoIHNob3J0WWVhckN1dG9mZlRlbXAsIDEwICkgKSxcblx0XHRcdGRheU5hbWVzU2hvcnQgPSAoIHNldHRpbmdzID8gc2V0dGluZ3MuZGF5TmFtZXNTaG9ydCA6IG51bGwgKSB8fCB0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LFxuXHRcdFx0ZGF5TmFtZXMgPSAoIHNldHRpbmdzID8gc2V0dGluZ3MuZGF5TmFtZXMgOiBudWxsICkgfHwgdGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsXG5cdFx0XHRtb250aE5hbWVzU2hvcnQgPSAoIHNldHRpbmdzID8gc2V0dGluZ3MubW9udGhOYW1lc1Nob3J0IDogbnVsbCApIHx8IHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxcblx0XHRcdG1vbnRoTmFtZXMgPSAoIHNldHRpbmdzID8gc2V0dGluZ3MubW9udGhOYW1lcyA6IG51bGwgKSB8fCB0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLFxuXHRcdFx0eWVhciA9IC0xLFxuXHRcdFx0bW9udGggPSAtMSxcblx0XHRcdGRheSA9IC0xLFxuXHRcdFx0ZG95ID0gLTEsXG5cdFx0XHRsaXRlcmFsID0gZmFsc2UsXG5cdFx0XHRkYXRlLFxuXG5cdFx0XHQvLyBDaGVjayB3aGV0aGVyIGEgZm9ybWF0IGNoYXJhY3RlciBpcyBkb3VibGVkXG5cdFx0XHRsb29rQWhlYWQgPSBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRcdHZhciBtYXRjaGVzID0gKCBpRm9ybWF0ICsgMSA8IGZvcm1hdC5sZW5ndGggJiYgZm9ybWF0LmNoYXJBdCggaUZvcm1hdCArIDEgKSA9PT0gbWF0Y2ggKTtcblx0XHRcdFx0aWYgKCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdGlGb3JtYXQrKztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2hlcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIEV4dHJhY3QgYSBudW1iZXIgZnJvbSB0aGUgc3RyaW5nIHZhbHVlXG5cdFx0XHRnZXROdW1iZXIgPSBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRcdHZhciBpc0RvdWJsZWQgPSBsb29rQWhlYWQoIG1hdGNoICksXG5cdFx0XHRcdFx0c2l6ZSA9ICggbWF0Y2ggPT09IFwiQFwiID8gMTQgOiAoIG1hdGNoID09PSBcIiFcIiA/IDIwIDpcblx0XHRcdFx0XHQoIG1hdGNoID09PSBcInlcIiAmJiBpc0RvdWJsZWQgPyA0IDogKCBtYXRjaCA9PT0gXCJvXCIgPyAzIDogMiApICkgKSApLFxuXHRcdFx0XHRcdG1pblNpemUgPSAoIG1hdGNoID09PSBcInlcIiA/IHNpemUgOiAxICksXG5cdFx0XHRcdFx0ZGlnaXRzID0gbmV3IFJlZ0V4cCggXCJeXFxcXGR7XCIgKyBtaW5TaXplICsgXCIsXCIgKyBzaXplICsgXCJ9XCIgKSxcblx0XHRcdFx0XHRudW0gPSB2YWx1ZS5zdWJzdHJpbmcoIGlWYWx1ZSApLm1hdGNoKCBkaWdpdHMgKTtcblx0XHRcdFx0aWYgKCAhbnVtICkge1xuXHRcdFx0XHRcdHRocm93IFwiTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gXCIgKyBpVmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aVZhbHVlICs9IG51bVsgMCBdLmxlbmd0aDtcblx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCBudW1bIDAgXSwgMTAgKTtcblx0XHRcdH0sXG5cblx0XHRcdC8vIEV4dHJhY3QgYSBuYW1lIGZyb20gdGhlIHN0cmluZyB2YWx1ZSBhbmQgY29udmVydCB0byBhbiBpbmRleFxuXHRcdFx0Z2V0TmFtZSA9IGZ1bmN0aW9uKCBtYXRjaCwgc2hvcnROYW1lcywgbG9uZ05hbWVzICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAtMSxcblx0XHRcdFx0XHRuYW1lcyA9ICQubWFwKCBsb29rQWhlYWQoIG1hdGNoICkgPyBsb25nTmFtZXMgOiBzaG9ydE5hbWVzLCBmdW5jdGlvbiggdiwgayApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIFsgaywgdiBdIF07XG5cdFx0XHRcdFx0fSApLnNvcnQoIGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIC0oIGFbIDEgXS5sZW5ndGggLSBiWyAxIF0ubGVuZ3RoICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCQuZWFjaCggbmFtZXMsIGZ1bmN0aW9uKCBpLCBwYWlyICkge1xuXHRcdFx0XHRcdHZhciBuYW1lID0gcGFpclsgMSBdO1xuXHRcdFx0XHRcdGlmICggdmFsdWUuc3Vic3RyKCBpVmFsdWUsIG5hbWUubGVuZ3RoICkudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0aW5kZXggPSBwYWlyWyAwIF07XG5cdFx0XHRcdFx0XHRpVmFsdWUgKz0gbmFtZS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdGlmICggaW5kZXggIT09IC0xICkge1xuXHRcdFx0XHRcdHJldHVybiBpbmRleCArIDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgXCJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gXCIgKyBpVmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIENvbmZpcm0gdGhhdCBhIGxpdGVyYWwgY2hhcmFjdGVyIG1hdGNoZXMgdGhlIHN0cmluZyB2YWx1ZVxuXHRcdFx0Y2hlY2tMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdmFsdWUuY2hhckF0KCBpVmFsdWUgKSAhPT0gZm9ybWF0LmNoYXJBdCggaUZvcm1hdCApICkge1xuXHRcdFx0XHRcdHRocm93IFwiVW5leHBlY3RlZCBsaXRlcmFsIGF0IHBvc2l0aW9uIFwiICsgaVZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlWYWx1ZSsrO1xuXHRcdFx0fTtcblxuXHRcdGZvciAoIGlGb3JtYXQgPSAwOyBpRm9ybWF0IDwgZm9ybWF0Lmxlbmd0aDsgaUZvcm1hdCsrICkge1xuXHRcdFx0aWYgKCBsaXRlcmFsICkge1xuXHRcdFx0XHRpZiAoIGZvcm1hdC5jaGFyQXQoIGlGb3JtYXQgKSA9PT0gXCInXCIgJiYgIWxvb2tBaGVhZCggXCInXCIgKSApIHtcblx0XHRcdFx0XHRsaXRlcmFsID0gZmFsc2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2hlY2tMaXRlcmFsKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN3aXRjaCAoIGZvcm1hdC5jaGFyQXQoIGlGb3JtYXQgKSApIHtcblx0XHRcdFx0XHRjYXNlIFwiZFwiOlxuXHRcdFx0XHRcdFx0ZGF5ID0gZ2V0TnVtYmVyKCBcImRcIiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIkRcIjpcblx0XHRcdFx0XHRcdGdldE5hbWUoIFwiRFwiLCBkYXlOYW1lc1Nob3J0LCBkYXlOYW1lcyApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIm9cIjpcblx0XHRcdFx0XHRcdGRveSA9IGdldE51bWJlciggXCJvXCIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJtXCI6XG5cdFx0XHRcdFx0XHRtb250aCA9IGdldE51bWJlciggXCJtXCIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJNXCI6XG5cdFx0XHRcdFx0XHRtb250aCA9IGdldE5hbWUoIFwiTVwiLCBtb250aE5hbWVzU2hvcnQsIG1vbnRoTmFtZXMgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJ5XCI6XG5cdFx0XHRcdFx0XHR5ZWFyID0gZ2V0TnVtYmVyKCBcInlcIiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIkBcIjpcblx0XHRcdFx0XHRcdGRhdGUgPSBuZXcgRGF0ZSggZ2V0TnVtYmVyKCBcIkBcIiApICk7XG5cdFx0XHRcdFx0XHR5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRcdFx0bW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuXHRcdFx0XHRcdFx0ZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiIVwiOlxuXHRcdFx0XHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKCAoIGdldE51bWJlciggXCIhXCIgKSAtIHRoaXMuX3RpY2tzVG8xOTcwICkgLyAxMDAwMCApO1xuXHRcdFx0XHRcdFx0eWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0XHRcdG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcblx0XHRcdFx0XHRcdGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIidcIjpcblx0XHRcdFx0XHRcdGlmICggbG9va0FoZWFkKCBcIidcIiApICkge1xuXHRcdFx0XHRcdFx0XHRjaGVja0xpdGVyYWwoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGxpdGVyYWwgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdGNoZWNrTGl0ZXJhbCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBpVmFsdWUgPCB2YWx1ZS5sZW5ndGggKSB7XG5cdFx0XHRleHRyYSA9IHZhbHVlLnN1YnN0ciggaVZhbHVlICk7XG5cdFx0XHRpZiAoICEvXlxccysvLnRlc3QoIGV4dHJhICkgKSB7XG5cdFx0XHRcdHRocm93IFwiRXh0cmEvdW5wYXJzZWQgY2hhcmFjdGVycyBmb3VuZCBpbiBkYXRlOiBcIiArIGV4dHJhO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggeWVhciA9PT0gLTEgKSB7XG5cdFx0XHR5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXHRcdH0gZWxzZSBpZiAoIHllYXIgPCAxMDAgKSB7XG5cdFx0XHR5ZWFyICs9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAlIDEwMCArXG5cdFx0XHRcdCggeWVhciA8PSBzaG9ydFllYXJDdXRvZmYgPyAwIDogLTEwMCApO1xuXHRcdH1cblxuXHRcdGlmICggZG95ID4gLTEgKSB7XG5cdFx0XHRtb250aCA9IDE7XG5cdFx0XHRkYXkgPSBkb3k7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGRpbSA9IHRoaXMuX2dldERheXNJbk1vbnRoKCB5ZWFyLCBtb250aCAtIDEgKTtcblx0XHRcdFx0aWYgKCBkYXkgPD0gZGltICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1vbnRoKys7XG5cdFx0XHRcdGRheSAtPSBkaW07XG5cdFx0XHR9IHdoaWxlICggdHJ1ZSApO1xuXHRcdH1cblxuXHRcdGRhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIHllYXIsIG1vbnRoIC0gMSwgZGF5ICkgKTtcblx0XHRpZiAoIGRhdGUuZ2V0RnVsbFllYXIoKSAhPT0geWVhciB8fCBkYXRlLmdldE1vbnRoKCkgKyAxICE9PSBtb250aCB8fCBkYXRlLmdldERhdGUoKSAhPT0gZGF5ICkge1xuXHRcdFx0dGhyb3cgXCJJbnZhbGlkIGRhdGVcIjsgLy8gRS5nLiAzMS8wMi8wMFxuXHRcdH1cblx0XHRyZXR1cm4gZGF0ZTtcblx0fSxcblxuXHQvKiBTdGFuZGFyZCBkYXRlIGZvcm1hdHMuICovXG5cdEFUT006IFwieXktbW0tZGRcIiwgLy8gUkZDIDMzMzkgKElTTyA4NjAxKVxuXHRDT09LSUU6IFwiRCwgZGQgTSB5eVwiLFxuXHRJU09fODYwMTogXCJ5eS1tbS1kZFwiLFxuXHRSRkNfODIyOiBcIkQsIGQgTSB5XCIsXG5cdFJGQ184NTA6IFwiREQsIGRkLU0teVwiLFxuXHRSRkNfMTAzNjogXCJELCBkIE0geVwiLFxuXHRSRkNfMTEyMzogXCJELCBkIE0geXlcIixcblx0UkZDXzI4MjI6IFwiRCwgZCBNIHl5XCIsXG5cdFJTUzogXCJELCBkIE0geVwiLCAvLyBSRkMgODIyXG5cdFRJQ0tTOiBcIiFcIixcblx0VElNRVNUQU1QOiBcIkBcIixcblx0VzNDOiBcInl5LW1tLWRkXCIsIC8vIElTTyA4NjAxXG5cblx0X3RpY2tzVG8xOTcwOiAoICggKCAxOTcwIC0gMSApICogMzY1ICsgTWF0aC5mbG9vciggMTk3MCAvIDQgKSAtIE1hdGguZmxvb3IoIDE5NzAgLyAxMDAgKSArXG5cdFx0TWF0aC5mbG9vciggMTk3MCAvIDQwMCApICkgKiAyNCAqIDYwICogNjAgKiAxMDAwMDAwMCApLFxuXG5cdC8qIEZvcm1hdCBhIGRhdGUgb2JqZWN0IGludG8gYSBzdHJpbmcgdmFsdWUuXG5cdCAqIFRoZSBmb3JtYXQgY2FuIGJlIGNvbWJpbmF0aW9ucyBvZiB0aGUgZm9sbG93aW5nOlxuXHQgKiBkICAtIGRheSBvZiBtb250aCAobm8gbGVhZGluZyB6ZXJvKVxuXHQgKiBkZCAtIGRheSBvZiBtb250aCAodHdvIGRpZ2l0KVxuXHQgKiBvICAtIGRheSBvZiB5ZWFyIChubyBsZWFkaW5nIHplcm9zKVxuXHQgKiBvbyAtIGRheSBvZiB5ZWFyICh0aHJlZSBkaWdpdClcblx0ICogRCAgLSBkYXkgbmFtZSBzaG9ydFxuXHQgKiBERCAtIGRheSBuYW1lIGxvbmdcblx0ICogbSAgLSBtb250aCBvZiB5ZWFyIChubyBsZWFkaW5nIHplcm8pXG5cdCAqIG1tIC0gbW9udGggb2YgeWVhciAodHdvIGRpZ2l0KVxuXHQgKiBNICAtIG1vbnRoIG5hbWUgc2hvcnRcblx0ICogTU0gLSBtb250aCBuYW1lIGxvbmdcblx0ICogeSAgLSB5ZWFyICh0d28gZGlnaXQpXG5cdCAqIHl5IC0geWVhciAoZm91ciBkaWdpdClcblx0ICogQCAtIFVuaXggdGltZXN0YW1wIChtcyBzaW5jZSAwMS8wMS8xOTcwKVxuXHQgKiAhIC0gV2luZG93cyB0aWNrcyAoMTAwbnMgc2luY2UgMDEvMDEvMDAwMSlcblx0ICogXCIuLi5cIiAtIGxpdGVyYWwgdGV4dFxuXHQgKiAnJyAtIHNpbmdsZSBxdW90ZVxuXHQgKlxuXHQgKiBAcGFyYW0gIGZvcm1hdCBzdHJpbmcgLSB0aGUgZGVzaXJlZCBmb3JtYXQgb2YgdGhlIGRhdGVcblx0ICogQHBhcmFtICBkYXRlIERhdGUgLSB0aGUgZGF0ZSB2YWx1ZSB0byBmb3JtYXRcblx0ICogQHBhcmFtICBzZXR0aW5ncyBPYmplY3QgLSBhdHRyaWJ1dGVzIGluY2x1ZGU6XG5cdCAqXHRcdFx0XHRcdGRheU5hbWVzU2hvcnRcdHN0cmluZ1s3XSAtIGFiYnJldmlhdGVkIG5hbWVzIG9mIHRoZSBkYXlzIGZyb20gU3VuZGF5IChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0ZGF5TmFtZXNcdFx0c3RyaW5nWzddIC0gbmFtZXMgb2YgdGhlIGRheXMgZnJvbSBTdW5kYXkgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRtb250aE5hbWVzU2hvcnQgc3RyaW5nWzEyXSAtIGFiYnJldmlhdGVkIG5hbWVzIG9mIHRoZSBtb250aHMgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRtb250aE5hbWVzXHRcdHN0cmluZ1sxMl0gLSBuYW1lcyBvZiB0aGUgbW9udGhzIChvcHRpb25hbClcblx0ICogQHJldHVybiAgc3RyaW5nIC0gdGhlIGRhdGUgaW4gdGhlIGFib3ZlIGZvcm1hdFxuXHQgKi9cblx0Zm9ybWF0RGF0ZTogZnVuY3Rpb24oIGZvcm1hdCwgZGF0ZSwgc2V0dGluZ3MgKSB7XG5cdFx0aWYgKCAhZGF0ZSApIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblxuXHRcdHZhciBpRm9ybWF0LFxuXHRcdFx0ZGF5TmFtZXNTaG9ydCA9ICggc2V0dGluZ3MgPyBzZXR0aW5ncy5kYXlOYW1lc1Nob3J0IDogbnVsbCApIHx8IHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsXG5cdFx0XHRkYXlOYW1lcyA9ICggc2V0dGluZ3MgPyBzZXR0aW5ncy5kYXlOYW1lcyA6IG51bGwgKSB8fCB0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxcblx0XHRcdG1vbnRoTmFtZXNTaG9ydCA9ICggc2V0dGluZ3MgPyBzZXR0aW5ncy5tb250aE5hbWVzU2hvcnQgOiBudWxsICkgfHwgdGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LFxuXHRcdFx0bW9udGhOYW1lcyA9ICggc2V0dGluZ3MgPyBzZXR0aW5ncy5tb250aE5hbWVzIDogbnVsbCApIHx8IHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsXG5cblx0XHRcdC8vIENoZWNrIHdoZXRoZXIgYSBmb3JtYXQgY2hhcmFjdGVyIGlzIGRvdWJsZWRcblx0XHRcdGxvb2tBaGVhZCA9IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSAoIGlGb3JtYXQgKyAxIDwgZm9ybWF0Lmxlbmd0aCAmJiBmb3JtYXQuY2hhckF0KCBpRm9ybWF0ICsgMSApID09PSBtYXRjaCApO1xuXHRcdFx0XHRpZiAoIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0aUZvcm1hdCsrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaGVzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9ybWF0IGEgbnVtYmVyLCB3aXRoIGxlYWRpbmcgemVybyBpZiBuZWNlc3Nhcnlcblx0XHRcdGZvcm1hdE51bWJlciA9IGZ1bmN0aW9uKCBtYXRjaCwgdmFsdWUsIGxlbiApIHtcblx0XHRcdFx0dmFyIG51bSA9IFwiXCIgKyB2YWx1ZTtcblx0XHRcdFx0aWYgKCBsb29rQWhlYWQoIG1hdGNoICkgKSB7XG5cdFx0XHRcdFx0d2hpbGUgKCBudW0ubGVuZ3RoIDwgbGVuICkge1xuXHRcdFx0XHRcdFx0bnVtID0gXCIwXCIgKyBudW07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBudW07XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3JtYXQgYSBuYW1lLCBzaG9ydCBvciBsb25nIGFzIHJlcXVlc3RlZFxuXHRcdFx0Zm9ybWF0TmFtZSA9IGZ1bmN0aW9uKCBtYXRjaCwgdmFsdWUsIHNob3J0TmFtZXMsIGxvbmdOYW1lcyApIHtcblx0XHRcdFx0cmV0dXJuICggbG9va0FoZWFkKCBtYXRjaCApID8gbG9uZ05hbWVzWyB2YWx1ZSBdIDogc2hvcnROYW1lc1sgdmFsdWUgXSApO1xuXHRcdFx0fSxcblx0XHRcdG91dHB1dCA9IFwiXCIsXG5cdFx0XHRsaXRlcmFsID0gZmFsc2U7XG5cblx0XHRpZiAoIGRhdGUgKSB7XG5cdFx0XHRmb3IgKCBpRm9ybWF0ID0gMDsgaUZvcm1hdCA8IGZvcm1hdC5sZW5ndGg7IGlGb3JtYXQrKyApIHtcblx0XHRcdFx0aWYgKCBsaXRlcmFsICkge1xuXHRcdFx0XHRcdGlmICggZm9ybWF0LmNoYXJBdCggaUZvcm1hdCApID09PSBcIidcIiAmJiAhbG9va0FoZWFkKCBcIidcIiApICkge1xuXHRcdFx0XHRcdFx0bGl0ZXJhbCA9IGZhbHNlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRvdXRwdXQgKz0gZm9ybWF0LmNoYXJBdCggaUZvcm1hdCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzd2l0Y2ggKCBmb3JtYXQuY2hhckF0KCBpRm9ybWF0ICkgKSB7XG5cdFx0XHRcdFx0XHRjYXNlIFwiZFwiOlxuXHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gZm9ybWF0TnVtYmVyKCBcImRcIiwgZGF0ZS5nZXREYXRlKCksIDIgKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiRFwiOlxuXHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gZm9ybWF0TmFtZSggXCJEXCIsIGRhdGUuZ2V0RGF5KCksIGRheU5hbWVzU2hvcnQsIGRheU5hbWVzICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIm9cIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdE51bWJlciggXCJvXCIsXG5cdFx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZCggKCBuZXcgRGF0ZSggZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpICkuZ2V0VGltZSgpIC0gbmV3IERhdGUoIGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMCApLmdldFRpbWUoKSApIC8gODY0MDAwMDAgKSwgMyApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJtXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXROdW1iZXIoIFwibVwiLCBkYXRlLmdldE1vbnRoKCkgKyAxLCAyICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIk1cIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdE5hbWUoIFwiTVwiLCBkYXRlLmdldE1vbnRoKCksIG1vbnRoTmFtZXNTaG9ydCwgbW9udGhOYW1lcyApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJ5XCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSAoIGxvb2tBaGVhZCggXCJ5XCIgKSA/IGRhdGUuZ2V0RnVsbFllYXIoKSA6XG5cdFx0XHRcdFx0XHRcdFx0KCBkYXRlLmdldEZ1bGxZZWFyKCkgJSAxMDAgPCAxMCA/IFwiMFwiIDogXCJcIiApICsgZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIkBcIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGRhdGUuZ2V0VGltZSgpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCIhXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBkYXRlLmdldFRpbWUoKSAqIDEwMDAwICsgdGhpcy5fdGlja3NUbzE5NzA7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIidcIjpcblx0XHRcdFx0XHRcdFx0aWYgKCBsb29rQWhlYWQoIFwiJ1wiICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IFwiJ1wiO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGxpdGVyYWwgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdC5jaGFyQXQoIGlGb3JtYXQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fSxcblxuXHQvKiBFeHRyYWN0IGFsbCBwb3NzaWJsZSBjaGFyYWN0ZXJzIGZyb20gdGhlIGRhdGUgZm9ybWF0LiAqL1xuXHRfcG9zc2libGVDaGFyczogZnVuY3Rpb24oIGZvcm1hdCApIHtcblx0XHR2YXIgaUZvcm1hdCxcblx0XHRcdGNoYXJzID0gXCJcIixcblx0XHRcdGxpdGVyYWwgPSBmYWxzZSxcblxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciBhIGZvcm1hdCBjaGFyYWN0ZXIgaXMgZG91YmxlZFxuXHRcdFx0bG9va0FoZWFkID0gZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0XHR2YXIgbWF0Y2hlcyA9ICggaUZvcm1hdCArIDEgPCBmb3JtYXQubGVuZ3RoICYmIGZvcm1hdC5jaGFyQXQoIGlGb3JtYXQgKyAxICkgPT09IG1hdGNoICk7XG5cdFx0XHRcdGlmICggbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRpRm9ybWF0Kys7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoZXM7XG5cdFx0XHR9O1xuXG5cdFx0Zm9yICggaUZvcm1hdCA9IDA7IGlGb3JtYXQgPCBmb3JtYXQubGVuZ3RoOyBpRm9ybWF0KysgKSB7XG5cdFx0XHRpZiAoIGxpdGVyYWwgKSB7XG5cdFx0XHRcdGlmICggZm9ybWF0LmNoYXJBdCggaUZvcm1hdCApID09PSBcIidcIiAmJiAhbG9va0FoZWFkKCBcIidcIiApICkge1xuXHRcdFx0XHRcdGxpdGVyYWwgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjaGFycyArPSBmb3JtYXQuY2hhckF0KCBpRm9ybWF0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN3aXRjaCAoIGZvcm1hdC5jaGFyQXQoIGlGb3JtYXQgKSApIHtcblx0XHRcdFx0XHRjYXNlIFwiZFwiOiBjYXNlIFwibVwiOiBjYXNlIFwieVwiOiBjYXNlIFwiQFwiOlxuXHRcdFx0XHRcdFx0Y2hhcnMgKz0gXCIwMTIzNDU2Nzg5XCI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiRFwiOiBjYXNlIFwiTVwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7IC8vIEFjY2VwdCBhbnl0aGluZ1xuXHRcdFx0XHRcdGNhc2UgXCInXCI6XG5cdFx0XHRcdFx0XHRpZiAoIGxvb2tBaGVhZCggXCInXCIgKSApIHtcblx0XHRcdFx0XHRcdFx0Y2hhcnMgKz0gXCInXCI7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRsaXRlcmFsID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjaGFycyArPSBmb3JtYXQuY2hhckF0KCBpRm9ybWF0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNoYXJzO1xuXHR9LFxuXG5cdC8qIEdldCBhIHNldHRpbmcgdmFsdWUsIGRlZmF1bHRpbmcgaWYgbmVjZXNzYXJ5LiAqL1xuXHRfZ2V0OiBmdW5jdGlvbiggaW5zdCwgbmFtZSApIHtcblx0XHRyZXR1cm4gaW5zdC5zZXR0aW5nc1sgbmFtZSBdICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0aW5zdC5zZXR0aW5nc1sgbmFtZSBdIDogdGhpcy5fZGVmYXVsdHNbIG5hbWUgXTtcblx0fSxcblxuXHQvKiBQYXJzZSBleGlzdGluZyBkYXRlIGFuZCBpbml0aWFsaXNlIGRhdGUgcGlja2VyLiAqL1xuXHRfc2V0RGF0ZUZyb21GaWVsZDogZnVuY3Rpb24oIGluc3QsIG5vRGVmYXVsdCApIHtcblx0XHRpZiAoIGluc3QuaW5wdXQudmFsKCkgPT09IGluc3QubGFzdFZhbCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgZGF0ZUZvcm1hdCA9IHRoaXMuX2dldCggaW5zdCwgXCJkYXRlRm9ybWF0XCIgKSxcblx0XHRcdGRhdGVzID0gaW5zdC5sYXN0VmFsID0gaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQudmFsKCkgOiBudWxsLFxuXHRcdFx0ZGVmYXVsdERhdGUgPSB0aGlzLl9nZXREZWZhdWx0RGF0ZSggaW5zdCApLFxuXHRcdFx0ZGF0ZSA9IGRlZmF1bHREYXRlLFxuXHRcdFx0c2V0dGluZ3MgPSB0aGlzLl9nZXRGb3JtYXRDb25maWcoIGluc3QgKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRkYXRlID0gdGhpcy5wYXJzZURhdGUoIGRhdGVGb3JtYXQsIGRhdGVzLCBzZXR0aW5ncyApIHx8IGRlZmF1bHREYXRlO1xuXHRcdH0gY2F0Y2ggKCBldmVudCApIHtcblx0XHRcdGRhdGVzID0gKCBub0RlZmF1bHQgPyBcIlwiIDogZGF0ZXMgKTtcblx0XHR9XG5cdFx0aW5zdC5zZWxlY3RlZERheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXHRcdGluc3QuZHJhd01vbnRoID0gaW5zdC5zZWxlY3RlZE1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuXHRcdGluc3QuZHJhd1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRpbnN0LmN1cnJlbnREYXkgPSAoIGRhdGVzID8gZGF0ZS5nZXREYXRlKCkgOiAwICk7XG5cdFx0aW5zdC5jdXJyZW50TW9udGggPSAoIGRhdGVzID8gZGF0ZS5nZXRNb250aCgpIDogMCApO1xuXHRcdGluc3QuY3VycmVudFllYXIgPSAoIGRhdGVzID8gZGF0ZS5nZXRGdWxsWWVhcigpIDogMCApO1xuXHRcdHRoaXMuX2FkanVzdEluc3REYXRlKCBpbnN0ICk7XG5cdH0sXG5cblx0LyogUmV0cmlldmUgdGhlIGRlZmF1bHQgZGF0ZSBzaG93biBvbiBvcGVuaW5nLiAqL1xuXHRfZ2V0RGVmYXVsdERhdGU6IGZ1bmN0aW9uKCBpbnN0ICkge1xuXHRcdHJldHVybiB0aGlzLl9yZXN0cmljdE1pbk1heCggaW5zdCxcblx0XHRcdHRoaXMuX2RldGVybWluZURhdGUoIGluc3QsIHRoaXMuX2dldCggaW5zdCwgXCJkZWZhdWx0RGF0ZVwiICksIG5ldyBEYXRlKCkgKSApO1xuXHR9LFxuXG5cdC8qIEEgZGF0ZSBtYXkgYmUgc3BlY2lmaWVkIGFzIGFuIGV4YWN0IHZhbHVlIG9yIGEgcmVsYXRpdmUgb25lLiAqL1xuXHRfZGV0ZXJtaW5lRGF0ZTogZnVuY3Rpb24oIGluc3QsIGRhdGUsIGRlZmF1bHREYXRlICkge1xuXHRcdHZhciBvZmZzZXROdW1lcmljID0gZnVuY3Rpb24oIG9mZnNldCApIHtcblx0XHRcdFx0dmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRkYXRlLnNldERhdGUoIGRhdGUuZ2V0RGF0ZSgpICsgb2Zmc2V0ICk7XG5cdFx0XHRcdHJldHVybiBkYXRlO1xuXHRcdFx0fSxcblx0XHRcdG9mZnNldFN0cmluZyA9IGZ1bmN0aW9uKCBvZmZzZXQgKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmV0dXJuICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoICQuZGF0ZXBpY2tlci5fZ2V0KCBpbnN0LCBcImRhdGVGb3JtYXRcIiApLFxuXHRcdFx0XHRcdFx0b2Zmc2V0LCAkLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyggaW5zdCApICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gSWdub3JlXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgZGF0ZSA9ICggb2Zmc2V0LnRvTG93ZXJDYXNlKCkubWF0Y2goIC9eYy8gKSA/XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9nZXREYXRlKCBpbnN0ICkgOiBudWxsICkgfHwgbmV3IERhdGUoKSxcblx0XHRcdFx0XHR5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpLFxuXHRcdFx0XHRcdG1vbnRoID0gZGF0ZS5nZXRNb250aCgpLFxuXHRcdFx0XHRcdGRheSA9IGRhdGUuZ2V0RGF0ZSgpLFxuXHRcdFx0XHRcdHBhdHRlcm4gPSAvKFsrXFwtXT9bMC05XSspXFxzKihkfER8d3xXfG18TXx5fFkpPy9nLFxuXHRcdFx0XHRcdG1hdGNoZXMgPSBwYXR0ZXJuLmV4ZWMoIG9mZnNldCApO1xuXG5cdFx0XHRcdHdoaWxlICggbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRzd2l0Y2ggKCBtYXRjaGVzWyAyIF0gfHwgXCJkXCIgKSB7XG5cdFx0XHRcdFx0XHRjYXNlIFwiZFwiIDogY2FzZSBcIkRcIiA6XG5cdFx0XHRcdFx0XHRcdGRheSArPSBwYXJzZUludCggbWF0Y2hlc1sgMSBdLCAxMCApOyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJ3XCIgOiBjYXNlIFwiV1wiIDpcblx0XHRcdFx0XHRcdFx0ZGF5ICs9IHBhcnNlSW50KCBtYXRjaGVzWyAxIF0sIDEwICkgKiA3OyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJtXCIgOiBjYXNlIFwiTVwiIDpcblx0XHRcdFx0XHRcdFx0bW9udGggKz0gcGFyc2VJbnQoIG1hdGNoZXNbIDEgXSwgMTAgKTtcblx0XHRcdFx0XHRcdFx0ZGF5ID0gTWF0aC5taW4oIGRheSwgJC5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aCggeWVhciwgbW9udGggKSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJ5XCI6IGNhc2UgXCJZXCIgOlxuXHRcdFx0XHRcdFx0XHR5ZWFyICs9IHBhcnNlSW50KCBtYXRjaGVzWyAxIF0sIDEwICk7XG5cdFx0XHRcdFx0XHRcdGRheSA9IE1hdGgubWluKCBkYXksICQuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoIHllYXIsIG1vbnRoICkgKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1hdGNoZXMgPSBwYXR0ZXJuLmV4ZWMoIG9mZnNldCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuZXcgRGF0ZSggeWVhciwgbW9udGgsIGRheSApO1xuXHRcdFx0fSxcblx0XHRcdG5ld0RhdGUgPSAoIGRhdGUgPT0gbnVsbCB8fCBkYXRlID09PSBcIlwiID8gZGVmYXVsdERhdGUgOiAoIHR5cGVvZiBkYXRlID09PSBcInN0cmluZ1wiID8gb2Zmc2V0U3RyaW5nKCBkYXRlICkgOlxuXHRcdFx0XHQoIHR5cGVvZiBkYXRlID09PSBcIm51bWJlclwiID8gKCBpc05hTiggZGF0ZSApID8gZGVmYXVsdERhdGUgOiBvZmZzZXROdW1lcmljKCBkYXRlICkgKSA6IG5ldyBEYXRlKCBkYXRlLmdldFRpbWUoKSApICkgKSApO1xuXG5cdFx0bmV3RGF0ZSA9ICggbmV3RGF0ZSAmJiBuZXdEYXRlLnRvU3RyaW5nKCkgPT09IFwiSW52YWxpZCBEYXRlXCIgPyBkZWZhdWx0RGF0ZSA6IG5ld0RhdGUgKTtcblx0XHRpZiAoIG5ld0RhdGUgKSB7XG5cdFx0XHRuZXdEYXRlLnNldEhvdXJzKCAwICk7XG5cdFx0XHRuZXdEYXRlLnNldE1pbnV0ZXMoIDAgKTtcblx0XHRcdG5ld0RhdGUuc2V0U2Vjb25kcyggMCApO1xuXHRcdFx0bmV3RGF0ZS5zZXRNaWxsaXNlY29uZHMoIDAgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KCBuZXdEYXRlICk7XG5cdH0sXG5cblx0LyogSGFuZGxlIHN3aXRjaCB0by9mcm9tIGRheWxpZ2h0IHNhdmluZy5cblx0ICogSG91cnMgbWF5IGJlIG5vbi16ZXJvIG9uIGRheWxpZ2h0IHNhdmluZyBjdXQtb3Zlcjpcblx0ICogPiAxMiB3aGVuIG1pZG5pZ2h0IGNoYW5nZW92ZXIsIGJ1dCB0aGVuIGNhbm5vdCBnZW5lcmF0ZVxuXHQgKiBtaWRuaWdodCBkYXRldGltZSwgc28ganVtcCB0byAxQU0sIG90aGVyd2lzZSByZXNldC5cblx0ICogQHBhcmFtICBkYXRlICAoRGF0ZSkgdGhlIGRhdGUgdG8gY2hlY2tcblx0ICogQHJldHVybiAgKERhdGUpIHRoZSBjb3JyZWN0ZWQgZGF0ZVxuXHQgKi9cblx0X2RheWxpZ2h0U2F2aW5nQWRqdXN0OiBmdW5jdGlvbiggZGF0ZSApIHtcblx0XHRpZiAoICFkYXRlICkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGRhdGUuc2V0SG91cnMoIGRhdGUuZ2V0SG91cnMoKSA+IDEyID8gZGF0ZS5nZXRIb3VycygpICsgMiA6IDAgKTtcblx0XHRyZXR1cm4gZGF0ZTtcblx0fSxcblxuXHQvKiBTZXQgdGhlIGRhdGUocykgZGlyZWN0bHkuICovXG5cdF9zZXREYXRlOiBmdW5jdGlvbiggaW5zdCwgZGF0ZSwgbm9DaGFuZ2UgKSB7XG5cdFx0dmFyIGNsZWFyID0gIWRhdGUsXG5cdFx0XHRvcmlnTW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGgsXG5cdFx0XHRvcmlnWWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyLFxuXHRcdFx0bmV3RGF0ZSA9IHRoaXMuX3Jlc3RyaWN0TWluTWF4KCBpbnN0LCB0aGlzLl9kZXRlcm1pbmVEYXRlKCBpbnN0LCBkYXRlLCBuZXcgRGF0ZSgpICkgKTtcblxuXHRcdGluc3Quc2VsZWN0ZWREYXkgPSBpbnN0LmN1cnJlbnREYXkgPSBuZXdEYXRlLmdldERhdGUoKTtcblx0XHRpbnN0LmRyYXdNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCA9IGluc3QuY3VycmVudE1vbnRoID0gbmV3RGF0ZS5nZXRNb250aCgpO1xuXHRcdGluc3QuZHJhd1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhciA9IGluc3QuY3VycmVudFllYXIgPSBuZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0aWYgKCAoIG9yaWdNb250aCAhPT0gaW5zdC5zZWxlY3RlZE1vbnRoIHx8IG9yaWdZZWFyICE9PSBpbnN0LnNlbGVjdGVkWWVhciApICYmICFub0NoYW5nZSApIHtcblx0XHRcdHRoaXMuX25vdGlmeUNoYW5nZSggaW5zdCApO1xuXHRcdH1cblx0XHR0aGlzLl9hZGp1c3RJbnN0RGF0ZSggaW5zdCApO1xuXHRcdGlmICggaW5zdC5pbnB1dCApIHtcblx0XHRcdGluc3QuaW5wdXQudmFsKCBjbGVhciA/IFwiXCIgOiB0aGlzLl9mb3JtYXREYXRlKCBpbnN0ICkgKTtcblx0XHR9XG5cdH0sXG5cblx0LyogUmV0cmlldmUgdGhlIGRhdGUocykgZGlyZWN0bHkuICovXG5cdF9nZXREYXRlOiBmdW5jdGlvbiggaW5zdCApIHtcblx0XHR2YXIgc3RhcnREYXRlID0gKCAhaW5zdC5jdXJyZW50WWVhciB8fCAoIGluc3QuaW5wdXQgJiYgaW5zdC5pbnB1dC52YWwoKSA9PT0gXCJcIiApID8gbnVsbCA6XG5cdFx0XHR0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoXG5cdFx0XHRpbnN0LmN1cnJlbnRZZWFyLCBpbnN0LmN1cnJlbnRNb250aCwgaW5zdC5jdXJyZW50RGF5ICkgKSApO1xuXHRcdFx0cmV0dXJuIHN0YXJ0RGF0ZTtcblx0fSxcblxuXHQvKiBBdHRhY2ggdGhlIG9ueHh4IGhhbmRsZXJzLiAgVGhlc2UgYXJlIGRlY2xhcmVkIHN0YXRpY2FsbHkgc29cblx0ICogdGhleSB3b3JrIHdpdGggc3RhdGljIGNvZGUgdHJhbnNmb3JtZXJzIGxpa2UgQ2FqYS5cblx0ICovXG5cdF9hdHRhY2hIYW5kbGVyczogZnVuY3Rpb24oIGluc3QgKSB7XG5cdFx0dmFyIHN0ZXBNb250aHMgPSB0aGlzLl9nZXQoIGluc3QsIFwic3RlcE1vbnRoc1wiICksXG5cdFx0XHRzdGVwWWVhcnMgPSB0aGlzLl9nZXQoIGluc3QsIFwic3RlcFllYXJzXCIgKSxcblx0XHRcdGlkID0gXCIjXCIgKyBpbnN0LmlkLnJlcGxhY2UoIC9cXFxcXFxcXC9nLCBcIlxcXFxcIiApO1xuXHRcdGluc3QuZHBEaXYuZmluZCggXCJbZGF0YS1oYW5kbGVyXVwiICkubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBoYW5kbGVyID0ge1xuXHRcdFx0XHRwcmV2OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGlkLCAtc3RlcE1vbnRocywgXCJNXCIgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0bmV4dDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCBpZCwgK3N0ZXBNb250aHMsIFwiTVwiICk7XG5cdFx0XHRcdH0sXG4gICAgICAgICAgICAgICAgcHJldlllYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGlkLCAtc3RlcFllYXJzLCBcIllcIiApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmV4dFllYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoIGlkLCArc3RlcFllYXJzLCBcIllcIiApO1xuICAgICAgICAgICAgICAgIH0sXG5cdFx0XHRcdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dG9kYXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fZ290b1RvZGF5KCBpZCApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZWxlY3REYXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2VsZWN0RGF5KCBpZCwgK3RoaXMuZ2V0QXR0cmlidXRlKCBcImRhdGEtbW9udGhcIiApLCArdGhpcy5nZXRBdHRyaWJ1dGUoIFwiZGF0YS15ZWFyXCIgKSwgdGhpcyApO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2VsZWN0TW9udGg6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKCBpZCwgdGhpcywgXCJNXCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlbGVjdFllYXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKCBpZCwgdGhpcywgXCJZXCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHQkKCB0aGlzICkub24oIHRoaXMuZ2V0QXR0cmlidXRlKCBcImRhdGEtZXZlbnRcIiApLCBoYW5kbGVyWyB0aGlzLmdldEF0dHJpYnV0ZSggXCJkYXRhLWhhbmRsZXJcIiApIF0gKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0LyogR2VuZXJhdGUgdGhlIEhUTUwgZm9yIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBkYXRlIHBpY2tlci4gKi9cblx0X2dlbmVyYXRlSFRNTDogZnVuY3Rpb24oIGluc3QgKSB7XG5cdFx0dmFyIG1heERyYXcsIHByZXZUZXh0LCBwcmV2LCBuZXh0VGV4dCwgbmV4dCwgcHJldlllYXJUZXh0LCBwcmV2WWVhciwgbmV4dFllYXJUZXh0LCBuZXh0WWVhciwgY3VycmVudFRleHQsIGdvdG9EYXRlLFxuXHRcdFx0Y29udHJvbHMsIGJ1dHRvblBhbmVsLCBmaXJzdERheSwgc2hvd1dlZWssIGRheU5hbWVzLCBkYXlOYW1lc01pbixcblx0XHRcdG1vbnRoTmFtZXMsIG1vbnRoTmFtZXNTaG9ydCwgYmVmb3JlU2hvd0RheSwgc2hvd090aGVyTW9udGhzLFxuXHRcdFx0c2VsZWN0T3RoZXJNb250aHMsIGRlZmF1bHREYXRlLCBodG1sLCBkb3csIHJvdywgZ3JvdXAsIGNvbCwgc2VsZWN0ZWREYXRlLFxuXHRcdFx0Y29ybmVyQ2xhc3MsIGNhbGVuZGVyLCB0aGVhZCwgZGF5LCBkYXlzSW5Nb250aCwgbGVhZERheXMsIGN1clJvd3MsIG51bVJvd3MsXG5cdFx0XHRwcmludERhdGUsIGRSb3csIHRib2R5LCBkYXlTZXR0aW5ncywgb3RoZXJNb250aCwgdW5zZWxlY3RhYmxlLFxuXHRcdFx0dGVtcERhdGUgPSBuZXcgRGF0ZSgpLFxuXHRcdFx0dG9kYXkgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChcblx0XHRcdFx0bmV3IERhdGUoIHRlbXBEYXRlLmdldEZ1bGxZZWFyKCksIHRlbXBEYXRlLmdldE1vbnRoKCksIHRlbXBEYXRlLmdldERhdGUoKSApICksIC8vIGNsZWFyIHRpbWVcblx0XHRcdGlzUlRMID0gdGhpcy5fZ2V0KCBpbnN0LCBcImlzUlRMXCIgKSxcblx0XHRcdHNob3dCdXR0b25QYW5lbCA9IHRoaXMuX2dldCggaW5zdCwgXCJzaG93QnV0dG9uUGFuZWxcIiApLFxuXHRcdFx0aGlkZUlmTm9QcmV2TmV4dCA9IHRoaXMuX2dldCggaW5zdCwgXCJoaWRlSWZOb1ByZXZOZXh0XCIgKSxcblx0XHRcdG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQgPSB0aGlzLl9nZXQoIGluc3QsIFwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdFwiICksXG5cdFx0XHRudW1Nb250aHMgPSB0aGlzLl9nZXROdW1iZXJPZk1vbnRocyggaW5zdCApLFxuXHRcdFx0c2hvd0N1cnJlbnRBdFBvcyA9IHRoaXMuX2dldCggaW5zdCwgXCJzaG93Q3VycmVudEF0UG9zXCIgKSxcblx0XHRcdHN0ZXBNb250aHMgPSB0aGlzLl9nZXQoIGluc3QsIFwic3RlcE1vbnRoc1wiICksXG5cdFx0XHRpc011bHRpTW9udGggPSAoIG51bU1vbnRoc1sgMCBdICE9PSAxIHx8IG51bU1vbnRoc1sgMSBdICE9PSAxICksXG5cdFx0XHRjdXJyZW50RGF0ZSA9IHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KCAoICFpbnN0LmN1cnJlbnREYXkgPyBuZXcgRGF0ZSggOTk5OSwgOSwgOSApIDpcblx0XHRcdFx0bmV3IERhdGUoIGluc3QuY3VycmVudFllYXIsIGluc3QuY3VycmVudE1vbnRoLCBpbnN0LmN1cnJlbnREYXkgKSApICksXG5cdFx0XHRtaW5EYXRlID0gdGhpcy5fZ2V0TWluTWF4RGF0ZSggaW5zdCwgXCJtaW5cIiApLFxuXHRcdFx0bWF4RGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoIGluc3QsIFwibWF4XCIgKSxcblx0XHRcdGRyYXdNb250aCA9IGluc3QuZHJhd01vbnRoIC0gc2hvd0N1cnJlbnRBdFBvcyxcblx0XHRcdGRyYXdZZWFyID0gaW5zdC5kcmF3WWVhcjtcblxuXHRcdGlmICggZHJhd01vbnRoIDwgMCApIHtcblx0XHRcdGRyYXdNb250aCArPSAxMjtcblx0XHRcdGRyYXdZZWFyLS07XG5cdFx0fVxuXHRcdGlmICggbWF4RGF0ZSApIHtcblx0XHRcdG1heERyYXcgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIG1heERhdGUuZ2V0RnVsbFllYXIoKSxcblx0XHRcdFx0bWF4RGF0ZS5nZXRNb250aCgpIC0gKCBudW1Nb250aHNbIDAgXSAqIG51bU1vbnRoc1sgMSBdICkgKyAxLCBtYXhEYXRlLmdldERhdGUoKSApICk7XG5cdFx0XHRtYXhEcmF3ID0gKCBtaW5EYXRlICYmIG1heERyYXcgPCBtaW5EYXRlID8gbWluRGF0ZSA6IG1heERyYXcgKTtcblx0XHRcdHdoaWxlICggdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIG5ldyBEYXRlKCBkcmF3WWVhciwgZHJhd01vbnRoLCAxICkgKSA+IG1heERyYXcgKSB7XG5cdFx0XHRcdGRyYXdNb250aC0tO1xuXHRcdFx0XHRpZiAoIGRyYXdNb250aCA8IDAgKSB7XG5cdFx0XHRcdFx0ZHJhd01vbnRoID0gMTE7XG5cdFx0XHRcdFx0ZHJhd1llYXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpbnN0LmRyYXdNb250aCA9IGRyYXdNb250aDtcblx0XHRpbnN0LmRyYXdZZWFyID0gZHJhd1llYXI7XG5cblx0XHRwcmV2VGV4dCA9IHRoaXMuX2dldCggaW5zdCwgXCJwcmV2VGV4dFwiICk7XG5cdFx0cHJldlRleHQgPSAoICFuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0ID8gcHJldlRleHQgOiB0aGlzLmZvcm1hdERhdGUoIHByZXZUZXh0LFxuXHRcdFx0dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIG5ldyBEYXRlKCBkcmF3WWVhciwgZHJhd01vbnRoIC0gc3RlcE1vbnRocywgMSApICksXG5cdFx0XHR0aGlzLl9nZXRGb3JtYXRDb25maWcoIGluc3QgKSApICk7XG5cblx0XHRwcmV2ID0gKCB0aGlzLl9jYW5BZGp1c3RNb250aCggaW5zdCwgLTEsIGRyYXdZZWFyLCBkcmF3TW9udGggKSA/XG5cdFx0XHRcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSdwcmV2JyBkYXRhLWV2ZW50PSdjbGljaydcIiArXG5cdFx0XHRcIiB0aXRsZT0nXCIgKyBwcmV2VGV4dCArIFwiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIiArICggaXNSVEwgPyBcImVcIiA6IFwid1wiICkgKyBcIic+XCIgKyBwcmV2VGV4dCArIFwiPC9zcGFuPjwvYT5cIiA6XG5cdFx0XHQoIGhpZGVJZk5vUHJldk5leHQgPyBcIlwiIDogXCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSdcIiArIHByZXZUZXh0ICsgXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiICsgKCBpc1JUTCA/IFwiZVwiIDogXCJ3XCIgKSArIFwiJz5cIiArIHByZXZUZXh0ICsgXCI8L3NwYW4+PC9hPlwiICkgKTtcblxuXHRcdG5leHRUZXh0ID0gdGhpcy5fZ2V0KCBpbnN0LCBcIm5leHRUZXh0XCIgKTtcblx0XHRuZXh0VGV4dCA9ICggIW5hdmlnYXRpb25Bc0RhdGVGb3JtYXQgPyBuZXh0VGV4dCA6IHRoaXMuZm9ybWF0RGF0ZSggbmV4dFRleHQsXG5cdFx0XHR0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIGRyYXdZZWFyLCBkcmF3TW9udGggKyBzdGVwTW9udGhzLCAxICkgKSxcblx0XHRcdHRoaXMuX2dldEZvcm1hdENvbmZpZyggaW5zdCApICkgKTtcblxuXHRcdG5leHQgPSAoIHRoaXMuX2NhbkFkanVzdE1vbnRoKCBpbnN0LCArMSwgZHJhd1llYXIsIGRyYXdNb250aCApID9cblx0XHRcdFwiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J25leHQnIGRhdGEtZXZlbnQ9J2NsaWNrJ1wiICtcblx0XHRcdFwiIHRpdGxlPSdcIiArIG5leHRUZXh0ICsgXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiICsgKCBpc1JUTCA/IFwid1wiIDogXCJlXCIgKSArIFwiJz5cIiArIG5leHRUZXh0ICsgXCI8L3NwYW4+PC9hPlwiIDpcblx0XHRcdCggaGlkZUlmTm9QcmV2TmV4dCA/IFwiXCIgOiBcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9J1wiICsgbmV4dFRleHQgKyBcIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtXCIgKyAoIGlzUlRMID8gXCJ3XCIgOiBcImVcIiApICsgXCInPlwiICsgbmV4dFRleHQgKyBcIjwvc3Bhbj48L2E+XCIgKSApO1xuXG5cdFx0LyogYWRkIG5hdmlnYXRpb24gZm9yIHllYXIgY2hhbmdlIC0gYnkgUnlhbktpbSAqL1xuICAgICAgICBwcmV2WWVhclRleHQgPSB0aGlzLl9nZXQoIGluc3QsIFwicHJldlllYXJUZXh0XCIgKTtcbiAgICAgICAgcHJldlllYXJUZXh0ID0gKCAhbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCA/IHByZXZZZWFyVGV4dCA6IHRoaXMuZm9ybWF0RGF0ZSggcHJldlllYXJUZXh0LFxuICAgICAgICAgICAgdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIG5ldyBEYXRlKCBkcmF3WWVhciAtIHN0ZXBZZWFycywgZHJhd01vbnRoLCAxICkgKSxcbiAgICAgICAgICAgIHRoaXMuX2dldEZvcm1hdENvbmZpZyggaW5zdCApICkgKTtcblxuICAgICAgICBwcmV2WWVhciA9ICggdGhpcy5fY2FuQWRqdXN0TW9udGgoIGluc3QsIC0xLCBkcmF3WWVhciwgZHJhd01vbnRoICkgP1xuICAgICAgICAgICAgXCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1wcmV2WWVhciB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXZZZWFyJyBkYXRhLWV2ZW50PSdjbGljaydcIiArXG4gICAgICAgICAgICBcIiB0aXRsZT0nXCIgKyBwcmV2WWVhclRleHQgKyBcIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtXCIgKyAoIGlzUlRMID8gXCJlXCIgOiBcIndcIiApICsgXCInPlwiICsgcHJldlllYXJUZXh0ICsgXCI8L3NwYW4+PC9hPlwiIDpcbiAgICAgICAgICAgICggaGlkZUlmTm9QcmV2TmV4dCA/IFwiXCIgOiBcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXZZZWFyIHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSdcIiArIHByZXZZZWFyVGV4dCArIFwiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIiArICggaXNSVEwgPyBcImVcIiA6IFwid1wiICkgKyBcIic+XCIgKyBwcmV2WWVhclRleHQgKyBcIjwvc3Bhbj48L2E+XCIgKSApO1xuXG4gICAgICAgIG5leHRZZWFyVGV4dCA9IHRoaXMuX2dldCggaW5zdCwgXCJuZXh0WWVhclRleHRcIiApO1xuICAgICAgICBuZXh0WWVhclRleHQgPSAoICFuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0ID8gbmV4dFllYXJUZXh0IDogdGhpcy5mb3JtYXREYXRlKCBuZXh0WWVhclRleHQsXG4gICAgICAgICAgICB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIGRyYXdZZWFyICsgc3RlcFllYXJzLCBkcmF3TW9udGgsIDEgKSApLFxuICAgICAgICAgICAgdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKCBpbnN0ICkgKSApO1xuXG4gICAgICAgIG5leHRZZWFyID0gKCB0aGlzLl9jYW5BZGp1c3RNb250aCggaW5zdCwgKzEsIGRyYXdZZWFyLCBkcmF3TW9udGggKSA/XG4gICAgICAgICAgICBcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHRZZWFyIHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0nbmV4dFllYXInIGRhdGEtZXZlbnQ9J2NsaWNrJ1wiICtcbiAgICAgICAgICAgIFwiIHRpdGxlPSdcIiArIG5leHRZZWFyVGV4dCArIFwiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIiArICggaXNSVEwgPyBcIndcIiA6IFwiZVwiICkgKyBcIic+XCIgKyBuZXh0WWVhclRleHQgKyBcIjwvc3Bhbj48L2E+XCIgOlxuICAgICAgICAgICAgKCBoaWRlSWZOb1ByZXZOZXh0ID8gXCJcIiA6IFwiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nXCIgKyBuZXh0WWVhclRleHQgKyBcIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtXCIgKyAoIGlzUlRMID8gXCJ3XCIgOiBcImVcIiApICsgXCInPlwiICsgbmV4dFllYXJUZXh0ICsgXCI8L3NwYW4+PC9hPlwiICkgKTtcblxuXHRcdGN1cnJlbnRUZXh0ID0gdGhpcy5fZ2V0KCBpbnN0LCBcImN1cnJlbnRUZXh0XCIgKTtcblx0XHRnb3RvRGF0ZSA9ICggdGhpcy5fZ2V0KCBpbnN0LCBcImdvdG9DdXJyZW50XCIgKSAmJiBpbnN0LmN1cnJlbnREYXkgPyBjdXJyZW50RGF0ZSA6IHRvZGF5ICk7XG5cdFx0Y3VycmVudFRleHQgPSAoICFuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0ID8gY3VycmVudFRleHQgOlxuXHRcdFx0dGhpcy5mb3JtYXREYXRlKCBjdXJyZW50VGV4dCwgZ290b0RhdGUsIHRoaXMuX2dldEZvcm1hdENvbmZpZyggaW5zdCApICkgKTtcblxuXHRcdGNvbnRyb2xzID0gKCAhaW5zdC5pbmxpbmUgPyBcIjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0ndWktZGF0ZXBpY2tlci1jbG9zZSB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXByaW1hcnkgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSdoaWRlJyBkYXRhLWV2ZW50PSdjbGljayc+XCIgK1xuXHRcdFx0dGhpcy5fZ2V0KCBpbnN0LCBcImNsb3NlVGV4dFwiICkgKyBcIjwvYnV0dG9uPlwiIDogXCJcIiApO1xuXG5cdFx0YnV0dG9uUGFuZWwgPSAoIHNob3dCdXR0b25QYW5lbCApID8gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQnPlwiICsgKCBpc1JUTCA/IGNvbnRyb2xzIDogXCJcIiApICtcblx0XHRcdCggdGhpcy5faXNJblJhbmdlKCBpbnN0LCBnb3RvRGF0ZSApID8gXCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljaydcIiArXG5cdFx0XHRcIj5cIiArIGN1cnJlbnRUZXh0ICsgXCI8L2J1dHRvbj5cIiA6IFwiXCIgKSArICggaXNSVEwgPyBcIlwiIDogY29udHJvbHMgKSArIFwiPC9kaXY+XCIgOiBcIlwiO1xuXG5cdFx0Zmlyc3REYXkgPSBwYXJzZUludCggdGhpcy5fZ2V0KCBpbnN0LCBcImZpcnN0RGF5XCIgKSwgMTAgKTtcblx0XHRmaXJzdERheSA9ICggaXNOYU4oIGZpcnN0RGF5ICkgPyAwIDogZmlyc3REYXkgKTtcblxuXHRcdHNob3dXZWVrID0gdGhpcy5fZ2V0KCBpbnN0LCBcInNob3dXZWVrXCIgKTtcblx0XHRkYXlOYW1lcyA9IHRoaXMuX2dldCggaW5zdCwgXCJkYXlOYW1lc1wiICk7XG5cdFx0ZGF5TmFtZXNNaW4gPSB0aGlzLl9nZXQoIGluc3QsIFwiZGF5TmFtZXNNaW5cIiApO1xuXHRcdG1vbnRoTmFtZXMgPSB0aGlzLl9nZXQoIGluc3QsIFwibW9udGhOYW1lc1wiICk7XG5cdFx0bW9udGhOYW1lc1Nob3J0ID0gdGhpcy5fZ2V0KCBpbnN0LCBcIm1vbnRoTmFtZXNTaG9ydFwiICk7XG5cdFx0YmVmb3JlU2hvd0RheSA9IHRoaXMuX2dldCggaW5zdCwgXCJiZWZvcmVTaG93RGF5XCIgKTtcblx0XHRzaG93T3RoZXJNb250aHMgPSB0aGlzLl9nZXQoIGluc3QsIFwic2hvd090aGVyTW9udGhzXCIgKTtcblx0XHRzZWxlY3RPdGhlck1vbnRocyA9IHRoaXMuX2dldCggaW5zdCwgXCJzZWxlY3RPdGhlck1vbnRoc1wiICk7XG5cdFx0ZGVmYXVsdERhdGUgPSB0aGlzLl9nZXREZWZhdWx0RGF0ZSggaW5zdCApO1xuXHRcdGh0bWwgPSBcIlwiO1xuXG5cdFx0Zm9yICggcm93ID0gMDsgcm93IDwgbnVtTW9udGhzWyAwIF07IHJvdysrICkge1xuXHRcdFx0Z3JvdXAgPSBcIlwiO1xuXHRcdFx0dGhpcy5tYXhSb3dzID0gNDtcblx0XHRcdGZvciAoIGNvbCA9IDA7IGNvbCA8IG51bU1vbnRoc1sgMSBdOyBjb2wrKyApIHtcblx0XHRcdFx0c2VsZWN0ZWREYXRlID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIG5ldyBEYXRlKCBkcmF3WWVhciwgZHJhd01vbnRoLCBpbnN0LnNlbGVjdGVkRGF5ICkgKTtcblx0XHRcdFx0Y29ybmVyQ2xhc3MgPSBcIiB1aS1jb3JuZXItYWxsXCI7XG5cdFx0XHRcdGNhbGVuZGVyID0gXCJcIjtcblx0XHRcdFx0aWYgKCBpc011bHRpTW9udGggKSB7XG5cdFx0XHRcdFx0Y2FsZW5kZXIgKz0gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwXCI7XG5cdFx0XHRcdFx0aWYgKCBudW1Nb250aHNbIDEgXSA+IDEgKSB7XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKCBjb2wgKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDogY2FsZW5kZXIgKz0gXCIgdWktZGF0ZXBpY2tlci1ncm91cC1maXJzdFwiO1xuXHRcdFx0XHRcdFx0XHRcdGNvcm5lckNsYXNzID0gXCIgdWktY29ybmVyLVwiICsgKCBpc1JUTCA/IFwicmlnaHRcIiA6IFwibGVmdFwiICk7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlIG51bU1vbnRoc1sgMSBdIC0gMTogY2FsZW5kZXIgKz0gXCIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0XCI7XG5cdFx0XHRcdFx0XHRcdFx0Y29ybmVyQ2xhc3MgPSBcIiB1aS1jb3JuZXItXCIgKyAoIGlzUlRMID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIgKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdGRlZmF1bHQ6IGNhbGVuZGVyICs9IFwiIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlXCI7IGNvcm5lckNsYXNzID0gXCJcIjsgYnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhbGVuZGVyICs9IFwiJz5cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYWxlbmRlciArPSBcIjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItaGVhZGVyIHVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4XCIgKyBjb3JuZXJDbGFzcyArIFwiJz5cIiArXG4gICAgICAgICAgICAgICAgICAgICggL2FsbHxsZWZ0Ly50ZXN0KCBjb3JuZXJDbGFzcyApICYmIHJvdyA9PT0gMCA/ICggaXNSVEwgPyBuZXh0WWVhciA6IHByZXZZZWFyICkgOiBcIlwiICkgK1xuXHRcdFx0XHRcdCggL2FsbHxsZWZ0Ly50ZXN0KCBjb3JuZXJDbGFzcyApICYmIHJvdyA9PT0gMCA/ICggaXNSVEwgPyBuZXh0IDogcHJldiApIDogXCJcIiApICtcblx0XHRcdFx0XHQoIC9hbGx8cmlnaHQvLnRlc3QoIGNvcm5lckNsYXNzICkgJiYgcm93ID09PSAwID8gKCBpc1JUTCA/IHByZXYgOiBuZXh0ICkgOiBcIlwiICkgK1xuICAgICAgICAgICAgICAgICAgICAoIC9hbGx8cmlnaHQvLnRlc3QoIGNvcm5lckNsYXNzICkgJiYgcm93ID09PSAwID8gKCBpc1JUTCA/IHByZXZZZWFyIDogbmV4dFllYXIgKSA6IFwiXCIgKSArXG5cdFx0XHRcdFx0dGhpcy5fZ2VuZXJhdGVNb250aFllYXJIZWFkZXIoIGluc3QsIGRyYXdNb250aCwgZHJhd1llYXIsIG1pbkRhdGUsIG1heERhdGUsXG5cdFx0XHRcdFx0cm93ID4gMCB8fCBjb2wgPiAwLCBtb250aE5hbWVzLCBtb250aE5hbWVzU2hvcnQgKSArIC8vIGRyYXcgbW9udGggaGVhZGVyc1xuXHRcdFx0XHRcdFwiPC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+XCIgK1xuXHRcdFx0XHRcdFwiPHRyPlwiO1xuXHRcdFx0XHR0aGVhZCA9ICggc2hvd1dlZWsgPyBcIjx0aCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+XCIgKyB0aGlzLl9nZXQoIGluc3QsIFwid2Vla0hlYWRlclwiICkgKyBcIjwvdGg+XCIgOiBcIlwiICk7XG5cdFx0XHRcdGZvciAoIGRvdyA9IDA7IGRvdyA8IDc7IGRvdysrICkgeyAvLyBkYXlzIG9mIHRoZSB3ZWVrXG5cdFx0XHRcdFx0ZGF5ID0gKCBkb3cgKyBmaXJzdERheSApICUgNztcblx0XHRcdFx0XHR0aGVhZCArPSBcIjx0aCBzY29wZT0nY29sJ1wiICsgKCAoIGRvdyArIGZpcnN0RGF5ICsgNiApICUgNyA+PSA1ID8gXCIgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1lbmQnXCIgOiBcIlwiICkgKyBcIj5cIiArXG5cdFx0XHRcdFx0XHRcIjxzcGFuIHRpdGxlPSdcIiArIGRheU5hbWVzWyBkYXkgXSArIFwiJz5cIiArIGRheU5hbWVzTWluWyBkYXkgXSArIFwiPC9zcGFuPjwvdGg+XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FsZW5kZXIgKz0gdGhlYWQgKyBcIjwvdHI+PC90aGVhZD48dGJvZHk+XCI7XG5cdFx0XHRcdGRheXNJbk1vbnRoID0gdGhpcy5fZ2V0RGF5c0luTW9udGgoIGRyYXdZZWFyLCBkcmF3TW9udGggKTtcblx0XHRcdFx0aWYgKCBkcmF3WWVhciA9PT0gaW5zdC5zZWxlY3RlZFllYXIgJiYgZHJhd01vbnRoID09PSBpbnN0LnNlbGVjdGVkTW9udGggKSB7XG5cdFx0XHRcdFx0aW5zdC5zZWxlY3RlZERheSA9IE1hdGgubWluKCBpbnN0LnNlbGVjdGVkRGF5LCBkYXlzSW5Nb250aCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxlYWREYXlzID0gKCB0aGlzLl9nZXRGaXJzdERheU9mTW9udGgoIGRyYXdZZWFyLCBkcmF3TW9udGggKSAtIGZpcnN0RGF5ICsgNyApICUgNztcblx0XHRcdFx0Y3VyUm93cyA9IE1hdGguY2VpbCggKCBsZWFkRGF5cyArIGRheXNJbk1vbnRoICkgLyA3ICk7IC8vIGNhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHJvd3MgdG8gZ2VuZXJhdGVcblx0XHRcdFx0bnVtUm93cyA9ICggaXNNdWx0aU1vbnRoID8gdGhpcy5tYXhSb3dzID4gY3VyUm93cyA/IHRoaXMubWF4Um93cyA6IGN1clJvd3MgOiBjdXJSb3dzICk7IC8vSWYgbXVsdGlwbGUgbW9udGhzLCB1c2UgdGhlIGhpZ2hlciBudW1iZXIgb2Ygcm93cyAoc2VlICM3MDQzKVxuXHRcdFx0XHR0aGlzLm1heFJvd3MgPSBudW1Sb3dzO1xuXHRcdFx0XHRwcmludERhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIGRyYXdZZWFyLCBkcmF3TW9udGgsIDEgLSBsZWFkRGF5cyApICk7XG5cdFx0XHRcdGZvciAoIGRSb3cgPSAwOyBkUm93IDwgbnVtUm93czsgZFJvdysrICkgeyAvLyBjcmVhdGUgZGF0ZSBwaWNrZXIgcm93c1xuXHRcdFx0XHRcdGNhbGVuZGVyICs9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdHRib2R5ID0gKCAhc2hvd1dlZWsgPyBcIlwiIDogXCI8dGQgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPlwiICtcblx0XHRcdFx0XHRcdHRoaXMuX2dldCggaW5zdCwgXCJjYWxjdWxhdGVXZWVrXCIgKSggcHJpbnREYXRlICkgKyBcIjwvdGQ+XCIgKTtcblx0XHRcdFx0XHRmb3IgKCBkb3cgPSAwOyBkb3cgPCA3OyBkb3crKyApIHsgLy8gY3JlYXRlIGRhdGUgcGlja2VyIGRheXNcblx0XHRcdFx0XHRcdGRheVNldHRpbmdzID0gKCBiZWZvcmVTaG93RGF5ID9cblx0XHRcdFx0XHRcdFx0YmVmb3JlU2hvd0RheS5hcHBseSggKCBpbnN0LmlucHV0ID8gaW5zdC5pbnB1dFsgMCBdIDogbnVsbCApLCBbIHByaW50RGF0ZSBdICkgOiBbIHRydWUsIFwiXCIgXSApO1xuXHRcdFx0XHRcdFx0b3RoZXJNb250aCA9ICggcHJpbnREYXRlLmdldE1vbnRoKCkgIT09IGRyYXdNb250aCApO1xuXHRcdFx0XHRcdFx0dW5zZWxlY3RhYmxlID0gKCBvdGhlck1vbnRoICYmICFzZWxlY3RPdGhlck1vbnRocyApIHx8ICFkYXlTZXR0aW5nc1sgMCBdIHx8XG5cdFx0XHRcdFx0XHRcdCggbWluRGF0ZSAmJiBwcmludERhdGUgPCBtaW5EYXRlICkgfHwgKCBtYXhEYXRlICYmIHByaW50RGF0ZSA+IG1heERhdGUgKTtcblx0XHRcdFx0XHRcdHRib2R5ICs9IFwiPHRkIGNsYXNzPSdcIiArXG5cdFx0XHRcdFx0XHRcdCggKCBkb3cgKyBmaXJzdERheSArIDYgKSAlIDcgPj0gNSA/IFwiIHVpLWRhdGVwaWNrZXItd2Vlay1lbmRcIiA6IFwiXCIgKSArIC8vIGhpZ2hsaWdodCB3ZWVrZW5kc1xuXHRcdFx0XHRcdFx0XHQoIG90aGVyTW9udGggPyBcIiB1aS1kYXRlcGlja2VyLW90aGVyLW1vbnRoXCIgOiBcIlwiICkgKyAvLyBoaWdobGlnaHQgZGF5cyBmcm9tIG90aGVyIG1vbnRoc1xuXHRcdFx0XHRcdFx0XHQoICggcHJpbnREYXRlLmdldFRpbWUoKSA9PT0gc2VsZWN0ZWREYXRlLmdldFRpbWUoKSAmJiBkcmF3TW9udGggPT09IGluc3Quc2VsZWN0ZWRNb250aCAmJiBpbnN0Ll9rZXlFdmVudCApIHx8IC8vIHVzZXIgcHJlc3NlZCBrZXlcblx0XHRcdFx0XHRcdFx0KCBkZWZhdWx0RGF0ZS5nZXRUaW1lKCkgPT09IHByaW50RGF0ZS5nZXRUaW1lKCkgJiYgZGVmYXVsdERhdGUuZ2V0VGltZSgpID09PSBzZWxlY3RlZERhdGUuZ2V0VGltZSgpICkgP1xuXG5cdFx0XHRcdFx0XHRcdC8vIG9yIGRlZmF1bHREYXRlIGlzIGN1cnJlbnQgcHJpbnRlZERhdGUgYW5kIGRlZmF1bHREYXRlIGlzIHNlbGVjdGVkRGF0ZVxuXHRcdFx0XHRcdFx0XHRcIiBcIiArIHRoaXMuX2RheU92ZXJDbGFzcyA6IFwiXCIgKSArIC8vIGhpZ2hsaWdodCBzZWxlY3RlZCBkYXlcblx0XHRcdFx0XHRcdFx0KCB1bnNlbGVjdGFibGUgPyBcIiBcIiArIHRoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzICsgXCIgdWktc3RhdGUtZGlzYWJsZWRcIiA6IFwiXCIgKSArICAvLyBoaWdobGlnaHQgdW5zZWxlY3RhYmxlIGRheXNcblx0XHRcdFx0XHRcdFx0KCBvdGhlck1vbnRoICYmICFzaG93T3RoZXJNb250aHMgPyBcIlwiIDogXCIgXCIgKyBkYXlTZXR0aW5nc1sgMSBdICsgLy8gaGlnaGxpZ2h0IGN1c3RvbSBkYXRlc1xuXHRcdFx0XHRcdFx0XHQoIHByaW50RGF0ZS5nZXRUaW1lKCkgPT09IGN1cnJlbnREYXRlLmdldFRpbWUoKSA/IFwiIFwiICsgdGhpcy5fY3VycmVudENsYXNzIDogXCJcIiApICsgLy8gaGlnaGxpZ2h0IHNlbGVjdGVkIGRheVxuXHRcdFx0XHRcdFx0XHQoIHByaW50RGF0ZS5nZXRUaW1lKCkgPT09IHRvZGF5LmdldFRpbWUoKSA/IFwiIHVpLWRhdGVwaWNrZXItdG9kYXlcIiA6IFwiXCIgKSApICsgXCInXCIgKyAvLyBoaWdobGlnaHQgdG9kYXkgKGlmIGRpZmZlcmVudClcblx0XHRcdFx0XHRcdFx0KCAoICFvdGhlck1vbnRoIHx8IHNob3dPdGhlck1vbnRocyApICYmIGRheVNldHRpbmdzWyAyIF0gPyBcIiB0aXRsZT0nXCIgKyBkYXlTZXR0aW5nc1sgMiBdLnJlcGxhY2UoIC8nL2csIFwiJiMzOTtcIiApICsgXCInXCIgOiBcIlwiICkgKyAvLyBjZWxsIHRpdGxlXG5cdFx0XHRcdFx0XHRcdCggdW5zZWxlY3RhYmxlID8gXCJcIiA6IFwiIGRhdGEtaGFuZGxlcj0nc2VsZWN0RGF5JyBkYXRhLWV2ZW50PSdjbGljaycgZGF0YS1tb250aD0nXCIgKyBwcmludERhdGUuZ2V0TW9udGgoKSArIFwiJyBkYXRhLXllYXI9J1wiICsgcHJpbnREYXRlLmdldEZ1bGxZZWFyKCkgKyBcIidcIiApICsgXCI+XCIgKyAvLyBhY3Rpb25zXG5cdFx0XHRcdFx0XHRcdCggb3RoZXJNb250aCAmJiAhc2hvd090aGVyTW9udGhzID8gXCImI3hhMDtcIiA6IC8vIGRpc3BsYXkgZm9yIG90aGVyIG1vbnRoc1xuXHRcdFx0XHRcdFx0XHQoIHVuc2VsZWN0YWJsZSA/IFwiPHNwYW4gY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQnPlwiICsgcHJpbnREYXRlLmdldERhdGUoKSArIFwiPC9zcGFuPlwiIDogXCI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdFwiICtcblx0XHRcdFx0XHRcdFx0KCBwcmludERhdGUuZ2V0VGltZSgpID09PSB0b2RheS5nZXRUaW1lKCkgPyBcIiB1aS1zdGF0ZS1oaWdobGlnaHRcIiA6IFwiXCIgKSArXG5cdFx0XHRcdFx0XHRcdCggcHJpbnREYXRlLmdldFRpbWUoKSA9PT0gY3VycmVudERhdGUuZ2V0VGltZSgpID8gXCIgdWktc3RhdGUtYWN0aXZlXCIgOiBcIlwiICkgKyAvLyBoaWdobGlnaHQgc2VsZWN0ZWQgZGF5XG5cdFx0XHRcdFx0XHRcdCggb3RoZXJNb250aCA/IFwiIHVpLXByaW9yaXR5LXNlY29uZGFyeVwiIDogXCJcIiApICsgLy8gZGlzdGluZ3Vpc2ggZGF0ZXMgZnJvbSBvdGhlciBtb250aHNcblx0XHRcdFx0XHRcdFx0XCInIGhyZWY9JyMnPlwiICsgcHJpbnREYXRlLmdldERhdGUoKSArIFwiPC9hPlwiICkgKSArIFwiPC90ZD5cIjsgLy8gZGlzcGxheSBzZWxlY3RhYmxlIGRhdGVcblx0XHRcdFx0XHRcdHByaW50RGF0ZS5zZXREYXRlKCBwcmludERhdGUuZ2V0RGF0ZSgpICsgMSApO1xuXHRcdFx0XHRcdFx0cHJpbnREYXRlID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIHByaW50RGF0ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYWxlbmRlciArPSB0Ym9keSArIFwiPC90cj5cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRkcmF3TW9udGgrKztcblx0XHRcdFx0aWYgKCBkcmF3TW9udGggPiAxMSApIHtcblx0XHRcdFx0XHRkcmF3TW9udGggPSAwO1xuXHRcdFx0XHRcdGRyYXdZZWFyKys7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FsZW5kZXIgKz0gXCI8L3Rib2R5PjwvdGFibGU+XCIgKyAoIGlzTXVsdGlNb250aCA/IFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHQoICggbnVtTW9udGhzWyAwIF0gPiAwICYmIGNvbCA9PT0gbnVtTW9udGhzWyAxIF0gLSAxICkgPyBcIjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItcm93LWJyZWFrJz48L2Rpdj5cIiA6IFwiXCIgKSA6IFwiXCIgKTtcblx0XHRcdFx0Z3JvdXAgKz0gY2FsZW5kZXI7XG5cdFx0XHR9XG5cdFx0XHRodG1sICs9IGdyb3VwO1xuXHRcdH1cblx0XHRodG1sICs9IGJ1dHRvblBhbmVsO1xuXHRcdGluc3QuX2tleUV2ZW50ID0gZmFsc2U7XG5cdFx0cmV0dXJuIGh0bWw7XG5cdH0sXG5cblx0LyogR2VuZXJhdGUgdGhlIG1vbnRoIGFuZCB5ZWFyIGhlYWRlci4gKi9cblx0X2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOiBmdW5jdGlvbiggaW5zdCwgZHJhd01vbnRoLCBkcmF3WWVhciwgbWluRGF0ZSwgbWF4RGF0ZSxcblx0XHRcdHNlY29uZGFyeSwgbW9udGhOYW1lcywgbW9udGhOYW1lc1Nob3J0ICkge1xuXG5cdFx0dmFyIGluTWluWWVhciwgaW5NYXhZZWFyLCBtb250aCwgeWVhcnMsIHRoaXNZZWFyLCBkZXRlcm1pbmVZZWFyLCB5ZWFyLCBlbmRZZWFyLFxuXHRcdFx0Y2hhbmdlTW9udGggPSB0aGlzLl9nZXQoIGluc3QsIFwiY2hhbmdlTW9udGhcIiApLFxuXHRcdFx0Y2hhbmdlWWVhciA9IHRoaXMuX2dldCggaW5zdCwgXCJjaGFuZ2VZZWFyXCIgKSxcblx0XHRcdHNob3dNb250aEFmdGVyWWVhciA9IHRoaXMuX2dldCggaW5zdCwgXCJzaG93TW9udGhBZnRlclllYXJcIiApLFxuXHRcdFx0aHRtbCA9IFwiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci10aXRsZSc+XCIsXG5cdFx0XHRtb250aEh0bWwgPSBcIlwiO1xuXG5cdFx0Ly8gTW9udGggc2VsZWN0aW9uXG5cdFx0aWYgKCBzZWNvbmRhcnkgfHwgIWNoYW5nZU1vbnRoICkge1xuXHRcdFx0bW9udGhIdG1sICs9IFwiPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXItbW9udGgnPlwiICsgbW9udGhOYW1lc1sgZHJhd01vbnRoIF0gKyBcIjwvc3Bhbj5cIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5NaW5ZZWFyID0gKCBtaW5EYXRlICYmIG1pbkRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gZHJhd1llYXIgKTtcblx0XHRcdGluTWF4WWVhciA9ICggbWF4RGF0ZSAmJiBtYXhEYXRlLmdldEZ1bGxZZWFyKCkgPT09IGRyYXdZZWFyICk7XG5cdFx0XHRtb250aEh0bWwgKz0gXCI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPlwiO1xuXHRcdFx0Zm9yICggbW9udGggPSAwOyBtb250aCA8IDEyOyBtb250aCsrICkge1xuXHRcdFx0XHRpZiAoICggIWluTWluWWVhciB8fCBtb250aCA+PSBtaW5EYXRlLmdldE1vbnRoKCkgKSAmJiAoICFpbk1heFllYXIgfHwgbW9udGggPD0gbWF4RGF0ZS5nZXRNb250aCgpICkgKSB7XG5cdFx0XHRcdFx0bW9udGhIdG1sICs9IFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyBtb250aCArIFwiJ1wiICtcblx0XHRcdFx0XHRcdCggbW9udGggPT09IGRyYXdNb250aCA/IFwiIHNlbGVjdGVkPSdzZWxlY3RlZCdcIiA6IFwiXCIgKSArXG5cdFx0XHRcdFx0XHRcIj5cIiArIG1vbnRoTmFtZXNTaG9ydFsgbW9udGggXSArIFwiPC9vcHRpb24+XCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1vbnRoSHRtbCArPSBcIjwvc2VsZWN0PlwiO1xuXHRcdH1cblxuXHRcdGlmICggIXNob3dNb250aEFmdGVyWWVhciApIHtcblx0XHRcdGh0bWwgKz0gbW9udGhIdG1sICsgKCBzZWNvbmRhcnkgfHwgISggY2hhbmdlTW9udGggJiYgY2hhbmdlWWVhciApID8gXCImI3hhMDtcIiA6IFwiXCIgKTtcblx0XHR9XG5cblx0XHQvLyBZZWFyIHNlbGVjdGlvblxuXHRcdGlmICggIWluc3QueWVhcnNodG1sICkge1xuXHRcdFx0aW5zdC55ZWFyc2h0bWwgPSBcIlwiO1xuXHRcdFx0aWYgKCBzZWNvbmRhcnkgfHwgIWNoYW5nZVllYXIgKSB7XG5cdFx0XHRcdGh0bWwgKz0gXCI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJz5cIiArIGRyYXdZZWFyICsgXCI8L3NwYW4+XCI7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIGRldGVybWluZSByYW5nZSBvZiB5ZWFycyB0byBkaXNwbGF5XG5cdFx0XHRcdHllYXJzID0gdGhpcy5fZ2V0KCBpbnN0LCBcInllYXJSYW5nZVwiICkuc3BsaXQoIFwiOlwiICk7XG5cdFx0XHRcdHRoaXNZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRkZXRlcm1pbmVZZWFyID0gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHZhciB5ZWFyID0gKCB2YWx1ZS5tYXRjaCggL2NbK1xcLV0uKi8gKSA/IGRyYXdZZWFyICsgcGFyc2VJbnQoIHZhbHVlLnN1YnN0cmluZyggMSApLCAxMCApIDpcblx0XHRcdFx0XHRcdCggdmFsdWUubWF0Y2goIC9bK1xcLV0uKi8gKSA/IHRoaXNZZWFyICsgcGFyc2VJbnQoIHZhbHVlLCAxMCApIDpcblx0XHRcdFx0XHRcdHBhcnNlSW50KCB2YWx1ZSwgMTAgKSApICk7XG5cdFx0XHRcdFx0cmV0dXJuICggaXNOYU4oIHllYXIgKSA/IHRoaXNZZWFyIDogeWVhciApO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR5ZWFyID0gZGV0ZXJtaW5lWWVhciggeWVhcnNbIDAgXSApO1xuXHRcdFx0XHRlbmRZZWFyID0gTWF0aC5tYXgoIHllYXIsIGRldGVybWluZVllYXIoIHllYXJzWyAxIF0gfHwgXCJcIiApICk7XG5cdFx0XHRcdHllYXIgPSAoIG1pbkRhdGUgPyBNYXRoLm1heCggeWVhciwgbWluRGF0ZS5nZXRGdWxsWWVhcigpICkgOiB5ZWFyICk7XG5cdFx0XHRcdGVuZFllYXIgPSAoIG1heERhdGUgPyBNYXRoLm1pbiggZW5kWWVhciwgbWF4RGF0ZS5nZXRGdWxsWWVhcigpICkgOiBlbmRZZWFyICk7XG5cdFx0XHRcdGluc3QueWVhcnNodG1sICs9IFwiPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJyBkYXRhLWhhbmRsZXI9J3NlbGVjdFllYXInIGRhdGEtZXZlbnQ9J2NoYW5nZSc+XCI7XG5cdFx0XHRcdGZvciAoIDsgeWVhciA8PSBlbmRZZWFyOyB5ZWFyKysgKSB7XG5cdFx0XHRcdFx0aW5zdC55ZWFyc2h0bWwgKz0gXCI8b3B0aW9uIHZhbHVlPSdcIiArIHllYXIgKyBcIidcIiArXG5cdFx0XHRcdFx0XHQoIHllYXIgPT09IGRyYXdZZWFyID8gXCIgc2VsZWN0ZWQ9J3NlbGVjdGVkJ1wiIDogXCJcIiApICtcblx0XHRcdFx0XHRcdFwiPlwiICsgeWVhciArIFwiPC9vcHRpb24+XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zdC55ZWFyc2h0bWwgKz0gXCI8L3NlbGVjdD5cIjtcblxuXHRcdFx0XHRodG1sICs9IGluc3QueWVhcnNodG1sO1xuXHRcdFx0XHRpbnN0LnllYXJzaHRtbCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aHRtbCArPSB0aGlzLl9nZXQoIGluc3QsIFwieWVhclN1ZmZpeFwiICk7XG5cdFx0aWYgKCBzaG93TW9udGhBZnRlclllYXIgKSB7XG5cdFx0XHRodG1sICs9ICggc2Vjb25kYXJ5IHx8ICEoIGNoYW5nZU1vbnRoICYmIGNoYW5nZVllYXIgKSA/IFwiJiN4YTA7XCIgOiBcIlwiICkgKyBtb250aEh0bWw7XG5cdFx0fVxuXHRcdGh0bWwgKz0gXCI8L2Rpdj5cIjsgLy8gQ2xvc2UgZGF0ZXBpY2tlcl9oZWFkZXJcblx0XHRyZXR1cm4gaHRtbDtcblx0fSxcblxuXHQvKiBBZGp1c3Qgb25lIG9mIHRoZSBkYXRlIHN1Yi1maWVsZHMuICovXG5cdF9hZGp1c3RJbnN0RGF0ZTogZnVuY3Rpb24oIGluc3QsIG9mZnNldCwgcGVyaW9kICkge1xuXHRcdHZhciB5ZWFyID0gaW5zdC5zZWxlY3RlZFllYXIgKyAoIHBlcmlvZCA9PT0gXCJZXCIgPyBvZmZzZXQgOiAwICksXG5cdFx0XHRtb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCArICggcGVyaW9kID09PSBcIk1cIiA/IG9mZnNldCA6IDAgKSxcblx0XHRcdGRheSA9IE1hdGgubWluKCBpbnN0LnNlbGVjdGVkRGF5LCB0aGlzLl9nZXREYXlzSW5Nb250aCggeWVhciwgbW9udGggKSApICsgKCBwZXJpb2QgPT09IFwiRFwiID8gb2Zmc2V0IDogMCApLFxuXHRcdFx0ZGF0ZSA9IHRoaXMuX3Jlc3RyaWN0TWluTWF4KCBpbnN0LCB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIHllYXIsIG1vbnRoLCBkYXkgKSApICk7XG5cblx0XHRpbnN0LnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7XG5cdFx0aW5zdC5kcmF3TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG5cdFx0aW5zdC5kcmF3WWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGlmICggcGVyaW9kID09PSBcIk1cIiB8fCBwZXJpb2QgPT09IFwiWVwiICkge1xuXHRcdFx0dGhpcy5fbm90aWZ5Q2hhbmdlKCBpbnN0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIEVuc3VyZSBhIGRhdGUgaXMgd2l0aGluIGFueSBtaW4vbWF4IGJvdW5kcy4gKi9cblx0X3Jlc3RyaWN0TWluTWF4OiBmdW5jdGlvbiggaW5zdCwgZGF0ZSApIHtcblx0XHR2YXIgbWluRGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoIGluc3QsIFwibWluXCIgKSxcblx0XHRcdG1heERhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKCBpbnN0LCBcIm1heFwiICksXG5cdFx0XHRuZXdEYXRlID0gKCBtaW5EYXRlICYmIGRhdGUgPCBtaW5EYXRlID8gbWluRGF0ZSA6IGRhdGUgKTtcblx0XHRyZXR1cm4gKCBtYXhEYXRlICYmIG5ld0RhdGUgPiBtYXhEYXRlID8gbWF4RGF0ZSA6IG5ld0RhdGUgKTtcblx0fSxcblxuXHQvKiBOb3RpZnkgY2hhbmdlIG9mIG1vbnRoL3llYXIuICovXG5cdF9ub3RpZnlDaGFuZ2U6IGZ1bmN0aW9uKCBpbnN0ICkge1xuXHRcdHZhciBvbkNoYW5nZSA9IHRoaXMuX2dldCggaW5zdCwgXCJvbkNoYW5nZU1vbnRoWWVhclwiICk7XG5cdFx0aWYgKCBvbkNoYW5nZSApIHtcblx0XHRcdG9uQ2hhbmdlLmFwcGx5KCAoIGluc3QuaW5wdXQgPyBpbnN0LmlucHV0WyAwIF0gOiBudWxsICksXG5cdFx0XHRcdFsgaW5zdC5zZWxlY3RlZFllYXIsIGluc3Quc2VsZWN0ZWRNb250aCArIDEsIGluc3QgXSApO1xuXHRcdH1cblx0fSxcblxuXHQvKiBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBtb250aHMgdG8gc2hvdy4gKi9cblx0X2dldE51bWJlck9mTW9udGhzOiBmdW5jdGlvbiggaW5zdCApIHtcblx0XHR2YXIgbnVtTW9udGhzID0gdGhpcy5fZ2V0KCBpbnN0LCBcIm51bWJlck9mTW9udGhzXCIgKTtcblx0XHRyZXR1cm4gKCBudW1Nb250aHMgPT0gbnVsbCA/IFsgMSwgMSBdIDogKCB0eXBlb2YgbnVtTW9udGhzID09PSBcIm51bWJlclwiID8gWyAxLCBudW1Nb250aHMgXSA6IG51bU1vbnRocyApICk7XG5cdH0sXG5cblx0LyogRGV0ZXJtaW5lIHRoZSBjdXJyZW50IG1heGltdW0gZGF0ZSAtIGVuc3VyZSBubyB0aW1lIGNvbXBvbmVudHMgYXJlIHNldC4gKi9cblx0X2dldE1pbk1heERhdGU6IGZ1bmN0aW9uKCBpbnN0LCBtaW5NYXggKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUoIGluc3QsIHRoaXMuX2dldCggaW5zdCwgbWluTWF4ICsgXCJEYXRlXCIgKSwgbnVsbCApO1xuXHR9LFxuXG5cdC8qIEZpbmQgdGhlIG51bWJlciBvZiBkYXlzIGluIGEgZ2l2ZW4gbW9udGguICovXG5cdF9nZXREYXlzSW5Nb250aDogZnVuY3Rpb24oIHllYXIsIG1vbnRoICkge1xuXHRcdHJldHVybiAzMiAtIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KCBuZXcgRGF0ZSggeWVhciwgbW9udGgsIDMyICkgKS5nZXREYXRlKCk7XG5cdH0sXG5cblx0LyogRmluZCB0aGUgZGF5IG9mIHRoZSB3ZWVrIG9mIHRoZSBmaXJzdCBvZiBhIG1vbnRoLiAqL1xuXHRfZ2V0Rmlyc3REYXlPZk1vbnRoOiBmdW5jdGlvbiggeWVhciwgbW9udGggKSB7XG5cdFx0cmV0dXJuIG5ldyBEYXRlKCB5ZWFyLCBtb250aCwgMSApLmdldERheSgpO1xuXHR9LFxuXG5cdC8qIERldGVybWluZXMgaWYgd2Ugc2hvdWxkIGFsbG93IGEgXCJuZXh0L3ByZXZcIiBtb250aCBkaXNwbGF5IGNoYW5nZS4gKi9cblx0X2NhbkFkanVzdE1vbnRoOiBmdW5jdGlvbiggaW5zdCwgb2Zmc2V0LCBjdXJZZWFyLCBjdXJNb250aCApIHtcblx0XHR2YXIgbnVtTW9udGhzID0gdGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoIGluc3QgKSxcblx0XHRcdGRhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIGN1clllYXIsXG5cdFx0XHRjdXJNb250aCArICggb2Zmc2V0IDwgMCA/IG9mZnNldCA6IG51bU1vbnRoc1sgMCBdICogbnVtTW9udGhzWyAxIF0gKSwgMSApICk7XG5cblx0XHRpZiAoIG9mZnNldCA8IDAgKSB7XG5cdFx0XHRkYXRlLnNldERhdGUoIHRoaXMuX2dldERheXNJbk1vbnRoKCBkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSApICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9pc0luUmFuZ2UoIGluc3QsIGRhdGUgKTtcblx0fSxcblxuXHQvKiBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgYWNjZXB0ZWQgcmFuZ2U/ICovXG5cdF9pc0luUmFuZ2U6IGZ1bmN0aW9uKCBpbnN0LCBkYXRlICkge1xuXHRcdHZhciB5ZWFyU3BsaXQsIGN1cnJlbnRZZWFyLFxuXHRcdFx0bWluRGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoIGluc3QsIFwibWluXCIgKSxcblx0XHRcdG1heERhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKCBpbnN0LCBcIm1heFwiICksXG5cdFx0XHRtaW5ZZWFyID0gbnVsbCxcblx0XHRcdG1heFllYXIgPSBudWxsLFxuXHRcdFx0eWVhcnMgPSB0aGlzLl9nZXQoIGluc3QsIFwieWVhclJhbmdlXCIgKTtcblx0XHRcdGlmICggeWVhcnMgKSB7XG5cdFx0XHRcdHllYXJTcGxpdCA9IHllYXJzLnNwbGl0KCBcIjpcIiApO1xuXHRcdFx0XHRjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0bWluWWVhciA9IHBhcnNlSW50KCB5ZWFyU3BsaXRbIDAgXSwgMTAgKTtcblx0XHRcdFx0bWF4WWVhciA9IHBhcnNlSW50KCB5ZWFyU3BsaXRbIDEgXSwgMTAgKTtcblx0XHRcdFx0aWYgKCB5ZWFyU3BsaXRbIDAgXS5tYXRjaCggL1srXFwtXS4qLyApICkge1xuXHRcdFx0XHRcdG1pblllYXIgKz0gY3VycmVudFllYXI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCB5ZWFyU3BsaXRbIDEgXS5tYXRjaCggL1srXFwtXS4qLyApICkge1xuXHRcdFx0XHRcdG1heFllYXIgKz0gY3VycmVudFllYXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdHJldHVybiAoICggIW1pbkRhdGUgfHwgZGF0ZS5nZXRUaW1lKCkgPj0gbWluRGF0ZS5nZXRUaW1lKCkgKSAmJlxuXHRcdFx0KCAhbWF4RGF0ZSB8fCBkYXRlLmdldFRpbWUoKSA8PSBtYXhEYXRlLmdldFRpbWUoKSApICYmXG5cdFx0XHQoICFtaW5ZZWFyIHx8IGRhdGUuZ2V0RnVsbFllYXIoKSA+PSBtaW5ZZWFyICkgJiZcblx0XHRcdCggIW1heFllYXIgfHwgZGF0ZS5nZXRGdWxsWWVhcigpIDw9IG1heFllYXIgKSApO1xuXHR9LFxuXG5cdC8qIFByb3ZpZGUgdGhlIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgZm9yIGZvcm1hdHRpbmcvcGFyc2luZy4gKi9cblx0X2dldEZvcm1hdENvbmZpZzogZnVuY3Rpb24oIGluc3QgKSB7XG5cdFx0dmFyIHNob3J0WWVhckN1dG9mZiA9IHRoaXMuX2dldCggaW5zdCwgXCJzaG9ydFllYXJDdXRvZmZcIiApO1xuXHRcdHNob3J0WWVhckN1dG9mZiA9ICggdHlwZW9mIHNob3J0WWVhckN1dG9mZiAhPT0gXCJzdHJpbmdcIiA/IHNob3J0WWVhckN1dG9mZiA6XG5cdFx0XHRuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgJSAxMDAgKyBwYXJzZUludCggc2hvcnRZZWFyQ3V0b2ZmLCAxMCApICk7XG5cdFx0cmV0dXJuIHsgc2hvcnRZZWFyQ3V0b2ZmOiBzaG9ydFllYXJDdXRvZmYsXG5cdFx0XHRkYXlOYW1lc1Nob3J0OiB0aGlzLl9nZXQoIGluc3QsIFwiZGF5TmFtZXNTaG9ydFwiICksIGRheU5hbWVzOiB0aGlzLl9nZXQoIGluc3QsIFwiZGF5TmFtZXNcIiApLFxuXHRcdFx0bW9udGhOYW1lc1Nob3J0OiB0aGlzLl9nZXQoIGluc3QsIFwibW9udGhOYW1lc1Nob3J0XCIgKSwgbW9udGhOYW1lczogdGhpcy5fZ2V0KCBpbnN0LCBcIm1vbnRoTmFtZXNcIiApIH07XG5cdH0sXG5cblx0LyogRm9ybWF0IHRoZSBnaXZlbiBkYXRlIGZvciBkaXNwbGF5LiAqL1xuXHRfZm9ybWF0RGF0ZTogZnVuY3Rpb24oIGluc3QsIGRheSwgbW9udGgsIHllYXIgKSB7XG5cdFx0aWYgKCAhZGF5ICkge1xuXHRcdFx0aW5zdC5jdXJyZW50RGF5ID0gaW5zdC5zZWxlY3RlZERheTtcblx0XHRcdGluc3QuY3VycmVudE1vbnRoID0gaW5zdC5zZWxlY3RlZE1vbnRoO1xuXHRcdFx0aW5zdC5jdXJyZW50WWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyO1xuXHRcdH1cblx0XHR2YXIgZGF0ZSA9ICggZGF5ID8gKCB0eXBlb2YgZGF5ID09PSBcIm9iamVjdFwiID8gZGF5IDpcblx0XHRcdHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KCBuZXcgRGF0ZSggeWVhciwgbW9udGgsIGRheSApICkgKSA6XG5cdFx0XHR0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCggbmV3IERhdGUoIGluc3QuY3VycmVudFllYXIsIGluc3QuY3VycmVudE1vbnRoLCBpbnN0LmN1cnJlbnREYXkgKSApICk7XG5cdFx0cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSggdGhpcy5fZ2V0KCBpbnN0LCBcImRhdGVGb3JtYXRcIiApLCBkYXRlLCB0aGlzLl9nZXRGb3JtYXRDb25maWcoIGluc3QgKSApO1xuXHR9XG59ICk7XG5cbi8qXG4gKiBCaW5kIGhvdmVyIGV2ZW50cyBmb3IgZGF0ZXBpY2tlciBlbGVtZW50cy5cbiAqIERvbmUgdmlhIGRlbGVnYXRlIHNvIHRoZSBiaW5kaW5nIG9ubHkgb2NjdXJzIG9uY2UgaW4gdGhlIGxpZmV0aW1lIG9mIHRoZSBwYXJlbnQgZGl2LlxuICogR2xvYmFsIGRhdGVwaWNrZXJfaW5zdEFjdGl2ZSwgc2V0IGJ5IF91cGRhdGVEYXRlcGlja2VyIGFsbG93cyB0aGUgaGFuZGxlcnMgdG8gZmluZCB0aGVpciB3YXkgYmFjayB0byB0aGUgYWN0aXZlIHBpY2tlci5cbiAqL1xuZnVuY3Rpb24gZGF0ZXBpY2tlcl9iaW5kSG92ZXIoIGRwRGl2ICkge1xuXHR2YXIgc2VsZWN0b3IgPSBcImJ1dHRvbiwgLnVpLWRhdGVwaWNrZXItcHJldiwgLnVpLWRhdGVwaWNrZXItbmV4dCwgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgYVwiO1xuXHRyZXR1cm4gZHBEaXYub24oIFwibW91c2VvdXRcIiwgc2VsZWN0b3IsIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdGlmICggdGhpcy5jbGFzc05hbWUuaW5kZXhPZiggXCJ1aS1kYXRlcGlja2VyLXByZXZcIiApICE9PSAtMSApIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCBcInVpLWRhdGVwaWNrZXItcHJldi1ob3ZlclwiICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXMuY2xhc3NOYW1lLmluZGV4T2YoIFwidWktZGF0ZXBpY2tlci1uZXh0XCIgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVDbGFzcyggXCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXJcIiApO1xuXHRcdFx0fVxuXHRcdH0gKVxuXHRcdC5vbiggXCJtb3VzZW92ZXJcIiwgc2VsZWN0b3IsIGRhdGVwaWNrZXJfaGFuZGxlTW91c2VvdmVyICk7XG59XG5cbmZ1bmN0aW9uIGRhdGVwaWNrZXJfaGFuZGxlTW91c2VvdmVyKCkge1xuXHRpZiAoICEkLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKCBkYXRlcGlja2VyX2luc3RBY3RpdmUuaW5saW5lID8gZGF0ZXBpY2tlcl9pbnN0QWN0aXZlLmRwRGl2LnBhcmVudCgpWyAwIF0gOiBkYXRlcGlja2VyX2luc3RBY3RpdmUuaW5wdXRbIDAgXSApICkge1xuXHRcdCQoIHRoaXMgKS5wYXJlbnRzKCBcIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyXCIgKS5maW5kKCBcImFcIiApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdGlmICggdGhpcy5jbGFzc05hbWUuaW5kZXhPZiggXCJ1aS1kYXRlcGlja2VyLXByZXZcIiApICE9PSAtMSApIHtcblx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggXCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXJcIiApO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuY2xhc3NOYW1lLmluZGV4T2YoIFwidWktZGF0ZXBpY2tlci1uZXh0XCIgKSAhPT0gLTEgKSB7XG5cdFx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoIFwidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyXCIgKTtcblx0XHR9XG5cdH1cbn1cblxuLyogalF1ZXJ5IGV4dGVuZCBub3cgaWdub3JlcyBudWxscyEgKi9cbmZ1bmN0aW9uIGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKCB0YXJnZXQsIHByb3BzICkge1xuXHQkLmV4dGVuZCggdGFyZ2V0LCBwcm9wcyApO1xuXHRmb3IgKCB2YXIgbmFtZSBpbiBwcm9wcyApIHtcblx0XHRpZiAoIHByb3BzWyBuYW1lIF0gPT0gbnVsbCApIHtcblx0XHRcdHRhcmdldFsgbmFtZSBdID0gcHJvcHNbIG5hbWUgXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyogSW52b2tlIHRoZSBkYXRlcGlja2VyIGZ1bmN0aW9uYWxpdHkuXG4gICBAcGFyYW0gIG9wdGlvbnMgIHN0cmluZyAtIGEgY29tbWFuZCwgb3B0aW9uYWxseSBmb2xsb3dlZCBieSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgb3Jcblx0XHRcdFx0XHRPYmplY3QgLSBzZXR0aW5ncyBmb3IgYXR0YWNoaW5nIG5ldyBkYXRlcGlja2VyIGZ1bmN0aW9uYWxpdHlcbiAgIEByZXR1cm4gIGpRdWVyeSBvYmplY3QgKi9cbiQuZm4uZGF0ZXBpY2tlciA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8qIFZlcmlmeSBhbiBlbXB0eSBjb2xsZWN0aW9uIHdhc24ndCBwYXNzZWQgLSBGaXhlcyAjNjk3NiAqL1xuXHRpZiAoICF0aGlzLmxlbmd0aCApIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qIEluaXRpYWxpc2UgdGhlIGRhdGUgcGlja2VyLiAqL1xuXHRpZiAoICEkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQgKSB7XG5cdFx0JCggZG9jdW1lbnQgKS5vbiggXCJtb3VzZWRvd25cIiwgJC5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2sgKTtcblx0XHQkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHR9XG5cblx0LyogQXBwZW5kIGRhdGVwaWNrZXIgbWFpbiBjb250YWluZXIgdG8gYm9keSBpZiBub3QgZXhpc3QuICovXG5cdGlmICggJCggXCIjXCIgKyAkLmRhdGVwaWNrZXIuX21haW5EaXZJZCApLmxlbmd0aCA9PT0gMCApIHtcblx0XHQkKCBcImJvZHlcIiApLmFwcGVuZCggJC5kYXRlcGlja2VyLmRwRGl2ICk7XG5cdH1cblxuXHR2YXIgb3RoZXJBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiICYmICggb3B0aW9ucyA9PT0gXCJpc0Rpc2FibGVkXCIgfHwgb3B0aW9ucyA9PT0gXCJnZXREYXRlXCIgfHwgb3B0aW9ucyA9PT0gXCJ3aWRnZXRcIiApICkge1xuXHRcdHJldHVybiAkLmRhdGVwaWNrZXJbIFwiX1wiICsgb3B0aW9ucyArIFwiRGF0ZXBpY2tlclwiIF0uXG5cdFx0XHRhcHBseSggJC5kYXRlcGlja2VyLCBbIHRoaXNbIDAgXSBdLmNvbmNhdCggb3RoZXJBcmdzICkgKTtcblx0fVxuXHRpZiAoIG9wdGlvbnMgPT09IFwib3B0aW9uXCIgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJndW1lbnRzWyAxIF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuICQuZGF0ZXBpY2tlclsgXCJfXCIgKyBvcHRpb25zICsgXCJEYXRlcGlja2VyXCIgXS5cblx0XHRcdGFwcGx5KCAkLmRhdGVwaWNrZXIsIFsgdGhpc1sgMCBdIF0uY29uY2F0KCBvdGhlckFyZ3MgKSApO1xuXHR9XG5cdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cblx0XHRcdCQuZGF0ZXBpY2tlclsgXCJfXCIgKyBvcHRpb25zICsgXCJEYXRlcGlja2VyXCIgXS5cblx0XHRcdFx0YXBwbHkoICQuZGF0ZXBpY2tlciwgWyB0aGlzIF0uY29uY2F0KCBvdGhlckFyZ3MgKSApIDpcblx0XHRcdCQuZGF0ZXBpY2tlci5fYXR0YWNoRGF0ZXBpY2tlciggdGhpcywgb3B0aW9ucyApO1xuXHR9ICk7XG59O1xuXG4kLmRhdGVwaWNrZXIgPSBuZXcgRGF0ZXBpY2tlcigpOyAvLyBzaW5nbGV0b24gaW5zdGFuY2VcbiQuZGF0ZXBpY2tlci5pbml0aWFsaXplZCA9IGZhbHNlO1xuJC5kYXRlcGlja2VyLnV1aWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiQuZGF0ZXBpY2tlci52ZXJzaW9uID0gXCIxLjEyLjFcIjtcblxudmFyIHdpZGdldHNEYXRlcGlja2VyID0gJC5kYXRlcGlja2VyO1xuXG5cblxuXG4vLyBUaGlzIGZpbGUgaXMgZGVwcmVjYXRlZFxudmFyIGllID0gJC51aS5pZSA9ICEhL21zaWUgW1xcdy5dKy8uZXhlYyggbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpICk7XG5cbi8qIVxuICogalF1ZXJ5IFVJIE1vdXNlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBNb3VzZVxuLy8+Pmdyb3VwOiBXaWRnZXRzXG4vLz4+ZGVzY3JpcHRpb246IEFic3RyYWN0cyBtb3VzZS1iYXNlZCBpbnRlcmFjdGlvbnMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGNlcnRhaW4gd2lkZ2V0cy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9tb3VzZS9cblxuXG5cbnZhciBtb3VzZUhhbmRsZWQgPSBmYWxzZTtcbiQoIGRvY3VtZW50ICkub24oIFwibW91c2V1cFwiLCBmdW5jdGlvbigpIHtcblx0bW91c2VIYW5kbGVkID0gZmFsc2U7XG59ICk7XG5cbnZhciB3aWRnZXRzTW91c2UgPSAkLndpZGdldCggXCJ1aS5tb3VzZVwiLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdG9wdGlvbnM6IHtcblx0XHRjYW5jZWw6IFwiaW5wdXQsIHRleHRhcmVhLCBidXR0b24sIHNlbGVjdCwgb3B0aW9uXCIsXG5cdFx0ZGlzdGFuY2U6IDEsXG5cdFx0ZGVsYXk6IDBcblx0fSxcblx0X21vdXNlSW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQub24oIFwibW91c2Vkb3duLlwiICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZURvd24oIGV2ZW50ICk7XG5cdFx0XHR9IClcblx0XHRcdC5vbiggXCJjbGljay5cIiArIHRoaXMud2lkZ2V0TmFtZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRydWUgPT09ICQuZGF0YSggZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICkgKSB7XG5cdFx0XHRcdFx0JC5yZW1vdmVEYXRhKCBldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIgKTtcblx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblxuXHRcdHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXHR9LFxuXG5cdC8vIFRPRE86IG1ha2Ugc3VyZSBkZXN0cm95aW5nIG9uZSBpbnN0YW5jZSBvZiBtb3VzZSBkb2Vzbid0IG1lc3Mgd2l0aFxuXHQvLyBvdGhlciBpbnN0YW5jZXMgb2YgbW91c2Vcblx0X21vdXNlRGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50Lm9mZiggXCIuXCIgKyB0aGlzLndpZGdldE5hbWUgKTtcblx0XHRpZiAoIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlICkge1xuXHRcdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0XHQub2ZmKCBcIm1vdXNlbW92ZS5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKVxuXHRcdFx0XHQub2ZmKCBcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSApO1xuXHRcdH1cblx0fSxcblxuXHRfbW91c2VEb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHQvLyBkb24ndCBsZXQgbW9yZSB0aGFuIG9uZSB3aWRnZXQgaGFuZGxlIG1vdXNlU3RhcnRcblx0XHRpZiAoIG1vdXNlSGFuZGxlZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9tb3VzZU1vdmVkID0gZmFsc2U7XG5cblx0XHQvLyBXZSBtYXkgaGF2ZSBtaXNzZWQgbW91c2V1cCAob3V0IG9mIHdpbmRvdylcblx0XHQoIHRoaXMuX21vdXNlU3RhcnRlZCAmJiB0aGlzLl9tb3VzZVVwKCBldmVudCApICk7XG5cblx0XHR0aGlzLl9tb3VzZURvd25FdmVudCA9IGV2ZW50O1xuXG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0YnRuSXNMZWZ0ID0gKCBldmVudC53aGljaCA9PT0gMSApLFxuXG5cdFx0XHQvLyBldmVudC50YXJnZXQubm9kZU5hbWUgd29ya3MgYXJvdW5kIGEgYnVnIGluIElFIDggd2l0aFxuXHRcdFx0Ly8gZGlzYWJsZWQgaW5wdXRzICgjNzYyMClcblx0XHRcdGVsSXNDYW5jZWwgPSAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuY2FuY2VsID09PSBcInN0cmluZ1wiICYmIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA/XG5cdFx0XHRcdCQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIHRoaXMub3B0aW9ucy5jYW5jZWwgKS5sZW5ndGggOiBmYWxzZSApO1xuXHRcdGlmICggIWJ0bklzTGVmdCB8fCBlbElzQ2FuY2VsIHx8ICF0aGlzLl9tb3VzZUNhcHR1cmUoIGV2ZW50ICkgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aGlzLm1vdXNlRGVsYXlNZXQgPSAhdGhpcy5vcHRpb25zLmRlbGF5O1xuXHRcdGlmICggIXRoaXMubW91c2VEZWxheU1ldCApIHtcblx0XHRcdHRoaXMuX21vdXNlRGVsYXlUaW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGF0Lm1vdXNlRGVsYXlNZXQgPSB0cnVlO1xuXHRcdFx0fSwgdGhpcy5vcHRpb25zLmRlbGF5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZURpc3RhbmNlTWV0KCBldmVudCApICYmIHRoaXMuX21vdXNlRGVsYXlNZXQoIGV2ZW50ICkgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSAoIHRoaXMuX21vdXNlU3RhcnQoIGV2ZW50ICkgIT09IGZhbHNlICk7XG5cdFx0XHRpZiAoICF0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENsaWNrIGV2ZW50IG1heSBuZXZlciBoYXZlIGZpcmVkIChHZWNrbyAmIE9wZXJhKVxuXHRcdGlmICggdHJ1ZSA9PT0gJC5kYXRhKCBldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIgKSApIHtcblx0XHRcdCQucmVtb3ZlRGF0YSggZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlc2UgZGVsZWdhdGVzIGFyZSByZXF1aXJlZCB0byBrZWVwIGNvbnRleHRcblx0XHR0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZU1vdmUoIGV2ZW50ICk7XG5cdFx0fTtcblx0XHR0aGlzLl9tb3VzZVVwRGVsZWdhdGUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VVcCggZXZlbnQgKTtcblx0XHR9O1xuXG5cdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0Lm9uKCBcIm1vdXNlbW92ZS5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKVxuXHRcdFx0Lm9uKCBcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSApO1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdG1vdXNlSGFuZGxlZCA9IHRydWU7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X21vdXNlTW92ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gT25seSBjaGVjayBmb3IgbW91c2V1cHMgb3V0c2lkZSB0aGUgZG9jdW1lbnQgaWYgeW91J3ZlIG1vdmVkIGluc2lkZSB0aGUgZG9jdW1lbnRcblx0XHQvLyBhdCBsZWFzdCBvbmNlLiBUaGlzIHByZXZlbnRzIHRoZSBmaXJpbmcgb2YgbW91c2V1cCBpbiB0aGUgY2FzZSBvZiBJRTw5LCB3aGljaCB3aWxsXG5cdFx0Ly8gZmlyZSBhIG1vdXNlbW92ZSBldmVudCBpZiBjb250ZW50IGlzIHBsYWNlZCB1bmRlciB0aGUgY3Vyc29yLiBTZWUgIzc3Nzhcblx0XHQvLyBTdXBwb3J0OiBJRSA8OVxuXHRcdGlmICggdGhpcy5fbW91c2VNb3ZlZCApIHtcblxuXHRcdFx0Ly8gSUUgbW91c2V1cCBjaGVjayAtIG1vdXNldXAgaGFwcGVuZWQgd2hlbiBtb3VzZSB3YXMgb3V0IG9mIHdpbmRvd1xuXHRcdFx0aWYgKCAkLnVpLmllICYmICggIWRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCA5ICkgJiZcblx0XHRcdFx0XHQhZXZlbnQuYnV0dG9uICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcCggZXZlbnQgKTtcblxuXHRcdFx0Ly8gSWZyYW1lIG1vdXNldXAgY2hlY2sgLSBtb3VzZXVwIG9jY3VycmVkIGluIGFub3RoZXIgZG9jdW1lbnRcblx0XHRcdH0gZWxzZSBpZiAoICFldmVudC53aGljaCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD04IC0gOVxuXHRcdFx0XHQvLyBTYWZhcmkgc2V0cyB3aGljaCB0byAwIGlmIHlvdSBwcmVzcyBhbnkgb2YgdGhlIGZvbGxvd2luZyBrZXlzXG5cdFx0XHRcdC8vIGR1cmluZyBhIGRyYWcgKCMxNDQ2MSlcblx0XHRcdFx0aWYgKCBldmVudC5vcmlnaW5hbEV2ZW50LmFsdEtleSB8fCBldmVudC5vcmlnaW5hbEV2ZW50LmN0cmxLZXkgfHxcblx0XHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBldmVudC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ICkge1xuXHRcdFx0XHRcdHRoaXMuaWdub3JlTWlzc2luZ1doaWNoID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGlmICggIXRoaXMuaWdub3JlTWlzc2luZ1doaWNoICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl9tb3VzZVVwKCBldmVudCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBldmVudC53aGljaCB8fCBldmVudC5idXR0b24gKSB7XG5cdFx0XHR0aGlzLl9tb3VzZU1vdmVkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlU3RhcnRlZCApIHtcblx0XHRcdHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKTtcblx0XHRcdHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEaXN0YW5jZU1ldCggZXZlbnQgKSAmJiB0aGlzLl9tb3VzZURlbGF5TWV0KCBldmVudCApICkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID1cblx0XHRcdFx0KCB0aGlzLl9tb3VzZVN0YXJ0KCB0aGlzLl9tb3VzZURvd25FdmVudCwgZXZlbnQgKSAhPT0gZmFsc2UgKTtcblx0XHRcdCggdGhpcy5fbW91c2VTdGFydGVkID8gdGhpcy5fbW91c2VEcmFnKCBldmVudCApIDogdGhpcy5fbW91c2VVcCggZXZlbnQgKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiAhdGhpcy5fbW91c2VTdGFydGVkO1xuXHR9LFxuXG5cdF9tb3VzZVVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0Lm9mZiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdC5vZmYoIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlU3RhcnRlZCApIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9IGZhbHNlO1xuXG5cdFx0XHRpZiAoIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0XHQkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiwgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9tb3VzZVN0b3AoIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZURlbGF5VGltZXIgKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuX21vdXNlRGVsYXlUaW1lciApO1xuXHRcdFx0ZGVsZXRlIHRoaXMuX21vdXNlRGVsYXlUaW1lcjtcblx0XHR9XG5cblx0XHR0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCA9IGZhbHNlO1xuXHRcdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH0sXG5cblx0X21vdXNlRGlzdGFuY2VNZXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRyZXR1cm4gKCBNYXRoLm1heChcblx0XHRcdFx0TWF0aC5hYnMoIHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VYIC0gZXZlbnQucGFnZVggKSxcblx0XHRcdFx0TWF0aC5hYnMoIHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VZIC0gZXZlbnQucGFnZVkgKVxuXHRcdFx0KSA+PSB0aGlzLm9wdGlvbnMuZGlzdGFuY2Vcblx0XHQpO1xuXHR9LFxuXG5cdF9tb3VzZURlbGF5TWV0OiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldDtcblx0fSxcblxuXHQvLyBUaGVzZSBhcmUgcGxhY2Vob2xkZXIgbWV0aG9kcywgdG8gYmUgb3ZlcnJpZGVuIGJ5IGV4dGVuZGluZyBwbHVnaW5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHt9LFxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7fSxcblx0X21vdXNlU3RvcDogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge30sXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHsgcmV0dXJuIHRydWU7IH1cbn0gKTtcblxuXG5cblxuLy8gJC51aS5wbHVnaW4gaXMgZGVwcmVjYXRlZC4gVXNlICQud2lkZ2V0KCkgZXh0ZW5zaW9ucyBpbnN0ZWFkLlxudmFyIHBsdWdpbiA9ICQudWkucGx1Z2luID0ge1xuXHRhZGQ6IGZ1bmN0aW9uKCBtb2R1bGUsIG9wdGlvbiwgc2V0ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0cHJvdG8gPSAkLnVpWyBtb2R1bGUgXS5wcm90b3R5cGU7XG5cdFx0Zm9yICggaSBpbiBzZXQgKSB7XG5cdFx0XHRwcm90by5wbHVnaW5zWyBpIF0gPSBwcm90by5wbHVnaW5zWyBpIF0gfHwgW107XG5cdFx0XHRwcm90by5wbHVnaW5zWyBpIF0ucHVzaCggWyBvcHRpb24sIHNldFsgaSBdIF0gKTtcblx0XHR9XG5cdH0sXG5cdGNhbGw6IGZ1bmN0aW9uKCBpbnN0YW5jZSwgbmFtZSwgYXJncywgYWxsb3dEaXNjb25uZWN0ZWQgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRzZXQgPSBpbnN0YW5jZS5wbHVnaW5zWyBuYW1lIF07XG5cblx0XHRpZiAoICFzZXQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAhYWxsb3dEaXNjb25uZWN0ZWQgJiYgKCAhaW5zdGFuY2UuZWxlbWVudFsgMCBdLnBhcmVudE5vZGUgfHxcblx0XHRcdFx0aW5zdGFuY2UuZWxlbWVudFsgMCBdLnBhcmVudE5vZGUubm9kZVR5cGUgPT09IDExICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRpZiAoIGluc3RhbmNlLm9wdGlvbnNbIHNldFsgaSBdWyAwIF0gXSApIHtcblx0XHRcdFx0c2V0WyBpIF1bIDEgXS5hcHBseSggaW5zdGFuY2UuZWxlbWVudCwgYXJncyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuXG5cbnZhciBzYWZlQmx1ciA9ICQudWkuc2FmZUJsdXIgPSBmdW5jdGlvbiggZWxlbWVudCApIHtcblxuXHQvLyBTdXBwb3J0OiBJRTkgLSAxMCBvbmx5XG5cdC8vIElmIHRoZSA8Ym9keT4gaXMgYmx1cnJlZCwgSUUgd2lsbCBzd2l0Y2ggd2luZG93cywgc2VlICM5NDIwXG5cdGlmICggZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwiYm9keVwiICkge1xuXHRcdCQoIGVsZW1lbnQgKS50cmlnZ2VyKCBcImJsdXJcIiApO1xuXHR9XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIERyYWdnYWJsZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRHJhZ2dhYmxlXG4vLz4+Z3JvdXA6IEludGVyYWN0aW9uc1xuLy8+PmRlc2NyaXB0aW9uOiBFbmFibGVzIGRyYWdnaW5nIGZ1bmN0aW9uYWxpdHkgZm9yIGFueSBlbGVtZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RyYWdnYWJsZS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9kcmFnZ2FibGUvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvZHJhZ2dhYmxlLmNzc1xuXG5cblxuJC53aWRnZXQoIFwidWkuZHJhZ2dhYmxlXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwiZHJhZ1wiLFxuXHRvcHRpb25zOiB7XG5cdFx0YWRkQ2xhc3NlczogdHJ1ZSxcblx0XHRhcHBlbmRUbzogXCJwYXJlbnRcIixcblx0XHRheGlzOiBmYWxzZSxcblx0XHRjb25uZWN0VG9Tb3J0YWJsZTogZmFsc2UsXG5cdFx0Y29udGFpbm1lbnQ6IGZhbHNlLFxuXHRcdGN1cnNvcjogXCJhdXRvXCIsXG5cdFx0Y3Vyc29yQXQ6IGZhbHNlLFxuXHRcdGdyaWQ6IGZhbHNlLFxuXHRcdGhhbmRsZTogZmFsc2UsXG5cdFx0aGVscGVyOiBcIm9yaWdpbmFsXCIsXG5cdFx0aWZyYW1lRml4OiBmYWxzZSxcblx0XHRvcGFjaXR5OiBmYWxzZSxcblx0XHRyZWZyZXNoUG9zaXRpb25zOiBmYWxzZSxcblx0XHRyZXZlcnQ6IGZhbHNlLFxuXHRcdHJldmVydER1cmF0aW9uOiA1MDAsXG5cdFx0c2NvcGU6IFwiZGVmYXVsdFwiLFxuXHRcdHNjcm9sbDogdHJ1ZSxcblx0XHRzY3JvbGxTZW5zaXRpdml0eTogMjAsXG5cdFx0c2Nyb2xsU3BlZWQ6IDIwLFxuXHRcdHNuYXA6IGZhbHNlLFxuXHRcdHNuYXBNb2RlOiBcImJvdGhcIixcblx0XHRzbmFwVG9sZXJhbmNlOiAyMCxcblx0XHRzdGFjazogZmFsc2UsXG5cdFx0ekluZGV4OiBmYWxzZSxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGRyYWc6IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbFxuXHR9LFxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhlbHBlciA9PT0gXCJvcmlnaW5hbFwiICkge1xuXHRcdFx0dGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5hZGRDbGFzc2VzICkge1xuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktZHJhZ2dhYmxlXCIgKTtcblx0XHR9XG5cdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHRcdGlmICgga2V5ID09PSBcImhhbmRsZVwiICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0XHR0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTtcblx0XHR9XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggKCB0aGlzLmhlbHBlciB8fCB0aGlzLmVsZW1lbnQgKS5pcyggXCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nXCIgKSApIHtcblx0XHRcdHRoaXMuZGVzdHJveU9uQ2xlYXIgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKTtcblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblx0fSxcblxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHQvLyBBbW9uZyBvdGhlcnMsIHByZXZlbnQgYSBkcmFnIG9uIGEgcmVzaXphYmxlLWhhbmRsZVxuXHRcdGlmICggdGhpcy5oZWxwZXIgfHwgby5kaXNhYmxlZCB8fFxuXHRcdFx0XHQkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1yZXNpemFibGUtaGFuZGxlXCIgKS5sZW5ndGggPiAwICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vUXVpdCBpZiB3ZSdyZSBub3Qgb24gYSB2YWxpZCBoYW5kbGVcblx0XHR0aGlzLmhhbmRsZSA9IHRoaXMuX2dldEhhbmRsZSggZXZlbnQgKTtcblx0XHRpZiAoICF0aGlzLmhhbmRsZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLl9ibHVyQWN0aXZlRWxlbWVudCggZXZlbnQgKTtcblxuXHRcdHRoaXMuX2Jsb2NrRnJhbWVzKCBvLmlmcmFtZUZpeCA9PT0gdHJ1ZSA/IFwiaWZyYW1lXCIgOiBvLmlmcmFtZUZpeCApO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fSxcblxuXHRfYmxvY2tGcmFtZXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLmlmcmFtZUJsb2NrcyA9IHRoaXMuZG9jdW1lbnQuZmluZCggc2VsZWN0b3IgKS5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGlmcmFtZSA9ICQoIHRoaXMgKTtcblxuXHRcdFx0cmV0dXJuICQoIFwiPGRpdj5cIiApXG5cdFx0XHRcdC5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiIClcblx0XHRcdFx0LmFwcGVuZFRvKCBpZnJhbWUucGFyZW50KCkgKVxuXHRcdFx0XHQub3V0ZXJXaWR0aCggaWZyYW1lLm91dGVyV2lkdGgoKSApXG5cdFx0XHRcdC5vdXRlckhlaWdodCggaWZyYW1lLm91dGVySGVpZ2h0KCkgKVxuXHRcdFx0XHQub2Zmc2V0KCBpZnJhbWUub2Zmc2V0KCkgKVsgMCBdO1xuXHRcdH0gKTtcblx0fSxcblxuXHRfdW5ibG9ja0ZyYW1lczogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLmlmcmFtZUJsb2NrcyApIHtcblx0XHRcdHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpO1xuXHRcdFx0ZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzO1xuXHRcdH1cblx0fSxcblxuXHRfYmx1ckFjdGl2ZUVsZW1lbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgYWN0aXZlRWxlbWVudCA9ICQudWkuc2FmZUFjdGl2ZUVsZW1lbnQoIHRoaXMuZG9jdW1lbnRbIDAgXSApLFxuXHRcdFx0dGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICk7XG5cblx0XHQvLyBEb24ndCBibHVyIGlmIHRoZSBldmVudCBvY2N1cnJlZCBvbiBhbiBlbGVtZW50IHRoYXQgaXMgd2l0aGluXG5cdFx0Ly8gdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnRcblx0XHQvLyBTZWUgIzEwNTI3LCAjMTI0NzJcblx0XHRpZiAoIHRhcmdldC5jbG9zZXN0KCBhY3RpdmVFbGVtZW50ICkubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEJsdXIgYW55IGVsZW1lbnQgdGhhdCBjdXJyZW50bHkgaGFzIGZvY3VzLCBzZWUgIzQyNjFcblx0XHQkLnVpLnNhZmVCbHVyKCBhY3RpdmVFbGVtZW50ICk7XG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0Ly9DcmVhdGUgYW5kIGFwcGVuZCB0aGUgdmlzaWJsZSBoZWxwZXJcblx0XHR0aGlzLmhlbHBlciA9IHRoaXMuX2NyZWF0ZUhlbHBlciggZXZlbnQgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmhlbHBlciwgXCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIiApO1xuXG5cdFx0Ly9DYWNoZSB0aGUgaGVscGVyIHNpemVcblx0XHR0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7XG5cblx0XHQvL0lmIGRkbWFuYWdlciBpcyB1c2VkIGZvciBkcm9wcGFibGVzLCBzZXQgdGhlIGdsb2JhbCBkcmFnZ2FibGVcblx0XHRpZiAoICQudWkuZGRtYW5hZ2VyICkge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIuY3VycmVudCA9IHRoaXM7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vU3RvcmUgdGhlIGhlbHBlcidzIGNzcyBwb3NpdGlvblxuXHRcdHRoaXMuY3NzUG9zaXRpb24gPSB0aGlzLmhlbHBlci5jc3MoIFwicG9zaXRpb25cIiApO1xuXHRcdHRoaXMuc2Nyb2xsUGFyZW50ID0gdGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCB0cnVlICk7XG5cdFx0dGhpcy5vZmZzZXRQYXJlbnQgPSB0aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTtcblx0XHR0aGlzLmhhc0ZpeGVkQW5jZXN0b3IgPSB0aGlzLmhlbHBlci5wYXJlbnRzKCkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICQoIHRoaXMgKS5jc3MoIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCI7XG5cdFx0XHR9ICkubGVuZ3RoID4gMDtcblxuXHRcdC8vVGhlIGVsZW1lbnQncyBhYnNvbHV0ZSBwb3NpdGlvbiBvbiB0aGUgcGFnZSBtaW51cyBtYXJnaW5zXG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblx0XHR0aGlzLl9yZWZyZXNoT2Zmc2V0cyggZXZlbnQgKTtcblxuXHRcdC8vR2VuZXJhdGUgdGhlIG9yaWdpbmFsIHBvc2l0aW9uXG5cdFx0dGhpcy5vcmlnaW5hbFBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50LCBmYWxzZSApO1xuXHRcdHRoaXMub3JpZ2luYWxQYWdlWCA9IGV2ZW50LnBhZ2VYO1xuXHRcdHRoaXMub3JpZ2luYWxQYWdlWSA9IGV2ZW50LnBhZ2VZO1xuXG5cdFx0Ly9BZGp1c3QgdGhlIG1vdXNlIG9mZnNldCByZWxhdGl2ZSB0byB0aGUgaGVscGVyIGlmIFwiY3Vyc29yQXRcIiBpcyBzdXBwbGllZFxuXHRcdCggby5jdXJzb3JBdCAmJiB0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKCBvLmN1cnNvckF0ICkgKTtcblxuXHRcdC8vU2V0IGEgY29udGFpbm1lbnQgaWYgZ2l2ZW4gaW4gdGhlIG9wdGlvbnNcblx0XHR0aGlzLl9zZXRDb250YWlubWVudCgpO1xuXG5cdFx0Ly9UcmlnZ2VyIGV2ZW50ICsgY2FsbGJhY2tzXG5cdFx0aWYgKCB0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5fY2xlYXIoKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvL1JlY2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Ly9QcmVwYXJlIHRoZSBkcm9wcGFibGUgb2Zmc2V0c1xuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdC8vIEV4ZWN1dGUgdGhlIGRyYWcgb25jZSAtIHRoaXMgY2F1c2VzIHRoZSBoZWxwZXIgbm90IHRvIGJlIHZpc2libGUgYmVmb3JlIGdldHRpbmcgaXRzXG5cdFx0Ly8gY29ycmVjdCBwb3NpdGlvblxuXHRcdHRoaXMuX21vdXNlRHJhZyggZXZlbnQsIHRydWUgKTtcblxuXHRcdC8vIElmIHRoZSBkZG1hbmFnZXIgaXMgdXNlZCBmb3IgZHJvcHBhYmxlcywgaW5mb3JtIHRoZSBtYW5hZ2VyIHRoYXQgZHJhZ2dpbmcgaGFzIHN0YXJ0ZWRcblx0XHQvLyAoc2VlICM1MDAzKVxuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcmFnU3RhcnQoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X3JlZnJlc2hPZmZzZXRzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5vZmZzZXQgPSB7XG5cdFx0XHR0b3A6IHRoaXMucG9zaXRpb25BYnMudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCxcblx0XHRcdGxlZnQ6IHRoaXMucG9zaXRpb25BYnMubGVmdCAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0c2Nyb2xsOiBmYWxzZSxcblx0XHRcdHBhcmVudDogdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCksXG5cdFx0XHRyZWxhdGl2ZTogdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKVxuXHRcdH07XG5cblx0XHR0aGlzLm9mZnNldC5jbGljayA9IHtcblx0XHRcdGxlZnQ6IGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQubGVmdCxcblx0XHRcdHRvcDogZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC50b3Bcblx0XHR9O1xuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCBldmVudCwgbm9Qcm9wYWdhdGlvbiApIHtcblxuXHRcdC8vIHJlc2V0IGFueSBuZWNlc3NhcnkgY2FjaGVkIHByb3BlcnRpZXMgKHNlZSAjNTAwOSlcblx0XHRpZiAoIHRoaXMuaGFzRml4ZWRBbmNlc3RvciApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8vQ29tcHV0ZSB0aGUgaGVscGVycyBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKCBldmVudCwgdHJ1ZSApO1xuXHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyggXCJhYnNvbHV0ZVwiICk7XG5cblx0XHQvL0NhbGwgcGx1Z2lucyBhbmQgY2FsbGJhY2tzIGFuZCB1c2UgdGhlIHJlc3VsdGluZyBwb3NpdGlvbiBpZiBzb21ldGhpbmcgaXMgcmV0dXJuZWRcblx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0dmFyIHVpID0gdGhpcy5fdWlIYXNoKCk7XG5cdFx0XHRpZiAoIHRoaXMuX3RyaWdnZXIoIFwiZHJhZ1wiLCBldmVudCwgdWkgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuX21vdXNlVXAoIG5ldyAkLkV2ZW50KCBcIm1vdXNldXBcIiwgZXZlbnQgKSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvc2l0aW9uID0gdWkucG9zaXRpb247XG5cdFx0fVxuXG5cdFx0dGhpcy5oZWxwZXJbIDAgXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgXCJweFwiO1xuXHRcdHRoaXMuaGVscGVyWyAwIF0uc3R5bGUudG9wID0gdGhpcy5wb3NpdGlvbi50b3AgKyBcInB4XCI7XG5cblx0XHRpZiAoICQudWkuZGRtYW5hZ2VyICkge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIuZHJhZyggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly9JZiB3ZSBhcmUgdXNpbmcgZHJvcHBhYmxlcywgaW5mb3JtIHRoZSBtYW5hZ2VyIGFib3V0IHRoZSBkcm9wXG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0ZHJvcHBlZCA9IGZhbHNlO1xuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgJiYgIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyICkge1xuXHRcdFx0ZHJvcHBlZCA9ICQudWkuZGRtYW5hZ2VyLmRyb3AoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0Ly9pZiBhIGRyb3AgY29tZXMgZnJvbSBvdXRzaWRlIChhIHNvcnRhYmxlKVxuXHRcdGlmICggdGhpcy5kcm9wcGVkICkge1xuXHRcdFx0ZHJvcHBlZCA9IHRoaXMuZHJvcHBlZDtcblx0XHRcdHRoaXMuZHJvcHBlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggKCB0aGlzLm9wdGlvbnMucmV2ZXJ0ID09PSBcImludmFsaWRcIiAmJiAhZHJvcHBlZCApIHx8XG5cdFx0XHRcdCggdGhpcy5vcHRpb25zLnJldmVydCA9PT0gXCJ2YWxpZFwiICYmIGRyb3BwZWQgKSB8fFxuXHRcdFx0XHR0aGlzLm9wdGlvbnMucmV2ZXJ0ID09PSB0cnVlIHx8ICggJC5pc0Z1bmN0aW9uKCB0aGlzLm9wdGlvbnMucmV2ZXJ0ICkgJiZcblx0XHRcdFx0dGhpcy5vcHRpb25zLnJldmVydC5jYWxsKCB0aGlzLmVsZW1lbnQsIGRyb3BwZWQgKSApXG5cdFx0KSB7XG5cdFx0XHQkKCB0aGlzLmhlbHBlciApLmFuaW1hdGUoXG5cdFx0XHRcdHRoaXMub3JpZ2luYWxQb3NpdGlvbixcblx0XHRcdFx0cGFyc2VJbnQoIHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwgMTAgKSxcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGF0Ll90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQgKSAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9jbGVhcigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCB0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQgKSAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuX2NsZWFyKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5fdW5ibG9ja0ZyYW1lcygpO1xuXG5cdFx0Ly8gSWYgdGhlIGRkbWFuYWdlciBpcyB1c2VkIGZvciBkcm9wcGFibGVzLCBpbmZvcm0gdGhlIG1hbmFnZXIgdGhhdCBkcmFnZ2luZyBoYXMgc3RvcHBlZFxuXHRcdC8vIChzZWUgIzUwMDMpXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWdTdG9wKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdC8vIE9ubHkgbmVlZCB0byBmb2N1cyBpZiB0aGUgZXZlbnQgb2NjdXJyZWQgb24gdGhlIGRyYWdnYWJsZSBpdHNlbGYsIHNlZSAjMTA1Mjdcblx0XHRpZiAoIHRoaXMuaGFuZGxlRWxlbWVudC5pcyggZXZlbnQudGFyZ2V0ICkgKSB7XG5cblx0XHRcdC8vIFRoZSBpbnRlcmFjdGlvbiBpcyBvdmVyOyB3aGV0aGVyIG9yIG5vdCB0aGUgY2xpY2sgcmVzdWx0ZWQgaW4gYSBkcmFnLFxuXHRcdFx0Ly8gZm9jdXMgdGhlIGVsZW1lbnRcblx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJC51aS5tb3VzZS5wcm90b3R5cGUuX21vdXNlVXAuY2FsbCggdGhpcywgZXZlbnQgKTtcblx0fSxcblxuXHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCB0aGlzLmhlbHBlci5pcyggXCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nXCIgKSApIHtcblx0XHRcdHRoaXMuX21vdXNlVXAoIG5ldyAkLkV2ZW50KCBcIm1vdXNldXBcIiwgeyB0YXJnZXQ6IHRoaXMuZWxlbWVudFsgMCBdIH0gKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jbGVhcigpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0X2dldEhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaGFuZGxlID9cblx0XHRcdCEhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5oYW5kbGUgKSApLmxlbmd0aCA6XG5cdFx0XHR0cnVlO1xuXHR9LFxuXG5cdF9zZXRIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGFuZGxlRWxlbWVudCA9IHRoaXMub3B0aW9ucy5oYW5kbGUgP1xuXHRcdFx0dGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5oYW5kbGUgKSA6IHRoaXMuZWxlbWVudDtcblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5oYW5kbGVFbGVtZW50LCBcInVpLWRyYWdnYWJsZS1oYW5kbGVcIiApO1xuXHR9LFxuXG5cdF9yZW1vdmVIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmhhbmRsZUVsZW1lbnQsIFwidWktZHJhZ2dhYmxlLWhhbmRsZVwiICk7XG5cdH0sXG5cblx0X2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRoZWxwZXJJc0Z1bmN0aW9uID0gJC5pc0Z1bmN0aW9uKCBvLmhlbHBlciApLFxuXHRcdFx0aGVscGVyID0gaGVscGVySXNGdW5jdGlvbiA/XG5cdFx0XHRcdCQoIG8uaGVscGVyLmFwcGx5KCB0aGlzLmVsZW1lbnRbIDAgXSwgWyBldmVudCBdICkgKSA6XG5cdFx0XHRcdCggby5oZWxwZXIgPT09IFwiY2xvbmVcIiA/XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0ciggXCJpZFwiICkgOlxuXHRcdFx0XHRcdHRoaXMuZWxlbWVudCApO1xuXG5cdFx0aWYgKCAhaGVscGVyLnBhcmVudHMoIFwiYm9keVwiICkubGVuZ3RoICkge1xuXHRcdFx0aGVscGVyLmFwcGVuZFRvKCAoIG8uYXBwZW5kVG8gPT09IFwicGFyZW50XCIgP1xuXHRcdFx0XHR0aGlzLmVsZW1lbnRbIDAgXS5wYXJlbnROb2RlIDpcblx0XHRcdFx0by5hcHBlbmRUbyApICk7XG5cdFx0fVxuXG5cdFx0Ly8gSHR0cDovL2J1Z3MuanF1ZXJ5dWkuY29tL3RpY2tldC85NDQ2XG5cdFx0Ly8gYSBoZWxwZXIgZnVuY3Rpb24gY2FuIHJldHVybiB0aGUgb3JpZ2luYWwgZWxlbWVudFxuXHRcdC8vIHdoaWNoIHdvdWxkbid0IGhhdmUgYmVlbiBzZXQgdG8gcmVsYXRpdmUgaW4gX2NyZWF0ZVxuXHRcdGlmICggaGVscGVySXNGdW5jdGlvbiAmJiBoZWxwZXJbIDAgXSA9PT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHR0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWxwZXJbIDAgXSAhPT0gdGhpcy5lbGVtZW50WyAwIF0gJiZcblx0XHRcdFx0ISggLyhmaXhlZHxhYnNvbHV0ZSkvICkudGVzdCggaGVscGVyLmNzcyggXCJwb3NpdGlvblwiICkgKSApIHtcblx0XHRcdGhlbHBlci5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9zZXRQb3NpdGlvblJlbGF0aXZlOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICEoIC9eKD86cnxhfGYpLyApLnRlc3QoIHRoaXMuZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApICkgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cdH0sXG5cblx0X2FkanVzdE9mZnNldEZyb21IZWxwZXI6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0aWYgKCB0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gb2JqLnNwbGl0KCBcIiBcIiApO1xuXHRcdH1cblx0XHRpZiAoICQuaXNBcnJheSggb2JqICkgKSB7XG5cdFx0XHRvYmogPSB7IGxlZnQ6ICtvYmpbIDAgXSwgdG9wOiArb2JqWyAxIF0gfHwgMCB9O1xuXHRcdH1cblx0XHRpZiAoIFwibGVmdFwiIGluIG9iaiApIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSBvYmoubGVmdCArIHRoaXMubWFyZ2lucy5sZWZ0O1xuXHRcdH1cblx0XHRpZiAoIFwicmlnaHRcIiBpbiBvYmogKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtIG9iai5yaWdodCArIHRoaXMubWFyZ2lucy5sZWZ0O1xuXHRcdH1cblx0XHRpZiAoIFwidG9wXCIgaW4gb2JqICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gb2JqLnRvcCArIHRoaXMubWFyZ2lucy50b3A7XG5cdFx0fVxuXHRcdGlmICggXCJib3R0b21cIiBpbiBvYmogKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIG9iai5ib3R0b20gKyB0aGlzLm1hcmdpbnMudG9wO1xuXHRcdH1cblx0fSxcblxuXHRfaXNSb290Tm9kZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuICggLyhodG1sfGJvZHkpL2kgKS50ZXN0KCBlbGVtZW50LnRhZ05hbWUgKSB8fCBlbGVtZW50ID09PSB0aGlzLmRvY3VtZW50WyAwIF07XG5cdH0sXG5cblx0X2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24oKSB7XG5cblx0XHQvL0dldCB0aGUgb2Zmc2V0UGFyZW50IGFuZCBjYWNoZSBpdHMgcG9zaXRpb25cblx0XHR2YXIgcG8gPSB0aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKSxcblx0XHRcdGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdO1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZSB3aGVyZSB3ZSBuZWVkIHRvIG1vZGlmeSBhIG9mZnNldCBjYWxjdWxhdGVkIG9uIHN0YXJ0LCBzaW5jZSB0aGVcblx0XHQvLyBmb2xsb3dpbmcgaGFwcGVuZWQ6XG5cdFx0Ly8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGVcblx0XHQvLyBuZXh0IHBvc2l0aW9uZWQgcGFyZW50XG5cdFx0Ly8gMi4gVGhlIGFjdHVhbCBvZmZzZXQgcGFyZW50IGlzIGEgY2hpbGQgb2YgdGhlIHNjcm9sbCBwYXJlbnQsIGFuZCB0aGUgc2Nyb2xsIHBhcmVudCBpc24ndFxuXHRcdC8vIHRoZSBkb2N1bWVudCwgd2hpY2ggbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIGlzIGluY2x1ZGVkIGluIHRoZSBpbml0aWFsIGNhbGN1bGF0aW9uIG9mIHRoZVxuXHRcdC8vIG9mZnNldCBvZiB0aGUgcGFyZW50LCBhbmQgbmV2ZXIgcmVjYWxjdWxhdGVkIHVwb24gZHJhZ1xuXHRcdGlmICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IGRvY3VtZW50ICYmXG5cdFx0XHRcdCQuY29udGFpbnMoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0sIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gKSApIHtcblx0XHRcdHBvLmxlZnQgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpO1xuXHRcdFx0cG8udG9wICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5faXNSb290Tm9kZSggdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkge1xuXHRcdFx0cG8gPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBvLnRvcCArICggcGFyc2VJbnQoIHRoaXMub2Zmc2V0UGFyZW50LmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0bGVmdDogcG8ubGVmdCArICggcGFyc2VJbnQoIHRoaXMub2Zmc2V0UGFyZW50LmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApLCAxMCApIHx8IDAgKVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2V0UmVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5jc3NQb3NpdGlvbiAhPT0gXCJyZWxhdGl2ZVwiICkge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0dmFyIHAgPSB0aGlzLmVsZW1lbnQucG9zaXRpb24oKSxcblx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPSB0aGlzLl9pc1Jvb3ROb2RlKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBwLnRvcCAtICggcGFyc2VJbnQoIHRoaXMuaGVscGVyLmNzcyggXCJ0b3BcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdCggIXNjcm9sbElzUm9vdE5vZGUgPyB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6IDAgKSxcblx0XHRcdGxlZnQ6IHAubGVmdCAtICggcGFyc2VJbnQoIHRoaXMuaGVscGVyLmNzcyggXCJsZWZ0XCIgKSwgMTAgKSB8fCAwICkgK1xuXHRcdFx0XHQoICFzY3JvbGxJc1Jvb3ROb2RlID8gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogMCApXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9jYWNoZU1hcmdpbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWFyZ2lucyA9IHtcblx0XHRcdGxlZnQ6ICggcGFyc2VJbnQoIHRoaXMuZWxlbWVudC5jc3MoIFwibWFyZ2luTGVmdFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0dG9wOiAoIHBhcnNlSW50KCB0aGlzLmVsZW1lbnQuY3NzKCBcIm1hcmdpblRvcFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0cmlnaHQ6ICggcGFyc2VJbnQoIHRoaXMuZWxlbWVudC5jc3MoIFwibWFyZ2luUmlnaHRcIiApLCAxMCApIHx8IDAgKSxcblx0XHRcdGJvdHRvbTogKCBwYXJzZUludCggdGhpcy5lbGVtZW50LmNzcyggXCJtYXJnaW5Cb3R0b21cIiApLCAxMCApIHx8IDAgKVxuXHRcdH07XG5cdH0sXG5cblx0X2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0fSxcblxuXHRfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGlzVXNlclNjcm9sbGFibGUsIGMsIGNlLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdO1xuXG5cdFx0dGhpcy5yZWxhdGl2ZUNvbnRhaW5lciA9IG51bGw7XG5cblx0XHRpZiAoICFvLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IG51bGw7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcIndpbmRvd1wiICkge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IFtcblx0XHRcdFx0JCggd2luZG93ICkuc2Nyb2xsTGVmdCgpIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LFxuXHRcdFx0XHQkKCB3aW5kb3cgKS5zY3JvbGxUb3AoKSAtIHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AsXG5cdFx0XHRcdCQoIHdpbmRvdyApLnNjcm9sbExlZnQoKSArICQoIHdpbmRvdyApLndpZHRoKCkgLVxuXHRcdFx0XHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0JCggd2luZG93ICkuc2Nyb2xsVG9wKCkgK1xuXHRcdFx0XHRcdCggJCggd2luZG93ICkuaGVpZ2h0KCkgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCApIC1cblx0XHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHQwLFxuXHRcdFx0XHQwLFxuXHRcdFx0XHQkKCBkb2N1bWVudCApLndpZHRoKCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdCggJCggZG9jdW1lbnQgKS5oZWlnaHQoKSB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0ICkgLVxuXHRcdFx0XHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcFxuXHRcdFx0XTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG8uY29udGFpbm1lbnQuY29uc3RydWN0b3IgPT09IEFycmF5ICkge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IG8uY29udGFpbm1lbnQ7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcInBhcmVudFwiICkge1xuXHRcdFx0by5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWyAwIF0ucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHRjID0gJCggby5jb250YWlubWVudCApO1xuXHRcdGNlID0gY1sgMCBdO1xuXG5cdFx0aWYgKCAhY2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXNVc2VyU2Nyb2xsYWJsZSA9IC8oc2Nyb2xsfGF1dG8pLy50ZXN0KCBjLmNzcyggXCJvdmVyZmxvd1wiICkgKTtcblxuXHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHQoIHBhcnNlSW50KCBjLmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcInBhZGRpbmdMZWZ0XCIgKSwgMTAgKSB8fCAwICksXG5cdFx0XHQoIHBhcnNlSW50KCBjLmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApICtcblx0XHRcdFx0KCBwYXJzZUludCggYy5jc3MoIFwicGFkZGluZ1RvcFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0KCBpc1VzZXJTY3JvbGxhYmxlID8gTWF0aC5tYXgoIGNlLnNjcm9sbFdpZHRoLCBjZS5vZmZzZXRXaWR0aCApIDogY2Uub2Zmc2V0V2lkdGggKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcImJvcmRlclJpZ2h0V2lkdGhcIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcInBhZGRpbmdSaWdodFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtXG5cdFx0XHRcdHRoaXMubWFyZ2lucy5sZWZ0IC1cblx0XHRcdFx0dGhpcy5tYXJnaW5zLnJpZ2h0LFxuXHRcdFx0KCBpc1VzZXJTY3JvbGxhYmxlID8gTWF0aC5tYXgoIGNlLnNjcm9sbEhlaWdodCwgY2Uub2Zmc2V0SGVpZ2h0ICkgOiBjZS5vZmZzZXRIZWlnaHQgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcImJvcmRlckJvdHRvbVdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjLmNzcyggXCJwYWRkaW5nQm90dG9tXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtXG5cdFx0XHRcdHRoaXMubWFyZ2lucy50b3AgLVxuXHRcdFx0XHR0aGlzLm1hcmdpbnMuYm90dG9tXG5cdFx0XTtcblx0XHR0aGlzLnJlbGF0aXZlQ29udGFpbmVyID0gYztcblx0fSxcblxuXHRfY29udmVydFBvc2l0aW9uVG86IGZ1bmN0aW9uKCBkLCBwb3MgKSB7XG5cblx0XHRpZiAoICFwb3MgKSB7XG5cdFx0XHRwb3MgPSB0aGlzLnBvc2l0aW9uO1xuXHRcdH1cblxuXHRcdHZhciBtb2QgPSBkID09PSBcImFic29sdXRlXCIgPyAxIDogLTEsXG5cdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID0gdGhpcy5faXNSb290Tm9kZSggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSApO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogKFxuXG5cdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHRwb3MudG9wXHQrXG5cblx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAqIG1vZCArXG5cblx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LnRvcCAqIG1vZCAtXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgP1xuXHRcdFx0XHRcdC10aGlzLm9mZnNldC5zY3JvbGwudG9wIDpcblx0XHRcdFx0XHQoIHNjcm9sbElzUm9vdE5vZGUgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCApICkgKiBtb2QgKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cG9zLmxlZnQgK1xuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0ICogbW9kICtcblxuXHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQubGVmdCAqIG1vZFx0LVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID9cblx0XHRcdFx0XHQtdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgOlxuXHRcdFx0XHRcdCggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiB0aGlzLm9mZnNldC5zY3JvbGwubGVmdCApICkgKiBtb2QgKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oIGV2ZW50LCBjb25zdHJhaW5Qb3NpdGlvbiApIHtcblxuXHRcdHZhciBjb250YWlubWVudCwgY28sIHRvcCwgbGVmdCxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID0gdGhpcy5faXNSb290Tm9kZSggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSApLFxuXHRcdFx0cGFnZVggPSBldmVudC5wYWdlWCxcblx0XHRcdHBhZ2VZID0gZXZlbnQucGFnZVk7XG5cblx0XHQvLyBDYWNoZSB0aGUgc2Nyb2xsXG5cdFx0aWYgKCAhc2Nyb2xsSXNSb290Tm9kZSB8fCAhdGhpcy5vZmZzZXQuc2Nyb2xsICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuc2Nyb2xsID0ge1xuXHRcdFx0XHR0b3A6IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLFxuXHRcdFx0XHRsZWZ0OiB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KClcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGNvbnN0cmFpbmluZyAtXG5cdFx0ICogQ29uc3RyYWluIHRoZSBwb3NpdGlvbiB0byBhIG1peCBvZiBncmlkLCBjb250YWlubWVudC5cblx0XHQgKi9cblxuXHRcdC8vIElmIHdlIGFyZSBub3QgZHJhZ2dpbmcgeWV0LCB3ZSB3b24ndCBjaGVjayBmb3Igb3B0aW9uc1xuXHRcdGlmICggY29uc3RyYWluUG9zaXRpb24gKSB7XG5cdFx0XHRpZiAoIHRoaXMuY29udGFpbm1lbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5yZWxhdGl2ZUNvbnRhaW5lciApIHtcblx0XHRcdFx0XHRjbyA9IHRoaXMucmVsYXRpdmVDb250YWluZXIub2Zmc2V0KCk7XG5cdFx0XHRcdFx0Y29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5tZW50WyAwIF0gKyBjby5sZWZ0LFxuXHRcdFx0XHRcdFx0dGhpcy5jb250YWlubWVudFsgMSBdICsgY28udG9wLFxuXHRcdFx0XHRcdFx0dGhpcy5jb250YWlubWVudFsgMiBdICsgY28ubGVmdCxcblx0XHRcdFx0XHRcdHRoaXMuY29udGFpbm1lbnRbIDMgXSArIGNvLnRvcFxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGFpbm1lbnQgPSB0aGlzLmNvbnRhaW5tZW50O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPCBjb250YWlubWVudFsgMCBdICkge1xuXHRcdFx0XHRcdHBhZ2VYID0gY29udGFpbm1lbnRbIDAgXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8IGNvbnRhaW5tZW50WyAxIF0gKSB7XG5cdFx0XHRcdFx0cGFnZVkgPSBjb250YWlubWVudFsgMSBdICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID4gY29udGFpbm1lbnRbIDIgXSApIHtcblx0XHRcdFx0XHRwYWdlWCA9IGNvbnRhaW5tZW50WyAyIF0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPiBjb250YWlubWVudFsgMyBdICkge1xuXHRcdFx0XHRcdHBhZ2VZID0gY29udGFpbm1lbnRbIDMgXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG8uZ3JpZCApIHtcblxuXHRcdFx0XHQvL0NoZWNrIGZvciBncmlkIGVsZW1lbnRzIHNldCB0byAwIHRvIHByZXZlbnQgZGl2aWRlIGJ5IDAgZXJyb3IgY2F1c2luZyBpbnZhbGlkXG5cdFx0XHRcdC8vIGFyZ3VtZW50IGVycm9ycyBpbiBJRSAoc2VlIHRpY2tldCAjNjk1MClcblx0XHRcdFx0dG9wID0gby5ncmlkWyAxIF0gPyB0aGlzLm9yaWdpbmFsUGFnZVkgKyBNYXRoLnJvdW5kKCAoIHBhZ2VZIC1cblx0XHRcdFx0XHR0aGlzLm9yaWdpbmFsUGFnZVkgKSAvIG8uZ3JpZFsgMSBdICkgKiBvLmdyaWRbIDEgXSA6IHRoaXMub3JpZ2luYWxQYWdlWTtcblx0XHRcdFx0cGFnZVkgPSBjb250YWlubWVudCA/ICggKCB0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gY29udGFpbm1lbnRbIDEgXSB8fFxuXHRcdFx0XHRcdHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IGNvbnRhaW5tZW50WyAzIF0gKSA/XG5cdFx0XHRcdFx0XHR0b3AgOlxuXHRcdFx0XHRcdFx0KCAoIHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSBjb250YWlubWVudFsgMSBdICkgP1xuXHRcdFx0XHRcdFx0XHR0b3AgLSBvLmdyaWRbIDEgXSA6IHRvcCArIG8uZ3JpZFsgMSBdICkgKSA6IHRvcDtcblxuXHRcdFx0XHRsZWZ0ID0gby5ncmlkWyAwIF0gPyB0aGlzLm9yaWdpbmFsUGFnZVggK1xuXHRcdFx0XHRcdE1hdGgucm91bmQoICggcGFnZVggLSB0aGlzLm9yaWdpbmFsUGFnZVggKSAvIG8uZ3JpZFsgMCBdICkgKiBvLmdyaWRbIDAgXSA6XG5cdFx0XHRcdFx0dGhpcy5vcmlnaW5hbFBhZ2VYO1xuXHRcdFx0XHRwYWdlWCA9IGNvbnRhaW5tZW50ID8gKCAoIGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IGNvbnRhaW5tZW50WyAwIF0gfHxcblx0XHRcdFx0XHRsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IGNvbnRhaW5tZW50WyAyIF0gKSA/XG5cdFx0XHRcdFx0XHRsZWZ0IDpcblx0XHRcdFx0XHRcdCggKCBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSBjb250YWlubWVudFsgMCBdICkgP1xuXHRcdFx0XHRcdFx0XHRsZWZ0IC0gby5ncmlkWyAwIF0gOiBsZWZ0ICsgby5ncmlkWyAwIF0gKSApIDogbGVmdDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBvLmF4aXMgPT09IFwieVwiICkge1xuXHRcdFx0XHRwYWdlWCA9IHRoaXMub3JpZ2luYWxQYWdlWDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBvLmF4aXMgPT09IFwieFwiICkge1xuXHRcdFx0XHRwYWdlWSA9IHRoaXMub3JpZ2luYWxQYWdlWTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHBhZ2VZIC1cblxuXHRcdFx0XHQvLyBDbGljayBvZmZzZXQgKHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50KVxuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgLVxuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLVxuXG5cdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgK1xuXHRcdFx0XHQoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/XG5cdFx0XHRcdFx0LXRoaXMub2Zmc2V0LnNjcm9sbC50b3AgOlxuXHRcdFx0XHRcdCggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiB0aGlzLm9mZnNldC5zY3JvbGwudG9wICkgKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cGFnZVggLVxuXG5cdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLVxuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC1cblxuXHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQubGVmdCArXG5cdFx0XHRcdCggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID9cblx0XHRcdFx0XHQtdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgOlxuXHRcdFx0XHRcdCggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiB0aGlzLm9mZnNldC5zY3JvbGwubGVmdCApIClcblx0XHRcdClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2NsZWFyOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5oZWxwZXIsIFwidWktZHJhZ2dhYmxlLWRyYWdnaW5nXCIgKTtcblx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gIT09IHRoaXMuZWxlbWVudFsgMCBdICYmICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgKSB7XG5cdFx0XHR0aGlzLmhlbHBlci5yZW1vdmUoKTtcblx0XHR9XG5cdFx0dGhpcy5oZWxwZXIgPSBudWxsO1xuXHRcdHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbCA9IGZhbHNlO1xuXHRcdGlmICggdGhpcy5kZXN0cm95T25DbGVhciApIHtcblx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBGcm9tIG5vdyBvbiBidWxrIHN0dWZmIC0gbWFpbmx5IGhlbHBlcnNcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCB1aSApIHtcblx0XHR1aSA9IHVpIHx8IHRoaXMuX3VpSGFzaCgpO1xuXHRcdCQudWkucGx1Z2luLmNhbGwoIHRoaXMsIHR5cGUsIFsgZXZlbnQsIHVpLCB0aGlzIF0sIHRydWUgKTtcblxuXHRcdC8vIEFic29sdXRlIHBvc2l0aW9uIGFuZCBvZmZzZXQgKHNlZSAjNjg4NCApIGhhdmUgdG8gYmUgcmVjYWxjdWxhdGVkIGFmdGVyIHBsdWdpbnNcblx0XHRpZiAoIC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QoIHR5cGUgKSApIHtcblx0XHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyggXCJhYnNvbHV0ZVwiICk7XG5cdFx0XHR1aS5vZmZzZXQgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdH1cblx0XHRyZXR1cm4gJC5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmNhbGwoIHRoaXMsIHR5cGUsIGV2ZW50LCB1aSApO1xuXHR9LFxuXG5cdHBsdWdpbnM6IHt9LFxuXG5cdF91aUhhc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRoZWxwZXI6IHRoaXMuaGVscGVyLFxuXHRcdFx0cG9zaXRpb246IHRoaXMucG9zaXRpb24sXG5cdFx0XHRvcmlnaW5hbFBvc2l0aW9uOiB0aGlzLm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRvZmZzZXQ6IHRoaXMucG9zaXRpb25BYnNcblx0XHR9O1xuXHR9XG5cbn0gKTtcblxuJC51aS5wbHVnaW4uYWRkKCBcImRyYWdnYWJsZVwiLCBcImNvbm5lY3RUb1NvcnRhYmxlXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGRyYWdnYWJsZSApIHtcblx0XHR2YXIgdWlTb3J0YWJsZSA9ICQuZXh0ZW5kKCB7fSwgdWksIHtcblx0XHRcdGl0ZW06IGRyYWdnYWJsZS5lbGVtZW50XG5cdFx0fSApO1xuXG5cdFx0ZHJhZ2dhYmxlLnNvcnRhYmxlcyA9IFtdO1xuXHRcdCQoIGRyYWdnYWJsZS5vcHRpb25zLmNvbm5lY3RUb1NvcnRhYmxlICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc29ydGFibGUgPSAkKCB0aGlzICkuc29ydGFibGUoIFwiaW5zdGFuY2VcIiApO1xuXG5cdFx0XHRpZiAoIHNvcnRhYmxlICYmICFzb3J0YWJsZS5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0XHRkcmFnZ2FibGUuc29ydGFibGVzLnB1c2goIHNvcnRhYmxlICk7XG5cblx0XHRcdFx0Ly8gUmVmcmVzaFBvc2l0aW9ucyBpcyBjYWxsZWQgYXQgZHJhZyBzdGFydCB0byByZWZyZXNoIHRoZSBjb250YWluZXJDYWNoZVxuXHRcdFx0XHQvLyB3aGljaCBpcyB1c2VkIGluIGRyYWcuIFRoaXMgZW5zdXJlcyBpdCdzIGluaXRpYWxpemVkIGFuZCBzeW5jaHJvbml6ZWRcblx0XHRcdFx0Ly8gd2l0aCBhbnkgY2hhbmdlcyB0aGF0IG1pZ2h0IGhhdmUgaGFwcGVuZWQgb24gdGhlIHBhZ2Ugc2luY2UgaW5pdGlhbGl6YXRpb24uXG5cdFx0XHRcdHNvcnRhYmxlLnJlZnJlc2hQb3NpdGlvbnMoKTtcblx0XHRcdFx0c29ydGFibGUuX3RyaWdnZXIoIFwiYWN0aXZhdGVcIiwgZXZlbnQsIHVpU29ydGFibGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWksIGRyYWdnYWJsZSApIHtcblx0XHR2YXIgdWlTb3J0YWJsZSA9ICQuZXh0ZW5kKCB7fSwgdWksIHtcblx0XHRcdGl0ZW06IGRyYWdnYWJsZS5lbGVtZW50XG5cdFx0fSApO1xuXG5cdFx0ZHJhZ2dhYmxlLmNhbmNlbEhlbHBlclJlbW92YWwgPSBmYWxzZTtcblxuXHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc29ydGFibGUgPSB0aGlzO1xuXG5cdFx0XHRpZiAoIHNvcnRhYmxlLmlzT3ZlciApIHtcblx0XHRcdFx0c29ydGFibGUuaXNPdmVyID0gMDtcblxuXHRcdFx0XHQvLyBBbGxvdyB0aGlzIHNvcnRhYmxlIHRvIGhhbmRsZSByZW1vdmluZyB0aGUgaGVscGVyXG5cdFx0XHRcdGRyYWdnYWJsZS5jYW5jZWxIZWxwZXJSZW1vdmFsID0gdHJ1ZTtcblx0XHRcdFx0c29ydGFibGUuY2FuY2VsSGVscGVyUmVtb3ZhbCA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIFVzZSBfc3RvcmVkQ1NTIFRvIHJlc3RvcmUgcHJvcGVydGllcyBpbiB0aGUgc29ydGFibGUsXG5cdFx0XHRcdC8vIGFzIHRoaXMgYWxzbyBoYW5kbGVzIHJldmVydCAoIzk2NzUpIHNpbmNlIHRoZSBkcmFnZ2FibGVcblx0XHRcdFx0Ly8gbWF5IGhhdmUgbW9kaWZpZWQgdGhlbSBpbiB1bmV4cGVjdGVkIHdheXMgKCM4ODA5KVxuXHRcdFx0XHRzb3J0YWJsZS5fc3RvcmVkQ1NTID0ge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBzb3J0YWJsZS5wbGFjZWhvbGRlci5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0XHRcdHRvcDogc29ydGFibGUucGxhY2Vob2xkZXIuY3NzKCBcInRvcFwiICksXG5cdFx0XHRcdFx0bGVmdDogc29ydGFibGUucGxhY2Vob2xkZXIuY3NzKCBcImxlZnRcIiApXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0c29ydGFibGUuX21vdXNlU3RvcCggZXZlbnQgKTtcblxuXHRcdFx0XHQvLyBPbmNlIGRyYWcgaGFzIGVuZGVkLCB0aGUgc29ydGFibGUgc2hvdWxkIHJldHVybiB0byB1c2luZ1xuXHRcdFx0XHQvLyBpdHMgb3JpZ2luYWwgaGVscGVyLCBub3QgdGhlIHNoYXJlZCBoZWxwZXIgZnJvbSBkcmFnZ2FibGVcblx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5oZWxwZXIgPSBzb3J0YWJsZS5vcHRpb25zLl9oZWxwZXI7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgdGhpcyBTb3J0YWJsZSBmcm9tIHJlbW92aW5nIHRoZSBoZWxwZXIuXG5cdFx0XHRcdC8vIEhvd2V2ZXIsIGRvbid0IHNldCB0aGUgZHJhZ2dhYmxlIHRvIHJlbW92ZSB0aGUgaGVscGVyXG5cdFx0XHRcdC8vIGVpdGhlciBhcyBhbm90aGVyIGNvbm5lY3RlZCBTb3J0YWJsZSBtYXkgeWV0IGhhbmRsZSB0aGUgcmVtb3ZhbC5cblx0XHRcdFx0c29ydGFibGUuY2FuY2VsSGVscGVyUmVtb3ZhbCA9IHRydWU7XG5cblx0XHRcdFx0c29ydGFibGUuX3RyaWdnZXIoIFwiZGVhY3RpdmF0ZVwiLCBldmVudCwgdWlTb3J0YWJsZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSwgZHJhZ2dhYmxlICkge1xuXHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5uZXJtb3N0SW50ZXJzZWN0aW5nID0gZmFsc2UsXG5cdFx0XHRcdHNvcnRhYmxlID0gdGhpcztcblxuXHRcdFx0Ly8gQ29weSBvdmVyIHZhcmlhYmxlcyB0aGF0IHNvcnRhYmxlJ3MgX2ludGVyc2VjdHNXaXRoIHVzZXNcblx0XHRcdHNvcnRhYmxlLnBvc2l0aW9uQWJzID0gZHJhZ2dhYmxlLnBvc2l0aW9uQWJzO1xuXHRcdFx0c29ydGFibGUuaGVscGVyUHJvcG9ydGlvbnMgPSBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnM7XG5cdFx0XHRzb3J0YWJsZS5vZmZzZXQuY2xpY2sgPSBkcmFnZ2FibGUub2Zmc2V0LmNsaWNrO1xuXG5cdFx0XHRpZiAoIHNvcnRhYmxlLl9pbnRlcnNlY3RzV2l0aCggc29ydGFibGUuY29udGFpbmVyQ2FjaGUgKSApIHtcblx0XHRcdFx0aW5uZXJtb3N0SW50ZXJzZWN0aW5nID0gdHJ1ZTtcblxuXHRcdFx0XHQkLmVhY2goIGRyYWdnYWJsZS5zb3J0YWJsZXMsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0Ly8gQ29weSBvdmVyIHZhcmlhYmxlcyB0aGF0IHNvcnRhYmxlJ3MgX2ludGVyc2VjdHNXaXRoIHVzZXNcblx0XHRcdFx0XHR0aGlzLnBvc2l0aW9uQWJzID0gZHJhZ2dhYmxlLnBvc2l0aW9uQWJzO1xuXHRcdFx0XHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnM7XG5cdFx0XHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sgPSBkcmFnZ2FibGUub2Zmc2V0LmNsaWNrO1xuXG5cdFx0XHRcdFx0aWYgKCB0aGlzICE9PSBzb3J0YWJsZSAmJlxuXHRcdFx0XHRcdFx0XHR0aGlzLl9pbnRlcnNlY3RzV2l0aCggdGhpcy5jb250YWluZXJDYWNoZSApICYmXG5cdFx0XHRcdFx0XHRcdCQuY29udGFpbnMoIHNvcnRhYmxlLmVsZW1lbnRbIDAgXSwgdGhpcy5lbGVtZW50WyAwIF0gKSApIHtcblx0XHRcdFx0XHRcdGlubmVybW9zdEludGVyc2VjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBpbm5lcm1vc3RJbnRlcnNlY3Rpbmc7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpbm5lcm1vc3RJbnRlcnNlY3RpbmcgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaW50ZXJzZWN0cywgd2UgdXNlIGEgbGl0dGxlIGlzT3ZlciB2YXJpYWJsZSBhbmQgc2V0IGl0IG9uY2UsXG5cdFx0XHRcdC8vIHNvIHRoYXQgdGhlIG1vdmUtaW4gc3R1ZmYgZ2V0cyBmaXJlZCBvbmx5IG9uY2UuXG5cdFx0XHRcdGlmICggIXNvcnRhYmxlLmlzT3ZlciApIHtcblx0XHRcdFx0XHRzb3J0YWJsZS5pc092ZXIgPSAxO1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgZHJhZ2dhYmxlJ3MgcGFyZW50IGluIGNhc2Ugd2UgbmVlZCB0byByZWFwcGVuZCB0byBpdCBsYXRlci5cblx0XHRcdFx0XHRkcmFnZ2FibGUuX3BhcmVudCA9IHVpLmhlbHBlci5wYXJlbnQoKTtcblxuXHRcdFx0XHRcdHNvcnRhYmxlLmN1cnJlbnRJdGVtID0gdWkuaGVscGVyXG5cdFx0XHRcdFx0XHQuYXBwZW5kVG8oIHNvcnRhYmxlLmVsZW1lbnQgKVxuXHRcdFx0XHRcdFx0LmRhdGEoIFwidWktc29ydGFibGUtaXRlbVwiLCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBoZWxwZXIgb3B0aW9uIHRvIGxhdGVyIHJlc3RvcmUgaXRcblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLl9oZWxwZXIgPSBzb3J0YWJsZS5vcHRpb25zLmhlbHBlcjtcblxuXHRcdFx0XHRcdHNvcnRhYmxlLm9wdGlvbnMuaGVscGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdWkuaGVscGVyWyAwIF07XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdC8vIEZpcmUgdGhlIHN0YXJ0IGV2ZW50cyBvZiB0aGUgc29ydGFibGUgd2l0aCBvdXIgcGFzc2VkIGJyb3dzZXIgZXZlbnQsXG5cdFx0XHRcdFx0Ly8gYW5kIG91ciBvd24gaGVscGVyIChzbyBpdCBkb2Vzbid0IGNyZWF0ZSBhIG5ldyBvbmUpXG5cdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ID0gc29ydGFibGUuY3VycmVudEl0ZW1bIDAgXTtcblx0XHRcdFx0XHRzb3J0YWJsZS5fbW91c2VDYXB0dXJlKCBldmVudCwgdHJ1ZSApO1xuXHRcdFx0XHRcdHNvcnRhYmxlLl9tb3VzZVN0YXJ0KCBldmVudCwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gQmVjYXVzZSB0aGUgYnJvd3NlciBldmVudCBpcyB3YXkgb2ZmIHRoZSBuZXcgYXBwZW5kZWQgcG9ydGxldCxcblx0XHRcdFx0XHQvLyBtb2RpZnkgbmVjZXNzYXJ5IHZhcmlhYmxlcyB0byByZWZsZWN0IHRoZSBjaGFuZ2VzXG5cdFx0XHRcdFx0c29ydGFibGUub2Zmc2V0LmNsaWNrLnRvcCA9IGRyYWdnYWJsZS5vZmZzZXQuY2xpY2sudG9wO1xuXHRcdFx0XHRcdHNvcnRhYmxlLm9mZnNldC5jbGljay5sZWZ0ID0gZHJhZ2dhYmxlLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHRcdHNvcnRhYmxlLm9mZnNldC5wYXJlbnQubGVmdCAtPSBkcmFnZ2FibGUub2Zmc2V0LnBhcmVudC5sZWZ0IC1cblx0XHRcdFx0XHRcdHNvcnRhYmxlLm9mZnNldC5wYXJlbnQubGVmdDtcblx0XHRcdFx0XHRzb3J0YWJsZS5vZmZzZXQucGFyZW50LnRvcCAtPSBkcmFnZ2FibGUub2Zmc2V0LnBhcmVudC50b3AgLVxuXHRcdFx0XHRcdFx0c29ydGFibGUub2Zmc2V0LnBhcmVudC50b3A7XG5cblx0XHRcdFx0XHRkcmFnZ2FibGUuX3RyaWdnZXIoIFwidG9Tb3J0YWJsZVwiLCBldmVudCApO1xuXG5cdFx0XHRcdFx0Ly8gSW5mb3JtIGRyYWdnYWJsZSB0aGF0IHRoZSBoZWxwZXIgaXMgaW4gYSB2YWxpZCBkcm9wIHpvbmUsXG5cdFx0XHRcdFx0Ly8gdXNlZCBzb2xlbHkgaW4gdGhlIHJldmVydCBvcHRpb24gdG8gaGFuZGxlIFwidmFsaWQvaW52YWxpZFwiLlxuXHRcdFx0XHRcdGRyYWdnYWJsZS5kcm9wcGVkID0gc29ydGFibGUuZWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIE5lZWQgdG8gcmVmcmVzaFBvc2l0aW9ucyBvZiBhbGwgc29ydGFibGVzIGluIHRoZSBjYXNlIHRoYXRcblx0XHRcdFx0XHQvLyBhZGRpbmcgdG8gb25lIHNvcnRhYmxlIGNoYW5nZXMgdGhlIGxvY2F0aW9uIG9mIHRoZSBvdGhlciBzb3J0YWJsZXMgKCM5Njc1KVxuXHRcdFx0XHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKTtcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHQvLyBIYWNrIHNvIHJlY2VpdmUvdXBkYXRlIGNhbGxiYWNrcyB3b3JrIChtb3N0bHkpXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLmN1cnJlbnRJdGVtID0gZHJhZ2dhYmxlLmVsZW1lbnQ7XG5cdFx0XHRcdFx0c29ydGFibGUuZnJvbU91dHNpZGUgPSBkcmFnZ2FibGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNvcnRhYmxlLmN1cnJlbnRJdGVtICkge1xuXHRcdFx0XHRcdHNvcnRhYmxlLl9tb3VzZURyYWcoIGV2ZW50ICk7XG5cblx0XHRcdFx0XHQvLyBDb3B5IHRoZSBzb3J0YWJsZSdzIHBvc2l0aW9uIGJlY2F1c2UgdGhlIGRyYWdnYWJsZSdzIGNhbiBwb3RlbnRpYWxseSByZWZsZWN0XG5cdFx0XHRcdFx0Ly8gYSByZWxhdGl2ZSBwb3NpdGlvbiwgd2hpbGUgc29ydGFibGUgaXMgYWx3YXlzIGFic29sdXRlLCB3aGljaCB0aGUgZHJhZ2dlZFxuXHRcdFx0XHRcdC8vIGVsZW1lbnQgaGFzIG5vdyBiZWNvbWUuICgjODgwOSlcblx0XHRcdFx0XHR1aS5wb3NpdGlvbiA9IHNvcnRhYmxlLnBvc2l0aW9uO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIElmIGl0IGRvZXNuJ3QgaW50ZXJzZWN0IHdpdGggdGhlIHNvcnRhYmxlLCBhbmQgaXQgaW50ZXJzZWN0ZWQgYmVmb3JlLFxuXHRcdFx0XHQvLyB3ZSBmYWtlIHRoZSBkcmFnIHN0b3Agb2YgdGhlIHNvcnRhYmxlLCBidXQgbWFrZSBzdXJlIGl0IGRvZXNuJ3QgcmVtb3ZlXG5cdFx0XHRcdC8vIHRoZSBoZWxwZXIgYnkgdXNpbmcgY2FuY2VsSGVscGVyUmVtb3ZhbC5cblx0XHRcdFx0aWYgKCBzb3J0YWJsZS5pc092ZXIgKSB7XG5cblx0XHRcdFx0XHRzb3J0YWJsZS5pc092ZXIgPSAwO1xuXHRcdFx0XHRcdHNvcnRhYmxlLmNhbmNlbEhlbHBlclJlbW92YWwgPSB0cnVlO1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbGluZyBzb3J0YWJsZSdzIG1vdXNlU3RvcCB3b3VsZCB0cmlnZ2VyIGEgcmV2ZXJ0LFxuXHRcdFx0XHRcdC8vIHNvIHJldmVydCBtdXN0IGJlIHRlbXBvcmFyaWx5IGZhbHNlIHVudGlsIGFmdGVyIG1vdXNlU3RvcCBpcyBjYWxsZWQuXG5cdFx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5fcmV2ZXJ0ID0gc29ydGFibGUub3B0aW9ucy5yZXZlcnQ7XG5cdFx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5yZXZlcnQgPSBmYWxzZTtcblxuXHRcdFx0XHRcdHNvcnRhYmxlLl90cmlnZ2VyKCBcIm91dFwiLCBldmVudCwgc29ydGFibGUuX3VpSGFzaCggc29ydGFibGUgKSApO1xuXHRcdFx0XHRcdHNvcnRhYmxlLl9tb3VzZVN0b3AoIGV2ZW50LCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBSZXN0b3JlIHNvcnRhYmxlIGJlaGF2aW9ycyB0aGF0IHdlcmUgbW9kZmllZFxuXHRcdFx0XHRcdC8vIHdoZW4gdGhlIGRyYWdnYWJsZSBlbnRlcmVkIHRoZSBzb3J0YWJsZSBhcmVhICgjOTQ4MSlcblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLnJldmVydCA9IHNvcnRhYmxlLm9wdGlvbnMuX3JldmVydDtcblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLmhlbHBlciA9IHNvcnRhYmxlLm9wdGlvbnMuX2hlbHBlcjtcblxuXHRcdFx0XHRcdGlmICggc29ydGFibGUucGxhY2Vob2xkZXIgKSB7XG5cdFx0XHRcdFx0XHRzb3J0YWJsZS5wbGFjZWhvbGRlci5yZW1vdmUoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBSZXN0b3JlIGFuZCByZWNhbGN1bGF0ZSB0aGUgZHJhZ2dhYmxlJ3Mgb2Zmc2V0IGNvbnNpZGVyaW5nIHRoZSBzb3J0YWJsZVxuXHRcdFx0XHRcdC8vIG1heSBoYXZlIG1vZGlmaWVkIHRoZW0gaW4gdW5leHBlY3RlZCB3YXlzLiAoIzg4MDksICMxMDY2OSlcblx0XHRcdFx0XHR1aS5oZWxwZXIuYXBwZW5kVG8oIGRyYWdnYWJsZS5fcGFyZW50ICk7XG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLl9yZWZyZXNoT2Zmc2V0cyggZXZlbnQgKTtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbiA9IGRyYWdnYWJsZS5fZ2VuZXJhdGVQb3NpdGlvbiggZXZlbnQsIHRydWUgKTtcblxuXHRcdFx0XHRcdGRyYWdnYWJsZS5fdHJpZ2dlciggXCJmcm9tU29ydGFibGVcIiwgZXZlbnQgKTtcblxuXHRcdFx0XHRcdC8vIEluZm9ybSBkcmFnZ2FibGUgdGhhdCB0aGUgaGVscGVyIGlzIG5vIGxvbmdlciBpbiBhIHZhbGlkIGRyb3Agem9uZVxuXHRcdFx0XHRcdGRyYWdnYWJsZS5kcm9wcGVkID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBOZWVkIHRvIHJlZnJlc2hQb3NpdGlvbnMgb2YgYWxsIHNvcnRhYmxlcyBqdXN0IGluIGNhc2UgcmVtb3Zpbmdcblx0XHRcdFx0XHQvLyBmcm9tIG9uZSBzb3J0YWJsZSBjaGFuZ2VzIHRoZSBsb2NhdGlvbiBvZiBvdGhlciBzb3J0YWJsZXMgKCM5Njc1KVxuXHRcdFx0XHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuJC51aS5wbHVnaW4uYWRkKCBcImRyYWdnYWJsZVwiLCBcImN1cnNvclwiLCB7XG5cdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgdCA9ICQoIFwiYm9keVwiICksXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucztcblxuXHRcdGlmICggdC5jc3MoIFwiY3Vyc29yXCIgKSApIHtcblx0XHRcdG8uX2N1cnNvciA9IHQuY3NzKCBcImN1cnNvclwiICk7XG5cdFx0fVxuXHRcdHQuY3NzKCBcImN1cnNvclwiLCBvLmN1cnNvciApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgbyA9IGluc3RhbmNlLm9wdGlvbnM7XG5cdFx0aWYgKCBvLl9jdXJzb3IgKSB7XG5cdFx0XHQkKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgby5fY3Vyc29yICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbiQudWkucGx1Z2luLmFkZCggXCJkcmFnZ2FibGVcIiwgXCJvcGFjaXR5XCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciB0ID0gJCggdWkuaGVscGVyICksXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucztcblx0XHRpZiAoIHQuY3NzKCBcIm9wYWNpdHlcIiApICkge1xuXHRcdFx0by5fb3BhY2l0eSA9IHQuY3NzKCBcIm9wYWNpdHlcIiApO1xuXHRcdH1cblx0XHR0LmNzcyggXCJvcGFjaXR5XCIsIG8ub3BhY2l0eSApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgbyA9IGluc3RhbmNlLm9wdGlvbnM7XG5cdFx0aWYgKCBvLl9vcGFjaXR5ICkge1xuXHRcdFx0JCggdWkuaGVscGVyICkuY3NzKCBcIm9wYWNpdHlcIiwgby5fb3BhY2l0eSApO1xuXHRcdH1cblx0fVxufSApO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwiZHJhZ2dhYmxlXCIsIFwic2Nyb2xsXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGkgKSB7XG5cdFx0aWYgKCAhaS5zY3JvbGxQYXJlbnROb3RIaWRkZW4gKSB7XG5cdFx0XHRpLnNjcm9sbFBhcmVudE5vdEhpZGRlbiA9IGkuaGVscGVyLnNjcm9sbFBhcmVudCggZmFsc2UgKTtcblx0XHR9XG5cblx0XHRpZiAoIGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWyAwIF0gIT09IGkuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHRpLnNjcm9sbFBhcmVudE5vdEhpZGRlblsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0aS5vdmVyZmxvd09mZnNldCA9IGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuLm9mZnNldCgpO1xuXHRcdH1cblx0fSxcblx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaSAgKSB7XG5cblx0XHR2YXIgbyA9IGkub3B0aW9ucyxcblx0XHRcdHNjcm9sbGVkID0gZmFsc2UsXG5cdFx0XHRzY3JvbGxQYXJlbnQgPSBpLnNjcm9sbFBhcmVudE5vdEhpZGRlblsgMCBdLFxuXHRcdFx0ZG9jdW1lbnQgPSBpLmRvY3VtZW50WyAwIF07XG5cblx0XHRpZiAoIHNjcm9sbFBhcmVudCAhPT0gZG9jdW1lbnQgJiYgc2Nyb2xsUGFyZW50LnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0aWYgKCAhby5heGlzIHx8IG8uYXhpcyAhPT0gXCJ4XCIgKSB7XG5cdFx0XHRcdGlmICggKCBpLm92ZXJmbG93T2Zmc2V0LnRvcCArIHNjcm9sbFBhcmVudC5vZmZzZXRIZWlnaHQgKSAtIGV2ZW50LnBhZ2VZIDxcblx0XHRcdFx0XHRcdG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsUGFyZW50LnNjcm9sbFRvcCA9IHNjcm9sbGVkID0gc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LnBhZ2VZIC0gaS5vdmVyZmxvd09mZnNldC50b3AgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudC5zY3JvbGxUb3AgPSBzY3JvbGxlZCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3AgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIW8uYXhpcyB8fCBvLmF4aXMgIT09IFwieVwiICkge1xuXHRcdFx0XHRpZiAoICggaS5vdmVyZmxvd09mZnNldC5sZWZ0ICsgc2Nyb2xsUGFyZW50Lm9mZnNldFdpZHRoICkgLSBldmVudC5wYWdlWCA8XG5cdFx0XHRcdFx0XHRvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0ID0gc2Nyb2xsZWQgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LnBhZ2VYIC0gaS5vdmVyZmxvd09mZnNldC5sZWZ0IDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRpZiAoICFvLmF4aXMgfHwgby5heGlzICE9PSBcInhcIiApIHtcblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtICQoIGRvY3VtZW50ICkuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gJCggZG9jdW1lbnQgKS5zY3JvbGxUb3AoICQoIGRvY3VtZW50ICkuc2Nyb2xsVG9wKCkgLSBvLnNjcm9sbFNwZWVkICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICQoIHdpbmRvdyApLmhlaWdodCgpIC0gKCBldmVudC5wYWdlWSAtICQoIGRvY3VtZW50ICkuc2Nyb2xsVG9wKCkgKSA8XG5cdFx0XHRcdFx0XHRvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gJCggZG9jdW1lbnQgKS5zY3JvbGxUb3AoICQoIGRvY3VtZW50ICkuc2Nyb2xsVG9wKCkgKyBvLnNjcm9sbFNwZWVkICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhby5heGlzIHx8IG8uYXhpcyAhPT0gXCJ5XCIgKSB7XG5cdFx0XHRcdGlmICggZXZlbnQucGFnZVggLSAkKCBkb2N1bWVudCApLnNjcm9sbExlZnQoKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSAkKCBkb2N1bWVudCApLnNjcm9sbExlZnQoXG5cdFx0XHRcdFx0XHQkKCBkb2N1bWVudCApLnNjcm9sbExlZnQoKSAtIG8uc2Nyb2xsU3BlZWRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAkKCB3aW5kb3cgKS53aWR0aCgpIC0gKCBldmVudC5wYWdlWCAtICQoIGRvY3VtZW50ICkuc2Nyb2xsTGVmdCgpICkgPFxuXHRcdFx0XHRcdFx0by5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9ICQoIGRvY3VtZW50ICkuc2Nyb2xsTGVmdChcblx0XHRcdFx0XHRcdCQoIGRvY3VtZW50ICkuc2Nyb2xsTGVmdCgpICsgby5zY3JvbGxTcGVlZFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICggc2Nyb2xsZWQgIT09IGZhbHNlICYmICQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggaSwgZXZlbnQgKTtcblx0XHR9XG5cblx0fVxufSApO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwiZHJhZ2dhYmxlXCIsIFwic25hcFwiLCB7XG5cdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpICkge1xuXG5cdFx0dmFyIG8gPSBpLm9wdGlvbnM7XG5cblx0XHRpLnNuYXBFbGVtZW50cyA9IFtdO1xuXG5cdFx0JCggby5zbmFwLmNvbnN0cnVjdG9yICE9PSBTdHJpbmcgPyAoIG8uc25hcC5pdGVtcyB8fCBcIjpkYXRhKHVpLWRyYWdnYWJsZSlcIiApIDogby5zbmFwIClcblx0XHRcdC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyICR0ID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdCRvID0gJHQub2Zmc2V0KCk7XG5cdFx0XHRcdGlmICggdGhpcyAhPT0gaS5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRcdFx0aS5zbmFwRWxlbWVudHMucHVzaCgge1xuXHRcdFx0XHRcdFx0aXRlbTogdGhpcyxcblx0XHRcdFx0XHRcdHdpZHRoOiAkdC5vdXRlcldpZHRoKCksIGhlaWdodDogJHQub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0XHRcdHRvcDogJG8udG9wLCBsZWZ0OiAkby5sZWZ0XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0fSxcblx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaW5zdCApIHtcblxuXHRcdHZhciB0cywgYnMsIGxzLCBycywgbCwgciwgdCwgYiwgaSwgZmlyc3QsXG5cdFx0XHRvID0gaW5zdC5vcHRpb25zLFxuXHRcdFx0ZCA9IG8uc25hcFRvbGVyYW5jZSxcblx0XHRcdHgxID0gdWkub2Zmc2V0LmxlZnQsIHgyID0geDEgKyBpbnN0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTEgPSB1aS5vZmZzZXQudG9wLCB5MiA9IHkxICsgaW5zdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQ7XG5cblx0XHRmb3IgKCBpID0gaW5zdC5zbmFwRWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cblx0XHRcdGwgPSBpbnN0LnNuYXBFbGVtZW50c1sgaSBdLmxlZnQgLSBpbnN0Lm1hcmdpbnMubGVmdDtcblx0XHRcdHIgPSBsICsgaW5zdC5zbmFwRWxlbWVudHNbIGkgXS53aWR0aDtcblx0XHRcdHQgPSBpbnN0LnNuYXBFbGVtZW50c1sgaSBdLnRvcCAtIGluc3QubWFyZ2lucy50b3A7XG5cdFx0XHRiID0gdCArIGluc3Quc25hcEVsZW1lbnRzWyBpIF0uaGVpZ2h0O1xuXG5cdFx0XHRpZiAoIHgyIDwgbCAtIGQgfHwgeDEgPiByICsgZCB8fCB5MiA8IHQgLSBkIHx8IHkxID4gYiArIGQgfHxcblx0XHRcdFx0XHQhJC5jb250YWlucyggaW5zdC5zbmFwRWxlbWVudHNbIGkgXS5pdGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0XHRcdFx0aW5zdC5zbmFwRWxlbWVudHNbIGkgXS5pdGVtICkgKSB7XG5cdFx0XHRcdGlmICggaW5zdC5zbmFwRWxlbWVudHNbIGkgXS5zbmFwcGluZyApIHtcblx0XHRcdFx0XHQoIGluc3Qub3B0aW9ucy5zbmFwLnJlbGVhc2UgJiZcblx0XHRcdFx0XHRcdGluc3Qub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChcblx0XHRcdFx0XHRcdFx0aW5zdC5lbGVtZW50LFxuXHRcdFx0XHRcdFx0XHRldmVudCxcblx0XHRcdFx0XHRcdFx0JC5leHRlbmQoIGluc3QuX3VpSGFzaCgpLCB7IHNuYXBJdGVtOiBpbnN0LnNuYXBFbGVtZW50c1sgaSBdLml0ZW0gfSApXG5cdFx0XHRcdFx0XHQpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zdC5zbmFwRWxlbWVudHNbIGkgXS5zbmFwcGluZyA9IGZhbHNlO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBvLnNuYXBNb2RlICE9PSBcImlubmVyXCIgKSB7XG5cdFx0XHRcdHRzID0gTWF0aC5hYnMoIHQgLSB5MiApIDw9IGQ7XG5cdFx0XHRcdGJzID0gTWF0aC5hYnMoIGIgLSB5MSApIDw9IGQ7XG5cdFx0XHRcdGxzID0gTWF0aC5hYnMoIGwgLSB4MiApIDw9IGQ7XG5cdFx0XHRcdHJzID0gTWF0aC5hYnMoIHIgLSB4MSApIDw9IGQ7XG5cdFx0XHRcdGlmICggdHMgKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24udG9wID0gaW5zdC5fY29udmVydFBvc2l0aW9uVG8oIFwicmVsYXRpdmVcIiwge1xuXHRcdFx0XHRcdFx0dG9wOiB0IC0gaW5zdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsXG5cdFx0XHRcdFx0XHRsZWZ0OiAwXG5cdFx0XHRcdFx0fSApLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGJzICkge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLnRvcCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKCBcInJlbGF0aXZlXCIsIHtcblx0XHRcdFx0XHRcdHRvcDogYixcblx0XHRcdFx0XHRcdGxlZnQ6IDBcblx0XHRcdFx0XHR9ICkudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggbHMgKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24ubGVmdCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKCBcInJlbGF0aXZlXCIsIHtcblx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdGxlZnQ6IGwgLSBpbnN0LmhlbHBlclByb3BvcnRpb25zLndpZHRoXG5cdFx0XHRcdFx0fSApLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBycyApIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi5sZWZ0ID0gaW5zdC5fY29udmVydFBvc2l0aW9uVG8oIFwicmVsYXRpdmVcIiwge1xuXHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0bGVmdDogclxuXHRcdFx0XHRcdH0gKS5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZpcnN0ID0gKCB0cyB8fCBicyB8fCBscyB8fCBycyApO1xuXG5cdFx0XHRpZiAoIG8uc25hcE1vZGUgIT09IFwib3V0ZXJcIiApIHtcblx0XHRcdFx0dHMgPSBNYXRoLmFicyggdCAtIHkxICkgPD0gZDtcblx0XHRcdFx0YnMgPSBNYXRoLmFicyggYiAtIHkyICkgPD0gZDtcblx0XHRcdFx0bHMgPSBNYXRoLmFicyggbCAtIHgxICkgPD0gZDtcblx0XHRcdFx0cnMgPSBNYXRoLmFicyggciAtIHgyICkgPD0gZDtcblx0XHRcdFx0aWYgKCB0cyApIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi50b3AgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyggXCJyZWxhdGl2ZVwiLCB7XG5cdFx0XHRcdFx0XHR0b3A6IHQsXG5cdFx0XHRcdFx0XHRsZWZ0OiAwXG5cdFx0XHRcdFx0fSApLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGJzICkge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLnRvcCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKCBcInJlbGF0aXZlXCIsIHtcblx0XHRcdFx0XHRcdHRvcDogYiAtIGluc3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LFxuXHRcdFx0XHRcdFx0bGVmdDogMFxuXHRcdFx0XHRcdH0gKS50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBscyApIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi5sZWZ0ID0gaW5zdC5fY29udmVydFBvc2l0aW9uVG8oIFwicmVsYXRpdmVcIiwge1xuXHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0bGVmdDogbFxuXHRcdFx0XHRcdH0gKS5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggcnMgKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24ubGVmdCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKCBcInJlbGF0aXZlXCIsIHtcblx0XHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRcdGxlZnQ6IHIgLSBpbnN0LmhlbHBlclByb3BvcnRpb25zLndpZHRoXG5cdFx0XHRcdFx0fSApLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhaW5zdC5zbmFwRWxlbWVudHNbIGkgXS5zbmFwcGluZyAmJiAoIHRzIHx8IGJzIHx8IGxzIHx8IHJzIHx8IGZpcnN0ICkgKSB7XG5cdFx0XHRcdCggaW5zdC5vcHRpb25zLnNuYXAuc25hcCAmJlxuXHRcdFx0XHRcdGluc3Qub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChcblx0XHRcdFx0XHRcdGluc3QuZWxlbWVudCxcblx0XHRcdFx0XHRcdGV2ZW50LFxuXHRcdFx0XHRcdFx0JC5leHRlbmQoIGluc3QuX3VpSGFzaCgpLCB7XG5cdFx0XHRcdFx0XHRcdHNuYXBJdGVtOiBpbnN0LnNuYXBFbGVtZW50c1sgaSBdLml0ZW1cblx0XHRcdFx0XHRcdH0gKSApICk7XG5cdFx0XHR9XG5cdFx0XHRpbnN0LnNuYXBFbGVtZW50c1sgaSBdLnNuYXBwaW5nID0gKCB0cyB8fCBicyB8fCBscyB8fCBycyB8fCBmaXJzdCApO1xuXG5cdFx0fVxuXG5cdH1cbn0gKTtcblxuJC51aS5wbHVnaW4uYWRkKCBcImRyYWdnYWJsZVwiLCBcInN0YWNrXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciBtaW4sXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucyxcblx0XHRcdGdyb3VwID0gJC5tYWtlQXJyYXkoICQoIG8uc3RhY2sgKSApLnNvcnQoIGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0XHRyZXR1cm4gKCBwYXJzZUludCggJCggYSApLmNzcyggXCJ6SW5kZXhcIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBwYXJzZUludCggJCggYiApLmNzcyggXCJ6SW5kZXhcIiApLCAxMCApIHx8IDAgKTtcblx0XHRcdH0gKTtcblxuXHRcdGlmICggIWdyb3VwLmxlbmd0aCApIHsgcmV0dXJuOyB9XG5cblx0XHRtaW4gPSBwYXJzZUludCggJCggZ3JvdXBbIDAgXSApLmNzcyggXCJ6SW5kZXhcIiApLCAxMCApIHx8IDA7XG5cdFx0JCggZ3JvdXAgKS5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdCQoIHRoaXMgKS5jc3MoIFwiekluZGV4XCIsIG1pbiArIGkgKTtcblx0XHR9ICk7XG5cdFx0dGhpcy5jc3MoIFwiekluZGV4XCIsICggbWluICsgZ3JvdXAubGVuZ3RoICkgKTtcblx0fVxufSApO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwiZHJhZ2dhYmxlXCIsIFwiekluZGV4XCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciB0ID0gJCggdWkuaGVscGVyICksXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucztcblxuXHRcdGlmICggdC5jc3MoIFwiekluZGV4XCIgKSApIHtcblx0XHRcdG8uX3pJbmRleCA9IHQuY3NzKCBcInpJbmRleFwiICk7XG5cdFx0fVxuXHRcdHQuY3NzKCBcInpJbmRleFwiLCBvLnpJbmRleCApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgbyA9IGluc3RhbmNlLm9wdGlvbnM7XG5cblx0XHRpZiAoIG8uX3pJbmRleCApIHtcblx0XHRcdCQoIHVpLmhlbHBlciApLmNzcyggXCJ6SW5kZXhcIiwgby5fekluZGV4ICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbnZhciB3aWRnZXRzRHJhZ2dhYmxlID0gJC51aS5kcmFnZ2FibGU7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgUmVzaXphYmxlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBSZXNpemFibGVcbi8vPj5ncm91cDogSW50ZXJhY3Rpb25zXG4vLz4+ZGVzY3JpcHRpb246IEVuYWJsZXMgcmVzaXplIGZ1bmN0aW9uYWxpdHkgZm9yIGFueSBlbGVtZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Jlc2l6YWJsZS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9yZXNpemFibGUvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9yZXNpemFibGUuY3NzXG4vLz4+Y3NzLnRoZW1lOiAuLi8uLi90aGVtZXMvYmFzZS90aGVtZS5jc3NcblxuXG5cbiQud2lkZ2V0KCBcInVpLnJlc2l6YWJsZVwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcInJlc2l6ZVwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YWxzb1Jlc2l6ZTogZmFsc2UsXG5cdFx0YW5pbWF0ZTogZmFsc2UsXG5cdFx0YW5pbWF0ZUR1cmF0aW9uOiBcInNsb3dcIixcblx0XHRhbmltYXRlRWFzaW5nOiBcInN3aW5nXCIsXG5cdFx0YXNwZWN0UmF0aW86IGZhbHNlLFxuXHRcdGF1dG9IaWRlOiBmYWxzZSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcInVpLXJlc2l6YWJsZS1zZVwiOiBcInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2VcIlxuXHRcdH0sXG5cdFx0Y29udGFpbm1lbnQ6IGZhbHNlLFxuXHRcdGdob3N0OiBmYWxzZSxcblx0XHRncmlkOiBmYWxzZSxcblx0XHRoYW5kbGVzOiBcImUscyxzZVwiLFxuXHRcdGhlbHBlcjogZmFsc2UsXG5cdFx0bWF4SGVpZ2h0OiBudWxsLFxuXHRcdG1heFdpZHRoOiBudWxsLFxuXHRcdG1pbkhlaWdodDogMTAsXG5cdFx0bWluV2lkdGg6IDEwLFxuXG5cdFx0Ly8gU2VlICM3OTYwXG5cdFx0ekluZGV4OiA5MCxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdHJlc2l6ZTogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsXG5cdH0sXG5cblx0X251bTogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBwYXJzZUZsb2F0KCB2YWx1ZSApIHx8IDA7XG5cdH0sXG5cblx0X2lzTnVtYmVyOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuICFpc05hTiggcGFyc2VGbG9hdCggdmFsdWUgKSApO1xuXHR9LFxuXG5cdF9oYXNTY3JvbGw6IGZ1bmN0aW9uKCBlbCwgYSApIHtcblxuXHRcdGlmICggJCggZWwgKS5jc3MoIFwib3ZlcmZsb3dcIiApID09PSBcImhpZGRlblwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciBzY3JvbGwgPSAoIGEgJiYgYSA9PT0gXCJsZWZ0XCIgKSA/IFwic2Nyb2xsTGVmdFwiIDogXCJzY3JvbGxUb3BcIixcblx0XHRcdGhhcyA9IGZhbHNlO1xuXG5cdFx0aWYgKCBlbFsgc2Nyb2xsIF0gPiAwICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gVE9ETzogZGV0ZXJtaW5lIHdoaWNoIGNhc2VzIGFjdHVhbGx5IGNhdXNlIHRoaXMgdG8gaGFwcGVuXG5cdFx0Ly8gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIHRoZSBzY3JvbGwgc2V0LCBzZWUgaWYgaXQncyBwb3NzaWJsZSB0b1xuXHRcdC8vIHNldCB0aGUgc2Nyb2xsXG5cdFx0ZWxbIHNjcm9sbCBdID0gMTtcblx0XHRoYXMgPSAoIGVsWyBzY3JvbGwgXSA+IDAgKTtcblx0XHRlbFsgc2Nyb2xsIF0gPSAwO1xuXHRcdHJldHVybiBoYXM7XG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbWFyZ2lucyxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHR0aGF0ID0gdGhpcztcblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1yZXNpemFibGVcIiApO1xuXG5cdFx0JC5leHRlbmQoIHRoaXMsIHtcblx0XHRcdF9hc3BlY3RSYXRpbzogISEoIG8uYXNwZWN0UmF0aW8gKSxcblx0XHRcdGFzcGVjdFJhdGlvOiBvLmFzcGVjdFJhdGlvLFxuXHRcdFx0b3JpZ2luYWxFbGVtZW50OiB0aGlzLmVsZW1lbnQsXG5cdFx0XHRfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czogW10sXG5cdFx0XHRfaGVscGVyOiBvLmhlbHBlciB8fCBvLmdob3N0IHx8IG8uYW5pbWF0ZSA/IG8uaGVscGVyIHx8IFwidWktcmVzaXphYmxlLWhlbHBlclwiIDogbnVsbFxuXHRcdH0gKTtcblxuXHRcdC8vIFdyYXAgdGhlIGVsZW1lbnQgaWYgaXQgY2Fubm90IGhvbGQgY2hpbGQgbm9kZXNcblx0XHRpZiAoIHRoaXMuZWxlbWVudFsgMCBdLm5vZGVOYW1lLm1hdGNoKCAvXihjYW52YXN8dGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbnxpbWcpJC9pICkgKSB7XG5cblx0XHRcdHRoaXMuZWxlbWVudC53cmFwKFxuXHRcdFx0XHQkKCBcIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInIHN0eWxlPSdvdmVyZmxvdzogaGlkZGVuOyc+PC9kaXY+XCIgKS5jc3MoIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogdGhpcy5lbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdFx0d2lkdGg6IHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksXG5cdFx0XHRcdFx0aGVpZ2h0OiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0XHR0b3A6IHRoaXMuZWxlbWVudC5jc3MoIFwidG9wXCIgKSxcblx0XHRcdFx0XHRsZWZ0OiB0aGlzLmVsZW1lbnQuY3NzKCBcImxlZnRcIiApXG5cdFx0XHRcdH0gKVxuXHRcdFx0KTtcblxuXHRcdFx0dGhpcy5lbGVtZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoXG5cdFx0XHRcdFwidWktcmVzaXphYmxlXCIsIHRoaXMuZWxlbWVudC5yZXNpemFibGUoIFwiaW5zdGFuY2VcIiApXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRJc1dyYXBwZXIgPSB0cnVlO1xuXG5cdFx0XHRtYXJnaW5zID0ge1xuXHRcdFx0XHRtYXJnaW5Ub3A6IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyggXCJtYXJnaW5Ub3BcIiApLFxuXHRcdFx0XHRtYXJnaW5SaWdodDogdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCBcIm1hcmdpblJpZ2h0XCIgKSxcblx0XHRcdFx0bWFyZ2luQm90dG9tOiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIFwibWFyZ2luQm90dG9tXCIgKSxcblx0XHRcdFx0bWFyZ2luTGVmdDogdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCBcIm1hcmdpbkxlZnRcIiApXG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQuY3NzKCBtYXJnaW5zICk7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIFwibWFyZ2luXCIsIDAgKTtcblxuXHRcdFx0Ly8gc3VwcG9ydDogU2FmYXJpXG5cdFx0XHQvLyBQcmV2ZW50IFNhZmFyaSB0ZXh0YXJlYSByZXNpemVcblx0XHRcdHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZSA9IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyggXCJyZXNpemVcIiApO1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCBcInJlc2l6ZVwiLCBcIm5vbmVcIiApO1xuXG5cdFx0XHR0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2goIHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygge1xuXHRcdFx0XHRwb3NpdGlvbjogXCJzdGF0aWNcIixcblx0XHRcdFx0em9vbTogMSxcblx0XHRcdFx0ZGlzcGxheTogXCJibG9ja1wiXG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU5XG5cdFx0XHQvLyBhdm9pZCBJRSBqdW1wIChoYXJkIHNldCB0aGUgbWFyZ2luKVxuXHRcdFx0dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCBtYXJnaW5zICk7XG5cblx0XHRcdHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2V0dXBIYW5kbGVzKCk7XG5cblx0XHRpZiAoIG8uYXV0b0hpZGUgKSB7XG5cdFx0XHQkKCB0aGlzLmVsZW1lbnQgKVxuXHRcdFx0XHQub24oIFwibW91c2VlbnRlclwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIG8uZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCBcInVpLXJlc2l6YWJsZS1hdXRvaGlkZVwiICk7XG5cdFx0XHRcdFx0dGhhdC5faGFuZGxlcy5zaG93KCk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oIFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIG8uZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggIXRoYXQucmVzaXppbmcgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9hZGRDbGFzcyggXCJ1aS1yZXNpemFibGUtYXV0b2hpZGVcIiApO1xuXHRcdFx0XHRcdFx0dGhhdC5faGFuZGxlcy5oaWRlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cblx0XHR2YXIgd3JhcHBlcixcblx0XHRcdF9kZXN0cm95ID0gZnVuY3Rpb24oIGV4cCApIHtcblx0XHRcdFx0JCggZXhwIClcblx0XHRcdFx0XHQucmVtb3ZlRGF0YSggXCJyZXNpemFibGVcIiApXG5cdFx0XHRcdFx0LnJlbW92ZURhdGEoIFwidWktcmVzaXphYmxlXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnJlc2l6YWJsZVwiIClcblx0XHRcdFx0XHQuZmluZCggXCIudWktcmVzaXphYmxlLWhhbmRsZVwiIClcblx0XHRcdFx0XHRcdC5yZW1vdmUoKTtcblx0XHRcdH07XG5cblx0XHQvLyBUT0RPOiBVbndyYXAgYXQgc2FtZSBET00gcG9zaXRpb25cblx0XHRpZiAoIHRoaXMuZWxlbWVudElzV3JhcHBlciApIHtcblx0XHRcdF9kZXN0cm95KCB0aGlzLmVsZW1lbnQgKTtcblx0XHRcdHdyYXBwZXIgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIHtcblx0XHRcdFx0cG9zaXRpb246IHdyYXBwZXIuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdFx0d2lkdGg6IHdyYXBwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IHdyYXBwZXIub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0dG9wOiB3cmFwcGVyLmNzcyggXCJ0b3BcIiApLFxuXHRcdFx0XHRsZWZ0OiB3cmFwcGVyLmNzcyggXCJsZWZ0XCIgKVxuXHRcdFx0fSApLmluc2VydEFmdGVyKCB3cmFwcGVyICk7XG5cdFx0XHR3cmFwcGVyLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyggXCJyZXNpemVcIiwgdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlICk7XG5cdFx0X2Rlc3Ryb3koIHRoaXMub3JpZ2luYWxFbGVtZW50ICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0c3dpdGNoICgga2V5ICkge1xuXHRcdGNhc2UgXCJoYW5kbGVzXCI6XG5cdFx0XHR0aGlzLl9yZW1vdmVIYW5kbGVzKCk7XG5cdFx0XHR0aGlzLl9zZXR1cEhhbmRsZXMoKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0X3NldHVwSGFuZGxlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnMsIGhhbmRsZSwgaSwgbiwgaG5hbWUsIGF4aXMsIHRoYXQgPSB0aGlzO1xuXHRcdHRoaXMuaGFuZGxlcyA9IG8uaGFuZGxlcyB8fFxuXHRcdFx0KCAhJCggXCIudWktcmVzaXphYmxlLWhhbmRsZVwiLCB0aGlzLmVsZW1lbnQgKS5sZW5ndGggP1xuXHRcdFx0XHRcImUscyxzZVwiIDoge1xuXHRcdFx0XHRcdG46IFwiLnVpLXJlc2l6YWJsZS1uXCIsXG5cdFx0XHRcdFx0ZTogXCIudWktcmVzaXphYmxlLWVcIixcblx0XHRcdFx0XHRzOiBcIi51aS1yZXNpemFibGUtc1wiLFxuXHRcdFx0XHRcdHc6IFwiLnVpLXJlc2l6YWJsZS13XCIsXG5cdFx0XHRcdFx0c2U6IFwiLnVpLXJlc2l6YWJsZS1zZVwiLFxuXHRcdFx0XHRcdHN3OiBcIi51aS1yZXNpemFibGUtc3dcIixcblx0XHRcdFx0XHRuZTogXCIudWktcmVzaXphYmxlLW5lXCIsXG5cdFx0XHRcdFx0bnc6IFwiLnVpLXJlc2l6YWJsZS1ud1wiXG5cdFx0XHRcdH0gKTtcblxuXHRcdHRoaXMuX2hhbmRsZXMgPSAkKCk7XG5cdFx0aWYgKCB0aGlzLmhhbmRsZXMuY29uc3RydWN0b3IgPT09IFN0cmluZyApIHtcblxuXHRcdFx0aWYgKCB0aGlzLmhhbmRsZXMgPT09IFwiYWxsXCIgKSB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlcyA9IFwibixlLHMsdyxzZSxzdyxuZSxud1wiO1xuXHRcdFx0fVxuXG5cdFx0XHRuID0gdGhpcy5oYW5kbGVzLnNwbGl0KCBcIixcIiApO1xuXHRcdFx0dGhpcy5oYW5kbGVzID0ge307XG5cblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKyApIHtcblxuXHRcdFx0XHRoYW5kbGUgPSAkLnRyaW0oIG5bIGkgXSApO1xuXHRcdFx0XHRobmFtZSA9IFwidWktcmVzaXphYmxlLVwiICsgaGFuZGxlO1xuXHRcdFx0XHRheGlzID0gJCggXCI8ZGl2PlwiICk7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCBheGlzLCBcInVpLXJlc2l6YWJsZS1oYW5kbGUgXCIgKyBobmFtZSApO1xuXG5cdFx0XHRcdGF4aXMuY3NzKCB7IHpJbmRleDogby56SW5kZXggfSApO1xuXG5cdFx0XHRcdHRoaXMuaGFuZGxlc1sgaGFuZGxlIF0gPSBcIi51aS1yZXNpemFibGUtXCIgKyBoYW5kbGU7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5hcHBlbmQoIGF4aXMgKTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHRoaXMuX3JlbmRlckF4aXMgPSBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXG5cdFx0XHR2YXIgaSwgYXhpcywgcGFkUG9zLCBwYWRXcmFwcGVyO1xuXG5cdFx0XHR0YXJnZXQgPSB0YXJnZXQgfHwgdGhpcy5lbGVtZW50O1xuXG5cdFx0XHRmb3IgKCBpIGluIHRoaXMuaGFuZGxlcyApIHtcblxuXHRcdFx0XHRpZiAoIHRoaXMuaGFuZGxlc1sgaSBdLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgKSB7XG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVzWyBpIF0gPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIHRoaXMuaGFuZGxlc1sgaSBdICkuZmlyc3QoKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHRoaXMuaGFuZGxlc1sgaSBdLmpxdWVyeSB8fCB0aGlzLmhhbmRsZXNbIGkgXS5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHR0aGlzLmhhbmRsZXNbIGkgXSA9ICQoIHRoaXMuaGFuZGxlc1sgaSBdICk7XG5cdFx0XHRcdFx0dGhpcy5fb24oIHRoaXMuaGFuZGxlc1sgaSBdLCB7IFwibW91c2Vkb3duXCI6IHRoYXQuX21vdXNlRG93biB9ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHRoaXMuZWxlbWVudElzV3JhcHBlciAmJlxuXHRcdFx0XHRcdFx0dGhpcy5vcmlnaW5hbEVsZW1lbnRbIDAgXVxuXHRcdFx0XHRcdFx0XHQubm9kZU5hbWVcblx0XHRcdFx0XHRcdFx0Lm1hdGNoKCAvXih0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uKSQvaSApICkge1xuXHRcdFx0XHRcdGF4aXMgPSAkKCB0aGlzLmhhbmRsZXNbIGkgXSwgdGhpcy5lbGVtZW50ICk7XG5cblx0XHRcdFx0XHRwYWRXcmFwcGVyID0gL3N3fG5lfG53fHNlfG58cy8udGVzdCggaSApID9cblx0XHRcdFx0XHRcdGF4aXMub3V0ZXJIZWlnaHQoKSA6XG5cdFx0XHRcdFx0XHRheGlzLm91dGVyV2lkdGgoKTtcblxuXHRcdFx0XHRcdHBhZFBvcyA9IFsgXCJwYWRkaW5nXCIsXG5cdFx0XHRcdFx0XHQvbmV8bnd8bi8udGVzdCggaSApID8gXCJUb3BcIiA6XG5cdFx0XHRcdFx0XHQvc2V8c3d8cy8udGVzdCggaSApID8gXCJCb3R0b21cIiA6XG5cdFx0XHRcdFx0XHQvXmUkLy50ZXN0KCBpICkgPyBcIlJpZ2h0XCIgOiBcIkxlZnRcIiBdLmpvaW4oIFwiXCIgKTtcblxuXHRcdFx0XHRcdHRhcmdldC5jc3MoIHBhZFBvcywgcGFkV3JhcHBlciApO1xuXG5cdFx0XHRcdFx0dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX2hhbmRsZXMgPSB0aGlzLl9oYW5kbGVzLmFkZCggdGhpcy5oYW5kbGVzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gVE9ETzogbWFrZSByZW5kZXJBeGlzIGEgcHJvdG90eXBlIGZ1bmN0aW9uXG5cdFx0dGhpcy5fcmVuZGVyQXhpcyggdGhpcy5lbGVtZW50ICk7XG5cblx0XHR0aGlzLl9oYW5kbGVzID0gdGhpcy5faGFuZGxlcy5hZGQoIHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1yZXNpemFibGUtaGFuZGxlXCIgKSApO1xuXHRcdHRoaXMuX2hhbmRsZXMuZGlzYWJsZVNlbGVjdGlvbigpO1xuXG5cdFx0dGhpcy5faGFuZGxlcy5vbiggXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICF0aGF0LnJlc2l6aW5nICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuY2xhc3NOYW1lICkge1xuXHRcdFx0XHRcdGF4aXMgPSB0aGlzLmNsYXNzTmFtZS5tYXRjaCggL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoYXQuYXhpcyA9IGF4aXMgJiYgYXhpc1sgMSBdID8gYXhpc1sgMSBdIDogXCJzZVwiO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGlmICggby5hdXRvSGlkZSApIHtcblx0XHRcdHRoaXMuX2hhbmRsZXMuaGlkZSgpO1xuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktcmVzaXphYmxlLWF1dG9oaWRlXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZUhhbmRsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2hhbmRsZXMucmVtb3ZlKCk7XG5cdH0sXG5cblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpLCBoYW5kbGUsXG5cdFx0XHRjYXB0dXJlID0gZmFsc2U7XG5cblx0XHRmb3IgKCBpIGluIHRoaXMuaGFuZGxlcyApIHtcblx0XHRcdGhhbmRsZSA9ICQoIHRoaXMuaGFuZGxlc1sgaSBdIClbIDAgXTtcblx0XHRcdGlmICggaGFuZGxlID09PSBldmVudC50YXJnZXQgfHwgJC5jb250YWlucyggaGFuZGxlLCBldmVudC50YXJnZXQgKSApIHtcblx0XHRcdFx0Y2FwdHVyZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQgJiYgY2FwdHVyZTtcblx0fSxcblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dmFyIGN1cmxlZnQsIGN1cnRvcCwgY3Vyc29yLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGVsID0gdGhpcy5lbGVtZW50O1xuXG5cdFx0dGhpcy5yZXNpemluZyA9IHRydWU7XG5cblx0XHR0aGlzLl9yZW5kZXJQcm94eSgpO1xuXG5cdFx0Y3VybGVmdCA9IHRoaXMuX251bSggdGhpcy5oZWxwZXIuY3NzKCBcImxlZnRcIiApICk7XG5cdFx0Y3VydG9wID0gdGhpcy5fbnVtKCB0aGlzLmhlbHBlci5jc3MoIFwidG9wXCIgKSApO1xuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0Y3VybGVmdCArPSAkKCBvLmNvbnRhaW5tZW50ICkuc2Nyb2xsTGVmdCgpIHx8IDA7XG5cdFx0XHRjdXJ0b3AgKz0gJCggby5jb250YWlubWVudCApLnNjcm9sbFRvcCgpIHx8IDA7XG5cdFx0fVxuXG5cdFx0dGhpcy5vZmZzZXQgPSB0aGlzLmhlbHBlci5vZmZzZXQoKTtcblx0XHR0aGlzLnBvc2l0aW9uID0geyBsZWZ0OiBjdXJsZWZ0LCB0b3A6IGN1cnRvcCB9O1xuXG5cdFx0dGhpcy5zaXplID0gdGhpcy5faGVscGVyID8ge1xuXHRcdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIud2lkdGgoKSxcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5oZWlnaHQoKVxuXHRcdFx0fSA6IHtcblx0XHRcdFx0d2lkdGg6IGVsLndpZHRoKCksXG5cdFx0XHRcdGhlaWdodDogZWwuaGVpZ2h0KClcblx0XHRcdH07XG5cblx0XHR0aGlzLm9yaWdpbmFsU2l6ZSA9IHRoaXMuX2hlbHBlciA/IHtcblx0XHRcdFx0d2lkdGg6IGVsLm91dGVyV2lkdGgoKSxcblx0XHRcdFx0aGVpZ2h0OiBlbC5vdXRlckhlaWdodCgpXG5cdFx0XHR9IDoge1xuXHRcdFx0XHR3aWR0aDogZWwud2lkdGgoKSxcblx0XHRcdFx0aGVpZ2h0OiBlbC5oZWlnaHQoKVxuXHRcdFx0fTtcblxuXHRcdHRoaXMuc2l6ZURpZmYgPSB7XG5cdFx0XHR3aWR0aDogZWwub3V0ZXJXaWR0aCgpIC0gZWwud2lkdGgoKSxcblx0XHRcdGhlaWdodDogZWwub3V0ZXJIZWlnaHQoKSAtIGVsLmhlaWdodCgpXG5cdFx0fTtcblxuXHRcdHRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IHsgbGVmdDogY3VybGVmdCwgdG9wOiBjdXJ0b3AgfTtcblx0XHR0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbiA9IHsgbGVmdDogZXZlbnQucGFnZVgsIHRvcDogZXZlbnQucGFnZVkgfTtcblxuXHRcdHRoaXMuYXNwZWN0UmF0aW8gPSAoIHR5cGVvZiBvLmFzcGVjdFJhdGlvID09PSBcIm51bWJlclwiICkgP1xuXHRcdFx0by5hc3BlY3RSYXRpbyA6XG5cdFx0XHQoICggdGhpcy5vcmlnaW5hbFNpemUud2lkdGggLyB0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQgKSB8fCAxICk7XG5cblx0XHRjdXJzb3IgPSAkKCBcIi51aS1yZXNpemFibGUtXCIgKyB0aGlzLmF4aXMgKS5jc3MoIFwiY3Vyc29yXCIgKTtcblx0XHQkKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgY3Vyc29yID09PSBcImF1dG9cIiA/IHRoaXMuYXhpcyArIFwiLXJlc2l6ZVwiIDogY3Vyc29yICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1yZXNpemFibGUtcmVzaXppbmdcIiApO1xuXHRcdHRoaXMuX3Byb3BhZ2F0ZSggXCJzdGFydFwiLCBldmVudCApO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBkYXRhLCBwcm9wcyxcblx0XHRcdHNtcCA9IHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLFxuXHRcdFx0YSA9IHRoaXMuYXhpcyxcblx0XHRcdGR4ID0gKCBldmVudC5wYWdlWCAtIHNtcC5sZWZ0ICkgfHwgMCxcblx0XHRcdGR5ID0gKCBldmVudC5wYWdlWSAtIHNtcC50b3AgKSB8fCAwLFxuXHRcdFx0dHJpZ2dlciA9IHRoaXMuX2NoYW5nZVsgYSBdO1xuXG5cdFx0dGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKTtcblxuXHRcdGlmICggIXRyaWdnZXIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0ZGF0YSA9IHRyaWdnZXIuYXBwbHkoIHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdICk7XG5cblx0XHR0aGlzLl91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyggZXZlbnQuc2hpZnRLZXkgKTtcblx0XHRpZiAoIHRoaXMuX2FzcGVjdFJhdGlvIHx8IGV2ZW50LnNoaWZ0S2V5ICkge1xuXHRcdFx0ZGF0YSA9IHRoaXMuX3VwZGF0ZVJhdGlvKCBkYXRhLCBldmVudCApO1xuXHRcdH1cblxuXHRcdGRhdGEgPSB0aGlzLl9yZXNwZWN0U2l6ZSggZGF0YSwgZXZlbnQgKTtcblxuXHRcdHRoaXMuX3VwZGF0ZUNhY2hlKCBkYXRhICk7XG5cblx0XHR0aGlzLl9wcm9wYWdhdGUoIFwicmVzaXplXCIsIGV2ZW50ICk7XG5cblx0XHRwcm9wcyA9IHRoaXMuX2FwcGx5Q2hhbmdlcygpO1xuXG5cdFx0aWYgKCAhdGhpcy5faGVscGVyICYmIHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKTtcblx0XHR9XG5cblx0XHRpZiAoICEkLmlzRW1wdHlPYmplY3QoIHByb3BzICkgKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpO1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJyZXNpemVcIiwgZXZlbnQsIHRoaXMudWkoKSApO1xuXHRcdFx0dGhpcy5fYXBwbHlDaGFuZ2VzKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHRoaXMucmVzaXppbmcgPSBmYWxzZTtcblx0XHR2YXIgcHIsIGlzdGEsIHNvZmZzZXRoLCBzb2Zmc2V0dywgcywgbGVmdCwgdG9wLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucywgdGhhdCA9IHRoaXM7XG5cblx0XHRpZiAoIHRoaXMuX2hlbHBlciApIHtcblxuXHRcdFx0cHIgPSB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzO1xuXHRcdFx0aXN0YSA9IHByLmxlbmd0aCAmJiAoIC90ZXh0YXJlYS9pICkudGVzdCggcHJbIDAgXS5ub2RlTmFtZSApO1xuXHRcdFx0c29mZnNldGggPSBpc3RhICYmIHRoaXMuX2hhc1Njcm9sbCggcHJbIDAgXSwgXCJsZWZ0XCIgKSA/IDAgOiB0aGF0LnNpemVEaWZmLmhlaWdodDtcblx0XHRcdHNvZmZzZXR3ID0gaXN0YSA/IDAgOiB0aGF0LnNpemVEaWZmLndpZHRoO1xuXG5cdFx0XHRzID0ge1xuXHRcdFx0XHR3aWR0aDogKCB0aGF0LmhlbHBlci53aWR0aCgpICAtIHNvZmZzZXR3ICksXG5cdFx0XHRcdGhlaWdodDogKCB0aGF0LmhlbHBlci5oZWlnaHQoKSAtIHNvZmZzZXRoIClcblx0XHRcdH07XG5cdFx0XHRsZWZ0ID0gKCBwYXJzZUZsb2F0KCB0aGF0LmVsZW1lbnQuY3NzKCBcImxlZnRcIiApICkgK1xuXHRcdFx0XHQoIHRoYXQucG9zaXRpb24ubGVmdCAtIHRoYXQub3JpZ2luYWxQb3NpdGlvbi5sZWZ0ICkgKSB8fCBudWxsO1xuXHRcdFx0dG9wID0gKCBwYXJzZUZsb2F0KCB0aGF0LmVsZW1lbnQuY3NzKCBcInRvcFwiICkgKSArXG5cdFx0XHRcdCggdGhhdC5wb3NpdGlvbi50b3AgLSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24udG9wICkgKSB8fCBudWxsO1xuXG5cdFx0XHRpZiAoICFvLmFuaW1hdGUgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5jc3MoICQuZXh0ZW5kKCBzLCB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH0gKSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGF0LmhlbHBlci5oZWlnaHQoIHRoYXQuc2l6ZS5oZWlnaHQgKTtcblx0XHRcdHRoYXQuaGVscGVyLndpZHRoKCB0aGF0LnNpemUud2lkdGggKTtcblxuXHRcdFx0aWYgKCB0aGlzLl9oZWxwZXIgJiYgIW8uYW5pbWF0ZSApIHtcblx0XHRcdFx0dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQkKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgXCJhdXRvXCIgKTtcblxuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBcInVpLXJlc2l6YWJsZS1yZXNpemluZ1wiICk7XG5cblx0XHR0aGlzLl9wcm9wYWdhdGUoIFwic3RvcFwiLCBldmVudCApO1xuXG5cdFx0aWYgKCB0aGlzLl9oZWxwZXIgKSB7XG5cdFx0XHR0aGlzLmhlbHBlci5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fSxcblxuXHRfdXBkYXRlUHJldlByb3BlcnRpZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMucHJldlBvc2l0aW9uID0ge1xuXHRcdFx0dG9wOiB0aGlzLnBvc2l0aW9uLnRvcCxcblx0XHRcdGxlZnQ6IHRoaXMucG9zaXRpb24ubGVmdFxuXHRcdH07XG5cdFx0dGhpcy5wcmV2U2l6ZSA9IHtcblx0XHRcdHdpZHRoOiB0aGlzLnNpemUud2lkdGgsXG5cdFx0XHRoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHRcblx0XHR9O1xuXHR9LFxuXG5cdF9hcHBseUNoYW5nZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcm9wcyA9IHt9O1xuXG5cdFx0aWYgKCB0aGlzLnBvc2l0aW9uLnRvcCAhPT0gdGhpcy5wcmV2UG9zaXRpb24udG9wICkge1xuXHRcdFx0cHJvcHMudG9wID0gdGhpcy5wb3NpdGlvbi50b3AgKyBcInB4XCI7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5wb3NpdGlvbi5sZWZ0ICE9PSB0aGlzLnByZXZQb3NpdGlvbi5sZWZ0ICkge1xuXHRcdFx0cHJvcHMubGVmdCA9IHRoaXMucG9zaXRpb24ubGVmdCArIFwicHhcIjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLnNpemUud2lkdGggIT09IHRoaXMucHJldlNpemUud2lkdGggKSB7XG5cdFx0XHRwcm9wcy53aWR0aCA9IHRoaXMuc2l6ZS53aWR0aCArIFwicHhcIjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLnNpemUuaGVpZ2h0ICE9PSB0aGlzLnByZXZTaXplLmhlaWdodCApIHtcblx0XHRcdHByb3BzLmhlaWdodCA9IHRoaXMuc2l6ZS5oZWlnaHQgKyBcInB4XCI7XG5cdFx0fVxuXG5cdFx0dGhpcy5oZWxwZXIuY3NzKCBwcm9wcyApO1xuXG5cdFx0cmV0dXJuIHByb3BzO1xuXHR9LFxuXG5cdF91cGRhdGVWaXJ0dWFsQm91bmRhcmllczogZnVuY3Rpb24oIGZvcmNlQXNwZWN0UmF0aW8gKSB7XG5cdFx0dmFyIHBNaW5XaWR0aCwgcE1heFdpZHRoLCBwTWluSGVpZ2h0LCBwTWF4SGVpZ2h0LCBiLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblxuXHRcdGIgPSB7XG5cdFx0XHRtaW5XaWR0aDogdGhpcy5faXNOdW1iZXIoIG8ubWluV2lkdGggKSA/IG8ubWluV2lkdGggOiAwLFxuXHRcdFx0bWF4V2lkdGg6IHRoaXMuX2lzTnVtYmVyKCBvLm1heFdpZHRoICkgPyBvLm1heFdpZHRoIDogSW5maW5pdHksXG5cdFx0XHRtaW5IZWlnaHQ6IHRoaXMuX2lzTnVtYmVyKCBvLm1pbkhlaWdodCApID8gby5taW5IZWlnaHQgOiAwLFxuXHRcdFx0bWF4SGVpZ2h0OiB0aGlzLl9pc051bWJlciggby5tYXhIZWlnaHQgKSA/IG8ubWF4SGVpZ2h0IDogSW5maW5pdHlcblx0XHR9O1xuXG5cdFx0aWYgKCB0aGlzLl9hc3BlY3RSYXRpbyB8fCBmb3JjZUFzcGVjdFJhdGlvICkge1xuXHRcdFx0cE1pbldpZHRoID0gYi5taW5IZWlnaHQgKiB0aGlzLmFzcGVjdFJhdGlvO1xuXHRcdFx0cE1pbkhlaWdodCA9IGIubWluV2lkdGggLyB0aGlzLmFzcGVjdFJhdGlvO1xuXHRcdFx0cE1heFdpZHRoID0gYi5tYXhIZWlnaHQgKiB0aGlzLmFzcGVjdFJhdGlvO1xuXHRcdFx0cE1heEhlaWdodCA9IGIubWF4V2lkdGggLyB0aGlzLmFzcGVjdFJhdGlvO1xuXG5cdFx0XHRpZiAoIHBNaW5XaWR0aCA+IGIubWluV2lkdGggKSB7XG5cdFx0XHRcdGIubWluV2lkdGggPSBwTWluV2lkdGg7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHBNaW5IZWlnaHQgPiBiLm1pbkhlaWdodCApIHtcblx0XHRcdFx0Yi5taW5IZWlnaHQgPSBwTWluSGVpZ2h0O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBwTWF4V2lkdGggPCBiLm1heFdpZHRoICkge1xuXHRcdFx0XHRiLm1heFdpZHRoID0gcE1heFdpZHRoO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBwTWF4SGVpZ2h0IDwgYi5tYXhIZWlnaHQgKSB7XG5cdFx0XHRcdGIubWF4SGVpZ2h0ID0gcE1heEhlaWdodDtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fdkJvdW5kYXJpZXMgPSBiO1xuXHR9LFxuXG5cdF91cGRhdGVDYWNoZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0dGhpcy5vZmZzZXQgPSB0aGlzLmhlbHBlci5vZmZzZXQoKTtcblx0XHRpZiAoIHRoaXMuX2lzTnVtYmVyKCBkYXRhLmxlZnQgKSApIHtcblx0XHRcdHRoaXMucG9zaXRpb24ubGVmdCA9IGRhdGEubGVmdDtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9pc051bWJlciggZGF0YS50b3AgKSApIHtcblx0XHRcdHRoaXMucG9zaXRpb24udG9wID0gZGF0YS50b3A7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5faXNOdW1iZXIoIGRhdGEuaGVpZ2h0ICkgKSB7XG5cdFx0XHR0aGlzLnNpemUuaGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5faXNOdW1iZXIoIGRhdGEud2lkdGggKSApIHtcblx0XHRcdHRoaXMuc2l6ZS53aWR0aCA9IGRhdGEud2lkdGg7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVSYXRpbzogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHR2YXIgY3BvcyA9IHRoaXMucG9zaXRpb24sXG5cdFx0XHRjc2l6ZSA9IHRoaXMuc2l6ZSxcblx0XHRcdGEgPSB0aGlzLmF4aXM7XG5cblx0XHRpZiAoIHRoaXMuX2lzTnVtYmVyKCBkYXRhLmhlaWdodCApICkge1xuXHRcdFx0ZGF0YS53aWR0aCA9ICggZGF0YS5oZWlnaHQgKiB0aGlzLmFzcGVjdFJhdGlvICk7XG5cdFx0fSBlbHNlIGlmICggdGhpcy5faXNOdW1iZXIoIGRhdGEud2lkdGggKSApIHtcblx0XHRcdGRhdGEuaGVpZ2h0ID0gKCBkYXRhLndpZHRoIC8gdGhpcy5hc3BlY3RSYXRpbyApO1xuXHRcdH1cblxuXHRcdGlmICggYSA9PT0gXCJzd1wiICkge1xuXHRcdFx0ZGF0YS5sZWZ0ID0gY3Bvcy5sZWZ0ICsgKCBjc2l6ZS53aWR0aCAtIGRhdGEud2lkdGggKTtcblx0XHRcdGRhdGEudG9wID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKCBhID09PSBcIm53XCIgKSB7XG5cdFx0XHRkYXRhLnRvcCA9IGNwb3MudG9wICsgKCBjc2l6ZS5oZWlnaHQgLSBkYXRhLmhlaWdodCApO1xuXHRcdFx0ZGF0YS5sZWZ0ID0gY3Bvcy5sZWZ0ICsgKCBjc2l6ZS53aWR0aCAtIGRhdGEud2lkdGggKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YTtcblx0fSxcblxuXHRfcmVzcGVjdFNpemU6IGZ1bmN0aW9uKCBkYXRhICkge1xuXG5cdFx0dmFyIG8gPSB0aGlzLl92Qm91bmRhcmllcyxcblx0XHRcdGEgPSB0aGlzLmF4aXMsXG5cdFx0XHRpc21heHcgPSB0aGlzLl9pc051bWJlciggZGF0YS53aWR0aCApICYmIG8ubWF4V2lkdGggJiYgKCBvLm1heFdpZHRoIDwgZGF0YS53aWR0aCApLFxuXHRcdFx0aXNtYXhoID0gdGhpcy5faXNOdW1iZXIoIGRhdGEuaGVpZ2h0ICkgJiYgby5tYXhIZWlnaHQgJiYgKCBvLm1heEhlaWdodCA8IGRhdGEuaGVpZ2h0ICksXG5cdFx0XHRpc21pbncgPSB0aGlzLl9pc051bWJlciggZGF0YS53aWR0aCApICYmIG8ubWluV2lkdGggJiYgKCBvLm1pbldpZHRoID4gZGF0YS53aWR0aCApLFxuXHRcdFx0aXNtaW5oID0gdGhpcy5faXNOdW1iZXIoIGRhdGEuaGVpZ2h0ICkgJiYgby5taW5IZWlnaHQgJiYgKCBvLm1pbkhlaWdodCA+IGRhdGEuaGVpZ2h0ICksXG5cdFx0XHRkdyA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0ICsgdGhpcy5vcmlnaW5hbFNpemUud2lkdGgsXG5cdFx0XHRkaCA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3AgKyB0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQsXG5cdFx0XHRjdyA9IC9zd3xud3x3Ly50ZXN0KCBhICksIGNoID0gL253fG5lfG4vLnRlc3QoIGEgKTtcblx0XHRpZiAoIGlzbWludyApIHtcblx0XHRcdGRhdGEud2lkdGggPSBvLm1pbldpZHRoO1xuXHRcdH1cblx0XHRpZiAoIGlzbWluaCApIHtcblx0XHRcdGRhdGEuaGVpZ2h0ID0gby5taW5IZWlnaHQ7XG5cdFx0fVxuXHRcdGlmICggaXNtYXh3ICkge1xuXHRcdFx0ZGF0YS53aWR0aCA9IG8ubWF4V2lkdGg7XG5cdFx0fVxuXHRcdGlmICggaXNtYXhoICkge1xuXHRcdFx0ZGF0YS5oZWlnaHQgPSBvLm1heEhlaWdodDtcblx0XHR9XG5cblx0XHRpZiAoIGlzbWludyAmJiBjdyApIHtcblx0XHRcdGRhdGEubGVmdCA9IGR3IC0gby5taW5XaWR0aDtcblx0XHR9XG5cdFx0aWYgKCBpc21heHcgJiYgY3cgKSB7XG5cdFx0XHRkYXRhLmxlZnQgPSBkdyAtIG8ubWF4V2lkdGg7XG5cdFx0fVxuXHRcdGlmICggaXNtaW5oICYmIGNoICkge1xuXHRcdFx0ZGF0YS50b3AgPSBkaCAtIG8ubWluSGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoIGlzbWF4aCAmJiBjaCApIHtcblx0XHRcdGRhdGEudG9wID0gZGggLSBvLm1heEhlaWdodDtcblx0XHR9XG5cblx0XHQvLyBGaXhpbmcganVtcCBlcnJvciBvbiB0b3AvbGVmdCAtIGJ1ZyAjMjMzMFxuXHRcdGlmICggIWRhdGEud2lkdGggJiYgIWRhdGEuaGVpZ2h0ICYmICFkYXRhLmxlZnQgJiYgZGF0YS50b3AgKSB7XG5cdFx0XHRkYXRhLnRvcCA9IG51bGw7XG5cdFx0fSBlbHNlIGlmICggIWRhdGEud2lkdGggJiYgIWRhdGEuaGVpZ2h0ICYmICFkYXRhLnRvcCAmJiBkYXRhLmxlZnQgKSB7XG5cdFx0XHRkYXRhLmxlZnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhO1xuXHR9LFxuXG5cdF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnM6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHdpZHRocyA9IFtdLFxuXHRcdFx0Ym9yZGVycyA9IFtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwiYm9yZGVyVG9wV2lkdGhcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJib3JkZXJSaWdodFdpZHRoXCIgKSxcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwiYm9yZGVyQm90dG9tV2lkdGhcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApXG5cdFx0XHRdLFxuXHRcdFx0cGFkZGluZ3MgPSBbXG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcInBhZGRpbmdUb3BcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJwYWRkaW5nUmlnaHRcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJwYWRkaW5nQm90dG9tXCIgKSxcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwicGFkZGluZ0xlZnRcIiApXG5cdFx0XHRdO1xuXG5cdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0d2lkdGhzWyBpIF0gPSAoIHBhcnNlRmxvYXQoIGJvcmRlcnNbIGkgXSApIHx8IDAgKTtcblx0XHRcdHdpZHRoc1sgaSBdICs9ICggcGFyc2VGbG9hdCggcGFkZGluZ3NbIGkgXSApIHx8IDAgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVpZ2h0OiB3aWR0aHNbIDAgXSArIHdpZHRoc1sgMiBdLFxuXHRcdFx0d2lkdGg6IHdpZHRoc1sgMSBdICsgd2lkdGhzWyAzIF1cblx0XHR9O1xuXHR9LFxuXG5cdF9wcm9wb3J0aW9uYWxseVJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoICF0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgcHJlbCxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZWxlbWVudCA9IHRoaXMuaGVscGVyIHx8IHRoaXMuZWxlbWVudDtcblxuXHRcdGZvciAoIDsgaSA8IHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRcdHByZWwgPSB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzWyBpIF07XG5cblx0XHRcdC8vIFRPRE86IFNlZW1zIGxpa2UgYSBidWcgdG8gY2FjaGUgdGhpcy5vdXRlckRpbWVuc2lvbnNcblx0XHRcdC8vIGNvbnNpZGVyaW5nIHRoYXQgd2UgYXJlIGluIGEgbG9vcC5cblx0XHRcdGlmICggIXRoaXMub3V0ZXJEaW1lbnNpb25zICkge1xuXHRcdFx0XHR0aGlzLm91dGVyRGltZW5zaW9ucyA9IHRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyggcHJlbCApO1xuXHRcdFx0fVxuXG5cdFx0XHRwcmVsLmNzcygge1xuXHRcdFx0XHRoZWlnaHQ6ICggZWxlbWVudC5oZWlnaHQoKSAtIHRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodCApIHx8IDAsXG5cdFx0XHRcdHdpZHRoOiAoIGVsZW1lbnQud2lkdGgoKSAtIHRoaXMub3V0ZXJEaW1lbnNpb25zLndpZHRoICkgfHwgMFxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0X3JlbmRlclByb3h5OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBlbCA9IHRoaXMuZWxlbWVudCwgbyA9IHRoaXMub3B0aW9ucztcblx0XHR0aGlzLmVsZW1lbnRPZmZzZXQgPSBlbC5vZmZzZXQoKTtcblxuXHRcdGlmICggdGhpcy5faGVscGVyICkge1xuXG5cdFx0XHR0aGlzLmhlbHBlciA9IHRoaXMuaGVscGVyIHx8ICQoIFwiPGRpdiBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuOyc+PC9kaXY+XCIgKTtcblxuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaGVscGVyLCB0aGlzLl9oZWxwZXIgKTtcblx0XHRcdHRoaXMuaGVscGVyLmNzcygge1xuXHRcdFx0XHR3aWR0aDogdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0bGVmdDogdGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQgKyBcInB4XCIsXG5cdFx0XHRcdHRvcDogdGhpcy5lbGVtZW50T2Zmc2V0LnRvcCArIFwicHhcIixcblx0XHRcdFx0ekluZGV4OiArK28uekluZGV4IC8vVE9ETzogRG9uJ3QgbW9kaWZ5IG9wdGlvblxuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLmhlbHBlclxuXHRcdFx0XHQuYXBwZW5kVG8oIFwiYm9keVwiIClcblx0XHRcdFx0LmRpc2FibGVTZWxlY3Rpb24oKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmhlbHBlciA9IHRoaXMuZWxlbWVudDtcblx0XHR9XG5cblx0fSxcblxuXHRfY2hhbmdlOiB7XG5cdFx0ZTogZnVuY3Rpb24oIGV2ZW50LCBkeCApIHtcblx0XHRcdHJldHVybiB7IHdpZHRoOiB0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCArIGR4IH07XG5cdFx0fSxcblx0XHR3OiBmdW5jdGlvbiggZXZlbnQsIGR4ICkge1xuXHRcdFx0dmFyIGNzID0gdGhpcy5vcmlnaW5hbFNpemUsIHNwID0gdGhpcy5vcmlnaW5hbFBvc2l0aW9uO1xuXHRcdFx0cmV0dXJuIHsgbGVmdDogc3AubGVmdCArIGR4LCB3aWR0aDogY3Mud2lkdGggLSBkeCB9O1xuXHRcdH0sXG5cdFx0bjogZnVuY3Rpb24oIGV2ZW50LCBkeCwgZHkgKSB7XG5cdFx0XHR2YXIgY3MgPSB0aGlzLm9yaWdpbmFsU2l6ZSwgc3AgPSB0aGlzLm9yaWdpbmFsUG9zaXRpb247XG5cdFx0XHRyZXR1cm4geyB0b3A6IHNwLnRvcCArIGR5LCBoZWlnaHQ6IGNzLmhlaWdodCAtIGR5IH07XG5cdFx0fSxcblx0XHRzOiBmdW5jdGlvbiggZXZlbnQsIGR4LCBkeSApIHtcblx0XHRcdHJldHVybiB7IGhlaWdodDogdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0ICsgZHkgfTtcblx0XHR9LFxuXHRcdHNlOiBmdW5jdGlvbiggZXZlbnQsIGR4LCBkeSApIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZCggdGhpcy5fY2hhbmdlLnMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApLFxuXHRcdFx0XHR0aGlzLl9jaGFuZ2UuZS5hcHBseSggdGhpcywgWyBldmVudCwgZHgsIGR5IF0gKSApO1xuXHRcdH0sXG5cdFx0c3c6IGZ1bmN0aW9uKCBldmVudCwgZHgsIGR5ICkge1xuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKCB0aGlzLl9jaGFuZ2Uucy5hcHBseSggdGhpcywgYXJndW1lbnRzICksXG5cdFx0XHRcdHRoaXMuX2NoYW5nZS53LmFwcGx5KCB0aGlzLCBbIGV2ZW50LCBkeCwgZHkgXSApICk7XG5cdFx0fSxcblx0XHRuZTogZnVuY3Rpb24oIGV2ZW50LCBkeCwgZHkgKSB7XG5cdFx0XHRyZXR1cm4gJC5leHRlbmQoIHRoaXMuX2NoYW5nZS5uLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSxcblx0XHRcdFx0dGhpcy5fY2hhbmdlLmUuYXBwbHkoIHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdICkgKTtcblx0XHR9LFxuXHRcdG53OiBmdW5jdGlvbiggZXZlbnQsIGR4LCBkeSApIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZCggdGhpcy5fY2hhbmdlLm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApLFxuXHRcdFx0XHR0aGlzLl9jaGFuZ2Uudy5hcHBseSggdGhpcywgWyBldmVudCwgZHgsIGR5IF0gKSApO1xuXHRcdH1cblx0fSxcblxuXHRfcHJvcGFnYXRlOiBmdW5jdGlvbiggbiwgZXZlbnQgKSB7XG5cdFx0JC51aS5wbHVnaW4uY2FsbCggdGhpcywgbiwgWyBldmVudCwgdGhpcy51aSgpIF0gKTtcblx0XHQoIG4gIT09IFwicmVzaXplXCIgJiYgdGhpcy5fdHJpZ2dlciggbiwgZXZlbnQsIHRoaXMudWkoKSApICk7XG5cdH0sXG5cblx0cGx1Z2luczoge30sXG5cblx0dWk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvcmlnaW5hbEVsZW1lbnQ6IHRoaXMub3JpZ2luYWxFbGVtZW50LFxuXHRcdFx0ZWxlbWVudDogdGhpcy5lbGVtZW50LFxuXHRcdFx0aGVscGVyOiB0aGlzLmhlbHBlcixcblx0XHRcdHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLFxuXHRcdFx0c2l6ZTogdGhpcy5zaXplLFxuXHRcdFx0b3JpZ2luYWxTaXplOiB0aGlzLm9yaWdpbmFsU2l6ZSxcblx0XHRcdG9yaWdpbmFsUG9zaXRpb246IHRoaXMub3JpZ2luYWxQb3NpdGlvblxuXHRcdH07XG5cdH1cblxufSApO1xuXG4vKlxuICogUmVzaXphYmxlIEV4dGVuc2lvbnNcbiAqL1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwicmVzaXphYmxlXCIsIFwiYW5pbWF0ZVwiLCB7XG5cblx0c3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciB0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0cHIgPSB0aGF0Ll9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLFxuXHRcdFx0aXN0YSA9IHByLmxlbmd0aCAmJiAoIC90ZXh0YXJlYS9pICkudGVzdCggcHJbIDAgXS5ub2RlTmFtZSApLFxuXHRcdFx0c29mZnNldGggPSBpc3RhICYmIHRoYXQuX2hhc1Njcm9sbCggcHJbIDAgXSwgXCJsZWZ0XCIgKSA/IDAgOiB0aGF0LnNpemVEaWZmLmhlaWdodCxcblx0XHRcdHNvZmZzZXR3ID0gaXN0YSA/IDAgOiB0aGF0LnNpemVEaWZmLndpZHRoLFxuXHRcdFx0c3R5bGUgPSB7XG5cdFx0XHRcdHdpZHRoOiAoIHRoYXQuc2l6ZS53aWR0aCAtIHNvZmZzZXR3ICksXG5cdFx0XHRcdGhlaWdodDogKCB0aGF0LnNpemUuaGVpZ2h0IC0gc29mZnNldGggKVxuXHRcdFx0fSxcblx0XHRcdGxlZnQgPSAoIHBhcnNlRmxvYXQoIHRoYXQuZWxlbWVudC5jc3MoIFwibGVmdFwiICkgKSArXG5cdFx0XHRcdCggdGhhdC5wb3NpdGlvbi5sZWZ0IC0gdGhhdC5vcmlnaW5hbFBvc2l0aW9uLmxlZnQgKSApIHx8IG51bGwsXG5cdFx0XHR0b3AgPSAoIHBhcnNlRmxvYXQoIHRoYXQuZWxlbWVudC5jc3MoIFwidG9wXCIgKSApICtcblx0XHRcdFx0KCB0aGF0LnBvc2l0aW9uLnRvcCAtIHRoYXQub3JpZ2luYWxQb3NpdGlvbi50b3AgKSApIHx8IG51bGw7XG5cblx0XHR0aGF0LmVsZW1lbnQuYW5pbWF0ZShcblx0XHRcdCQuZXh0ZW5kKCBzdHlsZSwgdG9wICYmIGxlZnQgPyB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH0gOiB7fSApLCB7XG5cdFx0XHRcdGR1cmF0aW9uOiBvLmFuaW1hdGVEdXJhdGlvbixcblx0XHRcdFx0ZWFzaW5nOiBvLmFuaW1hdGVFYXNpbmcsXG5cdFx0XHRcdHN0ZXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdFx0XHR3aWR0aDogcGFyc2VGbG9hdCggdGhhdC5lbGVtZW50LmNzcyggXCJ3aWR0aFwiICkgKSxcblx0XHRcdFx0XHRcdGhlaWdodDogcGFyc2VGbG9hdCggdGhhdC5lbGVtZW50LmNzcyggXCJoZWlnaHRcIiApICksXG5cdFx0XHRcdFx0XHR0b3A6IHBhcnNlRmxvYXQoIHRoYXQuZWxlbWVudC5jc3MoIFwidG9wXCIgKSApLFxuXHRcdFx0XHRcdFx0bGVmdDogcGFyc2VGbG9hdCggdGhhdC5lbGVtZW50LmNzcyggXCJsZWZ0XCIgKSApXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGlmICggcHIgJiYgcHIubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0JCggcHJbIDAgXSApLmNzcyggeyB3aWR0aDogZGF0YS53aWR0aCwgaGVpZ2h0OiBkYXRhLmhlaWdodCB9ICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJvcGFnYXRpbmcgcmVzaXplLCBhbmQgdXBkYXRpbmcgdmFsdWVzIGZvciBlYWNoIGFuaW1hdGlvbiBzdGVwXG5cdFx0XHRcdFx0dGhhdC5fdXBkYXRlQ2FjaGUoIGRhdGEgKTtcblx0XHRcdFx0XHR0aGF0Ll9wcm9wYWdhdGUoIFwicmVzaXplXCIsIGV2ZW50ICk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdH1cblxufSApO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwicmVzaXphYmxlXCIsIFwiY29udGFpbm1lbnRcIiwge1xuXG5cdHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCwgcCwgY28sIGNoLCBjdywgd2lkdGgsIGhlaWdodCxcblx0XHRcdHRoYXQgPSAkKCB0aGlzICkucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnMsXG5cdFx0XHRlbCA9IHRoYXQuZWxlbWVudCxcblx0XHRcdG9jID0gby5jb250YWlubWVudCxcblx0XHRcdGNlID0gKCBvYyBpbnN0YW5jZW9mICQgKSA/XG5cdFx0XHRcdG9jLmdldCggMCApIDpcblx0XHRcdFx0KCAvcGFyZW50Ly50ZXN0KCBvYyApICkgPyBlbC5wYXJlbnQoKS5nZXQoIDAgKSA6IG9jO1xuXG5cdFx0aWYgKCAhY2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhhdC5jb250YWluZXJFbGVtZW50ID0gJCggY2UgKTtcblxuXHRcdGlmICggL2RvY3VtZW50Ly50ZXN0KCBvYyApIHx8IG9jID09PSBkb2N1bWVudCApIHtcblx0XHRcdHRoYXQuY29udGFpbmVyT2Zmc2V0ID0ge1xuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR0b3A6IDBcblx0XHRcdH07XG5cdFx0XHR0aGF0LmNvbnRhaW5lclBvc2l0aW9uID0ge1xuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR0b3A6IDBcblx0XHRcdH07XG5cblx0XHRcdHRoYXQucGFyZW50RGF0YSA9IHtcblx0XHRcdFx0ZWxlbWVudDogJCggZG9jdW1lbnQgKSxcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHR3aWR0aDogJCggZG9jdW1lbnQgKS53aWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6ICQoIGRvY3VtZW50ICkuaGVpZ2h0KCkgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudCA9ICQoIGNlICk7XG5cdFx0XHRwID0gW107XG5cdFx0XHQkKCBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJMZWZ0XCIsIFwiQm90dG9tXCIgXSApLmVhY2goIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdFx0XHRwWyBpIF0gPSB0aGF0Ll9udW0oIGVsZW1lbnQuY3NzKCBcInBhZGRpbmdcIiArIG5hbWUgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGF0LmNvbnRhaW5lck9mZnNldCA9IGVsZW1lbnQub2Zmc2V0KCk7XG5cdFx0XHR0aGF0LmNvbnRhaW5lclBvc2l0aW9uID0gZWxlbWVudC5wb3NpdGlvbigpO1xuXHRcdFx0dGhhdC5jb250YWluZXJTaXplID0ge1xuXHRcdFx0XHRoZWlnaHQ6ICggZWxlbWVudC5pbm5lckhlaWdodCgpIC0gcFsgMyBdICksXG5cdFx0XHRcdHdpZHRoOiAoIGVsZW1lbnQuaW5uZXJXaWR0aCgpIC0gcFsgMSBdIClcblx0XHRcdH07XG5cblx0XHRcdGNvID0gdGhhdC5jb250YWluZXJPZmZzZXQ7XG5cdFx0XHRjaCA9IHRoYXQuY29udGFpbmVyU2l6ZS5oZWlnaHQ7XG5cdFx0XHRjdyA9IHRoYXQuY29udGFpbmVyU2l6ZS53aWR0aDtcblx0XHRcdHdpZHRoID0gKCB0aGF0Ll9oYXNTY3JvbGwgKCBjZSwgXCJsZWZ0XCIgKSA/IGNlLnNjcm9sbFdpZHRoIDogY3cgKTtcblx0XHRcdGhlaWdodCA9ICggdGhhdC5faGFzU2Nyb2xsICggY2UgKSA/IGNlLnNjcm9sbEhlaWdodCA6IGNoICkgO1xuXG5cdFx0XHR0aGF0LnBhcmVudERhdGEgPSB7XG5cdFx0XHRcdGVsZW1lbnQ6IGNlLFxuXHRcdFx0XHRsZWZ0OiBjby5sZWZ0LFxuXHRcdFx0XHR0b3A6IGNvLnRvcCxcblx0XHRcdFx0d2lkdGg6IHdpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IGhlaWdodFxuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG5cblx0cmVzaXplOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHdvc2V0LCBob3NldCwgaXNQYXJlbnQsIGlzT2Zmc2V0UmVsYXRpdmUsXG5cdFx0XHR0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0Y28gPSB0aGF0LmNvbnRhaW5lck9mZnNldCxcblx0XHRcdGNwID0gdGhhdC5wb3NpdGlvbixcblx0XHRcdHBSYXRpbyA9IHRoYXQuX2FzcGVjdFJhdGlvIHx8IGV2ZW50LnNoaWZ0S2V5LFxuXHRcdFx0Y29wID0ge1xuXHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdGxlZnQ6IDBcblx0XHRcdH0sXG5cdFx0XHRjZSA9IHRoYXQuY29udGFpbmVyRWxlbWVudCxcblx0XHRcdGNvbnRpbnVlUmVzaXplID0gdHJ1ZTtcblxuXHRcdGlmICggY2VbIDAgXSAhPT0gZG9jdW1lbnQgJiYgKCAvc3RhdGljLyApLnRlc3QoIGNlLmNzcyggXCJwb3NpdGlvblwiICkgKSApIHtcblx0XHRcdGNvcCA9IGNvO1xuXHRcdH1cblxuXHRcdGlmICggY3AubGVmdCA8ICggdGhhdC5faGVscGVyID8gY28ubGVmdCA6IDAgKSApIHtcblx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IHRoYXQuc2l6ZS53aWR0aCArXG5cdFx0XHRcdCggdGhhdC5faGVscGVyID9cblx0XHRcdFx0XHQoIHRoYXQucG9zaXRpb24ubGVmdCAtIGNvLmxlZnQgKSA6XG5cdFx0XHRcdFx0KCB0aGF0LnBvc2l0aW9uLmxlZnQgLSBjb3AubGVmdCApICk7XG5cblx0XHRcdGlmICggcFJhdGlvICkge1xuXHRcdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gdGhhdC5zaXplLndpZHRoIC8gdGhhdC5hc3BlY3RSYXRpbztcblx0XHRcdFx0Y29udGludWVSZXNpemUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IG8uaGVscGVyID8gY28ubGVmdCA6IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBjcC50b3AgPCAoIHRoYXQuX2hlbHBlciA/IGNvLnRvcCA6IDAgKSApIHtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSB0aGF0LnNpemUuaGVpZ2h0ICtcblx0XHRcdFx0KCB0aGF0Ll9oZWxwZXIgP1xuXHRcdFx0XHRcdCggdGhhdC5wb3NpdGlvbi50b3AgLSBjby50b3AgKSA6XG5cdFx0XHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgKTtcblxuXHRcdFx0aWYgKCBwUmF0aW8gKSB7XG5cdFx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IHRoYXQuc2l6ZS5oZWlnaHQgKiB0aGF0LmFzcGVjdFJhdGlvO1xuXHRcdFx0XHRjb250aW51ZVJlc2l6ZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSB0aGF0Ll9oZWxwZXIgPyBjby50b3AgOiAwO1xuXHRcdH1cblxuXHRcdGlzUGFyZW50ID0gdGhhdC5jb250YWluZXJFbGVtZW50LmdldCggMCApID09PSB0aGF0LmVsZW1lbnQucGFyZW50KCkuZ2V0KCAwICk7XG5cdFx0aXNPZmZzZXRSZWxhdGl2ZSA9IC9yZWxhdGl2ZXxhYnNvbHV0ZS8udGVzdCggdGhhdC5jb250YWluZXJFbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICkgKTtcblxuXHRcdGlmICggaXNQYXJlbnQgJiYgaXNPZmZzZXRSZWxhdGl2ZSApIHtcblx0XHRcdHRoYXQub2Zmc2V0LmxlZnQgPSB0aGF0LnBhcmVudERhdGEubGVmdCArIHRoYXQucG9zaXRpb24ubGVmdDtcblx0XHRcdHRoYXQub2Zmc2V0LnRvcCA9IHRoYXQucGFyZW50RGF0YS50b3AgKyB0aGF0LnBvc2l0aW9uLnRvcDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhhdC5vZmZzZXQubGVmdCA9IHRoYXQuZWxlbWVudC5vZmZzZXQoKS5sZWZ0O1xuXHRcdFx0dGhhdC5vZmZzZXQudG9wID0gdGhhdC5lbGVtZW50Lm9mZnNldCgpLnRvcDtcblx0XHR9XG5cblx0XHR3b3NldCA9IE1hdGguYWJzKCB0aGF0LnNpemVEaWZmLndpZHRoICtcblx0XHRcdCggdGhhdC5faGVscGVyID9cblx0XHRcdFx0dGhhdC5vZmZzZXQubGVmdCAtIGNvcC5sZWZ0IDpcblx0XHRcdFx0KCB0aGF0Lm9mZnNldC5sZWZ0IC0gY28ubGVmdCApICkgKTtcblxuXHRcdGhvc2V0ID0gTWF0aC5hYnMoIHRoYXQuc2l6ZURpZmYuaGVpZ2h0ICtcblx0XHRcdCggdGhhdC5faGVscGVyID9cblx0XHRcdFx0dGhhdC5vZmZzZXQudG9wIC0gY29wLnRvcCA6XG5cdFx0XHRcdCggdGhhdC5vZmZzZXQudG9wIC0gY28udG9wICkgKSApO1xuXG5cdFx0aWYgKCB3b3NldCArIHRoYXQuc2l6ZS53aWR0aCA+PSB0aGF0LnBhcmVudERhdGEud2lkdGggKSB7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSB0aGF0LnBhcmVudERhdGEud2lkdGggLSB3b3NldDtcblx0XHRcdGlmICggcFJhdGlvICkge1xuXHRcdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gdGhhdC5zaXplLndpZHRoIC8gdGhhdC5hc3BlY3RSYXRpbztcblx0XHRcdFx0Y29udGludWVSZXNpemUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGhvc2V0ICsgdGhhdC5zaXplLmhlaWdodCA+PSB0aGF0LnBhcmVudERhdGEuaGVpZ2h0ICkge1xuXHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IHRoYXQucGFyZW50RGF0YS5oZWlnaHQgLSBob3NldDtcblx0XHRcdGlmICggcFJhdGlvICkge1xuXHRcdFx0XHR0aGF0LnNpemUud2lkdGggPSB0aGF0LnNpemUuaGVpZ2h0ICogdGhhdC5hc3BlY3RSYXRpbztcblx0XHRcdFx0Y29udGludWVSZXNpemUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICFjb250aW51ZVJlc2l6ZSApIHtcblx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IHRoYXQucHJldlBvc2l0aW9uLmxlZnQ7XG5cdFx0XHR0aGF0LnBvc2l0aW9uLnRvcCA9IHRoYXQucHJldlBvc2l0aW9uLnRvcDtcblx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IHRoYXQucHJldlNpemUud2lkdGg7XG5cdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gdGhhdC5wcmV2U2l6ZS5oZWlnaHQ7XG5cdFx0fVxuXHR9LFxuXG5cdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0Y28gPSB0aGF0LmNvbnRhaW5lck9mZnNldCxcblx0XHRcdGNvcCA9IHRoYXQuY29udGFpbmVyUG9zaXRpb24sXG5cdFx0XHRjZSA9IHRoYXQuY29udGFpbmVyRWxlbWVudCxcblx0XHRcdGhlbHBlciA9ICQoIHRoYXQuaGVscGVyICksXG5cdFx0XHRobyA9IGhlbHBlci5vZmZzZXQoKSxcblx0XHRcdHcgPSBoZWxwZXIub3V0ZXJXaWR0aCgpIC0gdGhhdC5zaXplRGlmZi53aWR0aCxcblx0XHRcdGggPSBoZWxwZXIub3V0ZXJIZWlnaHQoKSAtIHRoYXQuc2l6ZURpZmYuaGVpZ2h0O1xuXG5cdFx0aWYgKCB0aGF0Ll9oZWxwZXIgJiYgIW8uYW5pbWF0ZSAmJiAoIC9yZWxhdGl2ZS8gKS50ZXN0KCBjZS5jc3MoIFwicG9zaXRpb25cIiApICkgKSB7XG5cdFx0XHQkKCB0aGlzICkuY3NzKCB7XG5cdFx0XHRcdGxlZnQ6IGhvLmxlZnQgLSBjb3AubGVmdCAtIGNvLmxlZnQsXG5cdFx0XHRcdHdpZHRoOiB3LFxuXHRcdFx0XHRoZWlnaHQ6IGhcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoYXQuX2hlbHBlciAmJiAhby5hbmltYXRlICYmICggL3N0YXRpYy8gKS50ZXN0KCBjZS5jc3MoIFwicG9zaXRpb25cIiApICkgKSB7XG5cdFx0XHQkKCB0aGlzICkuY3NzKCB7XG5cdFx0XHRcdGxlZnQ6IGhvLmxlZnQgLSBjb3AubGVmdCAtIGNvLmxlZnQsXG5cdFx0XHRcdHdpZHRoOiB3LFxuXHRcdFx0XHRoZWlnaHQ6IGhcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuJC51aS5wbHVnaW4uYWRkKCBcInJlc2l6YWJsZVwiLCBcImFsc29SZXNpemVcIiwge1xuXG5cdHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9ICQoIHRoaXMgKS5yZXNpemFibGUoIFwiaW5zdGFuY2VcIiApLFxuXHRcdFx0byA9IHRoYXQub3B0aW9ucztcblxuXHRcdCQoIG8uYWxzb1Jlc2l6ZSApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsID0gJCggdGhpcyApO1xuXHRcdFx0ZWwuZGF0YSggXCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZVwiLCB7XG5cdFx0XHRcdHdpZHRoOiBwYXJzZUZsb2F0KCBlbC53aWR0aCgpICksIGhlaWdodDogcGFyc2VGbG9hdCggZWwuaGVpZ2h0KCkgKSxcblx0XHRcdFx0bGVmdDogcGFyc2VGbG9hdCggZWwuY3NzKCBcImxlZnRcIiApICksIHRvcDogcGFyc2VGbG9hdCggZWwuY3NzKCBcInRvcFwiICkgKVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRyZXNpemU6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0dmFyIHRoYXQgPSAkKCB0aGlzICkucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnMsXG5cdFx0XHRvcyA9IHRoYXQub3JpZ2luYWxTaXplLFxuXHRcdFx0b3AgPSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRkZWx0YSA9IHtcblx0XHRcdFx0aGVpZ2h0OiAoIHRoYXQuc2l6ZS5oZWlnaHQgLSBvcy5oZWlnaHQgKSB8fCAwLFxuXHRcdFx0XHR3aWR0aDogKCB0aGF0LnNpemUud2lkdGggLSBvcy53aWR0aCApIHx8IDAsXG5cdFx0XHRcdHRvcDogKCB0aGF0LnBvc2l0aW9uLnRvcCAtIG9wLnRvcCApIHx8IDAsXG5cdFx0XHRcdGxlZnQ6ICggdGhhdC5wb3NpdGlvbi5sZWZ0IC0gb3AubGVmdCApIHx8IDBcblx0XHRcdH07XG5cblx0XHRcdCQoIG8uYWxzb1Jlc2l6ZSApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWwgPSAkKCB0aGlzICksIHN0YXJ0ID0gJCggdGhpcyApLmRhdGEoIFwidWktcmVzaXphYmxlLWFsc29yZXNpemVcIiApLCBzdHlsZSA9IHt9LFxuXHRcdFx0XHRcdGNzcyA9IGVsLnBhcmVudHMoIHVpLm9yaWdpbmFsRWxlbWVudFsgMCBdICkubGVuZ3RoID9cblx0XHRcdFx0XHRcdFx0WyBcIndpZHRoXCIsIFwiaGVpZ2h0XCIgXSA6XG5cdFx0XHRcdFx0XHRcdFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInRvcFwiLCBcImxlZnRcIiBdO1xuXG5cdFx0XHRcdCQuZWFjaCggY3NzLCBmdW5jdGlvbiggaSwgcHJvcCApIHtcblx0XHRcdFx0XHR2YXIgc3VtID0gKCBzdGFydFsgcHJvcCBdIHx8IDAgKSArICggZGVsdGFbIHByb3AgXSB8fCAwICk7XG5cdFx0XHRcdFx0aWYgKCBzdW0gJiYgc3VtID49IDAgKSB7XG5cdFx0XHRcdFx0XHRzdHlsZVsgcHJvcCBdID0gc3VtIHx8IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0ZWwuY3NzKCBzdHlsZSApO1xuXHRcdFx0fSApO1xuXHR9LFxuXG5cdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdCQoIHRoaXMgKS5yZW1vdmVEYXRhKCBcInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplXCIgKTtcblx0fVxufSApO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwicmVzaXphYmxlXCIsIFwiZ2hvc3RcIiwge1xuXG5cdHN0YXJ0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciB0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksIGNzID0gdGhhdC5zaXplO1xuXG5cdFx0dGhhdC5naG9zdCA9IHRoYXQub3JpZ2luYWxFbGVtZW50LmNsb25lKCk7XG5cdFx0dGhhdC5naG9zdC5jc3MoIHtcblx0XHRcdG9wYWNpdHk6IDAuMjUsXG5cdFx0XHRkaXNwbGF5OiBcImJsb2NrXCIsXG5cdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0aGVpZ2h0OiBjcy5oZWlnaHQsXG5cdFx0XHR3aWR0aDogY3Mud2lkdGgsXG5cdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRsZWZ0OiAwLFxuXHRcdFx0dG9wOiAwXG5cdFx0fSApO1xuXG5cdFx0dGhhdC5fYWRkQ2xhc3MoIHRoYXQuZ2hvc3QsIFwidWktcmVzaXphYmxlLWdob3N0XCIgKTtcblxuXHRcdC8vIERFUFJFQ0FURURcblx0XHQvLyBUT0RPOiByZW1vdmUgYWZ0ZXIgMS4xMlxuXHRcdGlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICYmIHR5cGVvZiB0aGF0Lm9wdGlvbnMuZ2hvc3QgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vIEdob3N0IG9wdGlvblxuXHRcdFx0dGhhdC5naG9zdC5hZGRDbGFzcyggdGhpcy5vcHRpb25zLmdob3N0ICk7XG5cdFx0fVxuXG5cdFx0dGhhdC5naG9zdC5hcHBlbmRUbyggdGhhdC5oZWxwZXIgKTtcblxuXHR9LFxuXG5cdHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSAkKCB0aGlzICkucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRpZiAoIHRoYXQuZ2hvc3QgKSB7XG5cdFx0XHR0aGF0Lmdob3N0LmNzcygge1xuXHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0XHRoZWlnaHQ6IHRoYXQuc2l6ZS5oZWlnaHQsXG5cdFx0XHRcdHdpZHRoOiB0aGF0LnNpemUud2lkdGhcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0sXG5cblx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSAkKCB0aGlzICkucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRpZiAoIHRoYXQuZ2hvc3QgJiYgdGhhdC5oZWxwZXIgKSB7XG5cdFx0XHR0aGF0LmhlbHBlci5nZXQoIDAgKS5yZW1vdmVDaGlsZCggdGhhdC5naG9zdC5nZXQoIDAgKSApO1xuXHRcdH1cblx0fVxuXG59ICk7XG5cbiQudWkucGx1Z2luLmFkZCggXCJyZXNpemFibGVcIiwgXCJncmlkXCIsIHtcblxuXHRyZXNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvdXRlckRpbWVuc2lvbnMsXG5cdFx0XHR0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0Y3MgPSB0aGF0LnNpemUsXG5cdFx0XHRvcyA9IHRoYXQub3JpZ2luYWxTaXplLFxuXHRcdFx0b3AgPSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRhID0gdGhhdC5heGlzLFxuXHRcdFx0Z3JpZCA9IHR5cGVvZiBvLmdyaWQgPT09IFwibnVtYmVyXCIgPyBbIG8uZ3JpZCwgby5ncmlkIF0gOiBvLmdyaWQsXG5cdFx0XHRncmlkWCA9ICggZ3JpZFsgMCBdIHx8IDEgKSxcblx0XHRcdGdyaWRZID0gKCBncmlkWyAxIF0gfHwgMSApLFxuXHRcdFx0b3ggPSBNYXRoLnJvdW5kKCAoIGNzLndpZHRoIC0gb3Mud2lkdGggKSAvIGdyaWRYICkgKiBncmlkWCxcblx0XHRcdG95ID0gTWF0aC5yb3VuZCggKCBjcy5oZWlnaHQgLSBvcy5oZWlnaHQgKSAvIGdyaWRZICkgKiBncmlkWSxcblx0XHRcdG5ld1dpZHRoID0gb3Mud2lkdGggKyBveCxcblx0XHRcdG5ld0hlaWdodCA9IG9zLmhlaWdodCArIG95LFxuXHRcdFx0aXNNYXhXaWR0aCA9IG8ubWF4V2lkdGggJiYgKCBvLm1heFdpZHRoIDwgbmV3V2lkdGggKSxcblx0XHRcdGlzTWF4SGVpZ2h0ID0gby5tYXhIZWlnaHQgJiYgKCBvLm1heEhlaWdodCA8IG5ld0hlaWdodCApLFxuXHRcdFx0aXNNaW5XaWR0aCA9IG8ubWluV2lkdGggJiYgKCBvLm1pbldpZHRoID4gbmV3V2lkdGggKSxcblx0XHRcdGlzTWluSGVpZ2h0ID0gby5taW5IZWlnaHQgJiYgKCBvLm1pbkhlaWdodCA+IG5ld0hlaWdodCApO1xuXG5cdFx0by5ncmlkID0gZ3JpZDtcblxuXHRcdGlmICggaXNNaW5XaWR0aCApIHtcblx0XHRcdG5ld1dpZHRoICs9IGdyaWRYO1xuXHRcdH1cblx0XHRpZiAoIGlzTWluSGVpZ2h0ICkge1xuXHRcdFx0bmV3SGVpZ2h0ICs9IGdyaWRZO1xuXHRcdH1cblx0XHRpZiAoIGlzTWF4V2lkdGggKSB7XG5cdFx0XHRuZXdXaWR0aCAtPSBncmlkWDtcblx0XHR9XG5cdFx0aWYgKCBpc01heEhlaWdodCApIHtcblx0XHRcdG5ld0hlaWdodCAtPSBncmlkWTtcblx0XHR9XG5cblx0XHRpZiAoIC9eKHNlfHN8ZSkkLy50ZXN0KCBhICkgKSB7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSBuZXdXaWR0aDtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdFx0fSBlbHNlIGlmICggL14obmUpJC8udGVzdCggYSApICkge1xuXHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSBvcC50b3AgLSBveTtcblx0XHR9IGVsc2UgaWYgKCAvXihzdykkLy50ZXN0KCBhICkgKSB7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSBuZXdXaWR0aDtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdFx0XHR0aGF0LnBvc2l0aW9uLmxlZnQgPSBvcC5sZWZ0IC0gb3g7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggbmV3SGVpZ2h0IC0gZ3JpZFkgPD0gMCB8fCBuZXdXaWR0aCAtIGdyaWRYIDw9IDAgKSB7XG5cdFx0XHRcdG91dGVyRGltZW5zaW9ucyA9IHRoYXQuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyggdGhpcyApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5ld0hlaWdodCAtIGdyaWRZID4gMCApIHtcblx0XHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IG5ld0hlaWdodDtcblx0XHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSBvcC50b3AgLSBveTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld0hlaWdodCA9IGdyaWRZIC0gb3V0ZXJEaW1lbnNpb25zLmhlaWdodDtcblx0XHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IG5ld0hlaWdodDtcblx0XHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSBvcC50b3AgKyBvcy5oZWlnaHQgLSBuZXdIZWlnaHQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG5ld1dpZHRoIC0gZ3JpZFggPiAwICkge1xuXHRcdFx0XHR0aGF0LnNpemUud2lkdGggPSBuZXdXaWR0aDtcblx0XHRcdFx0dGhhdC5wb3NpdGlvbi5sZWZ0ID0gb3AubGVmdCAtIG94O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3V2lkdGggPSBncmlkWCAtIG91dGVyRGltZW5zaW9ucy53aWR0aDtcblx0XHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IG9wLmxlZnQgKyBvcy53aWR0aCAtIG5ld1dpZHRoO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG59ICk7XG5cbnZhciB3aWRnZXRzUmVzaXphYmxlID0gJC51aS5yZXNpemFibGU7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRGlhbG9nIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBEaWFsb2dcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBjdXN0b21pemFibGUgZGlhbG9nIHdpbmRvd3MuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZGlhbG9nL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2RpYWxvZy9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2RpYWxvZy5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG5cblxuJC53aWRnZXQoIFwidWkuZGlhbG9nXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBcImJvZHlcIixcblx0XHRhdXRvT3BlbjogdHJ1ZSxcblx0XHRidXR0b25zOiBbXSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcInVpLWRpYWxvZ1wiOiBcInVpLWNvcm5lci1hbGxcIixcblx0XHRcdFwidWktZGlhbG9nLXRpdGxlYmFyXCI6IFwidWktY29ybmVyLWFsbFwiXG5cdFx0fSxcblx0XHRjbG9zZU9uRXNjYXBlOiB0cnVlLFxuXHRcdGNsb3NlVGV4dDogXCJDbG9zZVwiLFxuXHRcdGRyYWdnYWJsZTogdHJ1ZSxcblx0XHRoaWRlOiBudWxsLFxuXHRcdGhlaWdodDogXCJhdXRvXCIsXG5cdFx0bWF4SGVpZ2h0OiBudWxsLFxuXHRcdG1heFdpZHRoOiBudWxsLFxuXHRcdG1pbkhlaWdodDogMTUwLFxuXHRcdG1pbldpZHRoOiAxNTAsXG5cdFx0bW9kYWw6IGZhbHNlLFxuXHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRteTogXCJjZW50ZXJcIixcblx0XHRcdGF0OiBcImNlbnRlclwiLFxuXHRcdFx0b2Y6IHdpbmRvdyxcblx0XHRcdGNvbGxpc2lvbjogXCJmaXRcIixcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSB0aXRsZWJhciBpcyBhbHdheXMgdmlzaWJsZVxuXHRcdFx0dXNpbmc6IGZ1bmN0aW9uKCBwb3MgKSB7XG5cdFx0XHRcdHZhciB0b3BPZmZzZXQgPSAkKCB0aGlzICkuY3NzKCBwb3MgKS5vZmZzZXQoKS50b3A7XG5cdFx0XHRcdGlmICggdG9wT2Zmc2V0IDwgMCApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuY3NzKCBcInRvcFwiLCBwb3MudG9wIC0gdG9wT2Zmc2V0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlc2l6YWJsZTogdHJ1ZSxcblx0XHRzaG93OiBudWxsLFxuXHRcdHRpdGxlOiBudWxsLFxuXHRcdHdpZHRoOiAzMDAsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRiZWZvcmVDbG9zZTogbnVsbCxcblx0XHRjbG9zZTogbnVsbCxcblx0XHRkcmFnOiBudWxsLFxuXHRcdGRyYWdTdGFydDogbnVsbCxcblx0XHRkcmFnU3RvcDogbnVsbCxcblx0XHRmb2N1czogbnVsbCxcblx0XHRvcGVuOiBudWxsLFxuXHRcdHJlc2l6ZTogbnVsbCxcblx0XHRyZXNpemVTdGFydDogbnVsbCxcblx0XHRyZXNpemVTdG9wOiBudWxsXG5cdH0sXG5cblx0c2l6ZVJlbGF0ZWRPcHRpb25zOiB7XG5cdFx0YnV0dG9uczogdHJ1ZSxcblx0XHRoZWlnaHQ6IHRydWUsXG5cdFx0bWF4SGVpZ2h0OiB0cnVlLFxuXHRcdG1heFdpZHRoOiB0cnVlLFxuXHRcdG1pbkhlaWdodDogdHJ1ZSxcblx0XHRtaW5XaWR0aDogdHJ1ZSxcblx0XHR3aWR0aDogdHJ1ZVxuXHR9LFxuXG5cdHJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zOiB7XG5cdFx0bWF4SGVpZ2h0OiB0cnVlLFxuXHRcdG1heFdpZHRoOiB0cnVlLFxuXHRcdG1pbkhlaWdodDogdHJ1ZSxcblx0XHRtaW5XaWR0aDogdHJ1ZVxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMub3JpZ2luYWxDc3MgPSB7XG5cdFx0XHRkaXNwbGF5OiB0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5kaXNwbGF5LFxuXHRcdFx0d2lkdGg6IHRoaXMuZWxlbWVudFsgMCBdLnN0eWxlLndpZHRoLFxuXHRcdFx0bWluSGVpZ2h0OiB0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5taW5IZWlnaHQsXG5cdFx0XHRtYXhIZWlnaHQ6IHRoaXMuZWxlbWVudFsgMCBdLnN0eWxlLm1heEhlaWdodCxcblx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50WyAwIF0uc3R5bGUuaGVpZ2h0XG5cdFx0fTtcblx0XHR0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB7XG5cdFx0XHRwYXJlbnQ6IHRoaXMuZWxlbWVudC5wYXJlbnQoKSxcblx0XHRcdGluZGV4OiB0aGlzLmVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCggdGhpcy5lbGVtZW50IClcblx0XHR9O1xuXHRcdHRoaXMub3JpZ2luYWxUaXRsZSA9IHRoaXMuZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy50aXRsZSA9PSBudWxsICYmIHRoaXMub3JpZ2luYWxUaXRsZSAhPSBudWxsICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnRpdGxlID0gdGhpcy5vcmlnaW5hbFRpdGxlO1xuXHRcdH1cblxuXHRcdC8vIERpYWxvZ3MgY2FuJ3QgYmUgZGlzYWJsZWRcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NyZWF0ZVdyYXBwZXIoKTtcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnNob3coKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwidGl0bGVcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMudWlEaWFsb2cgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLWRpYWxvZy1jb250ZW50XCIsIFwidWktd2lkZ2V0LWNvbnRlbnRcIiApO1xuXG5cdFx0dGhpcy5fY3JlYXRlVGl0bGViYXIoKTtcblx0XHR0aGlzLl9jcmVhdGVCdXR0b25QYW5lKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUgJiYgJC5mbi5kcmFnZ2FibGUgKSB7XG5cdFx0XHR0aGlzLl9tYWtlRHJhZ2dhYmxlKCk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcHRpb25zLnJlc2l6YWJsZSAmJiAkLmZuLnJlc2l6YWJsZSApIHtcblx0XHRcdHRoaXMuX21ha2VSZXNpemFibGUoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9pc09wZW4gPSBmYWxzZTtcblxuXHRcdHRoaXMuX3RyYWNrRm9jdXMoKTtcblx0fSxcblxuXHRfaW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXV0b09wZW4gKSB7XG5cdFx0XHR0aGlzLm9wZW4oKTtcblx0XHR9XG5cdH0sXG5cblx0X2FwcGVuZFRvOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblx0XHRpZiAoIGVsZW1lbnQgJiYgKCBlbGVtZW50LmpxdWVyeSB8fCBlbGVtZW50Lm5vZGVUeXBlICkgKSB7XG5cdFx0XHRyZXR1cm4gJCggZWxlbWVudCApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5kb2N1bWVudC5maW5kKCBlbGVtZW50IHx8IFwiYm9keVwiICkuZXEoIDAgKTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5leHQsXG5cdFx0XHRvcmlnaW5hbFBvc2l0aW9uID0gdGhpcy5vcmlnaW5hbFBvc2l0aW9uO1xuXG5cdFx0dGhpcy5fdW50cmFja0luc3RhbmNlKCk7XG5cdFx0dGhpcy5fZGVzdHJveU92ZXJsYXkoKTtcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZVVuaXF1ZUlkKClcblx0XHRcdC5jc3MoIHRoaXMub3JpZ2luYWxDc3MgKVxuXG5cdFx0XHQvLyBXaXRob3V0IGRldGFjaGluZyBmaXJzdCwgdGhlIGZvbGxvd2luZyBiZWNvbWVzIHJlYWxseSBzbG93XG5cdFx0XHQuZGV0YWNoKCk7XG5cblx0XHR0aGlzLnVpRGlhbG9nLnJlbW92ZSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9yaWdpbmFsVGl0bGUgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiLCB0aGlzLm9yaWdpbmFsVGl0bGUgKTtcblx0XHR9XG5cblx0XHRuZXh0ID0gb3JpZ2luYWxQb3NpdGlvbi5wYXJlbnQuY2hpbGRyZW4oKS5lcSggb3JpZ2luYWxQb3NpdGlvbi5pbmRleCApO1xuXG5cdFx0Ly8gRG9uJ3QgdHJ5IHRvIHBsYWNlIHRoZSBkaWFsb2cgbmV4dCB0byBpdHNlbGYgKCM4NjEzKVxuXHRcdGlmICggbmV4dC5sZW5ndGggJiYgbmV4dFsgMCBdICE9PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdG5leHQuYmVmb3JlKCB0aGlzLmVsZW1lbnQgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3JpZ2luYWxQb3NpdGlvbi5wYXJlbnQuYXBwZW5kKCB0aGlzLmVsZW1lbnQgKTtcblx0XHR9XG5cdH0sXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy51aURpYWxvZztcblx0fSxcblxuXHRkaXNhYmxlOiAkLm5vb3AsXG5cdGVuYWJsZTogJC5ub29wLFxuXG5cdGNsb3NlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0aWYgKCAhdGhpcy5faXNPcGVuIHx8IHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlQ2xvc2VcIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5faXNPcGVuID0gZmFsc2U7XG5cdFx0dGhpcy5fZm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuXHRcdHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCk7XG5cdFx0dGhpcy5fdW50cmFja0luc3RhbmNlKCk7XG5cblx0XHRpZiAoICF0aGlzLm9wZW5lci5maWx0ZXIoIFwiOmZvY3VzYWJsZVwiICkudHJpZ2dlciggXCJmb2N1c1wiICkubGVuZ3RoICkge1xuXG5cdFx0XHQvLyBIaWRpbmcgYSBmb2N1c2VkIGVsZW1lbnQgZG9lc24ndCB0cmlnZ2VyIGJsdXIgaW4gV2ViS2l0XG5cdFx0XHQvLyBzbyBpbiBjYXNlIHdlIGhhdmUgbm90aGluZyB0byBmb2N1cyBvbiwgZXhwbGljaXRseSBibHVyIHRoZSBhY3RpdmUgZWxlbWVudFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTQ3MTgyXG5cdFx0XHQkLnVpLnNhZmVCbHVyKCAkLnVpLnNhZmVBY3RpdmVFbGVtZW50KCB0aGlzLmRvY3VtZW50WyAwIF0gKSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX2hpZGUoIHRoaXMudWlEaWFsb2csIHRoaXMub3B0aW9ucy5oaWRlLCBmdW5jdGlvbigpIHtcblx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiY2xvc2VcIiwgZXZlbnQgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aXNPcGVuOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5faXNPcGVuO1xuXHR9LFxuXG5cdG1vdmVUb1RvcDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fbW92ZVRvVG9wKCk7XG5cdH0sXG5cblx0X21vdmVUb1RvcDogZnVuY3Rpb24oIGV2ZW50LCBzaWxlbnQgKSB7XG5cdFx0dmFyIG1vdmVkID0gZmFsc2UsXG5cdFx0XHR6SW5kaWNlcyA9IHRoaXMudWlEaWFsb2cuc2libGluZ3MoIFwiLnVpLWZyb250OnZpc2libGVcIiApLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiArJCggdGhpcyApLmNzcyggXCJ6LWluZGV4XCIgKTtcblx0XHRcdH0gKS5nZXQoKSxcblx0XHRcdHpJbmRleE1heCA9IE1hdGgubWF4LmFwcGx5KCBudWxsLCB6SW5kaWNlcyApO1xuXG5cdFx0aWYgKCB6SW5kZXhNYXggPj0gK3RoaXMudWlEaWFsb2cuY3NzKCBcInotaW5kZXhcIiApICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5jc3MoIFwiei1pbmRleFwiLCB6SW5kZXhNYXggKyAxICk7XG5cdFx0XHRtb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBtb3ZlZCAmJiAhc2lsZW50ICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJmb2N1c1wiLCBldmVudCApO1xuXHRcdH1cblx0XHRyZXR1cm4gbW92ZWQ7XG5cdH0sXG5cblx0b3BlbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdGlmICggdGhpcy5faXNPcGVuICkge1xuXHRcdFx0aWYgKCB0aGlzLl9tb3ZlVG9Ub3AoKSApIHtcblx0XHRcdFx0dGhpcy5fZm9jdXNUYWJiYWJsZSgpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX2lzT3BlbiA9IHRydWU7XG5cdFx0dGhpcy5vcGVuZXIgPSAkKCAkLnVpLnNhZmVBY3RpdmVFbGVtZW50KCB0aGlzLmRvY3VtZW50WyAwIF0gKSApO1xuXG5cdFx0dGhpcy5fc2l6ZSgpO1xuXHRcdHRoaXMuX3Bvc2l0aW9uKCk7XG5cdFx0dGhpcy5fY3JlYXRlT3ZlcmxheSgpO1xuXHRcdHRoaXMuX21vdmVUb1RvcCggbnVsbCwgdHJ1ZSApO1xuXG5cdFx0Ly8gRW5zdXJlIHRoZSBvdmVybGF5IGlzIG1vdmVkIHRvIHRoZSB0b3Agd2l0aCB0aGUgZGlhbG9nLCBidXQgb25seSB3aGVuXG5cdFx0Ly8gb3BlbmluZy4gVGhlIG92ZXJsYXkgc2hvdWxkbid0IG1vdmUgYWZ0ZXIgdGhlIGRpYWxvZyBpcyBvcGVuIHNvIHRoYXRcblx0XHQvLyBtb2RlbGVzcyBkaWFsb2dzIG9wZW5lZCBhZnRlciB0aGUgbW9kYWwgZGlhbG9nIHN0YWNrIHByb3Blcmx5LlxuXHRcdGlmICggdGhpcy5vdmVybGF5ICkge1xuXHRcdFx0dGhpcy5vdmVybGF5LmNzcyggXCJ6LWluZGV4XCIsIHRoaXMudWlEaWFsb2cuY3NzKCBcInotaW5kZXhcIiApIC0gMSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3Nob3coIHRoaXMudWlEaWFsb2csIHRoaXMub3B0aW9ucy5zaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdHRoYXQuX2ZvY3VzVGFiYmFibGUoKTtcblx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdH0gKTtcblxuXHRcdC8vIFRyYWNrIHRoZSBkaWFsb2cgaW1tZWRpYXRlbHkgdXBvbiBvcGVuZW5pbmcgaW4gY2FzZSBhIGZvY3VzIGV2ZW50XG5cdFx0Ly8gc29tZWhvdyBvY2N1cnMgb3V0c2lkZSBvZiB0aGUgZGlhbG9nIGJlZm9yZSBhbiBlbGVtZW50IGluc2lkZSB0aGVcblx0XHQvLyBkaWFsb2cgaXMgZm9jdXNlZCAoIzEwMTUyKVxuXHRcdHRoaXMuX21ha2VGb2N1c1RhcmdldCgpO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIgKTtcblx0fSxcblxuXHRfZm9jdXNUYWJiYWJsZTogZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBTZXQgZm9jdXMgdG8gdGhlIGZpcnN0IG1hdGNoOlxuXHRcdC8vIDEuIEFuIGVsZW1lbnQgdGhhdCB3YXMgZm9jdXNlZCBwcmV2aW91c2x5XG5cdFx0Ly8gMi4gRmlyc3QgZWxlbWVudCBpbnNpZGUgdGhlIGRpYWxvZyBtYXRjaGluZyBbYXV0b2ZvY3VzXVxuXHRcdC8vIDMuIFRhYmJhYmxlIGVsZW1lbnQgaW5zaWRlIHRoZSBjb250ZW50IGVsZW1lbnRcblx0XHQvLyA0LiBUYWJiYWJsZSBlbGVtZW50IGluc2lkZSB0aGUgYnV0dG9ucGFuZVxuXHRcdC8vIDUuIFRoZSBjbG9zZSBidXR0b25cblx0XHQvLyA2LiBUaGUgZGlhbG9nIGl0c2VsZlxuXHRcdHZhciBoYXNGb2N1cyA9IHRoaXMuX2ZvY3VzZWRFbGVtZW50O1xuXHRcdGlmICggIWhhc0ZvY3VzICkge1xuXHRcdFx0aGFzRm9jdXMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCJbYXV0b2ZvY3VzXVwiICk7XG5cdFx0fVxuXHRcdGlmICggIWhhc0ZvY3VzLmxlbmd0aCApIHtcblx0XHRcdGhhc0ZvY3VzID0gdGhpcy5lbGVtZW50LmZpbmQoIFwiOnRhYmJhYmxlXCIgKTtcblx0XHR9XG5cdFx0aWYgKCAhaGFzRm9jdXMubGVuZ3RoICkge1xuXHRcdFx0aGFzRm9jdXMgPSB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCBcIjp0YWJiYWJsZVwiICk7XG5cdFx0fVxuXHRcdGlmICggIWhhc0ZvY3VzLmxlbmd0aCApIHtcblx0XHRcdGhhc0ZvY3VzID0gdGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UuZmlsdGVyKCBcIjp0YWJiYWJsZVwiICk7XG5cdFx0fVxuXHRcdGlmICggIWhhc0ZvY3VzLmxlbmd0aCApIHtcblx0XHRcdGhhc0ZvY3VzID0gdGhpcy51aURpYWxvZztcblx0XHR9XG5cdFx0aGFzRm9jdXMuZXEoIDAgKS50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0fSxcblxuXHRfa2VlcEZvY3VzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0ZnVuY3Rpb24gY2hlY2tGb2N1cygpIHtcblx0XHRcdHZhciBhY3RpdmVFbGVtZW50ID0gJC51aS5zYWZlQWN0aXZlRWxlbWVudCggdGhpcy5kb2N1bWVudFsgMCBdICksXG5cdFx0XHRcdGlzQWN0aXZlID0gdGhpcy51aURpYWxvZ1sgMCBdID09PSBhY3RpdmVFbGVtZW50IHx8XG5cdFx0XHRcdFx0JC5jb250YWlucyggdGhpcy51aURpYWxvZ1sgMCBdLCBhY3RpdmVFbGVtZW50ICk7XG5cdFx0XHRpZiAoICFpc0FjdGl2ZSApIHtcblx0XHRcdFx0dGhpcy5fZm9jdXNUYWJiYWJsZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNoZWNrRm9jdXMuY2FsbCggdGhpcyApO1xuXG5cdFx0Ly8gc3VwcG9ydDogSUVcblx0XHQvLyBJRSA8PSA4IGRvZXNuJ3QgcHJldmVudCBtb3ZpbmcgZm9jdXMgZXZlbiB3aXRoIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHQvLyBzbyB3ZSBjaGVjayBhZ2FpbiBsYXRlclxuXHRcdHRoaXMuX2RlbGF5KCBjaGVja0ZvY3VzICk7XG5cdH0sXG5cblx0X2NyZWF0ZVdyYXBwZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMudWlEaWFsb2cgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmF0dHIoIHtcblxuXHRcdFx0XHQvLyBTZXR0aW5nIHRhYkluZGV4IG1ha2VzIHRoZSBkaXYgZm9jdXNhYmxlXG5cdFx0XHRcdHRhYkluZGV4OiAtMSxcblx0XHRcdFx0cm9sZTogXCJkaWFsb2dcIlxuXHRcdFx0fSApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnVpRGlhbG9nLCBcInVpLWRpYWxvZ1wiLCBcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udFwiICk7XG5cdFx0dGhpcy5fb24oIHRoaXMudWlEaWFsb2csIHtcblx0XHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuY2xvc2VPbkVzY2FwZSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgZXZlbnQua2V5Q29kZSAmJlxuXHRcdFx0XHRcdFx0ZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVTQ0FQRSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJldmVudCB0YWJiaW5nIG91dCBvZiBkaWFsb2dzXG5cdFx0XHRcdGlmICggZXZlbnQua2V5Q29kZSAhPT0gJC51aS5rZXlDb2RlLlRBQiB8fCBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIHRhYmJhYmxlcyA9IHRoaXMudWlEaWFsb2cuZmluZCggXCI6dGFiYmFibGVcIiApLFxuXHRcdFx0XHRcdGZpcnN0ID0gdGFiYmFibGVzLmZpbHRlciggXCI6Zmlyc3RcIiApLFxuXHRcdFx0XHRcdGxhc3QgPSB0YWJiYWJsZXMuZmlsdGVyKCBcIjpsYXN0XCIgKTtcblxuXHRcdFx0XHRpZiAoICggZXZlbnQudGFyZ2V0ID09PSBsYXN0WyAwIF0gfHwgZXZlbnQudGFyZ2V0ID09PSB0aGlzLnVpRGlhbG9nWyAwIF0gKSAmJlxuXHRcdFx0XHRcdFx0IWV2ZW50LnNoaWZ0S2V5ICkge1xuXHRcdFx0XHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGZpcnN0LnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIGV2ZW50LnRhcmdldCA9PT0gZmlyc3RbIDAgXSB8fFxuXHRcdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ID09PSB0aGlzLnVpRGlhbG9nWyAwIF0gKSAmJiBldmVudC5zaGlmdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRsYXN0LnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bW91c2Vkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5fbW92ZVRvVG9wKCBldmVudCApICkge1xuXHRcdFx0XHRcdHRoaXMuX2ZvY3VzVGFiYmFibGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGFueSBleGlzdGluZyBhcmlhLWRlc2NyaWJlZGJ5IGF0dHJpYnV0ZSBtZWFuc1xuXHRcdC8vIHRoYXQgdGhlIGRpYWxvZyBjb250ZW50IGlzIG1hcmtlZCB1cCBwcm9wZXJseVxuXHRcdC8vIG90aGVyd2lzZSB3ZSBicnV0ZSBmb3JjZSB0aGUgY29udGVudCBhcyB0aGUgZGVzY3JpcHRpb25cblx0XHRpZiAoICF0aGlzLmVsZW1lbnQuZmluZCggXCJbYXJpYS1kZXNjcmliZWRieV1cIiApLmxlbmd0aCApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cuYXR0cigge1xuXHRcdFx0XHRcImFyaWEtZGVzY3JpYmVkYnlcIjogdGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiIClcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X2NyZWF0ZVRpdGxlYmFyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdWlEaWFsb2dUaXRsZTtcblxuXHRcdHRoaXMudWlEaWFsb2dUaXRsZWJhciA9ICQoIFwiPGRpdj5cIiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnVpRGlhbG9nVGl0bGViYXIsXG5cdFx0XHRcInVpLWRpYWxvZy10aXRsZWJhclwiLCBcInVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4XCIgKTtcblx0XHR0aGlzLl9vbiggdGhpcy51aURpYWxvZ1RpdGxlYmFyLCB7XG5cdFx0XHRtb3VzZWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBwcmV2ZW50IGNsaWNrIG9uIGNsb3NlIGJ1dHRvbiAoIzg4MzgpXG5cdFx0XHRcdC8vIEZvY3VzaW5nIGEgZGlhbG9nIHRoYXQgaXMgcGFydGlhbGx5IHNjcm9sbGVkIG91dCBvZiB2aWV3XG5cdFx0XHRcdC8vIGNhdXNlcyB0aGUgYnJvd3NlciB0byBzY3JvbGwgaXQgaW50byB2aWV3LCBwcmV2ZW50aW5nIHRoZSBjbGljayBldmVudFxuXHRcdFx0XHRpZiAoICEkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIiApICkge1xuXG5cdFx0XHRcdFx0Ly8gRGlhbG9nIGlzbid0IGdldHRpbmcgZm9jdXMgd2hlbiBkcmFnZ2luZyAoIzgwNjMpXG5cdFx0XHRcdFx0dGhpcy51aURpYWxvZy50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0Ly8gVXNlIHR5cGU9XCJidXR0b25cIiB0byBwcmV2ZW50IGVudGVyIGtleXByZXNzZXMgaW4gdGV4dGJveGVzIGZyb20gY2xvc2luZyB0aGVcblx0XHQvLyBkaWFsb2cgaW4gSUUgKCM5MzEyKVxuXHRcdHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlID0gJCggXCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+XCIgKVxuXHRcdFx0LmJ1dHRvbigge1xuXHRcdFx0XHRsYWJlbDogJCggXCI8YT5cIiApLnRleHQoIHRoaXMub3B0aW9ucy5jbG9zZVRleHQgKS5odG1sKCksXG5cdFx0XHRcdGljb246IFwidWktaWNvbi1jbG9zZXRoaWNrXCIsXG5cdFx0XHRcdHNob3dMYWJlbDogZmFsc2Vcblx0XHRcdH0gKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLnVpRGlhbG9nVGl0bGViYXIgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSwgXCJ1aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIiApO1xuXHRcdHRoaXMuX29uKCB0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSwge1xuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHR1aURpYWxvZ1RpdGxlID0gJCggXCI8c3Bhbj5cIiApLnVuaXF1ZUlkKCkucHJlcGVuZFRvKCB0aGlzLnVpRGlhbG9nVGl0bGViYXIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggdWlEaWFsb2dUaXRsZSwgXCJ1aS1kaWFsb2ctdGl0bGVcIiApO1xuXHRcdHRoaXMuX3RpdGxlKCB1aURpYWxvZ1RpdGxlICk7XG5cblx0XHR0aGlzLnVpRGlhbG9nVGl0bGViYXIucHJlcGVuZFRvKCB0aGlzLnVpRGlhbG9nICk7XG5cblx0XHR0aGlzLnVpRGlhbG9nLmF0dHIoIHtcblx0XHRcdFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHVpRGlhbG9nVGl0bGUuYXR0ciggXCJpZFwiIClcblx0XHR9ICk7XG5cdH0sXG5cblx0X3RpdGxlOiBmdW5jdGlvbiggdGl0bGUgKSB7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudGl0bGUgKSB7XG5cdFx0XHR0aXRsZS50ZXh0KCB0aGlzLm9wdGlvbnMudGl0bGUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGl0bGUuaHRtbCggXCImIzE2MDtcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfY3JlYXRlQnV0dG9uUGFuZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy51aURpYWxvZ0J1dHRvblBhbmUgPSAkKCBcIjxkaXY+XCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy51aURpYWxvZ0J1dHRvblBhbmUsIFwidWktZGlhbG9nLWJ1dHRvbnBhbmVcIixcblx0XHRcdFwidWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4XCIgKTtcblxuXHRcdHRoaXMudWlCdXR0b25TZXQgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnVpQnV0dG9uU2V0LCBcInVpLWRpYWxvZy1idXR0b25zZXRcIiApO1xuXG5cdFx0dGhpcy5fY3JlYXRlQnV0dG9ucygpO1xuXHR9LFxuXG5cdF9jcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRidXR0b25zID0gdGhpcy5vcHRpb25zLmJ1dHRvbnM7XG5cblx0XHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSBidXR0b24gcGFuZSwgcmVtb3ZlIGl0XG5cdFx0dGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCk7XG5cdFx0dGhpcy51aUJ1dHRvblNldC5lbXB0eSgpO1xuXG5cdFx0aWYgKCAkLmlzRW1wdHlPYmplY3QoIGJ1dHRvbnMgKSB8fCAoICQuaXNBcnJheSggYnV0dG9ucyApICYmICFidXR0b25zLmxlbmd0aCApICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMudWlEaWFsb2csIFwidWktZGlhbG9nLWJ1dHRvbnNcIiApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdCQuZWFjaCggYnV0dG9ucywgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRcdFx0dmFyIGNsaWNrLCBidXR0b25PcHRpb25zO1xuXHRcdFx0cHJvcHMgPSAkLmlzRnVuY3Rpb24oIHByb3BzICkgP1xuXHRcdFx0XHR7IGNsaWNrOiBwcm9wcywgdGV4dDogbmFtZSB9IDpcblx0XHRcdFx0cHJvcHM7XG5cblx0XHRcdC8vIERlZmF1bHQgdG8gYSBub24tc3VibWl0dGluZyBidXR0b25cblx0XHRcdHByb3BzID0gJC5leHRlbmQoIHsgdHlwZTogXCJidXR0b25cIiB9LCBwcm9wcyApO1xuXG5cdFx0XHQvLyBDaGFuZ2UgdGhlIGNvbnRleHQgZm9yIHRoZSBjbGljayBjYWxsYmFjayB0byBiZSB0aGUgbWFpbiBlbGVtZW50XG5cdFx0XHRjbGljayA9IHByb3BzLmNsaWNrO1xuXHRcdFx0YnV0dG9uT3B0aW9ucyA9IHtcblx0XHRcdFx0aWNvbjogcHJvcHMuaWNvbixcblx0XHRcdFx0aWNvblBvc2l0aW9uOiBwcm9wcy5pY29uUG9zaXRpb24sXG5cdFx0XHRcdHNob3dMYWJlbDogcHJvcHMuc2hvd0xhYmVsLFxuXG5cdFx0XHRcdC8vIERlcHJlY2F0ZWQgb3B0aW9uc1xuXHRcdFx0XHRpY29uczogcHJvcHMuaWNvbnMsXG5cdFx0XHRcdHRleHQ6IHByb3BzLnRleHRcblx0XHRcdH07XG5cblx0XHRcdGRlbGV0ZSBwcm9wcy5jbGljaztcblx0XHRcdGRlbGV0ZSBwcm9wcy5pY29uO1xuXHRcdFx0ZGVsZXRlIHByb3BzLmljb25Qb3NpdGlvbjtcblx0XHRcdGRlbGV0ZSBwcm9wcy5zaG93TGFiZWw7XG5cblx0XHRcdC8vIERlcHJlY2F0ZWQgb3B0aW9uc1xuXHRcdFx0ZGVsZXRlIHByb3BzLmljb25zO1xuXHRcdFx0aWYgKCB0eXBlb2YgcHJvcHMudGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGRlbGV0ZSBwcm9wcy50ZXh0O1xuXHRcdFx0fVxuXG5cdFx0XHQkKCBcIjxidXR0b24+PC9idXR0b24+XCIsIHByb3BzIClcblx0XHRcdFx0LmJ1dHRvbiggYnV0dG9uT3B0aW9ucyApXG5cdFx0XHRcdC5hcHBlbmRUbyggdGhhdC51aUJ1dHRvblNldCApXG5cdFx0XHRcdC5vbiggXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRjbGljay5hcHBseSggdGhhdC5lbGVtZW50WyAwIF0sIGFyZ3VtZW50cyApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnVpRGlhbG9nLCBcInVpLWRpYWxvZy1idXR0b25zXCIgKTtcblx0XHR0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5hcHBlbmRUbyggdGhpcy51aURpYWxvZyApO1xuXHR9LFxuXG5cdF9tYWtlRHJhZ2dhYmxlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0ZnVuY3Rpb24gZmlsdGVyZWRVaSggdWkgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRwb3NpdGlvbjogdWkucG9zaXRpb24sXG5cdFx0XHRcdG9mZnNldDogdWkub2Zmc2V0XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRoaXMudWlEaWFsb2cuZHJhZ2dhYmxlKCB7XG5cdFx0XHRjYW5jZWw6IFwiLnVpLWRpYWxvZy1jb250ZW50LCAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlXCIsXG5cdFx0XHRoYW5kbGU6IFwiLnVpLWRpYWxvZy10aXRsZWJhclwiLFxuXHRcdFx0Y29udGFpbm1lbnQ6IFwiZG9jdW1lbnRcIixcblx0XHRcdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR0aGF0Ll9hZGRDbGFzcyggJCggdGhpcyApLCBcInVpLWRpYWxvZy1kcmFnZ2luZ1wiICk7XG5cdFx0XHRcdHRoYXQuX2Jsb2NrRnJhbWVzKCk7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiZHJhZ1N0YXJ0XCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJkcmFnXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIGxlZnQgPSB1aS5vZmZzZXQubGVmdCAtIHRoYXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRcdHRvcCA9IHVpLm9mZnNldC50b3AgLSB0aGF0LmRvY3VtZW50LnNjcm9sbFRvcCgpO1xuXG5cdFx0XHRcdG9wdGlvbnMucG9zaXRpb24gPSB7XG5cdFx0XHRcdFx0bXk6IFwibGVmdCB0b3BcIixcblx0XHRcdFx0XHRhdDogXCJsZWZ0XCIgKyAoIGxlZnQgPj0gMCA/IFwiK1wiIDogXCJcIiApICsgbGVmdCArIFwiIFwiICtcblx0XHRcdFx0XHRcdFwidG9wXCIgKyAoIHRvcCA+PSAwID8gXCIrXCIgOiBcIlwiICkgKyB0b3AsXG5cdFx0XHRcdFx0b2Y6IHRoYXQud2luZG93XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCAkKCB0aGlzICksIFwidWktZGlhbG9nLWRyYWdnaW5nXCIgKTtcblx0XHRcdFx0dGhhdC5fdW5ibG9ja0ZyYW1lcygpO1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImRyYWdTdG9wXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9tYWtlUmVzaXphYmxlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGFuZGxlcyA9IG9wdGlvbnMucmVzaXphYmxlLFxuXG5cdFx0XHQvLyAudWktcmVzaXphYmxlIGhhcyBwb3NpdGlvbjogcmVsYXRpdmUgZGVmaW5lZCBpbiB0aGUgc3R5bGVzaGVldFxuXHRcdFx0Ly8gYnV0IGRpYWxvZ3MgaGF2ZSB0byB1c2UgYWJzb2x1dGUgb3IgZml4ZWQgcG9zaXRpb25pbmdcblx0XHRcdHBvc2l0aW9uID0gdGhpcy51aURpYWxvZy5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0cmVzaXplSGFuZGxlcyA9IHR5cGVvZiBoYW5kbGVzID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0aGFuZGxlcyA6XG5cdFx0XHRcdFwibixlLHMsdyxzZSxzdyxuZSxud1wiO1xuXG5cdFx0ZnVuY3Rpb24gZmlsdGVyZWRVaSggdWkgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRvcmlnaW5hbFBvc2l0aW9uOiB1aS5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0XHRvcmlnaW5hbFNpemU6IHVpLm9yaWdpbmFsU2l6ZSxcblx0XHRcdFx0cG9zaXRpb246IHVpLnBvc2l0aW9uLFxuXHRcdFx0XHRzaXplOiB1aS5zaXplXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRoaXMudWlEaWFsb2cucmVzaXphYmxlKCB7XG5cdFx0XHRjYW5jZWw6IFwiLnVpLWRpYWxvZy1jb250ZW50XCIsXG5cdFx0XHRjb250YWlubWVudDogXCJkb2N1bWVudFwiLFxuXHRcdFx0YWxzb1Jlc2l6ZTogdGhpcy5lbGVtZW50LFxuXHRcdFx0bWF4V2lkdGg6IG9wdGlvbnMubWF4V2lkdGgsXG5cdFx0XHRtYXhIZWlnaHQ6IG9wdGlvbnMubWF4SGVpZ2h0LFxuXHRcdFx0bWluV2lkdGg6IG9wdGlvbnMubWluV2lkdGgsXG5cdFx0XHRtaW5IZWlnaHQ6IHRoaXMuX21pbkhlaWdodCgpLFxuXHRcdFx0aGFuZGxlczogcmVzaXplSGFuZGxlcyxcblx0XHRcdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR0aGF0Ll9hZGRDbGFzcyggJCggdGhpcyApLCBcInVpLWRpYWxvZy1yZXNpemluZ1wiICk7XG5cdFx0XHRcdHRoYXQuX2Jsb2NrRnJhbWVzKCk7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwicmVzaXplU3RhcnRcIiwgZXZlbnQsIGZpbHRlcmVkVWkoIHVpICkgKTtcblx0XHRcdH0sXG5cdFx0XHRyZXNpemU6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwicmVzaXplXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIG9mZnNldCA9IHRoYXQudWlEaWFsb2cub2Zmc2V0KCksXG5cdFx0XHRcdFx0bGVmdCA9IG9mZnNldC5sZWZ0IC0gdGhhdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksXG5cdFx0XHRcdFx0dG9wID0gb2Zmc2V0LnRvcCAtIHRoYXQuZG9jdW1lbnQuc2Nyb2xsVG9wKCk7XG5cblx0XHRcdFx0b3B0aW9ucy5oZWlnaHQgPSB0aGF0LnVpRGlhbG9nLmhlaWdodCgpO1xuXHRcdFx0XHRvcHRpb25zLndpZHRoID0gdGhhdC51aURpYWxvZy53aWR0aCgpO1xuXHRcdFx0XHRvcHRpb25zLnBvc2l0aW9uID0ge1xuXHRcdFx0XHRcdG15OiBcImxlZnQgdG9wXCIsXG5cdFx0XHRcdFx0YXQ6IFwibGVmdFwiICsgKCBsZWZ0ID49IDAgPyBcIitcIiA6IFwiXCIgKSArIGxlZnQgKyBcIiBcIiArXG5cdFx0XHRcdFx0XHRcInRvcFwiICsgKCB0b3AgPj0gMCA/IFwiK1wiIDogXCJcIiApICsgdG9wLFxuXHRcdFx0XHRcdG9mOiB0aGF0LndpbmRvd1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGF0Ll9yZW1vdmVDbGFzcyggJCggdGhpcyApLCBcInVpLWRpYWxvZy1yZXNpemluZ1wiICk7XG5cdFx0XHRcdHRoYXQuX3VuYmxvY2tGcmFtZXMoKTtcblx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJyZXNpemVTdG9wXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9XG5cdFx0fSApXG5cdFx0XHQuY3NzKCBcInBvc2l0aW9uXCIsIHBvc2l0aW9uICk7XG5cdH0sXG5cblx0X3RyYWNrRm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX29uKCB0aGlzLndpZGdldCgpLCB7XG5cdFx0XHRmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX21ha2VGb2N1c1RhcmdldCgpO1xuXHRcdFx0XHR0aGlzLl9mb2N1c2VkRWxlbWVudCA9ICQoIGV2ZW50LnRhcmdldCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfbWFrZUZvY3VzVGFyZ2V0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTtcblx0XHR0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQoIHRoaXMgKTtcblx0fSxcblxuXHRfdW50cmFja0luc3RhbmNlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2VzID0gdGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKSxcblx0XHRcdGV4aXN0cyA9ICQuaW5BcnJheSggdGhpcywgaW5zdGFuY2VzICk7XG5cdFx0aWYgKCBleGlzdHMgIT09IC0xICkge1xuXHRcdFx0aW5zdGFuY2VzLnNwbGljZSggZXhpc3RzLCAxICk7XG5cdFx0fVxuXHR9LFxuXG5cdF90cmFja2luZ0luc3RhbmNlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlcyA9IHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctaW5zdGFuY2VzXCIgKTtcblx0XHRpZiAoICFpbnN0YW5jZXMgKSB7XG5cdFx0XHRpbnN0YW5jZXMgPSBbXTtcblx0XHRcdHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctaW5zdGFuY2VzXCIsIGluc3RhbmNlcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gaW5zdGFuY2VzO1xuXHR9LFxuXG5cdF9taW5IZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0cmV0dXJuIG9wdGlvbnMuaGVpZ2h0ID09PSBcImF1dG9cIiA/XG5cdFx0XHRvcHRpb25zLm1pbkhlaWdodCA6XG5cdFx0XHRNYXRoLm1pbiggb3B0aW9ucy5taW5IZWlnaHQsIG9wdGlvbnMuaGVpZ2h0ICk7XG5cdH0sXG5cblx0X3Bvc2l0aW9uOiBmdW5jdGlvbigpIHtcblxuXHRcdC8vIE5lZWQgdG8gc2hvdyB0aGUgZGlhbG9nIHRvIGdldCB0aGUgYWN0dWFsIG9mZnNldCBpbiB0aGUgcG9zaXRpb24gcGx1Z2luXG5cdFx0dmFyIGlzVmlzaWJsZSA9IHRoaXMudWlEaWFsb2cuaXMoIFwiOnZpc2libGVcIiApO1xuXHRcdGlmICggIWlzVmlzaWJsZSApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cuc2hvdygpO1xuXHRcdH1cblx0XHR0aGlzLnVpRGlhbG9nLnBvc2l0aW9uKCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKTtcblx0XHRpZiAoICFpc1Zpc2libGUgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nLmhpZGUoKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHJlc2l6ZSA9IGZhbHNlLFxuXHRcdFx0cmVzaXphYmxlT3B0aW9ucyA9IHt9O1xuXG5cdFx0JC5lYWNoKCBvcHRpb25zLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdHRoYXQuX3NldE9wdGlvbigga2V5LCB2YWx1ZSApO1xuXG5cdFx0XHRpZiAoIGtleSBpbiB0aGF0LnNpemVSZWxhdGVkT3B0aW9ucyApIHtcblx0XHRcdFx0cmVzaXplID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGlmICgga2V5IGluIHRoYXQucmVzaXphYmxlUmVsYXRlZE9wdGlvbnMgKSB7XG5cdFx0XHRcdHJlc2l6YWJsZU9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0aWYgKCByZXNpemUgKSB7XG5cdFx0XHR0aGlzLl9zaXplKCk7XG5cdFx0XHR0aGlzLl9wb3NpdGlvbigpO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMudWlEaWFsb2cuaXMoIFwiOmRhdGEodWktcmVzaXphYmxlKVwiICkgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSggXCJvcHRpb25cIiwgcmVzaXphYmxlT3B0aW9ucyApO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaXNEcmFnZ2FibGUsIGlzUmVzaXphYmxlLFxuXHRcdFx0dWlEaWFsb2cgPSB0aGlzLnVpRGlhbG9nO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiYXBwZW5kVG9cIiApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJidXR0b25zXCIgKSB7XG5cdFx0XHR0aGlzLl9jcmVhdGVCdXR0b25zKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiY2xvc2VUZXh0XCIgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5idXR0b24oIHtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhhdCB3ZSBhbHdheXMgcGFzcyBhIHN0cmluZ1xuXHRcdFx0XHRsYWJlbDogJCggXCI8YT5cIiApLnRleHQoIFwiXCIgKyB0aGlzLm9wdGlvbnMuY2xvc2VUZXh0ICkuaHRtbCgpXG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiZHJhZ2dhYmxlXCIgKSB7XG5cdFx0XHRpc0RyYWdnYWJsZSA9IHVpRGlhbG9nLmlzKCBcIjpkYXRhKHVpLWRyYWdnYWJsZSlcIiApO1xuXHRcdFx0aWYgKCBpc0RyYWdnYWJsZSAmJiAhdmFsdWUgKSB7XG5cdFx0XHRcdHVpRGlhbG9nLmRyYWdnYWJsZSggXCJkZXN0cm95XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhaXNEcmFnZ2FibGUgJiYgdmFsdWUgKSB7XG5cdFx0XHRcdHRoaXMuX21ha2VEcmFnZ2FibGUoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJwb3NpdGlvblwiICkge1xuXHRcdFx0dGhpcy5fcG9zaXRpb24oKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJyZXNpemFibGVcIiApIHtcblxuXHRcdFx0Ly8gY3VycmVudGx5IHJlc2l6YWJsZSwgYmVjb21pbmcgbm9uLXJlc2l6YWJsZVxuXHRcdFx0aXNSZXNpemFibGUgPSB1aURpYWxvZy5pcyggXCI6ZGF0YSh1aS1yZXNpemFibGUpXCIgKTtcblx0XHRcdGlmICggaXNSZXNpemFibGUgJiYgIXZhbHVlICkge1xuXHRcdFx0XHR1aURpYWxvZy5yZXNpemFibGUoIFwiZGVzdHJveVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEN1cnJlbnRseSByZXNpemFibGUsIGNoYW5naW5nIGhhbmRsZXNcblx0XHRcdGlmICggaXNSZXNpemFibGUgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHR1aURpYWxvZy5yZXNpemFibGUoIFwib3B0aW9uXCIsIFwiaGFuZGxlc1wiLCB2YWx1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDdXJyZW50bHkgbm9uLXJlc2l6YWJsZSwgYmVjb21pbmcgcmVzaXphYmxlXG5cdFx0XHRpZiAoICFpc1Jlc2l6YWJsZSAmJiB2YWx1ZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuX21ha2VSZXNpemFibGUoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJ0aXRsZVwiICkge1xuXHRcdFx0dGhpcy5fdGl0bGUoIHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCBcIi51aS1kaWFsb2ctdGl0bGVcIiApICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zaXplOiBmdW5jdGlvbigpIHtcblxuXHRcdC8vIElmIHRoZSB1c2VyIGhhcyByZXNpemVkIHRoZSBkaWFsb2csIHRoZSAudWktZGlhbG9nIGFuZCAudWktZGlhbG9nLWNvbnRlbnRcblx0XHQvLyBkaXZzIHdpbGwgYm90aCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgc2V0LCBzbyB3ZSBuZWVkIHRvIHJlc2V0IHRoZW1cblx0XHR2YXIgbm9uQ29udGVudEhlaWdodCwgbWluQ29udGVudEhlaWdodCwgbWF4Q29udGVudEhlaWdodCxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHQvLyBSZXNldCBjb250ZW50IHNpemluZ1xuXHRcdHRoaXMuZWxlbWVudC5zaG93KCkuY3NzKCB7XG5cdFx0XHR3aWR0aDogXCJhdXRvXCIsXG5cdFx0XHRtaW5IZWlnaHQ6IDAsXG5cdFx0XHRtYXhIZWlnaHQ6IFwibm9uZVwiLFxuXHRcdFx0aGVpZ2h0OiAwXG5cdFx0fSApO1xuXG5cdFx0aWYgKCBvcHRpb25zLm1pbldpZHRoID4gb3B0aW9ucy53aWR0aCApIHtcblx0XHRcdG9wdGlvbnMud2lkdGggPSBvcHRpb25zLm1pbldpZHRoO1xuXHRcdH1cblxuXHRcdC8vIFJlc2V0IHdyYXBwZXIgc2l6aW5nXG5cdFx0Ly8gZGV0ZXJtaW5lIHRoZSBoZWlnaHQgb2YgYWxsIHRoZSBub24tY29udGVudCBlbGVtZW50c1xuXHRcdG5vbkNvbnRlbnRIZWlnaHQgPSB0aGlzLnVpRGlhbG9nLmNzcygge1xuXHRcdFx0aGVpZ2h0OiBcImF1dG9cIixcblx0XHRcdHdpZHRoOiBvcHRpb25zLndpZHRoXG5cdFx0fSApXG5cdFx0XHQub3V0ZXJIZWlnaHQoKTtcblx0XHRtaW5Db250ZW50SGVpZ2h0ID0gTWF0aC5tYXgoIDAsIG9wdGlvbnMubWluSGVpZ2h0IC0gbm9uQ29udGVudEhlaWdodCApO1xuXHRcdG1heENvbnRlbnRIZWlnaHQgPSB0eXBlb2Ygb3B0aW9ucy5tYXhIZWlnaHQgPT09IFwibnVtYmVyXCIgP1xuXHRcdFx0TWF0aC5tYXgoIDAsIG9wdGlvbnMubWF4SGVpZ2h0IC0gbm9uQ29udGVudEhlaWdodCApIDpcblx0XHRcdFwibm9uZVwiO1xuXG5cdFx0aWYgKCBvcHRpb25zLmhlaWdodCA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuY3NzKCB7XG5cdFx0XHRcdG1pbkhlaWdodDogbWluQ29udGVudEhlaWdodCxcblx0XHRcdFx0bWF4SGVpZ2h0OiBtYXhDb250ZW50SGVpZ2h0LFxuXHRcdFx0XHRoZWlnaHQ6IFwiYXV0b1wiXG5cdFx0XHR9ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZWxlbWVudC5oZWlnaHQoIE1hdGgubWF4KCAwLCBvcHRpb25zLmhlaWdodCAtIG5vbkNvbnRlbnRIZWlnaHQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy51aURpYWxvZy5pcyggXCI6ZGF0YSh1aS1yZXNpemFibGUpXCIgKSApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cucmVzaXphYmxlKCBcIm9wdGlvblwiLCBcIm1pbkhlaWdodFwiLCB0aGlzLl9taW5IZWlnaHQoKSApO1xuXHRcdH1cblx0fSxcblxuXHRfYmxvY2tGcmFtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaWZyYW1lQmxvY2tzID0gdGhpcy5kb2N1bWVudC5maW5kKCBcImlmcmFtZVwiICkubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpZnJhbWUgPSAkKCB0aGlzICk7XG5cblx0XHRcdHJldHVybiAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0XHQuY3NzKCB7XG5cdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHR3aWR0aDogaWZyYW1lLm91dGVyV2lkdGgoKSxcblx0XHRcdFx0XHRoZWlnaHQ6IGlmcmFtZS5vdXRlckhlaWdodCgpXG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQuYXBwZW5kVG8oIGlmcmFtZS5wYXJlbnQoKSApXG5cdFx0XHRcdC5vZmZzZXQoIGlmcmFtZS5vZmZzZXQoKSApWyAwIF07XG5cdFx0fSApO1xuXHR9LFxuXG5cdF91bmJsb2NrRnJhbWVzOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuaWZyYW1lQmxvY2tzICkge1xuXHRcdFx0dGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCk7XG5cdFx0XHRkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3M7XG5cdFx0fVxuXHR9LFxuXG5cdF9hbGxvd0ludGVyYWN0aW9uOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1kaWFsb2dcIiApLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIFRPRE86IFJlbW92ZSBoYWNrIHdoZW4gZGF0ZXBpY2tlciBpbXBsZW1lbnRzXG5cdFx0Ly8gdGhlIC51aS1mcm9udCBsb2dpYyAoIzg5ODkpXG5cdFx0cmV0dXJuICEhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktZGF0ZXBpY2tlclwiICkubGVuZ3RoO1xuXHR9LFxuXG5cdF9jcmVhdGVPdmVybGF5OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMubW9kYWwgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gV2UgdXNlIGEgZGVsYXkgaW4gY2FzZSB0aGUgb3ZlcmxheSBpcyBjcmVhdGVkIGZyb20gYW5cblx0XHQvLyBldmVudCB0aGF0IHdlJ3JlIGdvaW5nIHRvIGJlIGNhbmNlbGxpbmcgKCMyODA0KVxuXHRcdHZhciBpc09wZW5pbmcgPSB0cnVlO1xuXHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdGlzT3BlbmluZyA9IGZhbHNlO1xuXHRcdH0gKTtcblxuXHRcdGlmICggIXRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiApICkge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHVzZSBvZiBhbmNob3JzIGFuZCBpbnB1dHNcblx0XHRcdC8vIFVzaW5nIF9vbigpIGZvciBhbiBldmVudCBoYW5kbGVyIHNoYXJlZCBhY3Jvc3MgbWFueSBpbnN0YW5jZXMgaXNcblx0XHRcdC8vIHNhZmUgYmVjYXVzZSB0aGUgZGlhbG9ncyBzdGFjayBhbmQgbXVzdCBiZSBjbG9zZWQgaW4gcmV2ZXJzZSBvcmRlclxuXHRcdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHtcblx0XHRcdFx0Zm9jdXNpbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdGlmICggaXNPcGVuaW5nICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggIXRoaXMuX2FsbG93SW50ZXJhY3Rpb24oIGV2ZW50ICkgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKVsgMCBdLl9mb2N1c1RhYmJhYmxlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vdmVybGF5ID0gJCggXCI8ZGl2PlwiIClcblx0XHRcdC5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oKSApO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMub3ZlcmxheSwgbnVsbCwgXCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udFwiICk7XG5cdFx0dGhpcy5fb24oIHRoaXMub3ZlcmxheSwge1xuXHRcdFx0bW91c2Vkb3duOiBcIl9rZWVwRm9jdXNcIlxuXHRcdH0gKTtcblx0XHR0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIsXG5cdFx0XHQoIHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiApIHx8IDAgKSArIDEgKTtcblx0fSxcblxuXHRfZGVzdHJveU92ZXJsYXk6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy5tb2RhbCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3ZlcmxheSApIHtcblx0XHRcdHZhciBvdmVybGF5cyA9IHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiApIC0gMTtcblxuXHRcdFx0aWYgKCAhb3ZlcmxheXMgKSB7XG5cdFx0XHRcdHRoaXMuX29mZiggdGhpcy5kb2N1bWVudCwgXCJmb2N1c2luXCIgKTtcblx0XHRcdFx0dGhpcy5kb2N1bWVudC5yZW1vdmVEYXRhKCBcInVpLWRpYWxvZy1vdmVybGF5c1wiICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIsIG92ZXJsYXlzICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMub3ZlcmxheS5yZW1vdmUoKTtcblx0XHRcdHRoaXMub3ZlcmxheSA9IG51bGw7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIERFUFJFQ0FURURcbi8vIFRPRE86IHN3aXRjaCByZXR1cm4gYmFjayB0byB3aWRnZXQgZGVjbGFyYXRpb24gYXQgdG9wIG9mIGZpbGUgd2hlbiB0aGlzIGlzIHJlbW92ZWRcbmlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICkge1xuXG5cdC8vIEJhY2tjb21wYXQgZm9yIGRpYWxvZ0NsYXNzIG9wdGlvblxuXHQkLndpZGdldCggXCJ1aS5kaWFsb2dcIiwgJC51aS5kaWFsb2csIHtcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRkaWFsb2dDbGFzczogXCJcIlxuXHRcdH0sXG5cdFx0X2NyZWF0ZVdyYXBwZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fc3VwZXIoKTtcblx0XHRcdHRoaXMudWlEaWFsb2cuYWRkQ2xhc3MoIHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyApO1xuXHRcdH0sXG5cdFx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIGtleSA9PT0gXCJkaWFsb2dDbGFzc1wiICkge1xuXHRcdFx0XHR0aGlzLnVpRGlhbG9nXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggdmFsdWUgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3N1cGVyQXBwbHkoIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fSApO1xufVxuXG52YXIgd2lkZ2V0c0RpYWxvZyA9ICQudWkuZGlhbG9nO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIERyb3BwYWJsZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRHJvcHBhYmxlXG4vLz4+Z3JvdXA6IEludGVyYWN0aW9uc1xuLy8+PmRlc2NyaXB0aW9uOiBFbmFibGVzIGRyb3AgdGFyZ2V0cyBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3BwYWJsZS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9kcm9wcGFibGUvXG5cblxuXG4kLndpZGdldCggXCJ1aS5kcm9wcGFibGVcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJkcm9wXCIsXG5cdG9wdGlvbnM6IHtcblx0XHRhY2NlcHQ6IFwiKlwiLFxuXHRcdGFkZENsYXNzZXM6IHRydWUsXG5cdFx0Z3JlZWR5OiBmYWxzZSxcblx0XHRzY29wZTogXCJkZWZhdWx0XCIsXG5cdFx0dG9sZXJhbmNlOiBcImludGVyc2VjdFwiLFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0YWN0aXZhdGU6IG51bGwsXG5cdFx0ZGVhY3RpdmF0ZTogbnVsbCxcblx0XHRkcm9wOiBudWxsLFxuXHRcdG91dDogbnVsbCxcblx0XHRvdmVyOiBudWxsXG5cdH0sXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHByb3BvcnRpb25zLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGFjY2VwdCA9IG8uYWNjZXB0O1xuXG5cdFx0dGhpcy5pc292ZXIgPSBmYWxzZTtcblx0XHR0aGlzLmlzb3V0ID0gdHJ1ZTtcblxuXHRcdHRoaXMuYWNjZXB0ID0gJC5pc0Z1bmN0aW9uKCBhY2NlcHQgKSA/IGFjY2VwdCA6IGZ1bmN0aW9uKCBkICkge1xuXHRcdFx0cmV0dXJuIGQuaXMoIGFjY2VwdCApO1xuXHRcdH07XG5cblx0XHR0aGlzLnByb3BvcnRpb25zID0gZnVuY3Rpb24oIC8qIHZhbHVlVG9Xcml0ZSAqLyApIHtcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblxuXHRcdFx0XHQvLyBTdG9yZSB0aGUgZHJvcHBhYmxlJ3MgcHJvcG9ydGlvbnNcblx0XHRcdFx0cHJvcG9ydGlvbnMgPSBhcmd1bWVudHNbIDAgXTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gUmV0cmlldmUgb3IgZGVyaXZlIHRoZSBkcm9wcGFibGUncyBwcm9wb3J0aW9uc1xuXHRcdFx0XHRyZXR1cm4gcHJvcG9ydGlvbnMgP1xuXHRcdFx0XHRcdHByb3BvcnRpb25zIDpcblx0XHRcdFx0XHRwcm9wb3J0aW9ucyA9IHtcblx0XHRcdFx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnRbIDAgXS5vZmZzZXRXaWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50WyAwIF0ub2Zmc2V0SGVpZ2h0XG5cdFx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dGhpcy5fYWRkVG9NYW5hZ2VyKCBvLnNjb3BlICk7XG5cblx0XHRvLmFkZENsYXNzZXMgJiYgdGhpcy5fYWRkQ2xhc3MoIFwidWktZHJvcHBhYmxlXCIgKTtcblxuXHR9LFxuXG5cdF9hZGRUb01hbmFnZXI6IGZ1bmN0aW9uKCBzY29wZSApIHtcblxuXHRcdC8vIEFkZCB0aGUgcmVmZXJlbmNlIGFuZCBwb3NpdGlvbnMgdG8gdGhlIG1hbmFnZXJcblx0XHQkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyBzY29wZSBdID0gJC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1sgc2NvcGUgXSB8fCBbXTtcblx0XHQkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyBzY29wZSBdLnB1c2goIHRoaXMgKTtcblx0fSxcblxuXHRfc3BsaWNlOiBmdW5jdGlvbiggZHJvcCApIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0Zm9yICggOyBpIDwgZHJvcC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGlmICggZHJvcFsgaSBdID09PSB0aGlzICkge1xuXHRcdFx0XHRkcm9wLnNwbGljZSggaSwgMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRyb3AgPSAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyB0aGlzLm9wdGlvbnMuc2NvcGUgXTtcblxuXHRcdHRoaXMuX3NwbGljZSggZHJvcCApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiYWNjZXB0XCIgKSB7XG5cdFx0XHR0aGlzLmFjY2VwdCA9ICQuaXNGdW5jdGlvbiggdmFsdWUgKSA/IHZhbHVlIDogZnVuY3Rpb24oIGQgKSB7XG5cdFx0XHRcdHJldHVybiBkLmlzKCB2YWx1ZSApO1xuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKCBrZXkgPT09IFwic2NvcGVcIiApIHtcblx0XHRcdHZhciBkcm9wID0gJC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1sgdGhpcy5vcHRpb25zLnNjb3BlIF07XG5cblx0XHRcdHRoaXMuX3NwbGljZSggZHJvcCApO1xuXHRcdFx0dGhpcy5fYWRkVG9NYW5hZ2VyKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cdH0sXG5cblx0X2FjdGl2YXRlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGRyYWdnYWJsZSA9ICQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7XG5cblx0XHR0aGlzLl9hZGRBY3RpdmVDbGFzcygpO1xuXHRcdGlmICggZHJhZ2dhYmxlICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJhY3RpdmF0ZVwiLCBldmVudCwgdGhpcy51aSggZHJhZ2dhYmxlICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X2RlYWN0aXZhdGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgZHJhZ2dhYmxlID0gJC51aS5kZG1hbmFnZXIuY3VycmVudDtcblxuXHRcdHRoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCk7XG5cdFx0aWYgKCBkcmFnZ2FibGUgKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImRlYWN0aXZhdGVcIiwgZXZlbnQsIHRoaXMudWkoIGRyYWdnYWJsZSApICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vdmVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHR2YXIgZHJhZ2dhYmxlID0gJC51aS5kZG1hbmFnZXIuY3VycmVudDtcblxuXHRcdC8vIEJhaWwgaWYgZHJhZ2dhYmxlIGFuZCBkcm9wcGFibGUgYXJlIHNhbWUgZWxlbWVudFxuXHRcdGlmICggIWRyYWdnYWJsZSB8fCAoIGRyYWdnYWJsZS5jdXJyZW50SXRlbSB8fFxuXHRcdFx0XHRkcmFnZ2FibGUuZWxlbWVudCApWyAwIF0gPT09IHRoaXMuZWxlbWVudFsgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5hY2NlcHQuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8XG5cdFx0XHRcdGRyYWdnYWJsZS5lbGVtZW50ICkgKSApIHtcblx0XHRcdHRoaXMuX2FkZEhvdmVyQ2xhc3MoKTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwib3ZlclwiLCBldmVudCwgdGhpcy51aSggZHJhZ2dhYmxlICkgKTtcblx0XHR9XG5cblx0fSxcblxuXHRfb3V0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHR2YXIgZHJhZ2dhYmxlID0gJC51aS5kZG1hbmFnZXIuY3VycmVudDtcblxuXHRcdC8vIEJhaWwgaWYgZHJhZ2dhYmxlIGFuZCBkcm9wcGFibGUgYXJlIHNhbWUgZWxlbWVudFxuXHRcdGlmICggIWRyYWdnYWJsZSB8fCAoIGRyYWdnYWJsZS5jdXJyZW50SXRlbSB8fFxuXHRcdFx0XHRkcmFnZ2FibGUuZWxlbWVudCApWyAwIF0gPT09IHRoaXMuZWxlbWVudFsgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5hY2NlcHQuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8XG5cdFx0XHRcdGRyYWdnYWJsZS5lbGVtZW50ICkgKSApIHtcblx0XHRcdHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwib3V0XCIsIGV2ZW50LCB0aGlzLnVpKCBkcmFnZ2FibGUgKSApO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9kcm9wOiBmdW5jdGlvbiggZXZlbnQsIGN1c3RvbSApIHtcblxuXHRcdHZhciBkcmFnZ2FibGUgPSBjdXN0b20gfHwgJC51aS5kZG1hbmFnZXIuY3VycmVudCxcblx0XHRcdGNoaWxkcmVuSW50ZXJzZWN0aW9uID0gZmFsc2U7XG5cblx0XHQvLyBCYWlsIGlmIGRyYWdnYWJsZSBhbmQgZHJvcHBhYmxlIGFyZSBzYW1lIGVsZW1lbnRcblx0XHRpZiAoICFkcmFnZ2FibGUgfHwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHxcblx0XHRcdFx0ZHJhZ2dhYmxlLmVsZW1lbnQgKVsgMCBdID09PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5maW5kKCBcIjpkYXRhKHVpLWRyb3BwYWJsZSlcIiApXG5cdFx0XHQubm90KCBcIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIiApXG5cdFx0XHQuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpbnN0ID0gJCggdGhpcyApLmRyb3BwYWJsZSggXCJpbnN0YW5jZVwiICk7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRpbnN0Lm9wdGlvbnMuZ3JlZWR5ICYmXG5cdFx0XHRcdFx0IWluc3Qub3B0aW9ucy5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdGluc3Qub3B0aW9ucy5zY29wZSA9PT0gZHJhZ2dhYmxlLm9wdGlvbnMuc2NvcGUgJiZcblx0XHRcdFx0XHRpbnN0LmFjY2VwdC5jYWxsKFxuXHRcdFx0XHRcdFx0aW5zdC5lbGVtZW50WyAwIF0sICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50IClcblx0XHRcdFx0XHQpICYmXG5cdFx0XHRcdFx0aW50ZXJzZWN0KFxuXHRcdFx0XHRcdFx0ZHJhZ2dhYmxlLFxuXHRcdFx0XHRcdFx0JC5leHRlbmQoIGluc3QsIHsgb2Zmc2V0OiBpbnN0LmVsZW1lbnQub2Zmc2V0KCkgfSApLFxuXHRcdFx0XHRcdFx0aW5zdC5vcHRpb25zLnRvbGVyYW5jZSwgZXZlbnRcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNoaWxkcmVuSW50ZXJzZWN0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7IH1cblx0XHRcdH0gKTtcblx0XHRpZiAoIGNoaWxkcmVuSW50ZXJzZWN0aW9uICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5hY2NlcHQuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sXG5cdFx0XHRcdCggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50ICkgKSApIHtcblx0XHRcdHRoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCk7XG5cdFx0XHR0aGlzLl9yZW1vdmVIb3ZlckNsYXNzKCk7XG5cblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiZHJvcFwiLCBldmVudCwgdGhpcy51aSggZHJhZ2dhYmxlICkgKTtcblx0XHRcdHJldHVybiB0aGlzLmVsZW1lbnQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0dWk6IGZ1bmN0aW9uKCBjICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRkcmFnZ2FibGU6ICggYy5jdXJyZW50SXRlbSB8fCBjLmVsZW1lbnQgKSxcblx0XHRcdGhlbHBlcjogYy5oZWxwZXIsXG5cdFx0XHRwb3NpdGlvbjogYy5wb3NpdGlvbixcblx0XHRcdG9mZnNldDogYy5wb3NpdGlvbkFic1xuXHRcdH07XG5cdH0sXG5cblx0Ly8gRXh0ZW5zaW9uIHBvaW50cyBqdXN0IHRvIG1ha2UgYmFja2NvbXBhdCBzYW5lIGFuZCBhdm9pZCBkdXBsaWNhdGluZyBsb2dpY1xuXHQvLyBUT0RPOiBSZW1vdmUgaW4gMS4xMyBhbG9uZyB3aXRoIGNhbGwgdG8gaXQgYmVsb3dcblx0X2FkZEhvdmVyQ2xhc3M6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLWRyb3BwYWJsZS1ob3ZlclwiICk7XG5cdH0sXG5cblx0X3JlbW92ZUhvdmVyQ2xhc3M6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBcInVpLWRyb3BwYWJsZS1ob3ZlclwiICk7XG5cdH0sXG5cblx0X2FkZEFjdGl2ZUNsYXNzOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1kcm9wcGFibGUtYWN0aXZlXCIgKTtcblx0fSxcblxuXHRfcmVtb3ZlQWN0aXZlQ2xhc3M6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBcInVpLWRyb3BwYWJsZS1hY3RpdmVcIiApO1xuXHR9XG59ICk7XG5cbnZhciBpbnRlcnNlY3QgPSAkLnVpLmludGVyc2VjdCA9ICggZnVuY3Rpb24oKSB7XG5cdGZ1bmN0aW9uIGlzT3ZlckF4aXMoIHgsIHJlZmVyZW5jZSwgc2l6ZSApIHtcblx0XHRyZXR1cm4gKCB4ID49IHJlZmVyZW5jZSApICYmICggeCA8ICggcmVmZXJlbmNlICsgc2l6ZSApICk7XG5cdH1cblxuXHRyZXR1cm4gZnVuY3Rpb24oIGRyYWdnYWJsZSwgZHJvcHBhYmxlLCB0b2xlcmFuY2VNb2RlLCBldmVudCApIHtcblxuXHRcdGlmICggIWRyb3BwYWJsZS5vZmZzZXQgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dmFyIHgxID0gKCBkcmFnZ2FibGUucG9zaXRpb25BYnMgfHxcblx0XHRcdFx0ZHJhZ2dhYmxlLnBvc2l0aW9uLmFic29sdXRlICkubGVmdCArIGRyYWdnYWJsZS5tYXJnaW5zLmxlZnQsXG5cdFx0XHR5MSA9ICggZHJhZ2dhYmxlLnBvc2l0aW9uQWJzIHx8XG5cdFx0XHRcdGRyYWdnYWJsZS5wb3NpdGlvbi5hYnNvbHV0ZSApLnRvcCArIGRyYWdnYWJsZS5tYXJnaW5zLnRvcCxcblx0XHRcdHgyID0geDEgKyBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsXG5cdFx0XHR5MiA9IHkxICsgZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxcblx0XHRcdGwgPSBkcm9wcGFibGUub2Zmc2V0LmxlZnQsXG5cdFx0XHR0ID0gZHJvcHBhYmxlLm9mZnNldC50b3AsXG5cdFx0XHRyID0gbCArIGRyb3BwYWJsZS5wcm9wb3J0aW9ucygpLndpZHRoLFxuXHRcdFx0YiA9IHQgKyBkcm9wcGFibGUucHJvcG9ydGlvbnMoKS5oZWlnaHQ7XG5cblx0XHRzd2l0Y2ggKCB0b2xlcmFuY2VNb2RlICkge1xuXHRcdGNhc2UgXCJmaXRcIjpcblx0XHRcdHJldHVybiAoIGwgPD0geDEgJiYgeDIgPD0gciAmJiB0IDw9IHkxICYmIHkyIDw9IGIgKTtcblx0XHRjYXNlIFwiaW50ZXJzZWN0XCI6XG5cdFx0XHRyZXR1cm4gKCBsIDwgeDEgKyAoIGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgKSAmJiAvLyBSaWdodCBIYWxmXG5cdFx0XHRcdHgyIC0gKCBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLyAyICkgPCByICYmIC8vIExlZnQgSGFsZlxuXHRcdFx0XHR0IDwgeTEgKyAoIGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICkgJiYgLy8gQm90dG9tIEhhbGZcblx0XHRcdFx0eTIgLSAoIGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICkgPCBiICk7IC8vIFRvcCBIYWxmXG5cdFx0Y2FzZSBcInBvaW50ZXJcIjpcblx0XHRcdHJldHVybiBpc092ZXJBeGlzKCBldmVudC5wYWdlWSwgdCwgZHJvcHBhYmxlLnByb3BvcnRpb25zKCkuaGVpZ2h0ICkgJiZcblx0XHRcdFx0aXNPdmVyQXhpcyggZXZlbnQucGFnZVgsIGwsIGRyb3BwYWJsZS5wcm9wb3J0aW9ucygpLndpZHRoICk7XG5cdFx0Y2FzZSBcInRvdWNoXCI6XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQoIHkxID49IHQgJiYgeTEgPD0gYiApIHx8IC8vIFRvcCBlZGdlIHRvdWNoaW5nXG5cdFx0XHRcdCggeTIgPj0gdCAmJiB5MiA8PSBiICkgfHwgLy8gQm90dG9tIGVkZ2UgdG91Y2hpbmdcblx0XHRcdFx0KCB5MSA8IHQgJiYgeTIgPiBiICkgLy8gU3Vycm91bmRlZCB2ZXJ0aWNhbGx5XG5cdFx0XHQpICYmIChcblx0XHRcdFx0KCB4MSA+PSBsICYmIHgxIDw9IHIgKSB8fCAvLyBMZWZ0IGVkZ2UgdG91Y2hpbmdcblx0XHRcdFx0KCB4MiA+PSBsICYmIHgyIDw9IHIgKSB8fCAvLyBSaWdodCBlZGdlIHRvdWNoaW5nXG5cdFx0XHRcdCggeDEgPCBsICYmIHgyID4gciApIC8vIFN1cnJvdW5kZWQgaG9yaXpvbnRhbGx5XG5cdFx0XHQpO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9O1xufSApKCk7XG5cbi8qXG5cdFRoaXMgbWFuYWdlciB0cmFja3Mgb2Zmc2V0cyBvZiBkcmFnZ2FibGVzIGFuZCBkcm9wcGFibGVzXG4qL1xuJC51aS5kZG1hbmFnZXIgPSB7XG5cdGN1cnJlbnQ6IG51bGwsXG5cdGRyb3BwYWJsZXM6IHsgXCJkZWZhdWx0XCI6IFtdIH0sXG5cdHByZXBhcmVPZmZzZXRzOiBmdW5jdGlvbiggdCwgZXZlbnQgKSB7XG5cblx0XHR2YXIgaSwgaixcblx0XHRcdG0gPSAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyB0Lm9wdGlvbnMuc2NvcGUgXSB8fCBbXSxcblx0XHRcdHR5cGUgPSBldmVudCA/IGV2ZW50LnR5cGUgOiBudWxsLCAvLyB3b3JrYXJvdW5kIGZvciAjMjMxN1xuXHRcdFx0bGlzdCA9ICggdC5jdXJyZW50SXRlbSB8fCB0LmVsZW1lbnQgKS5maW5kKCBcIjpkYXRhKHVpLWRyb3BwYWJsZSlcIiApLmFkZEJhY2soKTtcblxuXHRcdGRyb3BwYWJsZXNMb29wOiBmb3IgKCBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRcdC8vIE5vIGRpc2FibGVkIGFuZCBub24tYWNjZXB0ZWRcblx0XHRcdGlmICggbVsgaSBdLm9wdGlvbnMuZGlzYWJsZWQgfHwgKCB0ICYmICFtWyBpIF0uYWNjZXB0LmNhbGwoIG1bIGkgXS5lbGVtZW50WyAwIF0sXG5cdFx0XHRcdFx0KCB0LmN1cnJlbnRJdGVtIHx8IHQuZWxlbWVudCApICkgKSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgZWxlbWVudHMgaW4gdGhlIGN1cnJlbnQgZHJhZ2dlZCBpdGVtXG5cdFx0XHRmb3IgKCBqID0gMDsgaiA8IGxpc3QubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdGlmICggbGlzdFsgaiBdID09PSBtWyBpIF0uZWxlbWVudFsgMCBdICkge1xuXHRcdFx0XHRcdG1bIGkgXS5wcm9wb3J0aW9ucygpLmhlaWdodCA9IDA7XG5cdFx0XHRcdFx0Y29udGludWUgZHJvcHBhYmxlc0xvb3A7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0bVsgaSBdLnZpc2libGUgPSBtWyBpIF0uZWxlbWVudC5jc3MoIFwiZGlzcGxheVwiICkgIT09IFwibm9uZVwiO1xuXHRcdFx0aWYgKCAhbVsgaSBdLnZpc2libGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY3RpdmF0ZSB0aGUgZHJvcHBhYmxlIGlmIHVzZWQgZGlyZWN0bHkgZnJvbSBkcmFnZ2FibGVzXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibW91c2Vkb3duXCIgKSB7XG5cdFx0XHRcdG1bIGkgXS5fYWN0aXZhdGUuY2FsbCggbVsgaSBdLCBldmVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRtWyBpIF0ub2Zmc2V0ID0gbVsgaSBdLmVsZW1lbnQub2Zmc2V0KCk7XG5cdFx0XHRtWyBpIF0ucHJvcG9ydGlvbnMoIHtcblx0XHRcdFx0d2lkdGg6IG1bIGkgXS5lbGVtZW50WyAwIF0ub2Zmc2V0V2lkdGgsXG5cdFx0XHRcdGhlaWdodDogbVsgaSBdLmVsZW1lbnRbIDAgXS5vZmZzZXRIZWlnaHRcblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXHRkcm9wOiBmdW5jdGlvbiggZHJhZ2dhYmxlLCBldmVudCApIHtcblxuXHRcdHZhciBkcm9wcGVkID0gZmFsc2U7XG5cblx0XHQvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBkcm9wcGFibGVzIGluIGNhc2UgdGhlIGxpc3QgY2hhbmdlcyBkdXJpbmcgdGhlIGRyb3AgKCM5MTE2KVxuXHRcdCQuZWFjaCggKCAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyBkcmFnZ2FibGUub3B0aW9ucy5zY29wZSBdIHx8IFtdICkuc2xpY2UoKSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdGlmICggIXRoaXMub3B0aW9ucyApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIHRoaXMudmlzaWJsZSAmJlxuXHRcdFx0XHRcdGludGVyc2VjdCggZHJhZ2dhYmxlLCB0aGlzLCB0aGlzLm9wdGlvbnMudG9sZXJhbmNlLCBldmVudCApICkge1xuXHRcdFx0XHRkcm9wcGVkID0gdGhpcy5fZHJvcC5jYWxsKCB0aGlzLCBldmVudCApIHx8IGRyb3BwZWQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiB0aGlzLnZpc2libGUgJiYgdGhpcy5hY2NlcHQuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sXG5cdFx0XHRcdFx0KCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKSApICkge1xuXHRcdFx0XHR0aGlzLmlzb3V0ID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5pc292ZXIgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5fZGVhY3RpdmF0ZS5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdFx0fVxuXG5cdFx0fSApO1xuXHRcdHJldHVybiBkcm9wcGVkO1xuXG5cdH0sXG5cdGRyYWdTdGFydDogZnVuY3Rpb24oIGRyYWdnYWJsZSwgZXZlbnQgKSB7XG5cblx0XHQvLyBMaXN0ZW4gZm9yIHNjcm9sbGluZyBzbyB0aGF0IGlmIHRoZSBkcmFnZ2luZyBjYXVzZXMgc2Nyb2xsaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGVcblx0XHQvLyBkcm9wcGFibGVzIGNhbiBiZSByZWNhbGN1bGF0ZWQgKHNlZSAjNTAwMylcblx0XHRkcmFnZ2FibGUuZWxlbWVudC5wYXJlbnRzVW50aWwoIFwiYm9keVwiICkub24oIFwic2Nyb2xsLmRyb3BwYWJsZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIWRyYWdnYWJsZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMgKSB7XG5cdFx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCBkcmFnZ2FibGUsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRkcmFnOiBmdW5jdGlvbiggZHJhZ2dhYmxlLCBldmVudCApIHtcblxuXHRcdC8vIElmIHlvdSBoYXZlIGEgaGlnaGx5IGR5bmFtaWMgcGFnZSwgeW91IG1pZ2h0IHRyeSB0aGlzIG9wdGlvbi4gSXQgcmVuZGVycyBwb3NpdGlvbnNcblx0XHQvLyBldmVyeSB0aW1lIHlvdSBtb3ZlIHRoZSBtb3VzZS5cblx0XHRpZiAoIGRyYWdnYWJsZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggZHJhZ2dhYmxlLCBldmVudCApO1xuXHRcdH1cblxuXHRcdC8vIFJ1biB0aHJvdWdoIGFsbCBkcm9wcGFibGVzIGFuZCBjaGVjayB0aGVpciBwb3NpdGlvbnMgYmFzZWQgb24gc3BlY2lmaWMgdG9sZXJhbmNlIG9wdGlvbnNcblx0XHQkLmVhY2goICQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIGRyYWdnYWJsZS5vcHRpb25zLnNjb3BlIF0gfHwgW10sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLmdyZWVkeUNoaWxkIHx8ICF0aGlzLnZpc2libGUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhcmVudEluc3RhbmNlLCBzY29wZSwgcGFyZW50LFxuXHRcdFx0XHRpbnRlcnNlY3RzID0gaW50ZXJzZWN0KCBkcmFnZ2FibGUsIHRoaXMsIHRoaXMub3B0aW9ucy50b2xlcmFuY2UsIGV2ZW50ICksXG5cdFx0XHRcdGMgPSAhaW50ZXJzZWN0cyAmJiB0aGlzLmlzb3ZlciA/XG5cdFx0XHRcdFx0XCJpc291dFwiIDpcblx0XHRcdFx0XHQoIGludGVyc2VjdHMgJiYgIXRoaXMuaXNvdmVyID8gXCJpc292ZXJcIiA6IG51bGwgKTtcblx0XHRcdGlmICggIWMgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZ3JlZWR5ICkge1xuXG5cdFx0XHRcdC8vIGZpbmQgZHJvcHBhYmxlIHBhcmVudHMgd2l0aCBzYW1lIHNjb3BlXG5cdFx0XHRcdHNjb3BlID0gdGhpcy5vcHRpb25zLnNjb3BlO1xuXHRcdFx0XHRwYXJlbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50cyggXCI6ZGF0YSh1aS1kcm9wcGFibGUpXCIgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiAkKCB0aGlzICkuZHJvcHBhYmxlKCBcImluc3RhbmNlXCIgKS5vcHRpb25zLnNjb3BlID09PSBzY29wZTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdGlmICggcGFyZW50Lmxlbmd0aCApIHtcblx0XHRcdFx0XHRwYXJlbnRJbnN0YW5jZSA9ICQoIHBhcmVudFsgMCBdICkuZHJvcHBhYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRcdFx0XHRwYXJlbnRJbnN0YW5jZS5ncmVlZHlDaGlsZCA9ICggYyA9PT0gXCJpc292ZXJcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlIGp1c3QgbW92ZWQgaW50byBhIGdyZWVkeSBjaGlsZFxuXHRcdFx0aWYgKCBwYXJlbnRJbnN0YW5jZSAmJiBjID09PSBcImlzb3ZlclwiICkge1xuXHRcdFx0XHRwYXJlbnRJbnN0YW5jZS5pc292ZXIgPSBmYWxzZTtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuaXNvdXQgPSB0cnVlO1xuXHRcdFx0XHRwYXJlbnRJbnN0YW5jZS5fb3V0LmNhbGwoIHBhcmVudEluc3RhbmNlLCBldmVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzWyBjIF0gPSB0cnVlO1xuXHRcdFx0dGhpc1sgYyA9PT0gXCJpc291dFwiID8gXCJpc292ZXJcIiA6IFwiaXNvdXRcIiBdID0gZmFsc2U7XG5cdFx0XHR0aGlzWyBjID09PSBcImlzb3ZlclwiID8gXCJfb3ZlclwiIDogXCJfb3V0XCIgXS5jYWxsKCB0aGlzLCBldmVudCApO1xuXG5cdFx0XHQvLyBXZSBqdXN0IG1vdmVkIG91dCBvZiBhIGdyZWVkeSBjaGlsZFxuXHRcdFx0aWYgKCBwYXJlbnRJbnN0YW5jZSAmJiBjID09PSBcImlzb3V0XCIgKSB7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLmlzb3V0ID0gZmFsc2U7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLmlzb3ZlciA9IHRydWU7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLl9vdmVyLmNhbGwoIHBhcmVudEluc3RhbmNlLCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9LFxuXHRkcmFnU3RvcDogZnVuY3Rpb24oIGRyYWdnYWJsZSwgZXZlbnQgKSB7XG5cdFx0ZHJhZ2dhYmxlLmVsZW1lbnQucGFyZW50c1VudGlsKCBcImJvZHlcIiApLm9mZiggXCJzY3JvbGwuZHJvcHBhYmxlXCIgKTtcblxuXHRcdC8vIENhbGwgcHJlcGFyZU9mZnNldHMgb25lIGZpbmFsIHRpbWUgc2luY2UgSUUgZG9lcyBub3QgZmlyZSByZXR1cm4gc2Nyb2xsIGV2ZW50cyB3aGVuXG5cdFx0Ly8gb3ZlcmZsb3cgd2FzIGNhdXNlZCBieSBkcmFnIChzZWUgIzUwMDMpXG5cdFx0aWYgKCAhZHJhZ2dhYmxlLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9ucyApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCBkcmFnZ2FibGUsIGV2ZW50ICk7XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBERVBSRUNBVEVEXG4vLyBUT0RPOiBzd2l0Y2ggcmV0dXJuIGJhY2sgdG8gd2lkZ2V0IGRlY2xhcmF0aW9uIGF0IHRvcCBvZiBmaWxlIHdoZW4gdGhpcyBpcyByZW1vdmVkXG5pZiAoICQudWlCYWNrQ29tcGF0ICE9PSBmYWxzZSApIHtcblxuXHQvLyBCYWNrY29tcGF0IGZvciBhY3RpdmVDbGFzcyBhbmQgaG92ZXJDbGFzcyBvcHRpb25zXG5cdCQud2lkZ2V0KCBcInVpLmRyb3BwYWJsZVwiLCAkLnVpLmRyb3BwYWJsZSwge1xuXHRcdG9wdGlvbnM6IHtcblx0XHRcdGhvdmVyQ2xhc3M6IGZhbHNlLFxuXHRcdFx0YWN0aXZlQ2xhc3M6IGZhbHNlXG5cdFx0fSxcblx0XHRfYWRkQWN0aXZlQ2xhc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fc3VwZXIoKTtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3JlbW92ZUFjdGl2ZUNsYXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3N1cGVyKCk7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdF9hZGRIb3ZlckNsYXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3N1cGVyKCk7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfcmVtb3ZlSG92ZXJDbGFzczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9zdXBlcigpO1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG52YXIgd2lkZ2V0c0Ryb3BwYWJsZSA9ICQudWkuZHJvcHBhYmxlO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFByb2dyZXNzYmFyIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBQcm9ncmVzc2JhclxuLy8+Pmdyb3VwOiBXaWRnZXRzXG4vLyBqc2NzOmRpc2FibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kZXNjcmlwdGlvbjogRGlzcGxheXMgYSBzdGF0dXMgaW5kaWNhdG9yIGZvciBsb2FkaW5nIHN0YXRlLCBzdGFuZGFyZCBwZXJjZW50YWdlLCBhbmQgb3RoZXIgcHJvZ3Jlc3MgaW5kaWNhdG9ycy5cbi8vIGpzY3M6ZW5hYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcHJvZ3Jlc3NiYXIvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vcHJvZ3Jlc3NiYXIvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9wcm9ncmVzc2Jhci5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG5cblxudmFyIHdpZGdldHNQcm9ncmVzc2JhciA9ICQud2lkZ2V0KCBcInVpLnByb2dyZXNzYmFyXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0b3B0aW9uczoge1xuXHRcdGNsYXNzZXM6IHtcblx0XHRcdFwidWktcHJvZ3Jlc3NiYXJcIjogXCJ1aS1jb3JuZXItYWxsXCIsXG5cdFx0XHRcInVpLXByb2dyZXNzYmFyLXZhbHVlXCI6IFwidWktY29ybmVyLWxlZnRcIixcblx0XHRcdFwidWktcHJvZ3Jlc3NiYXItY29tcGxldGVcIjogXCJ1aS1jb3JuZXItcmlnaHRcIlxuXHRcdH0sXG5cdFx0bWF4OiAxMDAsXG5cdFx0dmFsdWU6IDAsXG5cblx0XHRjaGFuZ2U6IG51bGwsXG5cdFx0Y29tcGxldGU6IG51bGxcblx0fSxcblxuXHRtaW46IDAsXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBDb25zdHJhaW4gaW5pdGlhbCB2YWx1ZVxuXHRcdHRoaXMub2xkVmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl9jb25zdHJhaW5lZFZhbHVlKCk7XG5cblx0XHR0aGlzLmVsZW1lbnQuYXR0cigge1xuXG5cdFx0XHQvLyBPbmx5IHNldCBzdGF0aWMgdmFsdWVzOyBhcmlhLXZhbHVlbm93IGFuZCBhcmlhLXZhbHVlbWF4IGFyZVxuXHRcdFx0Ly8gc2V0IGluc2lkZSBfcmVmcmVzaFZhbHVlKClcblx0XHRcdHJvbGU6IFwicHJvZ3Jlc3NiYXJcIixcblx0XHRcdFwiYXJpYS12YWx1ZW1pblwiOiB0aGlzLm1pblxuXHRcdH0gKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1wcm9ncmVzc2JhclwiLCBcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiICk7XG5cblx0XHR0aGlzLnZhbHVlRGl2ID0gJCggXCI8ZGl2PlwiICkuYXBwZW5kVG8oIHRoaXMuZWxlbWVudCApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnZhbHVlRGl2LCBcInVpLXByb2dyZXNzYmFyLXZhbHVlXCIsIFwidWktd2lkZ2V0LWhlYWRlclwiICk7XG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcInJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3dcIiApO1xuXG5cdFx0dGhpcy52YWx1ZURpdi5yZW1vdmUoKTtcblx0fSxcblxuXHR2YWx1ZTogZnVuY3Rpb24oIG5ld1ZhbHVlICkge1xuXHRcdGlmICggbmV3VmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fY29uc3RyYWluZWRWYWx1ZSggbmV3VmFsdWUgKTtcblx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0fSxcblxuXHRfY29uc3RyYWluZWRWYWx1ZTogZnVuY3Rpb24oIG5ld1ZhbHVlICkge1xuXHRcdGlmICggbmV3VmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdG5ld1ZhbHVlID0gdGhpcy5vcHRpb25zLnZhbHVlO1xuXHRcdH1cblxuXHRcdHRoaXMuaW5kZXRlcm1pbmF0ZSA9IG5ld1ZhbHVlID09PSBmYWxzZTtcblxuXHRcdC8vIFNhbml0aXplIHZhbHVlXG5cdFx0aWYgKCB0eXBlb2YgbmV3VmFsdWUgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRuZXdWYWx1ZSA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZSA/IGZhbHNlIDpcblx0XHRcdE1hdGgubWluKCB0aGlzLm9wdGlvbnMubWF4LCBNYXRoLm1heCggdGhpcy5taW4sIG5ld1ZhbHVlICkgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBFbnN1cmUgXCJ2YWx1ZVwiIG9wdGlvbiBpcyBzZXQgYWZ0ZXIgb3RoZXIgdmFsdWVzIChsaWtlIG1heClcblx0XHR2YXIgdmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuXHRcdGRlbGV0ZSBvcHRpb25zLnZhbHVlO1xuXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcblxuXHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoIHZhbHVlICk7XG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwibWF4XCIgKSB7XG5cblx0XHRcdC8vIERvbid0IGFsbG93IGEgbWF4IGxlc3MgdGhhbiBtaW5cblx0XHRcdHZhbHVlID0gTWF0aC5tYXgoIHRoaXMubWluLCB2YWx1ZSApO1xuXHRcdH1cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25EaXNhYmxlZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCB2YWx1ZSApO1xuXG5cdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCB2YWx1ZSApO1xuXHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCBudWxsLCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblx0fSxcblxuXHRfcGVyY2VudGFnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZSA/XG5cdFx0XHQxMDAgOlxuXHRcdFx0MTAwICogKCB0aGlzLm9wdGlvbnMudmFsdWUgLSB0aGlzLm1pbiApIC8gKCB0aGlzLm9wdGlvbnMubWF4IC0gdGhpcy5taW4gKTtcblx0fSxcblxuXHRfcmVmcmVzaFZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUsXG5cdFx0XHRwZXJjZW50YWdlID0gdGhpcy5fcGVyY2VudGFnZSgpO1xuXG5cdFx0dGhpcy52YWx1ZURpdlxuXHRcdFx0LnRvZ2dsZSggdGhpcy5pbmRldGVybWluYXRlIHx8IHZhbHVlID4gdGhpcy5taW4gKVxuXHRcdFx0LndpZHRoKCBwZXJjZW50YWdlLnRvRml4ZWQoIDAgKSArIFwiJVwiICk7XG5cblx0XHR0aGlzXG5cdFx0XHQuX3RvZ2dsZUNsYXNzKCB0aGlzLnZhbHVlRGl2LCBcInVpLXByb2dyZXNzYmFyLWNvbXBsZXRlXCIsIG51bGwsXG5cdFx0XHRcdHZhbHVlID09PSB0aGlzLm9wdGlvbnMubWF4IClcblx0XHRcdC5fdG9nZ2xlQ2xhc3MoIFwidWktcHJvZ3Jlc3NiYXItaW5kZXRlcm1pbmF0ZVwiLCBudWxsLCB0aGlzLmluZGV0ZXJtaW5hdGUgKTtcblxuXHRcdGlmICggdGhpcy5pbmRldGVybWluYXRlICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwiYXJpYS12YWx1ZW5vd1wiICk7XG5cdFx0XHRpZiAoICF0aGlzLm92ZXJsYXlEaXYgKSB7XG5cdFx0XHRcdHRoaXMub3ZlcmxheURpdiA9ICQoIFwiPGRpdj5cIiApLmFwcGVuZFRvKCB0aGlzLnZhbHVlRGl2ICk7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLm92ZXJsYXlEaXYsIFwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheVwiICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZWxlbWVudC5hdHRyKCB7XG5cdFx0XHRcdFwiYXJpYS12YWx1ZW1heFwiOiB0aGlzLm9wdGlvbnMubWF4LFxuXHRcdFx0XHRcImFyaWEtdmFsdWVub3dcIjogdmFsdWVcblx0XHRcdH0gKTtcblx0XHRcdGlmICggdGhpcy5vdmVybGF5RGl2ICkge1xuXHRcdFx0XHR0aGlzLm92ZXJsYXlEaXYucmVtb3ZlKCk7XG5cdFx0XHRcdHRoaXMub3ZlcmxheURpdiA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9sZFZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdHRoaXMub2xkVmFsdWUgPSB2YWx1ZTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIgKTtcblx0XHR9XG5cdFx0aWYgKCB2YWx1ZSA9PT0gdGhpcy5vcHRpb25zLm1heCApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY29tcGxldGVcIiApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNlbGVjdGFibGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNlbGVjdGFibGVcbi8vPj5ncm91cDogSW50ZXJhY3Rpb25zXG4vLz4+ZGVzY3JpcHRpb246IEFsbG93cyBncm91cHMgb2YgZWxlbWVudHMgdG8gYmUgc2VsZWN0ZWQgd2l0aCB0aGUgbW91c2UuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2VsZWN0YWJsZS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9zZWxlY3RhYmxlL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL3NlbGVjdGFibGUuY3NzXG5cblxuXG52YXIgd2lkZ2V0c1NlbGVjdGFibGUgPSAkLndpZGdldCggXCJ1aS5zZWxlY3RhYmxlXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBcImJvZHlcIixcblx0XHRhdXRvUmVmcmVzaDogdHJ1ZSxcblx0XHRkaXN0YW5jZTogMCxcblx0XHRmaWx0ZXI6IFwiKlwiLFxuXHRcdHRvbGVyYW5jZTogXCJ0b3VjaFwiLFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0c2VsZWN0ZWQ6IG51bGwsXG5cdFx0c2VsZWN0aW5nOiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGwsXG5cdFx0dW5zZWxlY3RlZDogbnVsbCxcblx0XHR1bnNlbGVjdGluZzogbnVsbFxuXHR9LFxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1zZWxlY3RhYmxlXCIgKTtcblxuXHRcdHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ2FjaGUgc2VsZWN0ZWUgY2hpbGRyZW4gYmFzZWQgb24gZmlsdGVyXG5cdFx0dGhpcy5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGF0LmVsZW1lbnRQb3MgPSAkKCB0aGF0LmVsZW1lbnRbIDAgXSApLm9mZnNldCgpO1xuXHRcdFx0dGhhdC5zZWxlY3RlZXMgPSAkKCB0aGF0Lm9wdGlvbnMuZmlsdGVyLCB0aGF0LmVsZW1lbnRbIDAgXSApO1xuXHRcdFx0dGhhdC5fYWRkQ2xhc3MoIHRoYXQuc2VsZWN0ZWVzLCBcInVpLXNlbGVjdGVlXCIgKTtcblx0XHRcdHRoYXQuc2VsZWN0ZWVzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0c2VsZWN0ZWVPZmZzZXQgPSAkdGhpcy5vZmZzZXQoKSxcblx0XHRcdFx0XHRwb3MgPSB7XG5cdFx0XHRcdFx0XHRsZWZ0OiBzZWxlY3RlZU9mZnNldC5sZWZ0IC0gdGhhdC5lbGVtZW50UG9zLmxlZnQsXG5cdFx0XHRcdFx0XHR0b3A6IHNlbGVjdGVlT2Zmc2V0LnRvcCAtIHRoYXQuZWxlbWVudFBvcy50b3Bcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHQkLmRhdGEoIHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIsIHtcblx0XHRcdFx0XHRlbGVtZW50OiB0aGlzLFxuXHRcdFx0XHRcdCRlbGVtZW50OiAkdGhpcyxcblx0XHRcdFx0XHRsZWZ0OiBwb3MubGVmdCxcblx0XHRcdFx0XHR0b3A6IHBvcy50b3AsXG5cdFx0XHRcdFx0cmlnaHQ6IHBvcy5sZWZ0ICsgJHRoaXMub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHRcdGJvdHRvbTogcG9zLnRvcCArICR0aGlzLm91dGVySGVpZ2h0KCksXG5cdFx0XHRcdFx0c3RhcnRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWQ6ICR0aGlzLmhhc0NsYXNzKCBcInVpLXNlbGVjdGVkXCIgKSxcblx0XHRcdFx0XHRzZWxlY3Rpbmc6ICR0aGlzLmhhc0NsYXNzKCBcInVpLXNlbGVjdGluZ1wiICksXG5cdFx0XHRcdFx0dW5zZWxlY3Rpbmc6ICR0aGlzLmhhc0NsYXNzKCBcInVpLXVuc2VsZWN0aW5nXCIgKVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9ICk7XG5cdFx0fTtcblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdHRoaXMuX21vdXNlSW5pdCgpO1xuXG5cdFx0dGhpcy5oZWxwZXIgPSAkKCBcIjxkaXY+XCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5oZWxwZXIsIFwidWktc2VsZWN0YWJsZS1oZWxwZXJcIiApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnNlbGVjdGVlcy5yZW1vdmVEYXRhKCBcInNlbGVjdGFibGUtaXRlbVwiICk7XG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0dGhpcy5vcG9zID0gWyBldmVudC5wYWdlWCwgZXZlbnQucGFnZVkgXTtcblx0XHR0aGlzLmVsZW1lbnRQb3MgPSAkKCB0aGlzLmVsZW1lbnRbIDAgXSApLm9mZnNldCgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5zZWxlY3RlZXMgPSAkKCBvcHRpb25zLmZpbHRlciwgdGhpcy5lbGVtZW50WyAwIF0gKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwic3RhcnRcIiwgZXZlbnQgKTtcblxuXHRcdCQoIG9wdGlvbnMuYXBwZW5kVG8gKS5hcHBlbmQoIHRoaXMuaGVscGVyICk7XG5cblx0XHQvLyBwb3NpdGlvbiBoZWxwZXIgKGxhc3NvKVxuXHRcdHRoaXMuaGVscGVyLmNzcygge1xuXHRcdFx0XCJsZWZ0XCI6IGV2ZW50LnBhZ2VYLFxuXHRcdFx0XCJ0b3BcIjogZXZlbnQucGFnZVksXG5cdFx0XHRcIndpZHRoXCI6IDAsXG5cdFx0XHRcImhlaWdodFwiOiAwXG5cdFx0fSApO1xuXG5cdFx0aWYgKCBvcHRpb25zLmF1dG9SZWZyZXNoICkge1xuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZWxlY3RlZXMuZmlsdGVyKCBcIi51aS1zZWxlY3RlZFwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWUgPSAkLmRhdGEoIHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIgKTtcblx0XHRcdHNlbGVjdGVlLnN0YXJ0c2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0aWYgKCAhZXZlbnQubWV0YUtleSAmJiAhZXZlbnQuY3RybEtleSApIHtcblx0XHRcdFx0dGhhdC5fcmVtb3ZlQ2xhc3MoIHNlbGVjdGVlLiRlbGVtZW50LCBcInVpLXNlbGVjdGVkXCIgKTtcblx0XHRcdFx0c2VsZWN0ZWUuc2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIHNlbGVjdGVlLiRlbGVtZW50LCBcInVpLXVuc2VsZWN0aW5nXCIgKTtcblx0XHRcdFx0c2VsZWN0ZWUudW5zZWxlY3RpbmcgPSB0cnVlO1xuXG5cdFx0XHRcdC8vIHNlbGVjdGFibGUgVU5TRUxFQ1RJTkcgY2FsbGJhY2tcblx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJ1bnNlbGVjdGluZ1wiLCBldmVudCwge1xuXHRcdFx0XHRcdHVuc2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHQkKCBldmVudC50YXJnZXQgKS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRvU2VsZWN0LFxuXHRcdFx0XHRzZWxlY3RlZSA9ICQuZGF0YSggdGhpcywgXCJzZWxlY3RhYmxlLWl0ZW1cIiApO1xuXHRcdFx0aWYgKCBzZWxlY3RlZSApIHtcblx0XHRcdFx0ZG9TZWxlY3QgPSAoICFldmVudC5tZXRhS2V5ICYmICFldmVudC5jdHJsS2V5ICkgfHxcblx0XHRcdFx0XHQhc2VsZWN0ZWUuJGVsZW1lbnQuaGFzQ2xhc3MoIFwidWktc2VsZWN0ZWRcIiApO1xuXHRcdFx0XHR0aGF0Ll9yZW1vdmVDbGFzcyggc2VsZWN0ZWUuJGVsZW1lbnQsIGRvU2VsZWN0ID8gXCJ1aS11bnNlbGVjdGluZ1wiIDogXCJ1aS1zZWxlY3RlZFwiIClcblx0XHRcdFx0XHQuX2FkZENsYXNzKCBzZWxlY3RlZS4kZWxlbWVudCwgZG9TZWxlY3QgPyBcInVpLXNlbGVjdGluZ1wiIDogXCJ1aS11bnNlbGVjdGluZ1wiICk7XG5cdFx0XHRcdHNlbGVjdGVlLnVuc2VsZWN0aW5nID0gIWRvU2VsZWN0O1xuXHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSBkb1NlbGVjdDtcblx0XHRcdFx0c2VsZWN0ZWUuc2VsZWN0ZWQgPSBkb1NlbGVjdDtcblxuXHRcdFx0XHQvLyBzZWxlY3RhYmxlIChVTilTRUxFQ1RJTkcgY2FsbGJhY2tcblx0XHRcdFx0aWYgKCBkb1NlbGVjdCApIHtcblx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInNlbGVjdGluZ1wiLCBldmVudCwge1xuXHRcdFx0XHRcdFx0c2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwidW5zZWxlY3RpbmdcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRcdHVuc2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSxcblxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHR0aGlzLmRyYWdnZWQgPSB0cnVlO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHRtcCxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdHgxID0gdGhpcy5vcG9zWyAwIF0sXG5cdFx0XHR5MSA9IHRoaXMub3Bvc1sgMSBdLFxuXHRcdFx0eDIgPSBldmVudC5wYWdlWCxcblx0XHRcdHkyID0gZXZlbnQucGFnZVk7XG5cblx0XHRpZiAoIHgxID4geDIgKSB7IHRtcCA9IHgyOyB4MiA9IHgxOyB4MSA9IHRtcDsgfVxuXHRcdGlmICggeTEgPiB5MiApIHsgdG1wID0geTI7IHkyID0geTE7IHkxID0gdG1wOyB9XG5cdFx0dGhpcy5oZWxwZXIuY3NzKCB7IGxlZnQ6IHgxLCB0b3A6IHkxLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxIH0gKTtcblxuXHRcdHRoaXMuc2VsZWN0ZWVzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGVjdGVlID0gJC5kYXRhKCB0aGlzLCBcInNlbGVjdGFibGUtaXRlbVwiICksXG5cdFx0XHRcdGhpdCA9IGZhbHNlLFxuXHRcdFx0XHRvZmZzZXQgPSB7fTtcblxuXHRcdFx0Ly9wcmV2ZW50IGhlbHBlciBmcm9tIGJlaW5nIHNlbGVjdGVkIGlmIGFwcGVuZFRvOiBzZWxlY3RhYmxlXG5cdFx0XHRpZiAoICFzZWxlY3RlZSB8fCBzZWxlY3RlZS5lbGVtZW50ID09PSB0aGF0LmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRvZmZzZXQubGVmdCAgID0gc2VsZWN0ZWUubGVmdCAgICsgdGhhdC5lbGVtZW50UG9zLmxlZnQ7XG5cdFx0XHRvZmZzZXQucmlnaHQgID0gc2VsZWN0ZWUucmlnaHQgICsgdGhhdC5lbGVtZW50UG9zLmxlZnQ7XG5cdFx0XHRvZmZzZXQudG9wICAgID0gc2VsZWN0ZWUudG9wICAgICsgdGhhdC5lbGVtZW50UG9zLnRvcDtcblx0XHRcdG9mZnNldC5ib3R0b20gPSBzZWxlY3RlZS5ib3R0b20gKyB0aGF0LmVsZW1lbnRQb3MudG9wO1xuXG5cdFx0XHRpZiAoIG9wdGlvbnMudG9sZXJhbmNlID09PSBcInRvdWNoXCIgKSB7XG5cdFx0XHRcdGhpdCA9ICggISggb2Zmc2V0LmxlZnQgPiB4MiB8fCBvZmZzZXQucmlnaHQgPCB4MSB8fCBvZmZzZXQudG9wID4geTIgfHxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LmJvdHRvbSA8IHkxICkgKTtcblx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMudG9sZXJhbmNlID09PSBcImZpdFwiICkge1xuXHRcdFx0XHRoaXQgPSAoIG9mZnNldC5sZWZ0ID4geDEgJiYgb2Zmc2V0LnJpZ2h0IDwgeDIgJiYgb2Zmc2V0LnRvcCA+IHkxICYmXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldC5ib3R0b20gPCB5MiApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhpdCApIHtcblxuXHRcdFx0XHQvLyBTRUxFQ1Rcblx0XHRcdFx0aWYgKCBzZWxlY3RlZS5zZWxlY3RlZCApIHtcblx0XHRcdFx0XHR0aGF0Ll9yZW1vdmVDbGFzcyggc2VsZWN0ZWUuJGVsZW1lbnQsIFwidWktc2VsZWN0ZWRcIiApO1xuXHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBzZWxlY3RlZS51bnNlbGVjdGluZyApIHtcblx0XHRcdFx0XHR0aGF0Ll9yZW1vdmVDbGFzcyggc2VsZWN0ZWUuJGVsZW1lbnQsIFwidWktdW5zZWxlY3RpbmdcIiApO1xuXHRcdFx0XHRcdHNlbGVjdGVlLnVuc2VsZWN0aW5nID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhc2VsZWN0ZWUuc2VsZWN0aW5nICkge1xuXHRcdFx0XHRcdHRoYXQuX2FkZENsYXNzKCBzZWxlY3RlZS4kZWxlbWVudCwgXCJ1aS1zZWxlY3RpbmdcIiApO1xuXHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGluZyA9IHRydWU7XG5cblx0XHRcdFx0XHQvLyBzZWxlY3RhYmxlIFNFTEVDVElORyBjYWxsYmFja1xuXHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwic2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0XHRzZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gVU5TRUxFQ1Rcblx0XHRcdFx0aWYgKCBzZWxlY3RlZS5zZWxlY3RpbmcgKSB7XG5cdFx0XHRcdFx0aWYgKCAoIGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSApICYmIHNlbGVjdGVlLnN0YXJ0c2VsZWN0ZWQgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9yZW1vdmVDbGFzcyggc2VsZWN0ZWUuJGVsZW1lbnQsIFwidWktc2VsZWN0aW5nXCIgKTtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIHNlbGVjdGVlLiRlbGVtZW50LCBcInVpLXNlbGVjdGVkXCIgKTtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhhdC5fcmVtb3ZlQ2xhc3MoIHNlbGVjdGVlLiRlbGVtZW50LCBcInVpLXNlbGVjdGluZ1wiICk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGlmICggc2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5fYWRkQ2xhc3MoIHNlbGVjdGVlLiRlbGVtZW50LCBcInVpLXVuc2VsZWN0aW5nXCIgKTtcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWUudW5zZWxlY3RpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBzZWxlY3RhYmxlIFVOU0VMRUNUSU5HIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInVuc2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0XHRcdHVuc2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggc2VsZWN0ZWUuc2VsZWN0ZWQgKSB7XG5cdFx0XHRcdFx0aWYgKCAhZXZlbnQubWV0YUtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhc2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCApIHtcblx0XHRcdFx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCBzZWxlY3RlZS4kZWxlbWVudCwgXCJ1aS1zZWxlY3RlZFwiICk7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RlZCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHR0aGF0Ll9hZGRDbGFzcyggc2VsZWN0ZWUuJGVsZW1lbnQsIFwidWktdW5zZWxlY3RpbmdcIiApO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUudW5zZWxlY3RpbmcgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHQvLyBzZWxlY3RhYmxlIFVOU0VMRUNUSU5HIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInVuc2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0XHRcdHVuc2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLmRyYWdnZWQgPSBmYWxzZTtcblxuXHRcdCQoIFwiLnVpLXVuc2VsZWN0aW5nXCIsIHRoaXMuZWxlbWVudFsgMCBdICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWUgPSAkLmRhdGEoIHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIgKTtcblx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCBzZWxlY3RlZS4kZWxlbWVudCwgXCJ1aS11bnNlbGVjdGluZ1wiICk7XG5cdFx0XHRzZWxlY3RlZS51bnNlbGVjdGluZyA9IGZhbHNlO1xuXHRcdFx0c2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0dGhhdC5fdHJpZ2dlciggXCJ1bnNlbGVjdGVkXCIsIGV2ZW50LCB7XG5cdFx0XHRcdHVuc2VsZWN0ZWQ6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdFx0JCggXCIudWktc2VsZWN0aW5nXCIsIHRoaXMuZWxlbWVudFsgMCBdICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWUgPSAkLmRhdGEoIHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIgKTtcblx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCBzZWxlY3RlZS4kZWxlbWVudCwgXCJ1aS1zZWxlY3RpbmdcIiApXG5cdFx0XHRcdC5fYWRkQ2xhc3MoIHNlbGVjdGVlLiRlbGVtZW50LCBcInVpLXNlbGVjdGVkXCIgKTtcblx0XHRcdHNlbGVjdGVlLnNlbGVjdGluZyA9IGZhbHNlO1xuXHRcdFx0c2VsZWN0ZWUuc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0c2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCA9IHRydWU7XG5cdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInNlbGVjdGVkXCIsIGV2ZW50LCB7XG5cdFx0XHRcdHNlbGVjdGVkOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwic3RvcFwiLCBldmVudCApO1xuXG5cdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNlbGVjdG1lbnUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNlbGVjdG1lbnVcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZGVzY3JpcHRpb246IER1cGxpY2F0ZXMgYW5kIGV4dGVuZHMgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgYSBuYXRpdmUgSFRNTCBzZWxlY3QgZWxlbWVudCwgYWxsb3dpbmcgaXQgdG8gYmUgY3VzdG9taXphYmxlIGluIGJlaGF2aW9yIGFuZCBhcHBlYXJhbmNlIGZhciBiZXlvbmQgdGhlIGxpbWl0YXRpb25zIG9mIGEgbmF0aXZlIHNlbGVjdC5cbi8vIGpzY3M6ZW5hYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2VsZWN0bWVudS9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9zZWxlY3RtZW51L1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NvcmUuY3NzXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2Uvc2VsZWN0bWVudS5jc3MsIC4uLy4uL3RoZW1lcy9iYXNlL2J1dHRvbi5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG5cblxudmFyIHdpZGdldHNTZWxlY3RtZW51ID0gJC53aWRnZXQoIFwidWkuc2VsZWN0bWVudVwiLCBbICQudWkuZm9ybVJlc2V0TWl4aW4sIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPHNlbGVjdD5cIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBudWxsLFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdFwidWktc2VsZWN0bWVudS1idXR0b24tb3BlblwiOiBcInVpLWNvcm5lci10b3BcIixcblx0XHRcdFwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkXCI6IFwidWktY29ybmVyLWFsbFwiXG5cdFx0fSxcblx0XHRkaXNhYmxlZDogbnVsbCxcblx0XHRpY29uczoge1xuXHRcdFx0YnV0dG9uOiBcInVpLWljb24tdHJpYW5nbGUtMS1zXCJcblx0XHR9LFxuXHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRteTogXCJsZWZ0IHRvcFwiLFxuXHRcdFx0YXQ6IFwibGVmdCBib3R0b21cIixcblx0XHRcdGNvbGxpc2lvbjogXCJub25lXCJcblx0XHR9LFxuXHRcdHdpZHRoOiBmYWxzZSxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRjbG9zZTogbnVsbCxcblx0XHRmb2N1czogbnVsbCxcblx0XHRvcGVuOiBudWxsLFxuXHRcdHNlbGVjdDogbnVsbFxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxlY3RtZW51SWQgPSB0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCBcImlkXCIgKTtcblx0XHR0aGlzLmlkcyA9IHtcblx0XHRcdGVsZW1lbnQ6IHNlbGVjdG1lbnVJZCxcblx0XHRcdGJ1dHRvbjogc2VsZWN0bWVudUlkICsgXCItYnV0dG9uXCIsXG5cdFx0XHRtZW51OiBzZWxlY3RtZW51SWQgKyBcIi1tZW51XCJcblx0XHR9O1xuXG5cdFx0dGhpcy5fZHJhd0J1dHRvbigpO1xuXHRcdHRoaXMuX2RyYXdNZW51KCk7XG5cdFx0dGhpcy5fYmluZEZvcm1SZXNldEhhbmRsZXIoKTtcblxuXHRcdHRoaXMuX3JlbmRlcmVkID0gZmFsc2U7XG5cdFx0dGhpcy5tZW51SXRlbXMgPSAkKCk7XG5cdH0sXG5cblx0X2RyYXdCdXR0b246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpY29uLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRpdGVtID0gdGhpcy5fcGFyc2VPcHRpb24oXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIm9wdGlvbjpzZWxlY3RlZFwiICksXG5cdFx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLnNlbGVjdGVkSW5kZXhcblx0XHRcdCk7XG5cblx0XHQvLyBBc3NvY2lhdGUgZXhpc3RpbmcgbGFiZWwgd2l0aCB0aGUgbmV3IGJ1dHRvblxuXHRcdHRoaXMubGFiZWxzID0gdGhpcy5lbGVtZW50LmxhYmVscygpLmF0dHIoIFwiZm9yXCIsIHRoaXMuaWRzLmJ1dHRvbiApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmxhYmVscywge1xuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5idXR0b24uZm9jdXMoKTtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHQvLyBIaWRlIG9yaWdpbmFsIHNlbGVjdCBlbGVtZW50XG5cdFx0dGhpcy5lbGVtZW50LmhpZGUoKTtcblxuXHRcdC8vIENyZWF0ZSBidXR0b25cblx0XHR0aGlzLmJ1dHRvbiA9ICQoIFwiPHNwYW4+XCIsIHtcblx0XHRcdHRhYmluZGV4OiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPyAtMSA6IDAsXG5cdFx0XHRpZDogdGhpcy5pZHMuYnV0dG9uLFxuXHRcdFx0cm9sZTogXCJjb21ib2JveFwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFwiYXJpYS1hdXRvY29tcGxldGVcIjogXCJsaXN0XCIsXG5cdFx0XHRcImFyaWEtb3duc1wiOiB0aGlzLmlkcy5tZW51LFxuXHRcdFx0XCJhcmlhLWhhc3BvcHVwXCI6IFwidHJ1ZVwiLFxuXHRcdFx0dGl0bGU6IHRoaXMuZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKVxuXHRcdH0gKVxuXHRcdFx0Lmluc2VydEFmdGVyKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmJ1dHRvbiwgXCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWRcIixcblx0XHRcdFwidWktYnV0dG9uIHVpLXdpZGdldFwiICk7XG5cblx0XHRpY29uID0gJCggXCI8c3Bhbj5cIiApLmFwcGVuZFRvKCB0aGlzLmJ1dHRvbiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBpY29uLCBcInVpLXNlbGVjdG1lbnUtaWNvblwiLCBcInVpLWljb24gXCIgKyB0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uICk7XG5cdFx0dGhpcy5idXR0b25JdGVtID0gdGhpcy5fcmVuZGVyQnV0dG9uSXRlbSggaXRlbSApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuYnV0dG9uICk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy53aWR0aCAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLl9yZXNpemVCdXR0b24oKTtcblx0XHR9XG5cblx0XHR0aGlzLl9vbiggdGhpcy5idXR0b24sIHRoaXMuX2J1dHRvbkV2ZW50cyApO1xuXHRcdHRoaXMuYnV0dG9uLm9uZSggXCJmb2N1c2luXCIsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEZWxheSByZW5kZXJpbmcgdGhlIG1lbnUgaXRlbXMgdW50aWwgdGhlIGJ1dHRvbiByZWNlaXZlcyBmb2N1cy5cblx0XHRcdC8vIFRoZSBtZW51IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW5kZXJlZCB2aWEgYSBwcm9ncmFtbWF0aWMgb3Blbi5cblx0XHRcdGlmICggIXRoYXQuX3JlbmRlcmVkICkge1xuXHRcdFx0XHR0aGF0Ll9yZWZyZXNoTWVudSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfZHJhd01lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdC8vIENyZWF0ZSBtZW51XG5cdFx0dGhpcy5tZW51ID0gJCggXCI8dWw+XCIsIHtcblx0XHRcdFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG5cdFx0XHRcImFyaWEtbGFiZWxsZWRieVwiOiB0aGlzLmlkcy5idXR0b24sXG5cdFx0XHRpZDogdGhpcy5pZHMubWVudVxuXHRcdH0gKTtcblxuXHRcdC8vIFdyYXAgbWVudVxuXHRcdHRoaXMubWVudVdyYXAgPSAkKCBcIjxkaXY+XCIgKS5hcHBlbmQoIHRoaXMubWVudSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLm1lbnVXcmFwLCBcInVpLXNlbGVjdG1lbnUtbWVudVwiLCBcInVpLWZyb250XCIgKTtcblx0XHR0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cblx0XHQvLyBJbml0aWFsaXplIG1lbnUgd2lkZ2V0XG5cdFx0dGhpcy5tZW51SW5zdGFuY2UgPSB0aGlzLm1lbnVcblx0XHRcdC5tZW51KCB7XG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcInVpLW1lbnVcIjogXCJ1aS1jb3JuZXItYm90dG9tXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0cm9sZTogXCJsaXN0Ym94XCIsXG5cdFx0XHRcdHNlbGVjdDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGl0ZW0gd2FzIHNlbGVjdGVkIHZpYSBhIGNsaWNrLCB0aGUgdGV4dCBzZWxlY3Rpb25cblx0XHRcdFx0XHQvLyB3aWxsIGJlIGRlc3Ryb3llZCBpbiBJRVxuXHRcdFx0XHRcdHRoYXQuX3NldFNlbGVjdGlvbigpO1xuXG5cdFx0XHRcdFx0dGhhdC5fc2VsZWN0KCB1aS5pdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKSwgZXZlbnQgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0dmFyIGl0ZW0gPSB1aS5pdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKTtcblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgaW5pdGFsIGZvY3VzIGZyb20gZmlyaW5nIGFuZCBjaGVjayBpZiBpdHMgYSBuZXdseSBmb2N1c2VkIGl0ZW1cblx0XHRcdFx0XHRpZiAoIHRoYXQuZm9jdXNJbmRleCAhPSBudWxsICYmIGl0ZW0uaW5kZXggIT09IHRoYXQuZm9jdXNJbmRleCApIHtcblx0XHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiZm9jdXNcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cdFx0XHRcdFx0XHRpZiAoICF0aGF0LmlzT3BlbiApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5fc2VsZWN0KCBpdGVtLCBldmVudCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGF0LmZvY3VzSW5kZXggPSBpdGVtLmluZGV4O1xuXG5cdFx0XHRcdFx0dGhhdC5idXR0b24uYXR0ciggXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixcblx0XHRcdFx0XHRcdHRoYXQubWVudUl0ZW1zLmVxKCBpdGVtLmluZGV4ICkuYXR0ciggXCJpZFwiICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApXG5cdFx0XHQubWVudSggXCJpbnN0YW5jZVwiICk7XG5cblx0XHQvLyBEb24ndCBjbG9zZSB0aGUgbWVudSBvbiBtb3VzZWxlYXZlXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UuX29mZiggdGhpcy5tZW51LCBcIm1vdXNlbGVhdmVcIiApO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBtZW51J3MgY29sbGFwc2VBbGwgb24gZG9jdW1lbnQgY2xpY2tcblx0XHR0aGlzLm1lbnVJbnN0YW5jZS5fY2xvc2VPbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdFx0Ly8gU2VsZWN0cyBvZnRlbiBjb250YWluIGVtcHR5IGl0ZW1zLCBidXQgbmV2ZXIgY29udGFpbiBkaXZpZGVyc1xuXHRcdHRoaXMubWVudUluc3RhbmNlLl9pc0RpdmlkZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3JlZnJlc2hNZW51KCk7XG5cdFx0dGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKFxuXHRcdFx0dGhpcy5idXR0b25JdGVtID0gdGhpcy5fcmVuZGVyQnV0dG9uSXRlbShcblxuXHRcdFx0XHQvLyBGYWxsIGJhY2sgdG8gYW4gZW1wdHkgb2JqZWN0IGluIGNhc2UgdGhlcmUgYXJlIG5vIG9wdGlvbnNcblx0XHRcdFx0dGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkuZGF0YSggXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiApIHx8IHt9XG5cdFx0XHQpXG5cdFx0KTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy53aWR0aCA9PT0gbnVsbCApIHtcblx0XHRcdHRoaXMuX3Jlc2l6ZUJ1dHRvbigpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVmcmVzaE1lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpdGVtLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIm9wdGlvblwiICk7XG5cblx0XHR0aGlzLm1lbnUuZW1wdHkoKTtcblxuXHRcdHRoaXMuX3BhcnNlT3B0aW9ucyggb3B0aW9ucyApO1xuXHRcdHRoaXMuX3JlbmRlck1lbnUoIHRoaXMubWVudSwgdGhpcy5pdGVtcyApO1xuXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UucmVmcmVzaCgpO1xuXHRcdHRoaXMubWVudUl0ZW1zID0gdGhpcy5tZW51LmZpbmQoIFwibGlcIiApXG5cdFx0XHQubm90KCBcIi51aS1zZWxlY3RtZW51LW9wdGdyb3VwXCIgKVxuXHRcdFx0XHQuZmluZCggXCIudWktbWVudS1pdGVtLXdyYXBwZXJcIiApO1xuXG5cdFx0dGhpcy5fcmVuZGVyZWQgPSB0cnVlO1xuXG5cdFx0aWYgKCAhb3B0aW9ucy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXRlbSA9IHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpO1xuXG5cdFx0Ly8gVXBkYXRlIHRoZSBtZW51IHRvIGhhdmUgdGhlIGNvcnJlY3QgaXRlbSBmb2N1c2VkXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UuZm9jdXMoIG51bGwsIGl0ZW0gKTtcblx0XHR0aGlzLl9zZXRBcmlhKCBpdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKSApO1xuXG5cdFx0Ly8gU2V0IGRpc2FibGVkIHN0YXRlXG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcImRpc2FibGVkXCIsIHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIgKSApO1xuXHR9LFxuXG5cdG9wZW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSBtZW51IGlzIGJlaW5nIG9wZW5lZCwgcmVuZGVyIHRoZSBpdGVtc1xuXHRcdGlmICggIXRoaXMuX3JlbmRlcmVkICkge1xuXHRcdFx0dGhpcy5fcmVmcmVzaE1lbnUoKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBNZW51IGNsZWFycyBmb2N1cyBvbiBjbG9zZSwgcmVzZXQgZm9jdXMgdG8gc2VsZWN0ZWQgaXRlbVxuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMubWVudS5maW5kKCBcIi51aS1zdGF0ZS1hY3RpdmVcIiApLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHR0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyggbnVsbCwgdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkgKTtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgbm8gb3B0aW9ucywgZG9uJ3Qgb3BlbiB0aGUgbWVudVxuXHRcdGlmICggIXRoaXMubWVudUl0ZW1zLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmlzT3BlbiA9IHRydWU7XG5cdFx0dGhpcy5fdG9nZ2xlQXR0cigpO1xuXHRcdHRoaXMuX3Jlc2l6ZU1lbnUoKTtcblx0XHR0aGlzLl9wb3NpdGlvbigpO1xuXG5cdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHRoaXMuX2RvY3VtZW50Q2xpY2sgKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwib3BlblwiLCBldmVudCApO1xuXHR9LFxuXG5cdF9wb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5tZW51V3JhcC5wb3NpdGlvbiggJC5leHRlbmQoIHsgb2Y6IHRoaXMuYnV0dG9uIH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApICk7XG5cdH0sXG5cblx0Y2xvc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLmlzT3BlbiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmlzT3BlbiA9IGZhbHNlO1xuXHRcdHRoaXMuX3RvZ2dsZUF0dHIoKTtcblxuXHRcdHRoaXMucmFuZ2UgPSBudWxsO1xuXHRcdHRoaXMuX29mZiggdGhpcy5kb2N1bWVudCApO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJjbG9zZVwiLCBldmVudCApO1xuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnV0dG9uO1xuXHR9LFxuXG5cdG1lbnVXaWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1lbnU7XG5cdH0sXG5cblx0X3JlbmRlckJ1dHRvbkl0ZW06IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHZhciBidXR0b25JdGVtID0gJCggXCI8c3Bhbj5cIiApO1xuXG5cdFx0dGhpcy5fc2V0VGV4dCggYnV0dG9uSXRlbSwgaXRlbS5sYWJlbCApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBidXR0b25JdGVtLCBcInVpLXNlbGVjdG1lbnUtdGV4dFwiICk7XG5cblx0XHRyZXR1cm4gYnV0dG9uSXRlbTtcblx0fSxcblxuXHRfcmVuZGVyTWVudTogZnVuY3Rpb24oIHVsLCBpdGVtcyApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRjdXJyZW50T3B0Z3JvdXAgPSBcIlwiO1xuXG5cdFx0JC5lYWNoKCBpdGVtcywgZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdFx0dmFyIGxpO1xuXG5cdFx0XHRpZiAoIGl0ZW0ub3B0Z3JvdXAgIT09IGN1cnJlbnRPcHRncm91cCApIHtcblx0XHRcdFx0bGkgPSAkKCBcIjxsaT5cIiwge1xuXHRcdFx0XHRcdHRleHQ6IGl0ZW0ub3B0Z3JvdXBcblx0XHRcdFx0fSApO1xuXHRcdFx0XHR0aGF0Ll9hZGRDbGFzcyggbGksIFwidWktc2VsZWN0bWVudS1vcHRncm91cFwiLCBcInVpLW1lbnUtZGl2aWRlclwiICtcblx0XHRcdFx0XHQoIGl0ZW0uZWxlbWVudC5wYXJlbnQoIFwib3B0Z3JvdXBcIiApLnByb3AoIFwiZGlzYWJsZWRcIiApID9cblx0XHRcdFx0XHRcdFwiIHVpLXN0YXRlLWRpc2FibGVkXCIgOlxuXHRcdFx0XHRcdFx0XCJcIiApICk7XG5cblx0XHRcdFx0bGkuYXBwZW5kVG8oIHVsICk7XG5cblx0XHRcdFx0Y3VycmVudE9wdGdyb3VwID0gaXRlbS5vcHRncm91cDtcblx0XHRcdH1cblxuXHRcdFx0dGhhdC5fcmVuZGVySXRlbURhdGEoIHVsLCBpdGVtICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9yZW5kZXJJdGVtRGF0YTogZnVuY3Rpb24oIHVsLCBpdGVtICkge1xuXHRcdHJldHVybiB0aGlzLl9yZW5kZXJJdGVtKCB1bCwgaXRlbSApLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIsIGl0ZW0gKTtcblx0fSxcblxuXHRfcmVuZGVySXRlbTogZnVuY3Rpb24oIHVsLCBpdGVtICkge1xuXHRcdHZhciBsaSA9ICQoIFwiPGxpPlwiICksXG5cdFx0XHR3cmFwcGVyID0gJCggXCI8ZGl2PlwiLCB7XG5cdFx0XHRcdHRpdGxlOiBpdGVtLmVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiIClcblx0XHRcdH0gKTtcblxuXHRcdGlmICggaXRlbS5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX2FkZENsYXNzKCBsaSwgbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XG5cdFx0fVxuXHRcdHRoaXMuX3NldFRleHQoIHdyYXBwZXIsIGl0ZW0ubGFiZWwgKTtcblxuXHRcdHJldHVybiBsaS5hcHBlbmQoIHdyYXBwZXIgKS5hcHBlbmRUbyggdWwgKTtcblx0fSxcblxuXHRfc2V0VGV4dDogZnVuY3Rpb24oIGVsZW1lbnQsIHZhbHVlICkge1xuXHRcdGlmICggdmFsdWUgKSB7XG5cdFx0XHRlbGVtZW50LnRleHQoIHZhbHVlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQuaHRtbCggXCImIzE2MDtcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZXZlbnQgKSB7XG5cdFx0dmFyIGl0ZW0sIG5leHQsXG5cdFx0XHRmaWx0ZXIgPSBcIi51aS1tZW51LWl0ZW1cIjtcblxuXHRcdGlmICggdGhpcy5pc09wZW4gKSB7XG5cdFx0XHRpdGVtID0gdGhpcy5tZW51SXRlbXMuZXEoIHRoaXMuZm9jdXNJbmRleCApLnBhcmVudCggXCJsaVwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGl0ZW0gPSB0aGlzLm1lbnVJdGVtcy5lcSggdGhpcy5lbGVtZW50WyAwIF0uc2VsZWN0ZWRJbmRleCApLnBhcmVudCggXCJsaVwiICk7XG5cdFx0XHRmaWx0ZXIgKz0gXCI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZClcIjtcblx0XHR9XG5cblx0XHRpZiAoIGRpcmVjdGlvbiA9PT0gXCJmaXJzdFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsYXN0XCIgKSB7XG5cdFx0XHRuZXh0ID0gaXRlbVsgZGlyZWN0aW9uID09PSBcImZpcnN0XCIgPyBcInByZXZBbGxcIiA6IFwibmV4dEFsbFwiIF0oIGZpbHRlciApLmVxKCAtMSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXh0ID0gaXRlbVsgZGlyZWN0aW9uICsgXCJBbGxcIiBdKCBmaWx0ZXIgKS5lcSggMCApO1xuXHRcdH1cblxuXHRcdGlmICggbmV4dC5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyggZXZlbnQsIG5leHQgKTtcblx0XHR9XG5cdH0sXG5cblx0X2dldFNlbGVjdGVkSXRlbTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVudUl0ZW1zLmVxKCB0aGlzLmVsZW1lbnRbIDAgXS5zZWxlY3RlZEluZGV4ICkucGFyZW50KCBcImxpXCIgKTtcblx0fSxcblxuXHRfdG9nZ2xlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpc1sgdGhpcy5pc09wZW4gPyBcImNsb3NlXCIgOiBcIm9wZW5cIiBdKCBldmVudCApO1xuXHR9LFxuXG5cdF9zZXRTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxlY3Rpb247XG5cblx0XHRpZiAoICF0aGlzLnJhbmdlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggd2luZG93LmdldFNlbGVjdGlvbiApIHtcblx0XHRcdHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRcdHNlbGVjdGlvbi5hZGRSYW5nZSggdGhpcy5yYW5nZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucmFuZ2Uuc2VsZWN0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUVcblx0XHQvLyBTZXR0aW5nIHRoZSB0ZXh0IHNlbGVjdGlvbiBraWxscyB0aGUgYnV0dG9uIGZvY3VzIGluIElFLCBidXRcblx0XHQvLyByZXN0b3JpbmcgdGhlIGZvY3VzIGRvZXNuJ3Qga2lsbCB0aGUgc2VsZWN0aW9uLlxuXHRcdHRoaXMuYnV0dG9uLmZvY3VzKCk7XG5cdH0sXG5cblx0X2RvY3VtZW50Q2xpY2s6IHtcblx0XHRtb3VzZWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGlmICggIXRoaXMuaXNPcGVuICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLXNlbGVjdG1lbnUtbWVudSwgI1wiICtcblx0XHRcdFx0XHQkLnVpLmVzY2FwZVNlbGVjdG9yKCB0aGlzLmlkcy5idXR0b24gKSApLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2J1dHRvbkV2ZW50czoge1xuXG5cdFx0Ly8gUHJldmVudCB0ZXh0IHNlbGVjdGlvbiBmcm9tIGJlaW5nIHJlc2V0IHdoZW4gaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2VsZWN0bWVudSAoIzEwMTQ0KVxuXHRcdG1vdXNlZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZWN0aW9uO1xuXG5cdFx0XHRpZiAoIHdpbmRvdy5nZXRTZWxlY3Rpb24gKSB7XG5cdFx0XHRcdHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0aWYgKCBzZWxlY3Rpb24ucmFuZ2VDb3VudCApIHtcblx0XHRcdFx0XHR0aGlzLnJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoIDAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHRoaXMuX3NldFNlbGVjdGlvbigpO1xuXHRcdFx0dGhpcy5fdG9nZ2xlKCBldmVudCApO1xuXHRcdH0sXG5cblx0XHRrZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcHJldmVudERlZmF1bHQgPSB0cnVlO1xuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlRBQjpcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVTQ0FQRTpcblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdFx0cHJldmVudERlZmF1bHQgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTlRFUjpcblx0XHRcdFx0aWYgKCB0aGlzLmlzT3BlbiApIHtcblx0XHRcdFx0XHR0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSggZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0XHRpZiAoIGV2ZW50LmFsdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJwcmV2XCIsIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRpZiAoIGV2ZW50LmFsdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcblx0XHRcdFx0aWYgKCB0aGlzLmlzT3BlbiApIHtcblx0XHRcdFx0XHR0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSggZXZlbnQgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHR0aGlzLl9tb3ZlKCBcInByZXZcIiwgZXZlbnQgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdHRoaXMuX21vdmUoIFwiZmlyc3RcIiwgZXZlbnQgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdHRoaXMuX21vdmUoIFwibGFzdFwiLCBldmVudCApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRoaXMubWVudS50cmlnZ2VyKCBldmVudCApO1xuXHRcdFx0XHRwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHByZXZlbnREZWZhdWx0ICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfc2VsZWN0Rm9jdXNlZEl0ZW06IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMubWVudUl0ZW1zLmVxKCB0aGlzLmZvY3VzSW5kZXggKS5wYXJlbnQoIFwibGlcIiApO1xuXHRcdGlmICggIWl0ZW0uaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0dGhpcy5fc2VsZWN0KCBpdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKSwgZXZlbnQgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NlbGVjdDogZnVuY3Rpb24oIGl0ZW0sIGV2ZW50ICkge1xuXHRcdHZhciBvbGRJbmRleCA9IHRoaXMuZWxlbWVudFsgMCBdLnNlbGVjdGVkSW5kZXg7XG5cblx0XHQvLyBDaGFuZ2UgbmF0aXZlIHNlbGVjdCBlbGVtZW50XG5cdFx0dGhpcy5lbGVtZW50WyAwIF0uc2VsZWN0ZWRJbmRleCA9IGl0ZW0uaW5kZXg7XG5cdFx0dGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKCB0aGlzLmJ1dHRvbkl0ZW0gPSB0aGlzLl9yZW5kZXJCdXR0b25JdGVtKCBpdGVtICkgKTtcblx0XHR0aGlzLl9zZXRBcmlhKCBpdGVtICk7XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzZWxlY3RcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cblx0XHRpZiAoIGl0ZW0uaW5kZXggIT09IG9sZEluZGV4ICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0fSxcblxuXHRfc2V0QXJpYTogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0dmFyIGlkID0gdGhpcy5tZW51SXRlbXMuZXEoIGl0ZW0uaW5kZXggKS5hdHRyKCBcImlkXCIgKTtcblxuXHRcdHRoaXMuYnV0dG9uLmF0dHIoIHtcblx0XHRcdFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGlkLFxuXHRcdFx0XCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogaWRcblx0XHR9ICk7XG5cdFx0dGhpcy5tZW51LmF0dHIoIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsIGlkICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiaWNvbnNcIiApIHtcblx0XHRcdHZhciBpY29uID0gdGhpcy5idXR0b24uZmluZCggXCJzcGFuLnVpLWljb25cIiApO1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIGljb24sIG51bGwsIHRoaXMub3B0aW9ucy5pY29ucy5idXR0b24gKVxuXHRcdFx0XHQuX2FkZENsYXNzKCBpY29uLCBudWxsLCB2YWx1ZS5idXR0b24gKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiYXBwZW5kVG9cIiApIHtcblx0XHRcdHRoaXMubWVudVdyYXAuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJ3aWR0aFwiICkge1xuXHRcdFx0dGhpcy5fcmVzaXplQnV0dG9uKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb25EaXNhYmxlZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCB2YWx1ZSApO1xuXG5cdFx0dGhpcy5tZW51SW5zdGFuY2Uub3B0aW9uKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0dGhpcy5idXR0b24uYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIHRoaXMuYnV0dG9uLCBudWxsLCBcInVpLXN0YXRlLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cblx0XHR0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiLCB2YWx1ZSApO1xuXHRcdGlmICggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmJ1dHRvbi5hdHRyKCBcInRhYmluZGV4XCIsIC0xICk7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYnV0dG9uLmF0dHIoIFwidGFiaW5kZXhcIiwgMCApO1xuXHRcdH1cblx0fSxcblxuXHRfYXBwZW5kVG86IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvO1xuXG5cdFx0aWYgKCBlbGVtZW50ICkge1xuXHRcdFx0ZWxlbWVudCA9IGVsZW1lbnQuanF1ZXJ5IHx8IGVsZW1lbnQubm9kZVR5cGUgP1xuXHRcdFx0XHQkKCBlbGVtZW50ICkgOlxuXHRcdFx0XHR0aGlzLmRvY3VtZW50LmZpbmQoIGVsZW1lbnQgKS5lcSggMCApO1xuXHRcdH1cblxuXHRcdGlmICggIWVsZW1lbnQgfHwgIWVsZW1lbnRbIDAgXSApIHtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdCggXCIudWktZnJvbnQsIGRpYWxvZ1wiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudC5sZW5ndGggKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdLmJvZHk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdH0sXG5cblx0X3RvZ2dsZUF0dHI6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuYnV0dG9uLmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCB0aGlzLmlzT3BlbiApO1xuXG5cdFx0Ly8gV2UgY2FuJ3QgdXNlIHR3byBfdG9nZ2xlQ2xhc3MoKSBjYWxscyBoZXJlLCBiZWNhdXNlIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG5cdFx0Ly8gd2UgYWx3YXlzIHJlbW92ZSBjbGFzc2VzIGZpcnN0IGFuZCBhZGQgdGhlbSBzZWNvbmQsIG90aGVyd2lzZSBpZiBib3RoIGNsYXNzZXMgaGF2ZSB0aGVcblx0XHQvLyBzYW1lIHRoZW1lIGNsYXNzLCBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgd2UgYWRkIGl0LlxuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmJ1dHRvbiwgXCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1cIiArXG5cdFx0XHQoIHRoaXMuaXNPcGVuID8gXCJjbG9zZWRcIiA6IFwib3BlblwiICkgKVxuXHRcdFx0Ll9hZGRDbGFzcyggdGhpcy5idXR0b24sIFwidWktc2VsZWN0bWVudS1idXR0b24tXCIgK1xuXHRcdFx0XHQoIHRoaXMuaXNPcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiICkgKVxuXHRcdFx0Ll90b2dnbGVDbGFzcyggdGhpcy5tZW51V3JhcCwgXCJ1aS1zZWxlY3RtZW51LW9wZW5cIiwgbnVsbCwgdGhpcy5pc09wZW4gKTtcblxuXHRcdHRoaXMubWVudS5hdHRyKCBcImFyaWEtaGlkZGVuXCIsICF0aGlzLmlzT3BlbiApO1xuXHR9LFxuXG5cdF9yZXNpemVCdXR0b246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB3aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aDtcblxuXHRcdC8vIEZvciBgd2lkdGg6IGZhbHNlYCwganVzdCByZW1vdmUgaW5saW5lIHN0eWxlIGFuZCBzdG9wXG5cdFx0aWYgKCB3aWR0aCA9PT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLmJ1dHRvbi5jc3MoIFwid2lkdGhcIiwgXCJcIiApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZvciBgd2lkdGg6IG51bGxgLCBtYXRjaCB0aGUgd2lkdGggb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHRpZiAoIHdpZHRoID09PSBudWxsICkge1xuXHRcdFx0d2lkdGggPSB0aGlzLmVsZW1lbnQuc2hvdygpLm91dGVyV2lkdGgoKTtcblx0XHRcdHRoaXMuZWxlbWVudC5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5idXR0b24ub3V0ZXJXaWR0aCggd2lkdGggKTtcblx0fSxcblxuXHRfcmVzaXplTWVudTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5tZW51Lm91dGVyV2lkdGgoIE1hdGgubWF4KFxuXHRcdFx0dGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLFxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTEwXG5cdFx0XHQvLyBJRTEwIHdyYXBzIGxvbmcgdGV4dCAocG9zc2libHkgYSByb3VuZGluZyBidWcpXG5cdFx0XHQvLyBzbyB3ZSBhZGQgMXB4IHRvIGF2b2lkIHRoZSB3cmFwcGluZ1xuXHRcdFx0dGhpcy5tZW51LndpZHRoKCBcIlwiICkub3V0ZXJXaWR0aCgpICsgMVxuXHRcdCkgKTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl9zdXBlcigpO1xuXG5cdFx0b3B0aW9ucy5kaXNhYmxlZCA9IHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIgKTtcblxuXHRcdHJldHVybiBvcHRpb25zO1xuXHR9LFxuXG5cdF9wYXJzZU9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdGRhdGEgPSBbXTtcblx0XHRvcHRpb25zLmVhY2goIGZ1bmN0aW9uKCBpbmRleCwgaXRlbSApIHtcblx0XHRcdGRhdGEucHVzaCggdGhhdC5fcGFyc2VPcHRpb24oICQoIGl0ZW0gKSwgaW5kZXggKSApO1xuXHRcdH0gKTtcblx0XHR0aGlzLml0ZW1zID0gZGF0YTtcblx0fSxcblxuXHRfcGFyc2VPcHRpb246IGZ1bmN0aW9uKCBvcHRpb24sIGluZGV4ICkge1xuXHRcdHZhciBvcHRncm91cCA9IG9wdGlvbi5wYXJlbnQoIFwib3B0Z3JvdXBcIiApO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGVsZW1lbnQ6IG9wdGlvbixcblx0XHRcdGluZGV4OiBpbmRleCxcblx0XHRcdHZhbHVlOiBvcHRpb24udmFsKCksXG5cdFx0XHRsYWJlbDogb3B0aW9uLnRleHQoKSxcblx0XHRcdG9wdGdyb3VwOiBvcHRncm91cC5hdHRyKCBcImxhYmVsXCIgKSB8fCBcIlwiLFxuXHRcdFx0ZGlzYWJsZWQ6IG9wdGdyb3VwLnByb3AoIFwiZGlzYWJsZWRcIiApIHx8IG9wdGlvbi5wcm9wKCBcImRpc2FibGVkXCIgKVxuXHRcdH07XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3VuYmluZEZvcm1SZXNldEhhbmRsZXIoKTtcblx0XHR0aGlzLm1lbnVXcmFwLnJlbW92ZSgpO1xuXHRcdHRoaXMuYnV0dG9uLnJlbW92ZSgpO1xuXHRcdHRoaXMuZWxlbWVudC5zaG93KCk7XG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCk7XG5cdFx0dGhpcy5sYWJlbHMuYXR0ciggXCJmb3JcIiwgdGhpcy5pZHMuZWxlbWVudCApO1xuXHR9XG59IF0gKTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBTbGlkZXIgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNsaWRlclxuLy8+Pmdyb3VwOiBXaWRnZXRzXG4vLz4+ZGVzY3JpcHRpb246IERpc3BsYXlzIGEgZmxleGlibGUgc2xpZGVyIHdpdGggcmFuZ2VzIGFuZCBhY2Nlc3NpYmlsaXR5IHZpYSBrZXlib2FyZC5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zbGlkZXIvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vc2xpZGVyL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NvcmUuY3NzXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2Uvc2xpZGVyLmNzc1xuLy8+PmNzcy50aGVtZTogLi4vLi4vdGhlbWVzL2Jhc2UvdGhlbWUuY3NzXG5cblxuXG52YXIgd2lkZ2V0c1NsaWRlciA9ICQud2lkZ2V0KCBcInVpLnNsaWRlclwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcInNsaWRlXCIsXG5cblx0b3B0aW9uczoge1xuXHRcdGFuaW1hdGU6IGZhbHNlLFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdFwidWktc2xpZGVyXCI6IFwidWktY29ybmVyLWFsbFwiLFxuXHRcdFx0XCJ1aS1zbGlkZXItaGFuZGxlXCI6IFwidWktY29ybmVyLWFsbFwiLFxuXG5cdFx0XHQvLyBOb3RlOiB1aS13aWRnZXQtaGVhZGVyIGlzbid0IHRoZSBtb3N0IGZpdHRpbmdseSBzZW1hbnRpYyBmcmFtZXdvcmsgY2xhc3MgZm9yIHRoaXNcblx0XHRcdC8vIGVsZW1lbnQsIGJ1dCB3b3JrZWQgYmVzdCB2aXN1YWxseSB3aXRoIGEgdmFyaWV0eSBvZiB0aGVtZXNcblx0XHRcdFwidWktc2xpZGVyLXJhbmdlXCI6IFwidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyXCJcblx0XHR9LFxuXHRcdGRpc3RhbmNlOiAwLFxuXHRcdG1heDogMTAwLFxuXHRcdG1pbjogMCxcblx0XHRvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG5cdFx0cmFuZ2U6IGZhbHNlLFxuXHRcdHN0ZXA6IDEsXG5cdFx0dmFsdWU6IDAsXG5cdFx0dmFsdWVzOiBudWxsLFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdHNsaWRlOiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGxcblx0fSxcblxuXHQvLyBOdW1iZXIgb2YgcGFnZXMgaW4gYSBzbGlkZXJcblx0Ly8gKGhvdyBtYW55IHRpbWVzIGNhbiB5b3UgcGFnZSB1cC9kb3duIHRvIGdvIHRocm91Z2ggdGhlIHdob2xlIHJhbmdlKVxuXHRudW1QYWdlczogNSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9rZXlTbGlkaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5fbW91c2VTbGlkaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0dGhpcy5faGFuZGxlSW5kZXggPSBudWxsO1xuXHRcdHRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCk7XG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cdFx0dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1zbGlkZXIgdWktc2xpZGVyLVwiICsgdGhpcy5vcmllbnRhdGlvbixcblx0XHRcdFwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50XCIgKTtcblxuXHRcdHRoaXMuX3JlZnJlc2goKTtcblxuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0fSxcblxuXHRfcmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fY3JlYXRlUmFuZ2UoKTtcblx0XHR0aGlzLl9jcmVhdGVIYW5kbGVzKCk7XG5cdFx0dGhpcy5fc2V0dXBFdmVudHMoKTtcblx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0fSxcblxuXHRfY3JlYXRlSGFuZGxlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGksIGhhbmRsZUNvdW50LFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGV4aXN0aW5nSGFuZGxlcyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1zbGlkZXItaGFuZGxlXCIgKSxcblx0XHRcdGhhbmRsZSA9IFwiPHNwYW4gdGFiaW5kZXg9JzAnPjwvc3Bhbj5cIixcblx0XHRcdGhhbmRsZXMgPSBbXTtcblxuXHRcdGhhbmRsZUNvdW50ID0gKCBvcHRpb25zLnZhbHVlcyAmJiBvcHRpb25zLnZhbHVlcy5sZW5ndGggKSB8fCAxO1xuXG5cdFx0aWYgKCBleGlzdGluZ0hhbmRsZXMubGVuZ3RoID4gaGFuZGxlQ291bnQgKSB7XG5cdFx0XHRleGlzdGluZ0hhbmRsZXMuc2xpY2UoIGhhbmRsZUNvdW50ICkucmVtb3ZlKCk7XG5cdFx0XHRleGlzdGluZ0hhbmRsZXMgPSBleGlzdGluZ0hhbmRsZXMuc2xpY2UoIDAsIGhhbmRsZUNvdW50ICk7XG5cdFx0fVxuXG5cdFx0Zm9yICggaSA9IGV4aXN0aW5nSGFuZGxlcy5sZW5ndGg7IGkgPCBoYW5kbGVDb3VudDsgaSsrICkge1xuXHRcdFx0aGFuZGxlcy5wdXNoKCBoYW5kbGUgKTtcblx0XHR9XG5cblx0XHR0aGlzLmhhbmRsZXMgPSBleGlzdGluZ0hhbmRsZXMuYWRkKCAkKCBoYW5kbGVzLmpvaW4oIFwiXCIgKSApLmFwcGVuZFRvKCB0aGlzLmVsZW1lbnQgKSApO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaGFuZGxlcywgXCJ1aS1zbGlkZXItaGFuZGxlXCIsIFwidWktc3RhdGUtZGVmYXVsdFwiICk7XG5cblx0XHR0aGlzLmhhbmRsZSA9IHRoaXMuaGFuZGxlcy5lcSggMCApO1xuXG5cdFx0dGhpcy5oYW5kbGVzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0JCggdGhpcyApXG5cdFx0XHRcdC5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiwgaSApXG5cdFx0XHRcdC5hdHRyKCBcInRhYkluZGV4XCIsIDAgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0X2NyZWF0ZVJhbmdlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdGlmICggb3B0aW9ucy5yYW5nZSApIHtcblx0XHRcdGlmICggb3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0aWYgKCAhb3B0aW9ucy52YWx1ZXMgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBbIHRoaXMuX3ZhbHVlTWluKCksIHRoaXMuX3ZhbHVlTWluKCkgXTtcblx0XHRcdFx0fSBlbHNlIGlmICggb3B0aW9ucy52YWx1ZXMubGVuZ3RoICYmIG9wdGlvbnMudmFsdWVzLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0XHRvcHRpb25zLnZhbHVlcyA9IFsgb3B0aW9ucy52YWx1ZXNbIDAgXSwgb3B0aW9ucy52YWx1ZXNbIDAgXSBdO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAkLmlzQXJyYXkoIG9wdGlvbnMudmFsdWVzICkgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcy5zbGljZSggMCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXRoaXMucmFuZ2UgfHwgIXRoaXMucmFuZ2UubGVuZ3RoICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlID0gJCggXCI8ZGl2PlwiIClcblx0XHRcdFx0XHQuYXBwZW5kVG8oIHRoaXMuZWxlbWVudCApO1xuXG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnJhbmdlLCBcInVpLXNsaWRlci1yYW5nZVwiICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5yYW5nZSwgXCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXhcIiApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSByYW5nZSBzd2l0Y2hpbmcgZnJvbSB0cnVlIHRvIG1pbi9tYXhcblx0XHRcdFx0dGhpcy5yYW5nZS5jc3MoIHtcblx0XHRcdFx0XHRcImxlZnRcIjogXCJcIixcblx0XHRcdFx0XHRcImJvdHRvbVwiOiBcIlwiXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggb3B0aW9ucy5yYW5nZSA9PT0gXCJtaW5cIiB8fCBvcHRpb25zLnJhbmdlID09PSBcIm1heFwiICkge1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5yYW5nZSwgXCJ1aS1zbGlkZXItcmFuZ2UtXCIgKyBvcHRpb25zLnJhbmdlICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggdGhpcy5yYW5nZSApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmFuZ2UgPSBudWxsO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0dXBFdmVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX29mZiggdGhpcy5oYW5kbGVzICk7XG5cdFx0dGhpcy5fb24oIHRoaXMuaGFuZGxlcywgdGhpcy5faGFuZGxlRXZlbnRzICk7XG5cdFx0dGhpcy5faG92ZXJhYmxlKCB0aGlzLmhhbmRsZXMgKTtcblx0XHR0aGlzLl9mb2N1c2FibGUoIHRoaXMuaGFuZGxlcyApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmhhbmRsZXMucmVtb3ZlKCk7XG5cdFx0aWYgKCB0aGlzLnJhbmdlICkge1xuXHRcdFx0dGhpcy5yYW5nZS5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblx0fSxcblxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHBvc2l0aW9uLCBub3JtVmFsdWUsIGRpc3RhbmNlLCBjbG9zZXN0SGFuZGxlLCBpbmRleCwgYWxsb3dlZCwgb2Zmc2V0LCBtb3VzZU92ZXJIYW5kbGUsXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRpZiAoIG8uZGlzYWJsZWQgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbGVtZW50U2l6ZSA9IHtcblx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKVxuXHRcdH07XG5cdFx0dGhpcy5lbGVtZW50T2Zmc2V0ID0gdGhpcy5lbGVtZW50Lm9mZnNldCgpO1xuXG5cdFx0cG9zaXRpb24gPSB7IHg6IGV2ZW50LnBhZ2VYLCB5OiBldmVudC5wYWdlWSB9O1xuXHRcdG5vcm1WYWx1ZSA9IHRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSggcG9zaXRpb24gKTtcblx0XHRkaXN0YW5jZSA9IHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpICsgMTtcblx0XHR0aGlzLmhhbmRsZXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdGhpc0Rpc3RhbmNlID0gTWF0aC5hYnMoIG5vcm1WYWx1ZSAtIHRoYXQudmFsdWVzKCBpICkgKTtcblx0XHRcdGlmICggKCBkaXN0YW5jZSA+IHRoaXNEaXN0YW5jZSApIHx8XG5cdFx0XHRcdCggZGlzdGFuY2UgPT09IHRoaXNEaXN0YW5jZSAmJlxuXHRcdFx0XHRcdCggaSA9PT0gdGhhdC5fbGFzdENoYW5nZWRWYWx1ZSB8fCB0aGF0LnZhbHVlcyggaSApID09PSBvLm1pbiApICkgKSB7XG5cdFx0XHRcdGRpc3RhbmNlID0gdGhpc0Rpc3RhbmNlO1xuXHRcdFx0XHRjbG9zZXN0SGFuZGxlID0gJCggdGhpcyApO1xuXHRcdFx0XHRpbmRleCA9IGk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0YWxsb3dlZCA9IHRoaXMuX3N0YXJ0KCBldmVudCwgaW5kZXggKTtcblx0XHRpZiAoIGFsbG93ZWQgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHR0aGlzLl9tb3VzZVNsaWRpbmcgPSB0cnVlO1xuXG5cdFx0dGhpcy5faGFuZGxlSW5kZXggPSBpbmRleDtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCBjbG9zZXN0SGFuZGxlLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0Y2xvc2VzdEhhbmRsZS50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblxuXHRcdG9mZnNldCA9IGNsb3Nlc3RIYW5kbGUub2Zmc2V0KCk7XG5cdFx0bW91c2VPdmVySGFuZGxlID0gISQoIGV2ZW50LnRhcmdldCApLnBhcmVudHMoKS5hZGRCYWNrKCkuaXMoIFwiLnVpLXNsaWRlci1oYW5kbGVcIiApO1xuXHRcdHRoaXMuX2NsaWNrT2Zmc2V0ID0gbW91c2VPdmVySGFuZGxlID8geyBsZWZ0OiAwLCB0b3A6IDAgfSA6IHtcblx0XHRcdGxlZnQ6IGV2ZW50LnBhZ2VYIC0gb2Zmc2V0LmxlZnQgLSAoIGNsb3Nlc3RIYW5kbGUud2lkdGgoKSAvIDIgKSxcblx0XHRcdHRvcDogZXZlbnQucGFnZVkgLSBvZmZzZXQudG9wIC1cblx0XHRcdFx0KCBjbG9zZXN0SGFuZGxlLmhlaWdodCgpIC8gMiApIC1cblx0XHRcdFx0KCBwYXJzZUludCggY2xvc2VzdEhhbmRsZS5jc3MoIFwiYm9yZGVyVG9wV2lkdGhcIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGNsb3Nlc3RIYW5kbGUuY3NzKCBcImJvcmRlckJvdHRvbVdpZHRoXCIgKSwgMTAgKSB8fCAwICkgK1xuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyggXCJtYXJnaW5Ub3BcIiApLCAxMCApIHx8IDAgKVxuXHRcdH07XG5cblx0XHRpZiAoICF0aGlzLmhhbmRsZXMuaGFzQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApICkge1xuXHRcdFx0dGhpcy5fc2xpZGUoIGV2ZW50LCBpbmRleCwgbm9ybVZhbHVlICk7XG5cdFx0fVxuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHBvc2l0aW9uID0geyB4OiBldmVudC5wYWdlWCwgeTogZXZlbnQucGFnZVkgfSxcblx0XHRcdG5vcm1WYWx1ZSA9IHRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSggcG9zaXRpb24gKTtcblxuXHRcdHRoaXMuX3NsaWRlKCBldmVudCwgdGhpcy5faGFuZGxlSW5kZXgsIG5vcm1WYWx1ZSApO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5oYW5kbGVzLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0dGhpcy5fbW91c2VTbGlkaW5nID0gZmFsc2U7XG5cblx0XHR0aGlzLl9zdG9wKCBldmVudCwgdGhpcy5faGFuZGxlSW5kZXggKTtcblx0XHR0aGlzLl9jaGFuZ2UoIGV2ZW50LCB0aGlzLl9oYW5kbGVJbmRleCApO1xuXG5cdFx0dGhpcy5faGFuZGxlSW5kZXggPSBudWxsO1xuXHRcdHRoaXMuX2NsaWNrT2Zmc2V0ID0gbnVsbDtcblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X2RldGVjdE9yaWVudGF0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm9yaWVudGF0aW9uID0gKCB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCI7XG5cdH0sXG5cblx0X25vcm1WYWx1ZUZyb21Nb3VzZTogZnVuY3Rpb24oIHBvc2l0aW9uICkge1xuXHRcdHZhciBwaXhlbFRvdGFsLFxuXHRcdFx0cGl4ZWxNb3VzZSxcblx0XHRcdHBlcmNlbnRNb3VzZSxcblx0XHRcdHZhbHVlVG90YWwsXG5cdFx0XHR2YWx1ZU1vdXNlO1xuXG5cdFx0aWYgKCB0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdHBpeGVsVG90YWwgPSB0aGlzLmVsZW1lbnRTaXplLndpZHRoO1xuXHRcdFx0cGl4ZWxNb3VzZSA9IHBvc2l0aW9uLnggLSB0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCAtXG5cdFx0XHRcdCggdGhpcy5fY2xpY2tPZmZzZXQgPyB0aGlzLl9jbGlja09mZnNldC5sZWZ0IDogMCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwaXhlbFRvdGFsID0gdGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQ7XG5cdFx0XHRwaXhlbE1vdXNlID0gcG9zaXRpb24ueSAtIHRoaXMuZWxlbWVudE9mZnNldC50b3AgLVxuXHRcdFx0XHQoIHRoaXMuX2NsaWNrT2Zmc2V0ID8gdGhpcy5fY2xpY2tPZmZzZXQudG9wIDogMCApO1xuXHRcdH1cblxuXHRcdHBlcmNlbnRNb3VzZSA9ICggcGl4ZWxNb3VzZSAvIHBpeGVsVG90YWwgKTtcblx0XHRpZiAoIHBlcmNlbnRNb3VzZSA+IDEgKSB7XG5cdFx0XHRwZXJjZW50TW91c2UgPSAxO1xuXHRcdH1cblx0XHRpZiAoIHBlcmNlbnRNb3VzZSA8IDAgKSB7XG5cdFx0XHRwZXJjZW50TW91c2UgPSAwO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdHBlcmNlbnRNb3VzZSA9IDEgLSBwZXJjZW50TW91c2U7XG5cdFx0fVxuXG5cdFx0dmFsdWVUb3RhbCA9IHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdHZhbHVlTW91c2UgPSB0aGlzLl92YWx1ZU1pbigpICsgcGVyY2VudE1vdXNlICogdmFsdWVUb3RhbDtcblxuXHRcdHJldHVybiB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsdWVNb3VzZSApO1xuXHR9LFxuXG5cdF91aUhhc2g6IGZ1bmN0aW9uKCBpbmRleCwgdmFsdWUsIHZhbHVlcyApIHtcblx0XHR2YXIgdWlIYXNoID0ge1xuXHRcdFx0aGFuZGxlOiB0aGlzLmhhbmRsZXNbIGluZGV4IF0sXG5cdFx0XHRoYW5kbGVJbmRleDogaW5kZXgsXG5cdFx0XHR2YWx1ZTogdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogdGhpcy52YWx1ZSgpXG5cdFx0fTtcblxuXHRcdGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblx0XHRcdHVpSGFzaC52YWx1ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHRoaXMudmFsdWVzKCBpbmRleCApO1xuXHRcdFx0dWlIYXNoLnZhbHVlcyA9IHZhbHVlcyB8fCB0aGlzLnZhbHVlcygpO1xuXHRcdH1cblxuXHRcdHJldHVybiB1aUhhc2g7XG5cdH0sXG5cblx0X2hhc011bHRpcGxlVmFsdWVzOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyAmJiB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aDtcblx0fSxcblxuXHRfc3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXggKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RyaWdnZXIoIFwic3RhcnRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggaW5kZXggKSApO1xuXHR9LFxuXG5cdF9zbGlkZTogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCwgbmV3VmFsICkge1xuXHRcdHZhciBhbGxvd2VkLCBvdGhlclZhbCxcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IHRoaXMudmFsdWUoKSxcblx0XHRcdG5ld1ZhbHVlcyA9IHRoaXMudmFsdWVzKCk7XG5cblx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHRvdGhlclZhbCA9IHRoaXMudmFsdWVzKCBpbmRleCA/IDAgOiAxICk7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSB0aGlzLnZhbHVlcyggaW5kZXggKTtcblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLm9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRcdG5ld1ZhbCA9ICBpbmRleCA9PT0gMCA/IE1hdGgubWluKCBvdGhlclZhbCwgbmV3VmFsICkgOiBNYXRoLm1heCggb3RoZXJWYWwsIG5ld1ZhbCApO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXdWYWx1ZXNbIGluZGV4IF0gPSBuZXdWYWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBuZXdWYWwgPT09IGN1cnJlbnRWYWx1ZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRhbGxvd2VkID0gdGhpcy5fdHJpZ2dlciggXCJzbGlkZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCBpbmRleCwgbmV3VmFsLCBuZXdWYWx1ZXMgKSApO1xuXG5cdFx0Ly8gQSBzbGlkZSBjYW4gYmUgY2FuY2VsZWQgYnkgcmV0dXJuaW5nIGZhbHNlIGZyb20gdGhlIHNsaWRlIGNhbGxiYWNrXG5cdFx0aWYgKCBhbGxvd2VkID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHR0aGlzLnZhbHVlcyggaW5kZXgsIG5ld1ZhbCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnZhbHVlKCBuZXdWYWwgKTtcblx0XHR9XG5cdH0sXG5cblx0X3N0b3A6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXggKSB7XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzdG9wXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIGluZGV4ICkgKTtcblx0fSxcblxuXHRfY2hhbmdlOiBmdW5jdGlvbiggZXZlbnQsIGluZGV4ICkge1xuXHRcdGlmICggIXRoaXMuX2tleVNsaWRpbmcgJiYgIXRoaXMuX21vdXNlU2xpZGluZyApIHtcblxuXHRcdFx0Ly9zdG9yZSB0aGUgbGFzdCBjaGFuZ2VkIHZhbHVlIGluZGV4IGZvciByZWZlcmVuY2Ugd2hlbiBoYW5kbGVzIG92ZXJsYXBcblx0XHRcdHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWUgPSBpbmRleDtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIGluZGV4ICkgKTtcblx0XHR9XG5cdH0sXG5cblx0dmFsdWU6IGZ1bmN0aW9uKCBuZXdWYWx1ZSApIHtcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggbmV3VmFsdWUgKTtcblx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCAwICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX3ZhbHVlKCk7XG5cdH0sXG5cblx0dmFsdWVzOiBmdW5jdGlvbiggaW5kZXgsIG5ld1ZhbHVlICkge1xuXHRcdHZhciB2YWxzLFxuXHRcdFx0bmV3VmFsdWVzLFxuXHRcdFx0aTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzWyBpbmRleCBdID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIG5ld1ZhbHVlICk7XG5cdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgaW5kZXggKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoICQuaXNBcnJheSggYXJndW1lbnRzWyAwIF0gKSApIHtcblx0XHRcdFx0dmFscyA9IHRoaXMub3B0aW9ucy52YWx1ZXM7XG5cdFx0XHRcdG5ld1ZhbHVlcyA9IGFyZ3VtZW50c1sgMCBdO1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpICs9IDEgKSB7XG5cdFx0XHRcdFx0dmFsc1sgaSBdID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIG5ld1ZhbHVlc1sgaSBdICk7XG5cdFx0XHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlcyggaW5kZXggKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy52YWx1ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLl92YWx1ZXMoKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHR2YWxzTGVuZ3RoID0gMDtcblxuXHRcdGlmICgga2V5ID09PSBcInJhbmdlXCIgJiYgdGhpcy5vcHRpb25zLnJhbmdlID09PSB0cnVlICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJtaW5cIiApIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fdmFsdWVzKCAwICk7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZXMgPSBudWxsO1xuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IFwibWF4XCIgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX3ZhbHVlcyggdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggLSAxICk7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZXMgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggJC5pc0FycmF5KCB0aGlzLm9wdGlvbnMudmFsdWVzICkgKSB7XG5cdFx0XHR2YWxzTGVuZ3RoID0gdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdHN3aXRjaCAoIGtleSApIHtcblx0XHRcdGNhc2UgXCJvcmllbnRhdGlvblwiOlxuXHRcdFx0XHR0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggXCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWxcIiApXG5cdFx0XHRcdFx0Ll9hZGRDbGFzcyggXCJ1aS1zbGlkZXItXCIgKyB0aGlzLm9yaWVudGF0aW9uICk7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5yYW5nZSApIHtcblx0XHRcdFx0XHR0aGlzLl9yZWZyZXNoUmFuZ2UoIHZhbHVlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNldCBwb3NpdGlvbmluZyBmcm9tIHByZXZpb3VzIG9yaWVudGF0aW9uXG5cdFx0XHRcdHRoaXMuaGFuZGxlcy5jc3MoIHZhbHVlID09PSBcImhvcml6b250YWxcIiA/IFwiYm90dG9tXCIgOiBcImxlZnRcIiwgXCJcIiApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJ2YWx1ZVwiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgMCApO1xuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInZhbHVlc1wiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cblx0XHRcdFx0Ly8gU3RhcnQgZnJvbSB0aGUgbGFzdCBoYW5kbGUgdG8gcHJldmVudCB1bnJlYWNoYWJsZSBoYW5kbGVzICgjOTA0Nilcblx0XHRcdFx0Zm9yICggaSA9IHZhbHNMZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInN0ZXBcIjpcblx0XHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdGNhc2UgXCJtYXhcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX2NhbGN1bGF0ZU5ld01heCgpO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJyYW5nZVwiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uRGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlciggdmFsdWUgKTtcblxuXHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCBudWxsLCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblx0fSxcblxuXHQvL2ludGVybmFsIHZhbHVlIGdldHRlclxuXHQvLyBfdmFsdWUoKSByZXR1cm5zIHZhbHVlIHRyaW1tZWQgYnkgbWluIGFuZCBtYXgsIGFsaWduZWQgYnkgc3RlcFxuXHRfdmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2YWwgPSB0aGlzLm9wdGlvbnMudmFsdWU7XG5cdFx0dmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbCApO1xuXG5cdFx0cmV0dXJuIHZhbDtcblx0fSxcblxuXHQvL2ludGVybmFsIHZhbHVlcyBnZXR0ZXJcblx0Ly8gX3ZhbHVlcygpIHJldHVybnMgYXJyYXkgb2YgdmFsdWVzIHRyaW1tZWQgYnkgbWluIGFuZCBtYXgsIGFsaWduZWQgYnkgc3RlcFxuXHQvLyBfdmFsdWVzKCBpbmRleCApIHJldHVybnMgc2luZ2xlIHZhbHVlIHRyaW1tZWQgYnkgbWluIGFuZCBtYXgsIGFsaWduZWQgYnkgc3RlcFxuXHRfdmFsdWVzOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIHZhbCxcblx0XHRcdHZhbHMsXG5cdFx0XHRpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dmFsID0gdGhpcy5vcHRpb25zLnZhbHVlc1sgaW5kZXggXTtcblx0XHRcdHZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWwgKTtcblxuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXG5cdFx0XHQvLyAuc2xpY2UoKSBjcmVhdGVzIGEgY29weSBvZiB0aGUgYXJyYXlcblx0XHRcdC8vIHRoaXMgY29weSBnZXRzIHRyaW1tZWQgYnkgbWluIGFuZCBtYXggYW5kIHRoZW4gcmV0dXJuZWRcblx0XHRcdHZhbHMgPSB0aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCk7XG5cdFx0XHRmb3IgKCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpICs9IDEgKSB7XG5cdFx0XHRcdHZhbHNbIGkgXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWxzWyBpIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gUmV0dXJucyB0aGUgc3RlcC1hbGlnbmVkIHZhbHVlIHRoYXQgdmFsIGlzIGNsb3Nlc3QgdG8sIGJldHdlZW4gKGluY2x1c2l2ZSkgbWluIGFuZCBtYXhcblx0X3RyaW1BbGlnblZhbHVlOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdGlmICggdmFsIDw9IHRoaXMuX3ZhbHVlTWluKCkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHR9XG5cdFx0aWYgKCB2YWwgPj0gdGhpcy5fdmFsdWVNYXgoKSApIHtcblx0XHRcdHJldHVybiB0aGlzLl92YWx1ZU1heCgpO1xuXHRcdH1cblx0XHR2YXIgc3RlcCA9ICggdGhpcy5vcHRpb25zLnN0ZXAgPiAwICkgPyB0aGlzLm9wdGlvbnMuc3RlcCA6IDEsXG5cdFx0XHR2YWxNb2RTdGVwID0gKCB2YWwgLSB0aGlzLl92YWx1ZU1pbigpICkgJSBzdGVwLFxuXHRcdFx0YWxpZ25WYWx1ZSA9IHZhbCAtIHZhbE1vZFN0ZXA7XG5cblx0XHRpZiAoIE1hdGguYWJzKCB2YWxNb2RTdGVwICkgKiAyID49IHN0ZXAgKSB7XG5cdFx0XHRhbGlnblZhbHVlICs9ICggdmFsTW9kU3RlcCA+IDAgKSA/IHN0ZXAgOiAoIC1zdGVwICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2luY2UgSmF2YVNjcmlwdCBoYXMgcHJvYmxlbXMgd2l0aCBsYXJnZSBmbG9hdHMsIHJvdW5kXG5cdFx0Ly8gdGhlIGZpbmFsIHZhbHVlIHRvIDUgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50IChzZWUgIzQxMjQpXG5cdFx0cmV0dXJuIHBhcnNlRmxvYXQoIGFsaWduVmFsdWUudG9GaXhlZCggNSApICk7XG5cdH0sXG5cblx0X2NhbGN1bGF0ZU5ld01heDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1heCA9IHRoaXMub3B0aW9ucy5tYXgsXG5cdFx0XHRtaW4gPSB0aGlzLl92YWx1ZU1pbigpLFxuXHRcdFx0c3RlcCA9IHRoaXMub3B0aW9ucy5zdGVwLFxuXHRcdFx0YWJvdmVNaW4gPSBNYXRoLnJvdW5kKCAoIG1heCAtIG1pbiApIC8gc3RlcCApICogc3RlcDtcblx0XHRtYXggPSBhYm92ZU1pbiArIG1pbjtcblx0XHRpZiAoIG1heCA+IHRoaXMub3B0aW9ucy5tYXggKSB7XG5cblx0XHRcdC8vSWYgbWF4IGlzIG5vdCBkaXZpc2libGUgYnkgc3RlcCwgcm91bmRpbmcgb2ZmIG1heSBpbmNyZWFzZSBpdHMgdmFsdWVcblx0XHRcdG1heCAtPSBzdGVwO1xuXHRcdH1cblx0XHR0aGlzLm1heCA9IHBhcnNlRmxvYXQoIG1heC50b0ZpeGVkKCB0aGlzLl9wcmVjaXNpb24oKSApICk7XG5cdH0sXG5cblx0X3ByZWNpc2lvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZWNpc2lvbiA9IHRoaXMuX3ByZWNpc2lvbk9mKCB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXHRcdGlmICggdGhpcy5vcHRpb25zLm1pbiAhPT0gbnVsbCApIHtcblx0XHRcdHByZWNpc2lvbiA9IE1hdGgubWF4KCBwcmVjaXNpb24sIHRoaXMuX3ByZWNpc2lvbk9mKCB0aGlzLm9wdGlvbnMubWluICkgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHByZWNpc2lvbjtcblx0fSxcblxuXHRfcHJlY2lzaW9uT2Y6IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0dmFyIHN0ciA9IG51bS50b1N0cmluZygpLFxuXHRcdFx0ZGVjaW1hbCA9IHN0ci5pbmRleE9mKCBcIi5cIiApO1xuXHRcdHJldHVybiBkZWNpbWFsID09PSAtMSA/IDAgOiBzdHIubGVuZ3RoIC0gZGVjaW1hbCAtIDE7XG5cdH0sXG5cblx0X3ZhbHVlTWluOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLm1pbjtcblx0fSxcblxuXHRfdmFsdWVNYXg6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1heDtcblx0fSxcblxuXHRfcmVmcmVzaFJhbmdlOiBmdW5jdGlvbiggb3JpZW50YXRpb24gKSB7XG5cdFx0aWYgKCBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0dGhpcy5yYW5nZS5jc3MoIHsgXCJ3aWR0aFwiOiBcIlwiLCBcImxlZnRcIjogXCJcIiB9ICk7XG5cdFx0fVxuXHRcdGlmICggb3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0dGhpcy5yYW5nZS5jc3MoIHsgXCJoZWlnaHRcIjogXCJcIiwgXCJib3R0b21cIjogXCJcIiB9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZWZyZXNoVmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBsYXN0VmFsUGVyY2VudCwgdmFsUGVyY2VudCwgdmFsdWUsIHZhbHVlTWluLCB2YWx1ZU1heCxcblx0XHRcdG9SYW5nZSA9IHRoaXMub3B0aW9ucy5yYW5nZSxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdGFuaW1hdGUgPSAoICF0aGlzLl9hbmltYXRlT2ZmICkgPyBvLmFuaW1hdGUgOiBmYWxzZSxcblx0XHRcdF9zZXQgPSB7fTtcblxuXHRcdGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblx0XHRcdHRoaXMuaGFuZGxlcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0dmFsUGVyY2VudCA9ICggdGhhdC52YWx1ZXMoIGkgKSAtIHRoYXQuX3ZhbHVlTWluKCkgKSAvICggdGhhdC5fdmFsdWVNYXgoKSAtXG5cdFx0XHRcdFx0dGhhdC5fdmFsdWVNaW4oKSApICogMTAwO1xuXHRcdFx0XHRfc2V0WyB0aGF0Lm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IFwibGVmdFwiIDogXCJib3R0b21cIiBdID0gdmFsUGVyY2VudCArIFwiJVwiO1xuXHRcdFx0XHQkKCB0aGlzICkuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIF9zZXQsIG8uYW5pbWF0ZSApO1xuXHRcdFx0XHRpZiAoIHRoYXQub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRpZiAoIHRoYXQub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0XHRcdFx0bGVmdDogdmFsUGVyY2VudCArIFwiJVwiXG5cdFx0XHRcdFx0XHRcdH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogKCB2YWxQZXJjZW50IC0gbGFzdFZhbFBlcmNlbnQgKSArIFwiJVwiXG5cdFx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IG8uYW5pbWF0ZVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdFx0XHRcdGJvdHRvbTogKCB2YWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiAoIHZhbFBlcmNlbnQgLSBsYXN0VmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogby5hbmltYXRlXG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bGFzdFZhbFBlcmNlbnQgPSB2YWxQZXJjZW50O1xuXHRcdFx0fSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMudmFsdWUoKTtcblx0XHRcdHZhbHVlTWluID0gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHRcdHZhbHVlTWF4ID0gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHRcdHZhbFBlcmNlbnQgPSAoIHZhbHVlTWF4ICE9PSB2YWx1ZU1pbiApID9cblx0XHRcdFx0XHQoIHZhbHVlIC0gdmFsdWVNaW4gKSAvICggdmFsdWVNYXggLSB2YWx1ZU1pbiApICogMTAwIDpcblx0XHRcdFx0XHQwO1xuXHRcdFx0X3NldFsgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBcImxlZnRcIiA6IFwiYm90dG9tXCIgXSA9IHZhbFBlcmNlbnQgKyBcIiVcIjtcblx0XHRcdHRoaXMuaGFuZGxlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCBfc2V0LCBvLmFuaW1hdGUgKTtcblxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWluXCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHR3aWR0aDogdmFsUGVyY2VudCArIFwiJVwiXG5cdFx0XHRcdH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWF4XCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHR3aWR0aDogKCAxMDAgLSB2YWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1pblwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdGhlaWdodDogdmFsUGVyY2VudCArIFwiJVwiXG5cdFx0XHRcdH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWF4XCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0aGVpZ2h0OiAoIDEwMCAtIHZhbFBlcmNlbnQgKSArIFwiJVwiXG5cdFx0XHRcdH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfaGFuZGxlRXZlbnRzOiB7XG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGFsbG93ZWQsIGN1clZhbCwgbmV3VmFsLCBzdGVwLFxuXHRcdFx0XHRpbmRleCA9ICQoIGV2ZW50LnRhcmdldCApLmRhdGEoIFwidWktc2xpZGVyLWhhbmRsZS1pbmRleFwiICk7XG5cblx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkhPTUU6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVORDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5VUDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUklHSFQ6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRpZiAoICF0aGlzLl9rZXlTbGlkaW5nICkge1xuXHRcdFx0XHRcdFx0dGhpcy5fa2V5U2xpZGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggJCggZXZlbnQudGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0XHRcdGFsbG93ZWQgPSB0aGlzLl9zdGFydCggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdFx0XHRpZiAoIGFsbG93ZWQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRzdGVwID0gdGhpcy5vcHRpb25zLnN0ZXA7XG5cdFx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHRcdGN1clZhbCA9IG5ld1ZhbCA9IHRoaXMudmFsdWVzKCBpbmRleCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3VyVmFsID0gbmV3VmFsID0gdGhpcy52YWx1ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVORDpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl92YWx1ZU1heCgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKFxuXHRcdFx0XHRcdFx0Y3VyVmFsICsgKCAoIHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpICkgLyB0aGlzLm51bVBhZ2VzIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoXG5cdFx0XHRcdFx0XHRjdXJWYWwgLSAoICggdGhpcy5fdmFsdWVNYXgoKSAtIHRoaXMuX3ZhbHVlTWluKCkgKSAvIHRoaXMubnVtUGFnZXMgKSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5VUDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUklHSFQ6XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWwgPT09IHRoaXMuX3ZhbHVlTWF4KCkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBjdXJWYWwgKyBzdGVwICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWwgPT09IHRoaXMuX3ZhbHVlTWluKCkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBjdXJWYWwgLSBzdGVwICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3NsaWRlKCBldmVudCwgaW5kZXgsIG5ld1ZhbCApO1xuXHRcdH0sXG5cdFx0a2V5dXA6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBpbmRleCA9ICQoIGV2ZW50LnRhcmdldCApLmRhdGEoIFwidWktc2xpZGVyLWhhbmRsZS1pbmRleFwiICk7XG5cblx0XHRcdGlmICggdGhpcy5fa2V5U2xpZGluZyApIHtcblx0XHRcdFx0dGhpcy5fa2V5U2xpZGluZyA9IGZhbHNlO1xuXHRcdFx0XHR0aGlzLl9zdG9wKCBldmVudCwgaW5kZXggKTtcblx0XHRcdFx0dGhpcy5fY2hhbmdlKCBldmVudCwgaW5kZXggKTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LnRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgU29ydGFibGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNvcnRhYmxlXG4vLz4+Z3JvdXA6IEludGVyYWN0aW9uc1xuLy8+PmRlc2NyaXB0aW9uOiBFbmFibGVzIGl0ZW1zIGluIGEgbGlzdCB0byBiZSBzb3J0ZWQgdXNpbmcgdGhlIG1vdXNlLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NvcnRhYmxlL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3NvcnRhYmxlL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL3NvcnRhYmxlLmNzc1xuXG5cblxudmFyIHdpZGdldHNTb3J0YWJsZSA9ICQud2lkZ2V0KCBcInVpLnNvcnRhYmxlXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwic29ydFwiLFxuXHRyZWFkeTogZmFsc2UsXG5cdG9wdGlvbnM6IHtcblx0XHRhcHBlbmRUbzogXCJwYXJlbnRcIixcblx0XHRheGlzOiBmYWxzZSxcblx0XHRjb25uZWN0V2l0aDogZmFsc2UsXG5cdFx0Y29udGFpbm1lbnQ6IGZhbHNlLFxuXHRcdGN1cnNvcjogXCJhdXRvXCIsXG5cdFx0Y3Vyc29yQXQ6IGZhbHNlLFxuXHRcdGRyb3BPbkVtcHR5OiB0cnVlLFxuXHRcdGZvcmNlUGxhY2Vob2xkZXJTaXplOiBmYWxzZSxcblx0XHRmb3JjZUhlbHBlclNpemU6IGZhbHNlLFxuXHRcdGdyaWQ6IGZhbHNlLFxuXHRcdGhhbmRsZTogZmFsc2UsXG5cdFx0aGVscGVyOiBcIm9yaWdpbmFsXCIsXG5cdFx0aXRlbXM6IFwiPiAqXCIsXG5cdFx0b3BhY2l0eTogZmFsc2UsXG5cdFx0cGxhY2Vob2xkZXI6IGZhbHNlLFxuXHRcdHJldmVydDogZmFsc2UsXG5cdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdHNjcm9sbFNlbnNpdGl2aXR5OiAyMCxcblx0XHRzY3JvbGxTcGVlZDogMjAsXG5cdFx0c2NvcGU6IFwiZGVmYXVsdFwiLFxuXHRcdHRvbGVyYW5jZTogXCJpbnRlcnNlY3RcIixcblx0XHR6SW5kZXg6IDEwMDAsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRhY3RpdmF0ZTogbnVsbCxcblx0XHRiZWZvcmVTdG9wOiBudWxsLFxuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRkZWFjdGl2YXRlOiBudWxsLFxuXHRcdG91dDogbnVsbCxcblx0XHRvdmVyOiBudWxsLFxuXHRcdHJlY2VpdmU6IG51bGwsXG5cdFx0cmVtb3ZlOiBudWxsLFxuXHRcdHNvcnQ6IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbCxcblx0XHR1cGRhdGU6IG51bGxcblx0fSxcblxuXHRfaXNPdmVyQXhpczogZnVuY3Rpb24oIHgsIHJlZmVyZW5jZSwgc2l6ZSApIHtcblx0XHRyZXR1cm4gKCB4ID49IHJlZmVyZW5jZSApICYmICggeCA8ICggcmVmZXJlbmNlICsgc2l6ZSApICk7XG5cdH0sXG5cblx0X2lzRmxvYXRpbmc6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHJldHVybiAoIC9sZWZ0fHJpZ2h0LyApLnRlc3QoIGl0ZW0uY3NzKCBcImZsb2F0XCIgKSApIHx8XG5cdFx0XHQoIC9pbmxpbmV8dGFibGUtY2VsbC8gKS50ZXN0KCBpdGVtLmNzcyggXCJkaXNwbGF5XCIgKSApO1xuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY29udGFpbmVyQ2FjaGUgPSB7fTtcblx0XHR0aGlzLl9hZGRDbGFzcyggXCJ1aS1zb3J0YWJsZVwiICk7XG5cblx0XHQvL0dldCB0aGUgaXRlbXNcblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdC8vTGV0J3MgZGV0ZXJtaW5lIHRoZSBwYXJlbnQncyBvZmZzZXRcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdC8vSW5pdGlhbGl6ZSBtb3VzZSBldmVudHMgZm9yIGludGVyYWN0aW9uXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cblx0XHR0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTtcblxuXHRcdC8vV2UncmUgcmVhZHkgdG8gZ29cblx0XHR0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJoYW5kbGVcIiApIHtcblx0XHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0SGFuZGxlQ2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1zb3J0YWJsZS1oYW5kbGVcIiApLCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0JC5lYWNoKCB0aGlzLml0ZW1zLCBmdW5jdGlvbigpIHtcblx0XHRcdHRoYXQuX2FkZENsYXNzKFxuXHRcdFx0XHR0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlID9cblx0XHRcdFx0XHR0aGlzLml0ZW0uZmluZCggdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSApIDpcblx0XHRcdFx0XHR0aGlzLml0ZW0sXG5cdFx0XHRcdFwidWktc29ydGFibGUtaGFuZGxlXCJcblx0XHRcdCk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblxuXHRcdGZvciAoIHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdHRoaXMuaXRlbXNbIGkgXS5pdGVtLnJlbW92ZURhdGEoIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIiApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKCBldmVudCwgb3ZlcnJpZGVIYW5kbGUgKSB7XG5cdFx0dmFyIGN1cnJlbnRJdGVtID0gbnVsbCxcblx0XHRcdHZhbGlkSGFuZGxlID0gZmFsc2UsXG5cdFx0XHR0aGF0ID0gdGhpcztcblxuXHRcdGlmICggdGhpcy5yZXZlcnRpbmcgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5vcHRpb25zLnR5cGUgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly9XZSBoYXZlIHRvIHJlZnJlc2ggdGhlIGl0ZW1zIGRhdGEgb25jZSBmaXJzdFxuXHRcdHRoaXMuX3JlZnJlc2hJdGVtcyggZXZlbnQgKTtcblxuXHRcdC8vRmluZCBvdXQgaWYgdGhlIGNsaWNrZWQgbm9kZSAob3Igb25lIG9mIGl0cyBwYXJlbnRzKSBpcyBhIGFjdHVhbCBpdGVtIGluIHRoaXMuaXRlbXNcblx0XHQkKCBldmVudC50YXJnZXQgKS5wYXJlbnRzKCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICQuZGF0YSggdGhpcywgdGhhdC53aWRnZXROYW1lICsgXCItaXRlbVwiICkgPT09IHRoYXQgKSB7XG5cdFx0XHRcdGN1cnJlbnRJdGVtID0gJCggdGhpcyApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdGlmICggJC5kYXRhKCBldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIiApID09PSB0aGF0ICkge1xuXHRcdFx0Y3VycmVudEl0ZW0gPSAkKCBldmVudC50YXJnZXQgKTtcblx0XHR9XG5cblx0XHRpZiAoICFjdXJyZW50SXRlbSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGFuZGxlICYmICFvdmVycmlkZUhhbmRsZSApIHtcblx0XHRcdCQoIHRoaXMub3B0aW9ucy5oYW5kbGUsIGN1cnJlbnRJdGVtICkuZmluZCggXCIqXCIgKS5hZGRCYWNrKCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0XHRcdHZhbGlkSGFuZGxlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdFx0aWYgKCAhdmFsaWRIYW5kbGUgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRJdGVtID0gY3VycmVudEl0ZW07XG5cdFx0dGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIG92ZXJyaWRlSGFuZGxlLCBub0FjdGl2YXRpb24gKSB7XG5cblx0XHR2YXIgaSwgYm9keSxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzO1xuXG5cdFx0Ly9XZSBvbmx5IG5lZWQgdG8gY2FsbCByZWZyZXNoUG9zaXRpb25zLCBiZWNhdXNlIHRoZSByZWZyZXNoSXRlbXMgY2FsbCBoYXMgYmVlbiBtb3ZlZCB0b1xuXHRcdC8vIG1vdXNlQ2FwdHVyZVxuXHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucygpO1xuXG5cdFx0Ly9DcmVhdGUgYW5kIGFwcGVuZCB0aGUgdmlzaWJsZSBoZWxwZXJcblx0XHR0aGlzLmhlbHBlciA9IHRoaXMuX2NyZWF0ZUhlbHBlciggZXZlbnQgKTtcblxuXHRcdC8vQ2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vR2V0IHRoZSBuZXh0IHNjcm9sbGluZyBwYXJlbnRcblx0XHR0aGlzLnNjcm9sbFBhcmVudCA9IHRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpO1xuXG5cdFx0Ly9UaGUgZWxlbWVudCdzIGFic29sdXRlIHBvc2l0aW9uIG9uIHRoZSBwYWdlIG1pbnVzIG1hcmdpbnNcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCk7XG5cdFx0dGhpcy5vZmZzZXQgPSB7XG5cdFx0XHR0b3A6IHRoaXMub2Zmc2V0LnRvcCAtIHRoaXMubWFyZ2lucy50b3AsXG5cdFx0XHRsZWZ0OiB0aGlzLm9mZnNldC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnRcblx0XHR9O1xuXG5cdFx0JC5leHRlbmQoIHRoaXMub2Zmc2V0LCB7XG5cdFx0XHRjbGljazogeyAvL1doZXJlIHRoZSBjbGljayBoYXBwZW5lZCwgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0bGVmdDogZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldC5sZWZ0LFxuXHRcdFx0XHR0b3A6IGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQudG9wXG5cdFx0XHR9LFxuXHRcdFx0cGFyZW50OiB0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxcblxuXHRcdFx0Ly8gVGhpcyBpcyBhIHJlbGF0aXZlIHRvIGFic29sdXRlIHBvc2l0aW9uIG1pbnVzIHRoZSBhY3R1YWwgcG9zaXRpb24gY2FsY3VsYXRpb24gLVxuXHRcdFx0Ly8gb25seSB1c2VkIGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIGhlbHBlclxuXHRcdFx0cmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KClcblx0XHR9ICk7XG5cblx0XHQvLyBPbmx5IGFmdGVyIHdlIGdvdCB0aGUgb2Zmc2V0LCB3ZSBjYW4gY2hhbmdlIHRoZSBoZWxwZXIncyBwb3NpdGlvbiB0byBhYnNvbHV0ZVxuXHRcdC8vIFRPRE86IFN0aWxsIG5lZWQgdG8gZmlndXJlIG91dCBhIHdheSB0byBtYWtlIHJlbGF0aXZlIHNvcnRpbmcgcG9zc2libGVcblx0XHR0aGlzLmhlbHBlci5jc3MoIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiICk7XG5cdFx0dGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcyggXCJwb3NpdGlvblwiICk7XG5cblx0XHQvL0dlbmVyYXRlIHRoZSBvcmlnaW5hbCBwb3NpdGlvblxuXHRcdHRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50ICk7XG5cdFx0dGhpcy5vcmlnaW5hbFBhZ2VYID0gZXZlbnQucGFnZVg7XG5cdFx0dGhpcy5vcmlnaW5hbFBhZ2VZID0gZXZlbnQucGFnZVk7XG5cblx0XHQvL0FkanVzdCB0aGUgbW91c2Ugb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBoZWxwZXIgaWYgXCJjdXJzb3JBdFwiIGlzIHN1cHBsaWVkXG5cdFx0KCBvLmN1cnNvckF0ICYmIHRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoIG8uY3Vyc29yQXQgKSApO1xuXG5cdFx0Ly9DYWNoZSB0aGUgZm9ybWVyIERPTSBwb3NpdGlvblxuXHRcdHRoaXMuZG9tUG9zaXRpb24gPSB7XG5cdFx0XHRwcmV2OiB0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVsgMCBdLFxuXHRcdFx0cGFyZW50OiB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWyAwIF1cblx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGhlbHBlciBpcyBub3QgdGhlIG9yaWdpbmFsLCBoaWRlIHRoZSBvcmlnaW5hbCBzbyBpdCdzIG5vdCBwbGF5aW5nIGFueSByb2xlIGR1cmluZ1xuXHRcdC8vIHRoZSBkcmFnLCB3b24ndCBjYXVzZSBhbnl0aGluZyBiYWQgdGhpcyB3YXlcblx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uaGlkZSgpO1xuXHRcdH1cblxuXHRcdC8vQ3JlYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCk7XG5cblx0XHQvL1NldCBhIGNvbnRhaW5tZW50IGlmIGdpdmVuIGluIHRoZSBvcHRpb25zXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0dGhpcy5fc2V0Q29udGFpbm1lbnQoKTtcblx0XHR9XG5cblx0XHRpZiAoIG8uY3Vyc29yICYmIG8uY3Vyc29yICE9PSBcImF1dG9cIiApIHsgLy8gY3Vyc29yIG9wdGlvblxuXHRcdFx0Ym9keSA9IHRoaXMuZG9jdW1lbnQuZmluZCggXCJib2R5XCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUVcblx0XHRcdHRoaXMuc3RvcmVkQ3Vyc29yID0gYm9keS5jc3MoIFwiY3Vyc29yXCIgKTtcblx0XHRcdGJvZHkuY3NzKCBcImN1cnNvclwiLCBvLmN1cnNvciApO1xuXG5cdFx0XHR0aGlzLnN0b3JlZFN0eWxlc2hlZXQgPVxuXHRcdFx0XHQkKCBcIjxzdHlsZT4qeyBjdXJzb3I6IFwiICsgby5jdXJzb3IgKyBcIiAhaW1wb3J0YW50OyB9PC9zdHlsZT5cIiApLmFwcGVuZFRvKCBib2R5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvLm9wYWNpdHkgKSB7IC8vIG9wYWNpdHkgb3B0aW9uXG5cdFx0XHRpZiAoIHRoaXMuaGVscGVyLmNzcyggXCJvcGFjaXR5XCIgKSApIHtcblx0XHRcdFx0dGhpcy5fc3RvcmVkT3BhY2l0eSA9IHRoaXMuaGVscGVyLmNzcyggXCJvcGFjaXR5XCIgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuaGVscGVyLmNzcyggXCJvcGFjaXR5XCIsIG8ub3BhY2l0eSApO1xuXHRcdH1cblxuXHRcdGlmICggby56SW5kZXggKSB7IC8vIHpJbmRleCBvcHRpb25cblx0XHRcdGlmICggdGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiICkgKSB7XG5cdFx0XHRcdHRoaXMuX3N0b3JlZFpJbmRleCA9IHRoaXMuaGVscGVyLmNzcyggXCJ6SW5kZXhcIiApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcInpJbmRleFwiLCBvLnpJbmRleCApO1xuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBzY3JvbGxpbmdcblx0XHRpZiAoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0dGhpcy5vdmVyZmxvd09mZnNldCA9IHRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXG5cdFx0Ly9SZWNhY2hlIHRoZSBoZWxwZXIgc2l6ZVxuXHRcdGlmICggIXRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnMgKSB7XG5cdFx0XHR0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7XG5cdFx0fVxuXG5cdFx0Ly9Qb3N0IFwiYWN0aXZhdGVcIiBldmVudHMgdG8gcG9zc2libGUgY29udGFpbmVyc1xuXHRcdGlmICggIW5vQWN0aXZhdGlvbiApIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBwb3NzaWJsZSBkcm9wcGFibGVzXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmN1cnJlbnQgPSB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuaGVscGVyLCBcInVpLXNvcnRhYmxlLWhlbHBlclwiICk7XG5cblx0XHQvLyBFeGVjdXRlIHRoZSBkcmFnIG9uY2UgLSB0aGlzIGNhdXNlcyB0aGUgaGVscGVyIG5vdCB0byBiZSB2aXNpYmxlYmVmb3JlIGdldHRpbmcgaXRzXG5cdFx0Ly8gY29ycmVjdCBwb3NpdGlvblxuXHRcdHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaSwgaXRlbSwgaXRlbUVsZW1lbnQsIGludGVyc2VjdGlvbixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRzY3JvbGxlZCA9IGZhbHNlO1xuXG5cdFx0Ly9Db21wdXRlIHRoZSBoZWxwZXJzIHBvc2l0aW9uXG5cdFx0dGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50ICk7XG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCBcImFic29sdXRlXCIgKTtcblxuXHRcdGlmICggIXRoaXMubGFzdFBvc2l0aW9uQWJzICkge1xuXHRcdFx0dGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdH1cblxuXHRcdC8vRG8gc2Nyb2xsaW5nXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2Nyb2xsICkge1xuXHRcdFx0aWYgKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXG5cdFx0XHRcdGlmICggKCB0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCArIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0ub2Zmc2V0SGVpZ2h0ICkgLVxuXHRcdFx0XHRcdFx0ZXZlbnQucGFnZVkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsVG9wID1cblx0XHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbIDAgXS5zY3JvbGxUb3AgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBldmVudC5wYWdlWSAtIHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wIDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbFRvcCA9XG5cdFx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsVG9wIC0gby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggKCB0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQgKyB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLm9mZnNldFdpZHRoICkgLVxuXHRcdFx0XHRcdFx0ZXZlbnQucGFnZVggPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID1cblx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0uc2Nyb2xsTGVmdCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0IDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbExlZnQgPSBzY3JvbGxlZCA9XG5cdFx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFsgMCBdLnNjcm9sbExlZnQgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgLSBvLnNjcm9sbFNwZWVkICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHRoaXMud2luZG93LmhlaWdodCgpIC0gKCBldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgKSA8XG5cdFx0XHRcdFx0XHRvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgKyBvLnNjcm9sbFNwZWVkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KFxuXHRcdFx0XHRcdFx0dGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgLSBvLnNjcm9sbFNwZWVkXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIGlmICggdGhpcy53aW5kb3cud2lkdGgoKSAtICggZXZlbnQucGFnZVggLSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSApIDxcblx0XHRcdFx0XHRcdG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoXG5cdFx0XHRcdFx0XHR0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSArIG8uc2Nyb2xsU3BlZWRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzY3JvbGxlZCAhPT0gZmFsc2UgJiYgJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91ciApIHtcblx0XHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9SZWdlbmVyYXRlIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiB1c2VkIGZvciBwb3NpdGlvbiBjaGVja3Ncblx0XHR0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oIFwiYWJzb2x1dGVcIiApO1xuXG5cdFx0Ly9TZXQgdGhlIGhlbHBlciBwb3NpdGlvblxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMub3B0aW9ucy5heGlzICE9PSBcInlcIiApIHtcblx0XHRcdHRoaXMuaGVscGVyWyAwIF0uc3R5bGUubGVmdCA9IHRoaXMucG9zaXRpb24ubGVmdCArIFwicHhcIjtcblx0XHR9XG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmF4aXMgfHwgdGhpcy5vcHRpb25zLmF4aXMgIT09IFwieFwiICkge1xuXHRcdFx0dGhpcy5oZWxwZXJbIDAgXS5zdHlsZS50b3AgPSB0aGlzLnBvc2l0aW9uLnRvcCArIFwicHhcIjtcblx0XHR9XG5cblx0XHQvL1JlYXJyYW5nZVxuXHRcdGZvciAoIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXG5cdFx0XHQvL0NhY2hlIHZhcmlhYmxlcyBhbmQgaW50ZXJzZWN0aW9uLCBjb250aW51ZSBpZiBubyBpbnRlcnNlY3Rpb25cblx0XHRcdGl0ZW0gPSB0aGlzLml0ZW1zWyBpIF07XG5cdFx0XHRpdGVtRWxlbWVudCA9IGl0ZW0uaXRlbVsgMCBdO1xuXHRcdFx0aW50ZXJzZWN0aW9uID0gdGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKCBpdGVtICk7XG5cdFx0XHRpZiAoICFpbnRlcnNlY3Rpb24gKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IHB1dCB0aGUgcGxhY2Vob2xkZXIgaW5zaWRlIHRoZSBjdXJyZW50IENvbnRhaW5lciwgc2tpcCBhbGxcblx0XHRcdC8vIGl0ZW1zIGZyb20gb3RoZXIgY29udGFpbmVycy4gVGhpcyB3b3JrcyBiZWNhdXNlIHdoZW4gbW92aW5nXG5cdFx0XHQvLyBhbiBpdGVtIGZyb20gb25lIGNvbnRhaW5lciB0byBhbm90aGVyIHRoZVxuXHRcdFx0Ly8gY3VycmVudENvbnRhaW5lciBpcyBzd2l0Y2hlZCBiZWZvcmUgdGhlIHBsYWNlaG9sZGVyIGlzIG1vdmVkLlxuXHRcdFx0Ly9cblx0XHRcdC8vIFdpdGhvdXQgdGhpcywgbW92aW5nIGl0ZW1zIGluIFwic3ViLXNvcnRhYmxlc1wiIGNhbiBjYXVzZVxuXHRcdFx0Ly8gdGhlIHBsYWNlaG9sZGVyIHRvIGppdHRlciBiZXR3ZWVuIHRoZSBvdXRlciBhbmQgaW5uZXIgY29udGFpbmVyLlxuXHRcdFx0aWYgKCBpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYW5ub3QgaW50ZXJzZWN0IHdpdGggaXRzZWxmXG5cdFx0XHQvLyBubyB1c2VsZXNzIGFjdGlvbnMgdGhhdCBoYXZlIGJlZW4gZG9uZSBiZWZvcmVcblx0XHRcdC8vIG5vIGFjdGlvbiBpZiB0aGUgaXRlbSBtb3ZlZCBpcyB0aGUgcGFyZW50IG9mIHRoZSBpdGVtIGNoZWNrZWRcblx0XHRcdGlmICggaXRlbUVsZW1lbnQgIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSAmJlxuXHRcdFx0XHR0aGlzLnBsYWNlaG9sZGVyWyBpbnRlcnNlY3Rpb24gPT09IDEgPyBcIm5leHRcIiA6IFwicHJldlwiIF0oKVsgMCBdICE9PSBpdGVtRWxlbWVudCAmJlxuXHRcdFx0XHQhJC5jb250YWlucyggdGhpcy5wbGFjZWhvbGRlclsgMCBdLCBpdGVtRWxlbWVudCApICYmXG5cdFx0XHRcdCggdGhpcy5vcHRpb25zLnR5cGUgPT09IFwic2VtaS1keW5hbWljXCIgP1xuXHRcdFx0XHRcdCEkLmNvbnRhaW5zKCB0aGlzLmVsZW1lbnRbIDAgXSwgaXRlbUVsZW1lbnQgKSA6XG5cdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblxuXHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9IGludGVyc2VjdGlvbiA9PT0gMSA/IFwiZG93blwiIDogXCJ1cFwiO1xuXG5cdFx0XHRcdGlmICggdGhpcy5vcHRpb25zLnRvbGVyYW5jZSA9PT0gXCJwb2ludGVyXCIgfHwgdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyggaXRlbSApICkge1xuXHRcdFx0XHRcdHRoaXMuX3JlYXJyYW5nZSggZXZlbnQsIGl0ZW0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL1Bvc3QgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHR0aGlzLl9jb250YWN0Q29udGFpbmVycyggZXZlbnQgKTtcblxuXHRcdC8vSW50ZXJjb25uZWN0IHdpdGggZHJvcHBhYmxlc1xuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcmFnKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKCBcInNvcnRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cblx0XHR0aGlzLmxhc3RQb3NpdGlvbkFicyA9IHRoaXMucG9zaXRpb25BYnM7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oIGV2ZW50LCBub1Byb3BhZ2F0aW9uICkge1xuXG5cdFx0aWYgKCAhZXZlbnQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly9JZiB3ZSBhcmUgdXNpbmcgZHJvcHBhYmxlcywgaW5mb3JtIHRoZSBtYW5hZ2VyIGFib3V0IHRoZSBkcm9wXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciAmJiAhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcm9wKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnJldmVydCApIHtcblx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0Y3VyID0gdGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxcblx0XHRcdFx0YXhpcyA9IHRoaXMub3B0aW9ucy5heGlzLFxuXHRcdFx0XHRhbmltYXRpb24gPSB7fTtcblxuXHRcdFx0aWYgKCAhYXhpcyB8fCBheGlzID09PSBcInhcIiApIHtcblx0XHRcdFx0YW5pbWF0aW9uLmxlZnQgPSBjdXIubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnQgK1xuXHRcdFx0XHRcdCggdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSA9PT0gdGhpcy5kb2N1bWVudFsgMCBdLmJvZHkgP1xuXHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHR0aGlzLm9mZnNldFBhcmVudFsgMCBdLnNjcm9sbExlZnRcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhYXhpcyB8fCBheGlzID09PSBcInlcIiApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnRvcCA9IGN1ci50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCArXG5cdFx0XHRcdFx0KCB0aGlzLm9mZnNldFBhcmVudFsgMCBdID09PSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSA/XG5cdFx0XHRcdFx0XHQwIDpcblx0XHRcdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50WyAwIF0uc2Nyb2xsVG9wXG5cdFx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmV2ZXJ0aW5nID0gdHJ1ZTtcblx0XHRcdCQoIHRoaXMuaGVscGVyICkuYW5pbWF0ZShcblx0XHRcdFx0YW5pbWF0aW9uLFxuXHRcdFx0XHRwYXJzZUludCggdGhpcy5vcHRpb25zLnJldmVydCwgMTAgKSB8fCA1MDAsXG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRoYXQuX2NsZWFyKCBldmVudCApO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jbGVhciggZXZlbnQsIG5vUHJvcGFnYXRpb24gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fSxcblxuXHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCB0aGlzLmRyYWdnaW5nICkge1xuXG5cdFx0XHR0aGlzLl9tb3VzZVVwKCBuZXcgJC5FdmVudCggXCJtb3VzZXVwXCIsIHsgdGFyZ2V0OiBudWxsIH0gKSApO1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWxwZXIgPT09IFwib3JpZ2luYWxcIiApIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5jc3MoIHRoaXMuX3N0b3JlZENTUyApO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5jdXJyZW50SXRlbSwgXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5zaG93KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vUG9zdCBkZWFjdGl2YXRpbmcgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHRcdGZvciAoIHZhciBpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5fdHJpZ2dlciggXCJkZWFjdGl2YXRlXCIsIG51bGwsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5fdHJpZ2dlciggXCJvdXRcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKCB0aGlzICkgKTtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5vdmVyID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnBsYWNlaG9sZGVyICkge1xuXG5cdFx0XHQvLyQodGhpcy5wbGFjZWhvbGRlclswXSkucmVtb3ZlKCk7IHdvdWxkIGhhdmUgYmVlbiB0aGUgalF1ZXJ5IHdheSAtIHVuZm9ydHVuYXRlbHksXG5cdFx0XHQvLyBpdCB1bmJpbmRzIEFMTCBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSFcblx0XHRcdGlmICggdGhpcy5wbGFjZWhvbGRlclsgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGxhY2Vob2xkZXJbIDAgXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0aGlzLnBsYWNlaG9sZGVyWyAwIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmhlbHBlciAhPT0gXCJvcmlnaW5hbFwiICYmIHRoaXMuaGVscGVyICYmXG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLmhlbHBlci5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdFx0JC5leHRlbmQoIHRoaXMsIHtcblx0XHRcdFx0aGVscGVyOiBudWxsLFxuXHRcdFx0XHRkcmFnZ2luZzogZmFsc2UsXG5cdFx0XHRcdHJldmVydGluZzogZmFsc2UsXG5cdFx0XHRcdF9ub0ZpbmFsU29ydDogbnVsbFxuXHRcdFx0fSApO1xuXG5cdFx0XHRpZiAoIHRoaXMuZG9tUG9zaXRpb24ucHJldiApIHtcblx0XHRcdFx0JCggdGhpcy5kb21Qb3NpdGlvbi5wcmV2ICkuYWZ0ZXIoIHRoaXMuY3VycmVudEl0ZW0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIHRoaXMuZG9tUG9zaXRpb24ucGFyZW50ICkucHJlcGVuZCggdGhpcy5jdXJyZW50SXRlbSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0c2VyaWFsaXplOiBmdW5jdGlvbiggbyApIHtcblxuXHRcdHZhciBpdGVtcyA9IHRoaXMuX2dldEl0ZW1zQXNqUXVlcnkoIG8gJiYgby5jb25uZWN0ZWQgKSxcblx0XHRcdHN0ciA9IFtdO1xuXHRcdG8gPSBvIHx8IHt9O1xuXG5cdFx0JCggaXRlbXMgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXMgPSAoICQoIG8uaXRlbSB8fCB0aGlzICkuYXR0ciggby5hdHRyaWJ1dGUgfHwgXCJpZFwiICkgfHwgXCJcIiApXG5cdFx0XHRcdC5tYXRjaCggby5leHByZXNzaW9uIHx8ICggLyguKylbXFwtPV9dKC4rKS8gKSApO1xuXHRcdFx0aWYgKCByZXMgKSB7XG5cdFx0XHRcdHN0ci5wdXNoKFxuXHRcdFx0XHRcdCggby5rZXkgfHwgcmVzWyAxIF0gKyBcIltdXCIgKSArXG5cdFx0XHRcdFx0XCI9XCIgKyAoIG8ua2V5ICYmIG8uZXhwcmVzc2lvbiA/IHJlc1sgMSBdIDogcmVzWyAyIF0gKSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGlmICggIXN0ci5sZW5ndGggJiYgby5rZXkgKSB7XG5cdFx0XHRzdHIucHVzaCggby5rZXkgKyBcIj1cIiApO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHIuam9pbiggXCImXCIgKTtcblxuXHR9LFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCBvICkge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSggbyAmJiBvLmNvbm5lY3RlZCApLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHRvID0gbyB8fCB7fTtcblxuXHRcdGl0ZW1zLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0LnB1c2goICQoIG8uaXRlbSB8fCB0aGlzICkuYXR0ciggby5hdHRyaWJ1dGUgfHwgXCJpZFwiICkgfHwgXCJcIiApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gcmV0O1xuXG5cdH0sXG5cblx0LyogQmUgY2FyZWZ1bCB3aXRoIHRoZSBmb2xsb3dpbmcgY29yZSBmdW5jdGlvbnMgKi9cblx0X2ludGVyc2VjdHNXaXRoOiBmdW5jdGlvbiggaXRlbSApIHtcblxuXHRcdHZhciB4MSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCxcblx0XHRcdHgyID0geDEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCxcblx0XHRcdHkyID0geTEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxcblx0XHRcdGwgPSBpdGVtLmxlZnQsXG5cdFx0XHRyID0gbCArIGl0ZW0ud2lkdGgsXG5cdFx0XHR0ID0gaXRlbS50b3AsXG5cdFx0XHRiID0gdCArIGl0ZW0uaGVpZ2h0LFxuXHRcdFx0ZHlDbGljayA9IHRoaXMub2Zmc2V0LmNsaWNrLnRvcCxcblx0XHRcdGR4Q2xpY2sgPSB0aGlzLm9mZnNldC5jbGljay5sZWZ0LFxuXHRcdFx0aXNPdmVyRWxlbWVudEhlaWdodCA9ICggdGhpcy5vcHRpb25zLmF4aXMgPT09IFwieFwiICkgfHwgKCAoIHkxICsgZHlDbGljayApID4gdCAmJlxuXHRcdFx0XHQoIHkxICsgZHlDbGljayApIDwgYiApLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIgKSB8fCAoICggeDEgKyBkeENsaWNrICkgPiBsICYmXG5cdFx0XHRcdCggeDEgKyBkeENsaWNrICkgPCByICksXG5cdFx0XHRpc092ZXJFbGVtZW50ID0gaXNPdmVyRWxlbWVudEhlaWdodCAmJiBpc092ZXJFbGVtZW50V2lkdGg7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy50b2xlcmFuY2UgPT09IFwicG9pbnRlclwiIHx8XG5cdFx0XHR0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVycyB8fFxuXHRcdFx0KCB0aGlzLm9wdGlvbnMudG9sZXJhbmNlICE9PSBcInBvaW50ZXJcIiAmJlxuXHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zWyB0aGlzLmZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIiBdID5cblx0XHRcdFx0aXRlbVsgdGhpcy5mbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCIgXSApXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gaXNPdmVyRWxlbWVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gKCBsIDwgeDEgKyAoIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLyAyICkgJiYgLy8gUmlnaHQgSGFsZlxuXHRcdFx0XHR4MiAtICggdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgKSA8IHIgJiYgLy8gTGVmdCBIYWxmXG5cdFx0XHRcdHQgPCB5MSArICggdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICkgJiYgLy8gQm90dG9tIEhhbGZcblx0XHRcdFx0eTIgLSAoIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC8gMiApIDwgYiApOyAvLyBUb3AgSGFsZlxuXG5cdFx0fVxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHZhciB2ZXJ0aWNhbERpcmVjdGlvbiwgaG9yaXpvbnRhbERpcmVjdGlvbixcblx0XHRcdGlzT3ZlckVsZW1lbnRIZWlnaHQgPSAoIHRoaXMub3B0aW9ucy5heGlzID09PSBcInhcIiApIHx8XG5cdFx0XHRcdHRoaXMuX2lzT3ZlckF4aXMoXG5cdFx0XHRcdFx0dGhpcy5wb3NpdGlvbkFicy50b3AgKyB0aGlzLm9mZnNldC5jbGljay50b3AsIGl0ZW0udG9wLCBpdGVtLmhlaWdodCApLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIgKSB8fFxuXHRcdFx0XHR0aGlzLl9pc092ZXJBeGlzKFxuXHRcdFx0XHRcdHRoaXMucG9zaXRpb25BYnMubGVmdCArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIGl0ZW0ubGVmdCwgaXRlbS53aWR0aCApLFxuXHRcdFx0aXNPdmVyRWxlbWVudCA9IGlzT3ZlckVsZW1lbnRIZWlnaHQgJiYgaXNPdmVyRWxlbWVudFdpZHRoO1xuXG5cdFx0aWYgKCAhaXNPdmVyRWxlbWVudCApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR2ZXJ0aWNhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpO1xuXHRcdGhvcml6b250YWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmxvYXRpbmcgP1xuXHRcdFx0KCAoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIiB8fCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IDIgOiAxIClcblx0XHRcdDogKCB2ZXJ0aWNhbERpcmVjdGlvbiAmJiAoIHZlcnRpY2FsRGlyZWN0aW9uID09PSBcImRvd25cIiA/IDIgOiAxICkgKTtcblxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFNpZGVzOiBmdW5jdGlvbiggaXRlbSApIHtcblxuXHRcdHZhciBpc092ZXJCb3R0b21IYWxmID0gdGhpcy5faXNPdmVyQXhpcyggdGhpcy5wb3NpdGlvbkFicy50b3AgK1xuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AsIGl0ZW0udG9wICsgKCBpdGVtLmhlaWdodCAvIDIgKSwgaXRlbS5oZWlnaHQgKSxcblx0XHRcdGlzT3ZlclJpZ2h0SGFsZiA9IHRoaXMuX2lzT3ZlckF4aXMoIHRoaXMucG9zaXRpb25BYnMubGVmdCArXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIGl0ZW0ubGVmdCArICggaXRlbS53aWR0aCAvIDIgKSwgaXRlbS53aWR0aCApLFxuXHRcdFx0dmVydGljYWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxcblx0XHRcdGhvcml6b250YWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO1xuXG5cdFx0aWYgKCB0aGlzLmZsb2F0aW5nICYmIGhvcml6b250YWxEaXJlY3Rpb24gKSB7XG5cdFx0XHRyZXR1cm4gKCAoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIiAmJiBpc092ZXJSaWdodEhhbGYgKSB8fFxuXHRcdFx0XHQoIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwibGVmdFwiICYmICFpc092ZXJSaWdodEhhbGYgKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmVydGljYWxEaXJlY3Rpb24gJiYgKCAoIHZlcnRpY2FsRGlyZWN0aW9uID09PSBcImRvd25cIiAmJiBpc092ZXJCb3R0b21IYWxmICkgfHxcblx0XHRcdFx0KCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJ1cFwiICYmICFpc092ZXJCb3R0b21IYWxmICkgKTtcblx0XHR9XG5cblx0fSxcblxuXHRfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGVsdGEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKCBkZWx0YSA+IDAgPyBcImRvd25cIiA6IFwidXBcIiApO1xuXHR9LFxuXG5cdF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRlbHRhID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0IC0gdGhpcy5sYXN0UG9zaXRpb25BYnMubGVmdDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKCBkZWx0YSA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiApO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9yZWZyZXNoSXRlbXMoIGV2ZW50ICk7XG5cdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2Nvbm5lY3RXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHRyZXR1cm4gb3B0aW9ucy5jb25uZWN0V2l0aC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nID9cblx0XHRcdFsgb3B0aW9ucy5jb25uZWN0V2l0aCBdIDpcblx0XHRcdG9wdGlvbnMuY29ubmVjdFdpdGg7XG5cdH0sXG5cblx0X2dldEl0ZW1zQXNqUXVlcnk6IGZ1bmN0aW9uKCBjb25uZWN0ZWQgKSB7XG5cblx0XHR2YXIgaSwgaiwgY3VyLCBpbnN0LFxuXHRcdFx0aXRlbXMgPSBbXSxcblx0XHRcdHF1ZXJpZXMgPSBbXSxcblx0XHRcdGNvbm5lY3RXaXRoID0gdGhpcy5fY29ubmVjdFdpdGgoKTtcblxuXHRcdGlmICggY29ubmVjdFdpdGggJiYgY29ubmVjdGVkICkge1xuXHRcdFx0Zm9yICggaSA9IGNvbm5lY3RXaXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHRjdXIgPSAkKCBjb25uZWN0V2l0aFsgaSBdLCB0aGlzLmRvY3VtZW50WyAwIF0gKTtcblx0XHRcdFx0Zm9yICggaiA9IGN1ci5sZW5ndGggLSAxOyBqID49IDA7IGotLSApIHtcblx0XHRcdFx0XHRpbnN0ID0gJC5kYXRhKCBjdXJbIGogXSwgdGhpcy53aWRnZXRGdWxsTmFtZSApO1xuXHRcdFx0XHRcdGlmICggaW5zdCAmJiBpbnN0ICE9PSB0aGlzICYmICFpbnN0Lm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRxdWVyaWVzLnB1c2goIFsgJC5pc0Z1bmN0aW9uKCBpbnN0Lm9wdGlvbnMuaXRlbXMgKSA/XG5cdFx0XHRcdFx0XHRcdGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKCBpbnN0LmVsZW1lbnQgKSA6XG5cdFx0XHRcdFx0XHRcdCQoIGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50IClcblx0XHRcdFx0XHRcdFx0XHQubm90KCBcIi51aS1zb3J0YWJsZS1oZWxwZXJcIiApXG5cdFx0XHRcdFx0XHRcdFx0Lm5vdCggXCIudWktc29ydGFibGUtcGxhY2Vob2xkZXJcIiApLCBpbnN0IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRxdWVyaWVzLnB1c2goIFsgJC5pc0Z1bmN0aW9uKCB0aGlzLm9wdGlvbnMuaXRlbXMgKSA/XG5cdFx0XHR0aGlzLm9wdGlvbnMuaXRlbXNcblx0XHRcdFx0LmNhbGwoIHRoaXMuZWxlbWVudCwgbnVsbCwgeyBvcHRpb25zOiB0aGlzLm9wdGlvbnMsIGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSApIDpcblx0XHRcdCQoIHRoaXMub3B0aW9ucy5pdGVtcywgdGhpcy5lbGVtZW50IClcblx0XHRcdFx0Lm5vdCggXCIudWktc29ydGFibGUtaGVscGVyXCIgKVxuXHRcdFx0XHQubm90KCBcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiICksIHRoaXMgXSApO1xuXG5cdFx0ZnVuY3Rpb24gYWRkSXRlbXMoKSB7XG5cdFx0XHRpdGVtcy5wdXNoKCB0aGlzICk7XG5cdFx0fVxuXHRcdGZvciAoIGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0cXVlcmllc1sgaSBdWyAwIF0uZWFjaCggYWRkSXRlbXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJCggaXRlbXMgKTtcblxuXHR9LFxuXG5cdF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbGlzdCA9IHRoaXMuY3VycmVudEl0ZW0uZmluZCggXCI6ZGF0YShcIiArIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW0pXCIgKTtcblxuXHRcdHRoaXMuaXRlbXMgPSAkLmdyZXAoIHRoaXMuaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0Zm9yICggdmFyIGogPSAwOyBqIDwgbGlzdC5sZW5ndGg7IGorKyApIHtcblx0XHRcdFx0aWYgKCBsaXN0WyBqIF0gPT09IGl0ZW0uaXRlbVsgMCBdICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSApO1xuXG5cdH0sXG5cblx0X3JlZnJlc2hJdGVtczogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dGhpcy5pdGVtcyA9IFtdO1xuXHRcdHRoaXMuY29udGFpbmVycyA9IFsgdGhpcyBdO1xuXG5cdFx0dmFyIGksIGosIGN1ciwgaW5zdCwgdGFyZ2V0RGF0YSwgX3F1ZXJpZXMsIGl0ZW0sIHF1ZXJpZXNMZW5ndGgsXG5cdFx0XHRpdGVtcyA9IHRoaXMuaXRlbXMsXG5cdFx0XHRxdWVyaWVzID0gWyBbICQuaXNGdW5jdGlvbiggdGhpcy5vcHRpb25zLml0ZW1zICkgP1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sIGV2ZW50LCB7IGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSApIDpcblx0XHRcdFx0JCggdGhpcy5vcHRpb25zLml0ZW1zLCB0aGlzLmVsZW1lbnQgKSwgdGhpcyBdIF0sXG5cdFx0XHRjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7XG5cblx0XHQvL1Nob3VsZG4ndCBiZSBydW4gdGhlIGZpcnN0IHRpbWUgdGhyb3VnaCBkdWUgdG8gbWFzc2l2ZSBzbG93LWRvd25cblx0XHRpZiAoIGNvbm5lY3RXaXRoICYmIHRoaXMucmVhZHkgKSB7XG5cdFx0XHRmb3IgKCBpID0gY29ubmVjdFdpdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdGN1ciA9ICQoIGNvbm5lY3RXaXRoWyBpIF0sIHRoaXMuZG9jdW1lbnRbIDAgXSApO1xuXHRcdFx0XHRmb3IgKCBqID0gY3VyLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tICkge1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoIGN1clsgaiBdLCB0aGlzLndpZGdldEZ1bGxOYW1lICk7XG5cdFx0XHRcdFx0aWYgKCBpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRcdHF1ZXJpZXMucHVzaCggWyAkLmlzRnVuY3Rpb24oIGluc3Qub3B0aW9ucy5pdGVtcyApID9cblx0XHRcdFx0XHRcdFx0aW5zdC5vcHRpb25zLml0ZW1zXG5cdFx0XHRcdFx0XHRcdFx0LmNhbGwoIGluc3QuZWxlbWVudFsgMCBdLCBldmVudCwgeyBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0gKSA6XG5cdFx0XHRcdFx0XHRcdCQoIGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50ICksIGluc3QgXSApO1xuXHRcdFx0XHRcdFx0dGhpcy5jb250YWluZXJzLnB1c2goIGluc3QgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKCBpID0gcXVlcmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdHRhcmdldERhdGEgPSBxdWVyaWVzWyBpIF1bIDEgXTtcblx0XHRcdF9xdWVyaWVzID0gcXVlcmllc1sgaSBdWyAwIF07XG5cblx0XHRcdGZvciAoIGogPSAwLCBxdWVyaWVzTGVuZ3RoID0gX3F1ZXJpZXMubGVuZ3RoOyBqIDwgcXVlcmllc0xlbmd0aDsgaisrICkge1xuXHRcdFx0XHRpdGVtID0gJCggX3F1ZXJpZXNbIGogXSApO1xuXG5cdFx0XHRcdC8vIERhdGEgZm9yIHRhcmdldCBjaGVja2luZyAobW91c2UgbWFuYWdlcilcblx0XHRcdFx0aXRlbS5kYXRhKCB0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtXCIsIHRhcmdldERhdGEgKTtcblxuXHRcdFx0XHRpdGVtcy5wdXNoKCB7XG5cdFx0XHRcdFx0aXRlbTogaXRlbSxcblx0XHRcdFx0XHRpbnN0YW5jZTogdGFyZ2V0RGF0YSxcblx0XHRcdFx0XHR3aWR0aDogMCwgaGVpZ2h0OiAwLFxuXHRcdFx0XHRcdGxlZnQ6IDAsIHRvcDogMFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdH0sXG5cblx0cmVmcmVzaFBvc2l0aW9uczogZnVuY3Rpb24oIGZhc3QgKSB7XG5cblx0XHQvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtcyBhcmUgYmVpbmcgZGlzcGxheWVkIGhvcml6b250YWxseVxuXHRcdHRoaXMuZmxvYXRpbmcgPSB0aGlzLml0ZW1zLmxlbmd0aCA/XG5cdFx0XHR0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIgfHwgdGhpcy5faXNGbG9hdGluZyggdGhpcy5pdGVtc1sgMCBdLml0ZW0gKSA6XG5cdFx0XHRmYWxzZTtcblxuXHRcdC8vVGhpcyBoYXMgdG8gYmUgcmVkb25lIGJlY2F1c2UgZHVlIHRvIHRoZSBpdGVtIGJlaW5nIG1vdmVkIG91dC9pbnRvIHRoZSBvZmZzZXRQYXJlbnQsXG5cdFx0Ly8gdGhlIG9mZnNldFBhcmVudCdzIHBvc2l0aW9uIHdpbGwgY2hhbmdlXG5cdFx0aWYgKCB0aGlzLm9mZnNldFBhcmVudCAmJiB0aGlzLmhlbHBlciApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpO1xuXHRcdH1cblxuXHRcdHZhciBpLCBpdGVtLCB0LCBwO1xuXG5cdFx0Zm9yICggaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1sgaSBdO1xuXG5cdFx0XHQvL1dlIGlnbm9yZSBjYWxjdWxhdGluZyBwb3NpdGlvbnMgb2YgYWxsIGNvbm5lY3RlZCBjb250YWluZXJzIHdoZW4gd2UncmUgbm90IG92ZXIgdGhlbVxuXHRcdFx0aWYgKCBpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgdGhpcy5jdXJyZW50Q29udGFpbmVyICYmXG5cdFx0XHRcdFx0aXRlbS5pdGVtWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHQgPSB0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCA/XG5cdFx0XHRcdCQoIHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LCBpdGVtLml0ZW0gKSA6XG5cdFx0XHRcdGl0ZW0uaXRlbTtcblxuXHRcdFx0aWYgKCAhZmFzdCApIHtcblx0XHRcdFx0aXRlbS53aWR0aCA9IHQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRpdGVtLmhlaWdodCA9IHQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblxuXHRcdFx0cCA9IHQub2Zmc2V0KCk7XG5cdFx0XHRpdGVtLmxlZnQgPSBwLmxlZnQ7XG5cdFx0XHRpdGVtLnRvcCA9IHAudG9wO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmN1c3RvbSAmJiB0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHAgPSB0aGlzLmNvbnRhaW5lcnNbIGkgXS5lbGVtZW50Lm9mZnNldCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5sZWZ0ID0gcC5sZWZ0O1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS50b3AgPSBwLnRvcDtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUud2lkdGggPVxuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGkgXS5jb250YWluZXJDYWNoZS5oZWlnaHQgPVxuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfY3JlYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCB0aGF0ICkge1xuXHRcdHRoYXQgPSB0aGF0IHx8IHRoaXM7XG5cdFx0dmFyIGNsYXNzTmFtZSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnM7XG5cblx0XHRpZiAoICFvLnBsYWNlaG9sZGVyIHx8IG8ucGxhY2Vob2xkZXIuY29uc3RydWN0b3IgPT09IFN0cmluZyApIHtcblx0XHRcdGNsYXNzTmFtZSA9IG8ucGxhY2Vob2xkZXI7XG5cdFx0XHRvLnBsYWNlaG9sZGVyID0ge1xuXHRcdFx0XHRlbGVtZW50OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciBub2RlTmFtZSA9IHRoYXQuY3VycmVudEl0ZW1bIDAgXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0ZWxlbWVudCA9ICQoIFwiPFwiICsgbm9kZU5hbWUgKyBcIj5cIiwgdGhhdC5kb2N1bWVudFsgMCBdICk7XG5cblx0XHRcdFx0XHRcdHRoYXQuX2FkZENsYXNzKCBlbGVtZW50LCBcInVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyXCIsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHRoYXQuY3VycmVudEl0ZW1bIDAgXS5jbGFzc05hbWUgKVxuXHRcdFx0XHRcdFx0XHQuX3JlbW92ZUNsYXNzKCBlbGVtZW50LCBcInVpLXNvcnRhYmxlLWhlbHBlclwiICk7XG5cblx0XHRcdFx0XHRpZiAoIG5vZGVOYW1lID09PSBcInRib2R5XCIgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9jcmVhdGVUclBsYWNlaG9sZGVyKFxuXHRcdFx0XHRcdFx0XHR0aGF0LmN1cnJlbnRJdGVtLmZpbmQoIFwidHJcIiApLmVxKCAwICksXG5cdFx0XHRcdFx0XHRcdCQoIFwiPHRyPlwiLCB0aGF0LmRvY3VtZW50WyAwIF0gKS5hcHBlbmRUbyggZWxlbWVudCApXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcInRyXCIgKSB7XG5cdFx0XHRcdFx0XHR0aGF0Ll9jcmVhdGVUclBsYWNlaG9sZGVyKCB0aGF0LmN1cnJlbnRJdGVtLCBlbGVtZW50ICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW1nXCIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LmF0dHIoIFwic3JjXCIsIHRoYXQuY3VycmVudEl0ZW0uYXR0ciggXCJzcmNcIiApICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhY2xhc3NOYW1lICkge1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5jc3MoIFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHVwZGF0ZTogZnVuY3Rpb24oIGNvbnRhaW5lciwgcCApIHtcblxuXHRcdFx0XHRcdC8vIDEuIElmIGEgY2xhc3NOYW1lIGlzIHNldCBhcyAncGxhY2Vob2xkZXIgb3B0aW9uLCB3ZSBkb24ndCBmb3JjZSBzaXplcyAtXG5cdFx0XHRcdFx0Ly8gdGhlIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciB0aGF0XG5cdFx0XHRcdFx0Ly8gMi4gVGhlIG9wdGlvbiAnZm9yY2VQbGFjZWhvbGRlclNpemUgY2FuIGJlIGVuYWJsZWQgdG8gZm9yY2UgaXQgZXZlbiBpZiBhXG5cdFx0XHRcdFx0Ly8gY2xhc3MgbmFtZSBpcyBzcGVjaWZpZWRcblx0XHRcdFx0XHRpZiAoIGNsYXNzTmFtZSAmJiAhby5mb3JjZVBsYWNlaG9sZGVyU2l6ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvL0lmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhIGFjdHVhbCBoZWlnaHQgYnkgaXRzZWxmICh3aXRob3V0IHN0eWxlcyBjb21pbmdcblx0XHRcdFx0XHQvLyBmcm9tIGEgc3R5bGVzaGVldCksIGl0IHJlY2VpdmVzIHRoZSBpbmxpbmUgaGVpZ2h0IGZyb20gdGhlIGRyYWdnZWQgaXRlbVxuXHRcdFx0XHRcdGlmICggIXAuaGVpZ2h0KCkgKSB7XG5cdFx0XHRcdFx0XHRwLmhlaWdodChcblx0XHRcdFx0XHRcdFx0dGhhdC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpIC1cblx0XHRcdFx0XHRcdFx0cGFyc2VJbnQoIHRoYXQuY3VycmVudEl0ZW0uY3NzKCBcInBhZGRpbmdUb3BcIiApIHx8IDAsIDEwICkgLVxuXHRcdFx0XHRcdFx0XHRwYXJzZUludCggdGhhdC5jdXJyZW50SXRlbS5jc3MoIFwicGFkZGluZ0JvdHRvbVwiICkgfHwgMCwgMTAgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICFwLndpZHRoKCkgKSB7XG5cdFx0XHRcdFx0XHRwLndpZHRoKFxuXHRcdFx0XHRcdFx0XHR0aGF0LmN1cnJlbnRJdGVtLmlubmVyV2lkdGgoKSAtXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KCB0aGF0LmN1cnJlbnRJdGVtLmNzcyggXCJwYWRkaW5nTGVmdFwiICkgfHwgMCwgMTAgKSAtXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KCB0aGF0LmN1cnJlbnRJdGVtLmNzcyggXCJwYWRkaW5nUmlnaHRcIiApIHx8IDAsIDEwICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly9DcmVhdGUgdGhlIHBsYWNlaG9sZGVyXG5cdFx0dGhhdC5wbGFjZWhvbGRlciA9ICQoIG8ucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKCB0aGF0LmVsZW1lbnQsIHRoYXQuY3VycmVudEl0ZW0gKSApO1xuXG5cdFx0Ly9BcHBlbmQgaXQgYWZ0ZXIgdGhlIGFjdHVhbCBjdXJyZW50IGl0ZW1cblx0XHR0aGF0LmN1cnJlbnRJdGVtLmFmdGVyKCB0aGF0LnBsYWNlaG9sZGVyICk7XG5cblx0XHQvL1VwZGF0ZSB0aGUgc2l6ZSBvZiB0aGUgcGxhY2Vob2xkZXIgKFRPRE86IExvZ2ljIHRvIGZ1enp5LCBzZWUgbGluZSAzMTYvMzE3KVxuXHRcdG8ucGxhY2Vob2xkZXIudXBkYXRlKCB0aGF0LCB0aGF0LnBsYWNlaG9sZGVyICk7XG5cblx0fSxcblxuXHRfY3JlYXRlVHJQbGFjZWhvbGRlcjogZnVuY3Rpb24oIHNvdXJjZVRyLCB0YXJnZXRUciApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRzb3VyY2VUci5jaGlsZHJlbigpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggXCI8dGQ+JiMxNjA7PC90ZD5cIiwgdGhhdC5kb2N1bWVudFsgMCBdIClcblx0XHRcdFx0LmF0dHIoIFwiY29sc3BhblwiLCAkKCB0aGlzICkuYXR0ciggXCJjb2xzcGFuXCIgKSB8fCAxIClcblx0XHRcdFx0LmFwcGVuZFRvKCB0YXJnZXRUciApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRfY29udGFjdENvbnRhaW5lcnM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaSwgaiwgZGlzdCwgaXRlbVdpdGhMZWFzdERpc3RhbmNlLCBwb3NQcm9wZXJ0eSwgc2l6ZVByb3BlcnR5LCBjdXIsIG5lYXJCb3R0b20sXG5cdFx0XHRmbG9hdGluZywgYXhpcyxcblx0XHRcdGlubmVybW9zdENvbnRhaW5lciA9IG51bGwsXG5cdFx0XHRpbm5lcm1vc3RJbmRleCA9IG51bGw7XG5cblx0XHQvLyBHZXQgaW5uZXJtb3N0IGNvbnRhaW5lciB0aGF0IGludGVyc2VjdHMgd2l0aCBpdGVtXG5cdFx0Zm9yICggaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblxuXHRcdFx0Ly8gTmV2ZXIgY29uc2lkZXIgYSBjb250YWluZXIgdGhhdCdzIGxvY2F0ZWQgd2l0aGluIHRoZSBpdGVtIGl0c2VsZlxuXHRcdFx0aWYgKCAkLmNvbnRhaW5zKCB0aGlzLmN1cnJlbnRJdGVtWyAwIF0sIHRoaXMuY29udGFpbmVyc1sgaSBdLmVsZW1lbnRbIDAgXSApICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLl9pbnRlcnNlY3RzV2l0aCggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUgKSApIHtcblxuXHRcdFx0XHQvLyBJZiB3ZSd2ZSBhbHJlYWR5IGZvdW5kIGEgY29udGFpbmVyIGFuZCBpdCdzIG1vcmUgXCJpbm5lclwiIHRoYW4gdGhpcywgdGhlbiBjb250aW51ZVxuXHRcdFx0XHRpZiAoIGlubmVybW9zdENvbnRhaW5lciAmJlxuXHRcdFx0XHRcdFx0JC5jb250YWlucyhcblx0XHRcdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uZWxlbWVudFsgMCBdLFxuXHRcdFx0XHRcdFx0XHRpbm5lcm1vc3RDb250YWluZXIuZWxlbWVudFsgMCBdICkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbm5lcm1vc3RDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcnNbIGkgXTtcblx0XHRcdFx0aW5uZXJtb3N0SW5kZXggPSBpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIGNvbnRhaW5lciBkb2Vzbid0IGludGVyc2VjdC4gdHJpZ2dlciBcIm91dFwiIGV2ZW50IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRpZiAoIHRoaXMuY29udGFpbmVyc1sgaSBdLmNvbnRhaW5lckNhY2hlLm92ZXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uX3RyaWdnZXIoIFwib3V0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBJZiBubyBpbnRlcnNlY3RpbmcgY29udGFpbmVycyBmb3VuZCwgcmV0dXJuXG5cdFx0aWYgKCAhaW5uZXJtb3N0Q29udGFpbmVyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1vdmUgdGhlIGl0ZW0gaW50byB0aGUgY29udGFpbmVyIGlmIGl0J3Mgbm90IHRoZXJlIGFscmVhZHlcblx0XHRpZiAoIHRoaXMuY29udGFpbmVycy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRpZiAoICF0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLl90cmlnZ2VyKCBcIm92ZXJcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5jb250YWluZXJDYWNoZS5vdmVyID0gMTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBXaGVuIGVudGVyaW5nIGEgbmV3IGNvbnRhaW5lciwgd2Ugd2lsbCBmaW5kIHRoZSBpdGVtIHdpdGggdGhlIGxlYXN0IGRpc3RhbmNlIGFuZFxuXHRcdFx0Ly8gYXBwZW5kIG91ciBpdGVtIG5lYXIgaXRcblx0XHRcdGRpc3QgPSAxMDAwMDtcblx0XHRcdGl0ZW1XaXRoTGVhc3REaXN0YW5jZSA9IG51bGw7XG5cdFx0XHRmbG9hdGluZyA9IGlubmVybW9zdENvbnRhaW5lci5mbG9hdGluZyB8fCB0aGlzLl9pc0Zsb2F0aW5nKCB0aGlzLmN1cnJlbnRJdGVtICk7XG5cdFx0XHRwb3NQcm9wZXJ0eSA9IGZsb2F0aW5nID8gXCJsZWZ0XCIgOiBcInRvcFwiO1xuXHRcdFx0c2l6ZVByb3BlcnR5ID0gZmxvYXRpbmcgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiO1xuXHRcdFx0YXhpcyA9IGZsb2F0aW5nID8gXCJwYWdlWFwiIDogXCJwYWdlWVwiO1xuXG5cdFx0XHRmb3IgKCBqID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBqID49IDA7IGotLSApIHtcblx0XHRcdFx0aWYgKCAhJC5jb250YWlucyhcblx0XHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5lbGVtZW50WyAwIF0sIHRoaXMuaXRlbXNbIGogXS5pdGVtWyAwIF0gKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHRoaXMuaXRlbXNbIGogXS5pdGVtWyAwIF0gPT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1ciA9IHRoaXMuaXRlbXNbIGogXS5pdGVtLm9mZnNldCgpWyBwb3NQcm9wZXJ0eSBdO1xuXHRcdFx0XHRuZWFyQm90dG9tID0gZmFsc2U7XG5cdFx0XHRcdGlmICggZXZlbnRbIGF4aXMgXSAtIGN1ciA+IHRoaXMuaXRlbXNbIGogXVsgc2l6ZVByb3BlcnR5IF0gLyAyICkge1xuXHRcdFx0XHRcdG5lYXJCb3R0b20gPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggZXZlbnRbIGF4aXMgXSAtIGN1ciApIDwgZGlzdCApIHtcblx0XHRcdFx0XHRkaXN0ID0gTWF0aC5hYnMoIGV2ZW50WyBheGlzIF0gLSBjdXIgKTtcblx0XHRcdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgPSB0aGlzLml0ZW1zWyBqIF07XG5cdFx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSBuZWFyQm90dG9tID8gXCJ1cFwiIDogXCJkb3duXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly9DaGVjayBpZiBkcm9wT25FbXB0eSBpcyBlbmFibGVkXG5cdFx0XHRpZiAoICFpdGVtV2l0aExlYXN0RGlzdGFuY2UgJiYgIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRoaXMuY3VycmVudENvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdICkge1xuXHRcdFx0XHRpZiAoICF0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0uX3RyaWdnZXIoIFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgP1xuXHRcdFx0XHR0aGlzLl9yZWFycmFuZ2UoIGV2ZW50LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIG51bGwsIHRydWUgKSA6XG5cdFx0XHRcdHRoaXMuX3JlYXJyYW5nZSggZXZlbnQsIG51bGwsIHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5lbGVtZW50LCB0cnVlICk7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF07XG5cblx0XHRcdC8vVXBkYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdFx0dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSggdGhpcy5jdXJyZW50Q29udGFpbmVyLCB0aGlzLnBsYWNlaG9sZGVyICk7XG5cblx0XHRcdHRoaXMuY29udGFpbmVyc1sgaW5uZXJtb3N0SW5kZXggXS5fdHJpZ2dlciggXCJvdmVyXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGVscGVyID0gJC5pc0Z1bmN0aW9uKCBvLmhlbHBlciApID9cblx0XHRcdFx0JCggby5oZWxwZXIuYXBwbHkoIHRoaXMuZWxlbWVudFsgMCBdLCBbIGV2ZW50LCB0aGlzLmN1cnJlbnRJdGVtIF0gKSApIDpcblx0XHRcdFx0KCBvLmhlbHBlciA9PT0gXCJjbG9uZVwiID8gdGhpcy5jdXJyZW50SXRlbS5jbG9uZSgpIDogdGhpcy5jdXJyZW50SXRlbSApO1xuXG5cdFx0Ly9BZGQgdGhlIGhlbHBlciB0byB0aGUgRE9NIGlmIHRoYXQgZGlkbid0IGhhcHBlbiBhbHJlYWR5XG5cdFx0aWYgKCAhaGVscGVyLnBhcmVudHMoIFwiYm9keVwiICkubGVuZ3RoICkge1xuXHRcdFx0JCggby5hcHBlbmRUbyAhPT0gXCJwYXJlbnRcIiA/XG5cdFx0XHRcdG8uYXBwZW5kVG8gOlxuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtWyAwIF0ucGFyZW50Tm9kZSApWyAwIF0uYXBwZW5kQ2hpbGQoIGhlbHBlclsgMCBdICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoZWxwZXJbIDAgXSA9PT0gdGhpcy5jdXJyZW50SXRlbVsgMCBdICkge1xuXHRcdFx0dGhpcy5fc3RvcmVkQ1NTID0ge1xuXHRcdFx0XHR3aWR0aDogdGhpcy5jdXJyZW50SXRlbVsgMCBdLnN0eWxlLndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuY3VycmVudEl0ZW1bIDAgXS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRcdHBvc2l0aW9uOiB0aGlzLmN1cnJlbnRJdGVtLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdHRvcDogdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwidG9wXCIgKSxcblx0XHRcdFx0bGVmdDogdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwibGVmdFwiIClcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKCAhaGVscGVyWyAwIF0uc3R5bGUud2lkdGggfHwgby5mb3JjZUhlbHBlclNpemUgKSB7XG5cdFx0XHRoZWxwZXIud2lkdGgoIHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSApO1xuXHRcdH1cblx0XHRpZiAoICFoZWxwZXJbIDAgXS5zdHlsZS5oZWlnaHQgfHwgby5mb3JjZUhlbHBlclNpemUgKSB7XG5cdFx0XHRoZWxwZXIuaGVpZ2h0KCB0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IG9iai5zcGxpdCggXCIgXCIgKTtcblx0XHR9XG5cdFx0aWYgKCAkLmlzQXJyYXkoIG9iaiApICkge1xuXHRcdFx0b2JqID0geyBsZWZ0OiArb2JqWyAwIF0sIHRvcDogK29ialsgMSBdIHx8IDAgfTtcblx0XHR9XG5cdFx0aWYgKCBcImxlZnRcIiBpbiBvYmogKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gb2JqLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKCBcInJpZ2h0XCIgaW4gb2JqICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSBvYmoucmlnaHQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKCBcInRvcFwiIGluIG9iaiApIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA9IG9iai50b3AgKyB0aGlzLm1hcmdpbnMudG9wO1xuXHRcdH1cblx0XHRpZiAoIFwiYm90dG9tXCIgaW4gb2JqICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSBvYmouYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdH0sXG5cblx0X2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24oKSB7XG5cblx0XHQvL0dldCB0aGUgb2Zmc2V0UGFyZW50IGFuZCBjYWNoZSBpdHMgcG9zaXRpb25cblx0XHR0aGlzLm9mZnNldFBhcmVudCA9IHRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpO1xuXHRcdHZhciBwbyA9IHRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpO1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZSB3aGVyZSB3ZSBuZWVkIHRvIG1vZGlmeSBhIG9mZnNldCBjYWxjdWxhdGVkIG9uIHN0YXJ0LCBzaW5jZSB0aGVcblx0XHQvLyBmb2xsb3dpbmcgaGFwcGVuZWQ6XG5cdFx0Ly8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGVcblx0XHQvLyBuZXh0IHBvc2l0aW9uZWQgcGFyZW50XG5cdFx0Ly8gMi4gVGhlIGFjdHVhbCBvZmZzZXQgcGFyZW50IGlzIGEgY2hpbGQgb2YgdGhlIHNjcm9sbCBwYXJlbnQsIGFuZCB0aGUgc2Nyb2xsIHBhcmVudCBpc24ndFxuXHRcdC8vIHRoZSBkb2N1bWVudCwgd2hpY2ggbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIGlzIGluY2x1ZGVkIGluIHRoZSBpbml0aWFsIGNhbGN1bGF0aW9uIG9mIHRoZVxuXHRcdC8vIG9mZnNldCBvZiB0aGUgcGFyZW50LCBhbmQgbmV2ZXIgcmVjYWxjdWxhdGVkIHVwb24gZHJhZ1xuXHRcdGlmICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gIT09IHRoaXMuZG9jdW1lbnRbIDAgXSAmJlxuXHRcdFx0XHQkLmNvbnRhaW5zKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdLCB0aGlzLm9mZnNldFBhcmVudFsgMCBdICkgKSB7XG5cdFx0XHRwby5sZWZ0ICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTtcblx0XHRcdHBvLnRvcCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTtcblx0XHR9XG5cblx0XHQvLyBUaGlzIG5lZWRzIHRvIGJlIGFjdHVhbGx5IGRvbmUgZm9yIGFsbCBicm93c2Vycywgc2luY2UgcGFnZVgvcGFnZVkgaW5jbHVkZXMgdGhpc1xuXHRcdC8vIGluZm9ybWF0aW9uIHdpdGggYW4gdWdseSBJRSBmaXhcblx0XHRpZiAoIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gPT09IHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5IHx8XG5cdFx0XHRcdCggdGhpcy5vZmZzZXRQYXJlbnRbIDAgXS50YWdOYW1lICYmXG5cdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50WyAwIF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImh0bWxcIiAmJiAkLnVpLmllICkgKSB7XG5cdFx0XHRwbyA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcG8udG9wICsgKCBwYXJzZUludCggdGhpcy5vZmZzZXRQYXJlbnQuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICksXG5cdFx0XHRsZWZ0OiBwby5sZWZ0ICsgKCBwYXJzZUludCggdGhpcy5vZmZzZXRQYXJlbnQuY3NzKCBcImJvcmRlckxlZnRXaWR0aFwiICksIDEwICkgfHwgMCApXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9nZXRSZWxhdGl2ZU9mZnNldDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiApIHtcblx0XHRcdHZhciBwID0gdGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG9wOiBwLnRvcCAtICggcGFyc2VJbnQoIHRoaXMuaGVscGVyLmNzcyggXCJ0b3BcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksXG5cdFx0XHRcdGxlZnQ6IHAubGVmdCAtICggcGFyc2VJbnQoIHRoaXMuaGVscGVyLmNzcyggXCJsZWZ0XCIgKSwgMTAgKSB8fCAwICkgK1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKVxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdH0sXG5cblx0X2NhY2hlTWFyZ2luczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5tYXJnaW5zID0ge1xuXHRcdFx0bGVmdDogKCBwYXJzZUludCggdGhpcy5jdXJyZW50SXRlbS5jc3MoIFwibWFyZ2luTGVmdFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0dG9wOiAoIHBhcnNlSW50KCB0aGlzLmN1cnJlbnRJdGVtLmNzcyggXCJtYXJnaW5Ub3BcIiApLCAxMCApIHx8IDAgKVxuXHRcdH07XG5cdH0sXG5cblx0X2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0fSxcblxuXHRfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGNlLCBjbywgb3Zlcixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcInBhcmVudFwiICkge1xuXHRcdFx0by5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWyAwIF0ucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgfHwgby5jb250YWlubWVudCA9PT0gXCJ3aW5kb3dcIiApIHtcblx0XHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdDAgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsXG5cdFx0XHRcdDAgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wLFxuXHRcdFx0XHRvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgP1xuXHRcdFx0XHRcdHRoaXMuZG9jdW1lbnQud2lkdGgoKSA6XG5cdFx0XHRcdFx0dGhpcy53aW5kb3cud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0KCBvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgP1xuXHRcdFx0XHRcdCggdGhpcy5kb2N1bWVudC5oZWlnaHQoKSB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0ICkgOlxuXHRcdFx0XHRcdHRoaXMud2luZG93LmhlaWdodCgpIHx8IHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0XG5cdFx0XHRcdCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0fVxuXG5cdFx0aWYgKCAhKCAvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvICkudGVzdCggby5jb250YWlubWVudCApICkge1xuXHRcdFx0Y2UgPSAkKCBvLmNvbnRhaW5tZW50IClbIDAgXTtcblx0XHRcdGNvID0gJCggby5jb250YWlubWVudCApLm9mZnNldCgpO1xuXHRcdFx0b3ZlciA9ICggJCggY2UgKS5jc3MoIFwib3ZlcmZsb3dcIiApICE9PSBcImhpZGRlblwiICk7XG5cblx0XHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdGNvLmxlZnQgKyAoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdFx0KCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwicGFkZGluZ0xlZnRcIiApLCAxMCApIHx8IDAgKSAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHRjby50b3AgKyAoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApICtcblx0XHRcdFx0XHQoIHBhcnNlSW50KCAkKCBjZSApLmNzcyggXCJwYWRkaW5nVG9wXCIgKSwgMTAgKSB8fCAwICkgLSB0aGlzLm1hcmdpbnMudG9wLFxuXHRcdFx0XHRjby5sZWZ0ICsgKCBvdmVyID8gTWF0aC5tYXgoIGNlLnNjcm9sbFdpZHRoLCBjZS5vZmZzZXRXaWR0aCApIDogY2Uub2Zmc2V0V2lkdGggKSAtXG5cdFx0XHRcdFx0KCBwYXJzZUludCggJCggY2UgKS5jc3MoIFwiYm9yZGVyTGVmdFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcInBhZGRpbmdSaWdodFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdGNvLnRvcCArICggb3ZlciA/IE1hdGgubWF4KCBjZS5zY3JvbGxIZWlnaHQsIGNlLm9mZnNldEhlaWdodCApIDogY2Uub2Zmc2V0SGVpZ2h0ICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHRcdCggcGFyc2VJbnQoICQoIGNlICkuY3NzKCBcInBhZGRpbmdCb3R0b21cIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wXG5cdFx0XHRdO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jb252ZXJ0UG9zaXRpb25UbzogZnVuY3Rpb24oIGQsIHBvcyApIHtcblxuXHRcdGlmICggIXBvcyApIHtcblx0XHRcdHBvcyA9IHRoaXMucG9zaXRpb247XG5cdFx0fVxuXHRcdHZhciBtb2QgPSBkID09PSBcImFic29sdXRlXCIgPyAxIDogLTEsXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiZcblx0XHRcdFx0ISggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSAhPT0gdGhpcy5kb2N1bWVudFsgMCBdICYmXG5cdFx0XHRcdCQuY29udGFpbnMoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0sIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gKSApID9cblx0XHRcdFx0XHR0aGlzLm9mZnNldFBhcmVudCA6XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnQsXG5cdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID0gKCAvKGh0bWx8Ym9keSkvaSApLnRlc3QoIHNjcm9sbFsgMCBdLnRhZ05hbWUgKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cG9zLnRvcFx0K1xuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgKiBtb2QgK1xuXG5cdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgKiBtb2QgLVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID9cblx0XHRcdFx0XHQtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkgOlxuXHRcdFx0XHRcdCggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApICogbW9kIClcblx0XHRcdCksXG5cdFx0XHRsZWZ0OiAoXG5cblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHBvcy5sZWZ0ICtcblxuXHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAqIG1vZCArXG5cblx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBtb2RcdC1cblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/XG5cdFx0XHRcdFx0LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSA6IHNjcm9sbElzUm9vdE5vZGUgPyAwIDpcblx0XHRcdFx0XHRzY3JvbGwuc2Nyb2xsTGVmdCgpICkgKiBtb2QgKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dmFyIHRvcCwgbGVmdCxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRwYWdlWCA9IGV2ZW50LnBhZ2VYLFxuXHRcdFx0cGFnZVkgPSBldmVudC5wYWdlWSxcblx0XHRcdHNjcm9sbCA9IHRoaXMuY3NzUG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiAmJlxuXHRcdFx0XHQhKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0JC5jb250YWlucyggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSwgdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkgP1xuXHRcdFx0XHRcdHRoaXMub2Zmc2V0UGFyZW50IDpcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudCxcblx0XHRcdFx0c2Nyb2xsSXNSb290Tm9kZSA9ICggLyhodG1sfGJvZHkpL2kgKS50ZXN0KCBzY3JvbGxbIDAgXS50YWdOYW1lICk7XG5cblx0XHQvLyBUaGlzIGlzIGFub3RoZXIgdmVyeSB3ZWlyZCBzcGVjaWFsIGNhc2UgdGhhdCBvbmx5IGhhcHBlbnMgZm9yIHJlbGF0aXZlIGVsZW1lbnRzOlxuXHRcdC8vIDEuIElmIHRoZSBjc3MgcG9zaXRpb24gaXMgcmVsYXRpdmVcblx0XHQvLyAyLiBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXMgdGhlIGRvY3VtZW50IG9yIHNpbWlsYXIgdG8gdGhlIG9mZnNldCBwYXJlbnRcblx0XHQvLyB3ZSBoYXZlIHRvIHJlZnJlc2ggdGhlIHJlbGF0aXZlIG9mZnNldCBkdXJpbmcgdGhlIHNjcm9sbCBzbyB0aGVyZSBhcmUgbm8ganVtcHNcblx0XHRpZiAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiAmJiAhKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0gJiZcblx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbIDAgXSAhPT0gdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkge1xuXHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUgPSB0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0ICogLSBQb3NpdGlvbiBjb25zdHJhaW5pbmcgLVxuXHRcdCAqIENvbnN0cmFpbiB0aGUgcG9zaXRpb24gdG8gYSBtaXggb2YgZ3JpZCwgY29udGFpbm1lbnQuXG5cdFx0ICovXG5cblx0XHRpZiAoIHRoaXMub3JpZ2luYWxQb3NpdGlvbiApIHsgLy9JZiB3ZSBhcmUgbm90IGRyYWdnaW5nIHlldCwgd2Ugd29uJ3QgY2hlY2sgZm9yIG9wdGlvbnNcblxuXHRcdFx0aWYgKCB0aGlzLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IHRoaXMuY29udGFpbm1lbnRbIDAgXSApIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbIDAgXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8IHRoaXMuY29udGFpbm1lbnRbIDEgXSApIHtcblx0XHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnRbIDEgXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IHRoaXMuY29udGFpbm1lbnRbIDIgXSApIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbIDIgXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IHRoaXMuY29udGFpbm1lbnRbIDMgXSApIHtcblx0XHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnRbIDMgXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG8uZ3JpZCApIHtcblx0XHRcdFx0dG9wID0gdGhpcy5vcmlnaW5hbFBhZ2VZICsgTWF0aC5yb3VuZCggKCBwYWdlWSAtIHRoaXMub3JpZ2luYWxQYWdlWSApIC9cblx0XHRcdFx0XHRvLmdyaWRbIDEgXSApICogby5ncmlkWyAxIF07XG5cdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudCA/XG5cdFx0XHRcdFx0KCAoIHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSB0aGlzLmNvbnRhaW5tZW50WyAxIF0gJiZcblx0XHRcdFx0XHRcdHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8PSB0aGlzLmNvbnRhaW5tZW50WyAzIF0gKSA/XG5cdFx0XHRcdFx0XHRcdHRvcCA6XG5cdFx0XHRcdFx0XHRcdCggKCB0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gdGhpcy5jb250YWlubWVudFsgMSBdICkgP1xuXHRcdFx0XHRcdFx0XHRcdHRvcCAtIG8uZ3JpZFsgMSBdIDogdG9wICsgby5ncmlkWyAxIF0gKSApIDpcblx0XHRcdFx0XHRcdFx0XHR0b3A7XG5cblx0XHRcdFx0bGVmdCA9IHRoaXMub3JpZ2luYWxQYWdlWCArIE1hdGgucm91bmQoICggcGFnZVggLSB0aGlzLm9yaWdpbmFsUGFnZVggKSAvXG5cdFx0XHRcdFx0by5ncmlkWyAwIF0gKSAqIG8uZ3JpZFsgMCBdO1xuXHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnQgP1xuXHRcdFx0XHRcdCggKCBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WyAwIF0gJiZcblx0XHRcdFx0XHRcdGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDw9IHRoaXMuY29udGFpbm1lbnRbIDIgXSApID9cblx0XHRcdFx0XHRcdFx0bGVmdCA6XG5cdFx0XHRcdFx0XHRcdCggKCBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WyAwIF0gKSA/XG5cdFx0XHRcdFx0XHRcdFx0bGVmdCAtIG8uZ3JpZFsgMCBdIDogbGVmdCArIG8uZ3JpZFsgMCBdICkgKSA6XG5cdFx0XHRcdFx0XHRcdFx0bGVmdDtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cGFnZVkgLVxuXG5cdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCAtXG5cblx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtXG5cblx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LnRvcCArXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgP1xuXHRcdFx0XHRcdC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6XG5cdFx0XHRcdFx0KCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHNjcm9sbC5zY3JvbGxUb3AoKSApICkgKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblxuXHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0cGFnZVggLVxuXG5cdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLVxuXG5cdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC1cblxuXHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQubGVmdCArXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgP1xuXHRcdFx0XHRcdC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkgOlxuXHRcdFx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbExlZnQoKSApIClcblx0XHRcdClcblx0XHR9O1xuXG5cdH0sXG5cblx0X3JlYXJyYW5nZTogZnVuY3Rpb24oIGV2ZW50LCBpLCBhLCBoYXJkUmVmcmVzaCApIHtcblxuXHRcdGEgPyBhWyAwIF0uYXBwZW5kQ2hpbGQoIHRoaXMucGxhY2Vob2xkZXJbIDAgXSApIDpcblx0XHRcdGkuaXRlbVsgMCBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB0aGlzLnBsYWNlaG9sZGVyWyAwIF0sXG5cdFx0XHRcdCggdGhpcy5kaXJlY3Rpb24gPT09IFwiZG93blwiID8gaS5pdGVtWyAwIF0gOiBpLml0ZW1bIDAgXS5uZXh0U2libGluZyApICk7XG5cblx0XHQvL1ZhcmlvdXMgdGhpbmdzIGRvbmUgaGVyZSB0byBpbXByb3ZlIHRoZSBwZXJmb3JtYW5jZTpcblx0XHQvLyAxLiB3ZSBjcmVhdGUgYSBzZXRUaW1lb3V0LCB0aGF0IGNhbGxzIHJlZnJlc2hQb3NpdGlvbnNcblx0XHQvLyAyLiBvbiB0aGUgaW5zdGFuY2UsIHdlIGhhdmUgYSBjb3VudGVyIHZhcmlhYmxlLCB0aGF0IGdldCdzIGhpZ2hlciBhZnRlciBldmVyeSBhcHBlbmRcblx0XHQvLyAzLiBvbiB0aGUgbG9jYWwgc2NvcGUsIHdlIGNvcHkgdGhlIGNvdW50ZXIgdmFyaWFibGUsIGFuZCBjaGVjayBpbiB0aGUgdGltZW91dCxcblx0XHQvLyBpZiBpdCdzIHN0aWxsIHRoZSBzYW1lXG5cdFx0Ly8gNC4gdGhpcyBsZXRzIG9ubHkgdGhlIGxhc3QgYWRkaXRpb24gdG8gdGhlIHRpbWVvdXQgc3RhY2sgdGhyb3VnaFxuXHRcdHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciA/ICsrdGhpcy5jb3VudGVyIDogMTtcblx0XHR2YXIgY291bnRlciA9IHRoaXMuY291bnRlcjtcblxuXHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggY291bnRlciA9PT0gdGhpcy5jb3VudGVyICkge1xuXG5cdFx0XHRcdC8vUHJlY29tcHV0ZSBhZnRlciBlYWNoIERPTSBpbnNlcnRpb24sIE5PVCBvbiBtb3VzZW1vdmVcblx0XHRcdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCAhaGFyZFJlZnJlc2ggKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSxcblxuXHRfY2xlYXI6IGZ1bmN0aW9uKCBldmVudCwgbm9Qcm9wYWdhdGlvbiApIHtcblxuXHRcdHRoaXMucmV2ZXJ0aW5nID0gZmFsc2U7XG5cblx0XHQvLyBXZSBkZWxheSBhbGwgZXZlbnRzIHRoYXQgaGF2ZSB0byBiZSB0cmlnZ2VyZWQgdG8gYWZ0ZXIgdGhlIHBvaW50IHdoZXJlIHRoZSBwbGFjZWhvbGRlclxuXHRcdC8vIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGV2ZXJ5dGhpbmcgZWxzZSBub3JtYWxpemVkIGFnYWluXG5cdFx0dmFyIGksXG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMgPSBbXTtcblxuXHRcdC8vIFdlIGZpcnN0IGhhdmUgdG8gdXBkYXRlIHRoZSBkb20gcG9zaXRpb24gb2YgdGhlIGFjdHVhbCBjdXJyZW50SXRlbVxuXHRcdC8vIE5vdGU6IGRvbid0IGRvIGl0IGlmIHRoZSBjdXJyZW50IGl0ZW0gaXMgYWxyZWFkeSByZW1vdmVkIChieSBhIHVzZXIpLCBvciBpdCBnZXRzXG5cdFx0Ly8gcmVhcHBlbmRlZCAoc2VlICM0MDg4KVxuXHRcdGlmICggIXRoaXMuX25vRmluYWxTb3J0ICYmIHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5wbGFjZWhvbGRlci5iZWZvcmUoIHRoaXMuY3VycmVudEl0ZW0gKTtcblx0XHR9XG5cdFx0dGhpcy5fbm9GaW5hbFNvcnQgPSBudWxsO1xuXG5cdFx0aWYgKCB0aGlzLmhlbHBlclsgMCBdID09PSB0aGlzLmN1cnJlbnRJdGVtWyAwIF0gKSB7XG5cdFx0XHRmb3IgKCBpIGluIHRoaXMuX3N0b3JlZENTUyApIHtcblx0XHRcdFx0aWYgKCB0aGlzLl9zdG9yZWRDU1NbIGkgXSA9PT0gXCJhdXRvXCIgfHwgdGhpcy5fc3RvcmVkQ1NTWyBpIF0gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3RvcmVkQ1NTWyBpIF0gPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmNzcyggdGhpcy5fc3RvcmVkQ1NTICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5jdXJyZW50SXRlbSwgXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuZnJvbU91dHNpZGUgJiYgIW5vUHJvcGFnYXRpb24gKSB7XG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcInJlY2VpdmVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcy5mcm9tT3V0c2lkZSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHRcdGlmICggKCB0aGlzLmZyb21PdXRzaWRlIHx8XG5cdFx0XHRcdHRoaXMuZG9tUG9zaXRpb24ucHJldiAhPT1cblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCBcIi51aS1zb3J0YWJsZS1oZWxwZXJcIiApWyAwIF0gfHxcblx0XHRcdFx0dGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQgIT09IHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbIDAgXSApICYmICFub1Byb3BhZ2F0aW9uICkge1xuXG5cdFx0XHQvLyBUcmlnZ2VyIHVwZGF0ZSBjYWxsYmFjayBpZiB0aGUgRE9NIHBvc2l0aW9uIGhhcyBjaGFuZ2VkXG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcInVwZGF0ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgaXRlbXMgQ29udGFpbmVyIGhhcyBDaGFuZ2VkIGFuZCB0cmlnZ2VyIGFwcHJvcHJpYXRlXG5cdFx0Ly8gZXZlbnRzLlxuXHRcdGlmICggdGhpcyAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyICkge1xuXHRcdFx0aWYgKCAhbm9Qcm9wYWdhdGlvbiApIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcInJlbW92ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggKCBmdW5jdGlvbiggYyApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0Yy5fdHJpZ2dlciggXCJyZWNlaXZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gKS5jYWxsKCB0aGlzLCB0aGlzLmN1cnJlbnRDb250YWluZXIgKSApO1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggKCBmdW5jdGlvbiggYyApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0Yy5fdHJpZ2dlciggXCJ1cGRhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSApLmNhbGwoIHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lciApICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0ZnVuY3Rpb24gZGVsYXlFdmVudCggdHlwZSwgaW5zdGFuY2UsIGNvbnRhaW5lciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGNvbnRhaW5lci5fdHJpZ2dlciggdHlwZSwgZXZlbnQsIGluc3RhbmNlLl91aUhhc2goIGluc3RhbmNlICkgKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZGVsYXlFdmVudCggXCJkZWFjdGl2YXRlXCIsIHRoaXMsIHRoaXMuY29udGFpbmVyc1sgaSBdICkgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goIGRlbGF5RXZlbnQoIFwib3V0XCIsIHRoaXMsIHRoaXMuY29udGFpbmVyc1sgaSBdICkgKTtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9EbyB3aGF0IHdhcyBvcmlnaW5hbGx5IGluIHBsdWdpbnNcblx0XHRpZiAoIHRoaXMuc3RvcmVkQ3Vyc29yICkge1xuXHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgdGhpcy5zdG9yZWRDdXJzb3IgKTtcblx0XHRcdHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9zdG9yZWRPcGFjaXR5ICkge1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcIm9wYWNpdHlcIiwgdGhpcy5fc3RvcmVkT3BhY2l0eSApO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuX3N0b3JlZFpJbmRleCApIHtcblx0XHRcdHRoaXMuaGVscGVyLmNzcyggXCJ6SW5kZXhcIiwgdGhpcy5fc3RvcmVkWkluZGV4ID09PSBcImF1dG9cIiA/IFwiXCIgOiB0aGlzLl9zdG9yZWRaSW5kZXggKTtcblx0XHR9XG5cblx0XHR0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cblx0XHRpZiAoICFub1Byb3BhZ2F0aW9uICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJiZWZvcmVTdG9wXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSApO1xuXHRcdH1cblxuXHRcdC8vJCh0aGlzLnBsYWNlaG9sZGVyWzBdKS5yZW1vdmUoKTsgd291bGQgaGF2ZSBiZWVuIHRoZSBqUXVlcnkgd2F5IC0gdW5mb3J0dW5hdGVseSxcblx0XHQvLyBpdCB1bmJpbmRzIEFMTCBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSFcblx0XHR0aGlzLnBsYWNlaG9sZGVyWyAwIF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGhpcy5wbGFjZWhvbGRlclsgMCBdICk7XG5cblx0XHRpZiAoICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgKSB7XG5cdFx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhlbHBlciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKCAhbm9Qcm9wYWdhdGlvbiApIHtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsYXllZFRyaWdnZXJzLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHRcdC8vIFRyaWdnZXIgYWxsIGRlbGF5ZWQgZXZlbnRzXG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vyc1sgaSBdLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mcm9tT3V0c2lkZSA9IGZhbHNlO1xuXHRcdHJldHVybiAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsO1xuXG5cdH0sXG5cblx0X3RyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggJC5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLmNhbmNlbCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdWlIYXNoOiBmdW5jdGlvbiggX2luc3QgKSB7XG5cdFx0dmFyIGluc3QgPSBfaW5zdCB8fCB0aGlzO1xuXHRcdHJldHVybiB7XG5cdFx0XHRoZWxwZXI6IGluc3QuaGVscGVyLFxuXHRcdFx0cGxhY2Vob2xkZXI6IGluc3QucGxhY2Vob2xkZXIgfHwgJCggW10gKSxcblx0XHRcdHBvc2l0aW9uOiBpbnN0LnBvc2l0aW9uLFxuXHRcdFx0b3JpZ2luYWxQb3NpdGlvbjogaW5zdC5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0b2Zmc2V0OiBpbnN0LnBvc2l0aW9uQWJzLFxuXHRcdFx0aXRlbTogaW5zdC5jdXJyZW50SXRlbSxcblx0XHRcdHNlbmRlcjogX2luc3QgPyBfaW5zdC5lbGVtZW50IDogbnVsbFxuXHRcdH07XG5cdH1cblxufSApO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNwaW5uZXIgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNwaW5uZXJcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBidXR0b25zIHRvIGVhc2lseSBpbnB1dCBudW1iZXJzIHZpYSB0aGUga2V5Ym9hcmQgb3IgbW91c2UuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc3Bpbm5lci9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9zcGlubmVyL1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL2NvcmUuY3NzXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2Uvc3Bpbm5lci5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG5cblxuZnVuY3Rpb24gc3Bpbm5lck1vZGlmZXIoIGZuICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZXZpb3VzID0gdGhpcy5lbGVtZW50LnZhbCgpO1xuXHRcdGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdFx0aWYgKCBwcmV2aW91cyAhPT0gdGhpcy5lbGVtZW50LnZhbCgpICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJjaGFuZ2VcIiApO1xuXHRcdH1cblx0fTtcbn1cblxuJC53aWRnZXQoIFwidWkuc3Bpbm5lclwiLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxpbnB1dD5cIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwic3BpblwiLFxuXHRvcHRpb25zOiB7XG5cdFx0Y2xhc3Nlczoge1xuXHRcdFx0XCJ1aS1zcGlubmVyXCI6IFwidWktY29ybmVyLWFsbFwiLFxuXHRcdFx0XCJ1aS1zcGlubmVyLWRvd25cIjogXCJ1aS1jb3JuZXItYnJcIixcblx0XHRcdFwidWktc3Bpbm5lci11cFwiOiBcInVpLWNvcm5lci10clwiXG5cdFx0fSxcblx0XHRjdWx0dXJlOiBudWxsLFxuXHRcdGljb25zOiB7XG5cdFx0XHRkb3duOiBcInVpLWljb24tdHJpYW5nbGUtMS1zXCIsXG5cdFx0XHR1cDogXCJ1aS1pY29uLXRyaWFuZ2xlLTEtblwiXG5cdFx0fSxcblx0XHRpbmNyZW1lbnRhbDogdHJ1ZSxcblx0XHRtYXg6IG51bGwsXG5cdFx0bWluOiBudWxsLFxuXHRcdG51bWJlckZvcm1hdDogbnVsbCxcblx0XHRwYWdlOiAxMCxcblx0XHRzdGVwOiAxLFxuXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdHNwaW46IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbFxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gaGFuZGxlIHN0cmluZyB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHBhcnNlZFxuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJtYXhcIiwgdGhpcy5vcHRpb25zLm1heCApO1xuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJtaW5cIiwgdGhpcy5vcHRpb25zLm1pbiApO1xuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJzdGVwXCIsIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cblx0XHQvLyBPbmx5IGZvcm1hdCBpZiB0aGVyZSBpcyBhIHZhbHVlLCBwcmV2ZW50cyB0aGUgZmllbGQgZnJvbSBiZWluZyBtYXJrZWRcblx0XHQvLyBhcyBpbnZhbGlkIGluIEZpcmVmb3gsIHNlZSAjOTU3My5cblx0XHRpZiAoIHRoaXMudmFsdWUoKSAhPT0gXCJcIiApIHtcblxuXHRcdFx0Ly8gRm9ybWF0IHRoZSB2YWx1ZSwgYnV0IGRvbid0IGNvbnN0cmFpbi5cblx0XHRcdHRoaXMuX3ZhbHVlKCB0aGlzLmVsZW1lbnQudmFsKCksIHRydWUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kcmF3KCk7XG5cdFx0dGhpcy5fb24oIHRoaXMuX2V2ZW50cyApO1xuXHRcdHRoaXMuX3JlZnJlc2goKTtcblxuXHRcdC8vIFR1cm5pbmcgb2ZmIGF1dG9jb21wbGV0ZSBwcmV2ZW50cyB0aGUgYnJvd3NlciBmcm9tIHJlbWVtYmVyaW5nIHRoZVxuXHRcdC8vIHZhbHVlIHdoZW4gbmF2aWdhdGluZyB0aHJvdWdoIGhpc3RvcnksIHNvIHdlIHJlLWVuYWJsZSBhdXRvY29tcGxldGVcblx0XHQvLyBpZiB0aGUgcGFnZSBpcyB1bmxvYWRlZCBiZWZvcmUgdGhlIHdpZGdldCBpcyBkZXN0cm95ZWQuICM3NzkwXG5cdFx0dGhpcy5fb24oIHRoaXMud2luZG93LCB7XG5cdFx0XHRiZWZvcmV1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQXR0ciggXCJhdXRvY29tcGxldGVcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLl9zdXBlcigpO1xuXHRcdHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG5cdFx0JC5lYWNoKCBbIFwibWluXCIsIFwibWF4XCIsIFwic3RlcFwiIF0sIGZ1bmN0aW9uKCBpLCBvcHRpb24gKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBlbGVtZW50LmF0dHIoIG9wdGlvbiApO1xuXHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICYmIHZhbHVlLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9uc1sgb3B0aW9uIF0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gb3B0aW9ucztcblx0fSxcblxuXHRfZXZlbnRzOiB7XG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0aWYgKCB0aGlzLl9zdGFydCggZXZlbnQgKSAmJiB0aGlzLl9rZXlkb3duKCBldmVudCApICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0a2V5dXA6IFwiX3N0b3BcIixcblx0XHRmb2N1czogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnByZXZpb3VzID0gdGhpcy5lbGVtZW50LnZhbCgpO1xuXHRcdH0sXG5cdFx0Ymx1cjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0aWYgKCB0aGlzLmNhbmNlbEJsdXIgKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc3RvcCgpO1xuXHRcdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHRcdFx0aWYgKCB0aGlzLnByZXZpb3VzICE9PSB0aGlzLmVsZW1lbnQudmFsKCkgKSB7XG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtb3VzZXdoZWVsOiBmdW5jdGlvbiggZXZlbnQsIGRlbHRhICkge1xuXHRcdFx0aWYgKCAhZGVsdGEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICggIXRoaXMuc3Bpbm5pbmcgJiYgIXRoaXMuX3N0YXJ0KCBldmVudCApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3NwaW4oICggZGVsdGEgPiAwID8gMSA6IC0xICkgKiB0aGlzLm9wdGlvbnMuc3RlcCwgZXZlbnQgKTtcblx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5tb3VzZXdoZWVsVGltZXIgKTtcblx0XHRcdHRoaXMubW91c2V3aGVlbFRpbWVyID0gdGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMuc3Bpbm5pbmcgKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3RvcCggZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMTAwICk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0sXG5cdFx0XCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBwcmV2aW91cztcblxuXHRcdFx0Ly8gV2UgbmV2ZXIgd2FudCB0aGUgYnV0dG9ucyB0byBoYXZlIGZvY3VzOyB3aGVuZXZlciB0aGUgdXNlciBpc1xuXHRcdFx0Ly8gaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc3Bpbm5lciwgdGhlIGZvY3VzIHNob3VsZCBiZSBvbiB0aGUgaW5wdXQuXG5cdFx0XHQvLyBJZiB0aGUgaW5wdXQgaXMgZm9jdXNlZCB0aGVuIHRoaXMucHJldmlvdXMgaXMgcHJvcGVybHkgc2V0IGZyb21cblx0XHRcdC8vIHdoZW4gdGhlIGlucHV0IGZpcnN0IHJlY2VpdmVkIGZvY3VzLiBJZiB0aGUgaW5wdXQgaXMgbm90IGZvY3VzZWRcblx0XHRcdC8vIHRoZW4gd2UgbmVlZCB0byBzZXQgdGhpcy5wcmV2aW91cyBiYXNlZCBvbiB0aGUgdmFsdWUgYmVmb3JlIHNwaW5uaW5nLlxuXHRcdFx0cHJldmlvdXMgPSB0aGlzLmVsZW1lbnRbIDAgXSA9PT0gJC51aS5zYWZlQWN0aXZlRWxlbWVudCggdGhpcy5kb2N1bWVudFsgMCBdICkgP1xuXHRcdFx0XHR0aGlzLnByZXZpb3VzIDogdGhpcy5lbGVtZW50LnZhbCgpO1xuXHRcdFx0ZnVuY3Rpb24gY2hlY2tGb2N1cygpIHtcblx0XHRcdFx0dmFyIGlzQWN0aXZlID0gdGhpcy5lbGVtZW50WyAwIF0gPT09ICQudWkuc2FmZUFjdGl2ZUVsZW1lbnQoIHRoaXMuZG9jdW1lbnRbIDAgXSApO1xuXHRcdFx0XHRpZiAoICFpc0FjdGl2ZSApIHtcblx0XHRcdFx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0XHRcdFx0dGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuXG5cdFx0XHRcdFx0Ly8gc3VwcG9ydDogSUVcblx0XHRcdFx0XHQvLyBJRSBzZXRzIGZvY3VzIGFzeW5jaHJvbm91c2x5LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGlmIGZvY3VzXG5cdFx0XHRcdFx0Ly8gbW92ZWQgb2ZmIG9mIHRoZSBpbnB1dCBiZWNhdXNlIHRoZSB1c2VyIGNsaWNrZWQgb24gdGhlIGJ1dHRvbi5cblx0XHRcdFx0XHR0aGlzLl9kZWxheSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEVuc3VyZSBmb2N1cyBpcyBvbiAob3Igc3RheXMgb24pIHRoZSB0ZXh0IGZpZWxkXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y2hlY2tGb2N1cy5jYWxsKCB0aGlzICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0XHQvLyBJRSBkb2Vzbid0IHByZXZlbnQgbW92aW5nIGZvY3VzIGV2ZW4gd2l0aCBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHQvLyBzbyB3ZSBzZXQgYSBmbGFnIHRvIGtub3cgd2hlbiB3ZSBzaG91bGQgaWdub3JlIHRoZSBibHVyIGV2ZW50XG5cdFx0XHQvLyBhbmQgY2hlY2sgKGFnYWluKSBpZiBmb2N1cyBtb3ZlZCBvZmYgb2YgdGhlIGlucHV0LlxuXHRcdFx0dGhpcy5jYW5jZWxCbHVyID0gdHJ1ZTtcblx0XHRcdHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtcblx0XHRcdFx0Y2hlY2tGb2N1cy5jYWxsKCB0aGlzICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdGlmICggdGhpcy5fc3RhcnQoIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgJCggZXZlbnQuY3VycmVudFRhcmdldCApXG5cdFx0XHRcdC5oYXNDbGFzcyggXCJ1aS1zcGlubmVyLXVwXCIgKSA/IDEgOiAtMSwgZXZlbnQgKTtcblx0XHR9LFxuXHRcdFwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b25cIjogXCJfc3RvcFwiLFxuXHRcdFwibW91c2VlbnRlciAudWktc3Bpbm5lci1idXR0b25cIjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBidXR0b24gd2lsbCBhZGQgdWktc3RhdGUtYWN0aXZlIGlmIG1vdXNlIHdhcyBkb3duIHdoaWxlIG1vdXNlbGVhdmUgYW5kIGtlcHQgZG93blxuXHRcdFx0aWYgKCAhJCggZXZlbnQuY3VycmVudFRhcmdldCApLmhhc0NsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLl9zdGFydCggZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgJCggZXZlbnQuY3VycmVudFRhcmdldCApXG5cdFx0XHRcdC5oYXNDbGFzcyggXCJ1aS1zcGlubmVyLXVwXCIgKSA/IDEgOiAtMSwgZXZlbnQgKTtcblx0XHR9LFxuXG5cdFx0Ly8gVE9ETzogZG8gd2UgcmVhbGx5IHdhbnQgdG8gY29uc2lkZXIgdGhpcyBhIHN0b3A/XG5cdFx0Ly8gc2hvdWxkbid0IHdlIGp1c3Qgc3RvcCB0aGUgcmVwZWF0ZXIgYW5kIHdhaXQgdW50aWwgbW91c2V1cCBiZWZvcmVcblx0XHQvLyB3ZSB0cmlnZ2VyIHRoZSBzdG9wIGV2ZW50P1xuXHRcdFwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b25cIjogXCJfc3RvcFwiXG5cdH0sXG5cblx0Ly8gU3VwcG9ydCBtb2JpbGUgZW5oYW5jZWQgb3B0aW9uIGFuZCBtYWtlIGJhY2tjb21wYXQgbW9yZSBzYW5lXG5cdF9lbmhhbmNlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnVpU3Bpbm5lciA9IHRoaXMuZWxlbWVudFxuXHRcdFx0LmF0dHIoIFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIgKVxuXHRcdFx0LndyYXAoIFwiPHNwYW4+XCIgKVxuXHRcdFx0LnBhcmVudCgpXG5cblx0XHRcdFx0Ly8gQWRkIGJ1dHRvbnNcblx0XHRcdFx0LmFwcGVuZChcblx0XHRcdFx0XHRcIjxhPjwvYT48YT48L2E+XCJcblx0XHRcdFx0KTtcblx0fSxcblxuXHRfZHJhdzogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fZW5oYW5jZSgpO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMudWlTcGlubmVyLCBcInVpLXNwaW5uZXJcIiwgXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnRcIiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLXNwaW5uZXItaW5wdXRcIiApO1xuXG5cdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwicm9sZVwiLCBcInNwaW5idXR0b25cIiApO1xuXG5cdFx0Ly8gQnV0dG9uIGJpbmRpbmdzXG5cdFx0dGhpcy5idXR0b25zID0gdGhpcy51aVNwaW5uZXIuY2hpbGRyZW4oIFwiYVwiIClcblx0XHRcdC5hdHRyKCBcInRhYkluZGV4XCIsIC0xIClcblx0XHRcdC5hdHRyKCBcImFyaWEtaGlkZGVuXCIsIHRydWUgKVxuXHRcdFx0LmJ1dHRvbigge1xuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XCJ1aS1idXR0b25cIjogXCJcIlxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHQvLyBUT0RPOiBSaWdodCBub3cgYnV0dG9uIGRvZXMgbm90IHN1cHBvcnQgY2xhc3NlcyB0aGlzIGlzIGFscmVhZHkgdXBkYXRlZCBpbiBidXR0b24gUFJcblx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5idXR0b25zLCBcInVpLWNvcm5lci1hbGxcIiApO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuYnV0dG9ucy5maXJzdCgpLCBcInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItdXBcIiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmJ1dHRvbnMubGFzdCgpLCBcInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93blwiICk7XG5cdFx0dGhpcy5idXR0b25zLmZpcnN0KCkuYnV0dG9uKCB7XG5cdFx0XHRcImljb25cIjogdGhpcy5vcHRpb25zLmljb25zLnVwLFxuXHRcdFx0XCJzaG93TGFiZWxcIjogZmFsc2Vcblx0XHR9ICk7XG5cdFx0dGhpcy5idXR0b25zLmxhc3QoKS5idXR0b24oIHtcblx0XHRcdFwiaWNvblwiOiB0aGlzLm9wdGlvbnMuaWNvbnMuZG93bixcblx0XHRcdFwic2hvd0xhYmVsXCI6IGZhbHNlXG5cdFx0fSApO1xuXG5cdFx0Ly8gSUUgNiBkb2Vzbid0IHVuZGVyc3RhbmQgaGVpZ2h0OiA1MCUgZm9yIHRoZSBidXR0b25zXG5cdFx0Ly8gdW5sZXNzIHRoZSB3cmFwcGVyIGhhcyBhbiBleHBsaWNpdCBoZWlnaHRcblx0XHRpZiAoIHRoaXMuYnV0dG9ucy5oZWlnaHQoKSA+IE1hdGguY2VpbCggdGhpcy51aVNwaW5uZXIuaGVpZ2h0KCkgKiAwLjUgKSAmJlxuXHRcdFx0XHR0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSA+IDAgKSB7XG5cdFx0XHR0aGlzLnVpU3Bpbm5lci5oZWlnaHQoIHRoaXMudWlTcGlubmVyLmhlaWdodCgpICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9rZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRrZXlDb2RlID0gJC51aS5rZXlDb2RlO1xuXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHR0aGlzLl9yZXBlYXQoIG51bGwsIDEsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIGtleUNvZGUuRE9XTjpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgLTEsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIGtleUNvZGUuUEFHRV9VUDpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgb3B0aW9ucy5wYWdlLCBldmVudCApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0Y2FzZSBrZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgLW9wdGlvbnMucGFnZSwgZXZlbnQgKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfc3RhcnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLnNwaW5uaW5nICYmIHRoaXMuX3RyaWdnZXIoIFwic3RhcnRcIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCAhdGhpcy5jb3VudGVyICkge1xuXHRcdFx0dGhpcy5jb3VudGVyID0gMTtcblx0XHR9XG5cdFx0dGhpcy5zcGlubmluZyA9IHRydWU7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X3JlcGVhdDogZnVuY3Rpb24oIGksIHN0ZXBzLCBldmVudCApIHtcblx0XHRpID0gaSB8fCA1MDA7XG5cblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHR0aGlzLnRpbWVyID0gdGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcmVwZWF0KCA0MCwgc3RlcHMsIGV2ZW50ICk7XG5cdFx0fSwgaSApO1xuXG5cdFx0dGhpcy5fc3Bpbiggc3RlcHMgKiB0aGlzLm9wdGlvbnMuc3RlcCwgZXZlbnQgKTtcblx0fSxcblxuXHRfc3BpbjogZnVuY3Rpb24oIHN0ZXAsIGV2ZW50ICkge1xuXHRcdHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKSB8fCAwO1xuXG5cdFx0aWYgKCAhdGhpcy5jb3VudGVyICkge1xuXHRcdFx0dGhpcy5jb3VudGVyID0gMTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRoaXMuX2FkanVzdFZhbHVlKCB2YWx1ZSArIHN0ZXAgKiB0aGlzLl9pbmNyZW1lbnQoIHRoaXMuY291bnRlciApICk7XG5cblx0XHRpZiAoICF0aGlzLnNwaW5uaW5nIHx8IHRoaXMuX3RyaWdnZXIoIFwic3BpblwiLCBldmVudCwgeyB2YWx1ZTogdmFsdWUgfSApICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMuX3ZhbHVlKCB2YWx1ZSApO1xuXHRcdFx0dGhpcy5jb3VudGVyKys7XG5cdFx0fVxuXHR9LFxuXG5cdF9pbmNyZW1lbnQ6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBpbmNyZW1lbnRhbCA9IHRoaXMub3B0aW9ucy5pbmNyZW1lbnRhbDtcblxuXHRcdGlmICggaW5jcmVtZW50YWwgKSB7XG5cdFx0XHRyZXR1cm4gJC5pc0Z1bmN0aW9uKCBpbmNyZW1lbnRhbCApID9cblx0XHRcdFx0aW5jcmVtZW50YWwoIGkgKSA6XG5cdFx0XHRcdE1hdGguZmxvb3IoIGkgKiBpICogaSAvIDUwMDAwIC0gaSAqIGkgLyA1MDAgKyAxNyAqIGkgLyAyMDAgKyAxICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDE7XG5cdH0sXG5cblx0X3ByZWNpc2lvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZWNpc2lvbiA9IHRoaXMuX3ByZWNpc2lvbk9mKCB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXHRcdGlmICggdGhpcy5vcHRpb25zLm1pbiAhPT0gbnVsbCApIHtcblx0XHRcdHByZWNpc2lvbiA9IE1hdGgubWF4KCBwcmVjaXNpb24sIHRoaXMuX3ByZWNpc2lvbk9mKCB0aGlzLm9wdGlvbnMubWluICkgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHByZWNpc2lvbjtcblx0fSxcblxuXHRfcHJlY2lzaW9uT2Y6IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0dmFyIHN0ciA9IG51bS50b1N0cmluZygpLFxuXHRcdFx0ZGVjaW1hbCA9IHN0ci5pbmRleE9mKCBcIi5cIiApO1xuXHRcdHJldHVybiBkZWNpbWFsID09PSAtMSA/IDAgOiBzdHIubGVuZ3RoIC0gZGVjaW1hbCAtIDE7XG5cdH0sXG5cblx0X2FkanVzdFZhbHVlOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGJhc2UsIGFib3ZlTWluLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSdyZSBhdCBhIHZhbGlkIHN0ZXBcblx0XHQvLyAtIGZpbmQgb3V0IHdoZXJlIHdlIGFyZSByZWxhdGl2ZSB0byB0aGUgYmFzZSAobWluIG9yIDApXG5cdFx0YmFzZSA9IG9wdGlvbnMubWluICE9PSBudWxsID8gb3B0aW9ucy5taW4gOiAwO1xuXHRcdGFib3ZlTWluID0gdmFsdWUgLSBiYXNlO1xuXG5cdFx0Ly8gLSByb3VuZCB0byB0aGUgbmVhcmVzdCBzdGVwXG5cdFx0YWJvdmVNaW4gPSBNYXRoLnJvdW5kKCBhYm92ZU1pbiAvIG9wdGlvbnMuc3RlcCApICogb3B0aW9ucy5zdGVwO1xuXG5cdFx0Ly8gLSByb3VuZGluZyBpcyBiYXNlZCBvbiAwLCBzbyBhZGp1c3QgYmFjayB0byBvdXIgYmFzZVxuXHRcdHZhbHVlID0gYmFzZSArIGFib3ZlTWluO1xuXG5cdFx0Ly8gRml4IHByZWNpc2lvbiBmcm9tIGJhZCBKUyBmbG9hdGluZyBwb2ludCBtYXRoXG5cdFx0dmFsdWUgPSBwYXJzZUZsb2F0KCB2YWx1ZS50b0ZpeGVkKCB0aGlzLl9wcmVjaXNpb24oKSApICk7XG5cblx0XHQvLyBDbGFtcCB0aGUgdmFsdWVcblx0XHRpZiAoIG9wdGlvbnMubWF4ICE9PSBudWxsICYmIHZhbHVlID4gb3B0aW9ucy5tYXggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5tYXg7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5taW4gIT09IG51bGwgJiYgdmFsdWUgPCBvcHRpb25zLm1pbiApIHtcblx0XHRcdHJldHVybiBvcHRpb25zLm1pbjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cblx0X3N0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLnNwaW5uaW5nICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy5tb3VzZXdoZWVsVGltZXIgKTtcblx0XHR0aGlzLmNvdW50ZXIgPSAwO1xuXHRcdHRoaXMuc3Bpbm5pbmcgPSBmYWxzZTtcblx0XHR0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgcHJldlZhbHVlLCBmaXJzdCwgbGFzdDtcblxuXHRcdGlmICgga2V5ID09PSBcImN1bHR1cmVcIiB8fCBrZXkgPT09IFwibnVtYmVyRm9ybWF0XCIgKSB7XG5cdFx0XHRwcmV2VmFsdWUgPSB0aGlzLl9wYXJzZSggdGhpcy5lbGVtZW50LnZhbCgpICk7XG5cdFx0XHR0aGlzLm9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cdFx0XHR0aGlzLmVsZW1lbnQudmFsKCB0aGlzLl9mb3JtYXQoIHByZXZWYWx1ZSApICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwibWF4XCIgfHwga2V5ID09PSBcIm1pblwiIHx8IGtleSA9PT0gXCJzdGVwXCIgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0dmFsdWUgPSB0aGlzLl9wYXJzZSggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCBrZXkgPT09IFwiaWNvbnNcIiApIHtcblx0XHRcdGZpcnN0ID0gdGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCggXCIudWktaWNvblwiICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggZmlyc3QsIG51bGwsIHRoaXMub3B0aW9ucy5pY29ucy51cCApO1xuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIGZpcnN0LCBudWxsLCB2YWx1ZS51cCApO1xuXHRcdFx0bGFzdCA9IHRoaXMuYnV0dG9ucy5sYXN0KCkuZmluZCggXCIudWktaWNvblwiICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggbGFzdCwgbnVsbCwgdGhpcy5vcHRpb25zLmljb25zLmRvd24gKTtcblx0XHRcdHRoaXMuX2FkZENsYXNzKCBsYXN0LCBudWxsLCB2YWx1ZS5kb3duICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uRGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlciggdmFsdWUgKTtcblxuXHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCB0aGlzLnVpU3Bpbm5lciwgbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdHRoaXMuYnV0dG9ucy5idXR0b24oIHZhbHVlID8gXCJkaXNhYmxlXCIgOiBcImVuYWJsZVwiICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbnM6IHNwaW5uZXJNb2RpZmVyKCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR0aGlzLl9zdXBlciggb3B0aW9ucyApO1xuXHR9ICksXG5cblx0X3BhcnNlOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdGlmICggdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiAmJiB2YWwgIT09IFwiXCIgKSB7XG5cdFx0XHR2YWwgPSB3aW5kb3cuR2xvYmFsaXplICYmIHRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQgP1xuXHRcdFx0XHRHbG9iYWxpemUucGFyc2VGbG9hdCggdmFsLCAxMCwgdGhpcy5vcHRpb25zLmN1bHR1cmUgKSA6ICt2YWw7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwgPT09IFwiXCIgfHwgaXNOYU4oIHZhbCApID8gbnVsbCA6IHZhbDtcblx0fSxcblxuXHRfZm9ybWF0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblx0XHRyZXR1cm4gd2luZG93Lkdsb2JhbGl6ZSAmJiB0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0ID9cblx0XHRcdEdsb2JhbGl6ZS5mb3JtYXQoIHZhbHVlLCB0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0LCB0aGlzLm9wdGlvbnMuY3VsdHVyZSApIDpcblx0XHRcdHZhbHVlO1xuXHR9LFxuXG5cdF9yZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQuYXR0cigge1xuXHRcdFx0XCJhcmlhLXZhbHVlbWluXCI6IHRoaXMub3B0aW9ucy5taW4sXG5cdFx0XHRcImFyaWEtdmFsdWVtYXhcIjogdGhpcy5vcHRpb25zLm1heCxcblxuXHRcdFx0Ly8gVE9ETzogd2hhdCBzaG91bGQgd2UgZG8gd2l0aCB2YWx1ZXMgdGhhdCBjYW4ndCBiZSBwYXJzZWQ/XG5cdFx0XHRcImFyaWEtdmFsdWVub3dcIjogdGhpcy5fcGFyc2UoIHRoaXMuZWxlbWVudC52YWwoKSApXG5cdFx0fSApO1xuXHR9LFxuXG5cdGlzVmFsaWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKTtcblxuXHRcdC8vIE51bGwgaXMgaW52YWxpZFxuXHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdmFsdWUgZ2V0cyBhZGp1c3RlZCwgaXQncyBpbnZhbGlkXG5cdFx0cmV0dXJuIHZhbHVlID09PSB0aGlzLl9hZGp1c3RWYWx1ZSggdmFsdWUgKTtcblx0fSxcblxuXHQvLyBVcGRhdGUgdGhlIHZhbHVlIHdpdGhvdXQgdHJpZ2dlcmluZyBjaGFuZ2Vcblx0X3ZhbHVlOiBmdW5jdGlvbiggdmFsdWUsIGFsbG93QW55ICkge1xuXHRcdHZhciBwYXJzZWQ7XG5cdFx0aWYgKCB2YWx1ZSAhPT0gXCJcIiApIHtcblx0XHRcdHBhcnNlZCA9IHRoaXMuX3BhcnNlKCB2YWx1ZSApO1xuXHRcdFx0aWYgKCBwYXJzZWQgIT09IG51bGwgKSB7XG5cdFx0XHRcdGlmICggIWFsbG93QW55ICkge1xuXHRcdFx0XHRcdHBhcnNlZCA9IHRoaXMuX2FkanVzdFZhbHVlKCBwYXJzZWQgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YWx1ZSA9IHRoaXMuX2Zvcm1hdCggcGFyc2VkICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuZWxlbWVudC52YWwoIHZhbHVlICk7XG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5wcm9wKCBcImRpc2FibGVkXCIsIGZhbHNlIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImF1dG9jb21wbGV0ZSByb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93XCIgKTtcblxuXHRcdHRoaXMudWlTcGlubmVyLnJlcGxhY2VXaXRoKCB0aGlzLmVsZW1lbnQgKTtcblx0fSxcblxuXHRzdGVwVXA6IHNwaW5uZXJNb2RpZmVyKCBmdW5jdGlvbiggc3RlcHMgKSB7XG5cdFx0dGhpcy5fc3RlcFVwKCBzdGVwcyApO1xuXHR9ICksXG5cdF9zdGVwVXA6IGZ1bmN0aW9uKCBzdGVwcyApIHtcblx0XHRpZiAoIHRoaXMuX3N0YXJ0KCkgKSB7XG5cdFx0XHR0aGlzLl9zcGluKCAoIHN0ZXBzIHx8IDEgKSAqIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cdFx0XHR0aGlzLl9zdG9wKCk7XG5cdFx0fVxuXHR9LFxuXG5cdHN0ZXBEb3duOiBzcGlubmVyTW9kaWZlciggZnVuY3Rpb24oIHN0ZXBzICkge1xuXHRcdHRoaXMuX3N0ZXBEb3duKCBzdGVwcyApO1xuXHR9ICksXG5cdF9zdGVwRG93bjogZnVuY3Rpb24oIHN0ZXBzICkge1xuXHRcdGlmICggdGhpcy5fc3RhcnQoKSApIHtcblx0XHRcdHRoaXMuX3NwaW4oICggc3RlcHMgfHwgMSApICogLXRoaXMub3B0aW9ucy5zdGVwICk7XG5cdFx0XHR0aGlzLl9zdG9wKCk7XG5cdFx0fVxuXHR9LFxuXG5cdHBhZ2VVcDogc3Bpbm5lck1vZGlmZXIoIGZ1bmN0aW9uKCBwYWdlcyApIHtcblx0XHR0aGlzLl9zdGVwVXAoICggcGFnZXMgfHwgMSApICogdGhpcy5vcHRpb25zLnBhZ2UgKTtcblx0fSApLFxuXG5cdHBhZ2VEb3duOiBzcGlubmVyTW9kaWZlciggZnVuY3Rpb24oIHBhZ2VzICkge1xuXHRcdHRoaXMuX3N0ZXBEb3duKCAoIHBhZ2VzIHx8IDEgKSAqIHRoaXMub3B0aW9ucy5wYWdlICk7XG5cdH0gKSxcblxuXHR2YWx1ZTogZnVuY3Rpb24oIG5ld1ZhbCApIHtcblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnNlKCB0aGlzLmVsZW1lbnQudmFsKCkgKTtcblx0XHR9XG5cdFx0c3Bpbm5lck1vZGlmZXIoIHRoaXMuX3ZhbHVlICkuY2FsbCggdGhpcywgbmV3VmFsICk7XG5cdH0sXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy51aVNwaW5uZXI7XG5cdH1cbn0gKTtcblxuLy8gREVQUkVDQVRFRFxuLy8gVE9ETzogc3dpdGNoIHJldHVybiBiYWNrIHRvIHdpZGdldCBkZWNsYXJhdGlvbiBhdCB0b3Agb2YgZmlsZSB3aGVuIHRoaXMgaXMgcmVtb3ZlZFxuaWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgKSB7XG5cblx0Ly8gQmFja2NvbXBhdCBmb3Igc3Bpbm5lciBodG1sIGV4dGVuc2lvbiBwb2ludHNcblx0JC53aWRnZXQoIFwidWkuc3Bpbm5lclwiLCAkLnVpLnNwaW5uZXIsIHtcblx0XHRfZW5oYW5jZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVpU3Bpbm5lciA9IHRoaXMuZWxlbWVudFxuXHRcdFx0XHQuYXR0ciggXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIiApXG5cdFx0XHRcdC53cmFwKCB0aGlzLl91aVNwaW5uZXJIdG1sKCkgKVxuXHRcdFx0XHQucGFyZW50KClcblxuXHRcdFx0XHRcdC8vIEFkZCBidXR0b25zXG5cdFx0XHRcdFx0LmFwcGVuZCggdGhpcy5fYnV0dG9uSHRtbCgpICk7XG5cdFx0fSxcblx0XHRfdWlTcGlubmVySHRtbDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gXCI8c3Bhbj5cIjtcblx0XHR9LFxuXG5cdFx0X2J1dHRvbkh0bWw6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFwiPGE+PC9hPjxhPjwvYT5cIjtcblx0XHR9XG5cdH0gKTtcbn1cblxudmFyIHdpZGdldHNTcGlubmVyID0gJC51aS5zcGlubmVyO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFRhYnMgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFRhYnNcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBUcmFuc2Zvcm1zIGEgc2V0IG9mIGNvbnRhaW5lciBlbGVtZW50cyBpbnRvIGEgdGFiIHN0cnVjdHVyZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90YWJzL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3RhYnMvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS90YWJzLmNzc1xuLy8+PmNzcy50aGVtZTogLi4vLi4vdGhlbWVzL2Jhc2UvdGhlbWUuY3NzXG5cblxuXG4kLndpZGdldCggXCJ1aS50YWJzXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0ZGVsYXk6IDMwMCxcblx0b3B0aW9uczoge1xuXHRcdGFjdGl2ZTogbnVsbCxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcInVpLXRhYnNcIjogXCJ1aS1jb3JuZXItYWxsXCIsXG5cdFx0XHRcInVpLXRhYnMtbmF2XCI6IFwidWktY29ybmVyLWFsbFwiLFxuXHRcdFx0XCJ1aS10YWJzLXBhbmVsXCI6IFwidWktY29ybmVyLWJvdHRvbVwiLFxuXHRcdFx0XCJ1aS10YWJzLXRhYlwiOiBcInVpLWNvcm5lci10b3BcIlxuXHRcdH0sXG5cdFx0Y29sbGFwc2libGU6IGZhbHNlLFxuXHRcdGV2ZW50OiBcImNsaWNrXCIsXG5cdFx0aGVpZ2h0U3R5bGU6IFwiY29udGVudFwiLFxuXHRcdGhpZGU6IG51bGwsXG5cdFx0c2hvdzogbnVsbCxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZUFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZUxvYWQ6IG51bGwsXG5cdFx0bG9hZDogbnVsbFxuXHR9LFxuXG5cdF9pc0xvY2FsOiAoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciByaGFzaCA9IC8jLiokLztcblxuXHRcdHJldHVybiBmdW5jdGlvbiggYW5jaG9yICkge1xuXHRcdFx0dmFyIGFuY2hvclVybCwgbG9jYXRpb25Vcmw7XG5cblx0XHRcdGFuY2hvclVybCA9IGFuY2hvci5ocmVmLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cdFx0XHRsb2NhdGlvblVybCA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdFx0Ly8gRGVjb2RpbmcgbWF5IHRocm93IGFuIGVycm9yIGlmIHRoZSBVUkwgaXNuJ3QgVVRGLTggKCM5NTE4KVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YW5jaG9yVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KCBhbmNob3JVcmwgKTtcblx0XHRcdH0gY2F0Y2ggKCBlcnJvciApIHt9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRsb2NhdGlvblVybCA9IGRlY29kZVVSSUNvbXBvbmVudCggbG9jYXRpb25VcmwgKTtcblx0XHRcdH0gY2F0Y2ggKCBlcnJvciApIHt9XG5cblx0XHRcdHJldHVybiBhbmNob3IuaGFzaC5sZW5ndGggPiAxICYmIGFuY2hvclVybCA9PT0gbG9jYXRpb25Vcmw7XG5cdFx0fTtcblx0fSApKCksXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdHRoaXMucnVubmluZyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktdGFic1wiLCBcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiICk7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIFwidWktdGFicy1jb2xsYXBzaWJsZVwiLCBudWxsLCBvcHRpb25zLmNvbGxhcHNpYmxlICk7XG5cblx0XHR0aGlzLl9wcm9jZXNzVGFicygpO1xuXHRcdG9wdGlvbnMuYWN0aXZlID0gdGhpcy5faW5pdGlhbEFjdGl2ZSgpO1xuXG5cdFx0Ly8gVGFrZSBkaXNhYmxpbmcgdGFicyB2aWEgY2xhc3MgYXR0cmlidXRlIGZyb20gSFRNTFxuXHRcdC8vIGludG8gYWNjb3VudCBhbmQgdXBkYXRlIG9wdGlvbiBwcm9wZXJseS5cblx0XHRpZiAoICQuaXNBcnJheSggb3B0aW9ucy5kaXNhYmxlZCApICkge1xuXHRcdFx0b3B0aW9ucy5kaXNhYmxlZCA9ICQudW5pcXVlKCBvcHRpb25zLmRpc2FibGVkLmNvbmNhdChcblx0XHRcdFx0JC5tYXAoIHRoaXMudGFicy5maWx0ZXIoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKSwgZnVuY3Rpb24oIGxpICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGF0LnRhYnMuaW5kZXgoIGxpICk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0KSApLnNvcnQoKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBmb3IgbGVuZ3RoIGF2b2lkcyBlcnJvciB3aGVuIGluaXRpYWxpemluZyBlbXB0eSBsaXN0XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYWN0aXZlICE9PSBmYWxzZSAmJiB0aGlzLmFuY2hvcnMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5hY3RpdmUgPSB0aGlzLl9maW5kQWN0aXZlKCBvcHRpb25zLmFjdGl2ZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFjdGl2ZSA9ICQoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cblx0XHRpZiAoIHRoaXMuYWN0aXZlLmxlbmd0aCApIHtcblx0XHRcdHRoaXMubG9hZCggb3B0aW9ucy5hY3RpdmUgKTtcblx0XHR9XG5cdH0sXG5cblx0X2luaXRpYWxBY3RpdmU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhY3RpdmUgPSB0aGlzLm9wdGlvbnMuYWN0aXZlLFxuXHRcdFx0Y29sbGFwc2libGUgPSB0aGlzLm9wdGlvbnMuY29sbGFwc2libGUsXG5cdFx0XHRsb2NhdGlvbkhhc2ggPSBsb2NhdGlvbi5oYXNoLnN1YnN0cmluZyggMSApO1xuXG5cdFx0aWYgKCBhY3RpdmUgPT09IG51bGwgKSB7XG5cblx0XHRcdC8vIGNoZWNrIHRoZSBmcmFnbWVudCBpZGVudGlmaWVyIGluIHRoZSBVUkxcblx0XHRcdGlmICggbG9jYXRpb25IYXNoICkge1xuXHRcdFx0XHR0aGlzLnRhYnMuZWFjaCggZnVuY3Rpb24oIGksIHRhYiApIHtcblx0XHRcdFx0XHRpZiAoICQoIHRhYiApLmF0dHIoIFwiYXJpYS1jb250cm9sc1wiICkgPT09IGxvY2F0aW9uSGFzaCApIHtcblx0XHRcdFx0XHRcdGFjdGl2ZSA9IGk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENoZWNrIGZvciBhIHRhYiBtYXJrZWQgYWN0aXZlIHZpYSBhIGNsYXNzXG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmluZGV4KCB0aGlzLnRhYnMuZmlsdGVyKCBcIi51aS10YWJzLWFjdGl2ZVwiICkgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTm8gYWN0aXZlIHRhYiwgc2V0IHRvIGZhbHNlXG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gbnVsbCB8fCBhY3RpdmUgPT09IC0xICkge1xuXHRcdFx0XHRhY3RpdmUgPSB0aGlzLnRhYnMubGVuZ3RoID8gMCA6IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBudW1iZXJzOiBuZWdhdGl2ZSwgb3V0IG9mIHJhbmdlXG5cdFx0aWYgKCBhY3RpdmUgIT09IGZhbHNlICkge1xuXHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmluZGV4KCB0aGlzLnRhYnMuZXEoIGFjdGl2ZSApICk7XG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gLTEgKSB7XG5cdFx0XHRcdGFjdGl2ZSA9IGNvbGxhcHNpYmxlID8gZmFsc2UgOiAwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIERvbid0IGFsbG93IGNvbGxhcHNpYmxlOiBmYWxzZSBhbmQgYWN0aXZlOiBmYWxzZVxuXHRcdGlmICggIWNvbGxhcHNpYmxlICYmIGFjdGl2ZSA9PT0gZmFsc2UgJiYgdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcblx0XHRcdGFjdGl2ZSA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjdGl2ZTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlRXZlbnREYXRhOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dGFiOiB0aGlzLmFjdGl2ZSxcblx0XHRcdHBhbmVsOiAhdGhpcy5hY3RpdmUubGVuZ3RoID8gJCgpIDogdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRoaXMuYWN0aXZlIClcblx0XHR9O1xuXHR9LFxuXG5cdF90YWJLZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGZvY3VzZWRUYWIgPSAkKCAkLnVpLnNhZmVBY3RpdmVFbGVtZW50KCB0aGlzLmRvY3VtZW50WyAwIF0gKSApLmNsb3Nlc3QoIFwibGlcIiApLFxuXHRcdFx0c2VsZWN0ZWRJbmRleCA9IHRoaXMudGFicy5pbmRleCggZm9jdXNlZFRhYiApLFxuXHRcdFx0Z29pbmdGb3J3YXJkID0gdHJ1ZTtcblxuXHRcdGlmICggdGhpcy5faGFuZGxlUGFnZU5hdiggZXZlbnQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHRzZWxlY3RlZEluZGV4Kys7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5VUDpcblx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0Z29pbmdGb3J3YXJkID0gZmFsc2U7XG5cdFx0XHRzZWxlY3RlZEluZGV4LS07XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRzZWxlY3RlZEluZGV4ID0gdGhpcy5hbmNob3JzLmxlbmd0aCAtIDE7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0c2VsZWN0ZWRJbmRleCA9IDA7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcblxuXHRcdFx0Ly8gQWN0aXZhdGUgb25seSwgbm8gY29sbGFwc2luZ1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5hY3RpdmF0aW5nICk7XG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggc2VsZWN0ZWRJbmRleCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkVOVEVSOlxuXG5cdFx0XHQvLyBUb2dnbGUgKGNhbmNlbCBkZWxheWVkIGFjdGl2YXRpb24sIGFsbG93IGNvbGxhcHNpbmcpXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmFjdGl2YXRpbmcgKTtcblxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBvciBhY3RpdmF0ZVxuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHNlbGVjdGVkSW5kZXggPT09IHRoaXMub3B0aW9ucy5hY3RpdmUgPyBmYWxzZSA6IHNlbGVjdGVkSW5kZXggKTtcblx0XHRcdHJldHVybjtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZvY3VzIHRoZSBhcHByb3ByaWF0ZSB0YWIsIGJhc2VkIG9uIHdoaWNoIGtleSB3YXMgcHJlc3NlZFxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmFjdGl2YXRpbmcgKTtcblx0XHRzZWxlY3RlZEluZGV4ID0gdGhpcy5fZm9jdXNOZXh0VGFiKCBzZWxlY3RlZEluZGV4LCBnb2luZ0ZvcndhcmQgKTtcblxuXHRcdC8vIE5hdmlnYXRpbmcgd2l0aCBjb250cm9sL2NvbW1hbmQga2V5IHdpbGwgcHJldmVudCBhdXRvbWF0aWMgYWN0aXZhdGlvblxuXHRcdGlmICggIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkgKSB7XG5cblx0XHRcdC8vIFVwZGF0ZSBhcmlhLXNlbGVjdGVkIGltbWVkaWF0ZWx5IHNvIHRoYXQgQVQgdGhpbmsgdGhlIHRhYiBpcyBhbHJlYWR5IHNlbGVjdGVkLlxuXHRcdFx0Ly8gT3RoZXJ3aXNlIEFUIG1heSBjb25mdXNlIHRoZSB1c2VyIGJ5IHN0YXRpbmcgdGhhdCB0aGV5IG5lZWQgdG8gYWN0aXZhdGUgdGhlIHRhYixcblx0XHRcdC8vIGJ1dCB0aGUgdGFiIHdpbGwgYWxyZWFkeSBiZSBhY3RpdmF0ZWQgYnkgdGhlIHRpbWUgdGhlIGFubm91bmNlbWVudCBmaW5pc2hlcy5cblx0XHRcdGZvY3VzZWRUYWIuYXR0ciggXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIiApO1xuXHRcdFx0dGhpcy50YWJzLmVxKCBzZWxlY3RlZEluZGV4ICkuYXR0ciggXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiICk7XG5cblx0XHRcdHRoaXMuYWN0aXZhdGluZyA9IHRoaXMuX2RlbGF5KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5vcHRpb24oIFwiYWN0aXZlXCIsIHNlbGVjdGVkSW5kZXggKTtcblx0XHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3BhbmVsS2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5faGFuZGxlUGFnZU5hdiggZXZlbnQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDdHJsK3VwIG1vdmVzIGZvY3VzIHRvIHRoZSBjdXJyZW50IHRhYlxuXHRcdGlmICggZXZlbnQuY3RybEtleSAmJiBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVAgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5hY3RpdmUudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEFsdCtwYWdlIHVwL2Rvd24gbW92ZXMgZm9jdXMgdG8gdGhlIHByZXZpb3VzL25leHQgdGFiIChhbmQgYWN0aXZhdGVzKVxuXHRfaGFuZGxlUGFnZU5hdjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggZXZlbnQuYWx0S2V5ICYmIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5QQUdFX1VQICkge1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHRoaXMuX2ZvY3VzTmV4dFRhYiggdGhpcy5vcHRpb25zLmFjdGl2ZSAtIDEsIGZhbHNlICkgKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRpZiAoIGV2ZW50LmFsdEtleSAmJiBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOICkge1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHRoaXMuX2ZvY3VzTmV4dFRhYiggdGhpcy5vcHRpb25zLmFjdGl2ZSArIDEsIHRydWUgKSApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LFxuXG5cdF9maW5kTmV4dFRhYjogZnVuY3Rpb24oIGluZGV4LCBnb2luZ0ZvcndhcmQgKSB7XG5cdFx0dmFyIGxhc3RUYWJJbmRleCA9IHRoaXMudGFicy5sZW5ndGggLSAxO1xuXG5cdFx0ZnVuY3Rpb24gY29uc3RyYWluKCkge1xuXHRcdFx0aWYgKCBpbmRleCA+IGxhc3RUYWJJbmRleCApIHtcblx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XG5cdFx0XHRcdGluZGV4ID0gbGFzdFRhYkluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGluZGV4O1xuXHRcdH1cblxuXHRcdHdoaWxlICggJC5pbkFycmF5KCBjb25zdHJhaW4oKSwgdGhpcy5vcHRpb25zLmRpc2FibGVkICkgIT09IC0xICkge1xuXHRcdFx0aW5kZXggPSBnb2luZ0ZvcndhcmQgPyBpbmRleCArIDEgOiBpbmRleCAtIDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9LFxuXG5cdF9mb2N1c05leHRUYWI6IGZ1bmN0aW9uKCBpbmRleCwgZ29pbmdGb3J3YXJkICkge1xuXHRcdGluZGV4ID0gdGhpcy5fZmluZE5leHRUYWIoIGluZGV4LCBnb2luZ0ZvcndhcmQgKTtcblx0XHR0aGlzLnRhYnMuZXEoIGluZGV4ICkudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImFjdGl2ZVwiICkge1xuXG5cdFx0XHQvLyBfYWN0aXZhdGUoKSB3aWxsIGhhbmRsZSBpbnZhbGlkIHZhbHVlcyBhbmQgdXBkYXRlIHRoaXMub3B0aW9uc1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHZhbHVlICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImNvbGxhcHNpYmxlXCIgKSB7XG5cdFx0XHR0aGlzLl90b2dnbGVDbGFzcyggXCJ1aS10YWJzLWNvbGxhcHNpYmxlXCIsIG51bGwsIHZhbHVlICk7XG5cblx0XHRcdC8vIFNldHRpbmcgY29sbGFwc2libGU6IGZhbHNlIHdoaWxlIGNvbGxhcHNlZDsgb3BlbiBmaXJzdCBwYW5lbFxuXHRcdFx0aWYgKCAhdmFsdWUgJiYgdGhpcy5vcHRpb25zLmFjdGl2ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCAwICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiZXZlbnRcIiApIHtcblx0XHRcdHRoaXMuX3NldHVwRXZlbnRzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImhlaWdodFN0eWxlXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXR1cEhlaWdodFN0eWxlKCB2YWx1ZSApO1xuXHRcdH1cblx0fSxcblxuXHRfc2FuaXRpemVTZWxlY3RvcjogZnVuY3Rpb24oIGhhc2ggKSB7XG5cdFx0cmV0dXJuIGhhc2ggPyBoYXNoLnJlcGxhY2UoIC9bIVwiJCUmJygpKissLlxcLzo7PD0+P0BcXFtcXF1cXF5ge3x9fl0vZywgXCJcXFxcJCZcIiApIDogXCJcIjtcblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGxpcyA9IHRoaXMudGFibGlzdC5jaGlsZHJlbiggXCI6aGFzKGFbaHJlZl0pXCIgKTtcblxuXHRcdC8vIEdldCBkaXNhYmxlZCB0YWJzIGZyb20gY2xhc3MgYXR0cmlidXRlIGZyb20gSFRNTFxuXHRcdC8vIHRoaXMgd2lsbCBnZXQgY29udmVydGVkIHRvIGEgYm9vbGVhbiBpZiBuZWVkZWQgaW4gX3JlZnJlc2goKVxuXHRcdG9wdGlvbnMuZGlzYWJsZWQgPSAkLm1hcCggbGlzLmZpbHRlciggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLCBmdW5jdGlvbiggdGFiICkge1xuXHRcdFx0cmV0dXJuIGxpcy5pbmRleCggdGFiICk7XG5cdFx0fSApO1xuXG5cdFx0dGhpcy5fcHJvY2Vzc1RhYnMoKTtcblxuXHRcdC8vIFdhcyBjb2xsYXBzZWQgb3Igbm8gdGFic1xuXHRcdGlmICggb3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlIHx8ICF0aGlzLmFuY2hvcnMubGVuZ3RoICkge1xuXHRcdFx0b3B0aW9ucy5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdHRoaXMuYWN0aXZlID0gJCgpO1xuXG5cdFx0Ly8gd2FzIGFjdGl2ZSwgYnV0IGFjdGl2ZSB0YWIgaXMgZ29uZVxuXHRcdH0gZWxzZSBpZiAoIHRoaXMuYWN0aXZlLmxlbmd0aCAmJiAhJC5jb250YWlucyggdGhpcy50YWJsaXN0WyAwIF0sIHRoaXMuYWN0aXZlWyAwIF0gKSApIHtcblxuXHRcdFx0Ly8gYWxsIHJlbWFpbmluZyB0YWJzIGFyZSBkaXNhYmxlZFxuXHRcdFx0aWYgKCB0aGlzLnRhYnMubGVuZ3RoID09PSBvcHRpb25zLmRpc2FibGVkLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucy5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XG5cblx0XHRcdC8vIGFjdGl2YXRlIHByZXZpb3VzIHRhYlxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGUoIHRoaXMuX2ZpbmROZXh0VGFiKCBNYXRoLm1heCggMCwgb3B0aW9ucy5hY3RpdmUgLSAxICksIGZhbHNlICkgKTtcblx0XHRcdH1cblxuXHRcdC8vIHdhcyBhY3RpdmUsIGFjdGl2ZSB0YWIgc3RpbGwgZXhpc3RzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gbWFrZSBzdXJlIGFjdGl2ZSBpbmRleCBpcyBjb3JyZWN0XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSA9IHRoaXMudGFicy5pbmRleCggdGhpcy5hY3RpdmUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR0aGlzLl9zZXR1cEV2ZW50cyggdGhpcy5vcHRpb25zLmV2ZW50ICk7XG5cdFx0dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSggdGhpcy5vcHRpb25zLmhlaWdodFN0eWxlICk7XG5cblx0XHR0aGlzLnRhYnMubm90KCB0aGlzLmFjdGl2ZSApLmF0dHIoIHtcblx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcImZhbHNlXCIsXG5cdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0dGFiSW5kZXg6IC0xXG5cdFx0fSApO1xuXHRcdHRoaXMucGFuZWxzLm5vdCggdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRoaXMuYWN0aXZlICkgKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmF0dHIoIHtcblx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuXHRcdFx0fSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIG9uZSB0YWIgaXMgaW4gdGhlIHRhYiBvcmRlclxuXHRcdGlmICggIXRoaXMuYWN0aXZlLmxlbmd0aCApIHtcblx0XHRcdHRoaXMudGFicy5lcSggMCApLmF0dHIoIFwidGFiSW5kZXhcIiwgMCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFjdGl2ZVxuXHRcdFx0XHQuYXR0cigge1xuXHRcdFx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcInRydWVcIixcblx0XHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdFx0dGFiSW5kZXg6IDBcblx0XHRcdFx0fSApO1xuXHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuYWN0aXZlLCBcInVpLXRhYnMtYWN0aXZlXCIsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0aGlzLmFjdGl2ZSApXG5cdFx0XHRcdC5zaG93KClcblx0XHRcdFx0LmF0dHIoIHtcblx0XHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwiZmFsc2VcIlxuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9wcm9jZXNzVGFiczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cHJldlRhYnMgPSB0aGlzLnRhYnMsXG5cdFx0XHRwcmV2QW5jaG9ycyA9IHRoaXMuYW5jaG9ycyxcblx0XHRcdHByZXZQYW5lbHMgPSB0aGlzLnBhbmVscztcblxuXHRcdHRoaXMudGFibGlzdCA9IHRoaXMuX2dldExpc3QoKS5hdHRyKCBcInJvbGVcIiwgXCJ0YWJsaXN0XCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy50YWJsaXN0LCBcInVpLXRhYnMtbmF2XCIsXG5cdFx0XHRcInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlclwiICk7XG5cblx0XHQvLyBQcmV2ZW50IHVzZXJzIGZyb20gZm9jdXNpbmcgZGlzYWJsZWQgdGFicyB2aWEgY2xpY2tcblx0XHR0aGlzLnRhYmxpc3Rcblx0XHRcdC5vbiggXCJtb3VzZWRvd25cIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIFwiPiBsaVwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggJCggdGhpcyApLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApXG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5XG5cdFx0XHQvLyBQcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvbiBpbiBtb3VzZWRvd24gZG9lc24ndCBwcmV2ZW50IElFXG5cdFx0XHQvLyBmcm9tIGZvY3VzaW5nIHRoZSBlbGVtZW50LCBzbyBpZiB0aGUgYW5jaG9yIGdldHMgZm9jdXNlZCwgYmx1ci5cblx0XHRcdC8vIFdlIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgZm9jdXNpbmcgdGhlIHByZXZpb3VzbHkgZm9jdXNlZFxuXHRcdFx0Ly8gZWxlbWVudCBzaW5jZSBjbGlja2luZyBvbiBhIG5vbi1mb2N1c2FibGUgZWxlbWVudCBzaG91bGQgZm9jdXNcblx0XHRcdC8vIHRoZSBib2R5IGFueXdheS5cblx0XHRcdC5vbiggXCJmb2N1c1wiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgXCIudWktdGFicy1hbmNob3JcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggJCggdGhpcyApLmNsb3Nlc3QoIFwibGlcIiApLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblxuXHRcdHRoaXMudGFicyA9IHRoaXMudGFibGlzdC5maW5kKCBcIj4gbGk6aGFzKGFbaHJlZl0pXCIgKVxuXHRcdFx0LmF0dHIoIHtcblx0XHRcdFx0cm9sZTogXCJ0YWJcIixcblx0XHRcdFx0dGFiSW5kZXg6IC0xXG5cdFx0XHR9ICk7XG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMudGFicywgXCJ1aS10YWJzLXRhYlwiLCBcInVpLXN0YXRlLWRlZmF1bHRcIiApO1xuXG5cdFx0dGhpcy5hbmNob3JzID0gdGhpcy50YWJzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gJCggXCJhXCIsIHRoaXMgKVsgMCBdO1xuXHRcdH0gKVxuXHRcdFx0LmF0dHIoIHtcblx0XHRcdFx0cm9sZTogXCJwcmVzZW50YXRpb25cIixcblx0XHRcdFx0dGFiSW5kZXg6IC0xXG5cdFx0XHR9ICk7XG5cdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMuYW5jaG9ycywgXCJ1aS10YWJzLWFuY2hvclwiICk7XG5cblx0XHR0aGlzLnBhbmVscyA9ICQoKTtcblxuXHRcdHRoaXMuYW5jaG9ycy5lYWNoKCBmdW5jdGlvbiggaSwgYW5jaG9yICkge1xuXHRcdFx0dmFyIHNlbGVjdG9yLCBwYW5lbCwgcGFuZWxJZCxcblx0XHRcdFx0YW5jaG9ySWQgPSAkKCBhbmNob3IgKS51bmlxdWVJZCgpLmF0dHIoIFwiaWRcIiApLFxuXHRcdFx0XHR0YWIgPSAkKCBhbmNob3IgKS5jbG9zZXN0KCBcImxpXCIgKSxcblx0XHRcdFx0b3JpZ2luYWxBcmlhQ29udHJvbHMgPSB0YWIuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcblxuXHRcdFx0Ly8gSW5saW5lIHRhYlxuXHRcdFx0aWYgKCB0aGF0Ll9pc0xvY2FsKCBhbmNob3IgKSApIHtcblx0XHRcdFx0c2VsZWN0b3IgPSBhbmNob3IuaGFzaDtcblx0XHRcdFx0cGFuZWxJZCA9IHNlbGVjdG9yLnN1YnN0cmluZyggMSApO1xuXHRcdFx0XHRwYW5lbCA9IHRoYXQuZWxlbWVudC5maW5kKCB0aGF0Ll9zYW5pdGl6ZVNlbGVjdG9yKCBzZWxlY3RvciApICk7XG5cblx0XHRcdC8vIHJlbW90ZSB0YWJcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIHRhYiBkb2Vzbid0IGFscmVhZHkgaGF2ZSBhcmlhLWNvbnRyb2xzLFxuXHRcdFx0XHQvLyBnZW5lcmF0ZSBhbiBpZCBieSB1c2luZyBhIHRocm93LWF3YXkgZWxlbWVudFxuXHRcdFx0XHRwYW5lbElkID0gdGFiLmF0dHIoIFwiYXJpYS1jb250cm9sc1wiICkgfHwgJCgge30gKS51bmlxdWVJZCgpWyAwIF0uaWQ7XG5cdFx0XHRcdHNlbGVjdG9yID0gXCIjXCIgKyBwYW5lbElkO1xuXHRcdFx0XHRwYW5lbCA9IHRoYXQuZWxlbWVudC5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0XHRpZiAoICFwYW5lbC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cGFuZWwgPSB0aGF0Ll9jcmVhdGVQYW5lbCggcGFuZWxJZCApO1xuXHRcdFx0XHRcdHBhbmVsLmluc2VydEFmdGVyKCB0aGF0LnBhbmVsc1sgaSAtIDEgXSB8fCB0aGF0LnRhYmxpc3QgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRwYW5lbC5hdHRyKCBcImFyaWEtbGl2ZVwiLCBcInBvbGl0ZVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggcGFuZWwubGVuZ3RoICkge1xuXHRcdFx0XHR0aGF0LnBhbmVscyA9IHRoYXQucGFuZWxzLmFkZCggcGFuZWwgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb3JpZ2luYWxBcmlhQ29udHJvbHMgKSB7XG5cdFx0XHRcdHRhYi5kYXRhKCBcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiLCBvcmlnaW5hbEFyaWFDb250cm9scyApO1xuXHRcdFx0fVxuXHRcdFx0dGFiLmF0dHIoIHtcblx0XHRcdFx0XCJhcmlhLWNvbnRyb2xzXCI6IHBhbmVsSWQsXG5cdFx0XHRcdFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGFuY2hvcklkXG5cdFx0XHR9ICk7XG5cdFx0XHRwYW5lbC5hdHRyKCBcImFyaWEtbGFiZWxsZWRieVwiLCBhbmNob3JJZCApO1xuXHRcdH0gKTtcblxuXHRcdHRoaXMucGFuZWxzLmF0dHIoIFwicm9sZVwiLCBcInRhYnBhbmVsXCIgKTtcblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5wYW5lbHMsIFwidWktdGFicy1wYW5lbFwiLCBcInVpLXdpZGdldC1jb250ZW50XCIgKTtcblxuXHRcdC8vIEF2b2lkIG1lbW9yeSBsZWFrcyAoIzEwMDU2KVxuXHRcdGlmICggcHJldlRhYnMgKSB7XG5cdFx0XHR0aGlzLl9vZmYoIHByZXZUYWJzLm5vdCggdGhpcy50YWJzICkgKTtcblx0XHRcdHRoaXMuX29mZiggcHJldkFuY2hvcnMubm90KCB0aGlzLmFuY2hvcnMgKSApO1xuXHRcdFx0dGhpcy5fb2ZmKCBwcmV2UGFuZWxzLm5vdCggdGhpcy5wYW5lbHMgKSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBBbGxvdyBvdmVycmlkaW5nIGhvdyB0byBmaW5kIHRoZSBsaXN0IGZvciByYXJlIHVzYWdlIHNjZW5hcmlvcyAoIzc3MTUpXG5cdF9nZXRMaXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy50YWJsaXN0IHx8IHRoaXMuZWxlbWVudC5maW5kKCBcIm9sLCB1bFwiICkuZXEoIDAgKTtcblx0fSxcblxuXHRfY3JlYXRlUGFuZWw6IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRyZXR1cm4gJCggXCI8ZGl2PlwiIClcblx0XHRcdC5hdHRyKCBcImlkXCIsIGlkIClcblx0XHRcdC5kYXRhKCBcInVpLXRhYnMtZGVzdHJveVwiLCB0cnVlICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggZGlzYWJsZWQgKSB7XG5cdFx0dmFyIGN1cnJlbnRJdGVtLCBsaSwgaTtcblxuXHRcdGlmICggJC5pc0FycmF5KCBkaXNhYmxlZCApICkge1xuXHRcdFx0aWYgKCAhZGlzYWJsZWQubGVuZ3RoICkge1xuXHRcdFx0XHRkaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmICggZGlzYWJsZWQubGVuZ3RoID09PSB0aGlzLmFuY2hvcnMubGVuZ3RoICkge1xuXHRcdFx0XHRkaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRGlzYWJsZSB0YWJzXG5cdFx0Zm9yICggaSA9IDA7ICggbGkgPSB0aGlzLnRhYnNbIGkgXSApOyBpKysgKSB7XG5cdFx0XHRjdXJyZW50SXRlbSA9ICQoIGxpICk7XG5cdFx0XHRpZiAoIGRpc2FibGVkID09PSB0cnVlIHx8ICQuaW5BcnJheSggaSwgZGlzYWJsZWQgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdGN1cnJlbnRJdGVtLmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIiApO1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggY3VycmVudEl0ZW0sIG51bGwsIFwidWktc3RhdGUtZGlzYWJsZWRcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3VycmVudEl0ZW0ucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIGN1cnJlbnRJdGVtLCBudWxsLCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcblxuXHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCB0aGlzLndpZGdldCgpLCB0aGlzLndpZGdldEZ1bGxOYW1lICsgXCItZGlzYWJsZWRcIiwgbnVsbCxcblx0XHRcdGRpc2FibGVkID09PSB0cnVlICk7XG5cdH0sXG5cblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHt9O1xuXHRcdGlmICggZXZlbnQgKSB7XG5cdFx0XHQkLmVhY2goIGV2ZW50LnNwbGl0KCBcIiBcIiApLCBmdW5jdGlvbiggaW5kZXgsIGV2ZW50TmFtZSApIHtcblx0XHRcdFx0ZXZlbnRzWyBldmVudE5hbWUgXSA9IFwiX2V2ZW50SGFuZGxlclwiO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX29mZiggdGhpcy5hbmNob3JzLmFkZCggdGhpcy50YWJzICkuYWRkKCB0aGlzLnBhbmVscyApICk7XG5cblx0XHQvLyBBbHdheXMgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24sIGV2ZW4gd2hlbiBkaXNhYmxlZFxuXHRcdHRoaXMuX29uKCB0cnVlLCB0aGlzLmFuY2hvcnMsIHtcblx0XHRcdGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmFuY2hvcnMsIGV2ZW50cyApO1xuXHRcdHRoaXMuX29uKCB0aGlzLnRhYnMsIHsga2V5ZG93bjogXCJfdGFiS2V5ZG93blwiIH0gKTtcblx0XHR0aGlzLl9vbiggdGhpcy5wYW5lbHMsIHsga2V5ZG93bjogXCJfcGFuZWxLZXlkb3duXCIgfSApO1xuXG5cdFx0dGhpcy5fZm9jdXNhYmxlKCB0aGlzLnRhYnMgKTtcblx0XHR0aGlzLl9ob3ZlcmFibGUoIHRoaXMudGFicyApO1xuXHR9LFxuXG5cdF9zZXR1cEhlaWdodFN0eWxlOiBmdW5jdGlvbiggaGVpZ2h0U3R5bGUgKSB7XG5cdFx0dmFyIG1heEhlaWdodCxcblx0XHRcdHBhcmVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnQoKTtcblxuXHRcdGlmICggaGVpZ2h0U3R5bGUgPT09IFwiZmlsbFwiICkge1xuXHRcdFx0bWF4SGVpZ2h0ID0gcGFyZW50LmhlaWdodCgpO1xuXHRcdFx0bWF4SGVpZ2h0IC09IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpIC0gdGhpcy5lbGVtZW50LmhlaWdodCgpO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQuc2libGluZ3MoIFwiOnZpc2libGVcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcblxuXHRcdFx0XHRpZiAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0bWF4SGVpZ2h0IC09IGVsZW0ub3V0ZXJIZWlnaHQoIHRydWUgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KCB0aGlzLnBhbmVscyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRtYXhIZWlnaHQgLT0gJCggdGhpcyApLm91dGVySGVpZ2h0KCB0cnVlICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMucGFuZWxzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkuaGVpZ2h0KCBNYXRoLm1heCggMCwgbWF4SGVpZ2h0IC1cblx0XHRcdFx0XHQkKCB0aGlzICkuaW5uZXJIZWlnaHQoKSArICQoIHRoaXMgKS5oZWlnaHQoKSApICk7XG5cdFx0XHR9IClcblx0XHRcdFx0LmNzcyggXCJvdmVyZmxvd1wiLCBcImF1dG9cIiApO1xuXHRcdH0gZWxzZSBpZiAoIGhlaWdodFN0eWxlID09PSBcImF1dG9cIiApIHtcblx0XHRcdG1heEhlaWdodCA9IDA7XG5cdFx0XHR0aGlzLnBhbmVscy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0bWF4SGVpZ2h0ID0gTWF0aC5tYXgoIG1heEhlaWdodCwgJCggdGhpcyApLmhlaWdodCggXCJcIiApLmhlaWdodCgpICk7XG5cdFx0XHR9ICkuaGVpZ2h0KCBtYXhIZWlnaHQgKTtcblx0XHR9XG5cdH0sXG5cblx0X2V2ZW50SGFuZGxlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0YWN0aXZlID0gdGhpcy5hY3RpdmUsXG5cdFx0XHRhbmNob3IgPSAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksXG5cdFx0XHR0YWIgPSBhbmNob3IuY2xvc2VzdCggXCJsaVwiICksXG5cdFx0XHRjbGlja2VkSXNBY3RpdmUgPSB0YWJbIDAgXSA9PT0gYWN0aXZlWyAwIF0sXG5cdFx0XHRjb2xsYXBzaW5nID0gY2xpY2tlZElzQWN0aXZlICYmIG9wdGlvbnMuY29sbGFwc2libGUsXG5cdFx0XHR0b1Nob3cgPSBjb2xsYXBzaW5nID8gJCgpIDogdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRhYiApLFxuXHRcdFx0dG9IaWRlID0gIWFjdGl2ZS5sZW5ndGggPyAkKCkgOiB0aGlzLl9nZXRQYW5lbEZvclRhYiggYWN0aXZlICksXG5cdFx0XHRldmVudERhdGEgPSB7XG5cdFx0XHRcdG9sZFRhYjogYWN0aXZlLFxuXHRcdFx0XHRvbGRQYW5lbDogdG9IaWRlLFxuXHRcdFx0XHRuZXdUYWI6IGNvbGxhcHNpbmcgPyAkKCkgOiB0YWIsXG5cdFx0XHRcdG5ld1BhbmVsOiB0b1Nob3dcblx0XHRcdH07XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKCB0YWIuaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApIHx8XG5cblx0XHRcdFx0Ly8gdGFiIGlzIGFscmVhZHkgbG9hZGluZ1xuXHRcdFx0XHR0YWIuaGFzQ2xhc3MoIFwidWktdGFicy1sb2FkaW5nXCIgKSB8fFxuXG5cdFx0XHRcdC8vIGNhbid0IHN3aXRjaCBkdXJuaW5nIGFuIGFuaW1hdGlvblxuXHRcdFx0XHR0aGlzLnJ1bm5pbmcgfHxcblxuXHRcdFx0XHQvLyBjbGljayBvbiBhY3RpdmUgaGVhZGVyLCBidXQgbm90IGNvbGxhcHNpYmxlXG5cdFx0XHRcdCggY2xpY2tlZElzQWN0aXZlICYmICFvcHRpb25zLmNvbGxhcHNpYmxlICkgfHxcblxuXHRcdFx0XHQvLyBhbGxvdyBjYW5jZWxpbmcgYWN0aXZhdGlvblxuXHRcdFx0XHQoIHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlQWN0aXZhdGVcIiwgZXZlbnQsIGV2ZW50RGF0YSApID09PSBmYWxzZSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG9wdGlvbnMuYWN0aXZlID0gY29sbGFwc2luZyA/IGZhbHNlIDogdGhpcy50YWJzLmluZGV4KCB0YWIgKTtcblxuXHRcdHRoaXMuYWN0aXZlID0gY2xpY2tlZElzQWN0aXZlID8gJCgpIDogdGFiO1xuXHRcdGlmICggdGhpcy54aHIgKSB7XG5cdFx0XHR0aGlzLnhoci5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdGlmICggIXRvSGlkZS5sZW5ndGggJiYgIXRvU2hvdy5sZW5ndGggKSB7XG5cdFx0XHQkLmVycm9yKCBcImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0b1Nob3cubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5sb2FkKCB0aGlzLnRhYnMuaW5kZXgoIHRhYiApLCBldmVudCApO1xuXHRcdH1cblx0XHR0aGlzLl90b2dnbGUoIGV2ZW50LCBldmVudERhdGEgKTtcblx0fSxcblxuXHQvLyBIYW5kbGVzIHNob3cvaGlkZSBmb3Igc2VsZWN0aW5nIHRhYnNcblx0X3RvZ2dsZTogZnVuY3Rpb24oIGV2ZW50LCBldmVudERhdGEgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0dG9TaG93ID0gZXZlbnREYXRhLm5ld1BhbmVsLFxuXHRcdFx0dG9IaWRlID0gZXZlbnREYXRhLm9sZFBhbmVsO1xuXG5cdFx0dGhpcy5ydW5uaW5nID0gdHJ1ZTtcblxuXHRcdGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuXHRcdFx0dGhhdC5ydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCBldmVudERhdGEgKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzaG93KCkge1xuXHRcdFx0dGhhdC5fYWRkQ2xhc3MoIGV2ZW50RGF0YS5uZXdUYWIuY2xvc2VzdCggXCJsaVwiICksIFwidWktdGFicy1hY3RpdmVcIiwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXG5cdFx0XHRpZiAoIHRvU2hvdy5sZW5ndGggJiYgdGhhdC5vcHRpb25zLnNob3cgKSB7XG5cdFx0XHRcdHRoYXQuX3Nob3coIHRvU2hvdywgdGhhdC5vcHRpb25zLnNob3csIGNvbXBsZXRlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0b1Nob3cuc2hvdygpO1xuXHRcdFx0XHRjb21wbGV0ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN0YXJ0IG91dCBieSBoaWRpbmcsIHRoZW4gc2hvd2luZywgdGhlbiBjb21wbGV0aW5nXG5cdFx0aWYgKCB0b0hpZGUubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5oaWRlICkge1xuXHRcdFx0dGhpcy5faGlkZSggdG9IaWRlLCB0aGlzLm9wdGlvbnMuaGlkZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCBldmVudERhdGEub2xkVGFiLmNsb3Nlc3QoIFwibGlcIiApLFxuXHRcdFx0XHRcdFwidWktdGFicy1hY3RpdmVcIiwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHRzaG93KCk7XG5cdFx0XHR9ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBldmVudERhdGEub2xkVGFiLmNsb3Nlc3QoIFwibGlcIiApLFxuXHRcdFx0XHRcInVpLXRhYnMtYWN0aXZlXCIsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdHRvSGlkZS5oaWRlKCk7XG5cdFx0XHRzaG93KCk7XG5cdFx0fVxuXG5cdFx0dG9IaWRlLmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIgKTtcblx0XHRldmVudERhdGEub2xkVGFiLmF0dHIoIHtcblx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcImZhbHNlXCIsXG5cdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG5cdFx0fSApO1xuXG5cdFx0Ly8gSWYgd2UncmUgc3dpdGNoaW5nIHRhYnMsIHJlbW92ZSB0aGUgb2xkIHRhYiBmcm9tIHRoZSB0YWIgb3JkZXIuXG5cdFx0Ly8gSWYgd2UncmUgb3BlbmluZyBmcm9tIGNvbGxhcHNlZCBzdGF0ZSwgcmVtb3ZlIHRoZSBwcmV2aW91cyB0YWIgZnJvbSB0aGUgdGFiIG9yZGVyLlxuXHRcdC8vIElmIHdlJ3JlIGNvbGxhcHNpbmcsIHRoZW4ga2VlcCB0aGUgY29sbGFwc2luZyB0YWIgaW4gdGhlIHRhYiBvcmRlci5cblx0XHRpZiAoIHRvU2hvdy5sZW5ndGggJiYgdG9IaWRlLmxlbmd0aCApIHtcblx0XHRcdGV2ZW50RGF0YS5vbGRUYWIuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xuXHRcdH0gZWxzZSBpZiAoIHRvU2hvdy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLnRhYnMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICQoIHRoaXMgKS5hdHRyKCBcInRhYkluZGV4XCIgKSA9PT0gMDtcblx0XHRcdH0gKVxuXHRcdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xuXHRcdH1cblxuXHRcdHRvU2hvdy5hdHRyKCBcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIiApO1xuXHRcdGV2ZW50RGF0YS5uZXdUYWIuYXR0cigge1xuXHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0dGFiSW5kZXg6IDBcblx0XHR9ICk7XG5cdH0sXG5cblx0X2FjdGl2YXRlOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIGFuY2hvcixcblx0XHRcdGFjdGl2ZSA9IHRoaXMuX2ZpbmRBY3RpdmUoIGluZGV4ICk7XG5cblx0XHQvLyBUcnlpbmcgdG8gYWN0aXZhdGUgdGhlIGFscmVhZHkgYWN0aXZlIHBhbmVsXG5cdFx0aWYgKCBhY3RpdmVbIDAgXSA9PT0gdGhpcy5hY3RpdmVbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBUcnlpbmcgdG8gY29sbGFwc2UsIHNpbXVsYXRlIGEgY2xpY2sgb24gdGhlIGN1cnJlbnQgYWN0aXZlIGhlYWRlclxuXHRcdGlmICggIWFjdGl2ZS5sZW5ndGggKSB7XG5cdFx0XHRhY3RpdmUgPSB0aGlzLmFjdGl2ZTtcblx0XHR9XG5cblx0XHRhbmNob3IgPSBhY3RpdmUuZmluZCggXCIudWktdGFicy1hbmNob3JcIiApWyAwIF07XG5cdFx0dGhpcy5fZXZlbnRIYW5kbGVyKCB7XG5cdFx0XHR0YXJnZXQ6IGFuY2hvcixcblx0XHRcdGN1cnJlbnRUYXJnZXQ6IGFuY2hvcixcblx0XHRcdHByZXZlbnREZWZhdWx0OiAkLm5vb3Bcblx0XHR9ICk7XG5cdH0sXG5cblx0X2ZpbmRBY3RpdmU6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRyZXR1cm4gaW5kZXggPT09IGZhbHNlID8gJCgpIDogdGhpcy50YWJzLmVxKCBpbmRleCApO1xuXHR9LFxuXG5cdF9nZXRJbmRleDogZnVuY3Rpb24oIGluZGV4ICkge1xuXG5cdFx0Ly8gbWV0YS1mdW5jdGlvbiB0byBnaXZlIHVzZXJzIG9wdGlvbiB0byBwcm92aWRlIGEgaHJlZiBzdHJpbmcgaW5zdGVhZCBvZiBhIG51bWVyaWNhbCBpbmRleC5cblx0XHRpZiAoIHR5cGVvZiBpbmRleCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGluZGV4ID0gdGhpcy5hbmNob3JzLmluZGV4KCB0aGlzLmFuY2hvcnMuZmlsdGVyKCBcIltocmVmJD0nXCIgK1xuXHRcdFx0XHQkLnVpLmVzY2FwZVNlbGVjdG9yKCBpbmRleCApICsgXCInXVwiICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy54aHIgKSB7XG5cdFx0XHR0aGlzLnhoci5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdHRoaXMudGFibGlzdFxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcblxuXHRcdHRoaXMuYW5jaG9yc1xuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZSB0YWJJbmRleFwiIClcblx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpO1xuXG5cdFx0dGhpcy50YWJzLmFkZCggdGhpcy5wYW5lbHMgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggJC5kYXRhKCB0aGlzLCBcInVpLXRhYnMtZGVzdHJveVwiICkgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVBdHRyKCBcInJvbGUgdGFiSW5kZXggXCIgK1xuXHRcdFx0XHRcdFwiYXJpYS1saXZlIGFyaWEtYnVzeSBhcmlhLXNlbGVjdGVkIGFyaWEtbGFiZWxsZWRieSBhcmlhLWhpZGRlbiBhcmlhLWV4cGFuZGVkXCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHR0aGlzLnRhYnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbGkgPSAkKCB0aGlzICksXG5cdFx0XHRcdHByZXYgPSBsaS5kYXRhKCBcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiICk7XG5cdFx0XHRpZiAoIHByZXYgKSB7XG5cdFx0XHRcdGxpXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1jb250cm9sc1wiLCBwcmV2IClcblx0XHRcdFx0XHQucmVtb3ZlRGF0YSggXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGkucmVtb3ZlQXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHR0aGlzLnBhbmVscy5zaG93KCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSAhPT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHR0aGlzLnBhbmVscy5jc3MoIFwiaGVpZ2h0XCIsIFwiXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZW5hYmxlOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIGRpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuXHRcdGlmICggZGlzYWJsZWQgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGRpc2FibGVkID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluZGV4ID0gdGhpcy5fZ2V0SW5kZXgoIGluZGV4ICk7XG5cdFx0XHRpZiAoICQuaXNBcnJheSggZGlzYWJsZWQgKSApIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSAkLm1hcCggZGlzYWJsZWQsIGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bSAhPT0gaW5kZXggPyBudW0gOiBudWxsO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkaXNhYmxlZCA9ICQubWFwKCB0aGlzLnRhYnMsIGZ1bmN0aW9uKCBsaSwgbnVtICkge1xuXHRcdFx0XHRcdHJldHVybiBudW0gIT09IGluZGV4ID8gbnVtIDogbnVsbDtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCggZGlzYWJsZWQgKTtcblx0fSxcblxuXHRkaXNhYmxlOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIGRpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuXHRcdGlmICggZGlzYWJsZWQgPT09IHRydWUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0ZGlzYWJsZWQgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbmRleCA9IHRoaXMuX2dldEluZGV4KCBpbmRleCApO1xuXHRcdFx0aWYgKCAkLmluQXJyYXkoIGluZGV4LCBkaXNhYmxlZCApICE9PSAtMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAkLmlzQXJyYXkoIGRpc2FibGVkICkgKSB7XG5cdFx0XHRcdGRpc2FibGVkID0gJC5tZXJnZSggWyBpbmRleCBdLCBkaXNhYmxlZCApLnNvcnQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRpc2FibGVkID0gWyBpbmRleCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCggZGlzYWJsZWQgKTtcblx0fSxcblxuXHRsb2FkOiBmdW5jdGlvbiggaW5kZXgsIGV2ZW50ICkge1xuXHRcdGluZGV4ID0gdGhpcy5fZ2V0SW5kZXgoIGluZGV4ICk7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0dGFiID0gdGhpcy50YWJzLmVxKCBpbmRleCApLFxuXHRcdFx0YW5jaG9yID0gdGFiLmZpbmQoIFwiLnVpLXRhYnMtYW5jaG9yXCIgKSxcblx0XHRcdHBhbmVsID0gdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRhYiApLFxuXHRcdFx0ZXZlbnREYXRhID0ge1xuXHRcdFx0XHR0YWI6IHRhYixcblx0XHRcdFx0cGFuZWw6IHBhbmVsXG5cdFx0XHR9LFxuXHRcdFx0Y29tcGxldGUgPSBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdFx0aWYgKCBzdGF0dXMgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdFx0XHR0aGF0LnBhbmVscy5zdG9wKCBmYWxzZSwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhhdC5fcmVtb3ZlQ2xhc3MoIHRhYiwgXCJ1aS10YWJzLWxvYWRpbmdcIiApO1xuXHRcdFx0XHRwYW5lbC5yZW1vdmVBdHRyKCBcImFyaWEtYnVzeVwiICk7XG5cblx0XHRcdFx0aWYgKCBqcVhIUiA9PT0gdGhhdC54aHIgKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoYXQueGhyO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gTm90IHJlbW90ZVxuXHRcdGlmICggdGhpcy5faXNMb2NhbCggYW5jaG9yWyAwIF0gKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnhociA9ICQuYWpheCggdGhpcy5fYWpheFNldHRpbmdzKCBhbmNob3IsIGV2ZW50LCBldmVudERhdGEgKSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHQvLyBqUXVlcnkgPDEuOCByZXR1cm5zIGZhbHNlIGlmIHRoZSByZXF1ZXN0IGlzIGNhbmNlbGVkIGluIGJlZm9yZVNlbmQsXG5cdFx0Ly8gYnV0IGFzIG9mIDEuOCwgJC5hamF4KCkgYWx3YXlzIHJldHVybnMgYSBqcVhIUiBvYmplY3QuXG5cdFx0aWYgKCB0aGlzLnhociAmJiB0aGlzLnhoci5zdGF0dXNUZXh0ICE9PSBcImNhbmNlbGVkXCIgKSB7XG5cdFx0XHR0aGlzLl9hZGRDbGFzcyggdGFiLCBcInVpLXRhYnMtbG9hZGluZ1wiICk7XG5cdFx0XHRwYW5lbC5hdHRyKCBcImFyaWEtYnVzeVwiLCBcInRydWVcIiApO1xuXG5cdFx0XHR0aGlzLnhoclxuXHRcdFx0XHQuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlLCBzdGF0dXMsIGpxWEhSICkge1xuXG5cdFx0XHRcdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRcdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMTc3OFxuXHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cGFuZWwuaHRtbCggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwibG9hZFwiLCBldmVudCwgZXZlbnREYXRhICk7XG5cblx0XHRcdFx0XHRcdGNvbXBsZXRlKCBqcVhIUiwgc3RhdHVzICk7XG5cdFx0XHRcdFx0fSwgMSApO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0LmZhaWwoIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXG5cdFx0XHRcdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRcdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMTc3OFxuXHRcdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Y29tcGxldGUoIGpxWEhSLCBzdGF0dXMgKTtcblx0XHRcdFx0XHR9LCAxICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X2FqYXhTZXR0aW5nczogZnVuY3Rpb24oIGFuY2hvciwgZXZlbnQsIGV2ZW50RGF0YSApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0cmV0dXJuIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPDExIG9ubHlcblx0XHRcdC8vIFN0cmlwIGFueSBoYXNoIHRoYXQgZXhpc3RzIHRvIHByZXZlbnQgZXJyb3JzIHdpdGggdGhlIEFqYXggcmVxdWVzdFxuXHRcdFx0dXJsOiBhbmNob3IuYXR0ciggXCJocmVmXCIgKS5yZXBsYWNlKCAvIy4qJC8sIFwiXCIgKSxcblx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCBqcVhIUiwgc2V0dGluZ3MgKSB7XG5cdFx0XHRcdHJldHVybiB0aGF0Ll90cmlnZ2VyKCBcImJlZm9yZUxvYWRcIiwgZXZlbnQsXG5cdFx0XHRcdFx0JC5leHRlbmQoIHsganFYSFI6IGpxWEhSLCBhamF4U2V0dGluZ3M6IHNldHRpbmdzIH0sIGV2ZW50RGF0YSApICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSxcblxuXHRfZ2V0UGFuZWxGb3JUYWI6IGZ1bmN0aW9uKCB0YWIgKSB7XG5cdFx0dmFyIGlkID0gJCggdGFiICkuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIFwiI1wiICsgaWQgKSApO1xuXHR9XG59ICk7XG5cbi8vIERFUFJFQ0FURURcbi8vIFRPRE86IFN3aXRjaCByZXR1cm4gYmFjayB0byB3aWRnZXQgZGVjbGFyYXRpb24gYXQgdG9wIG9mIGZpbGUgd2hlbiB0aGlzIGlzIHJlbW92ZWRcbmlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICkge1xuXG5cdC8vIEJhY2tjb21wYXQgZm9yIHVpLXRhYiBjbGFzcyAobm93IHVpLXRhYnMtdGFiKVxuXHQkLndpZGdldCggXCJ1aS50YWJzXCIsICQudWkudGFicywge1xuXHRcdF9wcm9jZXNzVGFiczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnRhYnMsIFwidWktdGFiXCIgKTtcblx0XHR9XG5cdH0gKTtcbn1cblxudmFyIHdpZGdldHNUYWJzID0gJC51aS50YWJzO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFRvb2x0aXAgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFRvb2x0aXBcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBTaG93cyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGZvciBhbnkgZWxlbWVudCBvbiBob3ZlciBvciBmb2N1cy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90b29sdGlwL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3Rvb2x0aXAvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS90b29sdGlwLmNzc1xuLy8+PmNzcy50aGVtZTogLi4vLi4vdGhlbWVzL2Jhc2UvdGhlbWUuY3NzXG5cblxuXG4kLndpZGdldCggXCJ1aS50b29sdGlwXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0b3B0aW9uczoge1xuXHRcdGNsYXNzZXM6IHtcblx0XHRcdFwidWktdG9vbHRpcFwiOiBcInVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LXNoYWRvd1wiXG5cdFx0fSxcblx0XHRjb250ZW50OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUU8OSwgT3BlcmEgaW4galF1ZXJ5IDwxLjdcblx0XHRcdC8vIC50ZXh0KCkgY2FuJ3QgYWNjZXB0IHVuZGVmaW5lZCwgc28gY29lcmNlIHRvIGEgc3RyaW5nXG5cdFx0XHR2YXIgdGl0bGUgPSAkKCB0aGlzICkuYXR0ciggXCJ0aXRsZVwiICkgfHwgXCJcIjtcblxuXHRcdFx0Ly8gRXNjYXBlIHRpdGxlLCBzaW5jZSB3ZSdyZSBnb2luZyBmcm9tIGFuIGF0dHJpYnV0ZSB0byByYXcgSFRNTFxuXHRcdFx0cmV0dXJuICQoIFwiPGE+XCIgKS50ZXh0KCB0aXRsZSApLmh0bWwoKTtcblx0XHR9LFxuXHRcdGhpZGU6IHRydWUsXG5cblx0XHQvLyBEaXNhYmxlZCBlbGVtZW50cyBoYXZlIGluY29uc2lzdGVudCBiZWhhdmlvciBhY3Jvc3MgYnJvd3NlcnMgKCM4NjYxKVxuXHRcdGl0ZW1zOiBcIlt0aXRsZV06bm90KFtkaXNhYmxlZF0pXCIsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImxlZnQgdG9wKzE1XCIsXG5cdFx0XHRhdDogXCJsZWZ0IGJvdHRvbVwiLFxuXHRcdFx0Y29sbGlzaW9uOiBcImZsaXBmaXQgZmxpcFwiXG5cdFx0fSxcblx0XHRzaG93OiB0cnVlLFxuXHRcdHRyYWNrOiBmYWxzZSxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNsb3NlOiBudWxsLFxuXHRcdG9wZW46IG51bGxcblx0fSxcblxuXHRfYWRkRGVzY3JpYmVkQnk6IGZ1bmN0aW9uKCBlbGVtLCBpZCApIHtcblx0XHR2YXIgZGVzY3JpYmVkYnkgPSAoIGVsZW0uYXR0ciggXCJhcmlhLWRlc2NyaWJlZGJ5XCIgKSB8fCBcIlwiICkuc3BsaXQoIC9cXHMrLyApO1xuXHRcdGRlc2NyaWJlZGJ5LnB1c2goIGlkICk7XG5cdFx0ZWxlbVxuXHRcdFx0LmRhdGEoIFwidWktdG9vbHRpcC1pZFwiLCBpZCApXG5cdFx0XHQuYXR0ciggXCJhcmlhLWRlc2NyaWJlZGJ5XCIsICQudHJpbSggZGVzY3JpYmVkYnkuam9pbiggXCIgXCIgKSApICk7XG5cdH0sXG5cblx0X3JlbW92ZURlc2NyaWJlZEJ5OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgaWQgPSBlbGVtLmRhdGEoIFwidWktdG9vbHRpcC1pZFwiICksXG5cdFx0XHRkZXNjcmliZWRieSA9ICggZWxlbS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiApIHx8IFwiXCIgKS5zcGxpdCggL1xccysvICksXG5cdFx0XHRpbmRleCA9ICQuaW5BcnJheSggaWQsIGRlc2NyaWJlZGJ5ICk7XG5cblx0XHRpZiAoIGluZGV4ICE9PSAtMSApIHtcblx0XHRcdGRlc2NyaWJlZGJ5LnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHR9XG5cblx0XHRlbGVtLnJlbW92ZURhdGEoIFwidWktdG9vbHRpcC1pZFwiICk7XG5cdFx0ZGVzY3JpYmVkYnkgPSAkLnRyaW0oIGRlc2NyaWJlZGJ5LmpvaW4oIFwiIFwiICkgKTtcblx0XHRpZiAoIGRlc2NyaWJlZGJ5ICkge1xuXHRcdFx0ZWxlbS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiwgZGVzY3JpYmVkYnkgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5yZW1vdmVBdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9vbigge1xuXHRcdFx0bW91c2VvdmVyOiBcIm9wZW5cIixcblx0XHRcdGZvY3VzaW46IFwib3BlblwiXG5cdFx0fSApO1xuXG5cdFx0Ly8gSURzIG9mIGdlbmVyYXRlZCB0b29sdGlwcywgbmVlZGVkIGZvciBkZXN0cm95XG5cdFx0dGhpcy50b29sdGlwcyA9IHt9O1xuXG5cdFx0Ly8gSURzIG9mIHBhcmVudCB0b29sdGlwcyB3aGVyZSB3ZSByZW1vdmVkIHRoZSB0aXRsZSBhdHRyaWJ1dGVcblx0XHR0aGlzLnBhcmVudHMgPSB7fTtcblxuXHRcdC8vIEFwcGVuZCB0aGUgYXJpYS1saXZlIHJlZ2lvbiBzbyB0b29sdGlwcyBhbm5vdW5jZSBjb3JyZWN0bHlcblx0XHR0aGlzLmxpdmVSZWdpb24gPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmF0dHIoIHtcblx0XHRcdFx0cm9sZTogXCJsb2dcIixcblx0XHRcdFx0XCJhcmlhLWxpdmVcIjogXCJhc3NlcnRpdmVcIixcblx0XHRcdFx0XCJhcmlhLXJlbGV2YW50XCI6IFwiYWRkaXRpb25zXCJcblx0XHRcdH0gKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmxpdmVSZWdpb24sIG51bGwsIFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIgKTtcblxuXHRcdHRoaXMuZGlzYWJsZWRUaXRsZXMgPSAkKCBbXSApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHQkLmVhY2goIHRoaXMudG9vbHRpcHMsIGZ1bmN0aW9uKCBpZCwgdG9vbHRpcERhdGEgKSB7XG5cdFx0XHRcdHRoYXQuX3VwZGF0ZUNvbnRlbnQoIHRvb2x0aXBEYXRhLmVsZW1lbnQgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpc1sgdmFsdWUgPyBcIl9kaXNhYmxlXCIgOiBcIl9lbmFibGVcIiBdKCk7XG5cdH0sXG5cblx0X2Rpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdC8vIENsb3NlIG9wZW4gdG9vbHRpcHNcblx0XHQkLmVhY2goIHRoaXMudG9vbHRpcHMsIGZ1bmN0aW9uKCBpZCwgdG9vbHRpcERhdGEgKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSAkLkV2ZW50KCBcImJsdXJcIiApO1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldCA9IHRvb2x0aXBEYXRhLmVsZW1lbnRbIDAgXTtcblx0XHRcdHRoYXQuY2xvc2UoIGV2ZW50LCB0cnVlICk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gUmVtb3ZlIHRpdGxlIGF0dHJpYnV0ZXMgdG8gcHJldmVudCBuYXRpdmUgdG9vbHRpcHNcblx0XHR0aGlzLmRpc2FibGVkVGl0bGVzID0gdGhpcy5kaXNhYmxlZFRpdGxlcy5hZGQoXG5cdFx0XHR0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zICkuYWRkQmFjaygpXG5cdFx0XHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBlbGVtZW50ID0gJCggdGhpcyApO1xuXHRcdFx0XHRcdGlmICggZWxlbWVudC5pcyggXCJbdGl0bGVdXCIgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdC5kYXRhKCBcInVpLXRvb2x0aXAtdGl0bGVcIiwgZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKSApXG5cdFx0XHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcInRpdGxlXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKVxuXHRcdCk7XG5cdH0sXG5cblx0X2VuYWJsZTogZnVuY3Rpb24oKSB7XG5cblx0XHQvLyByZXN0b3JlIHRpdGxlIGF0dHJpYnV0ZXNcblx0XHR0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICk7XG5cdFx0XHRpZiAoIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApIHtcblx0XHRcdFx0ZWxlbWVudC5hdHRyKCBcInRpdGxlXCIsIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHR0aGlzLmRpc2FibGVkVGl0bGVzID0gJCggW10gKTtcblx0fSxcblxuXHRvcGVuOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0dGFyZ2V0ID0gJCggZXZlbnQgPyBldmVudC50YXJnZXQgOiB0aGlzLmVsZW1lbnQgKVxuXG5cdFx0XHRcdC8vIHdlIG5lZWQgY2xvc2VzdCBoZXJlIGR1ZSB0byBtb3VzZW92ZXIgYnViYmxpbmcsXG5cdFx0XHRcdC8vIGJ1dCBhbHdheXMgcG9pbnRpbmcgYXQgdGhlIHNhbWUgZXZlbnQgdGFyZ2V0XG5cdFx0XHRcdC5jbG9zZXN0KCB0aGlzLm9wdGlvbnMuaXRlbXMgKTtcblxuXHRcdC8vIE5vIGVsZW1lbnQgdG8gc2hvdyBhIHRvb2x0aXAgZm9yIG9yIHRoZSB0b29sdGlwIGlzIGFscmVhZHkgb3BlblxuXHRcdGlmICggIXRhcmdldC5sZW5ndGggfHwgdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC1pZFwiICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0YXJnZXQuYXR0ciggXCJ0aXRsZVwiICkgKSB7XG5cdFx0XHR0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIsIHRhcmdldC5hdHRyKCBcInRpdGxlXCIgKSApO1xuXHRcdH1cblxuXHRcdHRhcmdldC5kYXRhKCBcInVpLXRvb2x0aXAtb3BlblwiLCB0cnVlICk7XG5cblx0XHQvLyBLaWxsIHBhcmVudCB0b29sdGlwcywgY3VzdG9tIG9yIG5hdGl2ZSwgZm9yIGhvdmVyXG5cdFx0aWYgKCBldmVudCAmJiBldmVudC50eXBlID09PSBcIm1vdXNlb3ZlclwiICkge1xuXHRcdFx0dGFyZ2V0LnBhcmVudHMoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHBhcmVudCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRibHVyRXZlbnQ7XG5cdFx0XHRcdGlmICggcGFyZW50LmRhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKSApIHtcblx0XHRcdFx0XHRibHVyRXZlbnQgPSAkLkV2ZW50KCBcImJsdXJcIiApO1xuXHRcdFx0XHRcdGJsdXJFdmVudC50YXJnZXQgPSBibHVyRXZlbnQuY3VycmVudFRhcmdldCA9IHRoaXM7XG5cdFx0XHRcdFx0dGhhdC5jbG9zZSggYmx1ckV2ZW50LCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBwYXJlbnQuYXR0ciggXCJ0aXRsZVwiICkgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnVuaXF1ZUlkKCk7XG5cdFx0XHRcdFx0dGhhdC5wYXJlbnRzWyB0aGlzLmlkIF0gPSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiB0aGlzLFxuXHRcdFx0XHRcdFx0dGl0bGU6IHBhcmVudC5hdHRyKCBcInRpdGxlXCIgKVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cGFyZW50LmF0dHIoIFwidGl0bGVcIiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVnaXN0ZXJDbG9zZUhhbmRsZXJzKCBldmVudCwgdGFyZ2V0ICk7XG5cdFx0dGhpcy5fdXBkYXRlQ29udGVudCggdGFyZ2V0LCBldmVudCApO1xuXHR9LFxuXG5cdF91cGRhdGVDb250ZW50OiBmdW5jdGlvbiggdGFyZ2V0LCBldmVudCApIHtcblx0XHR2YXIgY29udGVudCxcblx0XHRcdGNvbnRlbnRPcHRpb24gPSB0aGlzLm9wdGlvbnMuY29udGVudCxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0ZXZlbnRUeXBlID0gZXZlbnQgPyBldmVudC50eXBlIDogbnVsbDtcblxuXHRcdGlmICggdHlwZW9mIGNvbnRlbnRPcHRpb24gPT09IFwic3RyaW5nXCIgfHwgY29udGVudE9wdGlvbi5ub2RlVHlwZSB8fFxuXHRcdFx0XHRjb250ZW50T3B0aW9uLmpxdWVyeSApIHtcblx0XHRcdHJldHVybiB0aGlzLl9vcGVuKCBldmVudCwgdGFyZ2V0LCBjb250ZW50T3B0aW9uICk7XG5cdFx0fVxuXG5cdFx0Y29udGVudCA9IGNvbnRlbnRPcHRpb24uY2FsbCggdGFyZ2V0WyAwIF0sIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdFx0Ly8gSUUgbWF5IGluc3RhbnRseSBzZXJ2ZSBhIGNhY2hlZCByZXNwb25zZSBmb3IgYWpheCByZXF1ZXN0c1xuXHRcdFx0Ly8gZGVsYXkgdGhpcyBjYWxsIHRvIF9vcGVuIHNvIHRoZSBvdGhlciBjYWxsIHRvIF9vcGVuIHJ1bnMgZmlyc3Rcblx0XHRcdHRoYXQuX2RlbGF5KCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYXN5bmMgcmVzcG9uc2UgaWYgdG9vbHRpcCB3YXMgY2xvc2VkIGFscmVhZHlcblx0XHRcdFx0aWYgKCAhdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBKUXVlcnkgY3JlYXRlcyBhIHNwZWNpYWwgZXZlbnQgZm9yIGZvY3VzaW4gd2hlbiBpdCBkb2Vzbid0XG5cdFx0XHRcdC8vIGV4aXN0IG5hdGl2ZWx5LiBUbyBpbXByb3ZlIHBlcmZvcm1hbmNlLCB0aGUgbmF0aXZlIGV2ZW50XG5cdFx0XHRcdC8vIG9iamVjdCBpcyByZXVzZWQgYW5kIHRoZSB0eXBlIGlzIGNoYW5nZWQuIFRoZXJlZm9yZSwgd2UgY2FuJ3Rcblx0XHRcdFx0Ly8gcmVseSBvbiB0aGUgdHlwZSBiZWluZyBjb3JyZWN0IGFmdGVyIHRoZSBldmVudCBmaW5pc2hlZFxuXHRcdFx0XHQvLyBidWJibGluZywgc28gd2Ugc2V0IGl0IGJhY2sgdG8gdGhlIHByZXZpb3VzIHZhbHVlLiAoIzg3NDApXG5cdFx0XHRcdGlmICggZXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQudHlwZSA9IGV2ZW50VHlwZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9vcGVuKCBldmVudCwgdGFyZ2V0LCByZXNwb25zZSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0XHRpZiAoIGNvbnRlbnQgKSB7XG5cdFx0XHR0aGlzLl9vcGVuKCBldmVudCwgdGFyZ2V0LCBjb250ZW50ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vcGVuOiBmdW5jdGlvbiggZXZlbnQsIHRhcmdldCwgY29udGVudCApIHtcblx0XHR2YXIgdG9vbHRpcERhdGEsIHRvb2x0aXAsIGRlbGF5ZWRTaG93LCBhMTF5Q29udGVudCxcblx0XHRcdHBvc2l0aW9uT3B0aW9uID0gJC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKTtcblxuXHRcdGlmICggIWNvbnRlbnQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ29udGVudCBjYW4gYmUgdXBkYXRlZCBtdWx0aXBsZSB0aW1lcy4gSWYgdGhlIHRvb2x0aXAgYWxyZWFkeVxuXHRcdC8vIGV4aXN0cywgdGhlbiBqdXN0IHVwZGF0ZSB0aGUgY29udGVudCBhbmQgYmFpbC5cblx0XHR0b29sdGlwRGF0YSA9IHRoaXMuX2ZpbmQoIHRhcmdldCApO1xuXHRcdGlmICggdG9vbHRpcERhdGEgKSB7XG5cdFx0XHR0b29sdGlwRGF0YS50b29sdGlwLmZpbmQoIFwiLnVpLXRvb2x0aXAtY29udGVudFwiICkuaHRtbCggY29udGVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHdlIGhhdmUgYSB0aXRsZSwgY2xlYXIgaXQgdG8gcHJldmVudCB0aGUgbmF0aXZlIHRvb2x0aXBcblx0XHQvLyB3ZSBoYXZlIHRvIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGRlZmluaW5nIGEgdGl0bGUgaWYgbm9uZSBleGlzdHNcblx0XHQvLyAod2UgZG9uJ3Qgd2FudCB0byBjYXVzZSBhbiBlbGVtZW50IHRvIHN0YXJ0IG1hdGNoaW5nIFt0aXRsZV0pXG5cdFx0Ly9cblx0XHQvLyBXZSB1c2UgcmVtb3ZlQXR0ciBvbmx5IGZvciBrZXkgZXZlbnRzLCB0byBhbGxvdyBJRSB0byBleHBvcnQgdGhlIGNvcnJlY3Rcblx0XHQvLyBhY2Nlc3NpYmxlIGF0dHJpYnV0ZXMuIEZvciBtb3VzZSBldmVudHMsIHNldCB0byBlbXB0eSBzdHJpbmcgdG8gYXZvaWRcblx0XHQvLyBuYXRpdmUgdG9vbHRpcCBzaG93aW5nIHVwIChoYXBwZW5zIG9ubHkgd2hlbiByZW1vdmluZyBpbnNpZGUgbW91c2VvdmVyKS5cblx0XHRpZiAoIHRhcmdldC5pcyggXCJbdGl0bGVdXCIgKSApIHtcblx0XHRcdGlmICggZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gXCJtb3VzZW92ZXJcIiApIHtcblx0XHRcdFx0dGFyZ2V0LmF0dHIoIFwidGl0bGVcIiwgXCJcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFyZ2V0LnJlbW92ZUF0dHIoIFwidGl0bGVcIiApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRvb2x0aXBEYXRhID0gdGhpcy5fdG9vbHRpcCggdGFyZ2V0ICk7XG5cdFx0dG9vbHRpcCA9IHRvb2x0aXBEYXRhLnRvb2x0aXA7XG5cdFx0dGhpcy5fYWRkRGVzY3JpYmVkQnkoIHRhcmdldCwgdG9vbHRpcC5hdHRyKCBcImlkXCIgKSApO1xuXHRcdHRvb2x0aXAuZmluZCggXCIudWktdG9vbHRpcC1jb250ZW50XCIgKS5odG1sKCBjb250ZW50ICk7XG5cblx0XHQvLyBTdXBwb3J0OiBWb2ljZW92ZXIgb24gT1MgWCwgSkFXUyBvbiBJRSA8PSA5XG5cdFx0Ly8gSkFXUyBhbm5vdW5jZXMgZGVsZXRpb25zIGV2ZW4gd2hlbiBhcmlhLXJlbGV2YW50PVwiYWRkaXRpb25zXCJcblx0XHQvLyBWb2ljZW92ZXIgd2lsbCBzb21ldGltZXMgcmUtcmVhZCB0aGUgZW50aXJlIGxvZyByZWdpb24ncyBjb250ZW50cyBmcm9tIHRoZSBiZWdpbm5pbmdcblx0XHR0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0YTExeUNvbnRlbnQgPSAkKCBcIjxkaXY+XCIgKS5odG1sKCB0b29sdGlwLmZpbmQoIFwiLnVpLXRvb2x0aXAtY29udGVudFwiICkuaHRtbCgpICk7XG5cdFx0YTExeUNvbnRlbnQucmVtb3ZlQXR0ciggXCJuYW1lXCIgKS5maW5kKCBcIltuYW1lXVwiICkucmVtb3ZlQXR0ciggXCJuYW1lXCIgKTtcblx0XHRhMTF5Q29udGVudC5yZW1vdmVBdHRyKCBcImlkXCIgKS5maW5kKCBcIltpZF1cIiApLnJlbW92ZUF0dHIoIFwiaWRcIiApO1xuXHRcdGExMXlDb250ZW50LmFwcGVuZFRvKCB0aGlzLmxpdmVSZWdpb24gKTtcblxuXHRcdGZ1bmN0aW9uIHBvc2l0aW9uKCBldmVudCApIHtcblx0XHRcdHBvc2l0aW9uT3B0aW9uLm9mID0gZXZlbnQ7XG5cdFx0XHRpZiAoIHRvb2x0aXAuaXMoIFwiOmhpZGRlblwiICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRvb2x0aXAucG9zaXRpb24oIHBvc2l0aW9uT3B0aW9uICk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcHRpb25zLnRyYWNrICYmIGV2ZW50ICYmIC9ebW91c2UvLnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHRoaXMuX29uKCB0aGlzLmRvY3VtZW50LCB7XG5cdFx0XHRcdG1vdXNlbW92ZTogcG9zaXRpb25cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gdHJpZ2dlciBvbmNlIHRvIG92ZXJyaWRlIGVsZW1lbnQtcmVsYXRpdmUgcG9zaXRpb25pbmdcblx0XHRcdHBvc2l0aW9uKCBldmVudCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0b29sdGlwLnBvc2l0aW9uKCAkLmV4dGVuZCgge1xuXHRcdFx0XHRvZjogdGFyZ2V0XG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKSApO1xuXHRcdH1cblxuXHRcdHRvb2x0aXAuaGlkZSgpO1xuXG5cdFx0dGhpcy5fc2hvdyggdG9vbHRpcCwgdGhpcy5vcHRpb25zLnNob3cgKTtcblxuXHRcdC8vIEhhbmRsZSB0cmFja2luZyB0b29sdGlwcyB0aGF0IGFyZSBzaG93biB3aXRoIGEgZGVsYXkgKCM4NjQ0KS4gQXMgc29vblxuXHRcdC8vIGFzIHRoZSB0b29sdGlwIGlzIHZpc2libGUsIHBvc2l0aW9uIHRoZSB0b29sdGlwIHVzaW5nIHRoZSBtb3N0IHJlY2VudFxuXHRcdC8vIGV2ZW50LlxuXHRcdC8vIEFkZHMgdGhlIGNoZWNrIHRvIGFkZCB0aGUgdGltZXJzIG9ubHkgd2hlbiBib3RoIGRlbGF5IGFuZCB0cmFjayBvcHRpb25zIGFyZSBzZXQgKCMxNDY4Milcblx0XHRpZiAoIHRoaXMub3B0aW9ucy50cmFjayAmJiB0aGlzLm9wdGlvbnMuc2hvdyAmJiB0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSApIHtcblx0XHRcdGRlbGF5ZWRTaG93ID0gdGhpcy5kZWxheWVkU2hvdyA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0b29sdGlwLmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbiggcG9zaXRpb25PcHRpb24ub2YgKTtcblx0XHRcdFx0XHRjbGVhckludGVydmFsKCBkZWxheWVkU2hvdyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAkLmZ4LmludGVydmFsICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIsIGV2ZW50LCB7IHRvb2x0aXA6IHRvb2x0aXAgfSApO1xuXHR9LFxuXG5cdF9yZWdpc3RlckNsb3NlSGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgdGFyZ2V0ICkge1xuXHRcdHZhciBldmVudHMgPSB7XG5cdFx0XHRrZXl1cDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FU0NBUEUgKSB7XG5cdFx0XHRcdFx0dmFyIGZha2VFdmVudCA9ICQuRXZlbnQoIGV2ZW50ICk7XG5cdFx0XHRcdFx0ZmFrZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSB0YXJnZXRbIDAgXTtcblx0XHRcdFx0XHR0aGlzLmNsb3NlKCBmYWtlRXZlbnQsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvLyBPbmx5IGJpbmQgcmVtb3ZlIGhhbmRsZXIgZm9yIGRlbGVnYXRlZCB0YXJnZXRzLiBOb24tZGVsZWdhdGVkXG5cdFx0Ly8gdG9vbHRpcHMgd2lsbCBoYW5kbGUgdGhpcyBpbiBkZXN0cm95LlxuXHRcdGlmICggdGFyZ2V0WyAwIF0gIT09IHRoaXMuZWxlbWVudFsgMCBdICkge1xuXHRcdFx0ZXZlbnRzLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVUb29sdGlwKCB0aGlzLl9maW5kKCB0YXJnZXQgKS50b29sdGlwICk7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICggIWV2ZW50IHx8IGV2ZW50LnR5cGUgPT09IFwibW91c2VvdmVyXCIgKSB7XG5cdFx0XHRldmVudHMubW91c2VsZWF2ZSA9IFwiY2xvc2VcIjtcblx0XHR9XG5cdFx0aWYgKCAhZXZlbnQgfHwgZXZlbnQudHlwZSA9PT0gXCJmb2N1c2luXCIgKSB7XG5cdFx0XHRldmVudHMuZm9jdXNvdXQgPSBcImNsb3NlXCI7XG5cdFx0fVxuXHRcdHRoaXMuX29uKCB0cnVlLCB0YXJnZXQsIGV2ZW50cyApO1xuXHR9LFxuXG5cdGNsb3NlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHRvb2x0aXAsXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdHRhcmdldCA9ICQoIGV2ZW50ID8gZXZlbnQuY3VycmVudFRhcmdldCA6IHRoaXMuZWxlbWVudCApLFxuXHRcdFx0dG9vbHRpcERhdGEgPSB0aGlzLl9maW5kKCB0YXJnZXQgKTtcblxuXHRcdC8vIFRoZSB0b29sdGlwIG1heSBhbHJlYWR5IGJlIGNsb3NlZFxuXHRcdGlmICggIXRvb2x0aXBEYXRhICkge1xuXG5cdFx0XHQvLyBXZSBzZXQgdWktdG9vbHRpcC1vcGVuIGltbWVkaWF0ZWx5IHVwb24gb3BlbiAoaW4gb3BlbigpKSwgYnV0IG9ubHkgc2V0IHRoZVxuXHRcdFx0Ly8gYWRkaXRpb25hbCBkYXRhIG9uY2UgdGhlcmUncyBhY3R1YWxseSBjb250ZW50IHRvIHNob3cgKGluIF9vcGVuKCkpLiBTbyBldmVuIGlmIHRoZVxuXHRcdFx0Ly8gdG9vbHRpcCBkb2Vzbid0IGhhdmUgZnVsbCBkYXRhLCB3ZSBhbHdheXMgcmVtb3ZlIHVpLXRvb2x0aXAtb3BlbiBpbiBjYXNlIHdlJ3JlIGluXG5cdFx0XHQvLyB0aGUgcGVyaW9kIGJldHdlZW4gb3BlbigpIGFuZCBfb3BlbigpLlxuXHRcdFx0dGFyZ2V0LnJlbW92ZURhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0b29sdGlwID0gdG9vbHRpcERhdGEudG9vbHRpcDtcblxuXHRcdC8vIERpc2FibGluZyBjbG9zZXMgdGhlIHRvb2x0aXAsIHNvIHdlIG5lZWQgdG8gdHJhY2sgd2hlbiB3ZSdyZSBjbG9zaW5nXG5cdFx0Ly8gdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcCBpbiBjYXNlIHRoZSB0b29sdGlwIGJlY29tZXMgZGlzYWJsZWQgb24gY2xvc2Vcblx0XHRpZiAoIHRvb2x0aXBEYXRhLmNsb3NpbmcgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2xlYXIgdGhlIGludGVydmFsIGZvciBkZWxheWVkIHRyYWNraW5nIHRvb2x0aXBzXG5cdFx0Y2xlYXJJbnRlcnZhbCggdGhpcy5kZWxheWVkU2hvdyApO1xuXG5cdFx0Ly8gT25seSBzZXQgdGl0bGUgaWYgd2UgaGFkIG9uZSBiZWZvcmUgKHNlZSBjb21tZW50IGluIF9vcGVuKCkpXG5cdFx0Ly8gSWYgdGhlIHRpdGxlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBvcGVuKCksIGRvbid0IHJlc3RvcmVcblx0XHRpZiAoIHRhcmdldC5kYXRhKCBcInVpLXRvb2x0aXAtdGl0bGVcIiApICYmICF0YXJnZXQuYXR0ciggXCJ0aXRsZVwiICkgKSB7XG5cdFx0XHR0YXJnZXQuYXR0ciggXCJ0aXRsZVwiLCB0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3JlbW92ZURlc2NyaWJlZEJ5KCB0YXJnZXQgKTtcblxuXHRcdHRvb2x0aXBEYXRhLmhpZGluZyA9IHRydWU7XG5cdFx0dG9vbHRpcC5zdG9wKCB0cnVlICk7XG5cdFx0dGhpcy5faGlkZSggdG9vbHRpcCwgdGhpcy5vcHRpb25zLmhpZGUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhhdC5fcmVtb3ZlVG9vbHRpcCggJCggdGhpcyApICk7XG5cdFx0fSApO1xuXG5cdFx0dGFyZ2V0LnJlbW92ZURhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKTtcblx0XHR0aGlzLl9vZmYoIHRhcmdldCwgXCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwXCIgKTtcblxuXHRcdC8vIFJlbW92ZSAncmVtb3ZlJyBiaW5kaW5nIG9ubHkgb24gZGVsZWdhdGVkIHRhcmdldHNcblx0XHRpZiAoIHRhcmdldFsgMCBdICE9PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdHRoaXMuX29mZiggdGFyZ2V0LCBcInJlbW92ZVwiICk7XG5cdFx0fVxuXHRcdHRoaXMuX29mZiggdGhpcy5kb2N1bWVudCwgXCJtb3VzZW1vdmVcIiApO1xuXG5cdFx0aWYgKCBldmVudCAmJiBldmVudC50eXBlID09PSBcIm1vdXNlbGVhdmVcIiApIHtcblx0XHRcdCQuZWFjaCggdGhpcy5wYXJlbnRzLCBmdW5jdGlvbiggaWQsIHBhcmVudCApIHtcblx0XHRcdFx0JCggcGFyZW50LmVsZW1lbnQgKS5hdHRyKCBcInRpdGxlXCIsIHBhcmVudC50aXRsZSApO1xuXHRcdFx0XHRkZWxldGUgdGhhdC5wYXJlbnRzWyBpZCBdO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHRvb2x0aXBEYXRhLmNsb3NpbmcgPSB0cnVlO1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwiY2xvc2VcIiwgZXZlbnQsIHsgdG9vbHRpcDogdG9vbHRpcCB9ICk7XG5cdFx0aWYgKCAhdG9vbHRpcERhdGEuaGlkaW5nICkge1xuXHRcdFx0dG9vbHRpcERhdGEuY2xvc2luZyA9IGZhbHNlO1xuXHRcdH1cblx0fSxcblxuXHRfdG9vbHRpcDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHRvb2x0aXAgPSAkKCBcIjxkaXY+XCIgKS5hdHRyKCBcInJvbGVcIiwgXCJ0b29sdGlwXCIgKSxcblx0XHRcdGNvbnRlbnQgPSAkKCBcIjxkaXY+XCIgKS5hcHBlbmRUbyggdG9vbHRpcCApLFxuXHRcdFx0aWQgPSB0b29sdGlwLnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggY29udGVudCwgXCJ1aS10b29sdGlwLWNvbnRlbnRcIiApO1xuXHRcdHRoaXMuX2FkZENsYXNzKCB0b29sdGlwLCBcInVpLXRvb2x0aXBcIiwgXCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnRcIiApO1xuXG5cdFx0dG9vbHRpcC5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oIGVsZW1lbnQgKSApO1xuXG5cdFx0cmV0dXJuIHRoaXMudG9vbHRpcHNbIGlkIF0gPSB7XG5cdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0dG9vbHRpcDogdG9vbHRpcFxuXHRcdH07XG5cdH0sXG5cblx0X2ZpbmQ6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIGlkID0gdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC1pZFwiICk7XG5cdFx0cmV0dXJuIGlkID8gdGhpcy50b29sdGlwc1sgaWQgXSA6IG51bGw7XG5cdH0sXG5cblx0X3JlbW92ZVRvb2x0aXA6IGZ1bmN0aW9uKCB0b29sdGlwICkge1xuXHRcdHRvb2x0aXAucmVtb3ZlKCk7XG5cdFx0ZGVsZXRlIHRoaXMudG9vbHRpcHNbIHRvb2x0aXAuYXR0ciggXCJpZFwiICkgXTtcblx0fSxcblxuXHRfYXBwZW5kVG86IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIGVsZW1lbnQgPSB0YXJnZXQuY2xvc2VzdCggXCIudWktZnJvbnQsIGRpYWxvZ1wiICk7XG5cblx0XHRpZiAoICFlbGVtZW50Lmxlbmd0aCApIHtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2xvc2Ugb3BlbiB0b29sdGlwc1xuXHRcdCQuZWFjaCggdGhpcy50b29sdGlwcywgZnVuY3Rpb24oIGlkLCB0b29sdGlwRGF0YSApIHtcblxuXHRcdFx0Ly8gRGVsZWdhdGUgdG8gY2xvc2UgbWV0aG9kIHRvIGhhbmRsZSBjb21tb24gY2xlYW51cFxuXHRcdFx0dmFyIGV2ZW50ID0gJC5FdmVudCggXCJibHVyXCIgKSxcblx0XHRcdFx0ZWxlbWVudCA9IHRvb2x0aXBEYXRhLmVsZW1lbnQ7XG5cdFx0XHRldmVudC50YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudFsgMCBdO1xuXHRcdFx0dGhhdC5jbG9zZSggZXZlbnQsIHRydWUgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGltbWVkaWF0ZWx5OyBkZXN0cm95aW5nIGFuIG9wZW4gdG9vbHRpcCBkb2Vzbid0IHVzZSB0aGVcblx0XHRcdC8vIGhpZGUgYW5pbWF0aW9uXG5cdFx0XHQkKCBcIiNcIiArIGlkICkucmVtb3ZlKCk7XG5cblx0XHRcdC8vIFJlc3RvcmUgdGhlIHRpdGxlXG5cdFx0XHRpZiAoIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGUgdGl0bGUgYXR0cmlidXRlIGhhcyBjaGFuZ2VkIHNpbmNlIG9wZW4oKSwgZG9uJ3QgcmVzdG9yZVxuXHRcdFx0XHRpZiAoICFlbGVtZW50LmF0dHIoIFwidGl0bGVcIiApICkge1xuXHRcdFx0XHRcdGVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiLCBlbGVtZW50LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtZW50LnJlbW92ZURhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKTtcblx0fVxufSApO1xuXG4vLyBERVBSRUNBVEVEXG4vLyBUT0RPOiBTd2l0Y2ggcmV0dXJuIGJhY2sgdG8gd2lkZ2V0IGRlY2xhcmF0aW9uIGF0IHRvcCBvZiBmaWxlIHdoZW4gdGhpcyBpcyByZW1vdmVkXG5pZiAoICQudWlCYWNrQ29tcGF0ICE9PSBmYWxzZSApIHtcblxuXHQvLyBCYWNrY29tcGF0IGZvciB0b29sdGlwQ2xhc3Mgb3B0aW9uXG5cdCQud2lkZ2V0KCBcInVpLnRvb2x0aXBcIiwgJC51aS50b29sdGlwLCB7XG5cdFx0b3B0aW9uczoge1xuXHRcdFx0dG9vbHRpcENsYXNzOiBudWxsXG5cdFx0fSxcblx0XHRfdG9vbHRpcDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdG9vbHRpcERhdGEgPSB0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyApIHtcblx0XHRcdFx0dG9vbHRpcERhdGEudG9vbHRpcC5hZGRDbGFzcyggdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRvb2x0aXBEYXRhO1xuXHRcdH1cblx0fSApO1xufVxuXG52YXIgd2lkZ2V0c1Rvb2x0aXAgPSAkLnVpLnRvb2x0aXA7XG5cblxuXG5cbn0pKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2xpYi9qcXVlcnktdWkvanF1ZXJ5LXVpLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0FBS0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUlBOzs7Ozs7O0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQVVBO0FBTUE7QUFVQTtBQUNBO0FBZ0JBO0FBU0E7QUFLQTtBQUNBO0FBTUE7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQW1DQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBdUJBO0FBS0E7QUFHQTtBQW1CQTtBQUNBO0FBb0NBO0FBa0NBO0FBMEJBO0FBR0E7QUFzQ0E7QUFDQTtBQVFBO0FBa0JBO0FBTUE7QUErREE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBeUZBO0FBT0E7QUFhQTtBQUNBO0FBQ0E7QUFVQTtBQXVCQTtBQWlEQTtBQUNBO0FBR0E7Ozs7Ozs7OztBQXVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFtSEE7QUFhQTtBQU9BO0FBR0E7QUFDQTtBQWdCQTtBQVFBO0FBT0E7QUE0RUE7QUFzREE7QUFHQTtBQU1BO0FBSUE7QUFTQTtBQUlBO0FBSUE7QUFjQTtBQUdBO0FBTUE7QUFJQTtBQVNBO0FBSUE7QUFJQTs7Ozs7OztBQXlHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBU0E7Ozs7Ozs7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7Ozs7Ozs7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7Ozs7Ozs7OztBQWdCQTtBQU1BO0FBR0E7QUF1QkE7QUFXQTtBQXNCQTtBQXNEQTtBQUdBO0FBR0E7QUFHQTtBQUlBO0FBQ0E7QUFpQkE7QUFHQTtBQUNBO0FBT0E7QUFDQTtBQUlBO0FBbUJBO0FBQ0E7QUFJQTtBQUtBO0FBR0E7QUFDQTtBQU9BO0FBbUJBO0FBNkJBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFJQTtBQUlBO0FBeURBO0FBS0E7QUFrQkE7QUFpQ0E7QUF1QkE7QUFXQTtBQUVBO0FBd0NBO0FBQ0E7QUFvQ0E7QUFHQTtBQThCQTtBQUdBO0FBa0NBO0FBQ0E7QUFvQ0E7QUFDQTtBQTZCQTtBQUNBO0FBQ0E7QUFHQTtBQWtCQTtBQXNEQTtBQThCQTtBQWtCQTtBQVNBO0FBVUE7QUFPQTtBQUdBO0FBZUE7QUFHQTtBQUdBO0FBQ0E7QUFRQTtBQUNBO0FBOEJBO0FBU0E7QUFrQ0E7QUFVQTtBQWtCQTtBQUdBO0FBS0E7QUFnQkE7QUFPQTtBQUNBO0FBQ0E7QUFTQTtBQUtBO0FBQ0E7QUFHQTtBQWtDQTtBQXlEQTtBQWdDQTtBQXNDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQU1BO0FBaUNBO0FBQ0E7QUFrQkE7QUFHQTtBQU1BO0FBR0E7QUFLQTtBQU9BO0FBT0E7QUFNQTtBQWtCQTtBQUtBO0FBS0E7QUFLQTtBQUtBO0FBa0JBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFpQkE7QUFxQ0E7QUFDQTtBQU1BO0FBU0E7QUFTQTtBQUNBO0FBQ0E7QUF3SUE7Ozs7Ozs7QUF5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBOzs7Ozs7O0FBZ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBUUE7QUFLQTtBQVdBO0FBU0E7QUFDQTtBQU9BO0FBUUE7QUFZQTs7Ozs7OztBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7Ozs7Ozs7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBNkJBOzs7Ozs7O0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFVQTtBQUdBO0FBS0E7QUFRQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBWUE7QUFaQTs7Ozs7OztBQW1EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7Ozs7Ozs7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFxQ0E7Ozs7Ozs7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBOzs7Ozs7O0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUdBO0FBSUE7QUFLQTtBQW1CQTtBQVlBO0FBR0E7QUFNQTtBQU9BO0FBR0E7QUFPQTtBQVVBO0FBTUE7QUFDQTtBQWlCQTtBQU1BO0FBVUE7QUFJQTtBQVFBO0FBa0JBO0FBQ0E7Ozs7Ozs7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFZQTs7Ozs7OztBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7Ozs7Ozs7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBUUE7QUFZQTs7Ozs7OztBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFvQkE7QUFLQTtBQUdBOzs7Ozs7O0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQXVCQTtBQUtBO0FBUUE7Ozs7Ozs7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBOzs7Ozs7O0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBOzs7Ozs7O0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBa0JBOzs7Ozs7OztBQWtDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7Ozs7OztBQTZEQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBdUJBOzs7Ozs7O0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUdBO0FBR0E7QUFPQTs7Ozs7OztBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7Ozs7Ozs7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFJQTs7Ozs7OztBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUlBOzs7Ozs7O0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFvQkE7QUE0QkE7QUFPQTtBQXFDQTtBQUdBO0FBT0E7QUFjQTtBQWNBO0FBa0JBO0FBQ0E7QUFDQTtBQXVEQTtBQU1BO0FBSUE7QUFHQTtBQUtBO0FBS0E7QUFHQTtBQW9CQTtBQTZDQTtBQTZEQTtBQUtBO0FBbURBO0FBR0E7QUFPQTtBQUNBO0FBSUE7QUFDQTtBQXlCQTtBQXFCQTtBQUNBO0FBQ0E7QUEyQ0E7QUErQ0E7QUFhQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBOzs7Ozs7O0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQWlCQTtBQVNBO0FBQ0E7QUFZQTtBQUNBO0FBVUE7QUFLQTtBQU1BO0FBR0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVFBO0FBS0E7QUFDQTtBQVNBO0FBQ0E7QUF1QkE7QUFPQTtBQWFBO0FBNERBO0FBaUJBO0FBQ0E7QUF3Q0E7QUF5QkE7QUFRQTtBQVlBO0FBR0E7QUF3Q0E7QUFDQTtBQUtBO0FBNkRBO0FBQ0E7QUFnQ0E7QUFJQTtBQUNBO0FBU0E7QUFPQTtBQUNBO0FBa0JBO0FBdUJBO0FBaUdBO0FBQ0E7QUFZQTs7Ozs7OztBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFnQkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBeUNBO0FBR0E7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFPQTtBQWlCQTtBQThDQTtBQVVBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFpQkE7QUFNQTtBQVdBO0FBS0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFpR0E7QUFlQTtBQStDQTtBQVlBO0FBbUJBO0FBd0JBO0FBV0E7QUFVQTtBQUNBO0FBcURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUE0QkE7QUFDQTtBQUNBOzs7Ozs7O0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQXVCQTtBQXNCQTtBQUtBO0FBcUJBO0FBS0E7QUFDQTtBQU9BO0FBT0E7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQVVBO0FBQ0E7QUE4SEE7QUFPQTtBQUNBO0FBZUE7Ozs7Ozs7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQWtCQTtBQUNBO0FBQ0E7QUFLQTtBQVFBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFnRUE7QUFzQkE7QUEwQ0E7QUFXQTtBQW9DQTs7Ozs7OztBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFrQkE7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFPQTtBQWtCQTtBQUNBO0FBQ0E7QUFvQ0E7QUFXQTtBQUlBO0FBT0E7QUFDQTtBQVFBO0FBQ0E7QUE0REE7QUFXQTtBQUNBO0FBc0JBO0FBQ0E7QUFZQTtBQUdBO0FBa0dBOzs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBU0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQWVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxCQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpEQTtBQThEQTtBQUdBOzs7QUFRQTs7O0FBU0E7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBMkJBO0FBR0E7QUE0QkE7QUFvQ0E7QUFLQTtBQUNBOzs7Ozs7Ozs7QUFhQTtBQUlBO0FBc0JBO0FBSUE7O0FBZUE7O0FBK0JBO0FBdUJBOztBQUtBO0FBdUJBOzs7QUFPQTs7OztBQWlCQTs7Ozs7Ozs7QUFrQkE7QUEyQkE7QUFzQkE7O0FBT0E7OztBQVdBOzs7O0FBY0E7QUFxQkE7QUFXQTtBQU1BO0FBRUE7QUFJQTtBQUlBO0FBS0E7QUFLQTtBQU1BO0FBT0E7QUFNQTtBQU1BO0FBT0E7QUFNQTtBQUdBO0FBbUNBOzs7O0FBZ0JBO0FBR0E7QUFJQTtBQTBCQTtBQUdBO0FBRUE7QUFZQTtBQUdBO0FBSUE7QUFDQTtBQTRCQTtBQUNBO0FBMkJBO0FBS0E7QUFTQTtBQUNBO0FBQ0E7QUFrQkE7O0FBeUJBO0FBZ0JBO0FBK0RBO0FBMkVBO0FBRUE7QUFTQTtBQVdBOzs7QUFXQTs7O0FBU0E7QUFLQTtBQUlBOzs7Ozs7Ozs7Ozs7QUFpQkE7QUEyQkE7QUFTQTtBQWVBO0FBd0JBO0FBeUZBO0FBTUE7QUFRQTtBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQkE7QUFZQTtBQVNBO0FBV0E7QUFpRUE7QUFzQkE7QUFvRUE7Ozs7OztBQWlEQTs7QUFzQ0E7QUFvREE7QUFnSUE7QUFJQTtBQVdBO0FBQ0E7QUFHQTtBQUlBO0FBT0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBaUNBO0FBcUJBO0FBT0E7QUE4QkE7Ozs7QUE0SEE7OztBQTBDQTtBQW9DQTtBQVVBOzs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQStCQTtBQUNBO0FBWUE7QUFPQTtBQVFBO0FBQ0E7QUFzQkE7QUFLQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFpRUE7QUFVQTtBQW1DQTtBQUNBOzs7Ozs7O0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUE4QkE7QUFzQ0E7QUFNQTtBQXNDQTtBQUNBO0FBQ0E7QUFLQTtBQVFBO0FBS0E7QUFHQTs7O0FBU0E7QUFDQTtBQUdBO0FBUUE7QUFJQTtBQUtBO0FBR0E7QUFHQTtBQU1BO0FBR0E7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQXlCQTtBQUtBO0FBSUE7QUFzQkE7QUFPQTtBQWdDQTtBQUNBO0FBS0E7QUFHQTtBQUNBO0FBbURBO0FBQ0E7QUFDQTtBQStDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMklBO0FBR0E7QUFHQTtBQVFBO0FBR0E7QUFHQTtBQWtCQTs7O0FBWUE7QUFDQTtBQStCQTtBQUNBO0FBK0JBO0FBR0E7QUFHQTtBQUdBO0FBUUE7QUFHQTtBQUdBO0FBR0E7QUF1QkE7QUFLQTtBQWtDQTtBQUNBO0FBQ0E7QUFtQkE7QUFJQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBWUE7QUFVQTtBQWlCQTtBQUNBO0FBSUE7QUFPQTtBQU9BO0FBQ0E7QUFLQTtBQUNBO0FBVUE7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFPQTtBQUNBO0FBUUE7QUFDQTtBQU9BO0FBR0E7QUFDQTs7Ozs7OztBQXVTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUF3QkE7QUFHQTtBQTJCQTtBQUNBO0FBQ0E7QUFzQkE7QUE2QkE7QUFDQTtBQVVBO0FBQ0E7QUE2Q0E7QUFnSEE7QUF5VUE7QUFtREE7QUFDQTtBQXVCQTs7QUE2RUE7QUFvQ0E7QUF1UUE7QUFDQTtBQUdBOzs7Ozs7O0FBaUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQTJCQTtBQWFBO0FBK0NBO0FBaURBO0FBZ0JBO0FBNkJBO0FBQ0E7QUFDQTtBQW9EQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdDQTtBQUNBO0FBQ0E7QUFTQTtBQWdCQTtBQTZCQTtBQUNBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFvREE7QUFlQTtBQUdBO0FBT0E7QUFVQTtBQThEQTtBQUNBO0FBOEZBO0FBeURBO0FBc0JBO0FBTUE7QUFLQTtBQWFBO0FBQ0E7QUFJQTtBQVlBO0FBQ0E7QUFxREE7QUFDQTtBQVNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUErQ0E7QUFDQTtBQUdBOzs7Ozs7O0FBK0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQVdBO0FBdUJBO0FBSUE7QUFrQkE7QUEwREE7QUFrQkE7QUFtQkE7QUFxREE7QUFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFQQTs7QUFrQkE7QUFRQTtBQUtBO0FBTUE7QUFhQTtBQWtCQTtBQXdCQTtBQUNBO0FBU0E7QUFDQTtBQUtBO0FBa0JBO0FBWUE7QUFXQTtBQVlBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7Ozs7Ozs7QUE0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQW9CQTtBQUtBO0FBQ0E7QUFpQ0E7QUFXQTtBQWFBOzs7Ozs7O0FBb0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBVUE7QUFlQTtBQXdEQTtBQXFCQTtBQW1CQTtBQXlDQTtBQW9CQTtBQWFBO0FBT0E7QUFlQTtBQWNBOzs7Ozs7O0FBdURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFxQkE7QUFnQ0E7QUFTQTtBQUdBO0FBNEJBO0FBQ0E7QUFVQTtBQU9BO0FBS0E7QUFVQTtBQUNBO0FBQ0E7QUFRQTtBQWVBO0FBR0E7QUFLQTtBQVdBO0FBK0JBO0FBSUE7QUFTQTtBQUtBO0FBS0E7QUErSUE7QUFLQTtBQUNBO0FBQ0E7QUFtQkE7QUFVQTtBQWdGQTtBQWdGQTtBQUNBO0FBQ0E7QUFhQTtBQU1BO0FBYUE7QUFDQTtBQUNBOzs7Ozs7O0FBc0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQVdBO0FBQ0E7QUFZQTtBQU9BO0FBQ0E7QUFnRkE7QUF5TUE7QUFtQkE7QUFnRkE7QUFhQTtBQTRCQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQVlBO0FBZ0JBO0FBQ0E7QUFZQTs7Ozs7OztBQThNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQTZCQTtBQTRCQTtBQUdBO0FBR0E7QUFLQTtBQWlEQTtBQUdBO0FBc0NBO0FBQ0E7QUFHQTtBQUdBOzs7QUFPQTtBQUNBO0FBR0E7QUFHQTtBQVFBO0FBTUE7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUtBO0FBR0E7QUFNQTtBQUNBO0FBS0E7QUFHQTtBQUtBO0FBR0E7QUFRQTtBQU9BO0FBT0E7QUFNQTtBQUdBO0FBS0E7QUFPQTtBQWFBO0FBQ0E7QUFXQTtBQVFBO0FBa0RBO0FBR0E7QUFRQTtBQUdBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUF1QkE7QUFHQTtBQUtBO0FBY0E7QUFzREE7QUFhQTtBQUNBO0FBNkZBO0FBQ0E7QUFDQTtBQUVBO0FBMElBO0FBd0JBO0FBZ0JBO0FBS0E7QUFDQTtBQVVBO0FBeUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQWlCQTtBQUdBO0FBR0E7QUFxQkE7QUFHQTtBQU9BO0FBYUE7QUFTQTtBQUtBO0FBUUE7QUFDQTtBQStCQTtBQW9CQTtBQWdCQTtBQW1EQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQXdHQTtBQUdBO0FBR0E7QUFRQTtBQUdBO0FBR0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7OztBQVVBO0FBRUE7QUEyQ0E7QUFHQTtBQUdBO0FBR0E7QUFRQTtBQUdBO0FBR0E7QUFHQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQVdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUE0QkE7QUFNQTtBQUNBO0FBbUJBO0FBZ0JBO0FBa0JBO0FBQ0E7QUFhQTs7Ozs7OztBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUEwQ0E7QUFLQTtBQUNBO0FBR0E7QUFRQTtBQUNBO0FBQ0E7QUFnRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFZQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBb0JBO0FBVUE7QUFjQTtBQUNBO0FBaUdBO0FBQ0E7QUFJQTtBQUdBO0FBR0E7QUFHQTtBQW9GQTtBQVFBO0FBS0E7QUFJQTtBQWdFQTtBQUNBO0FBR0E7QUFFQTs7Ozs7OztBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFrQkE7QUFnQkE7QUF3QkE7QUFDQTtBQVNBO0FBcUJBO0FBVUE7QUFLQTtBQU1BO0FBUUE7QUEwQ0E7QUFPQTtBQUlBO0FBT0E7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQWVBO0FBT0E7QUF5Q0E7QUFVQTtBQXVCQTtBQUNBO0FBT0E7QUFLQTtBQUdBO0FBS0E7QUFLQTtBQUdBO0FBdUJBO0FBNkJBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBNENBO0FBTUE7QUFHQTtBQUNBO0FBMkJBO0FBUUE7QUFzQkE7QUE0QkE7QUFxRUE7QUFHQTtBQUdBO0FBR0E7QUFzQkE7QUF3QkE7QUFvQkE7QUFDQTtBQUNBO0FBc0JBO0FBS0E7QUFtQkE7QUFzSEE7QUFPQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBVUE7QUFDQTtBQVlBO0FBQ0E7QUFlQTtBQUNBO0FBR0E7Ozs7Ozs7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBU0E7QUFDQTtBQUdBO0FBS0E7QUFVQTtBQXFDQTtBQUdBO0FBR0E7QUFnQ0E7QUFPQTtBQWdCQTtBQWNBO0FBSEE7QUFPQTtBQVdBO0FBc0NBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBbUJBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUF3QkE7QUFDQTtBQXNCQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQWdCQTtBQTJEQTtBQUdBO0FBTUE7QUFDQTtBQUdBO0FBR0E7QUFXQTtBQUNBO0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50\n");

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {\n\n/*******************************************\n * PurpleTouchFramework Core Javascript\n * Ver 0.9.5\n *\n * Dependency Library : jQuery 1.7 or higher\n *******************************************/\n\n;window.$pt = function ($) {\n    /* PurpleTouch Framework */\n    var $pt = {\n        // purpletouch를 지원하는 웹뷰인가?\n        isApp: function isApp() {\n            return navigator.userAgent.toLowerCase().indexOf(\"purpletouch\") > -1;\n        },\n        // 웹뷰 app version 체크\n        appVersion: function appVersion() {\n            if ($pt.isApp()) {\n                return parseFloat(navigator.userAgent.match(/purpletouch\\/[\\d+\\.]{3,5}/)[0].replace('purpletouch/', ''));\n            } else {\n                return 0;\n            }\n        },\n        // device 종류\n        device: {\n            UNKNOWN: 0,\n            IOS: 1,\n            ANDROID: 2,\n            getType: function getType() {\n                var ua = navigator.userAgent.toLowerCase();\n                if (ua.indexOf(\"iphone\") > -1 || ua.indexOf(\"ipad\") > -1 || ua.indexOf(\"ios\") > -1) {\n                    return $pt.device.IOS;\n                } else if (ua.indexOf(\"android\") > -1) {\n                    return $pt.device.ANDROID;\n                } else {\n                    return $pt.device.UNKNOWN;\n                }\n            }\n        },\n        msg: {\n            NO_RESULT: 0,\n            OK: 1,\n            CONTROLLER_NOT_FOUND_EXCEPTION: 2,\n            ACTION_NOT_FOUND_EXCEPTION: 3,\n            PARAMETER_REQUIRE_EXCEPTION: 4,\n            PARAMETER_JSON_PARSE_EXCEPTION: 5,\n            ILLEGAL_ACCESS_EXCEPTION: 6,\n            MALFORMED_URL_EXCEPTION: 7,\n            IO_EXCEPTION: 8,\n            ERROR: 9,\n            API_NOT_FOUND_EXCEPTION: 10,\n            callback_list: {},\n            queue: [],\n            timer: null,\n            isTransaction: false,\n            // 하나씩 하나씩 수행하면 딜레이가 있음 (여러개를 한번에 수행)\n            transaction: function transaction(script) {\n                $pt.msg.isTransaction = true;\n                script();\n                var msgs = [];\n                while ($pt.msg.queue.length > 0) {\n                    var msg = $pt.msg.queue.shift();\n                    msgs.push(msg);\n                }\n                $pt.msg.execute({\n                    \"controller\": \"transaction\",\n                    \"action\": \"call\",\n                    \"param\": msgs\n                });\n\n                $pt.msg.isTransaction = false;\n            },\n            callback: function callback(guid, param) {\n                if ($pt.msg.callback_list[guid]['callback']) {\n                    $pt.msg.callback_list[guid]['callback'](param);\n                }\n            },\n            call: function call(controller, action, param) {\n                // param없이 callback을 넣고 3개만 호출도 가능하게..\n                if (param && (param.success || param.error || param.callback)) {\n                    // callback - success/error/callback\n                    var guid = $pt.helper.guid();\n                    $pt.msg.callback_list[guid] = param;\n                    $.extend(param, { \"callback_id\": guid });\n                }\n                $pt.msg.queue.push({ \"controller\": controller, \"action\": action, \"param\": param });\n                // transaction이 아닐 경우 바로 실행\n                if (!$pt.msg.isTransaction) {\n                    if ($pt.msg.timer == null) {\n                        $pt.msg.run();\n                    }\n                }\n            },\n            execute: function execute(msg) {\n                if ($pt.isApp()) {\n                    if (msg.param && JSON.stringify(msg.param).length > 1000000) {\n                        // 1M 이상일경우\n                        if ($pt.device.getType() == $pt.device.IOS) {\n                            // form[type=post] 방식 사용\n                            var form = document.createElement(\"FORM\");\n                            form.setAttribute(\"method\", \"POST\");\n                            form.setAttribute(\"action\", \"ptapp://\" + msg.controller + \"/\" + msg.action);\n                            if (msg.param) {\n                                var param_input = document.createElement(\"INPUT\");\n                                param_input.setAttribute(\"type\", \"hidden\");\n                                param_input.setAttribute(\"name\", \"param\");\n                                param_input.setAttribute(\"value\", JSON.stringify(msg.param)); // encodeURIComponent\n                                form.appendChild(param_input);\n                            }\n                            form.submit();\n                        } else if ($pt.device.getType() == $pt.device.ANDROID) {\n                            // javascript interface 사용\n                            window.android.dispatch($pt.msg.helper.makeUrl(msg.controller, msg.action, msg.param));\n                        }\n                    } else {\n                        window.location.href = $pt.msg.helper.makeUrl(msg.controller, msg.action, msg.param);\n                    }\n                } else {\n                    console.log(msg);\n                }\n            },\n            run: function run() {\n                if ($pt.msg.queue.length > 0) {\n                    if ($pt.msg.timer) {\n                        $pt.msg.execute($pt.msg.queue.shift());\n                        $pt.msg.timer = setTimeout(function () {\n                            $pt.msg.run();\n                        }, 10);\n                    } else {\n                        $pt.msg.timer = setTimeout(function () {\n                            $pt.msg.run();\n                        }, 10);\n                    }\n                } else {\n                    $pt.msg.timer = null;\n                }\n            },\n            helper: {\n                makeUrl: function makeUrl(controller, action, param) {\n                    var url = \"ptapp://\";\n                    url += controller;\n                    if (action) {\n                        url += \"/\" + action;\n                    }\n                    if (param) {\n                        url += \"?param=\" + encodeURIComponent(JSON.stringify(param));\n                    }\n                    return url;\n                }\n            }\n        },\n        helper: {\n            addController: function addController(controllers) {\n                var controller = controllers.split(\".\");\n                var con = window[\"$\" + controller[0]] || (window[\"$\" + controller[0]] = {});\n                for (var i = 1; i < controller.length; i++) {\n                    con = con[controller[i]] || (con[controller[i]] = {});\n                }\n                con.call = function () {\n                    [].unshift.call(arguments, controllers);\n                    return $pt.msg.call.apply(this, arguments);\n                };\n            },\n            /* guid */\n            S4: function S4() {\n                return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n            },\n            guid: function guid() {\n                var VERSION_VALUE = 0x4; // Bits to set\n                var VERSION_CLEAR = 0x0; // Bits to clear\n                var VARIANT_VALUE = 0x8; // Bits to set for Standard variant (10x)\n                var VARIANT_CLEAR = 0x3; // Bits to clear\n\n                var data3_version = $pt.helper.S4();\n                data3_version = (parseInt(data3_version.charAt(0), 16) & VERSION_CLEAR | VERSION_VALUE).toString(16) + data3_version.substr(1, 3);\n                var data4_variant = $pt.helper.S4();\n                data4_variant = data4_variant.substr(0, 2) + (parseInt(data4_variant.charAt(2), 16) & VARIANT_CLEAR | VARIANT_VALUE).toString(16) + data4_variant.substr(3, 1);\n                return $pt.helper.S4() + $pt.helper.S4() + '-' + $pt.helper.S4() + '-' + data3_version + '-' + data4_variant + '-' + $pt.helper.S4() + $pt.helper.S4() + $pt.helper.S4();\n            }\n        }\n    };\n\n    // create call api function\n    // usage) [controller].call(\"[action]\", [json params])\n    // ex) webview.call(\"loadUrl\", {\"url\":\"http://localhost\", \"title\":\"LOCALHOST\"})\n    /*\n     $.each( [ \"navigation\", \"webview\", \"uicontrol\", \"shell\", \"geolocation\", \"custom\" ], function( i, controller ) {\n     $pt.helper.addController(controller);\n     });\n     */\n\n    /** Application Storage */\n    var applicationStorage = {};\n    applicationStorage.getItem = function (key) {\n        return $pt.applicationStorage[key];\n    };\n    applicationStorage.setItem = function (key, value) {\n        $pt.applicationStorage[key] = value;\n        $storage.call(\"applicationStorageSetItem\", { \"key\": key, \"value\": value });\n    };\n    applicationStorage.removeItem = function (key) {\n        delete $pt.applicationStorage[key];\n        $storage.call(\"applicationStorageRemoveItem\", { \"key\": key });\n    };\n    applicationStorage.clear = function () {\n        $pt.applicationStorage = {};\n        $storage.call(\"applicationStorageClear\");\n    };\n\n    /** Initialize */\n\n    /**\n     init호출은 application Storage를 셋팅하기 위해 사용\n     */\n    // if($pt.isApp()) {\n    //     try {\n    //         if($pt.device.getType() == $pt.device.IOS) {\n    //             var iframe = document.createElement(\"IFRAME\");\n    //             iframe.setAttribute(\"method\", \"POST\");\n    //             iframe.setAttribute(\"src\", \"ptapp://system/init\");\n    //             document.documentElement.appendChild(iframe);\n    //             iframe.parentNode.removeChild(iframe);\n    //             iframe = null;\n    //         } else if($pt.device.getType() == $pt.device.ANDROID) {\n    //             $pt.applicationStorage = JSON.parse(window.android.getApplicationStorage());\n    //             eval(window.android.init());\n    //         }\n    //     } catch(e) {}\n    // }\n\n    $(function () {\n        if ($pt.isApp()) {\n            $pt.msg.call(\"system\", \"ready\");\n        } else {\n            console.log('purple touch - ready (browser mode)');\n        }\n    });\n\n    /** event method */\n\n    /**\n     global api callback\n     @param code - callback status\n     */\n    $(document).bind(\"executeCallback\", function (e, data) {\n        var code = data.code;\n        switch (code) {\n            case $pt.msg.NO_RESULT:\n                break;\n            case $pt.msg.OK:\n                break;\n            case $pt.msg.CONTROLLER_NOT_FOUND_EXCEPTION:\n                console.log(\"CONTROLLER_NOT_FOUND_EXCEPTION\");\n                break;\n            case $pt.msg.ACTION_NOT_FOUND_EXCEPTION:\n                console.log(\"ACTION_NOT_FOUND_EXCEPTION\");\n                break;\n            case $pt.msg.PARAMETER_REQUIRE_EXCEPTION:\n                console.log(\"PARAMETER_REQUIRE_EXCEPTION\");\n                break;\n            case $pt.msg.PARAMETER_JSON_PARSE_EXCEPTION:\n                console.log(\"PARAMETER_JSON_PARSE_EXCEPTION\");\n                break;\n            case $pt.msg.ILLEGAL_ACCESS_EXCEPTION:\n                console.log(\"ILLEGAL_ACCESS_EXCEPTION\");\n                break;\n            case $pt.msg.MALFORMED_URL_EXCEPTION:\n                console.log(\"MALFORMED_URL_EXCEPTION\");\n                break;\n            case $pt.msg.IO_EXCEPTION:\n                console.log(\"IO_EXCEPTION\");\n                break;\n            case $pt.msg.ERROR:\n                console.log(\"ERROR\");\n                break;\n            case $pt.msg.API_NOT_FOUND_EXCEPTION:\n                console.log(\"API_NOT_FOUND_EXCEPTION\");\n                break;\n            default:\n                console.log(\"Code - \" + code);\n                break;\n        }\n    });\n\n    /**\n     창을 로드 후 다른 창으로 이동했다가 다시 포커스를 받았을때 호출한다.\n     @param t - sec\n     */\n    $(document).bind(\"viewAppear\", function (e, data) {\n        //\tconsole.log(\"viewAppear - \" + data.time + \"sec(s)\");\n    });\n\n    /**\n     창을 닫거나 포커스를 잃었을때 호출한다.\n     */\n    $(document).bind(\"viewDisappear\", function (e) {\n        //\tconsole.log(\"viewDisappear\");\n    });\n\n    return $pt;\n}(__webpack_provided_window_dot_jQuery);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2xpYi9wdXJwbGUtdG91Y2guanM/NDdmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogUHVycGxlVG91Y2hGcmFtZXdvcmsgQ29yZSBKYXZhc2NyaXB0XG4gKiBWZXIgMC45LjVcbiAqXG4gKiBEZXBlbmRlbmN5IExpYnJhcnkgOiBqUXVlcnkgMS43IG9yIGhpZ2hlclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbjsgd2luZG93LiRwdCA9IChmdW5jdGlvbigkKSB7XG4gICAgLyogUHVycGxlVG91Y2ggRnJhbWV3b3JrICovXG4gICAgdmFyICRwdCA9IHtcbiAgICAgICAgLy8gcHVycGxldG91Y2jrpbwg7KeA7JuQ7ZWY64qUIOybueu3sOyduOqwgD9cbiAgICAgICAgaXNBcHA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcInB1cnBsZXRvdWNoXCIpID4gLTEpO1xuICAgICAgICB9LFxuICAgICAgICAvLyDsm7nrt7AgYXBwIHZlcnNpb24g7LK07YGsXG4gICAgICAgIGFwcFZlcnNpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcHVycGxldG91Y2hcXC9bXFxkK1xcLl17Myw1fS8pWzBdLnJlcGxhY2UoJ3B1cnBsZXRvdWNoLycsICcnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBkZXZpY2Ug7KKF66WYXG4gICAgICAgIGRldmljZToge1xuICAgICAgICAgICAgVU5LTk9XTjogMCxcbiAgICAgICAgICAgIElPUzogMSxcbiAgICAgICAgICAgIEFORFJPSUQ6IDIsXG4gICAgICAgICAgICBnZXRUeXBlOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAodWEuaW5kZXhPZihcImlwaG9uZVwiKSA+IC0xIHx8IHVhLmluZGV4T2YoXCJpcGFkXCIpID4gLTEgfHwgdWEuaW5kZXhPZihcImlvc1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcHQuZGV2aWNlLklPUztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYodWEuaW5kZXhPZihcImFuZHJvaWRcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHB0LmRldmljZS5BTkRST0lEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcHQuZGV2aWNlLlVOS05PV047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtc2c6IHtcbiAgICAgICAgICAgIE5PX1JFU1VMVDogMCxcbiAgICAgICAgICAgIE9LOiAxLFxuICAgICAgICAgICAgQ09OVFJPTExFUl9OT1RfRk9VTkRfRVhDRVBUSU9OOiAyLFxuICAgICAgICAgICAgQUNUSU9OX05PVF9GT1VORF9FWENFUFRJT046IDMsXG4gICAgICAgICAgICBQQVJBTUVURVJfUkVRVUlSRV9FWENFUFRJT046IDQsXG4gICAgICAgICAgICBQQVJBTUVURVJfSlNPTl9QQVJTRV9FWENFUFRJT046IDUsXG4gICAgICAgICAgICBJTExFR0FMX0FDQ0VTU19FWENFUFRJT046IDYsXG4gICAgICAgICAgICBNQUxGT1JNRURfVVJMX0VYQ0VQVElPTjogNyxcbiAgICAgICAgICAgIElPX0VYQ0VQVElPTjogOCxcbiAgICAgICAgICAgIEVSUk9SOiA5LFxuICAgICAgICAgICAgQVBJX05PVF9GT1VORF9FWENFUFRJT046IDEwLFxuICAgICAgICAgICAgY2FsbGJhY2tfbGlzdDp7fSxcbiAgICAgICAgICAgIHF1ZXVlOltdLFxuICAgICAgICAgICAgdGltZXI6bnVsbCxcbiAgICAgICAgICAgIGlzVHJhbnNhY3Rpb246ZmFsc2UsXG4gICAgICAgICAgICAvLyDtlZjrgpjslKkg7ZWY64KY7JSpIOyImO2Wie2VmOuptCDrlJzroIjsnbTqsIAg7J6I7J2MICjsl6zrn6zqsJzrpbwg7ZWc67KI7JeQIOyImO2WiSlcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uOmZ1bmN0aW9uKHNjcmlwdCkge1xuICAgICAgICAgICAgICAgICRwdC5tc2cuaXNUcmFuc2FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2NyaXB0KCk7XG4gICAgICAgICAgICAgICAgdmFyIG1zZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSgkcHQubXNnLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9ICRwdC5tc2cucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgbXNncy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRwdC5tc2cuZXhlY3V0ZSh7XG4gICAgICAgICAgICAgICAgICAgIFwiY29udHJvbGxlclwiOlwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJhY3Rpb25cIjpcImNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJwYXJhbVwiOm1zZ3NcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICRwdC5tc2cuaXNUcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrOmZ1bmN0aW9uKGd1aWQsIHBhcmFtKSB7XG4gICAgICAgICAgICAgICAgaWYoJHB0Lm1zZy5jYWxsYmFja19saXN0W2d1aWRdWydjYWxsYmFjayddKSB7XG4gICAgICAgICAgICAgICAgICAgICRwdC5tc2cuY2FsbGJhY2tfbGlzdFtndWlkXVsnY2FsbGJhY2snXShwYXJhbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbGw6ZnVuY3Rpb24oY29udHJvbGxlciwgYWN0aW9uLCBwYXJhbSkge1xuICAgICAgICAgICAgICAgIC8vIHBhcmFt7JeG7J20IGNhbGxiYWNr7J2EIOuEo+qzoCAz6rCc66eMIO2YuOy2nOuPhCDqsIDriqXtlZjqsowuLlxuICAgICAgICAgICAgICAgIGlmKHBhcmFtICYmXG4gICAgICAgICAgICAgICAgICAgIChwYXJhbS5zdWNjZXNzIHx8IHBhcmFtLmVycm9yIHx8IHBhcmFtLmNhbGxiYWNrKSkgeyAvLyBjYWxsYmFjayAtIHN1Y2Nlc3MvZXJyb3IvY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgdmFyIGd1aWQgPSAkcHQuaGVscGVyLmd1aWQoKTtcbiAgICAgICAgICAgICAgICAgICAgJHB0Lm1zZy5jYWxsYmFja19saXN0W2d1aWRdID0gcGFyYW07XG4gICAgICAgICAgICAgICAgICAgICQuZXh0ZW5kKHBhcmFtLCB7XCJjYWxsYmFja19pZFwiOmd1aWR9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHB0Lm1zZy5xdWV1ZS5wdXNoKHtcImNvbnRyb2xsZXJcIjpjb250cm9sbGVyLCBcImFjdGlvblwiOmFjdGlvbiwgXCJwYXJhbVwiOnBhcmFtfSk7XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb27snbQg7JWE64uQIOqyveyasCDrsJTroZwg7Iuk7ZaJXG4gICAgICAgICAgICAgICAgaWYoISRwdC5tc2cuaXNUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZigkcHQubXNnLnRpbWVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwdC5tc2cucnVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhlY3V0ZTpmdW5jdGlvbihtc2cpIHtcbiAgICAgICAgICAgICAgICBpZigkcHQuaXNBcHAoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZihtc2cucGFyYW0gJiYgSlNPTi5zdHJpbmdpZnkobXNnLnBhcmFtKS5sZW5ndGggPiAxMDAwMDAwKSB7IC8vIDFNIOydtOyDgeydvOqyveyasFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHB0LmRldmljZS5nZXRUeXBlKCkgPT0gJHB0LmRldmljZS5JT1MpIHsgLy8gZm9ybVt0eXBlPXBvc3RdIOuwqeyLnSDsgqzsmqlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJGT1JNXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwibWV0aG9kXCIsIFwiUE9TVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcImFjdGlvblwiLCBcInB0YXBwOi8vXCIgKyBtc2cuY29udHJvbGxlciArIFwiL1wiICsgbXNnLmFjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobXNnLnBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbV9pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTlBVVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1faW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1faW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInBhcmFtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbV9pbnB1dC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBKU09OLnN0cmluZ2lmeShtc2cucGFyYW0pKTsgLy8gZW5jb2RlVVJJQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQocGFyYW1faW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCRwdC5kZXZpY2UuZ2V0VHlwZSgpID09ICRwdC5kZXZpY2UuQU5EUk9JRCkgeyAvLyBqYXZhc2NyaXB0IGludGVyZmFjZSDsgqzsmqlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYW5kcm9pZC5kaXNwYXRjaCgkcHQubXNnLmhlbHBlci5tYWtlVXJsKG1zZy5jb250cm9sbGVyLCBtc2cuYWN0aW9uLCBtc2cucGFyYW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJHB0Lm1zZy5oZWxwZXIubWFrZVVybChtc2cuY29udHJvbGxlciwgbXNnLmFjdGlvbiwgbXNnLnBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bjpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZigkcHQubXNnLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoJHB0Lm1zZy50aW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHB0Lm1zZy5leGVjdXRlKCRwdC5tc2cucXVldWUuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcHQubXNnLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgJHB0Lm1zZy5ydW4oKTsgfSwgMTApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHB0Lm1zZy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ICRwdC5tc2cucnVuKCk7IH0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRwdC5tc2cudGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWxwZXI6e1xuICAgICAgICAgICAgICAgIG1ha2VVcmw6ZnVuY3Rpb24oY29udHJvbGxlciwgYWN0aW9uLCBwYXJhbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gXCJwdGFwcDovL1wiO1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgKz0gXCIvXCIgKyBhY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYocGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSBcIj9wYXJhbT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwYXJhbSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBoZWxwZXI6e1xuICAgICAgICAgICAgYWRkQ29udHJvbGxlcjpmdW5jdGlvbihjb250cm9sbGVycykge1xuICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY29udHJvbGxlcnMuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgICAgICAgIHZhciBjb24gPSB3aW5kb3dbXCIkXCIrY29udHJvbGxlclswXV0gfHwgKHdpbmRvd1tcIiRcIitjb250cm9sbGVyWzBdXSA9IHt9KTtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MTsgaTxjb250cm9sbGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbiA9IGNvbltjb250cm9sbGVyW2ldXSB8fCAoY29uW2NvbnRyb2xsZXJbaV1dID0ge30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb24uY2FsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBbXS51bnNoaWZ0LmNhbGwoYXJndW1lbnRzLCBjb250cm9sbGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcHQubXNnLmNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyogZ3VpZCAqL1xuICAgICAgICAgICAgUzQ6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoKDErTWF0aC5yYW5kb20oKSkqMHgxMDAwMCl8MCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBndWlkOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBWRVJTSU9OX1ZBTFVFID0gMHg0Oy8vIEJpdHMgdG8gc2V0XG4gICAgICAgICAgICAgICAgdmFyIFZFUlNJT05fQ0xFQVIgPSAweDA7Ly8gQml0cyB0byBjbGVhclxuICAgICAgICAgICAgICAgIHZhciBWQVJJQU5UX1ZBTFVFID0gMHg4Oy8vIEJpdHMgdG8gc2V0IGZvciBTdGFuZGFyZCB2YXJpYW50ICgxMHgpXG4gICAgICAgICAgICAgICAgdmFyIFZBUklBTlRfQ0xFQVIgPSAweDM7Ly8gQml0cyB0byBjbGVhclxuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEzX3ZlcnNpb24gPSAkcHQuaGVscGVyLlM0KCk7XG4gICAgICAgICAgICAgICAgZGF0YTNfdmVyc2lvbiA9IChwYXJzZUludCggZGF0YTNfdmVyc2lvbi5jaGFyQXQoIDAgKSwgMTYgKSAmIFZFUlNJT05fQ0xFQVIgfCBWRVJTSU9OX1ZBTFVFKS50b1N0cmluZyggMTYgKVxuICAgICAgICAgICAgICAgICAgICArIGRhdGEzX3ZlcnNpb24uc3Vic3RyKCAxLCAzICk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGE0X3ZhcmlhbnQgPSAkcHQuaGVscGVyLlM0KCk7XG4gICAgICAgICAgICAgICAgZGF0YTRfdmFyaWFudCA9IGRhdGE0X3ZhcmlhbnQuc3Vic3RyKCAwLCAyIClcbiAgICAgICAgICAgICAgICAgICAgKyAocGFyc2VJbnQoIGRhdGE0X3ZhcmlhbnQuY2hhckF0KCAyICksIDE2ICkgJiBWQVJJQU5UX0NMRUFSIHwgVkFSSUFOVF9WQUxVRSkudG9TdHJpbmcoIDE2IClcbiAgICAgICAgICAgICAgICAgICAgKyBkYXRhNF92YXJpYW50LnN1YnN0ciggMywgMSApO1xuICAgICAgICAgICAgICAgIHJldHVybiggJHB0LmhlbHBlci5TNCgpICsgJHB0LmhlbHBlci5TNCgpICsgJy0nICsgJHB0LmhlbHBlci5TNCgpICsgJy0nICsgZGF0YTNfdmVyc2lvbiArICctJyArIGRhdGE0X3ZhcmlhbnQgKyAnLScgKyAkcHQuaGVscGVyLlM0KCkgKyAkcHQuaGVscGVyLlM0KCkgKyAkcHQuaGVscGVyLlM0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSBjYWxsIGFwaSBmdW5jdGlvblxuICAgIC8vIHVzYWdlKSBbY29udHJvbGxlcl0uY2FsbChcIlthY3Rpb25dXCIsIFtqc29uIHBhcmFtc10pXG4gICAgLy8gZXgpIHdlYnZpZXcuY2FsbChcImxvYWRVcmxcIiwge1widXJsXCI6XCJodHRwOi8vbG9jYWxob3N0XCIsIFwidGl0bGVcIjpcIkxPQ0FMSE9TVFwifSlcbiAgICAvKlxuICAgICAkLmVhY2goIFsgXCJuYXZpZ2F0aW9uXCIsIFwid2Vidmlld1wiLCBcInVpY29udHJvbFwiLCBcInNoZWxsXCIsIFwiZ2VvbG9jYXRpb25cIiwgXCJjdXN0b21cIiBdLCBmdW5jdGlvbiggaSwgY29udHJvbGxlciApIHtcbiAgICAgJHB0LmhlbHBlci5hZGRDb250cm9sbGVyKGNvbnRyb2xsZXIpO1xuICAgICB9KTtcbiAgICAgKi9cblxuICAgIC8qKiBBcHBsaWNhdGlvbiBTdG9yYWdlICovXG4gICAgdmFyIGFwcGxpY2F0aW9uU3RvcmFnZSA9IHt9O1xuICAgIGFwcGxpY2F0aW9uU3RvcmFnZS5nZXRJdGVtID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiAkcHQuYXBwbGljYXRpb25TdG9yYWdlW2tleV07XG4gICAgfTtcbiAgICBhcHBsaWNhdGlvblN0b3JhZ2Uuc2V0SXRlbSA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgJHB0LmFwcGxpY2F0aW9uU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgICRzdG9yYWdlLmNhbGwoXCJhcHBsaWNhdGlvblN0b3JhZ2VTZXRJdGVtXCIsIHtcImtleVwiOmtleSwgXCJ2YWx1ZVwiOnZhbHVlfSk7XG4gICAgfTtcbiAgICBhcHBsaWNhdGlvblN0b3JhZ2UucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBkZWxldGUgJHB0LmFwcGxpY2F0aW9uU3RvcmFnZVtrZXldO1xuICAgICAgICAkc3RvcmFnZS5jYWxsKFwiYXBwbGljYXRpb25TdG9yYWdlUmVtb3ZlSXRlbVwiLCB7XCJrZXlcIjprZXl9KTtcbiAgICB9O1xuICAgIGFwcGxpY2F0aW9uU3RvcmFnZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkcHQuYXBwbGljYXRpb25TdG9yYWdlID0ge307XG4gICAgICAgICRzdG9yYWdlLmNhbGwoXCJhcHBsaWNhdGlvblN0b3JhZ2VDbGVhclwiKTtcbiAgICB9O1xuXG4gICAgLyoqIEluaXRpYWxpemUgKi9cblxuICAgIC8qKlxuICAgICBpbml07Zi47Lac7J2AIGFwcGxpY2F0aW9uIFN0b3JhZ2Xrpbwg7IWL7YyF7ZWY6riwIOychO2VtCDsgqzsmqlcbiAgICAgKi9cbiAgICAvLyBpZigkcHQuaXNBcHAoKSkge1xuICAgIC8vICAgICB0cnkge1xuICAgIC8vICAgICAgICAgaWYoJHB0LmRldmljZS5nZXRUeXBlKCkgPT0gJHB0LmRldmljZS5JT1MpIHtcbiAgICAvLyAgICAgICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklGUkFNRVwiKTtcbiAgICAvLyAgICAgICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwibWV0aG9kXCIsIFwiUE9TVFwiKTtcbiAgICAvLyAgICAgICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwicHRhcHA6Ly9zeXN0ZW0vaW5pdFwiKTtcbiAgICAvLyAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAvLyAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgIC8vICAgICAgICAgICAgIGlmcmFtZSA9IG51bGw7XG4gICAgLy8gICAgICAgICB9IGVsc2UgaWYoJHB0LmRldmljZS5nZXRUeXBlKCkgPT0gJHB0LmRldmljZS5BTkRST0lEKSB7XG4gICAgLy8gICAgICAgICAgICAgJHB0LmFwcGxpY2F0aW9uU3RvcmFnZSA9IEpTT04ucGFyc2Uod2luZG93LmFuZHJvaWQuZ2V0QXBwbGljYXRpb25TdG9yYWdlKCkpO1xuICAgIC8vICAgICAgICAgICAgIGV2YWwod2luZG93LmFuZHJvaWQuaW5pdCgpKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSBjYXRjaChlKSB7fVxuICAgIC8vIH1cblxuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZigkcHQuaXNBcHAoKSkge1xuICAgICAgICAgICAgJHB0Lm1zZy5jYWxsKFwic3lzdGVtXCIsIFwicmVhZHlcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHVycGxlIHRvdWNoIC0gcmVhZHkgKGJyb3dzZXIgbW9kZSknKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqIGV2ZW50IG1ldGhvZCAqL1xuXG4gICAgLyoqXG4gICAgIGdsb2JhbCBhcGkgY2FsbGJhY2tcbiAgICAgQHBhcmFtIGNvZGUgLSBjYWxsYmFjayBzdGF0dXNcbiAgICAgKi9cbiAgICAkKGRvY3VtZW50KS5iaW5kKFwiZXhlY3V0ZUNhbGxiYWNrXCIsIGZ1bmN0aW9uKGUsIGRhdGEpIHtcbiAgICAgICAgdmFyIGNvZGUgPSBkYXRhLmNvZGU7XG4gICAgICAgIHN3aXRjaChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlICRwdC5tc2cuTk9fUkVTVUxUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkcHQubXNnLk9LOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkcHQubXNnLkNPTlRST0xMRVJfTk9UX0ZPVU5EX0VYQ0VQVElPTjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNPTlRST0xMRVJfTk9UX0ZPVU5EX0VYQ0VQVElPTlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJHB0Lm1zZy5BQ1RJT05fTk9UX0ZPVU5EX0VYQ0VQVElPTjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFDVElPTl9OT1RfRk9VTkRfRVhDRVBUSU9OXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkcHQubXNnLlBBUkFNRVRFUl9SRVFVSVJFX0VYQ0VQVElPTjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBBUkFNRVRFUl9SRVFVSVJFX0VYQ0VQVElPTlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJHB0Lm1zZy5QQVJBTUVURVJfSlNPTl9QQVJTRV9FWENFUFRJT046XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQQVJBTUVURVJfSlNPTl9QQVJTRV9FWENFUFRJT05cIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICRwdC5tc2cuSUxMRUdBTF9BQ0NFU1NfRVhDRVBUSU9OOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSUxMRUdBTF9BQ0NFU1NfRVhDRVBUSU9OXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkcHQubXNnLk1BTEZPUk1FRF9VUkxfRVhDRVBUSU9OOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTUFMRk9STUVEX1VSTF9FWENFUFRJT05cIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICRwdC5tc2cuSU9fRVhDRVBUSU9OOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSU9fRVhDRVBUSU9OXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAkcHQubXNnLkVSUk9SOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1JcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICRwdC5tc2cuQVBJX05PVF9GT1VORF9FWENFUFRJT046XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUElfTk9UX0ZPVU5EX0VYQ0VQVElPTlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb2RlIC0gXCIgKyBjb2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgIOywveydhCDroZzrk5wg7ZuEIOuLpOuluCDssL3snLzroZwg7J2064+Z7ZaI64uk6rCAIOuLpOyLnCDtj6zsu6TsiqTrpbwg67Cb7JWY7J2E65WMIO2YuOy2nO2VnOuLpC5cbiAgICAgQHBhcmFtIHQgLSBzZWNcbiAgICAgKi9cbiAgICAkKGRvY3VtZW50KS5iaW5kKFwidmlld0FwcGVhclwiLCBmdW5jdGlvbihlLCBkYXRhKSB7XG4gICAgLy9cdGNvbnNvbGUubG9nKFwidmlld0FwcGVhciAtIFwiICsgZGF0YS50aW1lICsgXCJzZWMocylcIik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAg7LC97J2EIOuLq+qxsOuCmCDtj6zsu6TsiqTrpbwg7J6D7JeI7J2E65WMIO2YuOy2nO2VnOuLpC5cbiAgICAgKi9cbiAgICAkKGRvY3VtZW50KS5iaW5kKFwidmlld0Rpc2FwcGVhclwiLCBmdW5jdGlvbihlKSB7XG4gICAgLy9cdGNvbnNvbGUubG9nKFwidmlld0Rpc2FwcGVhclwiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiAkcHQ7XG59KSh3aW5kb3cualF1ZXJ5KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2xpYi9wdXJwbGUtdG91Y2guanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQTNGQTtBQXlHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQTlCQTtBQXRJQTtBQUNBO0FBdUtBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbENBO0FBb0NBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///51\n");

/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n// purple touch를 사용하기 쉽게 만듬\n$(function () {\n  var isUndefied = function isUndefied(val) {\n    return typeof val == 'undefined';\n  };\n\n  var getCurrentTitle = function getCurrentTitle() {\n    var title = $('title').text();\n\n    var ptTitle = $('meta[name=\"pt:title\"]').attr('content');\n    if (ptTitle != null) {\n      if (title != ptTitle) {\n        ptTitle = ptTitle.replace(/&amp;/g, '&');\n        ptTitle = ptTitle.replace(/&lt;/g, '<');\n        ptTitle = ptTitle.replace(/&gt;/g, '>');\n        ptTitle = ptTitle.replace(/&quot;/g, '\"');\n        ptTitle = ptTitle.replace(/&#39;/g, \"'\");\n        ptTitle = ptTitle.replace(/&#x2F;/g, '/');\n        ptTitle = ptTitle.replace(/&#x60;/g, '`');\n        ptTitle = ptTitle.replace(/&#x3D;/g, '=');\n        return ptTitle;\n      }\n    }\n\n    return title;\n  };\n\n  $pt.navigation = {\n    push: function push() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var params = Object.assign({\n        method: 'GET',\n        title: '',\n        animation: 'RIGHT_TO_LEFT',\n        navigationBarType: 'FULL_BTN',\n        topBgColor: '#FFFFFF',\n        bodyBgColor: '#FFFFFF'\n      }, options);\n\n      if (!params.url || params.url == '') {\n        return;\n      }\n\n      if (params.url.indexOf('http') != 0) {\n        if (params.url[0] == '/') {\n          params.url = location.origin + params.url;\n        } else {\n          params.url = location.href + '/' + params.url;\n        }\n      }\n\n      return $pt.msg.call('navigation', 'push', params);\n    },\n    modal: function modal() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var params = Object.assign({\n        method: 'GET',\n        title: '',\n        animation: 'BOTTOM_TO_TOP',\n        navigationBarType: 'CLOSE_BTN_ONLY',\n        topBgColor: '#FFFFFF',\n        bodyBgColor: '#FFFFFF'\n      }, options);\n\n      if (!params.url || params.url == '') {\n        return;\n      }\n\n      if (params.url.indexOf('http') != 0) {\n        if (params.url[0] == '/') {\n          params.url = location.origin + params.url;\n        } else {\n          params.url = location.href + '/' + params.url;\n        }\n      }\n\n      return $pt.msg.call('navigation', 'push', params);\n    },\n    pop: function pop() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var params = Object.assign({\n        animation: 'TOP_TO_BOTTOM'\n      }, options);\n\n      return $pt.msg.call('navigation', 'pop', params);\n    },\n    main: function main() {\n      return $pt.msg.call('navigation', 'main', {});\n    },\n    search: function search() {\n      return $pt.msg.call('navigation', 'search', {});\n    },\n    cart: function cart() {\n      return $pt.msg.call('navigation', 'cart', {});\n    },\n    setting: function setting() {\n      return $pt.msg.call('navigation', 'setting', {});\n    },\n    notification: function notification() {\n      return $pt.msg.call('navigation', 'notification', {});\n    }\n  };\n\n  $pt.ui = {\n    navigation: {\n      setNavigationTitle: function setNavigationTitle(title) {\n        return $pt.msg.call('ui.navigation', 'setNavigationTitle', { title: title });\n      }\n    }\n  };\n\n  // history back 대신 사용함\n  $pt.history = {\n    back: function back() {\n      var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if ($pt.isApp()) {\n        $pt.navigation.pop(option);\n      } else {\n        if (document.referrer.indexOf(location.host) > -1) {\n          history.back();\n        } else {\n          location.href = '/';\n        }\n      }\n    }\n  };\n\n  // 앱이 아닌경우\n  if (!$pt.isApp()) {\n    // data-pt-pop=\"/\"\n    // data-pt-back=\"/\"\n    $(document).on('click', '[data-pt-pop]', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var $this = $(e.currentTarget);\n      if ($this.data(\"pt-pop\") && $this.data(\"pt-pop\") != '') {\n        location.href = $this.data(\"pt-pop\").trim();\n      } else {\n        if (document.referrer.indexOf(location.host) > -1) {\n          history.back();\n        } else {\n          location.href = '/';\n        }\n      }\n    }).on('click', '[data-pt-back]', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var $this = $(e.currentTarget);\n      if ($this.data(\"pt-back\") && $this.data(\"pt-back\") != '') {\n        location.href = $this.data(\"pt-back\").trim();\n      } else {\n        if (document.referrer.indexOf(location.host) > -1) {\n          history.back();\n        } else {\n          location.href = '/';\n        }\n      }\n    }).on('click', '[data-pt-go-main]', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      location.href = \"/\";\n    }).on('click', '[data-pt-go-search]', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      location.href = \"/Search\";\n    }).on('click', '[data-pt-go-cart]', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      location.href = \"/Cart\";\n    }).on('click', '[data-pt-go-setting]', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      location.href = \"/Main/Setting\";\n    });\n\n    return;\n  }\n  // 앱일 경우만 처리\n\n  // 전체 a 태그에 navigation push를 적용함\n  $(document).on('click', 'a[href]', function (e) {\n    var $this = $(e.currentTarget);\n    var url = $this.attr('href').trim();\n\n    // 아무런 옵션없이 기본로직일때 상대경로만 체크 함\n    if (isUndefied($this.data('pt-push')) && isUndefied($this.data('pt-modal'))) {\n      if (!isUndefied($this.data('pt-no-navigation'))) {\n        return;\n      }\n      if (url == '' || url.indexOf('#') == 0 || url.indexOf('http') == 0 || url.indexOf('tel') == 0 || url.indexOf('mail') == 0) {\n        return;\n      }\n    }\n\n    // navigation API를 호출\n    e.preventDefault();\n    e.stopPropagation();\n\n    var params = { url: url };\n\n    if (!isUndefied($this.data('pt-title'))) {\n      params.title = $this.data('pt-title').replace(/&quot;/, '\"');\n    }\n    if (!isUndefied($this.data('pt-animation'))) {\n      params.animation = $this.data('pt-animation');\n    }\n    if (!isUndefied($this.data('pt-navigation-bar-type'))) {\n      params.navigationBarType = $this.data('pt-navigation-bar-type');\n    }\n    if (!isUndefied($this.data('pt-top-bg-color'))) {\n      params.topBgColor = $this.data('pt-top-bg-color');\n    }\n    if (!isUndefied($this.data('pt-body-bg-color'))) {\n      params.bodyBgColor = $this.data('pt-body-bg-color');\n    }\n\n    if (!isUndefied($this.data('pt-modal'))) {\n      $pt.navigation.modal(params);\n    } else {\n      $pt.navigation.push(params);\n    }\n  }).on('click', '[data-pt-pop]', function (e) {\n    var $this = $(e.currentTarget);\n    e.preventDefault();\n    e.stopPropagation();\n\n    var params = {};\n    if (!isUndefied($this.data('pt-animation'))) {\n      params.animation = $this.data('pt-animation');\n    }\n    $pt.navigation.pop(params);\n  }).on('click', '[data-pt-go-main]', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    $pt.navigation.main();\n  }).on('click', '[data-pt-go-search]', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    $pt.navigation.search();\n  }).on('click', '[data-pt-go-cart]', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    $pt.navigation.cart();\n  }).on('click', '[data-pt-go-setting]', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    $pt.navigation.setting();\n  }).on('click', '[data-pt-go-notification]', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    $pt.navigation.notification();\n  });\n\n  // 기본으로 타이틀 설정\n  $pt.ui.navigation.setNavigationTitle(getCurrentTitle());\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2xpYi9wdXJwbGUtdG91Y2gtaGVscGVyLmpzPzc1ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcHVycGxlIHRvdWNo66W8IOyCrOyaqe2VmOq4sCDsib3qsowg66eM65OsXG4kKGZ1bmN0aW9uKCkge1xuICBjb25zdCBpc1VuZGVmaWVkID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09ICd1bmRlZmluZWQnO1xuICB9O1xuXG4gIGNvbnN0IGdldEN1cnJlbnRUaXRsZSA9ICgpID0+IHtcbiAgICBjb25zdCB0aXRsZSA9ICQoJ3RpdGxlJykudGV4dCgpO1xuXG4gICAgbGV0IHB0VGl0bGUgPSAkKCdtZXRhW25hbWU9XCJwdDp0aXRsZVwiXScpLmF0dHIoJ2NvbnRlbnQnKTtcbiAgICBpZiAocHRUaXRsZSAhPSBudWxsKSB7XG4gICAgICBpZiAodGl0bGUgIT0gcHRUaXRsZSkge1xuICAgICAgICBwdFRpdGxlID0gcHRUaXRsZS5yZXBsYWNlKC8mYW1wOy9nLCAnJicpO1xuICAgICAgICBwdFRpdGxlID0gcHRUaXRsZS5yZXBsYWNlKC8mbHQ7L2csICc8Jyk7XG4gICAgICAgIHB0VGl0bGUgPSBwdFRpdGxlLnJlcGxhY2UoLyZndDsvZywgJz4nKTtcbiAgICAgICAgcHRUaXRsZSA9IHB0VGl0bGUucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpO1xuICAgICAgICBwdFRpdGxlID0gcHRUaXRsZS5yZXBsYWNlKC8mIzM5Oy9nLCBcIidcIik7XG4gICAgICAgIHB0VGl0bGUgPSBwdFRpdGxlLnJlcGxhY2UoLyYjeDJGOy9nLCAnLycpO1xuICAgICAgICBwdFRpdGxlID0gcHRUaXRsZS5yZXBsYWNlKC8mI3g2MDsvZywgJ2AnKTtcbiAgICAgICAgcHRUaXRsZSA9IHB0VGl0bGUucmVwbGFjZSgvJiN4M0Q7L2csICc9Jyk7XG4gICAgICAgIHJldHVybiBwdFRpdGxlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aXRsZTtcbiAgfTtcblxuICAkcHQubmF2aWdhdGlvbiA9IHtcbiAgICBwdXNoOiAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICBhbmltYXRpb246ICdSSUdIVF9UT19MRUZUJyxcbiAgICAgICAgbmF2aWdhdGlvbkJhclR5cGU6ICdGVUxMX0JUTicsXG4gICAgICAgIHRvcEJnQ29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYm9keUJnQ29sb3I6ICcjRkZGRkZGJyxcbiAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICBpZiAoIXBhcmFtcy51cmwgfHwgcGFyYW1zLnVybCA9PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMudXJsLmluZGV4T2YoJ2h0dHAnKSAhPSAwKSB7XG4gICAgICAgIGlmIChwYXJhbXMudXJsWzBdID09ICcvJykge1xuICAgICAgICAgIHBhcmFtcy51cmwgPSBsb2NhdGlvbi5vcmlnaW4gKyBwYXJhbXMudXJsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmFtcy51cmwgPSBsb2NhdGlvbi5ocmVmICsgJy8nICsgcGFyYW1zLnVybDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gJHB0Lm1zZy5jYWxsKCduYXZpZ2F0aW9uJywgJ3B1c2gnLCBwYXJhbXMpO1xuICAgIH0sXG4gICAgbW9kYWw6IChvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB0aXRsZTogJycsXG4gICAgICAgIGFuaW1hdGlvbjogJ0JPVFRPTV9UT19UT1AnLFxuICAgICAgICBuYXZpZ2F0aW9uQmFyVHlwZTogJ0NMT1NFX0JUTl9PTkxZJyxcbiAgICAgICAgdG9wQmdDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICBib2R5QmdDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgIGlmICghcGFyYW1zLnVybCB8fCBwYXJhbXMudXJsID09ICcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy51cmwuaW5kZXhPZignaHR0cCcpICE9IDApIHtcbiAgICAgICAgaWYgKHBhcmFtcy51cmxbMF0gPT0gJy8nKSB7XG4gICAgICAgICAgcGFyYW1zLnVybCA9IGxvY2F0aW9uLm9yaWdpbiArIHBhcmFtcy51cmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW1zLnVybCA9IGxvY2F0aW9uLmhyZWYgKyAnLycgKyBwYXJhbXMudXJsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkcHQubXNnLmNhbGwoJ25hdmlnYXRpb24nLCAncHVzaCcsIHBhcmFtcyk7XG4gICAgfSxcbiAgICBwb3A6IChvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBhbmltYXRpb246ICdUT1BfVE9fQk9UVE9NJyxcbiAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICByZXR1cm4gJHB0Lm1zZy5jYWxsKCduYXZpZ2F0aW9uJywgJ3BvcCcsIHBhcmFtcyk7XG4gICAgfSxcbiAgICBtYWluOiAoKSA9PiB7XG4gICAgICByZXR1cm4gJHB0Lm1zZy5jYWxsKCduYXZpZ2F0aW9uJywgJ21haW4nLCB7fSk7XG4gICAgfSxcbiAgICBzZWFyY2g6ICgpID0+IHtcbiAgICAgIHJldHVybiAkcHQubXNnLmNhbGwoJ25hdmlnYXRpb24nLCAnc2VhcmNoJywge30pO1xuICAgIH0sXG4gICAgY2FydDogKCkgPT4ge1xuICAgICAgcmV0dXJuICRwdC5tc2cuY2FsbCgnbmF2aWdhdGlvbicsICdjYXJ0Jywge30pO1xuICAgIH0sXG4gICAgc2V0dGluZzogKCkgPT4ge1xuICAgICAgcmV0dXJuICRwdC5tc2cuY2FsbCgnbmF2aWdhdGlvbicsICdzZXR0aW5nJywge30pO1xuICAgIH0sXG4gICAgbm90aWZpY2F0aW9uOiAoKSA9PiB7XG4gICAgICByZXR1cm4gJHB0Lm1zZy5jYWxsKCduYXZpZ2F0aW9uJywgJ25vdGlmaWNhdGlvbicsIHt9KTtcbiAgICB9LFxuICB9O1xuXG4gICRwdC51aSA9IHtcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBzZXROYXZpZ2F0aW9uVGl0bGU6ICh0aXRsZSkgPT4ge1xuICAgICAgICByZXR1cm4gJHB0Lm1zZy5jYWxsKCd1aS5uYXZpZ2F0aW9uJywgJ3NldE5hdmlnYXRpb25UaXRsZScsIHsgdGl0bGUgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gIH07XG5cbiAgLy8gaGlzdG9yeSBiYWNrIOuMgOyLoCDsgqzsmqntlahcbiAgJHB0Lmhpc3RvcnkgPSB7XG4gICAgYmFjazogKG9wdGlvbiA9IHt9KSA9PiB7XG4gICAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKG9wdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIuaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7XG4gICAgICAgICAgaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH07XG5cbiAgLy8g7JWx7J20IOyVhOuLjOqyveyasFxuICBpZiAoISRwdC5pc0FwcCgpKSB7XG4gICAgLy8gZGF0YS1wdC1wb3A9XCIvXCJcbiAgICAvLyBkYXRhLXB0LWJhY2s9XCIvXCJcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9uKCdjbGljaycsICdbZGF0YS1wdC1wb3BdJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKCR0aGlzLmRhdGEoXCJwdC1wb3BcIikgJiYgJHRoaXMuZGF0YShcInB0LXBvcFwiKSAhPSAnJykge1xuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAkdGhpcy5kYXRhKFwicHQtcG9wXCIpLnRyaW0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIuaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7XG4gICAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LWJhY2tdJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgaWYgKCR0aGlzLmRhdGEoXCJwdC1iYWNrXCIpICYmICR0aGlzLmRhdGEoXCJwdC1iYWNrXCIpICE9ICcnKSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICR0aGlzLmRhdGEoXCJwdC1iYWNrXCIpLnRyaW0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIuaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xKSB7XG4gICAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LWdvLW1haW5dJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LWdvLXNlYXJjaF0nLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiL1NlYXJjaFwiO1xuICAgICAgfSlcbiAgICAgIC5vbignY2xpY2snLCAnW2RhdGEtcHQtZ28tY2FydF0nLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiL0NhcnRcIjtcbiAgICAgIH0pXG4gICAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LWdvLXNldHRpbmddJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9NYWluL1NldHRpbmdcIjtcbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIOyVseydvCDqsr3smrDrp4wg7LKY66asXG5cbiAgLy8g7KCE7LK0IGEg7YOc6re47JeQIG5hdmlnYXRpb24gcHVzaOulvCDsoIHsmqntlahcbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrJywgJ2FbaHJlZl0nLCAoZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBjb25zdCB1cmwgPSAkdGhpcy5hdHRyKCdocmVmJykudHJpbSgpO1xuXG4gICAgICAvLyDslYTrrLTrn7Ag7Ji17IWY7JeG7J20IOq4sOuzuOuhnOyngeydvOuVjCDsg4HrjIDqsr3roZzrp4wg7LK07YGsIO2VqFxuICAgICAgaWYgKGlzVW5kZWZpZWQoJHRoaXMuZGF0YSgncHQtcHVzaCcpKSAmJiBpc1VuZGVmaWVkKCR0aGlzLmRhdGEoJ3B0LW1vZGFsJykpKSB7XG4gICAgICAgIGlmICghaXNVbmRlZmllZCgkdGhpcy5kYXRhKCdwdC1uby1uYXZpZ2F0aW9uJykpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwgPT0gJycgfHwgdXJsLmluZGV4T2YoJyMnKSA9PSAwIHx8IHVybC5pbmRleE9mKCdodHRwJykgPT0gMHx8IHVybC5pbmRleE9mKCd0ZWwnKSA9PSAwfHwgdXJsLmluZGV4T2YoJ21haWwnKSA9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIG5hdmlnYXRpb24gQVBJ66W8IO2YuOy2nFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgY29uc3QgcGFyYW1zID0geyB1cmwgfTtcblxuICAgICAgaWYgKCFpc1VuZGVmaWVkKCR0aGlzLmRhdGEoJ3B0LXRpdGxlJykpKSB7XG4gICAgICAgIHBhcmFtcy50aXRsZSA9ICR0aGlzLmRhdGEoJ3B0LXRpdGxlJykucmVwbGFjZSgvJnF1b3Q7LywgJ1wiJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzVW5kZWZpZWQoJHRoaXMuZGF0YSgncHQtYW5pbWF0aW9uJykpKSB7XG4gICAgICAgIHBhcmFtcy5hbmltYXRpb24gPSAkdGhpcy5kYXRhKCdwdC1hbmltYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNVbmRlZmllZCgkdGhpcy5kYXRhKCdwdC1uYXZpZ2F0aW9uLWJhci10eXBlJykpKSB7XG4gICAgICAgIHBhcmFtcy5uYXZpZ2F0aW9uQmFyVHlwZSA9ICR0aGlzLmRhdGEoJ3B0LW5hdmlnYXRpb24tYmFyLXR5cGUnKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNVbmRlZmllZCgkdGhpcy5kYXRhKCdwdC10b3AtYmctY29sb3InKSkpIHtcbiAgICAgICAgcGFyYW1zLnRvcEJnQ29sb3IgPSAkdGhpcy5kYXRhKCdwdC10b3AtYmctY29sb3InKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNVbmRlZmllZCgkdGhpcy5kYXRhKCdwdC1ib2R5LWJnLWNvbG9yJykpKSB7XG4gICAgICAgIHBhcmFtcy5ib2R5QmdDb2xvciA9ICR0aGlzLmRhdGEoJ3B0LWJvZHktYmctY29sb3InKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1VuZGVmaWVkKCR0aGlzLmRhdGEoJ3B0LW1vZGFsJykpKSB7XG4gICAgICAgICRwdC5uYXZpZ2F0aW9uLm1vZGFsKHBhcmFtcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcHQubmF2aWdhdGlvbi5wdXNoKHBhcmFtcyk7XG4gICAgICB9XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LXBvcF0nLCAoZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgIGlmICghaXNVbmRlZmllZCgkdGhpcy5kYXRhKCdwdC1hbmltYXRpb24nKSkpIHtcbiAgICAgICAgcGFyYW1zLmFuaW1hdGlvbiA9ICR0aGlzLmRhdGEoJ3B0LWFuaW1hdGlvbicpO1xuICAgICAgfVxuICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKHBhcmFtcyk7XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LWdvLW1haW5dJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICRwdC5uYXZpZ2F0aW9uLm1haW4oKTtcbiAgICB9KVxuICAgIC5vbignY2xpY2snLCAnW2RhdGEtcHQtZ28tc2VhcmNoXScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAkcHQubmF2aWdhdGlvbi5zZWFyY2goKTtcbiAgICB9KVxuICAgIC5vbignY2xpY2snLCAnW2RhdGEtcHQtZ28tY2FydF0nLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgJHB0Lm5hdmlnYXRpb24uY2FydCgpO1xuICAgIH0pXG4gICAgLm9uKCdjbGljaycsICdbZGF0YS1wdC1nby1zZXR0aW5nXScsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAkcHQubmF2aWdhdGlvbi5zZXR0aW5nKCk7XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJ1tkYXRhLXB0LWdvLW5vdGlmaWNhdGlvbl0nLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgJHB0Lm5hdmlnYXRpb24ubm90aWZpY2F0aW9uKCk7XG4gICAgfSk7XG5cblxuICAvLyDquLDrs7jsnLzroZwg7YOA7J207YuAIOyEpOyglVxuICAkcHQudWkubmF2aWdhdGlvbi5zZXROYXZpZ2F0aW9uVGl0bGUoZ2V0Q3VycmVudFRpdGxlKCkpO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2xpYi9wdXJwbGUtdG91Y2gtaGVscGVyLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0RUE7QUFDQTtBQXdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFEQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52\n");

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanM/NDBjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///53\n");

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = __webpack_require__(55);\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = __webpack_require__(56);\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = __webpack_require__(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaGlzdG9yeS9Mb2NhdGlvblV0aWxzLmpzPzhiYWMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVzb2x2ZVBhdGhuYW1lID0gcmVxdWlyZSgncmVzb2x2ZS1wYXRobmFtZScpO1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvbHZlUGF0aG5hbWUpO1xuXG52YXIgX3ZhbHVlRXF1YWwgPSByZXF1aXJlKCd2YWx1ZS1lcXVhbCcpO1xuXG52YXIgX3ZhbHVlRXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsdWVFcXVhbCk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNyZWF0ZUxvY2F0aW9uID0gZXhwb3J0cy5jcmVhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgbG9jYXRpb24gPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBUd28tYXJnIGZvcm06IHB1c2gocGF0aCwgc3RhdGUpXG4gICAgbG9jYXRpb24gPSAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9ICgwLCBfcmVzb2x2ZVBhdGhuYW1lMi5kZWZhdWx0KShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxudmFyIGxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiAoMCwgX3ZhbHVlRXF1YWwyLmRlZmF1bHQpKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9oaXN0b3J5L0xvY2F0aW9uVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///54\n");

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isAbsolute = function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n};\n\n// About 1.5x faster than the two-arg version of Array#splice()\nvar spliceOne = function spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }list.pop();\n};\n\n// This implementation is based heavily on node's url.parse\nvar resolvePathname = function resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n};\n\nmodule.exports = resolvePathname;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qcz82NGQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQWJzb2x1dGUgPSBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7XG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxudmFyIHNwbGljZU9uZSA9IGZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfWxpc3QucG9wKCk7XG59O1xuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxudmFyIHJlc29sdmVQYXRobmFtZSA9IGZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlUGF0aG5hbWU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvcmVzb2x2ZS1wYXRobmFtZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///55\n");

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar valueEqual = function valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n    return valueEqual(item, b[index]);\n  });\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n};\n\nexports.default = valueEqual;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvaW5kZXguanM/NDZhNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIHZhbHVlRXF1YWwgPSBmdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgfSk7XG5cbiAgdmFyIGFUeXBlID0gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpO1xuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XG5cbiAgaWYgKGFUeXBlICE9PSBiVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgYVZhbHVlID0gYS52YWx1ZU9mKCk7XG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy92YWx1ZS1lcXVhbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///56\n");

/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\n\nvar _warning = __webpack_require__(24);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaGlzdG9yeS9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qcz9jMmIzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICB2YXIgc2V0UHJvbXB0ID0gZnVuY3Rpb24gc2V0UHJvbXB0KG5leHRQcm9tcHQpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHByb21wdCA9PSBudWxsLCAnQSBoaXN0b3J5IHN1cHBvcnRzIG9ubHkgb25lIHByb21wdCBhdCBhIHRpbWUnKTtcblxuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjb25maXJtVHJhbnNpdGlvblRvID0gZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpO1xuXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY2FsbGJhY2socmVzdWx0ICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgdmFyIGFwcGVuZExpc3RlbmVyID0gZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG5vdGlmeUxpc3RlbmVycyA9IGZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2V0UHJvbXB0OiBzZXRQcm9tcHQsXG4gICAgY29uZmlybVRyYW5zaXRpb25UbzogY29uZmlybVRyYW5zaXRpb25UbyxcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXG4gICAgbm90aWZ5TGlzdGVuZXJzOiBub3RpZnlMaXN0ZW5lcnNcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2hpc3RvcnkvY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57\n");

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvaGlzdG9yeS9ET01VdGlscy5qcz81NmRiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBjYW5Vc2VET00gPSBleHBvcnRzLmNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbnZhciBhZGRFdmVudExpc3RlbmVyID0gZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciA/IG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG52YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIGdldENvbmZpcm1hdGlvbiA9IGV4cG9ydHMuZ2V0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWFsZXJ0XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cbnZhciBzdXBwb3J0c0hpc3RvcnkgPSBleHBvcnRzLnN1cHBvcnRzSGlzdG9yeSA9IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG52YXIgc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGV4cG9ydHMuc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cbnZhciBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGV4cG9ydHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBmdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGdpdmVuIHBvcHN0YXRlIGV2ZW50IGlzIGFuIGV4dHJhbmVvdXMgV2ViS2l0IGV2ZW50LlxuICogQWNjb3VudHMgZm9yIHRoZSBmYWN0IHRoYXQgQ2hyb21lIG9uIGlPUyBmaXJlcyByZWFsIHBvcHN0YXRlIGV2ZW50c1xuICogY29udGFpbmluZyB1bmRlZmluZWQgc3RhdGUgd2hlbiBwcmVzc2luZyB0aGUgYmFjayBidXR0b24uXG4gKi9cbnZhciBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZXhwb3J0cy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9oaXN0b3J5L0RPTVV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSA1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58\n");

/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvc3RyaWN0LXVyaS1lbmNvZGUvaW5kZXguanM/MmFlMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHRyZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHR9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9zdHJpY3QtdXJpLWVuY29kZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///59\n");

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcz8wYjY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///60\n");

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/** 카트 합계뷰 화면 업데이트 모바일 데탑 공통 **/\nvar updateTotal = function updateTotal(deviceType, totalData, isEmployeeCustomer) {\n  var mobileSymbol = '';\n  if (deviceType == 'mobile') {\n    mobileSymbol = totalData.totalBasePrice.symbol;\n  }\n  var discountSign = '';\n  if (totalData.totalBaseDiscounts.formattedPrice != '0' && deviceType == 'mobile') {\n    discountSign = '- ';\n  }\n\n  $('#totalBasePrice').text('' + totalData.totalBasePrice.formattedPrice + mobileSymbol);\n  $('#totalDeliveryCost').text('' + totalData.deliveryCost.formattedPrice + mobileSymbol);\n  $('#totalDiscounts').text('' + discountSign + totalData.totalBaseDiscounts.formattedPrice + totalData.totalBaseDiscounts.symbol);\n  $('#productDiscounts').text('' + totalData.productDiscounts.formattedPrice + totalData.productDiscounts.symbol);\n  $('#promotionDiscounts').text('' + totalData.promotionDiscounts.formattedPrice + totalData.promotionDiscounts.symbol);\n  $('.totalPrice').text('' + totalData.totalPrice.formattedPrice);\n  if (isEmployeeCustomer) {\n    var employeeDiscountSign = '';\n    if (totalData.staffDiscounts.formattedPrice != '0' && deviceType == 'mobile') {\n      employeeDiscountSign = '- ';\n    }\n    $('#employeePrice').text('' + employeeDiscountSign + totalData.staffDiscounts.formattedPrice + totalData.staffDiscounts.symbol);\n  }\n};\n\nvar possibleAllCheckable = function possibleAllCheckable() {\n  var isPossibleAllCheckable = true;\n  // $('.cartItemCheckbox').each((index, checkboxEle) => {\n  //   if ($(checkboxEle).is(':disabled')) {\n  //     isPossibleAllCheckable = false;\n  //     return false;\n  //   }\n  //   return true;\n  // });\n\n  var hasPickup = false;\n  $('.cartItemCheckbox').each(function (index, checkboxEle) {\n    if ($(checkboxEle).data('isPickupItem')) {\n      hasPickup = true;\n    }\n  });\n\n  // 모두 택배배송 상품일때 전체선택 체크박스가 선택되어 있다.\n  if (hasPickup) {\n    isPossibleAllCheckable = false;\n  } else {\n    isPossibleAllCheckable = true;\n  }\n  return isPossibleAllCheckable;\n};\n\nvar disableAllCheckbox = function disableAllCheckbox() {\n  var isAllSoldOut = true;\n  $('.cartItemCheckbox').each(function (index, checkboxEle) {\n    // 솔드아웃 상품 밖에 없을 경우\n    if (!$(checkboxEle).is(':disabled')) {\n      isAllSoldOut = false;\n    }\n  });\n  return isAllSoldOut;\n};\n\nexports.updateTotal = updateTotal;\nexports.disableAllCheckbox = disableAllCheckbox;\nexports.possibleAllCheckable = possibleAllCheckable;\nexports.default = {\n  updateTotal: updateTotal,\n  disableAllCheckbox: disableAllCheckbox,\n  possibleAllCheckable: possibleAllCheckable\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9DYXJ0LmFjdGlvbi5qcz9lOGFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiDsubTtirgg7ZWp6rOE67ewIO2ZlOuptCDsl4XrjbDsnbTtirgg66qo67CU7J28IOuNsO2DkSDqs7XthrUgKiovXG5jb25zdCB1cGRhdGVUb3RhbCA9IChkZXZpY2VUeXBlLCB0b3RhbERhdGEsIGlzRW1wbG95ZWVDdXN0b21lcikgPT4ge1xuICBsZXQgbW9iaWxlU3ltYm9sID0gJyc7XG4gIGlmIChkZXZpY2VUeXBlID09ICdtb2JpbGUnKSB7XG4gICAgbW9iaWxlU3ltYm9sID0gdG90YWxEYXRhLnRvdGFsQmFzZVByaWNlLnN5bWJvbDtcbiAgfVxuICBsZXQgZGlzY291bnRTaWduID0gJyc7XG4gIGlmICh0b3RhbERhdGEudG90YWxCYXNlRGlzY291bnRzLmZvcm1hdHRlZFByaWNlICE9ICcwJyAmJiBkZXZpY2VUeXBlID09ICdtb2JpbGUnKSB7XG4gICAgZGlzY291bnRTaWduID0gJy0gJztcbiAgfVxuXG4gICQoJyN0b3RhbEJhc2VQcmljZScpLnRleHQoYCR7dG90YWxEYXRhLnRvdGFsQmFzZVByaWNlLmZvcm1hdHRlZFByaWNlfSR7bW9iaWxlU3ltYm9sfWApO1xuICAkKCcjdG90YWxEZWxpdmVyeUNvc3QnKS50ZXh0KGAke3RvdGFsRGF0YS5kZWxpdmVyeUNvc3QuZm9ybWF0dGVkUHJpY2V9JHttb2JpbGVTeW1ib2x9YCk7XG4gICQoJyN0b3RhbERpc2NvdW50cycpLnRleHQoYCR7ZGlzY291bnRTaWdufSR7dG90YWxEYXRhLnRvdGFsQmFzZURpc2NvdW50cy5mb3JtYXR0ZWRQcmljZX0ke3RvdGFsRGF0YS50b3RhbEJhc2VEaXNjb3VudHMuc3ltYm9sfWApO1xuICAkKCcjcHJvZHVjdERpc2NvdW50cycpLnRleHQoYCR7dG90YWxEYXRhLnByb2R1Y3REaXNjb3VudHMuZm9ybWF0dGVkUHJpY2V9JHt0b3RhbERhdGEucHJvZHVjdERpc2NvdW50cy5zeW1ib2x9YCk7XG4gICQoJyNwcm9tb3Rpb25EaXNjb3VudHMnKS50ZXh0KGAke3RvdGFsRGF0YS5wcm9tb3Rpb25EaXNjb3VudHMuZm9ybWF0dGVkUHJpY2V9JHt0b3RhbERhdGEucHJvbW90aW9uRGlzY291bnRzLnN5bWJvbH1gKTtcbiAgJCgnLnRvdGFsUHJpY2UnKS50ZXh0KGAke3RvdGFsRGF0YS50b3RhbFByaWNlLmZvcm1hdHRlZFByaWNlfWApO1xuICBpZiAoaXNFbXBsb3llZUN1c3RvbWVyKSB7XG4gICAgbGV0IGVtcGxveWVlRGlzY291bnRTaWduID0gJyc7XG4gICAgaWYgKHRvdGFsRGF0YS5zdGFmZkRpc2NvdW50cy5mb3JtYXR0ZWRQcmljZSAhPSAnMCcgJiYgZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgICAgZW1wbG95ZWVEaXNjb3VudFNpZ24gPSAnLSAnO1xuICAgIH1cbiAgICAkKCcjZW1wbG95ZWVQcmljZScpLnRleHQoYCR7ZW1wbG95ZWVEaXNjb3VudFNpZ259JHt0b3RhbERhdGEuc3RhZmZEaXNjb3VudHMuZm9ybWF0dGVkUHJpY2V9JHt0b3RhbERhdGEuc3RhZmZEaXNjb3VudHMuc3ltYm9sfWApO1xuICB9XG59O1xuXG5jb25zdCBwb3NzaWJsZUFsbENoZWNrYWJsZSA9ICgpID0+IHtcbiAgbGV0IGlzUG9zc2libGVBbGxDaGVja2FibGUgPSB0cnVlO1xuICAvLyAkKCcuY2FydEl0ZW1DaGVja2JveCcpLmVhY2goKGluZGV4LCBjaGVja2JveEVsZSkgPT4ge1xuICAvLyAgIGlmICgkKGNoZWNrYm94RWxlKS5pcygnOmRpc2FibGVkJykpIHtcbiAgLy8gICAgIGlzUG9zc2libGVBbGxDaGVja2FibGUgPSBmYWxzZTtcbiAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuIHRydWU7XG4gIC8vIH0pO1xuXG4gIGxldCBoYXNQaWNrdXAgPSBmYWxzZTtcbiAgJCgnLmNhcnRJdGVtQ2hlY2tib3gnKS5lYWNoKChpbmRleCwgY2hlY2tib3hFbGUpID0+IHtcbiAgICBpZiAoJChjaGVja2JveEVsZSkuZGF0YSgnaXNQaWNrdXBJdGVtJykpIHtcbiAgICAgIGhhc1BpY2t1cCA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyDrqqjrkZAg7YOd67Cw67Cw7IahIOyDge2SiOydvOuVjCDsoITssrTshKDtg50g7LK07YGs67CV7Iqk6rCAIOyEoO2DneuQmOyWtCDsnojri6QuXG4gIGlmIChoYXNQaWNrdXApIHtcbiAgICBpc1Bvc3NpYmxlQWxsQ2hlY2thYmxlID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgaXNQb3NzaWJsZUFsbENoZWNrYWJsZSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGlzUG9zc2libGVBbGxDaGVja2FibGU7XG59XG5cbmNvbnN0IGRpc2FibGVBbGxDaGVja2JveCA9ICgpID0+IHtcbiAgbGV0IGlzQWxsU29sZE91dCA9IHRydWU7XG4gICQoJy5jYXJ0SXRlbUNoZWNrYm94JykuZWFjaCgoaW5kZXgsIGNoZWNrYm94RWxlKSA9PiB7XG4gICAgLy8g7IaU65Oc7JWE7JuDIOyDge2SiCDrsJbsl5Ag7JeG7J2EIOqyveyasFxuICAgIGlmICghJChjaGVja2JveEVsZSkuaXMoJzpkaXNhYmxlZCcpKSB7XG4gICAgICBpc0FsbFNvbGRPdXQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaXNBbGxTb2xkT3V0O1xufVxuXG5leHBvcnQge1xuICB1cGRhdGVUb3RhbCxcbiAgZGlzYWJsZUFsbENoZWNrYm94LFxuICBwb3NzaWJsZUFsbENoZWNrYWJsZSxcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gIHVwZGF0ZVRvdGFsLFxuICBkaXNhYmxlQWxsQ2hlY2tib3gsXG4gIHBvc3NpYmxlQWxsQ2hlY2thYmxlLFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL0NhcnQuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///61\n");

/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar onLoad = function onLoad() {\n  var errorMessage = $('#errorMessage').val();\n  if ($.trim(errorMessage) != '') {\n    alert(errorMessage);\n  }\n\n  $('#guestOrderForm').validate({\n    rules: {\n      name: {\n        required: true\n      },\n      orderNumber: {\n        required: true,\n        number: true\n      }\n    },\n    messages: {\n      name: {\n        required: '주문자명을 입력하세요.'\n      },\n      orderNumber: {\n        required: '주문번호를 입력하세요.',\n        number: '주문번호는 숫자만 입력해 주세요.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      $('#orderNumber').val($.trim($('#orderNumber').val()));\n      $('#guestName').val($.trim($('#guestName').val()));\n      return true;\n    }\n  });\n};\n\nexports.default = onLoad;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9HdWVzdE9yZGVyLmFjdGlvbi5qcz9jM2VkIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9uTG9hZCA9ICgpID0+IHtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gJCgnI2Vycm9yTWVzc2FnZScpLnZhbCgpO1xuICBpZiAoJC50cmltKGVycm9yTWVzc2FnZSkgIT0gJycpIHtcbiAgICBhbGVydChlcnJvck1lc3NhZ2UpO1xuICB9XG5cbiAgJCgnI2d1ZXN0T3JkZXJGb3JtJykudmFsaWRhdGUoe1xuICAgIHJ1bGVzOiB7XG4gICAgICBuYW1lOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG9yZGVyTnVtYmVyOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfso7zrrLjsnpDrqoXsnYQg7J6F66Cl7ZWY7IS47JqULicsXG4gICAgICB9LFxuICAgICAgb3JkZXJOdW1iZXI6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfso7zrrLjrsojtmLjrpbwg7J6F66Cl7ZWY7IS47JqULicsXG4gICAgICAgIG51bWJlcjogJ+yjvOusuOuyiO2YuOuKlCDsiKvsnpDrp4wg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHN1Ym1pdEhhbmRsZXI6ICgpID0+IHtcbiAgICAgICQoJyNvcmRlck51bWJlcicpLnZhbCgkLnRyaW0oJCgnI29yZGVyTnVtYmVyJykudmFsKCkpKTtcbiAgICAgICQoJyNndWVzdE5hbWUnKS52YWwoJC50cmltKCQoJyNndWVzdE5hbWUnKS52YWwoKSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBvbkxvYWQ7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9HdWVzdE9yZGVyLmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2QkE7QUF5QkE7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///62\n");

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar onLoad = function onLoad() {\n  $('#loginForm').validate({\n    rules: {\n      j_username: {\n        required: true\n      },\n      j_password: {\n        required: true\n      }\n    },\n    messages: {\n      j_username: {\n        required: '아이디 또는 휴대폰 번호를 입력해주세요.'\n      },\n      j_password: {\n        required: '비밀번호를 입력해주세요.'\n      }\n    }\n  });\n};\n\nexports.default = onLoad;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9Mb2dpbi5hY3Rpb24uanM/MDU1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvbkxvYWQgPSAoKSA9PiB7XG4gICQoJyNsb2dpbkZvcm0nKS52YWxpZGF0ZSh7XG4gICAgcnVsZXM6IHtcbiAgICAgIGpfdXNlcm5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgal9wYXNzd29yZDoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgal91c2VybmFtZToge1xuICAgICAgICByZXF1aXJlZDogJ+yVhOydtOuUlCDrmJDripQg7Zy064yA7Y+wIOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBqX3Bhc3N3b3JkOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn67mE67CA67KI7Zi466W8IOyeheugpe2VtOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9uTG9hZDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL0xvZ2luLmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFKQTtBQVFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBSkE7QUFUQTtBQWtCQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///63\n");

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _zipcode = __webpack_require__(32);\n\nvar _zipcode2 = _interopRequireDefault(_zipcode);\n\nvar _myDeliveryPopup = __webpack_require__(148);\n\nvar _myDeliveryPopup2 = _interopRequireDefault(_myDeliveryPopup);\n\nvar _myDeliveryItem = __webpack_require__(149);\n\nvar _myDeliveryItem2 = _interopRequireDefault(_myDeliveryItem);\n\n__webpack_require__(150);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar myDeliveryPopupTemplate = Handlebars.compile(_myDeliveryPopup2.default);\nvar myDelivertItemTemplate = Handlebars.compile(_myDeliveryItem2.default);\n\nvar popupManager = null;\nvar popup = null;\nvar isPage = false;\nvar callback = {};\n\nvar getMyDeliveryList = function getMyDeliveryList() {\n  $.ajax({\n    url: '/Order/MyDelivery/Pop',\n    method: 'GET',\n    cache: false,\n    success: function success(data) {\n      if (data.results.length > 0) {\n        $.each(data.results, function (index, element) {\n          var params = Object.assign({}, { CSRFToken: $('[name=CSRFToken]').val() }, element);\n          if (index == 0) {\n            $('.ad-list', popup).html(myDelivertItemTemplate(params));\n          } else {\n            $('.ad-list', popup).append(myDelivertItemTemplate(params));\n          }\n        });\n      } else {\n        $('.ad-list', popup).html('<li>등록된 배송지가 없습니다.</li>');\n      }\n    }\n  }).done(function () {\n    $('#myDeliveryLoading').hide();\n    $('.delivery-popup-content', popup).show();\n  });\n};\n\nvar hideForm = function hideForm() {\n  $('.my-address', popup).show();\n  $('.close-btn', popup).show();\n  $('.my-address-form', popup).hide();\n  document.body.className = 'gray-bg';\n  $('.back-btn', popup).hide();\n  $('.my-delivery-popup-layer').removeClass('delivery-form');\n};\n\nvar initForm = function initForm() {\n  $('#myDeliveryLoading').show();\n  $('.delivery-popup-content', popup).hide();\n  $('.my-address', popup).show();\n  $('.close-btn', popup).show();\n  $('.my-address-form', popup).hide();\n  $('.back-btn', popup).hide();\n  $('.my-delivery-popup-layer').removeClass('delivery-form');\n\n  getMyDeliveryList();\n};\n\nvar hide = function hide() {\n  if (!isPage) {\n    popupManager.pop();\n  }\n};\n\nvar getMyDeliveryPopup = function getMyDeliveryPopup() {\n  if (popup) {\n    return popup;\n  }\n\n  popup = $(myDeliveryPopupTemplate({ CSRFName: 'CSRFToken', CSRFToken: $('[name=CSRFToken]').val() }));\n\n  // 팝업 닫기\n  $('.close-btn', popup).on('click', function () {\n    if (isPage) {\n      $pt.navigation.pop();\n    } else {\n      hide();\n      callback.cancel();\n    }\n  });\n\n  $('.back-btn', popup).on('click', function () {\n    hideForm();\n  });\n\n  // 선택한 배송지 적용 버튼\n  $('.btn-apply', popup).click(function () {\n    var addrId = $('input:radio[name=\\'my-ad\\']:checked').val();\n    if (!addrId) {\n      alert('적용할 배송지를 선택해주세요.');\n      return false;\n    }\n\n    var addressForm = $('#form_' + addrId);\n    callback.success(addressForm.find('[name=firstName]').val(), addressForm.find('[name=postalCode]').val(), addressForm.find('[name=line1]').val(), addressForm.find('[name=cellPhone]').val().replace(/-/g, ''), addressForm.find('[name=phone]').val().replace(/-/g, ''));\n\n    hide();\n  });\n\n  // 배송지 삭제 버튼\n  $('.ad-list', popup).on('click', '.del', function (e) {\n    var addrId = $(e.currentTarget).parent('.btn-area').data('addrId');\n    var li = $(e.currentTarget).parents('li');\n\n    if (confirm('배송지를 삭제하시겠습니까?')) {\n      $.ajax({\n        url: '/Order/MyDelivery/' + addrId,\n        type: 'DELETE',\n        success: function success(data) {\n          if (data.status == 'ok') {\n            li.remove();\n          } else {\n            alert(data.message);\n          }\n        }\n      });\n    }\n  });\n\n  // 배송지 수정 버튼\n  $('.ad-list', popup).on('click', '.edit', function (e) {\n    var addrId = $(e.currentTarget).parent('.btn-area').data('addrId');\n    $('.my-address', popup).hide();\n    $('.close-btn', popup).hide();\n    $('.my-address-form', popup).show();\n    document.body.className = 'light-gray-bg';\n    popupManager.update({ bodyClassName: 'light-gray-bg' });\n    $('.back-btn', popup).show();\n    $('.my-delivery-popup-layer').addClass('delivery-form');\n    $('#myDeliveryAddBtn').hide();\n    $('#myDeliveryModifyBtn').show();\n\n    var addressForm = $('#form_' + addrId);\n    var form = $('#myDeliveryAddForm', popup);\n    $('[name=id]', form).val(addrId);\n    $('[name=firstName]', form).val(addressForm.find('[name=firstName]').val());\n    $('#postalCodeView', form).text(addressForm.find('[name=postalCode]').val());\n    $('[name=postalCode]', form).val(addressForm.find('[name=postalCode]').val());\n    $('[name=line1]', form).val(addressForm.find('[name=line1]').val());\n    $('[name=cellPhone]', form).val(addressForm.find('[name=cellPhone]').val().replace(/-/g, ''));\n    $('[name=phone]', form).val(addressForm.find('[name=phone]').val().replace(/-/g, ''));\n    var defaultYn = addressForm.find('[name=defaultYn]').val();\n    $('input[name=rdoDefaultYn]:input[value=' + defaultYn + ']').prop('checked', true);\n    if (defaultYn == 'Y') {\n      $('input[name=rdoDefaultYn]').prop('disabled', true);\n    } else {\n      $('input[name=rdoDefaultYn]').prop('disabled', false);\n    }\n  });\n\n  // 배송지 추가 버튼\n  $('.btn-add', popup).click(function () {\n    $('.my-address', popup).hide();\n    $('.close-btn', popup).hide();\n    $('.my-address-form', popup).show();\n    document.body.className = 'light-gray-bg';\n    popupManager.update({ bodyClassName: 'light-gray-bg' });\n    $('.back-btn', popup).show();\n    $('.my-delivery-popup-layer').addClass('delivery-form');\n    $('#myDeliveryAddBtn').show();\n    $('#myDeliveryModifyBtn').hide();\n    $('#myDeliveryAddForm', popup)[0].reset();\n    $('input[name=rdoDefaultYn]').prop('disabled', false);\n    $('#postalCodeView').text('');\n  });\n\n  // 배송지 등록화면 우편번호 찾기\n  $('#myDeliverySearchZipCodeBtn', popup).click(function () {\n    popup.hide();\n\n    _zipcode2.default.show(popupManager, {\n      success: function success(postcode, address, detailAddress, fullAddress) {\n        $('#postalCodeView').text(postcode);\n        $('[name=\"postalCode\"]').val(postcode);\n        $('[name=\"line1\"]').val(fullAddress);\n        popup.show();\n      },\n      cancel: function cancel() {\n        popup.show();\n      }\n    });\n  });\n\n  // 배송지 등록 취소 버튼\n  $('#myDeliveryCancelBtn', popup).click(function () {\n    if (confirm('입력한 정보가 저장되지 않고 취소됩니다. 취소하시겠습니까?')) {\n      hideForm();\n    }\n  });\n\n  // 배송지 등록\n  $('#myDeliveryAddForm', popup).validate({\n    rules: {\n      firstName: {\n        required: true\n      },\n      postalCode: {\n        required: true\n      },\n      line1: {\n        required: true\n      },\n      cellPhone: {\n        required: true,\n        number: true,\n        cellPhoneNumberFormat: true\n      },\n      phone: {\n        number: true,\n        phoneNumberFormat: true\n      },\n      rdoDefaultYn: {\n        required: true\n      }\n    },\n    messages: {\n      firstName: {\n        required: '이름을 입력해 주세요.'\n      },\n      postalCode: {\n        required: '우편번호를 입력해 주세요.'\n      },\n      line1: {\n        required: '상세주소를 입력해 주세요.'\n      },\n      cellPhone: {\n        required: '휴대폰 번호를 입력해 주세요.',\n        number: '휴대폰 번호는 숫자만 입력해 주세요.'\n      },\n      phone: {\n        number: '전화 번호는 숫자만 입력해 주세요.'\n      },\n      rdoDefaultYn: {\n        required: '기본배송지를 설정해 주세요.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      var myDeliveryBtnLadda = void 0;\n      if ($('#addrId').val() != '') {\n        myDeliveryBtnLadda = Ladda.create($('#myDeliveryModifyBtn')[0]);\n      } else {\n        myDeliveryBtnLadda = Ladda.create($('#myDeliveryAddBtn')[0]);\n      }\n      myDeliveryBtnLadda.start();\n\n      var params = $('#myDeliveryAddForm').serializeArray();\n      params.push({ name: 'defaultYn', value: $('#myDeliveryAddForm').find('input[name=rdoDefaultYn]:checked').val() });\n      $.ajax({\n        url: '/Order/MyDeliveryAdd',\n        method: 'POST',\n        data: params,\n        dataType: 'JSON',\n        success: function success(data) {\n          if (data.status == 'ok') {\n            alert(data.okmessage);\n            hideForm();\n            initForm();\n          } else {\n            alert(data.message);\n          }\n        }\n      }).done(function () {\n        myDeliveryBtnLadda.stop();\n      });\n\n      return false;\n    }\n  });\n\n  $('body').append(popup);\n\n  return popup;\n};\n\n/**\n *\n * @param cb - success(firstName, postalCode, fullAddress(line1), cellPhone, phone)\n *           - cancel()\n */\nvar show = function show(pm, cb) {\n  var _isPage = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  isPage = _isPage;\n  popupManager = pm;\n  if (isPage) {\n    getMyDeliveryPopup();\n  } else {\n    popupManager.push(getMyDeliveryPopup(), { bodyClassName: 'gray-bg' });\n  }\n  $('[name=txtSearch]', popup).focus();\n\n  callback = Object.assign({}, { success: function success() {}, cancel: function cancel() {} }, cb);\n\n  initForm();\n};\n\nexports.default = { show: show };\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL21vYmlsZS9jb21wb25lbnQvbXktZGVsaXZlcnkuanM/NzlkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgWmlwY29kZSBmcm9tICcuL3ppcGNvZGUnO1xuaW1wb3J0IG15RGVsaXZlcnlQb3B1cCBmcm9tICcuL215LWRlbGl2ZXJ5LXBvcHVwLmhicyc7XG5pbXBvcnQgbXlEZWxpdmVyeUl0ZW0gZnJvbSAnLi9teS1kZWxpdmVyeS1pdGVtLmhicyc7XG5pbXBvcnQgJy4vbXktZGVsaXZlcnkuc2Nzcyc7XG5cbmNvbnN0IG15RGVsaXZlcnlQb3B1cFRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKG15RGVsaXZlcnlQb3B1cCk7XG5jb25zdCBteURlbGl2ZXJ0SXRlbVRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKG15RGVsaXZlcnlJdGVtKTtcblxubGV0IHBvcHVwTWFuYWdlciA9IG51bGw7XG5sZXQgcG9wdXAgPSBudWxsO1xubGV0IGlzUGFnZSA9IGZhbHNlO1xubGV0IGNhbGxiYWNrID0ge307XG5cbmNvbnN0IGdldE15RGVsaXZlcnlMaXN0ID0gKCkgPT4ge1xuICAkLmFqYXgoe1xuICAgIHVybDogJy9PcmRlci9NeURlbGl2ZXJ5L1BvcCcsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkLmVhY2goZGF0YS5yZXN1bHRzLCAoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCB7IENTUkZUb2tlbjogJCgnW25hbWU9Q1NSRlRva2VuXScpLnZhbCgpIH0sIGVsZW1lbnQpO1xuICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAkKCcuYWQtbGlzdCcsIHBvcHVwKS5odG1sKG15RGVsaXZlcnRJdGVtVGVtcGxhdGUocGFyYW1zKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5hZC1saXN0JywgcG9wdXApLmFwcGVuZChteURlbGl2ZXJ0SXRlbVRlbXBsYXRlKHBhcmFtcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuYWQtbGlzdCcsIHBvcHVwKS5odG1sKCc8bGk+65Ox66Gd65CcIOuwsOyGoeyngOqwgCDsl4bsirXri4jri6QuPC9saT4nKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KS5kb25lKCgpID0+IHtcbiAgICAkKCcjbXlEZWxpdmVyeUxvYWRpbmcnKS5oaWRlKCk7XG4gICAgJCgnLmRlbGl2ZXJ5LXBvcHVwLWNvbnRlbnQnLCBwb3B1cCkuc2hvdygpO1xuICB9KTtcbn07XG5cbmNvbnN0IGhpZGVGb3JtID0gKCkgPT4ge1xuICAkKCcubXktYWRkcmVzcycsIHBvcHVwKS5zaG93KCk7XG4gICQoJy5jbG9zZS1idG4nLCBwb3B1cCkuc2hvdygpO1xuICAkKCcubXktYWRkcmVzcy1mb3JtJywgcG9wdXApLmhpZGUoKTtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSAnZ3JheS1iZyc7XG4gICQoJy5iYWNrLWJ0bicsIHBvcHVwKS5oaWRlKCk7XG4gICQoJy5teS1kZWxpdmVyeS1wb3B1cC1sYXllcicpLnJlbW92ZUNsYXNzKCdkZWxpdmVyeS1mb3JtJyk7XG59O1xuXG5jb25zdCBpbml0Rm9ybSA9ICgpID0+IHtcbiAgJCgnI215RGVsaXZlcnlMb2FkaW5nJykuc2hvdygpO1xuICAkKCcuZGVsaXZlcnktcG9wdXAtY29udGVudCcsIHBvcHVwKS5oaWRlKCk7XG4gICQoJy5teS1hZGRyZXNzJywgcG9wdXApLnNob3coKTtcbiAgJCgnLmNsb3NlLWJ0bicsIHBvcHVwKS5zaG93KCk7XG4gICQoJy5teS1hZGRyZXNzLWZvcm0nLCBwb3B1cCkuaGlkZSgpO1xuICAkKCcuYmFjay1idG4nLCBwb3B1cCkuaGlkZSgpO1xuICAkKCcubXktZGVsaXZlcnktcG9wdXAtbGF5ZXInKS5yZW1vdmVDbGFzcygnZGVsaXZlcnktZm9ybScpO1xuXG4gIGdldE15RGVsaXZlcnlMaXN0KCk7XG59O1xuXG5jb25zdCBoaWRlID0gKCkgPT4ge1xuICBpZiAoIWlzUGFnZSkge1xuICAgIHBvcHVwTWFuYWdlci5wb3AoKTtcbiAgfVxufTtcblxuY29uc3QgZ2V0TXlEZWxpdmVyeVBvcHVwID0gKCkgPT4ge1xuICBpZiAocG9wdXApIHtcbiAgICByZXR1cm4gcG9wdXA7XG4gIH1cblxuICBwb3B1cCA9ICQobXlEZWxpdmVyeVBvcHVwVGVtcGxhdGUoeyBDU1JGTmFtZTogJ0NTUkZUb2tlbicsIENTUkZUb2tlbjogJCgnW25hbWU9Q1NSRlRva2VuXScpLnZhbCgpIH0pKTtcblxuICAvLyDtjJ3sl4Ug64ur6riwXG4gICQoJy5jbG9zZS1idG4nLCBwb3B1cCkub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChpc1BhZ2UpIHtcbiAgICAgICRwdC5uYXZpZ2F0aW9uLnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlKCk7XG4gICAgICBjYWxsYmFjay5jYW5jZWwoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5iYWNrLWJ0bicsIHBvcHVwKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaGlkZUZvcm0oKTtcbiAgfSk7XG5cbiAgLy8g7ISg7YOd7ZWcIOuwsOyGoeyngCDsoIHsmqkg67KE7Yq8XG4gICQoJy5idG4tYXBwbHknLCBwb3B1cCkuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0IGFkZHJJZCA9ICQoJ2lucHV0OnJhZGlvW25hbWU9XFwnbXktYWRcXCddOmNoZWNrZWQnKS52YWwoKTtcbiAgICBpZiAoIWFkZHJJZCkge1xuICAgICAgYWxlcnQoJ+yggeyaqe2VoCDrsLDshqHsp4Drpbwg7ISg7YOd7ZW07KO87IS47JqULicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZHJlc3NGb3JtID0gJChgI2Zvcm1fJHthZGRySWR9YCk7XG4gICAgY2FsbGJhY2suc3VjY2VzcyhcbiAgICAgIGFkZHJlc3NGb3JtLmZpbmQoJ1tuYW1lPWZpcnN0TmFtZV0nKS52YWwoKSxcbiAgICAgIGFkZHJlc3NGb3JtLmZpbmQoJ1tuYW1lPXBvc3RhbENvZGVdJykudmFsKCksXG4gICAgICBhZGRyZXNzRm9ybS5maW5kKCdbbmFtZT1saW5lMV0nKS52YWwoKSxcbiAgICAgIGFkZHJlc3NGb3JtLmZpbmQoJ1tuYW1lPWNlbGxQaG9uZV0nKS52YWwoKS5yZXBsYWNlKC8tL2csICcnKSxcbiAgICAgIGFkZHJlc3NGb3JtLmZpbmQoJ1tuYW1lPXBob25lXScpLnZhbCgpLnJlcGxhY2UoLy0vZywgJycpLFxuICAgICk7XG5cbiAgICBoaWRlKCk7XG4gIH0pO1xuXG4gIC8vIOuwsOyGoeyngCDsgq3soJwg67KE7Yq8XG4gICQoJy5hZC1saXN0JywgcG9wdXApLm9uKCdjbGljaycsICcuZGVsJywgKGUpID0+IHtcbiAgICBjb25zdCBhZGRySWQgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCcuYnRuLWFyZWEnKS5kYXRhKCdhZGRySWQnKTtcbiAgICBjb25zdCBsaSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCdsaScpO1xuXG4gICAgaWYgKGNvbmZpcm0oJ+uwsOyGoeyngOulvCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/JykpIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogYC9PcmRlci9NeURlbGl2ZXJ5LyR7YWRkcklkfWAsXG4gICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgICBsaS5yZW1vdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOuwsOyGoeyngCDsiJjsoJUg67KE7Yq8XG4gICQoJy5hZC1saXN0JywgcG9wdXApLm9uKCdjbGljaycsICcuZWRpdCcsIChlKSA9PiB7XG4gICAgY29uc3QgYWRkcklkID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgnLmJ0bi1hcmVhJykuZGF0YSgnYWRkcklkJyk7XG4gICAgJCgnLm15LWFkZHJlc3MnLCBwb3B1cCkuaGlkZSgpO1xuICAgICQoJy5jbG9zZS1idG4nLCBwb3B1cCkuaGlkZSgpO1xuICAgICQoJy5teS1hZGRyZXNzLWZvcm0nLCBwb3B1cCkuc2hvdygpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gJ2xpZ2h0LWdyYXktYmcnO1xuICAgIHBvcHVwTWFuYWdlci51cGRhdGUoeyBib2R5Q2xhc3NOYW1lOiAnbGlnaHQtZ3JheS1iZycgfSk7XG4gICAgJCgnLmJhY2stYnRuJywgcG9wdXApLnNob3coKTtcbiAgICAkKCcubXktZGVsaXZlcnktcG9wdXAtbGF5ZXInKS5hZGRDbGFzcygnZGVsaXZlcnktZm9ybScpO1xuICAgICQoJyNteURlbGl2ZXJ5QWRkQnRuJykuaGlkZSgpO1xuICAgICQoJyNteURlbGl2ZXJ5TW9kaWZ5QnRuJykuc2hvdygpO1xuXG4gICAgY29uc3QgYWRkcmVzc0Zvcm0gPSAkKGAjZm9ybV8ke2FkZHJJZH1gKTtcbiAgICBjb25zdCBmb3JtID0gJCgnI215RGVsaXZlcnlBZGRGb3JtJywgcG9wdXApO1xuICAgICQoJ1tuYW1lPWlkXScsIGZvcm0pLnZhbChhZGRySWQpO1xuICAgICQoJ1tuYW1lPWZpcnN0TmFtZV0nLCBmb3JtKS52YWwoYWRkcmVzc0Zvcm0uZmluZCgnW25hbWU9Zmlyc3ROYW1lXScpLnZhbCgpKTtcbiAgICAkKCcjcG9zdGFsQ29kZVZpZXcnLCBmb3JtKS50ZXh0KGFkZHJlc3NGb3JtLmZpbmQoJ1tuYW1lPXBvc3RhbENvZGVdJykudmFsKCkpO1xuICAgICQoJ1tuYW1lPXBvc3RhbENvZGVdJywgZm9ybSkudmFsKGFkZHJlc3NGb3JtLmZpbmQoJ1tuYW1lPXBvc3RhbENvZGVdJykudmFsKCkpO1xuICAgICQoJ1tuYW1lPWxpbmUxXScsIGZvcm0pLnZhbChhZGRyZXNzRm9ybS5maW5kKCdbbmFtZT1saW5lMV0nKS52YWwoKSk7XG4gICAgJCgnW25hbWU9Y2VsbFBob25lXScsIGZvcm0pLnZhbChhZGRyZXNzRm9ybS5maW5kKCdbbmFtZT1jZWxsUGhvbmVdJykudmFsKCkucmVwbGFjZSgvLS9nLCAnJykpO1xuICAgICQoJ1tuYW1lPXBob25lXScsIGZvcm0pLnZhbChhZGRyZXNzRm9ybS5maW5kKCdbbmFtZT1waG9uZV0nKS52YWwoKS5yZXBsYWNlKC8tL2csICcnKSk7XG4gICAgY29uc3QgZGVmYXVsdFluID0gYWRkcmVzc0Zvcm0uZmluZCgnW25hbWU9ZGVmYXVsdFluXScpLnZhbCgpO1xuICAgICQoYGlucHV0W25hbWU9cmRvRGVmYXVsdFluXTppbnB1dFt2YWx1ZT0ke2RlZmF1bHRZbn1dYCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgIGlmIChkZWZhdWx0WW4gPT0gJ1knKSB7XG4gICAgICAkKCdpbnB1dFtuYW1lPXJkb0RlZmF1bHRZbl0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCdpbnB1dFtuYW1lPXJkb0RlZmF1bHRZbl0nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOuwsOyGoeyngCDstpTqsIAg67KE7Yq8XG4gICQoJy5idG4tYWRkJywgcG9wdXApLmNsaWNrKCgpID0+IHtcbiAgICAkKCcubXktYWRkcmVzcycsIHBvcHVwKS5oaWRlKCk7XG4gICAgJCgnLmNsb3NlLWJ0bicsIHBvcHVwKS5oaWRlKCk7XG4gICAgJCgnLm15LWFkZHJlc3MtZm9ybScsIHBvcHVwKS5zaG93KCk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSAnbGlnaHQtZ3JheS1iZyc7XG4gICAgcG9wdXBNYW5hZ2VyLnVwZGF0ZSh7IGJvZHlDbGFzc05hbWU6ICdsaWdodC1ncmF5LWJnJyB9KTtcbiAgICAkKCcuYmFjay1idG4nLCBwb3B1cCkuc2hvdygpO1xuICAgICQoJy5teS1kZWxpdmVyeS1wb3B1cC1sYXllcicpLmFkZENsYXNzKCdkZWxpdmVyeS1mb3JtJyk7XG4gICAgJCgnI215RGVsaXZlcnlBZGRCdG4nKS5zaG93KCk7XG4gICAgJCgnI215RGVsaXZlcnlNb2RpZnlCdG4nKS5oaWRlKCk7XG4gICAgJCgnI215RGVsaXZlcnlBZGRGb3JtJywgcG9wdXApWzBdLnJlc2V0KCk7XG4gICAgJCgnaW5wdXRbbmFtZT1yZG9EZWZhdWx0WW5dJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgJCgnI3Bvc3RhbENvZGVWaWV3JykudGV4dCgnJyk7XG4gIH0pO1xuXG4gIC8vIOuwsOyGoeyngCDrk7HroZ3tmZTrqbQg7Jqw7Y6467KI7Zi4IOywvuq4sFxuICAkKCcjbXlEZWxpdmVyeVNlYXJjaFppcENvZGVCdG4nLCBwb3B1cCkuY2xpY2soKCkgPT4ge1xuICAgIHBvcHVwLmhpZGUoKTtcblxuICAgIFppcGNvZGUuc2hvdyhwb3B1cE1hbmFnZXIsIHtcbiAgICAgIHN1Y2Nlc3M6IChwb3N0Y29kZSwgYWRkcmVzcywgZGV0YWlsQWRkcmVzcywgZnVsbEFkZHJlc3MpID0+IHtcbiAgICAgICAgJCgnI3Bvc3RhbENvZGVWaWV3JykudGV4dChwb3N0Y29kZSk7XG4gICAgICAgICQoJ1tuYW1lPVwicG9zdGFsQ29kZVwiXScpLnZhbChwb3N0Y29kZSk7XG4gICAgICAgICQoJ1tuYW1lPVwibGluZTFcIl0nKS52YWwoZnVsbEFkZHJlc3MpO1xuICAgICAgICBwb3B1cC5zaG93KCk7XG4gICAgICB9LFxuICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgIHBvcHVwLnNob3coKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIOuwsOyGoeyngCDrk7HroZ0g7Leo7IaMIOuyhO2KvFxuICAkKCcjbXlEZWxpdmVyeUNhbmNlbEJ0bicsIHBvcHVwKS5jbGljaygoKSA9PiB7XG4gICAgaWYgKGNvbmZpcm0oJ+yeheugpe2VnCDsoJXrs7TqsIAg7KCA7J6l65CY7KeAIOyViuqzoCDst6jshozrkKnri4jri6QuIOy3qOyGjO2VmOyLnOqyoOyKteuLiOq5jD8nKSkge1xuICAgICAgaGlkZUZvcm0oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOuwsOyGoeyngCDrk7HroZ1cbiAgJCgnI215RGVsaXZlcnlBZGRGb3JtJywgcG9wdXApLnZhbGlkYXRlKHtcbiAgICBydWxlczoge1xuICAgICAgZmlyc3ROYW1lOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHBvc3RhbENvZGU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgbGluZTE6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgY2VsbFBob25lOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgIGNlbGxQaG9uZU51bWJlckZvcm1hdDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBwaG9uZToge1xuICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgIHBob25lTnVtYmVyRm9ybWF0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHJkb0RlZmF1bHRZbjoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgZmlyc3ROYW1lOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7J2066aE7J2EIOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBwb3N0YWxDb2RlOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7Jqw7Y6467KI7Zi466W8IOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBsaW5lMToge1xuICAgICAgICByZXF1aXJlZDogJ+yDgeyEuOyjvOyGjOulvCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgY2VsbFBob25lOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7Zy064yA7Y+wIOuyiO2YuOulvCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICAgIG51bWJlcjogJ+2ctOuMgO2PsCDrsojtmLjripQg7Iir7J6Q66eMIOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBwaG9uZToge1xuICAgICAgICBudW1iZXI6ICfsoITtmZQg67KI7Zi464qUIOyIq+yekOunjCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgcmRvRGVmYXVsdFluOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn6riw67O467Cw7Iah7KeA66W8IOyEpOygle2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBzdWJtaXRIYW5kbGVyOiAoKSA9PiB7XG4gICAgICBsZXQgbXlEZWxpdmVyeUJ0bkxhZGRhO1xuICAgICAgaWYgKCQoJyNhZGRySWQnKS52YWwoKSAhPSAnJykge1xuICAgICAgICBteURlbGl2ZXJ5QnRuTGFkZGEgPSBMYWRkYS5jcmVhdGUoJCgnI215RGVsaXZlcnlNb2RpZnlCdG4nKVswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBteURlbGl2ZXJ5QnRuTGFkZGEgPSBMYWRkYS5jcmVhdGUoJCgnI215RGVsaXZlcnlBZGRCdG4nKVswXSk7XG4gICAgICB9XG4gICAgICBteURlbGl2ZXJ5QnRuTGFkZGEuc3RhcnQoKTtcblxuICAgICAgY29uc3QgcGFyYW1zID0gJCgnI215RGVsaXZlcnlBZGRGb3JtJykuc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgIHBhcmFtcy5wdXNoKHsgbmFtZTogJ2RlZmF1bHRZbicsIHZhbHVlOiAkKCcjbXlEZWxpdmVyeUFkZEZvcm0nKS5maW5kKCdpbnB1dFtuYW1lPXJkb0RlZmF1bHRZbl06Y2hlY2tlZCcpLnZhbCgpIH0pO1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL09yZGVyL015RGVsaXZlcnlBZGQnLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgICBhbGVydChkYXRhLm9rbWVzc2FnZSk7XG4gICAgICAgICAgICBoaWRlRm9ybSgpO1xuICAgICAgICAgICAgaW5pdEZvcm0oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KS5kb25lKCgpID0+IHtcbiAgICAgICAgbXlEZWxpdmVyeUJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfSk7XG5cbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cCk7XG5cbiAgcmV0dXJuIHBvcHVwO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGNiIC0gc3VjY2VzcyhmaXJzdE5hbWUsIHBvc3RhbENvZGUsIGZ1bGxBZGRyZXNzKGxpbmUxKSwgY2VsbFBob25lLCBwaG9uZSlcbiAqICAgICAgICAgICAtIGNhbmNlbCgpXG4gKi9cbmNvbnN0IHNob3cgPSAocG0sIGNiLCBfaXNQYWdlID0gZmFsc2UpID0+IHtcbiAgaXNQYWdlID0gX2lzUGFnZTtcbiAgcG9wdXBNYW5hZ2VyID0gcG07XG4gIGlmIChpc1BhZ2UpIHtcbiAgICBnZXRNeURlbGl2ZXJ5UG9wdXAoKTtcbiAgfSBlbHNlIHtcbiAgICBwb3B1cE1hbmFnZXIucHVzaChnZXRNeURlbGl2ZXJ5UG9wdXAoKSwgeyBib2R5Q2xhc3NOYW1lOiAnZ3JheS1iZycgfSk7XG4gIH1cbiAgJCgnW25hbWU9dHh0U2VhcmNoXScsIHBvcHVwKS5mb2N1cygpO1xuXG4gIGNhbGxiYWNrID0gT2JqZWN0LmFzc2lnbih7fSwgeyBzdWNjZXNzOiAoKSA9PiB7fSwgY2FuY2VsOiAoKSA9PiB7fSB9LCBjYik7XG5cbiAgaW5pdEZvcm0oKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHsgc2hvdyB9O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvY29tcG9uZW50L215LWRlbGl2ZXJ5LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQW5CQTtBQXVCQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBakJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0VBO0FBQ0E7QUE2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64\n");

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by byulnimkim on 2017-08-03.\n */\nvar isMainTabChanged = false;\nvar hasCountOnClass = false;\nvar selectecMainTabs = [];\nvar DELIVERY = 'DELIVERY';\n\nvar summaryOrderList = function summaryOrderList(deviceType) {\n  function showTabContentsByMainTabType(tabType) {\n    var tartgetEle = $('#tabContents .sub-tab[data-tab-type=\\'' + tabType + '\\']');\n\n    var hasData = false;\n\n    $.each(tartgetEle.find('li'), function (index, element) {\n      if ($(element).data('orderCount') > 0) {\n        // 카운트 탭(서브탭) 에 카운트 수가 0이상일 경우는 disabled 상태 제거\n        $(element).removeClass('disabled');\n      }\n    });\n\n    $.each(tartgetEle.find('li'), function (index, element) {\n      if ($(element).data('orderCount') > 0) {\n        var contentsAreaId = $(element).attr('id').split('_count')[0];\n        $('.tab-contents').hide();\n        // 데이터가 있는 첫번째 탭 컨텐츠 영역이 보이고 선택되어 있게\n        $('#' + contentsAreaId).show();\n        $('.sub-tab').find('li').removeClass('tab-on');\n        $('#' + $(element).attr('id')).addClass('tab-on');\n        hasData = true;\n        return false;\n      }\n      return true;\n    });\n    if (!hasData) {\n      $('.tab-contents').hide();\n      $('.' + tabType).eq(0).show();\n    }\n  }\n\n  function getSummaryOrderList(tabType) {\n    var template = Handlebars.templates[deviceType + '/precompiles/order/order-list'];\n    var isRmaListView = tabType == 'RMA';\n    $('#orderListLoading').show();\n    $.getJSON('/MyPage/CurrentOrders?orderType=' + tabType, function (data) {\n      $.each(data, function (index, summary) {\n        $('#' + tabType + '_' + summary.orderStatus + '_count').data('orderCount', summary.count).find('.count').text(summary.count);\n        if (summary.count > 0) {\n          if (!hasCountOnClass) {\n            $('#' + tabType + '_' + summary.orderStatus + '_count').addClass('tab-on');\n            hasCountOnClass = true;\n          }\n          $.each(summary.orders, function (index2, order) {\n            var summaryOrder = order;\n            summaryOrder.isRmaListView = isRmaListView;\n            $.each(summaryOrder.items, function (index3, orderItem) {\n              var summaryOrderItem = orderItem;\n              summaryOrderItem.orderNumber = order.orderNumber;\n              summaryOrderItem.orderDeliveryType = order.deliveryType;\n              summaryOrderItem.orderDisplayedDeliveryType = order.displayedDeliveryType;\n            });\n\n            if (isMainTabChanged && index2 == 0) {\n              $('#' + tabType + '_' + summary.orderStatus).html(template(summaryOrder));\n            } else {\n              $('#' + tabType + '_' + summary.orderStatus).append(template(summaryOrder));\n            }\n          });\n        } else {\n          $('#' + tabType + '_' + summary.orderStatus).html('<p class=\"no-result\">최근 1개월내 내역이 없습니다.</p>');\n        }\n      });\n    }).then(function () {\n      showTabContentsByMainTabType(tabType);\n    }).always(function () {\n      return $('#orderListLoading').hide();\n    });\n  }\n\n  function showSummaryOrderList(tabType) {\n    if (!selectecMainTabs.includes(tabType)) {\n      selectecMainTabs.push(tabType);\n      getSummaryOrderList(tabType);\n    } else {\n      showTabContentsByMainTabType(tabType);\n    }\n  }\n\n  if ($('#tabContents').length > 0) {\n    showSummaryOrderList(DELIVERY);\n  }\n\n  $('#tabs > li').click(function (e) {\n    e.preventDefault();\n    $('#tabs > li').removeClass('on');\n    isMainTabChanged = true;\n    hasCountOnClass = false;\n\n    var $this = $(e.currentTarget);\n    var thisId = $this.attr('id').split('_')[0];\n    $this.addClass('on');\n    $('#tabContents .sub-tab').hide();\n    $('#tabContents .sub-tab[data-tab-type=\\'' + thisId + '\\']').show();\n\n    showSummaryOrderList(thisId);\n  });\n\n  $('.sub-tab li').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    var targetId = $this.attr('id');\n    var targetContentsId = targetId.split('_count')[0];\n    $this.parents('.sub-tab').find('li').removeClass('tab-on');\n    $this.addClass('tab-on');\n    $('.tab-contents').hide();\n    $('#' + targetContentsId).show();\n  });\n};\n\nexports.summaryOrderList = summaryOrderList;\nexports.default = {\n  summaryOrderList: summaryOrderList\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9NeVBhZ2UuYWN0aW9uLmpzP2U0YTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGJ5dWxuaW1raW0gb24gMjAxNy0wOC0wMy5cbiAqL1xubGV0IGlzTWFpblRhYkNoYW5nZWQgPSBmYWxzZTtcbmxldCBoYXNDb3VudE9uQ2xhc3MgPSBmYWxzZTtcbmNvbnN0IHNlbGVjdGVjTWFpblRhYnMgPSBbXTtcbmNvbnN0IERFTElWRVJZID0gJ0RFTElWRVJZJztcblxuY29uc3Qgc3VtbWFyeU9yZGVyTGlzdCA9IChkZXZpY2VUeXBlKSA9PiB7XG4gIGZ1bmN0aW9uIHNob3dUYWJDb250ZW50c0J5TWFpblRhYlR5cGUodGFiVHlwZSkge1xuICAgIGNvbnN0IHRhcnRnZXRFbGUgPSAkKGAjdGFiQ29udGVudHMgLnN1Yi10YWJbZGF0YS10YWItdHlwZT0nJHt0YWJUeXBlfSddYCk7XG5cbiAgICBsZXQgaGFzRGF0YSA9IGZhbHNlO1xuXG4gICAgJC5lYWNoKHRhcnRnZXRFbGUuZmluZCgnbGknKSwgKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICBpZiAoJChlbGVtZW50KS5kYXRhKCdvcmRlckNvdW50JykgPiAwKSB7XG4gICAgICAgIC8vIOy5tOyatO2KuCDtg60o7ISc67iM7YOtKSDsl5Ag7Lm07Jq07Yq4IOyImOqwgCAw7J207IOB7J28IOqyveyasOuKlCBkaXNhYmxlZCDsg4Htg5wg7KCc6rGwXG4gICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkLmVhY2godGFydGdldEVsZS5maW5kKCdsaScpLCAoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgIGlmICgkKGVsZW1lbnQpLmRhdGEoJ29yZGVyQ291bnQnKSA+IDApIHtcbiAgICAgICAgY29uc3QgY29udGVudHNBcmVhSWQgPSAkKGVsZW1lbnQpLmF0dHIoJ2lkJykuc3BsaXQoJ19jb3VudCcpWzBdO1xuICAgICAgICAkKCcudGFiLWNvbnRlbnRzJykuaGlkZSgpO1xuICAgICAgICAvLyDrjbDsnbTthLDqsIAg7J6I64qUIOyyq+uyiOynuCDtg60g7Luo7YWQ7LigIOyYgeyXreydtCDrs7TsnbTqs6Ag7ISg7YOd65CY7Ja0IOyeiOqyjFxuICAgICAgICAkKGAjJHtjb250ZW50c0FyZWFJZH1gKS5zaG93KCk7XG4gICAgICAgICQoJy5zdWItdGFiJykuZmluZCgnbGknKS5yZW1vdmVDbGFzcygndGFiLW9uJyk7XG4gICAgICAgICQoYCMkeyQoZWxlbWVudCkuYXR0cignaWQnKX1gKS5hZGRDbGFzcygndGFiLW9uJyk7XG4gICAgICAgIGhhc0RhdGEgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBpZiAoIWhhc0RhdGEpIHtcbiAgICAgICQoJy50YWItY29udGVudHMnKS5oaWRlKCk7XG4gICAgICAkKGAuJHt0YWJUeXBlfWApLmVxKDApLnNob3coKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdW1tYXJ5T3JkZXJMaXN0KHRhYlR5cGUpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzW2Ake2RldmljZVR5cGV9L3ByZWNvbXBpbGVzL29yZGVyL29yZGVyLWxpc3RgXTtcbiAgICBjb25zdCBpc1JtYUxpc3RWaWV3ID0gdGFiVHlwZSA9PSAnUk1BJztcbiAgICAkKCcjb3JkZXJMaXN0TG9hZGluZycpLnNob3coKTtcbiAgICAkLmdldEpTT04oYC9NeVBhZ2UvQ3VycmVudE9yZGVycz9vcmRlclR5cGU9JHt0YWJUeXBlfWAsIChkYXRhKSA9PiB7XG4gICAgICAkLmVhY2goZGF0YSwgKGluZGV4LCBzdW1tYXJ5KSA9PiB7XG4gICAgICAgICQoYCMke3RhYlR5cGV9XyR7c3VtbWFyeS5vcmRlclN0YXR1c31fY291bnRgKVxuICAgICAgICAgIC5kYXRhKCdvcmRlckNvdW50Jywgc3VtbWFyeS5jb3VudClcbiAgICAgICAgICAuZmluZCgnLmNvdW50JykudGV4dChzdW1tYXJ5LmNvdW50KTtcbiAgICAgICAgaWYgKHN1bW1hcnkuY291bnQgPiAwKSB7XG4gICAgICAgICAgaWYgKCFoYXNDb3VudE9uQ2xhc3MpIHtcbiAgICAgICAgICAgICQoYCMke3RhYlR5cGV9XyR7c3VtbWFyeS5vcmRlclN0YXR1c31fY291bnRgKS5hZGRDbGFzcygndGFiLW9uJyk7XG4gICAgICAgICAgICBoYXNDb3VudE9uQ2xhc3MgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkLmVhY2goc3VtbWFyeS5vcmRlcnMsIChpbmRleDIsIG9yZGVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdW1tYXJ5T3JkZXIgPSBvcmRlcjtcbiAgICAgICAgICAgIHN1bW1hcnlPcmRlci5pc1JtYUxpc3RWaWV3ID0gaXNSbWFMaXN0VmlldztcbiAgICAgICAgICAgICQuZWFjaChzdW1tYXJ5T3JkZXIuaXRlbXMsIChpbmRleDMsIG9yZGVySXRlbSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdW1tYXJ5T3JkZXJJdGVtID0gb3JkZXJJdGVtO1xuICAgICAgICAgICAgICBzdW1tYXJ5T3JkZXJJdGVtLm9yZGVyTnVtYmVyID0gb3JkZXIub3JkZXJOdW1iZXI7XG4gICAgICAgICAgICAgIHN1bW1hcnlPcmRlckl0ZW0ub3JkZXJEZWxpdmVyeVR5cGUgPSBvcmRlci5kZWxpdmVyeVR5cGU7XG4gICAgICAgICAgICAgIHN1bW1hcnlPcmRlckl0ZW0ub3JkZXJEaXNwbGF5ZWREZWxpdmVyeVR5cGUgPSBvcmRlci5kaXNwbGF5ZWREZWxpdmVyeVR5cGU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGlzTWFpblRhYkNoYW5nZWQgJiYgaW5kZXgyID09IDApIHtcbiAgICAgICAgICAgICAgJChgIyR7dGFiVHlwZX1fJHtzdW1tYXJ5Lm9yZGVyU3RhdHVzfWApLmh0bWwodGVtcGxhdGUoc3VtbWFyeU9yZGVyKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkKGAjJHt0YWJUeXBlfV8ke3N1bW1hcnkub3JkZXJTdGF0dXN9YCkuYXBwZW5kKHRlbXBsYXRlKHN1bW1hcnlPcmRlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoYCMke3RhYlR5cGV9XyR7c3VtbWFyeS5vcmRlclN0YXR1c31gKS5odG1sKCc8cCBjbGFzcz1cIm5vLXJlc3VsdFwiPuy1nOq3vCAx6rCc7JuU64K0IOuCtOyXreydtCDsl4bsirXri4jri6QuPC9wPicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHNob3dUYWJDb250ZW50c0J5TWFpblRhYlR5cGUodGFiVHlwZSk7XG4gICAgfSkuYWx3YXlzKCgpID0+ICQoJyNvcmRlckxpc3RMb2FkaW5nJykuaGlkZSgpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dTdW1tYXJ5T3JkZXJMaXN0KHRhYlR5cGUpIHtcbiAgICBpZiAoIXNlbGVjdGVjTWFpblRhYnMuaW5jbHVkZXModGFiVHlwZSkpIHtcbiAgICAgIHNlbGVjdGVjTWFpblRhYnMucHVzaCh0YWJUeXBlKTtcbiAgICAgIGdldFN1bW1hcnlPcmRlckxpc3QodGFiVHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dUYWJDb250ZW50c0J5TWFpblRhYlR5cGUodGFiVHlwZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCQoJyN0YWJDb250ZW50cycpLmxlbmd0aCA+IDApIHtcbiAgICBzaG93U3VtbWFyeU9yZGVyTGlzdChERUxJVkVSWSk7XG4gIH1cblxuICAkKCcjdGFicyA+IGxpJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnI3RhYnMgPiBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIGlzTWFpblRhYkNoYW5nZWQgPSB0cnVlO1xuICAgIGhhc0NvdW50T25DbGFzcyA9IGZhbHNlO1xuXG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgdGhpc0lkID0gJHRoaXMuYXR0cignaWQnKS5zcGxpdCgnXycpWzBdO1xuICAgICR0aGlzLmFkZENsYXNzKCdvbicpO1xuICAgICQoJyN0YWJDb250ZW50cyAuc3ViLXRhYicpLmhpZGUoKTtcbiAgICAkKGAjdGFiQ29udGVudHMgLnN1Yi10YWJbZGF0YS10YWItdHlwZT0nJHt0aGlzSWR9J11gKS5zaG93KCk7XG5cbiAgICBzaG93U3VtbWFyeU9yZGVyTGlzdCh0aGlzSWQpO1xuICB9KTtcblxuICAkKCcuc3ViLXRhYiBsaScpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHRhcmdldElkID0gJHRoaXMuYXR0cignaWQnKTtcbiAgICBjb25zdCB0YXJnZXRDb250ZW50c0lkID0gdGFyZ2V0SWQuc3BsaXQoJ19jb3VudCcpWzBdO1xuICAgICR0aGlzLnBhcmVudHMoJy5zdWItdGFiJykuZmluZCgnbGknKS5yZW1vdmVDbGFzcygndGFiLW9uJyk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ3RhYi1vbicpO1xuICAgICQoJy50YWItY29udGVudHMnKS5oaWRlKCk7XG4gICAgJChgIyR7dGFyZ2V0Q29udGVudHNJZH1gKS5zaG93KCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgc3VtbWFyeU9yZGVyTGlzdCB9O1xuZXhwb3J0IGRlZmF1bHQge1xuICBzdW1tYXJ5T3JkZXJMaXN0LFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL015UGFnZS5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///65\n");

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.applyPoints = exports.applyDeposit = exports.applyCoupon3 = exports.applyCoupon = exports.updateCouponView = exports.getCardDiscountPromotions = exports.getCheckoutCoupons = exports.getCustomerPointData = exports.updateTotal = undefined;\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default(); /** 체크아웃 뷰 화면 업데이트 관련 모바일 데탑 공통 **/\n\n\nvar updateTotal = function updateTotal(deviceType, totalData) {\n  $('#totalBasePrice').text('' + totalData.orderTotalPrice.formattedPrice + totalData.orderTotalPrice.symbol);\n  $('#deliveryCost').text('' + totalData.deliveryCost.formattedPrice + totalData.deliveryCost.symbol);\n\n  var couponDiscountsSign = '';\n  if (totalData.couponDiscounts.formattedPrice != '0' && deviceType == 'mobile') {\n    couponDiscountsSign = '- ';\n  }\n  $('#couponDiscounts').text('' + couponDiscountsSign + totalData.couponDiscounts.formattedPrice + totalData.couponDiscounts.symbol);\n\n  var totalPointDiscountsSign = '';\n  if (totalData.totalPointDiscounts.formattedPrice != '0' && deviceType == 'mobile') {\n    totalPointDiscountsSign = '- ';\n  }\n  $('#totalPointDiscounts').text('' + totalPointDiscountsSign + totalData.totalPointDiscounts.formattedPrice + totalData.totalPointDiscounts.symbol);\n\n  if (deviceType == 'mobile') {\n    $('#totalPrice').html('<i>' + totalData.estimateAmount.formattedPrice + '</i>' + totalData.estimateAmount.symbol);\n  } else {\n    $('#totalPrice').html('<em>' + totalData.estimateAmount.formattedPrice + '</em>' + totalData.estimateAmount.symbol);\n  }\n  $('#originalTotalPrice').val(totalData.totalPrice.formattedPrice);\n  $('#totalPrice').data('totalPrice', totalData.estimateAmount.formattedPrice);\n};\n\nvar getCardDiscountPromotions = function getCardDiscountPromotions(callback) {\n  $.getJSON('/Checkout/CardDiscountPromotions', function (data) {\n    if (data) {\n      callback(data);\n    }\n  });\n};\n\nvar getCustomerPointData = function getCustomerPointData(callback) {\n  $.getJSON('/Point', function (data) {\n    if (data) {\n      callback(data);\n    }\n  });\n};\n\nvar getCheckoutCoupons = function getCheckoutCoupons(callback) {\n  overlayLoader.start();\n  $.getJSON('/Order/Checkout/Coupons', function (data) {\n    if (data) {\n      callback(data);\n    }\n  }).always(function () {\n    return overlayLoader.stop();\n  });\n};\n\nvar isCoupon3Update = false;\n\nvar updatedCouponData = {};\n\nfunction updatecCouponData(code1, code2, code3, code3CouponName) {\n  updatedCouponData = {\n    code1: code1,\n    code2: code2,\n    code3: code3,\n    code3CouponName: code3CouponName\n  };\n}\n\nvar updateCouponView = function updateCouponView(deviceType, code1, code2, code3, availableCoupons, isEnabledDuplicate, code3CouponName) {\n  if ($.trim(code1) != '' && availableCoupons && availableCoupons.length > 0 && isEnabledDuplicate) {\n    var optionHtml = '<option value=\"\">쿠폰을 선택해 주세요.</option>';\n    $.each(availableCoupons, function (index, coupon) {\n      optionHtml += '<option value=\"' + coupon.code + '\" ' + (coupon.code == code2 ? 'selected' : '') + '>' + coupon.name + (coupon.isEnabledDuplicate ? '(중복가능)' : '(중복불가)') + '</option>';\n    });\n\n    $('#appliedCoupon2Select').html(optionHtml);\n    $('#appliedCoupon2SelectWrapper').show();\n  } else {\n    $('#appliedCoupon2Select').html('');\n    $('#appliedCoupon2SelectWrapper').hide();\n  }\n\n  if (code3 !== undefined && $.trim(code3) != '') {\n    var couponCode3Text = code3;\n    if (deviceType == 'desktop' && code3CouponName !== undefined && code3CouponName != '') {\n      couponCode3Text = '<strong>' + couponCode3Text + '</strong>';\n      couponCode3Text += ' (' + code3CouponName + ')';\n    }\n    $('#appliedCoupon3').html(couponCode3Text);\n    $('#appliedCoupon3Area').show();\n    $('#directCouponInput').val('');\n    $('#applyDirectCouponBtn, #directCouponInput').attr('disabled', 'disabled');\n    $('#applyDirectCouponBtn').addClass('disabled'); // for mobile (모바일은 a tag라서 클래스를 줘야함)\n  } else {\n    if (isCoupon3Update) {\n      $('#appliedCoupon3').html('');\n      $('#appliedCoupon3Area').hide();\n      $('#applyDirectCouponBtn, #directCouponInput').removeAttr('disabled');\n      $('#applyDirectCouponBtn').removeClass('disabled');\n      isCoupon3Update = false;\n    }\n  }\n\n  updatecCouponData(code1, code2, code3, code3CouponName);\n};\n\nfunction revertCouponView(deviceType) {\n  if (updatedCouponData.code1 !== '') {\n    $('#appliedCoupon1Select option[value=' + updatedCouponData.code1 + ']').prop('selected', true);\n  } else {\n    $('#appliedCoupon1Select option').eq(0).prop('selected', true);\n  }\n  if (updatedCouponData.code2 !== '') {\n    $('#appliedCoupon2Select option[value=' + updatedCouponData.code2 + ']').prop('selected', true);\n  } else {\n    if ($('#appliedCoupon2SelectWrapper').is(':visible') && $('#appliedCoupon2Select').html() !== '') {\n      $('#appliedCoupon2Select option').eq(0).prop('selected', true);\n    }\n  }\n  if (updatedCouponData.code3 !== undefined && $.trim(updatedCouponData.code3) != '') {\n    var couponCode3Text = updatedCouponData.code3;\n    if (deviceType == 'desktop' && updatedCouponData.code3CouponName !== undefined && updatedCouponData.code3CouponName != '') {\n      couponCode3Text = '<strong>' + couponCode3Text + '</strong>';\n      couponCode3Text += ' (' + updatedCouponData.code3CouponName + ')';\n    }\n    $('#appliedCoupon3').html(couponCode3Text);\n    $('#appliedCoupon3Area').show();\n    $('#directCouponInput').val('');\n    $('#applyDirectCouponBtn, #directCouponInput').attr('disabled', 'disabled');\n    $('#applyDirectCouponBtn').addClass('disabled'); // for mobile (모바일은 a tag라서 클래스를 줘야함)\n  } else {\n    if (isCoupon3Update) {\n      $('#appliedCoupon3').html('');\n      $('#appliedCoupon3Area').hide();\n      $('#applyDirectCouponBtn, #directCouponInput').removeAttr('disabled');\n      $('#applyDirectCouponBtn').removeClass('disabled');\n      isCoupon3Update = false;\n    }\n  }\n}\n\nvar applyCoupon = function applyCoupon(deviceType, code1, code2, code3, isEnabledDuplicate) {\n  var csrfToken = $('[name=CSRFToken]').val();\n  var couponData = { CSRFToken: csrfToken, code1: code1, code2: code2, code3: code3 };\n  overlayLoader.start();\n  $.post('/Order/Coupon/Apply', couponData).done(function (data) {\n    // 쿠폰이 변경되면 다른 할인수단들은 초기화 (쿠폰 최우선 적용)\n    $('#usedPoint').val(data.checkout.formattedUsedPoint);\n    $('#usedDeposit').val(data.checkout.formattedUsedDeposit);\n    $('#appliedEmployeeCouponAmount').val(data.checkout.formattedUsedGiftCardDiscount);\n    $('#appliedEmployeeCouponCount').text(data.checkout.formattedUsedGiftCardDiscount);\n    if (deviceType == 'desktop') {\n      // 직원할인권 팝업 초기화\n      $('#employeeCouponList').html('');\n      $('#employeeCouponTotal').text(0);\n    }\n    updateTotal(deviceType, data.checkout.totalPrice);\n\n    var settedIsEnabledDuplicate = isEnabledDuplicate;\n    if (!isEnabledDuplicate && $.trim(code2) !== '') {\n      settedIsEnabledDuplicate = true;\n    }\n    updateCouponView(deviceType, code1, code2, code3, data.availableCoupons, settedIsEnabledDuplicate, data.checkout.appliedCouponName3);\n  }).fail(function (request) {\n    var responseObj = JSON.parse(request.responseText);\n    alert('' + responseObj.message);\n    if (responseObj.code == 'CHECKOUT_SESSION_ERROR') {\n      if (window.$pt && $pt.isApp()) {\n        // 앱일때\n        $pt.navigation.pop();\n      } else {\n        // 앱이 아닐때\n        location.href = '/Cart';\n      }\n    } else {\n      revertCouponView(deviceType);\n    }\n  }).always(function () {\n    return overlayLoader.stop();\n  });\n};\n\nvar applyCoupon3 = function applyCoupon3(deviceType, coupon3Code) {\n  var code1 = $('#appliedCoupon1Select option:selected').val();\n  var code2 = $('#appliedCoupon2Select option:selected').val();\n  isCoupon3Update = true;\n  applyCoupon(deviceType, code1, code2, coupon3Code, true);\n};\n\nvar applyDeposit = function applyDeposit(deviceType, deposit) {\n  var csrfToken = $('[name=CSRFToken]').val();\n  var depositData = { CSRFToken: csrfToken, amount: deposit };\n  overlayLoader.start();\n  $.post('/Order/Deposit/Apply', depositData).done(function (data) {\n    $('#usedDeposit').val(data.checkout.formattedUsedDeposit);\n    updateTotal(deviceType, data.checkout.totalPrice);\n    if (data.checkout.totalPrice.estimateAmount.formattedPrice == '0') {\n      $('#paymentMethodArea').hide();\n      $('#noPaymentMethodArea').show();\n    } else {\n      $('#paymentMethodArea').show();\n      $('#noPaymentMethodArea').hide();\n    }\n  }).fail(function (request) {\n    var responseObj = JSON.parse(request.responseText);\n    alert(responseObj.message);\n    // $('#usedDeposit').val(0);\n  }).always(function () {\n    return overlayLoader.stop();\n  });\n};\n\nvar applyPoints = function applyPoints(deviceType, points) {\n  var csrfToken = $('[name=CSRFToken]').val();\n  var pointData = { CSRFToken: csrfToken, amount: points };\n  overlayLoader.start();\n  $.post('/Order/Point/Apply', pointData).done(function (data) {\n    $('#usedPoint').val(data.checkout.formattedUsedPoint);\n    updateTotal(deviceType, data.checkout.totalPrice);\n    if (data.checkout.totalPrice.estimateAmount.formattedPrice == '0') {\n      $('#paymentMethodArea').hide();\n      $('#noPaymentMethodArea').show();\n    } else {\n      $('#paymentMethodArea').show();\n      $('#noPaymentMethodArea').hide();\n    }\n  }).fail(function (request) {\n    var responseObj = JSON.parse(request.responseText);\n    alert(responseObj.message);\n    $('#usedPoint').val(0);\n  }).always(function () {\n    return overlayLoader.stop();\n  });\n};\n\nexports.updateTotal = updateTotal;\nexports.getCustomerPointData = getCustomerPointData;\nexports.getCheckoutCoupons = getCheckoutCoupons;\nexports.getCardDiscountPromotions = getCardDiscountPromotions;\nexports.updateCouponView = updateCouponView;\nexports.applyCoupon = applyCoupon;\nexports.applyCoupon3 = applyCoupon3;\nexports.applyDeposit = applyDeposit;\nexports.applyPoints = applyPoints;\nexports.default = {\n  updateTotal: updateTotal,\n  getCustomerPointData: getCustomerPointData,\n  getCheckoutCoupons: getCheckoutCoupons,\n  getCardDiscountPromotions: getCardDiscountPromotions,\n  updateCouponView: updateCouponView,\n  applyCoupon: applyCoupon,\n  applyCoupon3: applyCoupon3,\n  applyDeposit: applyDeposit,\n  applyPoints: applyPoints\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9PcmRlci5DaGVja291dC5hY3Rpb24uanM/ODQ4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiog7LK07YGs7JWE7JuDIOu3sCDtmZTrqbQg7JeF642w7J207Yq4IOq0gOugqCDrqqjrsJTsnbwg642w7YORIOqzte2GtSAqKi9cbmltcG9ydCBPdmVybGF5TG9hZGVyIGZyb20gJy4uL2NvbW1vbi9PdmVybGF5TG9hZGVyJztcbmNvbnN0IG92ZXJsYXlMb2FkZXIgPSBuZXcgT3ZlcmxheUxvYWRlcigpO1xuXG5jb25zdCB1cGRhdGVUb3RhbCA9IChkZXZpY2VUeXBlLCB0b3RhbERhdGEpID0+IHtcbiAgJCgnI3RvdGFsQmFzZVByaWNlJykudGV4dChgJHt0b3RhbERhdGEub3JkZXJUb3RhbFByaWNlLmZvcm1hdHRlZFByaWNlfSR7dG90YWxEYXRhLm9yZGVyVG90YWxQcmljZS5zeW1ib2x9YCk7XG4gICQoJyNkZWxpdmVyeUNvc3QnKS50ZXh0KGAke3RvdGFsRGF0YS5kZWxpdmVyeUNvc3QuZm9ybWF0dGVkUHJpY2V9JHt0b3RhbERhdGEuZGVsaXZlcnlDb3N0LnN5bWJvbH1gKTtcblxuICBsZXQgY291cG9uRGlzY291bnRzU2lnbiA9ICcnO1xuICBpZiAodG90YWxEYXRhLmNvdXBvbkRpc2NvdW50cy5mb3JtYXR0ZWRQcmljZSAhPSAnMCcgJiYgZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgIGNvdXBvbkRpc2NvdW50c1NpZ24gPSAnLSAnO1xuICB9XG4gICQoJyNjb3Vwb25EaXNjb3VudHMnKS50ZXh0KGAke2NvdXBvbkRpc2NvdW50c1NpZ259JHt0b3RhbERhdGEuY291cG9uRGlzY291bnRzLmZvcm1hdHRlZFByaWNlfSR7dG90YWxEYXRhLmNvdXBvbkRpc2NvdW50cy5zeW1ib2x9YCk7XG5cbiAgbGV0IHRvdGFsUG9pbnREaXNjb3VudHNTaWduID0gJyc7XG4gIGlmICh0b3RhbERhdGEudG90YWxQb2ludERpc2NvdW50cy5mb3JtYXR0ZWRQcmljZSAhPSAnMCcgJiYgZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgIHRvdGFsUG9pbnREaXNjb3VudHNTaWduID0gJy0gJztcbiAgfVxuICAkKCcjdG90YWxQb2ludERpc2NvdW50cycpLnRleHQoYCR7dG90YWxQb2ludERpc2NvdW50c1NpZ259JHt0b3RhbERhdGEudG90YWxQb2ludERpc2NvdW50cy5mb3JtYXR0ZWRQcmljZX0ke3RvdGFsRGF0YS50b3RhbFBvaW50RGlzY291bnRzLnN5bWJvbH1gKTtcblxuICBpZiAoZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgICQoJyN0b3RhbFByaWNlJykuaHRtbChgPGk+JHt0b3RhbERhdGEuZXN0aW1hdGVBbW91bnQuZm9ybWF0dGVkUHJpY2V9PC9pPiR7dG90YWxEYXRhLmVzdGltYXRlQW1vdW50LnN5bWJvbH1gKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjdG90YWxQcmljZScpLmh0bWwoYDxlbT4ke3RvdGFsRGF0YS5lc3RpbWF0ZUFtb3VudC5mb3JtYXR0ZWRQcmljZX08L2VtPiR7dG90YWxEYXRhLmVzdGltYXRlQW1vdW50LnN5bWJvbH1gKTtcbiAgfVxuICAkKCcjb3JpZ2luYWxUb3RhbFByaWNlJykudmFsKHRvdGFsRGF0YS50b3RhbFByaWNlLmZvcm1hdHRlZFByaWNlKVxuICAkKCcjdG90YWxQcmljZScpLmRhdGEoJ3RvdGFsUHJpY2UnLCB0b3RhbERhdGEuZXN0aW1hdGVBbW91bnQuZm9ybWF0dGVkUHJpY2UpO1xufTtcblxuY29uc3QgZ2V0Q2FyZERpc2NvdW50UHJvbW90aW9ucyA9IChjYWxsYmFjaykgPT4ge1xuICAkLmdldEpTT04oJy9DaGVja291dC9DYXJkRGlzY291bnRQcm9tb3Rpb25zJywgKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgZ2V0Q3VzdG9tZXJQb2ludERhdGEgPSAoY2FsbGJhY2spID0+IHtcbiAgJC5nZXRKU09OKCcvUG9pbnQnLCAoZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhKSB7XG4gICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgZ2V0Q2hlY2tvdXRDb3Vwb25zID0gKGNhbGxiYWNrKSA9PiB7XG4gIG92ZXJsYXlMb2FkZXIuc3RhcnQoKTtcbiAgJC5nZXRKU09OKCcvT3JkZXIvQ2hlY2tvdXQvQ291cG9ucycsIChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgIH1cbiAgfSkuYWx3YXlzKCgpID0+IG92ZXJsYXlMb2FkZXIuc3RvcCgpKTtcbn07XG5cbmxldCBpc0NvdXBvbjNVcGRhdGUgPSBmYWxzZTtcblxubGV0IHVwZGF0ZWRDb3Vwb25EYXRhID0ge307XG5cbmZ1bmN0aW9uIHVwZGF0ZWNDb3Vwb25EYXRhKGNvZGUxLCBjb2RlMiwgY29kZTMsIGNvZGUzQ291cG9uTmFtZSkge1xuICB1cGRhdGVkQ291cG9uRGF0YSA9IHtcbiAgICBjb2RlMSxcbiAgICBjb2RlMixcbiAgICBjb2RlMyxcbiAgICBjb2RlM0NvdXBvbk5hbWUsXG4gIH07XG59XG5cbmNvbnN0IHVwZGF0ZUNvdXBvblZpZXcgPSAoZGV2aWNlVHlwZSwgY29kZTEsIGNvZGUyLCBjb2RlMywgYXZhaWxhYmxlQ291cG9ucywgaXNFbmFibGVkRHVwbGljYXRlLCBjb2RlM0NvdXBvbk5hbWUpID0+IHtcbiAgaWYgKCQudHJpbShjb2RlMSkgIT0gJycgJiYgYXZhaWxhYmxlQ291cG9ucyAmJiBhdmFpbGFibGVDb3Vwb25zLmxlbmd0aCA+IDAgJiYgaXNFbmFibGVkRHVwbGljYXRlKSB7XG4gICAgbGV0IG9wdGlvbkh0bWwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPuy/oO2PsOydhCDshKDtg53tlbQg7KO87IS47JqULjwvb3B0aW9uPic7XG4gICAgJC5lYWNoKGF2YWlsYWJsZUNvdXBvbnMsIChpbmRleCwgY291cG9uKSA9PiB7XG4gICAgICBvcHRpb25IdG1sICs9IGA8b3B0aW9uIHZhbHVlPVwiJHtjb3Vwb24uY29kZX1cIiAke2NvdXBvbi5jb2RlID09IGNvZGUyID8gJ3NlbGVjdGVkJyA6ICcnfT4ke2NvdXBvbi5uYW1lfSR7Y291cG9uLmlzRW5hYmxlZER1cGxpY2F0ZSA/ICco7KSR67O16rCA64qlKScgOiAnKOykkeuzteu2iOqwgCknfTwvb3B0aW9uPmA7XG4gICAgfSk7XG5cbiAgICAkKCcjYXBwbGllZENvdXBvbjJTZWxlY3QnKS5odG1sKG9wdGlvbkh0bWwpO1xuICAgICQoJyNhcHBsaWVkQ291cG9uMlNlbGVjdFdyYXBwZXInKS5zaG93KCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnI2FwcGxpZWRDb3Vwb24yU2VsZWN0JykuaHRtbCgnJyk7XG4gICAgJCgnI2FwcGxpZWRDb3Vwb24yU2VsZWN0V3JhcHBlcicpLmhpZGUoKTtcbiAgfVxuXG4gIGlmIChjb2RlMyAhPT0gdW5kZWZpbmVkICYmICQudHJpbShjb2RlMykgIT0gJycpIHtcbiAgICBsZXQgY291cG9uQ29kZTNUZXh0ID0gY29kZTM7XG4gICAgaWYgKGRldmljZVR5cGUgPT0gJ2Rlc2t0b3AnICYmIGNvZGUzQ291cG9uTmFtZSAhPT0gdW5kZWZpbmVkICYmIGNvZGUzQ291cG9uTmFtZSAhPSAnJykge1xuICAgICAgY291cG9uQ29kZTNUZXh0ID0gYDxzdHJvbmc+JHtjb3Vwb25Db2RlM1RleHR9PC9zdHJvbmc+YDtcbiAgICAgIGNvdXBvbkNvZGUzVGV4dCArPSBgICgke2NvZGUzQ291cG9uTmFtZX0pYDtcbiAgICB9XG4gICAgJCgnI2FwcGxpZWRDb3Vwb24zJykuaHRtbChjb3Vwb25Db2RlM1RleHQpO1xuICAgICQoJyNhcHBsaWVkQ291cG9uM0FyZWEnKS5zaG93KCk7XG4gICAgJCgnI2RpcmVjdENvdXBvbklucHV0JykudmFsKCcnKTtcbiAgICAkKCcjYXBwbHlEaXJlY3RDb3Vwb25CdG4sICNkaXJlY3RDb3Vwb25JbnB1dCcpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgJCgnI2FwcGx5RGlyZWN0Q291cG9uQnRuJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7IC8vIGZvciBtb2JpbGUgKOuqqOuwlOydvOydgCBhIHRhZ+udvOyEnCDtgbTrnpjsiqTrpbwg7KSY7JW87ZWoKVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0NvdXBvbjNVcGRhdGUpIHtcbiAgICAgICQoJyNhcHBsaWVkQ291cG9uMycpLmh0bWwoJycpO1xuICAgICAgJCgnI2FwcGxpZWRDb3Vwb24zQXJlYScpLmhpZGUoKTtcbiAgICAgICQoJyNhcHBseURpcmVjdENvdXBvbkJ0biwgI2RpcmVjdENvdXBvbklucHV0JykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICQoJyNhcHBseURpcmVjdENvdXBvbkJ0bicpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgaXNDb3Vwb24zVXBkYXRlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlY0NvdXBvbkRhdGEoY29kZTEsIGNvZGUyLCBjb2RlMywgY29kZTNDb3Vwb25OYW1lKTtcbn07XG5cbmZ1bmN0aW9uIHJldmVydENvdXBvblZpZXcoZGV2aWNlVHlwZSkge1xuICBpZiAodXBkYXRlZENvdXBvbkRhdGEuY29kZTEgIT09ICcnKSB7XG4gICAgJChgI2FwcGxpZWRDb3Vwb24xU2VsZWN0IG9wdGlvblt2YWx1ZT0ke3VwZGF0ZWRDb3Vwb25EYXRhLmNvZGUxfV1gKS5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgICQoJyNhcHBsaWVkQ291cG9uMVNlbGVjdCBvcHRpb24nKS5lcSgwKS5wcm9wKCdzZWxlY3RlZCcsIHRydWUpO1xuICB9XG4gIGlmICh1cGRhdGVkQ291cG9uRGF0YS5jb2RlMiAhPT0gJycpIHtcbiAgICAkKGAjYXBwbGllZENvdXBvbjJTZWxlY3Qgb3B0aW9uW3ZhbHVlPSR7dXBkYXRlZENvdXBvbkRhdGEuY29kZTJ9XWApLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCQoJyNhcHBsaWVkQ291cG9uMlNlbGVjdFdyYXBwZXInKS5pcygnOnZpc2libGUnKSAmJiAkKCcjYXBwbGllZENvdXBvbjJTZWxlY3QnKS5odG1sKCkgIT09ICcnKSB7XG4gICAgICAkKCcjYXBwbGllZENvdXBvbjJTZWxlY3Qgb3B0aW9uJykuZXEoMCkucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKHVwZGF0ZWRDb3Vwb25EYXRhLmNvZGUzICE9PSB1bmRlZmluZWQgJiYgJC50cmltKHVwZGF0ZWRDb3Vwb25EYXRhLmNvZGUzKSAhPSAnJykge1xuICAgIGxldCBjb3Vwb25Db2RlM1RleHQgPSB1cGRhdGVkQ291cG9uRGF0YS5jb2RlMztcbiAgICBpZiAoZGV2aWNlVHlwZSA9PSAnZGVza3RvcCcgJiYgdXBkYXRlZENvdXBvbkRhdGEuY29kZTNDb3Vwb25OYW1lICE9PSB1bmRlZmluZWQgJiYgdXBkYXRlZENvdXBvbkRhdGEuY29kZTNDb3Vwb25OYW1lICE9ICcnKSB7XG4gICAgICBjb3Vwb25Db2RlM1RleHQgPSBgPHN0cm9uZz4ke2NvdXBvbkNvZGUzVGV4dH08L3N0cm9uZz5gO1xuICAgICAgY291cG9uQ29kZTNUZXh0ICs9IGAgKCR7dXBkYXRlZENvdXBvbkRhdGEuY29kZTNDb3Vwb25OYW1lfSlgO1xuICAgIH1cbiAgICAkKCcjYXBwbGllZENvdXBvbjMnKS5odG1sKGNvdXBvbkNvZGUzVGV4dCk7XG4gICAgJCgnI2FwcGxpZWRDb3Vwb24zQXJlYScpLnNob3coKTtcbiAgICAkKCcjZGlyZWN0Q291cG9uSW5wdXQnKS52YWwoJycpO1xuICAgICQoJyNhcHBseURpcmVjdENvdXBvbkJ0biwgI2RpcmVjdENvdXBvbklucHV0JykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAkKCcjYXBwbHlEaXJlY3RDb3Vwb25CdG4nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTsgLy8gZm9yIG1vYmlsZSAo66qo67CU7J287J2AIGEgdGFn65287IScIO2BtOuemOyKpOulvCDspJjslbztlagpXG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ291cG9uM1VwZGF0ZSkge1xuICAgICAgJCgnI2FwcGxpZWRDb3Vwb24zJykuaHRtbCgnJyk7XG4gICAgICAkKCcjYXBwbGllZENvdXBvbjNBcmVhJykuaGlkZSgpO1xuICAgICAgJCgnI2FwcGx5RGlyZWN0Q291cG9uQnRuLCAjZGlyZWN0Q291cG9uSW5wdXQnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgJCgnI2FwcGx5RGlyZWN0Q291cG9uQnRuJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICBpc0NvdXBvbjNVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYXBwbHlDb3Vwb24gPSAoZGV2aWNlVHlwZSwgY29kZTEsIGNvZGUyLCBjb2RlMywgaXNFbmFibGVkRHVwbGljYXRlKSA9PiB7XG4gIGNvbnN0IGNzcmZUb2tlbiA9ICQoJ1tuYW1lPUNTUkZUb2tlbl0nKS52YWwoKTtcbiAgY29uc3QgY291cG9uRGF0YSA9IHsgQ1NSRlRva2VuOiBjc3JmVG9rZW4sIGNvZGUxLCBjb2RlMiwgY29kZTMgfTtcbiAgb3ZlcmxheUxvYWRlci5zdGFydCgpO1xuICAkLnBvc3QoJy9PcmRlci9Db3Vwb24vQXBwbHknLCBjb3Vwb25EYXRhKS5kb25lKChkYXRhKSA9PiB7XG4gICAgLy8g7L+g7Y+w7J20IOuzgOqyveuQmOuptCDri6Trpbgg7ZWg7J247IiY64uo65Ok7J2AIOy0iOq4sO2ZlCAo7L+g7Y+wIOy1nOyasOyEoCDsoIHsmqkpXG4gICAgJCgnI3VzZWRQb2ludCcpLnZhbChkYXRhLmNoZWNrb3V0LmZvcm1hdHRlZFVzZWRQb2ludCk7XG4gICAgJCgnI3VzZWREZXBvc2l0JykudmFsKGRhdGEuY2hlY2tvdXQuZm9ybWF0dGVkVXNlZERlcG9zaXQpO1xuICAgICQoJyNhcHBsaWVkRW1wbG95ZWVDb3Vwb25BbW91bnQnKS52YWwoZGF0YS5jaGVja291dC5mb3JtYXR0ZWRVc2VkR2lmdENhcmREaXNjb3VudCk7XG4gICAgJCgnI2FwcGxpZWRFbXBsb3llZUNvdXBvbkNvdW50JykudGV4dChkYXRhLmNoZWNrb3V0LmZvcm1hdHRlZFVzZWRHaWZ0Q2FyZERpc2NvdW50KTtcbiAgICBpZiAoZGV2aWNlVHlwZSA9PSAnZGVza3RvcCcpIHtcbiAgICAgIC8vIOyngeybkO2VoOyduOq2jCDtjJ3sl4Ug7LSI6riw7ZmUXG4gICAgICAkKCcjZW1wbG95ZWVDb3Vwb25MaXN0JykuaHRtbCgnJyk7XG4gICAgICAkKCcjZW1wbG95ZWVDb3Vwb25Ub3RhbCcpLnRleHQoMCk7XG4gICAgfVxuICAgIHVwZGF0ZVRvdGFsKGRldmljZVR5cGUsIGRhdGEuY2hlY2tvdXQudG90YWxQcmljZSk7XG5cbiAgICBsZXQgc2V0dGVkSXNFbmFibGVkRHVwbGljYXRlID0gaXNFbmFibGVkRHVwbGljYXRlO1xuICAgIGlmICghaXNFbmFibGVkRHVwbGljYXRlICYmICQudHJpbShjb2RlMikgIT09ICcnKSB7XG4gICAgICBzZXR0ZWRJc0VuYWJsZWREdXBsaWNhdGUgPSB0cnVlO1xuICAgIH1cbiAgICB1cGRhdGVDb3Vwb25WaWV3KGRldmljZVR5cGUsIGNvZGUxLCBjb2RlMiwgY29kZTMsIGRhdGEuYXZhaWxhYmxlQ291cG9ucywgc2V0dGVkSXNFbmFibGVkRHVwbGljYXRlLCBkYXRhLmNoZWNrb3V0LmFwcGxpZWRDb3Vwb25OYW1lMyk7XG4gIH0pLmZhaWwoKHJlcXVlc3QpID0+IHtcbiAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgIGFsZXJ0KGAke3Jlc3BvbnNlT2JqLm1lc3NhZ2V9YCk7XG4gICAgaWYgKHJlc3BvbnNlT2JqLmNvZGUgPT0gJ0NIRUNLT1VUX1NFU1NJT05fRVJST1InKSB7XG4gICAgICBpZiAod2luZG93LiRwdCAmJiAkcHQuaXNBcHAoKSkgeyAvLyDslbHsnbzrlYxcbiAgICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKCk7XG4gICAgICB9IGVsc2UgeyAvLyDslbHsnbQg7JWE64uQ65WMXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL0NhcnQnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXZlcnRDb3Vwb25WaWV3KGRldmljZVR5cGUpO1xuICAgIH1cbiAgfSkuYWx3YXlzKCgpID0+IG92ZXJsYXlMb2FkZXIuc3RvcCgpKTtcbn1cblxuY29uc3QgYXBwbHlDb3Vwb24zID0gKGRldmljZVR5cGUsIGNvdXBvbjNDb2RlKSA9PiB7XG4gIGNvbnN0IGNvZGUxID0gJCgnI2FwcGxpZWRDb3Vwb24xU2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuICBjb25zdCBjb2RlMiA9ICQoJyNhcHBsaWVkQ291cG9uMlNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgaXNDb3Vwb24zVXBkYXRlID0gdHJ1ZTtcbiAgYXBwbHlDb3Vwb24oZGV2aWNlVHlwZSwgY29kZTEsIGNvZGUyLCBjb3Vwb24zQ29kZSwgdHJ1ZSk7XG59XG5cbmNvbnN0IGFwcGx5RGVwb3NpdCA9IChkZXZpY2VUeXBlLCBkZXBvc2l0KSA9PiB7XG4gIGNvbnN0IGNzcmZUb2tlbiA9ICQoJ1tuYW1lPUNTUkZUb2tlbl0nKS52YWwoKTtcbiAgY29uc3QgZGVwb3NpdERhdGEgPSB7IENTUkZUb2tlbjogY3NyZlRva2VuLCBhbW91bnQ6IGRlcG9zaXQgfTtcbiAgb3ZlcmxheUxvYWRlci5zdGFydCgpO1xuICAkLnBvc3QoJy9PcmRlci9EZXBvc2l0L0FwcGx5JywgZGVwb3NpdERhdGEpLmRvbmUoKGRhdGEpID0+IHtcbiAgICAkKCcjdXNlZERlcG9zaXQnKS52YWwoZGF0YS5jaGVja291dC5mb3JtYXR0ZWRVc2VkRGVwb3NpdCk7XG4gICAgdXBkYXRlVG90YWwoZGV2aWNlVHlwZSwgZGF0YS5jaGVja291dC50b3RhbFByaWNlKTtcbiAgICBpZiAoZGF0YS5jaGVja291dC50b3RhbFByaWNlLmVzdGltYXRlQW1vdW50LmZvcm1hdHRlZFByaWNlID09ICcwJykge1xuICAgICAgJCgnI3BheW1lbnRNZXRob2RBcmVhJykuaGlkZSgpO1xuICAgICAgJCgnI25vUGF5bWVudE1ldGhvZEFyZWEnKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNwYXltZW50TWV0aG9kQXJlYScpLnNob3coKTtcbiAgICAgICQoJyNub1BheW1lbnRNZXRob2RBcmVhJykuaGlkZSgpO1xuICAgIH1cbiAgfSkuZmFpbCgocmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlT2JqID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgYWxlcnQocmVzcG9uc2VPYmoubWVzc2FnZSk7XG4gICAgLy8gJCgnI3VzZWREZXBvc2l0JykudmFsKDApO1xuICB9KS5hbHdheXMoKCkgPT4gb3ZlcmxheUxvYWRlci5zdG9wKCkpO1xufVxuXG5jb25zdCBhcHBseVBvaW50cyA9IChkZXZpY2VUeXBlLCBwb2ludHMpID0+IHtcbiAgY29uc3QgY3NyZlRva2VuID0gJCgnW25hbWU9Q1NSRlRva2VuXScpLnZhbCgpO1xuICBjb25zdCBwb2ludERhdGEgPSB7IENTUkZUb2tlbjogY3NyZlRva2VuLCBhbW91bnQ6IHBvaW50cyB9O1xuICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG4gICQucG9zdCgnL09yZGVyL1BvaW50L0FwcGx5JywgcG9pbnREYXRhKS5kb25lKChkYXRhKSA9PiB7XG4gICAgJCgnI3VzZWRQb2ludCcpLnZhbChkYXRhLmNoZWNrb3V0LmZvcm1hdHRlZFVzZWRQb2ludCk7XG4gICAgdXBkYXRlVG90YWwoZGV2aWNlVHlwZSwgZGF0YS5jaGVja291dC50b3RhbFByaWNlKTtcbiAgICBpZiAoZGF0YS5jaGVja291dC50b3RhbFByaWNlLmVzdGltYXRlQW1vdW50LmZvcm1hdHRlZFByaWNlID09ICcwJykge1xuICAgICAgJCgnI3BheW1lbnRNZXRob2RBcmVhJykuaGlkZSgpO1xuICAgICAgJCgnI25vUGF5bWVudE1ldGhvZEFyZWEnKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNwYXltZW50TWV0aG9kQXJlYScpLnNob3coKTtcbiAgICAgICQoJyNub1BheW1lbnRNZXRob2RBcmVhJykuaGlkZSgpO1xuICAgIH1cbiAgfSkuZmFpbCgocmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlT2JqID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgYWxlcnQocmVzcG9uc2VPYmoubWVzc2FnZSk7XG4gICAgJCgnI3VzZWRQb2ludCcpLnZhbCgwKTtcbiAgfSkuYWx3YXlzKCgpID0+IG92ZXJsYXlMb2FkZXIuc3RvcCgpKTtcbn1cblxuZXhwb3J0IHtcbiAgdXBkYXRlVG90YWwsXG4gIGdldEN1c3RvbWVyUG9pbnREYXRhLFxuICBnZXRDaGVja291dENvdXBvbnMsXG4gIGdldENhcmREaXNjb3VudFByb21vdGlvbnMsXG4gIHVwZGF0ZUNvdXBvblZpZXcsXG4gIGFwcGx5Q291cG9uLFxuICBhcHBseUNvdXBvbjMsXG4gIGFwcGx5RGVwb3NpdCxcbiAgYXBwbHlQb2ludHMsXG59O1xuZXhwb3J0IGRlZmF1bHQge1xuICB1cGRhdGVUb3RhbCxcbiAgZ2V0Q3VzdG9tZXJQb2ludERhdGEsXG4gIGdldENoZWNrb3V0Q291cG9ucyxcbiAgZ2V0Q2FyZERpc2NvdW50UHJvbW90aW9ucyxcbiAgdXBkYXRlQ291cG9uVmlldyxcbiAgYXBwbHlDb3Vwb24sXG4gIGFwcGx5Q291cG9uMyxcbiAgYXBwbHlEZXBvc2l0LFxuICBhcHBseVBvaW50cyxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9PcmRlci5DaGVja291dC5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTtBQUNBOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///66\n");

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! @preserve\n * numeral.js\n * version : 2.0.6\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        global.numeral = factory();\n    }\n}(this, function () {\n    /************************************\n        Variables\n    ************************************/\n\n    var numeral,\n        _,\n        VERSION = '2.0.6',\n        formats = {},\n        locales = {},\n        defaults = {\n            currentLocale: 'en',\n            zeroFormat: null,\n            nullFormat: null,\n            defaultFormat: '0,0',\n            scalePercentBy100: true\n        },\n        options = {\n            currentLocale: defaults.currentLocale,\n            zeroFormat: defaults.zeroFormat,\n            nullFormat: defaults.nullFormat,\n            defaultFormat: defaults.defaultFormat,\n            scalePercentBy100: defaults.scalePercentBy100\n        };\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    // Numeral prototype object\n    function Numeral(input, number) {\n        this._input = input;\n\n        this._value = number;\n    }\n\n    numeral = function(input) {\n        var value,\n            kind,\n            unformatFunction,\n            regexp;\n\n        if (numeral.isNumeral(input)) {\n            value = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            value = 0;\n        } else if (input === null || _.isNaN(input)) {\n            value = null;\n        } else if (typeof input === 'string') {\n            if (options.zeroFormat && input === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                for (kind in formats) {\n                    regexp = typeof formats[kind].regexps.unformat === 'function' ? formats[kind].regexps.unformat() : formats[kind].regexps.unformat;\n\n                    if (regexp && input.match(regexp)) {\n                        unformatFunction = formats[kind].unformat;\n\n                        break;\n                    }\n                }\n\n                unformatFunction = unformatFunction || numeral._.stringToNumber;\n\n                value = unformatFunction(input);\n            }\n        } else {\n            value = Number(input)|| null;\n        }\n\n        return new Numeral(input, value);\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function(obj) {\n        return obj instanceof Numeral;\n    };\n\n    // helper functions\n    numeral._ = _ = {\n        // formats numbers separators, decimals places, signs, abbreviations\n        numberToFormat: function(value, format, roundingFunction) {\n            var locale = locales[numeral.options.currentLocale],\n                negP = false,\n                optDec = false,\n                leadingCount = 0,\n                abbr = '',\n                trillion = 1000000000000,\n                billion = 1000000000,\n                million = 1000000,\n                thousand = 1000,\n                decimal = '',\n                neg = false,\n                abbrForce, // force abbreviation\n                abs,\n                min,\n                max,\n                power,\n                int,\n                precision,\n                signed,\n                thousands,\n                output;\n\n            // make sure we never format a null value\n            value = value || 0;\n\n            abs = Math.abs(value);\n\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (numeral._.includes(format, '(')) {\n                negP = true;\n                format = format.replace(/[\\(|\\)]/g, '');\n            } else if (numeral._.includes(format, '+') || numeral._.includes(format, '-')) {\n                signed = numeral._.includes(format, '+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n                format = format.replace(/[\\+|\\-]/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (numeral._.includes(format, 'a')) {\n                abbrForce = format.match(/a(k|m|b|t)?/);\n\n                abbrForce = abbrForce ? abbrForce[1] : false;\n\n                // check for space before abbreviation\n                if (numeral._.includes(format, ' a')) {\n                    abbr = ' ';\n                }\n\n                format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n                if (abs >= trillion && !abbrForce || abbrForce === 't') {\n                    // trillion\n                    abbr += locale.abbreviations.trillion;\n                    value = value / trillion;\n                } else if (abs < trillion && abs >= billion && !abbrForce || abbrForce === 'b') {\n                    // billion\n                    abbr += locale.abbreviations.billion;\n                    value = value / billion;\n                } else if (abs < billion && abs >= million && !abbrForce || abbrForce === 'm') {\n                    // million\n                    abbr += locale.abbreviations.million;\n                    value = value / million;\n                } else if (abs < million && abs >= thousand && !abbrForce || abbrForce === 'k') {\n                    // thousand\n                    abbr += locale.abbreviations.thousand;\n                    value = value / thousand;\n                }\n            }\n\n            // check for optional decimals\n            if (numeral._.includes(format, '[.]')) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            // break number and format\n            int = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n            leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n            if (precision) {\n                if (numeral._.includes(precision, '[')) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    decimal = numeral._.toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    decimal = numeral._.toFixed(value, precision.length, roundingFunction);\n                }\n\n                int = decimal.split('.')[0];\n\n                if (numeral._.includes(decimal, '.')) {\n                    decimal = locale.delimiters.decimal + decimal.split('.')[1];\n                } else {\n                    decimal = '';\n                }\n\n                if (optDec && Number(decimal.slice(1)) === 0) {\n                    decimal = '';\n                }\n            } else {\n                int = numeral._.toFixed(value, 0, roundingFunction);\n            }\n\n            // check abbreviation again after rounding\n            if (abbr && !abbrForce && Number(int) >= 1000 && abbr !== locale.abbreviations.trillion) {\n                int = String(Number(int) / 1000);\n\n                switch (abbr) {\n                    case locale.abbreviations.thousand:\n                        abbr = locale.abbreviations.million;\n                        break;\n                    case locale.abbreviations.million:\n                        abbr = locale.abbreviations.billion;\n                        break;\n                    case locale.abbreviations.billion:\n                        abbr = locale.abbreviations.trillion;\n                        break;\n                }\n            }\n\n\n            // format number\n            if (numeral._.includes(int, '-')) {\n                int = int.slice(1);\n                neg = true;\n            }\n\n            if (int.length < leadingCount) {\n                for (var i = leadingCount - int.length; i > 0; i--) {\n                    int = '0' + int;\n                }\n            }\n\n            if (thousands > -1) {\n                int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + locale.delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                int = '';\n            }\n\n            output = int + decimal + (abbr ? abbr : '');\n\n            if (negP) {\n                output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n            } else {\n                if (signed >= 0) {\n                    output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n                } else if (neg) {\n                    output = '-' + output;\n                }\n            }\n\n            return output;\n        },\n        // unformats numbers separators, decimals places, signs, abbreviations\n        stringToNumber: function(string) {\n            var locale = locales[options.currentLocale],\n                stringOriginal = string,\n                abbreviations = {\n                    thousand: 3,\n                    million: 6,\n                    billion: 9,\n                    trillion: 12\n                },\n                abbreviation,\n                value,\n                i,\n                regexp;\n\n            if (options.zeroFormat && string === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && string === options.nullFormat || !string.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                value = 1;\n\n                if (locale.delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g, '').replace(locale.delimiters.decimal, '.');\n                }\n\n                for (abbreviation in abbreviations) {\n                    regexp = new RegExp('[^a-zA-Z]' + locale.abbreviations[abbreviation] + '(?:\\\\)|(\\\\' + locale.currency.symbol + ')?(?:\\\\))?)?$');\n\n                    if (stringOriginal.match(regexp)) {\n                        value *= Math.pow(10, abbreviations[abbreviation]);\n                        break;\n                    }\n                }\n\n                // check for negative number\n                value *= (string.split('-').length + Math.min(string.split('(').length - 1, string.split(')').length - 1)) % 2 ? 1 : -1;\n\n                // remove non numbers\n                string = string.replace(/[^0-9\\.]+/g, '');\n\n                value *= Number(string);\n            }\n\n            return value;\n        },\n        isNaN: function(value) {\n            return typeof value === 'number' && isNaN(value);\n        },\n        includes: function(string, search) {\n            return string.indexOf(search) !== -1;\n        },\n        insert: function(string, subString, start) {\n            return string.slice(0, start) + subString + string.slice(start);\n        },\n        reduce: function(array, callback /*, initialValue*/) {\n            if (this === null) {\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n\n            if (typeof callback !== 'function') {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var t = Object(array),\n                len = t.length >>> 0,\n                k = 0,\n                value;\n\n            if (arguments.length === 3) {\n                value = arguments[2];\n            } else {\n                while (k < len && !(k in t)) {\n                    k++;\n                }\n\n                if (k >= len) {\n                    throw new TypeError('Reduce of empty array with no initial value');\n                }\n\n                value = t[k++];\n            }\n            for (; k < len; k++) {\n                if (k in t) {\n                    value = callback(value, t[k], k, t);\n                }\n            }\n            return value;\n        },\n        /**\n         * Computes the multiplier necessary to make x >= 1,\n         * effectively eliminating miscalculations caused by\n         * finite precision.\n         */\n        multiplier: function (x) {\n            var parts = x.toString().split('.');\n\n            return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);\n        },\n        /**\n         * Given a variable number of arguments, returns the maximum\n         * multiplier that must be used to normalize an operation involving\n         * all of them.\n         */\n        correctionFactor: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            return args.reduce(function(accum, next) {\n                var mn = _.multiplier(next);\n                return accum > mn ? accum : mn;\n            }, 1);\n        },\n        /**\n         * Implementation of toFixed() that treats floats more like decimals\n         *\n         * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n         * problems for accounting- and finance-related software.\n         */\n        toFixed: function(value, maxDecimals, roundingFunction, optionals) {\n            var splitValue = value.toString().split('.'),\n                minDecimals = maxDecimals - (optionals || 0),\n                boundedPrecision,\n                optionalsRegExp,\n                power,\n                output;\n\n            // Use the smallest precision value possible to avoid errors from floating point representation\n            if (splitValue.length === 2) {\n              boundedPrecision = Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals);\n            } else {\n              boundedPrecision = minDecimals;\n            }\n\n            power = Math.pow(10, boundedPrecision);\n\n            // Multiply up by precision, round accurately, then divide and use native toFixed():\n            output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n            if (optionals > maxDecimals - boundedPrecision) {\n                optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n                output = output.replace(optionalsRegExp, '');\n            }\n\n            return output;\n        }\n    };\n\n    // avaliable options\n    numeral.options = options;\n\n    // avaliable formats\n    numeral.formats = formats;\n\n    // avaliable formats\n    numeral.locales = locales;\n\n    // This function sets the current locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    numeral.locale = function(key) {\n        if (key) {\n            options.currentLocale = key.toLowerCase();\n        }\n\n        return options.currentLocale;\n    };\n\n    // This function provides access to the loaded locale data.  If\n    // no arguments are passed in, it will simply return the current\n    // global locale object.\n    numeral.localeData = function(key) {\n        if (!key) {\n            return locales[options.currentLocale];\n        }\n\n        key = key.toLowerCase();\n\n        if (!locales[key]) {\n            throw new Error('Unknown locale : ' + key);\n        }\n\n        return locales[key];\n    };\n\n    numeral.reset = function() {\n        for (var property in defaults) {\n            options[property] = defaults[property];\n        }\n    };\n\n    numeral.zeroFormat = function(format) {\n        options.zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.nullFormat = function (format) {\n        options.nullFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function(format) {\n        options.defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    numeral.register = function(type, name, format) {\n        name = name.toLowerCase();\n\n        if (this[type + 's'][name]) {\n            throw new TypeError(name + ' ' + type + ' already registered.');\n        }\n\n        this[type + 's'][name] = format;\n\n        return format;\n    };\n\n\n    numeral.validate = function(val, culture) {\n        var _decimalSep,\n            _thousandSep,\n            _currSymbol,\n            _valArray,\n            _abbrObj,\n            _thousandRegEx,\n            localeData,\n            temp;\n\n        //coerce val to string\n        if (typeof val !== 'string') {\n            val += '';\n\n            if (console.warn) {\n                console.warn('Numeral.js: Value is not string. It has been co-erced to: ', val);\n            }\n        }\n\n        //trim whitespaces from either sides\n        val = val.trim();\n\n        //if val is just digits return true\n        if (!!val.match(/^\\d+$/)) {\n            return true;\n        }\n\n        //if val is empty return false\n        if (val === '') {\n            return false;\n        }\n\n        //get the decimal and thousands separator from numeral.localeData\n        try {\n            //check if the culture is understood by numeral. if not, default it to current locale\n            localeData = numeral.localeData(culture);\n        } catch (e) {\n            localeData = numeral.localeData(numeral.locale());\n        }\n\n        //setup the delimiters and currency symbol based on culture/locale\n        _currSymbol = localeData.currency.symbol;\n        _abbrObj = localeData.abbreviations;\n        _decimalSep = localeData.delimiters.decimal;\n        if (localeData.delimiters.thousands === '.') {\n            _thousandSep = '\\\\.';\n        } else {\n            _thousandSep = localeData.delimiters.thousands;\n        }\n\n        // validating currency symbol\n        temp = val.match(/^[^\\d]+/);\n        if (temp !== null) {\n            val = val.substr(1);\n            if (temp[0] !== _currSymbol) {\n                return false;\n            }\n        }\n\n        //validating abbreviation symbol\n        temp = val.match(/[^\\d]+$/);\n        if (temp !== null) {\n            val = val.slice(0, -1);\n            if (temp[0] !== _abbrObj.thousand && temp[0] !== _abbrObj.million && temp[0] !== _abbrObj.billion && temp[0] !== _abbrObj.trillion) {\n                return false;\n            }\n        }\n\n        _thousandRegEx = new RegExp(_thousandSep + '{2}');\n\n        if (!val.match(/[^\\d.,]/g)) {\n            _valArray = val.split(_decimalSep);\n            if (_valArray.length > 2) {\n                return false;\n            } else {\n                if (_valArray.length < 2) {\n                    return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx));\n                } else {\n                    if (_valArray[0].length === 1) {\n                        return ( !! _valArray[0].match(/^\\d+$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    } else {\n                        return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    }\n                }\n            }\n        }\n\n        return false;\n    };\n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n    numeral.fn = Numeral.prototype = {\n        clone: function() {\n            return numeral(this);\n        },\n        format: function(inputString, roundingFunction) {\n            var value = this._value,\n                format = inputString || options.defaultFormat,\n                kind,\n                output,\n                formatFunction;\n\n            // make sure we have a roundingFunction\n            roundingFunction = roundingFunction || Math.round;\n\n            // format based on value\n            if (value === 0 && options.zeroFormat !== null) {\n                output = options.zeroFormat;\n            } else if (value === null && options.nullFormat !== null) {\n                output = options.nullFormat;\n            } else {\n                for (kind in formats) {\n                    if (format.match(formats[kind].regexps.format)) {\n                        formatFunction = formats[kind].format;\n\n                        break;\n                    }\n                }\n\n                formatFunction = formatFunction || numeral._.numberToFormat;\n\n                output = formatFunction(value, format, roundingFunction);\n            }\n\n            return output;\n        },\n        value: function() {\n            return this._value;\n        },\n        input: function() {\n            return this._input;\n        },\n        set: function(value) {\n            this._value = Number(value);\n\n            return this;\n        },\n        add: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum + Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 0) / corrFactor;\n\n            return this;\n        },\n        subtract: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum - Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([value], cback, Math.round(this._value * corrFactor)) / corrFactor;\n\n            return this;\n        },\n        multiply: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) * Math.round(curr * corrFactor) / Math.round(corrFactor * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 1);\n\n            return this;\n        },\n        divide: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback);\n\n            return this;\n        },\n        difference: function(value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n    };\n\n    /************************************\n        Default Locale && Format\n    ************************************/\n\n    numeral.register('locale', 'en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function(number) {\n            var b = number % 10;\n            return (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    \n\n(function() {\n        numeral.register('format', 'bps', {\n            regexps: {\n                format: /(BPS)/,\n                unformat: /(BPS)/\n            },\n            format: function(value, format, roundingFunction) {\n                var space = numeral._.includes(format, ' BPS') ? ' ' : '',\n                    output;\n\n                value = value * 10000;\n\n                // check for space before BPS\n                format = format.replace(/\\s?BPS/, '');\n\n                output = numeral._.numberToFormat(value, format, roundingFunction);\n\n                if (numeral._.includes(output, ')')) {\n                    output = output.split('');\n\n                    output.splice(-1, 0, space + 'BPS');\n\n                    output = output.join('');\n                } else {\n                    output = output + space + 'BPS';\n                }\n\n                return output;\n            },\n            unformat: function(string) {\n                return +(numeral._.stringToNumber(string) * 0.0001).toFixed(15);\n            }\n        });\n})();\n\n\n(function() {\n        var decimal = {\n            base: 1000,\n            suffixes: ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        },\n        binary = {\n            base: 1024,\n            suffixes: ['B', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\n        };\n\n    var allSuffixes =  decimal.suffixes.concat(binary.suffixes.filter(function (item) {\n            return decimal.suffixes.indexOf(item) < 0;\n        }));\n        var unformatRegex = allSuffixes.join('|');\n        // Allow support for BPS (http://www.investopedia.com/terms/b/basispoint.asp)\n        unformatRegex = '(' + unformatRegex.replace('B', 'B(?!PS)') + ')';\n\n    numeral.register('format', 'bytes', {\n        regexps: {\n            format: /([0\\s]i?b)/,\n            unformat: new RegExp(unformatRegex)\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                bytes = numeral._.includes(format, 'ib') ? binary : decimal,\n                suffix = numeral._.includes(format, ' b') || numeral._.includes(format, ' ib') ? ' ' : '',\n                power,\n                min,\n                max;\n\n            // check for space before\n            format = format.replace(/\\s?i?b/, '');\n\n            for (power = 0; power <= bytes.suffixes.length; power++) {\n                min = Math.pow(bytes.base, power);\n                max = Math.pow(bytes.base, power + 1);\n\n                if (value === null || value === 0 || value >= min && value < max) {\n                    suffix += bytes.suffixes[power];\n\n                    if (min > 0) {\n                        value = value / min;\n                    }\n\n                    break;\n                }\n            }\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + suffix;\n        },\n        unformat: function(string) {\n            var value = numeral._.stringToNumber(string),\n                power,\n                bytesMultiplier;\n\n            if (value) {\n                for (power = decimal.suffixes.length - 1; power >= 0; power--) {\n                    if (numeral._.includes(string, decimal.suffixes[power])) {\n                        bytesMultiplier = Math.pow(decimal.base, power);\n\n                        break;\n                    }\n\n                    if (numeral._.includes(string, binary.suffixes[power])) {\n                        bytesMultiplier = Math.pow(binary.base, power);\n\n                        break;\n                    }\n                }\n\n                value *= (bytesMultiplier || 1);\n            }\n\n            return value;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'currency', {\n        regexps: {\n            format: /(\\$)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                symbols = {\n                    before: format.match(/^([\\+|\\-|\\(|\\s|\\$]*)/)[0],\n                    after: format.match(/([\\+|\\-|\\)|\\s|\\$]*)$/)[0]\n                },\n                output,\n                symbol,\n                i;\n\n            // strip format of spaces and $\n            format = format.replace(/\\s?\\$\\s?/, '');\n\n            // format the number\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            // update the before and after based on value\n            if (value >= 0) {\n                symbols.before = symbols.before.replace(/[\\-\\(]/, '');\n                symbols.after = symbols.after.replace(/[\\-\\)]/, '');\n            } else if (value < 0 && (!numeral._.includes(symbols.before, '-') && !numeral._.includes(symbols.before, '('))) {\n                symbols.before = '-' + symbols.before;\n            }\n\n            // loop through each before symbol\n            for (i = 0; i < symbols.before.length; i++) {\n                symbol = symbols.before[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = numeral._.insert(output, locale.currency.symbol, i);\n                        break;\n                    case ' ':\n                        output = numeral._.insert(output, ' ', i + locale.currency.symbol.length - 1);\n                        break;\n                }\n            }\n\n            // loop through each after symbol\n            for (i = symbols.after.length - 1; i >= 0; i--) {\n                symbol = symbols.after[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = i === symbols.after.length - 1 ? output + locale.currency.symbol : numeral._.insert(output, locale.currency.symbol, -(symbols.after.length - (1 + i)));\n                        break;\n                    case ' ':\n                        output = i === symbols.after.length - 1 ? output + ' ' : numeral._.insert(output, ' ', -(symbols.after.length - (1 + i) + locale.currency.symbol.length - 1));\n                        break;\n                }\n            }\n\n\n            return output;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'exponential', {\n        regexps: {\n            format: /(e\\+|e-)/,\n            unformat: /(e\\+|e-)/\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                exponential = typeof value === 'number' && !numeral._.isNaN(value) ? value.toExponential() : '0e+0',\n                parts = exponential.split('e');\n\n            format = format.replace(/e[\\+|\\-]{1}0/, '');\n\n            output = numeral._.numberToFormat(Number(parts[0]), format, roundingFunction);\n\n            return output + 'e' + parts[1];\n        },\n        unformat: function(string) {\n            var parts = numeral._.includes(string, 'e+') ? string.split('e+') : string.split('e-'),\n                value = Number(parts[0]),\n                power = Number(parts[1]);\n\n            power = numeral._.includes(string, 'e-') ? power *= -1 : power;\n\n            function cback(accum, curr, currI, O) {\n                var corrFactor = numeral._.correctionFactor(accum, curr),\n                    num = (accum * corrFactor) * (curr * corrFactor) / (corrFactor * corrFactor);\n                return num;\n            }\n\n            return numeral._.reduce([value, Math.pow(10, power)], cback, 1);\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'ordinal', {\n        regexps: {\n            format: /(o)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                output,\n                ordinal = numeral._.includes(format, ' o') ? ' ' : '';\n\n            // check for space before\n            format = format.replace(/\\s?o/, '');\n\n            ordinal += locale.ordinal(value);\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + ordinal;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'percentage', {\n        regexps: {\n            format: /(%)/,\n            unformat: /(%)/\n        },\n        format: function(value, format, roundingFunction) {\n            var space = numeral._.includes(format, ' %') ? ' ' : '',\n                output;\n\n            if (numeral.options.scalePercentBy100) {\n                value = value * 100;\n            }\n\n            // check for space before %\n            format = format.replace(/\\s?\\%/, '');\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            if (numeral._.includes(output, ')')) {\n                output = output.split('');\n\n                output.splice(-1, 0, space + '%');\n\n                output = output.join('');\n            } else {\n                output = output + space + '%';\n            }\n\n            return output;\n        },\n        unformat: function(string) {\n            var number = numeral._.stringToNumber(string);\n            if (numeral.options.scalePercentBy100) {\n                return number * 0.01;\n            }\n            return number;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'time', {\n        regexps: {\n            format: /(:)/,\n            unformat: /(:)/\n        },\n        format: function(value, format, roundingFunction) {\n            var hours = Math.floor(value / 60 / 60),\n                minutes = Math.floor((value - (hours * 60 * 60)) / 60),\n                seconds = Math.round(value - (hours * 60 * 60) - (minutes * 60));\n\n            return hours + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\n        },\n        unformat: function(string) {\n            var timeArray = string.split(':'),\n                seconds = 0;\n\n            // turn hours and minutes into seconds and add them all up\n            if (timeArray.length === 3) {\n                // hours\n                seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n                // minutes\n                seconds = seconds + (Number(timeArray[1]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[2]);\n            } else if (timeArray.length === 2) {\n                // minutes\n                seconds = seconds + (Number(timeArray[0]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[1]);\n            }\n            return Number(seconds);\n        }\n    });\n})();\n\nreturn numeral;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvbnVtZXJhbC9udW1lcmFsLmpzPzY1OTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBwcmVzZXJ2ZVxuICogbnVtZXJhbC5qc1xuICogdmVyc2lvbiA6IDIuMC42XG4gKiBhdXRob3IgOiBBZGFtIERyYXBlclxuICogbGljZW5zZSA6IE1JVFxuICogaHR0cDovL2FkYW13ZHJhcGVyLmdpdGh1Yi5jb20vTnVtZXJhbC1qcy9cbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsLm51bWVyYWwgPSBmYWN0b3J5KCk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBWYXJpYWJsZXNcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICB2YXIgbnVtZXJhbCxcbiAgICAgICAgXyxcbiAgICAgICAgVkVSU0lPTiA9ICcyLjAuNicsXG4gICAgICAgIGZvcm1hdHMgPSB7fSxcbiAgICAgICAgbG9jYWxlcyA9IHt9LFxuICAgICAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhbGU6ICdlbicsXG4gICAgICAgICAgICB6ZXJvRm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgbnVsbEZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRGb3JtYXQ6ICcwLDAnLFxuICAgICAgICAgICAgc2NhbGVQZXJjZW50QnkxMDA6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhbGU6IGRlZmF1bHRzLmN1cnJlbnRMb2NhbGUsXG4gICAgICAgICAgICB6ZXJvRm9ybWF0OiBkZWZhdWx0cy56ZXJvRm9ybWF0LFxuICAgICAgICAgICAgbnVsbEZvcm1hdDogZGVmYXVsdHMubnVsbEZvcm1hdCxcbiAgICAgICAgICAgIGRlZmF1bHRGb3JtYXQ6IGRlZmF1bHRzLmRlZmF1bHRGb3JtYXQsXG4gICAgICAgICAgICBzY2FsZVBlcmNlbnRCeTEwMDogZGVmYXVsdHMuc2NhbGVQZXJjZW50QnkxMDBcbiAgICAgICAgfTtcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBDb25zdHJ1Y3RvcnNcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAvLyBOdW1lcmFsIHByb3RvdHlwZSBvYmplY3RcbiAgICBmdW5jdGlvbiBOdW1lcmFsKGlucHV0LCBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICB0aGlzLl92YWx1ZSA9IG51bWJlcjtcbiAgICB9XG5cbiAgICBudW1lcmFsID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHZhbHVlLFxuICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgIHVuZm9ybWF0RnVuY3Rpb24sXG4gICAgICAgICAgICByZWdleHA7XG5cbiAgICAgICAgaWYgKG51bWVyYWwuaXNOdW1lcmFsKGlucHV0KSkge1xuICAgICAgICAgICAgdmFsdWUgPSBpbnB1dC52YWx1ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09PSAwIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gbnVsbCB8fCBfLmlzTmFOKGlucHV0KSkge1xuICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnplcm9Gb3JtYXQgJiYgaW5wdXQgPT09IG9wdGlvbnMuemVyb0Zvcm1hdCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5udWxsRm9ybWF0ICYmIGlucHV0ID09PSBvcHRpb25zLm51bGxGb3JtYXQgfHwgIWlucHV0LnJlcGxhY2UoL1teMC05XSsvZywgJycpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChraW5kIGluIGZvcm1hdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXhwID0gdHlwZW9mIGZvcm1hdHNba2luZF0ucmVnZXhwcy51bmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJyA/IGZvcm1hdHNba2luZF0ucmVnZXhwcy51bmZvcm1hdCgpIDogZm9ybWF0c1traW5kXS5yZWdleHBzLnVuZm9ybWF0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWdleHAgJiYgaW5wdXQubWF0Y2gocmVnZXhwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb3JtYXRGdW5jdGlvbiA9IGZvcm1hdHNba2luZF0udW5mb3JtYXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdW5mb3JtYXRGdW5jdGlvbiA9IHVuZm9ybWF0RnVuY3Rpb24gfHwgbnVtZXJhbC5fLnN0cmluZ1RvTnVtYmVyO1xuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmZvcm1hdEZ1bmN0aW9uKGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gTnVtYmVyKGlucHV0KXx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IE51bWVyYWwoaW5wdXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLy8gdmVyc2lvbiBudW1iZXJcbiAgICBudW1lcmFsLnZlcnNpb24gPSBWRVJTSU9OO1xuXG4gICAgLy8gY29tcGFyZSBudW1lcmFsIG9iamVjdFxuICAgIG51bWVyYWwuaXNOdW1lcmFsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBOdW1lcmFsO1xuICAgIH07XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb25zXG4gICAgbnVtZXJhbC5fID0gXyA9IHtcbiAgICAgICAgLy8gZm9ybWF0cyBudW1iZXJzIHNlcGFyYXRvcnMsIGRlY2ltYWxzIHBsYWNlcywgc2lnbnMsIGFiYnJldmlhdGlvbnNcbiAgICAgICAgbnVtYmVyVG9Gb3JtYXQ6IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBsb2NhbGUgPSBsb2NhbGVzW251bWVyYWwub3B0aW9ucy5jdXJyZW50TG9jYWxlXSxcbiAgICAgICAgICAgICAgICBuZWdQID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgb3B0RGVjID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgbGVhZGluZ0NvdW50ID0gMCxcbiAgICAgICAgICAgICAgICBhYmJyID0gJycsXG4gICAgICAgICAgICAgICAgdHJpbGxpb24gPSAxMDAwMDAwMDAwMDAwLFxuICAgICAgICAgICAgICAgIGJpbGxpb24gPSAxMDAwMDAwMDAwLFxuICAgICAgICAgICAgICAgIG1pbGxpb24gPSAxMDAwMDAwLFxuICAgICAgICAgICAgICAgIHRob3VzYW5kID0gMTAwMCxcbiAgICAgICAgICAgICAgICBkZWNpbWFsID0gJycsXG4gICAgICAgICAgICAgICAgbmVnID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgYWJickZvcmNlLCAvLyBmb3JjZSBhYmJyZXZpYXRpb25cbiAgICAgICAgICAgICAgICBhYnMsXG4gICAgICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgICAgIG1heCxcbiAgICAgICAgICAgICAgICBwb3dlcixcbiAgICAgICAgICAgICAgICBpbnQsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uLFxuICAgICAgICAgICAgICAgIHNpZ25lZCxcbiAgICAgICAgICAgICAgICB0aG91c2FuZHMsXG4gICAgICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgbmV2ZXIgZm9ybWF0IGEgbnVsbCB2YWx1ZVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSB8fCAwO1xuXG4gICAgICAgICAgICBhYnMgPSBNYXRoLmFicyh2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIHNlZSBpZiB3ZSBzaG91bGQgdXNlIHBhcmVudGhlc2VzIGZvciBuZWdhdGl2ZSBudW1iZXIgb3IgaWYgd2Ugc2hvdWxkIHByZWZpeCB3aXRoIGEgc2lnblxuICAgICAgICAgICAgLy8gaWYgYm90aCBhcmUgcHJlc2VudCB3ZSBkZWZhdWx0IHRvIHBhcmVudGhlc2VzXG4gICAgICAgICAgICBpZiAobnVtZXJhbC5fLmluY2x1ZGVzKGZvcm1hdCwgJygnKSkge1xuICAgICAgICAgICAgICAgIG5lZ1AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC9bXFwofFxcKV0vZywgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChudW1lcmFsLl8uaW5jbHVkZXMoZm9ybWF0LCAnKycpIHx8IG51bWVyYWwuXy5pbmNsdWRlcyhmb3JtYXQsICctJykpIHtcbiAgICAgICAgICAgICAgICBzaWduZWQgPSBudW1lcmFsLl8uaW5jbHVkZXMoZm9ybWF0LCAnKycpID8gZm9ybWF0LmluZGV4T2YoJysnKSA6IHZhbHVlIDwgMCA/IGZvcm1hdC5pbmRleE9mKCctJykgOiAtMTtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgvW1xcK3xcXC1dL2csICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2VlIGlmIGFiYnJldmlhdGlvbiBpcyB3YW50ZWRcbiAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMoZm9ybWF0LCAnYScpKSB7XG4gICAgICAgICAgICAgICAgYWJickZvcmNlID0gZm9ybWF0Lm1hdGNoKC9hKGt8bXxifHQpPy8pO1xuXG4gICAgICAgICAgICAgICAgYWJickZvcmNlID0gYWJickZvcmNlID8gYWJickZvcmNlWzFdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3Igc3BhY2UgYmVmb3JlIGFiYnJldmlhdGlvblxuICAgICAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMoZm9ybWF0LCAnIGEnKSkge1xuICAgICAgICAgICAgICAgICAgICBhYmJyID0gJyAnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKG5ldyBSZWdFeHAoYWJiciArICdhW2ttYnRdPycpLCAnJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWJzID49IHRyaWxsaW9uICYmICFhYmJyRm9yY2UgfHwgYWJickZvcmNlID09PSAndCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJpbGxpb25cbiAgICAgICAgICAgICAgICAgICAgYWJiciArPSBsb2NhbGUuYWJicmV2aWF0aW9ucy50cmlsbGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAvIHRyaWxsaW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWJzIDwgdHJpbGxpb24gJiYgYWJzID49IGJpbGxpb24gJiYgIWFiYnJGb3JjZSB8fCBhYmJyRm9yY2UgPT09ICdiJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBiaWxsaW9uXG4gICAgICAgICAgICAgICAgICAgIGFiYnIgKz0gbG9jYWxlLmFiYnJldmlhdGlvbnMuYmlsbGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAvIGJpbGxpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhYnMgPCBiaWxsaW9uICYmIGFicyA+PSBtaWxsaW9uICYmICFhYmJyRm9yY2UgfHwgYWJickZvcmNlID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWlsbGlvblxuICAgICAgICAgICAgICAgICAgICBhYmJyICs9IGxvY2FsZS5hYmJyZXZpYXRpb25zLm1pbGxpb247XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgLyBtaWxsaW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWJzIDwgbWlsbGlvbiAmJiBhYnMgPj0gdGhvdXNhbmQgJiYgIWFiYnJGb3JjZSB8fCBhYmJyRm9yY2UgPT09ICdrJykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aG91c2FuZFxuICAgICAgICAgICAgICAgICAgICBhYmJyICs9IGxvY2FsZS5hYmJyZXZpYXRpb25zLnRob3VzYW5kO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIC8gdGhvdXNhbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBmb3Igb3B0aW9uYWwgZGVjaW1hbHNcbiAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMoZm9ybWF0LCAnWy5dJykpIHtcbiAgICAgICAgICAgICAgICBvcHREZWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKCdbLl0nLCAnLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBicmVhayBudW1iZXIgYW5kIGZvcm1hdFxuICAgICAgICAgICAgaW50ID0gdmFsdWUudG9TdHJpbmcoKS5zcGxpdCgnLicpWzBdO1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gZm9ybWF0LnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICB0aG91c2FuZHMgPSBmb3JtYXQuaW5kZXhPZignLCcpO1xuICAgICAgICAgICAgbGVhZGluZ0NvdW50ID0gKGZvcm1hdC5zcGxpdCgnLicpWzBdLnNwbGl0KCcsJylbMF0ubWF0Y2goLzAvZykgfHwgW10pLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMocHJlY2lzaW9uLCAnWycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbi5yZXBsYWNlKCddJywgJycpO1xuICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24uc3BsaXQoJ1snKTtcbiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCA9IG51bWVyYWwuXy50b0ZpeGVkKHZhbHVlLCAocHJlY2lzaW9uWzBdLmxlbmd0aCArIHByZWNpc2lvblsxXS5sZW5ndGgpLCByb3VuZGluZ0Z1bmN0aW9uLCBwcmVjaXNpb25bMV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsID0gbnVtZXJhbC5fLnRvRml4ZWQodmFsdWUsIHByZWNpc2lvbi5sZW5ndGgsIHJvdW5kaW5nRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGludCA9IGRlY2ltYWwuc3BsaXQoJy4nKVswXTtcblxuICAgICAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMoZGVjaW1hbCwgJy4nKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsID0gbG9jYWxlLmRlbGltaXRlcnMuZGVjaW1hbCArIGRlY2ltYWwuc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdERlYyAmJiBOdW1iZXIoZGVjaW1hbC5zbGljZSgxKSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW50ID0gbnVtZXJhbC5fLnRvRml4ZWQodmFsdWUsIDAsIHJvdW5kaW5nRnVuY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBhYmJyZXZpYXRpb24gYWdhaW4gYWZ0ZXIgcm91bmRpbmdcbiAgICAgICAgICAgIGlmIChhYmJyICYmICFhYmJyRm9yY2UgJiYgTnVtYmVyKGludCkgPj0gMTAwMCAmJiBhYmJyICE9PSBsb2NhbGUuYWJicmV2aWF0aW9ucy50cmlsbGlvbikge1xuICAgICAgICAgICAgICAgIGludCA9IFN0cmluZyhOdW1iZXIoaW50KSAvIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhYmJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbG9jYWxlLmFiYnJldmlhdGlvbnMudGhvdXNhbmQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhYmJyID0gbG9jYWxlLmFiYnJldmlhdGlvbnMubWlsbGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGxvY2FsZS5hYmJyZXZpYXRpb25zLm1pbGxpb246XG4gICAgICAgICAgICAgICAgICAgICAgICBhYmJyID0gbG9jYWxlLmFiYnJldmlhdGlvbnMuYmlsbGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGxvY2FsZS5hYmJyZXZpYXRpb25zLmJpbGxpb246XG4gICAgICAgICAgICAgICAgICAgICAgICBhYmJyID0gbG9jYWxlLmFiYnJldmlhdGlvbnMudHJpbGxpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gZm9ybWF0IG51bWJlclxuICAgICAgICAgICAgaWYgKG51bWVyYWwuXy5pbmNsdWRlcyhpbnQsICctJykpIHtcbiAgICAgICAgICAgICAgICBpbnQgPSBpbnQuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgbmVnID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGludC5sZW5ndGggPCBsZWFkaW5nQ291bnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbGVhZGluZ0NvdW50IC0gaW50Lmxlbmd0aDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBpbnQgPSAnMCcgKyBpbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhvdXNhbmRzID4gLTEpIHtcbiAgICAgICAgICAgICAgICBpbnQgPSBpbnQudG9TdHJpbmcoKS5yZXBsYWNlKC8oXFxkKSg/PShcXGR7M30pKyg/IVxcZCkpL2csICckMScgKyBsb2NhbGUuZGVsaW1pdGVycy50aG91c2FuZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm9ybWF0LmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGludCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXQgPSBpbnQgKyBkZWNpbWFsICsgKGFiYnIgPyBhYmJyIDogJycpO1xuXG4gICAgICAgICAgICBpZiAobmVnUCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IChuZWdQICYmIG5lZyA/ICcoJyA6ICcnKSArIG91dHB1dCArIChuZWdQICYmIG5lZyA/ICcpJyA6ICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25lZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHNpZ25lZCA9PT0gMCA/IChuZWcgPyAnLScgOiAnKycpICsgb3V0cHV0IDogb3V0cHV0ICsgKG5lZyA/ICctJyA6ICcrJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gJy0nICsgb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdW5mb3JtYXRzIG51bWJlcnMgc2VwYXJhdG9ycywgZGVjaW1hbHMgcGxhY2VzLCBzaWducywgYWJicmV2aWF0aW9uc1xuICAgICAgICBzdHJpbmdUb051bWJlcjogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlID0gbG9jYWxlc1tvcHRpb25zLmN1cnJlbnRMb2NhbGVdLFxuICAgICAgICAgICAgICAgIHN0cmluZ09yaWdpbmFsID0gc3RyaW5nLFxuICAgICAgICAgICAgICAgIGFiYnJldmlhdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRob3VzYW5kOiAzLFxuICAgICAgICAgICAgICAgICAgICBtaWxsaW9uOiA2LFxuICAgICAgICAgICAgICAgICAgICBiaWxsaW9uOiA5LFxuICAgICAgICAgICAgICAgICAgICB0cmlsbGlvbjogMTJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFiYnJldmlhdGlvbixcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIHJlZ2V4cDtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuemVyb0Zvcm1hdCAmJiBzdHJpbmcgPT09IG9wdGlvbnMuemVyb0Zvcm1hdCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5udWxsRm9ybWF0ICYmIHN0cmluZyA9PT0gb3B0aW9ucy5udWxsRm9ybWF0IHx8ICFzdHJpbmcucmVwbGFjZSgvW14wLTldKy9nLCAnJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlLmRlbGltaXRlcnMuZGVjaW1hbCAhPT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXC4vZywgJycpLnJlcGxhY2UobG9jYWxlLmRlbGltaXRlcnMuZGVjaW1hbCwgJy4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGFiYnJldmlhdGlvbiBpbiBhYmJyZXZpYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ1teYS16QS1aXScgKyBsb2NhbGUuYWJicmV2aWF0aW9uc1thYmJyZXZpYXRpb25dICsgJyg/OlxcXFwpfChcXFxcJyArIGxvY2FsZS5jdXJyZW5jeS5zeW1ib2wgKyAnKT8oPzpcXFxcKSk/KT8kJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ09yaWdpbmFsLm1hdGNoKHJlZ2V4cCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICo9IE1hdGgucG93KDEwLCBhYmJyZXZpYXRpb25zW2FiYnJldmlhdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgbmVnYXRpdmUgbnVtYmVyXG4gICAgICAgICAgICAgICAgdmFsdWUgKj0gKHN0cmluZy5zcGxpdCgnLScpLmxlbmd0aCArIE1hdGgubWluKHN0cmluZy5zcGxpdCgnKCcpLmxlbmd0aCAtIDEsIHN0cmluZy5zcGxpdCgnKScpLmxlbmd0aCAtIDEpKSAlIDIgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgbm9uIG51bWJlcnNcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvW14wLTlcXC5dKy9nLCAnJyk7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSAqPSBOdW1iZXIoc3RyaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBpc05hTjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHN0cmluZywgc2VhcmNoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTE7XG4gICAgICAgIH0sXG4gICAgICAgIGluc2VydDogZnVuY3Rpb24oc3RyaW5nLCBzdWJTdHJpbmcsIHN0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHN1YlN0cmluZyArIHN0cmluZy5zbGljZShzdGFydCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZHVjZTogZnVuY3Rpb24oYXJyYXksIGNhbGxiYWNrIC8qLCBpbml0aWFsVmFsdWUqLykge1xuICAgICAgICAgICAgaWYgKHRoaXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUucmVkdWNlIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHQgPSBPYmplY3QoYXJyYXkpLFxuICAgICAgICAgICAgICAgIGxlbiA9IHQubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgICAgIGsgPSAwLFxuICAgICAgICAgICAgICAgIHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoayA8IGxlbiAmJiAhKGsgaW4gdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChrID49IGxlbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0W2srK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGsgaW4gdCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlLCB0W2tdLCBrLCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wdXRlcyB0aGUgbXVsdGlwbGllciBuZWNlc3NhcnkgdG8gbWFrZSB4ID49IDEsXG4gICAgICAgICAqIGVmZmVjdGl2ZWx5IGVsaW1pbmF0aW5nIG1pc2NhbGN1bGF0aW9ucyBjYXVzZWQgYnlcbiAgICAgICAgICogZmluaXRlIHByZWNpc2lvbi5cbiAgICAgICAgICovXG4gICAgICAgIG11bHRpcGxpZXI6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSB4LnRvU3RyaW5nKCkuc3BsaXQoJy4nKTtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA8IDIgPyAxIDogTWF0aC5wb3coMTAsIHBhcnRzWzFdLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHaXZlbiBhIHZhcmlhYmxlIG51bWJlciBvZiBhcmd1bWVudHMsIHJldHVybnMgdGhlIG1heGltdW1cbiAgICAgICAgICogbXVsdGlwbGllciB0aGF0IG11c3QgYmUgdXNlZCB0byBub3JtYWxpemUgYW4gb3BlcmF0aW9uIGludm9sdmluZ1xuICAgICAgICAgKiBhbGwgb2YgdGhlbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvcnJlY3Rpb25GYWN0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uKGFjY3VtLCBuZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1uID0gXy5tdWx0aXBsaWVyKG5leHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bSA+IG1uID8gYWNjdW0gOiBtbjtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50YXRpb24gb2YgdG9GaXhlZCgpIHRoYXQgdHJlYXRzIGZsb2F0cyBtb3JlIGxpa2UgZGVjaW1hbHNcbiAgICAgICAgICpcbiAgICAgICAgICogRml4ZXMgYmluYXJ5IHJvdW5kaW5nIGlzc3VlcyAoZWcuICgwLjYxNSkudG9GaXhlZCgyKSA9PT0gJzAuNjEnKSB0aGF0IHByZXNlbnRcbiAgICAgICAgICogcHJvYmxlbXMgZm9yIGFjY291bnRpbmctIGFuZCBmaW5hbmNlLXJlbGF0ZWQgc29mdHdhcmUuXG4gICAgICAgICAqL1xuICAgICAgICB0b0ZpeGVkOiBmdW5jdGlvbih2YWx1ZSwgbWF4RGVjaW1hbHMsIHJvdW5kaW5nRnVuY3Rpb24sIG9wdGlvbmFscykge1xuICAgICAgICAgICAgdmFyIHNwbGl0VmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgbWluRGVjaW1hbHMgPSBtYXhEZWNpbWFscyAtIChvcHRpb25hbHMgfHwgMCksXG4gICAgICAgICAgICAgICAgYm91bmRlZFByZWNpc2lvbixcbiAgICAgICAgICAgICAgICBvcHRpb25hbHNSZWdFeHAsXG4gICAgICAgICAgICAgICAgcG93ZXIsXG4gICAgICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNtYWxsZXN0IHByZWNpc2lvbiB2YWx1ZSBwb3NzaWJsZSB0byBhdm9pZCBlcnJvcnMgZnJvbSBmbG9hdGluZyBwb2ludCByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgaWYgKHNwbGl0VmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIGJvdW5kZWRQcmVjaXNpb24gPSBNYXRoLm1pbihNYXRoLm1heChzcGxpdFZhbHVlWzFdLmxlbmd0aCwgbWluRGVjaW1hbHMpLCBtYXhEZWNpbWFscyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBib3VuZGVkUHJlY2lzaW9uID0gbWluRGVjaW1hbHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvd2VyID0gTWF0aC5wb3coMTAsIGJvdW5kZWRQcmVjaXNpb24pO1xuXG4gICAgICAgICAgICAvLyBNdWx0aXBseSB1cCBieSBwcmVjaXNpb24sIHJvdW5kIGFjY3VyYXRlbHksIHRoZW4gZGl2aWRlIGFuZCB1c2UgbmF0aXZlIHRvRml4ZWQoKTpcbiAgICAgICAgICAgIG91dHB1dCA9IChyb3VuZGluZ0Z1bmN0aW9uKHZhbHVlICsgJ2UrJyArIGJvdW5kZWRQcmVjaXNpb24pIC8gcG93ZXIpLnRvRml4ZWQoYm91bmRlZFByZWNpc2lvbik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25hbHMgPiBtYXhEZWNpbWFscyAtIGJvdW5kZWRQcmVjaXNpb24pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25hbHNSZWdFeHAgPSBuZXcgUmVnRXhwKCdcXFxcLj8wezEsJyArIChvcHRpb25hbHMgLSAobWF4RGVjaW1hbHMgLSBib3VuZGVkUHJlY2lzaW9uKSkgKyAnfSQnKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZShvcHRpb25hbHNSZWdFeHAsICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBhdmFsaWFibGUgb3B0aW9uc1xuICAgIG51bWVyYWwub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvLyBhdmFsaWFibGUgZm9ybWF0c1xuICAgIG51bWVyYWwuZm9ybWF0cyA9IGZvcm1hdHM7XG5cbiAgICAvLyBhdmFsaWFibGUgZm9ybWF0c1xuICAgIG51bWVyYWwubG9jYWxlcyA9IGxvY2FsZXM7XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHNldHMgdGhlIGN1cnJlbnQgbG9jYWxlLiAgSWZcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuICAgIC8vIGxvY2FsZSBrZXkuXG4gICAgbnVtZXJhbC5sb2NhbGUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgb3B0aW9ucy5jdXJyZW50TG9jYWxlID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucy5jdXJyZW50TG9jYWxlO1xuICAgIH07XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgbG9hZGVkIGxvY2FsZSBkYXRhLiAgSWZcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50XG4gICAgLy8gZ2xvYmFsIGxvY2FsZSBvYmplY3QuXG4gICAgbnVtZXJhbC5sb2NhbGVEYXRhID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlc1tvcHRpb25zLmN1cnJlbnRMb2NhbGVdO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKCFsb2NhbGVzW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBsb2NhbGUgOiAnICsga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2NhbGVzW2tleV07XG4gICAgfTtcblxuICAgIG51bWVyYWwucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbcHJvcGVydHldID0gZGVmYXVsdHNbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIG51bWVyYWwuemVyb0Zvcm1hdCA9IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICBvcHRpb25zLnplcm9Gb3JtYXQgPSB0eXBlb2YoZm9ybWF0KSA9PT0gJ3N0cmluZycgPyBmb3JtYXQgOiBudWxsO1xuICAgIH07XG5cbiAgICBudW1lcmFsLm51bGxGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIG9wdGlvbnMubnVsbEZvcm1hdCA9IHR5cGVvZihmb3JtYXQpID09PSAnc3RyaW5nJyA/IGZvcm1hdCA6IG51bGw7XG4gICAgfTtcblxuICAgIG51bWVyYWwuZGVmYXVsdEZvcm1hdCA9IGZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHRGb3JtYXQgPSB0eXBlb2YoZm9ybWF0KSA9PT0gJ3N0cmluZycgPyBmb3JtYXQgOiAnMC4wJztcbiAgICB9O1xuXG4gICAgbnVtZXJhbC5yZWdpc3RlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIGZvcm1hdCkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmICh0aGlzW3R5cGUgKyAncyddW25hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG5hbWUgKyAnICcgKyB0eXBlICsgJyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW3R5cGUgKyAncyddW25hbWVdID0gZm9ybWF0O1xuXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfTtcblxuXG4gICAgbnVtZXJhbC52YWxpZGF0ZSA9IGZ1bmN0aW9uKHZhbCwgY3VsdHVyZSkge1xuICAgICAgICB2YXIgX2RlY2ltYWxTZXAsXG4gICAgICAgICAgICBfdGhvdXNhbmRTZXAsXG4gICAgICAgICAgICBfY3VyclN5bWJvbCxcbiAgICAgICAgICAgIF92YWxBcnJheSxcbiAgICAgICAgICAgIF9hYmJyT2JqLFxuICAgICAgICAgICAgX3Rob3VzYW5kUmVnRXgsXG4gICAgICAgICAgICBsb2NhbGVEYXRhLFxuICAgICAgICAgICAgdGVtcDtcblxuICAgICAgICAvL2NvZXJjZSB2YWwgdG8gc3RyaW5nXG4gICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsICs9ICcnO1xuXG4gICAgICAgICAgICBpZiAoY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdOdW1lcmFsLmpzOiBWYWx1ZSBpcyBub3Qgc3RyaW5nLiBJdCBoYXMgYmVlbiBjby1lcmNlZCB0bzogJywgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vdHJpbSB3aGl0ZXNwYWNlcyBmcm9tIGVpdGhlciBzaWRlc1xuICAgICAgICB2YWwgPSB2YWwudHJpbSgpO1xuXG4gICAgICAgIC8vaWYgdmFsIGlzIGp1c3QgZGlnaXRzIHJldHVybiB0cnVlXG4gICAgICAgIGlmICghIXZhbC5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB2YWwgaXMgZW1wdHkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmICh2YWwgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvL2dldCB0aGUgZGVjaW1hbCBhbmQgdGhvdXNhbmRzIHNlcGFyYXRvciBmcm9tIG51bWVyYWwubG9jYWxlRGF0YVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy9jaGVjayBpZiB0aGUgY3VsdHVyZSBpcyB1bmRlcnN0b29kIGJ5IG51bWVyYWwuIGlmIG5vdCwgZGVmYXVsdCBpdCB0byBjdXJyZW50IGxvY2FsZVxuICAgICAgICAgICAgbG9jYWxlRGF0YSA9IG51bWVyYWwubG9jYWxlRGF0YShjdWx0dXJlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9jYWxlRGF0YSA9IG51bWVyYWwubG9jYWxlRGF0YShudW1lcmFsLmxvY2FsZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2V0dXAgdGhlIGRlbGltaXRlcnMgYW5kIGN1cnJlbmN5IHN5bWJvbCBiYXNlZCBvbiBjdWx0dXJlL2xvY2FsZVxuICAgICAgICBfY3VyclN5bWJvbCA9IGxvY2FsZURhdGEuY3VycmVuY3kuc3ltYm9sO1xuICAgICAgICBfYWJick9iaiA9IGxvY2FsZURhdGEuYWJicmV2aWF0aW9ucztcbiAgICAgICAgX2RlY2ltYWxTZXAgPSBsb2NhbGVEYXRhLmRlbGltaXRlcnMuZGVjaW1hbDtcbiAgICAgICAgaWYgKGxvY2FsZURhdGEuZGVsaW1pdGVycy50aG91c2FuZHMgPT09ICcuJykge1xuICAgICAgICAgICAgX3Rob3VzYW5kU2VwID0gJ1xcXFwuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aG91c2FuZFNlcCA9IGxvY2FsZURhdGEuZGVsaW1pdGVycy50aG91c2FuZHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZGF0aW5nIGN1cnJlbmN5IHN5bWJvbFxuICAgICAgICB0ZW1wID0gdmFsLm1hdGNoKC9eW15cXGRdKy8pO1xuICAgICAgICBpZiAodGVtcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsID0gdmFsLnN1YnN0cigxKTtcbiAgICAgICAgICAgIGlmICh0ZW1wWzBdICE9PSBfY3VyclN5bWJvbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vdmFsaWRhdGluZyBhYmJyZXZpYXRpb24gc3ltYm9sXG4gICAgICAgIHRlbXAgPSB2YWwubWF0Y2goL1teXFxkXSskLyk7XG4gICAgICAgIGlmICh0ZW1wICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YWwgPSB2YWwuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgaWYgKHRlbXBbMF0gIT09IF9hYmJyT2JqLnRob3VzYW5kICYmIHRlbXBbMF0gIT09IF9hYmJyT2JqLm1pbGxpb24gJiYgdGVtcFswXSAhPT0gX2FiYnJPYmouYmlsbGlvbiAmJiB0ZW1wWzBdICE9PSBfYWJick9iai50cmlsbGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aG91c2FuZFJlZ0V4ID0gbmV3IFJlZ0V4cChfdGhvdXNhbmRTZXAgKyAnezJ9Jyk7XG5cbiAgICAgICAgaWYgKCF2YWwubWF0Y2goL1teXFxkLixdL2cpKSB7XG4gICAgICAgICAgICBfdmFsQXJyYXkgPSB2YWwuc3BsaXQoX2RlY2ltYWxTZXApO1xuICAgICAgICAgICAgaWYgKF92YWxBcnJheS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoX3ZhbEFycmF5Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICggISEgX3ZhbEFycmF5WzBdLm1hdGNoKC9eXFxkKy4qXFxkJC8pICYmICFfdmFsQXJyYXlbMF0ubWF0Y2goX3Rob3VzYW5kUmVnRXgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3ZhbEFycmF5WzBdLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICggISEgX3ZhbEFycmF5WzBdLm1hdGNoKC9eXFxkKyQvKSAmJiAhX3ZhbEFycmF5WzBdLm1hdGNoKF90aG91c2FuZFJlZ0V4KSAmJiAhISBfdmFsQXJyYXlbMV0ubWF0Y2goL15cXGQrJC8pKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoICEhIF92YWxBcnJheVswXS5tYXRjaCgvXlxcZCsuKlxcZCQvKSAmJiAhX3ZhbEFycmF5WzBdLm1hdGNoKF90aG91c2FuZFJlZ0V4KSAmJiAhISBfdmFsQXJyYXlbMV0ubWF0Y2goL15cXGQrJC8pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIE51bWVyYWwgUHJvdG90eXBlXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgbnVtZXJhbC5mbiA9IE51bWVyYWwucHJvdG90eXBlID0ge1xuICAgICAgICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtZXJhbCh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0OiBmdW5jdGlvbihpbnB1dFN0cmluZywgcm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fdmFsdWUsXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gaW5wdXRTdHJpbmcgfHwgb3B0aW9ucy5kZWZhdWx0Rm9ybWF0LFxuICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIGZvcm1hdEZ1bmN0aW9uO1xuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhIHJvdW5kaW5nRnVuY3Rpb25cbiAgICAgICAgICAgIHJvdW5kaW5nRnVuY3Rpb24gPSByb3VuZGluZ0Z1bmN0aW9uIHx8IE1hdGgucm91bmQ7XG5cbiAgICAgICAgICAgIC8vIGZvcm1hdCBiYXNlZCBvbiB2YWx1ZVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwICYmIG9wdGlvbnMuemVyb0Zvcm1hdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IG9wdGlvbnMuemVyb0Zvcm1hdDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwgJiYgb3B0aW9ucy5udWxsRm9ybWF0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3B0aW9ucy5udWxsRm9ybWF0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGtpbmQgaW4gZm9ybWF0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0Lm1hdGNoKGZvcm1hdHNba2luZF0ucmVnZXhwcy5mb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRGdW5jdGlvbiA9IGZvcm1hdHNba2luZF0uZm9ybWF0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvcm1hdEZ1bmN0aW9uID0gZm9ybWF0RnVuY3Rpb24gfHwgbnVtZXJhbC5fLm51bWJlclRvRm9ybWF0O1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gZm9ybWF0RnVuY3Rpb24odmFsdWUsIGZvcm1hdCwgcm91bmRpbmdGdW5jdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBhZGQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY29yckZhY3RvciA9IF8uY29ycmVjdGlvbkZhY3Rvci5jYWxsKG51bGwsIHRoaXMuX3ZhbHVlLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNiYWNrKGFjY3VtLCBjdXJyLCBjdXJySSwgTykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bSArIE1hdGgucm91bmQoY29yckZhY3RvciAqIGN1cnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IF8ucmVkdWNlKFt0aGlzLl92YWx1ZSwgdmFsdWVdLCBjYmFjaywgMCkgLyBjb3JyRmFjdG9yO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgc3VidHJhY3Q6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY29yckZhY3RvciA9IF8uY29ycmVjdGlvbkZhY3Rvci5jYWxsKG51bGwsIHRoaXMuX3ZhbHVlLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNiYWNrKGFjY3VtLCBjdXJyLCBjdXJySSwgTykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bSAtIE1hdGgucm91bmQoY29yckZhY3RvciAqIGN1cnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IF8ucmVkdWNlKFt2YWx1ZV0sIGNiYWNrLCBNYXRoLnJvdW5kKHRoaXMuX3ZhbHVlICogY29yckZhY3RvcikpIC8gY29yckZhY3RvcjtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIG11bHRpcGx5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2JhY2soYWNjdW0sIGN1cnIsIGN1cnJJLCBPKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvcnJGYWN0b3IgPSBfLmNvcnJlY3Rpb25GYWN0b3IoYWNjdW0sIGN1cnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGFjY3VtICogY29yckZhY3RvcikgKiBNYXRoLnJvdW5kKGN1cnIgKiBjb3JyRmFjdG9yKSAvIE1hdGgucm91bmQoY29yckZhY3RvciAqIGNvcnJGYWN0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IF8ucmVkdWNlKFt0aGlzLl92YWx1ZSwgdmFsdWVdLCBjYmFjaywgMSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkaXZpZGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBjYmFjayhhY2N1bSwgY3VyciwgY3VyckksIE8pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29yckZhY3RvciA9IF8uY29ycmVjdGlvbkZhY3RvcihhY2N1bSwgY3Vycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYWNjdW0gKiBjb3JyRmFjdG9yKSAvIE1hdGgucm91bmQoY3VyciAqIGNvcnJGYWN0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IF8ucmVkdWNlKFt0aGlzLl92YWx1ZSwgdmFsdWVdLCBjYmFjayk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBkaWZmZXJlbmNlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKG51bWVyYWwodGhpcy5fdmFsdWUpLnN1YnRyYWN0KHZhbHVlKS52YWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIERlZmF1bHQgTG9jYWxlICYmIEZvcm1hdFxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIG51bWVyYWwucmVnaXN0ZXIoJ2xvY2FsZScsICdlbicsIHtcbiAgICAgICAgZGVsaW1pdGVyczoge1xuICAgICAgICAgICAgdGhvdXNhbmRzOiAnLCcsXG4gICAgICAgICAgICBkZWNpbWFsOiAnLidcbiAgICAgICAgfSxcbiAgICAgICAgYWJicmV2aWF0aW9uczoge1xuICAgICAgICAgICAgdGhvdXNhbmQ6ICdrJyxcbiAgICAgICAgICAgIG1pbGxpb246ICdtJyxcbiAgICAgICAgICAgIGJpbGxpb246ICdiJyxcbiAgICAgICAgICAgIHRyaWxsaW9uOiAndCdcbiAgICAgICAgfSxcbiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwO1xuICAgICAgICAgICAgcmV0dXJuICh+fihudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6XG4gICAgICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG4gICAgICAgICAgICAgICAgKGIgPT09IDIpID8gJ25kJyA6XG4gICAgICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbmN5OiB7XG4gICAgICAgICAgICBzeW1ib2w6ICckJ1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBcblxuKGZ1bmN0aW9uKCkge1xuICAgICAgICBudW1lcmFsLnJlZ2lzdGVyKCdmb3JtYXQnLCAnYnBzJywge1xuICAgICAgICAgICAgcmVnZXhwczoge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogLyhCUFMpLyxcbiAgICAgICAgICAgICAgICB1bmZvcm1hdDogLyhCUFMpL1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24odmFsdWUsIGZvcm1hdCwgcm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZSA9IG51bWVyYWwuXy5pbmNsdWRlcyhmb3JtYXQsICcgQlBTJykgPyAnICcgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIDEwMDAwO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlIGJlZm9yZSBCUFNcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgvXFxzP0JQUy8sICcnKTtcblxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG51bWVyYWwuXy5udW1iZXJUb0Zvcm1hdCh2YWx1ZSwgZm9ybWF0LCByb3VuZGluZ0Z1bmN0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMob3V0cHV0LCAnKScpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5zcGxpdCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnNwbGljZSgtMSwgMCwgc3BhY2UgKyAnQlBTJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArIHNwYWNlICsgJ0JQUyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmZvcm1hdDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICsobnVtZXJhbC5fLnN0cmluZ1RvTnVtYmVyKHN0cmluZykgKiAwLjAwMDEpLnRvRml4ZWQoMTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVjaW1hbCA9IHtcbiAgICAgICAgICAgIGJhc2U6IDEwMDAsXG4gICAgICAgICAgICBzdWZmaXhlczogWydCJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJywgJ0VCJywgJ1pCJywgJ1lCJ11cbiAgICAgICAgfSxcbiAgICAgICAgYmluYXJ5ID0ge1xuICAgICAgICAgICAgYmFzZTogMTAyNCxcbiAgICAgICAgICAgIHN1ZmZpeGVzOiBbJ0InLCAnS2lCJywgJ01pQicsICdHaUInLCAnVGlCJywgJ1BpQicsICdFaUInLCAnWmlCJywgJ1lpQiddXG4gICAgICAgIH07XG5cbiAgICB2YXIgYWxsU3VmZml4ZXMgPSAgZGVjaW1hbC5zdWZmaXhlcy5jb25jYXQoYmluYXJ5LnN1ZmZpeGVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2ltYWwuc3VmZml4ZXMuaW5kZXhPZihpdGVtKSA8IDA7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdmFyIHVuZm9ybWF0UmVnZXggPSBhbGxTdWZmaXhlcy5qb2luKCd8Jyk7XG4gICAgICAgIC8vIEFsbG93IHN1cHBvcnQgZm9yIEJQUyAoaHR0cDovL3d3dy5pbnZlc3RvcGVkaWEuY29tL3Rlcm1zL2IvYmFzaXNwb2ludC5hc3ApXG4gICAgICAgIHVuZm9ybWF0UmVnZXggPSAnKCcgKyB1bmZvcm1hdFJlZ2V4LnJlcGxhY2UoJ0InLCAnQig/IVBTKScpICsgJyknO1xuXG4gICAgbnVtZXJhbC5yZWdpc3RlcignZm9ybWF0JywgJ2J5dGVzJywge1xuICAgICAgICByZWdleHBzOiB7XG4gICAgICAgICAgICBmb3JtYXQ6IC8oWzBcXHNdaT9iKS8sXG4gICAgICAgICAgICB1bmZvcm1hdDogbmV3IFJlZ0V4cCh1bmZvcm1hdFJlZ2V4KVxuICAgICAgICB9LFxuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQsXG4gICAgICAgICAgICAgICAgYnl0ZXMgPSBudW1lcmFsLl8uaW5jbHVkZXMoZm9ybWF0LCAnaWInKSA/IGJpbmFyeSA6IGRlY2ltYWwsXG4gICAgICAgICAgICAgICAgc3VmZml4ID0gbnVtZXJhbC5fLmluY2x1ZGVzKGZvcm1hdCwgJyBiJykgfHwgbnVtZXJhbC5fLmluY2x1ZGVzKGZvcm1hdCwgJyBpYicpID8gJyAnIDogJycsXG4gICAgICAgICAgICAgICAgcG93ZXIsXG4gICAgICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgICAgIG1heDtcblxuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlIGJlZm9yZVxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoL1xccz9pP2IvLCAnJyk7XG5cbiAgICAgICAgICAgIGZvciAocG93ZXIgPSAwOyBwb3dlciA8PSBieXRlcy5zdWZmaXhlcy5sZW5ndGg7IHBvd2VyKyspIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLnBvdyhieXRlcy5iYXNlLCBwb3dlcik7XG4gICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5wb3coYnl0ZXMuYmFzZSwgcG93ZXIgKyAxKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gMCB8fCB2YWx1ZSA+PSBtaW4gJiYgdmFsdWUgPCBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4ICs9IGJ5dGVzLnN1ZmZpeGVzW3Bvd2VyXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobWluID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAvIG1pbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0cHV0ID0gbnVtZXJhbC5fLm51bWJlclRvRm9ybWF0KHZhbHVlLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0ICsgc3VmZml4O1xuICAgICAgICB9LFxuICAgICAgICB1bmZvcm1hdDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBudW1lcmFsLl8uc3RyaW5nVG9OdW1iZXIoc3RyaW5nKSxcbiAgICAgICAgICAgICAgICBwb3dlcixcbiAgICAgICAgICAgICAgICBieXRlc011bHRpcGxpZXI7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvciAocG93ZXIgPSBkZWNpbWFsLnN1ZmZpeGVzLmxlbmd0aCAtIDE7IHBvd2VyID49IDA7IHBvd2VyLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWVyYWwuXy5pbmNsdWRlcyhzdHJpbmcsIGRlY2ltYWwuc3VmZml4ZXNbcG93ZXJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXNNdWx0aXBsaWVyID0gTWF0aC5wb3coZGVjaW1hbC5iYXNlLCBwb3dlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWVyYWwuXy5pbmNsdWRlcyhzdHJpbmcsIGJpbmFyeS5zdWZmaXhlc1twb3dlcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlc011bHRpcGxpZXIgPSBNYXRoLnBvdyhiaW5hcnkuYmFzZSwgcG93ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhbHVlICo9IChieXRlc011bHRpcGxpZXIgfHwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgICAgIG51bWVyYWwucmVnaXN0ZXIoJ2Zvcm1hdCcsICdjdXJyZW5jeScsIHtcbiAgICAgICAgcmVnZXhwczoge1xuICAgICAgICAgICAgZm9ybWF0OiAvKFxcJCkvXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdDogZnVuY3Rpb24odmFsdWUsIGZvcm1hdCwgcm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSA9IG51bWVyYWwubG9jYWxlc1tudW1lcmFsLm9wdGlvbnMuY3VycmVudExvY2FsZV0sXG4gICAgICAgICAgICAgICAgc3ltYm9scyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBmb3JtYXQubWF0Y2goL14oW1xcK3xcXC18XFwofFxcc3xcXCRdKikvKVswXSxcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGZvcm1hdC5tYXRjaCgvKFtcXCt8XFwtfFxcKXxcXHN8XFwkXSopJC8pWzBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgc3ltYm9sLFxuICAgICAgICAgICAgICAgIGk7XG5cbiAgICAgICAgICAgIC8vIHN0cmlwIGZvcm1hdCBvZiBzcGFjZXMgYW5kICRcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC9cXHM/XFwkXFxzPy8sICcnKTtcblxuICAgICAgICAgICAgLy8gZm9ybWF0IHRoZSBudW1iZXJcbiAgICAgICAgICAgIG91dHB1dCA9IG51bWVyYWwuXy5udW1iZXJUb0Zvcm1hdCh2YWx1ZSwgZm9ybWF0LCByb3VuZGluZ0Z1bmN0aW9uKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBiZWZvcmUgYW5kIGFmdGVyIGJhc2VkIG9uIHZhbHVlXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMCkge1xuICAgICAgICAgICAgICAgIHN5bWJvbHMuYmVmb3JlID0gc3ltYm9scy5iZWZvcmUucmVwbGFjZSgvW1xcLVxcKF0vLCAnJyk7XG4gICAgICAgICAgICAgICAgc3ltYm9scy5hZnRlciA9IHN5bWJvbHMuYWZ0ZXIucmVwbGFjZSgvW1xcLVxcKV0vLCAnJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIDwgMCAmJiAoIW51bWVyYWwuXy5pbmNsdWRlcyhzeW1ib2xzLmJlZm9yZSwgJy0nKSAmJiAhbnVtZXJhbC5fLmluY2x1ZGVzKHN5bWJvbHMuYmVmb3JlLCAnKCcpKSkge1xuICAgICAgICAgICAgICAgIHN5bWJvbHMuYmVmb3JlID0gJy0nICsgc3ltYm9scy5iZWZvcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIGJlZm9yZSBzeW1ib2xcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzeW1ib2xzLmJlZm9yZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHN5bWJvbCA9IHN5bWJvbHMuYmVmb3JlW2ldO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzeW1ib2wpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnJCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBudW1lcmFsLl8uaW5zZXJ0KG91dHB1dCwgbG9jYWxlLmN1cnJlbmN5LnN5bWJvbCwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnICc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBudW1lcmFsLl8uaW5zZXJ0KG91dHB1dCwgJyAnLCBpICsgbG9jYWxlLmN1cnJlbmN5LnN5bWJvbC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggYWZ0ZXIgc3ltYm9sXG4gICAgICAgICAgICBmb3IgKGkgPSBzeW1ib2xzLmFmdGVyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sID0gc3ltYm9scy5hZnRlcltpXTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJyQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gaSA9PT0gc3ltYm9scy5hZnRlci5sZW5ndGggLSAxID8gb3V0cHV0ICsgbG9jYWxlLmN1cnJlbmN5LnN5bWJvbCA6IG51bWVyYWwuXy5pbnNlcnQob3V0cHV0LCBsb2NhbGUuY3VycmVuY3kuc3ltYm9sLCAtKHN5bWJvbHMuYWZ0ZXIubGVuZ3RoIC0gKDEgKyBpKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gaSA9PT0gc3ltYm9scy5hZnRlci5sZW5ndGggLSAxID8gb3V0cHV0ICsgJyAnIDogbnVtZXJhbC5fLmluc2VydChvdXRwdXQsICcgJywgLShzeW1ib2xzLmFmdGVyLmxlbmd0aCAtICgxICsgaSkgKyBsb2NhbGUuY3VycmVuY3kuc3ltYm9sLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgICAgICAgbnVtZXJhbC5yZWdpc3RlcignZm9ybWF0JywgJ2V4cG9uZW50aWFsJywge1xuICAgICAgICByZWdleHBzOiB7XG4gICAgICAgICAgICBmb3JtYXQ6IC8oZVxcK3xlLSkvLFxuICAgICAgICAgICAgdW5mb3JtYXQ6IC8oZVxcK3xlLSkvXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdDogZnVuY3Rpb24odmFsdWUsIGZvcm1hdCwgcm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICAgICAgdmFyIG91dHB1dCxcbiAgICAgICAgICAgICAgICBleHBvbmVudGlhbCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIW51bWVyYWwuXy5pc05hTih2YWx1ZSkgPyB2YWx1ZS50b0V4cG9uZW50aWFsKCkgOiAnMGUrMCcsXG4gICAgICAgICAgICAgICAgcGFydHMgPSBleHBvbmVudGlhbC5zcGxpdCgnZScpO1xuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgvZVtcXCt8XFwtXXsxfTAvLCAnJyk7XG5cbiAgICAgICAgICAgIG91dHB1dCA9IG51bWVyYWwuXy5udW1iZXJUb0Zvcm1hdChOdW1iZXIocGFydHNbMF0pLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0ICsgJ2UnICsgcGFydHNbMV07XG4gICAgICAgIH0sXG4gICAgICAgIHVuZm9ybWF0OiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IG51bWVyYWwuXy5pbmNsdWRlcyhzdHJpbmcsICdlKycpID8gc3RyaW5nLnNwbGl0KCdlKycpIDogc3RyaW5nLnNwbGl0KCdlLScpLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gTnVtYmVyKHBhcnRzWzBdKSxcbiAgICAgICAgICAgICAgICBwb3dlciA9IE51bWJlcihwYXJ0c1sxXSk7XG5cbiAgICAgICAgICAgIHBvd2VyID0gbnVtZXJhbC5fLmluY2x1ZGVzKHN0cmluZywgJ2UtJykgPyBwb3dlciAqPSAtMSA6IHBvd2VyO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjYmFjayhhY2N1bSwgY3VyciwgY3VyckksIE8pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29yckZhY3RvciA9IG51bWVyYWwuXy5jb3JyZWN0aW9uRmFjdG9yKGFjY3VtLCBjdXJyKSxcbiAgICAgICAgICAgICAgICAgICAgbnVtID0gKGFjY3VtICogY29yckZhY3RvcikgKiAoY3VyciAqIGNvcnJGYWN0b3IpIC8gKGNvcnJGYWN0b3IgKiBjb3JyRmFjdG9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVtZXJhbC5fLnJlZHVjZShbdmFsdWUsIE1hdGgucG93KDEwLCBwb3dlcildLCBjYmFjaywgMSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAgICAgICBudW1lcmFsLnJlZ2lzdGVyKCdmb3JtYXQnLCAnb3JkaW5hbCcsIHtcbiAgICAgICAgcmVnZXhwczoge1xuICAgICAgICAgICAgZm9ybWF0OiAvKG8pL1xuICAgICAgICB9LFxuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBsb2NhbGUgPSBudW1lcmFsLmxvY2FsZXNbbnVtZXJhbC5vcHRpb25zLmN1cnJlbnRMb2NhbGVdLFxuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBvcmRpbmFsID0gbnVtZXJhbC5fLmluY2x1ZGVzKGZvcm1hdCwgJyBvJykgPyAnICcgOiAnJztcblxuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlIGJlZm9yZVxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoL1xccz9vLywgJycpO1xuXG4gICAgICAgICAgICBvcmRpbmFsICs9IGxvY2FsZS5vcmRpbmFsKHZhbHVlKTtcblxuICAgICAgICAgICAgb3V0cHV0ID0gbnVtZXJhbC5fLm51bWJlclRvRm9ybWF0KHZhbHVlLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0ICsgb3JkaW5hbDtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gICAgICAgIG51bWVyYWwucmVnaXN0ZXIoJ2Zvcm1hdCcsICdwZXJjZW50YWdlJywge1xuICAgICAgICByZWdleHBzOiB7XG4gICAgICAgICAgICBmb3JtYXQ6IC8oJSkvLFxuICAgICAgICAgICAgdW5mb3JtYXQ6IC8oJSkvXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdDogZnVuY3Rpb24odmFsdWUsIGZvcm1hdCwgcm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICAgICAgdmFyIHNwYWNlID0gbnVtZXJhbC5fLmluY2x1ZGVzKGZvcm1hdCwgJyAlJykgPyAnICcgOiAnJyxcbiAgICAgICAgICAgICAgICBvdXRwdXQ7XG5cbiAgICAgICAgICAgIGlmIChudW1lcmFsLm9wdGlvbnMuc2NhbGVQZXJjZW50QnkxMDApIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogMTAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVjayBmb3Igc3BhY2UgYmVmb3JlICVcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC9cXHM/XFwlLywgJycpO1xuXG4gICAgICAgICAgICBvdXRwdXQgPSBudW1lcmFsLl8ubnVtYmVyVG9Gb3JtYXQodmFsdWUsIGZvcm1hdCwgcm91bmRpbmdGdW5jdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChudW1lcmFsLl8uaW5jbHVkZXMob3V0cHV0LCAnKScpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnNwbGl0KCcnKTtcblxuICAgICAgICAgICAgICAgIG91dHB1dC5zcGxpY2UoLTEsIDAsIHNwYWNlICsgJyUnKTtcblxuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5qb2luKCcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgc3BhY2UgKyAnJSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHVuZm9ybWF0OiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBudW1iZXIgPSBudW1lcmFsLl8uc3RyaW5nVG9OdW1iZXIoc3RyaW5nKTtcbiAgICAgICAgICAgIGlmIChudW1lcmFsLm9wdGlvbnMuc2NhbGVQZXJjZW50QnkxMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICogMC4wMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAgICAgICBudW1lcmFsLnJlZ2lzdGVyKCdmb3JtYXQnLCAndGltZScsIHtcbiAgICAgICAgcmVnZXhwczoge1xuICAgICAgICAgICAgZm9ybWF0OiAvKDopLyxcbiAgICAgICAgICAgIHVuZm9ybWF0OiAvKDopL1xuICAgICAgICB9LFxuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uKHZhbHVlLCBmb3JtYXQsIHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IodmFsdWUgLyA2MCAvIDYwKSxcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gTWF0aC5mbG9vcigodmFsdWUgLSAoaG91cnMgKiA2MCAqIDYwKSkgLyA2MCksXG4gICAgICAgICAgICAgICAgc2Vjb25kcyA9IE1hdGgucm91bmQodmFsdWUgLSAoaG91cnMgKiA2MCAqIDYwKSAtIChtaW51dGVzICogNjApKTtcblxuICAgICAgICAgICAgcmV0dXJuIGhvdXJzICsgJzonICsgKG1pbnV0ZXMgPCAxMCA/ICcwJyArIG1pbnV0ZXMgOiBtaW51dGVzKSArICc6JyArIChzZWNvbmRzIDwgMTAgPyAnMCcgKyBzZWNvbmRzIDogc2Vjb25kcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuZm9ybWF0OiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciB0aW1lQXJyYXkgPSBzdHJpbmcuc3BsaXQoJzonKSxcbiAgICAgICAgICAgICAgICBzZWNvbmRzID0gMDtcblxuICAgICAgICAgICAgLy8gdHVybiBob3VycyBhbmQgbWludXRlcyBpbnRvIHNlY29uZHMgYW5kIGFkZCB0aGVtIGFsbCB1cFxuICAgICAgICAgICAgaWYgKHRpbWVBcnJheS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvLyBob3Vyc1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBzZWNvbmRzICsgKE51bWJlcih0aW1lQXJyYXlbMF0pICogNjAgKiA2MCk7XG4gICAgICAgICAgICAgICAgLy8gbWludXRlc1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBzZWNvbmRzICsgKE51bWJlcih0aW1lQXJyYXlbMV0pICogNjApO1xuICAgICAgICAgICAgICAgIC8vIHNlY29uZHNcbiAgICAgICAgICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyArIE51bWJlcih0aW1lQXJyYXlbMl0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aW1lQXJyYXkubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gbWludXRlc1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBzZWNvbmRzICsgKE51bWJlcih0aW1lQXJyYXlbMF0pICogNjApO1xuICAgICAgICAgICAgICAgIC8vIHNlY29uZHNcbiAgICAgICAgICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyArIE51bWJlcih0aW1lQXJyYXlbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihzZWNvbmRzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxucmV0dXJuIG51bWVyYWw7XG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9udW1lcmFsL251bWVyYWwuanNcbi8vIG1vZHVsZSBpZCA9IDY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///67\n");

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\r\n * jQuery Validation Plugin v1.16.0\r\n *\r\n * http://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2016 Jörn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function( factory ) {\r\n\tif ( true ) {\r\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(13)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t} else if (typeof module === \"object\" && module.exports) {\r\n\t\tmodule.exports = factory( require( \"jquery\" ) );\r\n\t} else {\r\n\t\tfactory( jQuery );\r\n\t}\r\n}(function( $ ) {\r\n\r\n( function() {\n\n\tfunction stripHtml( value ) {\n\n\t\t// Remove html tags and space chars\n\t\treturn value.replace( /<.[^<>]*?>/g, \" \" ).replace( /&nbsp;|&#160;/gi, \" \" )\n\n\t\t// Remove punctuation\n\t\t.replace( /[.(),;:!?%#$'\\\"_+=\\/\\-“”’]*/g, \"\" );\n\t}\n\n\t$.validator.addMethod( \"maxWords\", function( value, element, params ) {\n\t\treturn this.optional( element ) || stripHtml( value ).match( /\\b\\w+\\b/g ).length <= params;\n\t}, $.validator.format( \"Please enter {0} words or less.\" ) );\n\n\t$.validator.addMethod( \"minWords\", function( value, element, params ) {\n\t\treturn this.optional( element ) || stripHtml( value ).match( /\\b\\w+\\b/g ).length >= params;\n\t}, $.validator.format( \"Please enter at least {0} words.\" ) );\n\n\t$.validator.addMethod( \"rangeWords\", function( value, element, params ) {\n\t\tvar valueStripped = stripHtml( value ),\n\t\t\tregex = /\\b\\w+\\b/g;\n\t\treturn this.optional( element ) || valueStripped.match( regex ).length >= params[ 0 ] && valueStripped.match( regex ).length <= params[ 1 ];\n\t}, $.validator.format( \"Please enter between {0} and {1} words.\" ) );\n\n}() );\n\r\n// Accept a value from a file input based on a required mimetype\n$.validator.addMethod( \"accept\", function( value, element, param ) {\n\n\t// Split mime on commas in case we have multiple types we can accept\n\tvar typeParam = typeof param === \"string\" ? param.replace( /\\s/g, \"\" ) : \"image/*\",\n\t\toptionalValue = this.optional( element ),\n\t\ti, file, regex;\n\n\t// Element is optional\n\tif ( optionalValue ) {\n\t\treturn optionalValue;\n\t}\n\n\tif ( $( element ).attr( \"type\" ) === \"file\" ) {\n\n\t\t// Escape string to be used in the regex\n\t\t// see: http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n\t\t// Escape also \"/*\" as \"/.*\" as a wildcard\n\t\ttypeParam = typeParam\n\t\t\t\t.replace( /[\\-\\[\\]\\/\\{\\}\\(\\)\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\" )\n\t\t\t\t.replace( /,/g, \"|\" )\n\t\t\t\t.replace( /\\/\\*/g, \"/.*\" );\n\n\t\t// Check if the element has a FileList before checking each file\n\t\tif ( element.files && element.files.length ) {\n\t\t\tregex = new RegExp( \".?(\" + typeParam + \")$\", \"i\" );\n\t\t\tfor ( i = 0; i < element.files.length; i++ ) {\n\t\t\t\tfile = element.files[ i ];\n\n\t\t\t\t// Grab the mimetype from the loaded file, verify it matches\n\t\t\t\tif ( !file.type.match( regex ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Either return true because we've validated each file, or because the\n\t// browser does not support element.files and the FileList feature\n\treturn true;\n}, $.validator.format( \"Please enter a value with a valid mimetype.\" ) );\n\r\n$.validator.addMethod( \"alphanumeric\", function( value, element ) {\n\treturn this.optional( element ) || /^\\w+$/i.test( value );\n}, \"Letters, numbers, and underscores only please\" );\n\r\n/*\n * Dutch bank account numbers (not 'giro' numbers) have 9 digits\n * and pass the '11 check'.\n * We accept the notation with spaces, as that is common.\n * acceptable: 123456789 or 12 34 56 789\n */\n$.validator.addMethod( \"bankaccountNL\", function( value, element ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\tif ( !( /^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test( value ) ) ) {\n\t\treturn false;\n\t}\n\n\t// Now '11 check'\n\tvar account = value.replace( / /g, \"\" ), // Remove spaces\n\t\tsum = 0,\n\t\tlen = account.length,\n\t\tpos, factor, digit;\n\tfor ( pos = 0; pos < len; pos++ ) {\n\t\tfactor = len - pos;\n\t\tdigit = account.substring( pos, pos + 1 );\n\t\tsum = sum + factor * digit;\n\t}\n\treturn sum % 11 === 0;\n}, \"Please specify a valid bank account number\" );\n\r\n$.validator.addMethod( \"bankorgiroaccountNL\", function( value, element ) {\n\treturn this.optional( element ) ||\n\t\t\t( $.validator.methods.bankaccountNL.call( this, value, element ) ) ||\n\t\t\t( $.validator.methods.giroaccountNL.call( this, value, element ) );\n}, \"Please specify a valid bank or giro account number\" );\n\r\n/**\n * BIC is the business identifier code (ISO 9362). This BIC check is not a guarantee for authenticity.\n *\n * BIC pattern: BBBBCCLLbbb (8 or 11 characters long; bbb is optional)\n *\n * Validation is case-insensitive. Please make sure to normalize input yourself.\n *\n * BIC definition in detail:\n * - First 4 characters - bank code (only letters)\n * - Next 2 characters - ISO 3166-1 alpha-2 country code (only letters)\n * - Next 2 characters - location code (letters and digits)\n *   a. shall not start with '0' or '1'\n *   b. second character must be a letter ('O' is not allowed) or digit ('0' for test (therefore not allowed), '1' denoting passive participant, '2' typically reverse-billing)\n * - Last 3 characters - branch code, optional (shall not start with 'X' except in case of 'XXX' for primary office) (letters and digits)\n */\n$.validator.addMethod( \"bic\", function( value, element ) {\n    return this.optional( element ) || /^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test( value.toUpperCase() );\n}, \"Please specify a valid BIC code\" );\n\r\n/*\n * Código de identificación fiscal ( CIF ) is the tax identification code for Spanish legal entities\n * Further rules can be found in Spanish on http://es.wikipedia.org/wiki/C%C3%B3digo_de_identificaci%C3%B3n_fiscal\n *\n * Spanish CIF structure:\n *\n * [ T ][ P ][ P ][ N ][ N ][ N ][ N ][ N ][ C ]\n *\n * Where:\n *\n * T: 1 character. Kind of Organization Letter: [ABCDEFGHJKLMNPQRSUVW]\n * P: 2 characters. Province.\n * N: 5 characters. Secuencial Number within the province.\n * C: 1 character. Control Digit: [0-9A-J].\n *\n * [ T ]: Kind of Organizations. Possible values:\n *\n *   A. Corporations\n *   B. LLCs\n *   C. General partnerships\n *   D. Companies limited partnerships\n *   E. Communities of goods\n *   F. Cooperative Societies\n *   G. Associations\n *   H. Communities of homeowners in horizontal property regime\n *   J. Civil Societies\n *   K. Old format\n *   L. Old format\n *   M. Old format\n *   N. Nonresident entities\n *   P. Local authorities\n *   Q. Autonomous bodies, state or not, and the like, and congregations and religious institutions\n *   R. Congregations and religious institutions (since 2008 ORDER EHA/451/2008)\n *   S. Organs of State Administration and regions\n *   V. Agrarian Transformation\n *   W. Permanent establishments of non-resident in Spain\n *\n * [ C ]: Control Digit. It can be a number or a letter depending on T value:\n * [ T ]  -->  [ C ]\n * ------    ----------\n *   A         Number\n *   B         Number\n *   E         Number\n *   H         Number\n *   K         Letter\n *   P         Letter\n *   Q         Letter\n *   S         Letter\n *\n */\n$.validator.addMethod( \"cifES\", function( value ) {\n\t\"use strict\";\n\n\tvar cifRegEx = new RegExp( /^([ABCDEFGHJKLMNPQRSUVW])(\\d{7})([0-9A-J])$/gi );\n\tvar letter  = value.substring( 0, 1 ), // [ T ]\n\t\tnumber  = value.substring( 1, 8 ), // [ P ][ P ][ N ][ N ][ N ][ N ][ N ]\n\t\tcontrol = value.substring( 8, 9 ), // [ C ]\n\t\tall_sum = 0,\n\t\teven_sum = 0,\n\t\todd_sum = 0,\n\t\ti, n,\n\t\tcontrol_digit,\n\t\tcontrol_letter;\n\n\tfunction isOdd( n ) {\n\t\treturn n % 2 === 0;\n\t}\n\n\t// Quick format test\n\tif ( value.length !== 9 || !cifRegEx.test( value ) ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = 0; i < number.length; i++ ) {\n\t\tn = parseInt( number[ i ], 10 );\n\n\t\t// Odd positions\n\t\tif ( isOdd( i ) ) {\n\n\t\t\t// Odd positions are multiplied first.\n\t\t\tn *= 2;\n\n\t\t\t// If the multiplication is bigger than 10 we need to adjust\n\t\t\todd_sum += n < 10 ? n : n - 9;\n\n\t\t// Even positions\n\t\t// Just sum them\n\t\t} else {\n\t\t\teven_sum += n;\n\t\t}\n\t}\n\n\tall_sum = even_sum + odd_sum;\n\tcontrol_digit = ( 10 - ( all_sum ).toString().substr( -1 ) ).toString();\n\tcontrol_digit = parseInt( control_digit, 10 ) > 9 ? \"0\" : control_digit;\n\tcontrol_letter = \"JABCDEFGHI\".substr( control_digit, 1 ).toString();\n\n\t// Control must be a digit\n\tif ( letter.match( /[ABEH]/ ) ) {\n\t\treturn control === control_digit;\n\n\t// Control must be a letter\n\t} else if ( letter.match( /[KPQS]/ ) ) {\n\t\treturn control === control_letter;\n\n\t// Can be either\n\t} else {\n\t\treturn control === control_digit || control === control_letter;\n\t}\n\n\treturn false;\n\n}, \"Please specify a valid CIF number.\" );\n\r\n/*\n * Brazillian CPF number (Cadastrado de Pessoas Físicas) is the equivalent of a Brazilian tax registration number.\n * CPF numbers have 11 digits in total: 9 numbers followed by 2 check numbers that are being used for validation.\n */\n$.validator.addMethod( \"cpfBR\", function( value ) {\n\n\t// Removing special characters from value\n\tvalue = value.replace( /([~!@#$%^&*()_+=`{}\\[\\]\\-|\\\\:;'<>,.\\/? ])+/g, \"\" );\n\n\t// Checking value to have 11 digits only\n\tif ( value.length !== 11 ) {\n\t\treturn false;\n\t}\n\n\tvar sum = 0,\n\t\tfirstCN, secondCN, checkResult, i;\n\n\tfirstCN = parseInt( value.substring( 9, 10 ), 10 );\n\tsecondCN = parseInt( value.substring( 10, 11 ), 10 );\n\n\tcheckResult = function( sum, cn ) {\n\t\tvar result = ( sum * 10 ) % 11;\n\t\tif ( ( result === 10 ) || ( result === 11 ) ) {\n\t\t\tresult = 0;\n\t\t}\n\t\treturn ( result === cn );\n\t};\n\n\t// Checking for dump data\n\tif ( value === \"\" ||\n\t\tvalue === \"00000000000\" ||\n\t\tvalue === \"11111111111\" ||\n\t\tvalue === \"22222222222\" ||\n\t\tvalue === \"33333333333\" ||\n\t\tvalue === \"44444444444\" ||\n\t\tvalue === \"55555555555\" ||\n\t\tvalue === \"66666666666\" ||\n\t\tvalue === \"77777777777\" ||\n\t\tvalue === \"88888888888\" ||\n\t\tvalue === \"99999999999\"\n\t) {\n\t\treturn false;\n\t}\n\n\t// Step 1 - using first Check Number:\n\tfor ( i = 1; i <= 9; i++ ) {\n\t\tsum = sum + parseInt( value.substring( i - 1, i ), 10 ) * ( 11 - i );\n\t}\n\n\t// If first Check Number (CN) is valid, move to Step 2 - using second Check Number:\n\tif ( checkResult( sum, firstCN ) ) {\n\t\tsum = 0;\n\t\tfor ( i = 1; i <= 10; i++ ) {\n\t\t\tsum = sum + parseInt( value.substring( i - 1, i ), 10 ) * ( 12 - i );\n\t\t}\n\t\treturn checkResult( sum, secondCN );\n\t}\n\treturn false;\n\n}, \"Please specify a valid CPF number\" );\n\r\n// http://jqueryvalidation.org/creditcard-method/\n// based on http://en.wikipedia.org/wiki/Luhn_algorithm\n$.validator.addMethod( \"creditcard\", function( value, element ) {\n\tif ( this.optional( element ) ) {\n\t\treturn \"dependency-mismatch\";\n\t}\n\n\t// Accept only spaces, digits and dashes\n\tif ( /[^0-9 \\-]+/.test( value ) ) {\n\t\treturn false;\n\t}\n\n\tvar nCheck = 0,\n\t\tnDigit = 0,\n\t\tbEven = false,\n\t\tn, cDigit;\n\n\tvalue = value.replace( /\\D/g, \"\" );\n\n\t// Basing min and max length on\n\t// http://developer.ean.com/general_info/Valid_Credit_Card_Types\n\tif ( value.length < 13 || value.length > 19 ) {\n\t\treturn false;\n\t}\n\n\tfor ( n = value.length - 1; n >= 0; n-- ) {\n\t\tcDigit = value.charAt( n );\n\t\tnDigit = parseInt( cDigit, 10 );\n\t\tif ( bEven ) {\n\t\t\tif ( ( nDigit *= 2 ) > 9 ) {\n\t\t\t\tnDigit -= 9;\n\t\t\t}\n\t\t}\n\n\t\tnCheck += nDigit;\n\t\tbEven = !bEven;\n\t}\n\n\treturn ( nCheck % 10 ) === 0;\n}, \"Please enter a valid credit card number.\" );\n\r\n/* NOTICE: Modified version of Castle.Components.Validator.CreditCardValidator\n * Redistributed under the the Apache License 2.0 at http://www.apache.org/licenses/LICENSE-2.0\n * Valid Types: mastercard, visa, amex, dinersclub, enroute, discover, jcb, unknown, all (overrides all other settings)\n */\n$.validator.addMethod( \"creditcardtypes\", function( value, element, param ) {\n\tif ( /[^0-9\\-]+/.test( value ) ) {\n\t\treturn false;\n\t}\n\n\tvalue = value.replace( /\\D/g, \"\" );\n\n\tvar validTypes = 0x0000;\n\n\tif ( param.mastercard ) {\n\t\tvalidTypes |= 0x0001;\n\t}\n\tif ( param.visa ) {\n\t\tvalidTypes |= 0x0002;\n\t}\n\tif ( param.amex ) {\n\t\tvalidTypes |= 0x0004;\n\t}\n\tif ( param.dinersclub ) {\n\t\tvalidTypes |= 0x0008;\n\t}\n\tif ( param.enroute ) {\n\t\tvalidTypes |= 0x0010;\n\t}\n\tif ( param.discover ) {\n\t\tvalidTypes |= 0x0020;\n\t}\n\tif ( param.jcb ) {\n\t\tvalidTypes |= 0x0040;\n\t}\n\tif ( param.unknown ) {\n\t\tvalidTypes |= 0x0080;\n\t}\n\tif ( param.all ) {\n\t\tvalidTypes = 0x0001 | 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0020 | 0x0040 | 0x0080;\n\t}\n\tif ( validTypes & 0x0001 && /^(5[12345])/.test( value ) ) { // Mastercard\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0002 && /^(4)/.test( value ) ) { // Visa\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0004 && /^(3[47])/.test( value ) ) { // Amex\n\t\treturn value.length === 15;\n\t}\n\tif ( validTypes & 0x0008 && /^(3(0[012345]|[68]))/.test( value ) ) { // Dinersclub\n\t\treturn value.length === 14;\n\t}\n\tif ( validTypes & 0x0010 && /^(2(014|149))/.test( value ) ) { // Enroute\n\t\treturn value.length === 15;\n\t}\n\tif ( validTypes & 0x0020 && /^(6011)/.test( value ) ) { // Discover\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0040 && /^(3)/.test( value ) ) { // Jcb\n\t\treturn value.length === 16;\n\t}\n\tif ( validTypes & 0x0040 && /^(2131|1800)/.test( value ) ) { // Jcb\n\t\treturn value.length === 15;\n\t}\n\tif ( validTypes & 0x0080 ) { // Unknown\n\t\treturn true;\n\t}\n\treturn false;\n}, \"Please enter a valid credit card number.\" );\n\r\n/**\n * Validates currencies with any given symbols by @jameslouiz\n * Symbols can be optional or required. Symbols required by default\n *\n * Usage examples:\n *  currency: [\"£\", false] - Use false for soft currency validation\n *  currency: [\"$\", false]\n *  currency: [\"RM\", false] - also works with text based symbols such as \"RM\" - Malaysia Ringgit etc\n *\n *  <input class=\"currencyInput\" name=\"currencyInput\">\n *\n * Soft symbol checking\n *  currencyInput: {\n *     currency: [\"$\", false]\n *  }\n *\n * Strict symbol checking (default)\n *  currencyInput: {\n *     currency: \"$\"\n *     //OR\n *     currency: [\"$\", true]\n *  }\n *\n * Multiple Symbols\n *  currencyInput: {\n *     currency: \"$,£,¢\"\n *  }\n */\n$.validator.addMethod( \"currency\", function( value, element, param ) {\n    var isParamString = typeof param === \"string\",\n        symbol = isParamString ? param : param[ 0 ],\n        soft = isParamString ? true : param[ 1 ],\n        regex;\n\n    symbol = symbol.replace( /,/g, \"\" );\n    symbol = soft ? symbol + \"]\" : symbol + \"]?\";\n    regex = \"^[\" + symbol + \"([1-9]{1}[0-9]{0,2}(\\\\,[0-9]{3})*(\\\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\\\.[0-9]{0,2})?|0(\\\\.[0-9]{0,2})?|(\\\\.[0-9]{1,2})?)$\";\n    regex = new RegExp( regex );\n    return this.optional( element ) || regex.test( value );\n\n}, \"Please specify a valid currency\" );\n\r\n$.validator.addMethod( \"dateFA\", function( value, element ) {\n\treturn this.optional( element ) || /^[1-4]\\d{3}\\/((0?[1-6]\\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\\/(30|([1-2][0-9])|(0?[1-9]))))$/.test( value );\n}, $.validator.messages.date );\n\r\n/**\n * Return true, if the value is a valid date, also making this formal check dd/mm/yyyy.\n *\n * @example $.validator.methods.date(\"01/01/1900\")\n * @result true\n *\n * @example $.validator.methods.date(\"01/13/1990\")\n * @result false\n *\n * @example $.validator.methods.date(\"01.01.1900\")\n * @result false\n *\n * @example <input name=\"pippo\" class=\"{dateITA:true}\" />\n * @desc Declares an optional input element whose value must be a valid date.\n *\n * @name $.validator.methods.dateITA\n * @type Boolean\n * @cat Plugins/Validate/Methods\n */\n$.validator.addMethod( \"dateITA\", function( value, element ) {\n\tvar check = false,\n\t\tre = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\n\t\tadata, gg, mm, aaaa, xdata;\n\tif ( re.test( value ) ) {\n\t\tadata = value.split( \"/\" );\n\t\tgg = parseInt( adata[ 0 ], 10 );\n\t\tmm = parseInt( adata[ 1 ], 10 );\n\t\taaaa = parseInt( adata[ 2 ], 10 );\n\t\txdata = new Date( Date.UTC( aaaa, mm - 1, gg, 12, 0, 0, 0 ) );\n\t\tif ( ( xdata.getUTCFullYear() === aaaa ) && ( xdata.getUTCMonth() === mm - 1 ) && ( xdata.getUTCDate() === gg ) ) {\n\t\t\tcheck = true;\n\t\t} else {\n\t\t\tcheck = false;\n\t\t}\n\t} else {\n\t\tcheck = false;\n\t}\n\treturn this.optional( element ) || check;\n}, $.validator.messages.date );\n\r\n$.validator.addMethod( \"dateNL\", function( value, element ) {\n\treturn this.optional( element ) || /^(0?[1-9]|[12]\\d|3[01])[\\.\\/\\-](0?[1-9]|1[012])[\\.\\/\\-]([12]\\d)?(\\d\\d)$/.test( value );\n}, $.validator.messages.date );\n\r\n// Older \"accept\" file extension method. Old docs: http://docs.jquery.com/Plugins/Validation/Methods/accept\n$.validator.addMethod( \"extension\", function( value, element, param ) {\n\tparam = typeof param === \"string\" ? param.replace( /,/g, \"|\" ) : \"png|jpe?g|gif\";\n\treturn this.optional( element ) || value.match( new RegExp( \"\\\\.(\" + param + \")$\", \"i\" ) );\n}, $.validator.format( \"Please enter a value with a valid extension.\" ) );\n\r\n/**\n * Dutch giro account numbers (not bank numbers) have max 7 digits\n */\n$.validator.addMethod( \"giroaccountNL\", function( value, element ) {\n\treturn this.optional( element ) || /^[0-9]{1,7}$/.test( value );\n}, \"Please specify a valid giro account number\" );\n\r\n/**\n * IBAN is the international bank account number.\n * It has a country - specific format, that is checked here too\n *\n * Validation is case-insensitive. Please make sure to normalize input yourself.\n */\n$.validator.addMethod( \"iban\", function( value, element ) {\n\n\t// Some quick simple tests to prevent needless work\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\n\t// Remove spaces and to upper case\n\tvar iban = value.replace( / /g, \"\" ).toUpperCase(),\n\t\tibancheckdigits = \"\",\n\t\tleadingZeroes = true,\n\t\tcRest = \"\",\n\t\tcOperator = \"\",\n\t\tcountrycode, ibancheck, charAt, cChar, bbanpattern, bbancountrypatterns, ibanregexp, i, p;\n\n\t// Check for IBAN code length.\n\t// It contains:\n\t// country code ISO 3166-1 - two letters,\n\t// two check digits,\n\t// Basic Bank Account Number (BBAN) - up to 30 chars\n\tvar minimalIBANlength = 5;\n\tif ( iban.length < minimalIBANlength ) {\n\t\treturn false;\n\t}\n\n\t// Check the country code and find the country specific format\n\tcountrycode = iban.substring( 0, 2 );\n\tbbancountrypatterns = {\n\t\t\"AL\": \"\\\\d{8}[\\\\dA-Z]{16}\",\n\t\t\"AD\": \"\\\\d{8}[\\\\dA-Z]{12}\",\n\t\t\"AT\": \"\\\\d{16}\",\n\t\t\"AZ\": \"[\\\\dA-Z]{4}\\\\d{20}\",\n\t\t\"BE\": \"\\\\d{12}\",\n\t\t\"BH\": \"[A-Z]{4}[\\\\dA-Z]{14}\",\n\t\t\"BA\": \"\\\\d{16}\",\n\t\t\"BR\": \"\\\\d{23}[A-Z][\\\\dA-Z]\",\n\t\t\"BG\": \"[A-Z]{4}\\\\d{6}[\\\\dA-Z]{8}\",\n\t\t\"CR\": \"\\\\d{17}\",\n\t\t\"HR\": \"\\\\d{17}\",\n\t\t\"CY\": \"\\\\d{8}[\\\\dA-Z]{16}\",\n\t\t\"CZ\": \"\\\\d{20}\",\n\t\t\"DK\": \"\\\\d{14}\",\n\t\t\"DO\": \"[A-Z]{4}\\\\d{20}\",\n\t\t\"EE\": \"\\\\d{16}\",\n\t\t\"FO\": \"\\\\d{14}\",\n\t\t\"FI\": \"\\\\d{14}\",\n\t\t\"FR\": \"\\\\d{10}[\\\\dA-Z]{11}\\\\d{2}\",\n\t\t\"GE\": \"[\\\\dA-Z]{2}\\\\d{16}\",\n\t\t\"DE\": \"\\\\d{18}\",\n\t\t\"GI\": \"[A-Z]{4}[\\\\dA-Z]{15}\",\n\t\t\"GR\": \"\\\\d{7}[\\\\dA-Z]{16}\",\n\t\t\"GL\": \"\\\\d{14}\",\n\t\t\"GT\": \"[\\\\dA-Z]{4}[\\\\dA-Z]{20}\",\n\t\t\"HU\": \"\\\\d{24}\",\n\t\t\"IS\": \"\\\\d{22}\",\n\t\t\"IE\": \"[\\\\dA-Z]{4}\\\\d{14}\",\n\t\t\"IL\": \"\\\\d{19}\",\n\t\t\"IT\": \"[A-Z]\\\\d{10}[\\\\dA-Z]{12}\",\n\t\t\"KZ\": \"\\\\d{3}[\\\\dA-Z]{13}\",\n\t\t\"KW\": \"[A-Z]{4}[\\\\dA-Z]{22}\",\n\t\t\"LV\": \"[A-Z]{4}[\\\\dA-Z]{13}\",\n\t\t\"LB\": \"\\\\d{4}[\\\\dA-Z]{20}\",\n\t\t\"LI\": \"\\\\d{5}[\\\\dA-Z]{12}\",\n\t\t\"LT\": \"\\\\d{16}\",\n\t\t\"LU\": \"\\\\d{3}[\\\\dA-Z]{13}\",\n\t\t\"MK\": \"\\\\d{3}[\\\\dA-Z]{10}\\\\d{2}\",\n\t\t\"MT\": \"[A-Z]{4}\\\\d{5}[\\\\dA-Z]{18}\",\n\t\t\"MR\": \"\\\\d{23}\",\n\t\t\"MU\": \"[A-Z]{4}\\\\d{19}[A-Z]{3}\",\n\t\t\"MC\": \"\\\\d{10}[\\\\dA-Z]{11}\\\\d{2}\",\n\t\t\"MD\": \"[\\\\dA-Z]{2}\\\\d{18}\",\n\t\t\"ME\": \"\\\\d{18}\",\n\t\t\"NL\": \"[A-Z]{4}\\\\d{10}\",\n\t\t\"NO\": \"\\\\d{11}\",\n\t\t\"PK\": \"[\\\\dA-Z]{4}\\\\d{16}\",\n\t\t\"PS\": \"[\\\\dA-Z]{4}\\\\d{21}\",\n\t\t\"PL\": \"\\\\d{24}\",\n\t\t\"PT\": \"\\\\d{21}\",\n\t\t\"RO\": \"[A-Z]{4}[\\\\dA-Z]{16}\",\n\t\t\"SM\": \"[A-Z]\\\\d{10}[\\\\dA-Z]{12}\",\n\t\t\"SA\": \"\\\\d{2}[\\\\dA-Z]{18}\",\n\t\t\"RS\": \"\\\\d{18}\",\n\t\t\"SK\": \"\\\\d{20}\",\n\t\t\"SI\": \"\\\\d{15}\",\n\t\t\"ES\": \"\\\\d{20}\",\n\t\t\"SE\": \"\\\\d{20}\",\n\t\t\"CH\": \"\\\\d{5}[\\\\dA-Z]{12}\",\n\t\t\"TN\": \"\\\\d{20}\",\n\t\t\"TR\": \"\\\\d{5}[\\\\dA-Z]{17}\",\n\t\t\"AE\": \"\\\\d{3}\\\\d{16}\",\n\t\t\"GB\": \"[A-Z]{4}\\\\d{14}\",\n\t\t\"VG\": \"[\\\\dA-Z]{4}\\\\d{16}\"\n\t};\n\n\tbbanpattern = bbancountrypatterns[ countrycode ];\n\n\t// As new countries will start using IBAN in the\n\t// future, we only check if the countrycode is known.\n\t// This prevents false negatives, while almost all\n\t// false positives introduced by this, will be caught\n\t// by the checksum validation below anyway.\n\t// Strict checking should return FALSE for unknown\n\t// countries.\n\tif ( typeof bbanpattern !== \"undefined\" ) {\n\t\tibanregexp = new RegExp( \"^[A-Z]{2}\\\\d{2}\" + bbanpattern + \"$\", \"\" );\n\t\tif ( !( ibanregexp.test( iban ) ) ) {\n\t\t\treturn false; // Invalid country specific format\n\t\t}\n\t}\n\n\t// Now check the checksum, first convert to digits\n\tibancheck = iban.substring( 4, iban.length ) + iban.substring( 0, 4 );\n\tfor ( i = 0; i < ibancheck.length; i++ ) {\n\t\tcharAt = ibancheck.charAt( i );\n\t\tif ( charAt !== \"0\" ) {\n\t\t\tleadingZeroes = false;\n\t\t}\n\t\tif ( !leadingZeroes ) {\n\t\t\tibancheckdigits += \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\".indexOf( charAt );\n\t\t}\n\t}\n\n\t// Calculate the result of: ibancheckdigits % 97\n\tfor ( p = 0; p < ibancheckdigits.length; p++ ) {\n\t\tcChar = ibancheckdigits.charAt( p );\n\t\tcOperator = \"\" + cRest + \"\" + cChar;\n\t\tcRest = cOperator % 97;\n\t}\n\treturn cRest === 1;\n}, \"Please specify a valid IBAN\" );\n\r\n$.validator.addMethod( \"integer\", function( value, element ) {\n\treturn this.optional( element ) || /^-?\\d+$/.test( value );\n}, \"A positive or negative non-decimal number please\" );\n\r\n$.validator.addMethod( \"ipv4\", function( value, element ) {\n\treturn this.optional( element ) || /^(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/i.test( value );\n}, \"Please enter a valid IP v4 address.\" );\n\r\n$.validator.addMethod( \"ipv6\", function( value, element ) {\n\treturn this.optional( element ) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test( value );\n}, \"Please enter a valid IP v6 address.\" );\n\r\n$.validator.addMethod( \"lettersonly\", function( value, element ) {\n\treturn this.optional( element ) || /^[a-z]+$/i.test( value );\n}, \"Letters only please\" );\n\r\n$.validator.addMethod( \"letterswithbasicpunc\", function( value, element ) {\n\treturn this.optional( element ) || /^[a-z\\-.,()'\"\\s]+$/i.test( value );\n}, \"Letters or punctuation only please\" );\n\r\n$.validator.addMethod( \"mobileNL\", function( value, element ) {\n\treturn this.optional( element ) || /^((\\+|00(\\s|\\s?\\-\\s?)?)31(\\s|\\s?\\-\\s?)?(\\(0\\)[\\-\\s]?)?|0)6((\\s|\\s?\\-\\s?)?[0-9]){8}$/.test( value );\n}, \"Please specify a valid mobile number\" );\n\r\n/* For UK phone functions, do the following server side processing:\n * Compare original input with this RegEx pattern:\n * ^\\(?(?:(?:00\\)?[\\s\\-]?\\(?|\\+)(44)\\)?[\\s\\-]?\\(?(?:0\\)?[\\s\\-]?\\(?)?|0)([1-9]\\d{1,4}\\)?[\\s\\d\\-]+)$\n * Extract $1 and set $prefix to '+44<space>' if $1 is '44', otherwise set $prefix to '0'\n * Extract $2 and remove hyphens, spaces and parentheses. Phone number is combined $prefix and $2.\n * A number of very detailed GB telephone number RegEx patterns can also be found at:\n * http://www.aa-asterisk.org.uk/index.php/Regular_Expressions_for_Validating_and_Formatting_GB_Telephone_Numbers\n */\n$.validator.addMethod( \"mobileUK\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(?:(?:(?:00\\s?|\\+)44\\s?|0)7(?:[1345789]\\d{2}|624)\\s?\\d{3}\\s?\\d{3})$/ );\n}, \"Please specify a valid mobile number\" );\n\r\n/*\n * The NIE (Número de Identificación de Extranjero) is a Spanish tax identification number assigned by the Spanish\n * authorities to any foreigner.\n *\n * The NIE is the equivalent of a Spaniards Número de Identificación Fiscal (NIF) which serves as a fiscal\n * identification number. The CIF number (Certificado de Identificación Fiscal) is equivalent to the NIF, but applies to\n * companies rather than individuals. The NIE consists of an 'X' or 'Y' followed by 7 or 8 digits then another letter.\n */\n$.validator.addMethod( \"nieES\", function( value ) {\n\t\"use strict\";\n\n\tvar nieRegEx = new RegExp( /^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi );\n\tvar validChars = \"TRWAGMYFPDXBNJZSQVHLCKET\",\n\t\tletter = value.substr( value.length - 1 ).toUpperCase(),\n\t\tnumber;\n\n\tvalue = value.toString().toUpperCase();\n\n\t// Quick format test\n\tif ( value.length > 10 || value.length < 9 || !nieRegEx.test( value ) ) {\n\t\treturn false;\n\t}\n\n\t// X means same number\n\t// Y means number + 10000000\n\t// Z means number + 20000000\n\tvalue = value.replace( /^[X]/, \"0\" )\n\t\t.replace( /^[Y]/, \"1\" )\n\t\t.replace( /^[Z]/, \"2\" );\n\n\tnumber = value.length === 9 ? value.substr( 0, 8 ) : value.substr( 0, 9 );\n\n\treturn validChars.charAt( parseInt( number, 10 ) % 23 ) === letter;\n\n}, \"Please specify a valid NIE number.\" );\n\r\n/*\n * The Número de Identificación Fiscal ( NIF ) is the way tax identification used in Spain for individuals\n */\n$.validator.addMethod( \"nifES\", function( value ) {\n\t\"use strict\";\n\n\tvalue = value.toUpperCase();\n\n\t// Basic format test\n\tif ( !value.match( \"((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)\" ) ) {\n\t\treturn false;\n\t}\n\n\t// Test NIF\n\tif ( /^[0-9]{8}[A-Z]{1}$/.test( value ) ) {\n\t\treturn ( \"TRWAGMYFPDXBNJZSQVHLCKE\".charAt( value.substring( 8, 0 ) % 23 ) === value.charAt( 8 ) );\n\t}\n\n\t// Test specials NIF (starts with K, L or M)\n\tif ( /^[KLM]{1}/.test( value ) ) {\n\t\treturn ( value[ 8 ] === String.fromCharCode( 64 ) );\n\t}\n\n\treturn false;\n\n}, \"Please specify a valid NIF number.\" );\n\r\n$.validator.addMethod( \"notEqualTo\", function( value, element, param ) {\n\treturn this.optional( element ) || !$.validator.methods.equalTo.call( this, value, element, param );\n}, \"Please enter a different value, values must not be the same.\" );\n\r\n$.validator.addMethod( \"nowhitespace\", function( value, element ) {\n\treturn this.optional( element ) || /^\\S+$/i.test( value );\n}, \"No white space please\" );\n\r\n/**\n* Return true if the field value matches the given format RegExp\n*\n* @example $.validator.methods.pattern(\"AR1004\",element,/^AR\\d{4}$/)\n* @result true\n*\n* @example $.validator.methods.pattern(\"BR1004\",element,/^AR\\d{4}$/)\n* @result false\n*\n* @name $.validator.methods.pattern\n* @type Boolean\n* @cat Plugins/Validate/Methods\n*/\n$.validator.addMethod( \"pattern\", function( value, element, param ) {\n\tif ( this.optional( element ) ) {\n\t\treturn true;\n\t}\n\tif ( typeof param === \"string\" ) {\n\t\tparam = new RegExp( \"^(?:\" + param + \")$\" );\n\t}\n\treturn param.test( value );\n}, \"Invalid format.\" );\n\r\n/**\n * Dutch phone numbers have 10 digits (or 11 and start with +31).\n */\n$.validator.addMethod( \"phoneNL\", function( value, element ) {\n\treturn this.optional( element ) || /^((\\+|00(\\s|\\s?\\-\\s?)?)31(\\s|\\s?\\-\\s?)?(\\(0\\)[\\-\\s]?)?|0)[1-9]((\\s|\\s?\\-\\s?)?[0-9]){8}$/.test( value );\n}, \"Please specify a valid phone number.\" );\n\r\n/* For UK phone functions, do the following server side processing:\n * Compare original input with this RegEx pattern:\n * ^\\(?(?:(?:00\\)?[\\s\\-]?\\(?|\\+)(44)\\)?[\\s\\-]?\\(?(?:0\\)?[\\s\\-]?\\(?)?|0)([1-9]\\d{1,4}\\)?[\\s\\d\\-]+)$\n * Extract $1 and set $prefix to '+44<space>' if $1 is '44', otherwise set $prefix to '0'\n * Extract $2 and remove hyphens, spaces and parentheses. Phone number is combined $prefix and $2.\n * A number of very detailed GB telephone number RegEx patterns can also be found at:\n * http://www.aa-asterisk.org.uk/index.php/Regular_Expressions_for_Validating_and_Formatting_GB_Telephone_Numbers\n */\n$.validator.addMethod( \"phoneUK\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(?:(?:(?:00\\s?|\\+)44\\s?)|(?:\\(?0))(?:\\d{2}\\)?\\s?\\d{4}\\s?\\d{4}|\\d{3}\\)?\\s?\\d{3}\\s?\\d{3,4}|\\d{4}\\)?\\s?(?:\\d{5}|\\d{3}\\s?\\d{3})|\\d{5}\\)?\\s?\\d{4,5})$/ );\n}, \"Please specify a valid phone number\" );\n\r\n/**\n * Matches US phone number format\n *\n * where the area code may not start with 1 and the prefix may not start with 1\n * allows '-' or ' ' as a separator and allows parens around area code\n * some people may want to put a '1' in front of their number\n *\n * 1(212)-999-2345 or\n * 212 999 2344 or\n * 212-999-0983\n *\n * but not\n * 111-123-5434\n * and not\n * 212 123 4567\n */\n$.validator.addMethod( \"phoneUS\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\s+/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(\\+?1-?)?(\\([2-9]([02-9]\\d|1[02-9])\\)|[2-9]([02-9]\\d|1[02-9]))-?[2-9]([02-9]\\d|1[02-9])-?\\d{4}$/ );\n}, \"Please specify a valid phone number\" );\n\r\n/* For UK phone functions, do the following server side processing:\n * Compare original input with this RegEx pattern:\n * ^\\(?(?:(?:00\\)?[\\s\\-]?\\(?|\\+)(44)\\)?[\\s\\-]?\\(?(?:0\\)?[\\s\\-]?\\(?)?|0)([1-9]\\d{1,4}\\)?[\\s\\d\\-]+)$\n * Extract $1 and set $prefix to '+44<space>' if $1 is '44', otherwise set $prefix to '0'\n * Extract $2 and remove hyphens, spaces and parentheses. Phone number is combined $prefix and $2.\n * A number of very detailed GB telephone number RegEx patterns can also be found at:\n * http://www.aa-asterisk.org.uk/index.php/Regular_Expressions_for_Validating_and_Formatting_GB_Telephone_Numbers\n */\n\n// Matches UK landline + mobile, accepting only 01-3 for landline or 07 for mobile to exclude many premium numbers\n$.validator.addMethod( \"phonesUK\", function( phone_number, element ) {\n\tphone_number = phone_number.replace( /\\(|\\)|\\s+|-/g, \"\" );\n\treturn this.optional( element ) || phone_number.length > 9 &&\n\t\tphone_number.match( /^(?:(?:(?:00\\s?|\\+)44\\s?|0)(?:1\\d{8,9}|[23]\\d{9}|7(?:[1345789]\\d{8}|624\\d{6})))$/ );\n}, \"Please specify a valid uk phone number\" );\n\r\n/**\n * Matches a valid Canadian Postal Code\n *\n * @example jQuery.validator.methods.postalCodeCA( \"H0H 0H0\", element )\n * @result true\n *\n * @example jQuery.validator.methods.postalCodeCA( \"H0H0H0\", element )\n * @result false\n *\n * @name jQuery.validator.methods.postalCodeCA\n * @type Boolean\n * @cat Plugins/Validate/Methods\n */\n$.validator.addMethod( \"postalCodeCA\", function( value, element ) {\n\treturn this.optional( element ) || /^[ABCEGHJKLMNPRSTVXY]\\d[ABCEGHJKLMNPRSTVWXYZ] *\\d[ABCEGHJKLMNPRSTVWXYZ]\\d$/i.test( value );\n}, \"Please specify a valid postal code\" );\n\r\n/*\n* Valida CEPs do brasileiros:\n*\n* Formatos aceitos:\n* 99999-999\n* 99.999-999\n* 99999999\n*/\n$.validator.addMethod( \"postalcodeBR\", function( cep_value, element ) {\n\treturn this.optional( element ) || /^\\d{2}.\\d{3}-\\d{3}?$|^\\d{5}-?\\d{3}?$/.test( cep_value );\n}, \"Informe um CEP válido.\" );\n\r\n/* Matches Italian postcode (CAP) */\n$.validator.addMethod( \"postalcodeIT\", function( value, element ) {\n\treturn this.optional( element ) || /^\\d{5}$/.test( value );\n}, \"Please specify a valid postal code\" );\n\r\n$.validator.addMethod( \"postalcodeNL\", function( value, element ) {\n\treturn this.optional( element ) || /^[1-9][0-9]{3}\\s?[a-zA-Z]{2}$/.test( value );\n}, \"Please specify a valid postal code\" );\n\r\n// Matches UK postcode. Does not match to UK Channel Islands that have their own postcodes (non standard UK)\n$.validator.addMethod( \"postcodeUK\", function( value, element ) {\n\treturn this.optional( element ) || /^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\\s?(0AA))$/i.test( value );\n}, \"Please specify a valid UK postcode\" );\n\r\n/*\n * Lets you say \"at least X inputs that match selector Y must be filled.\"\n *\n * The end result is that neither of these inputs:\n *\n *\t<input class=\"productinfo\" name=\"partnumber\">\n *\t<input class=\"productinfo\" name=\"description\">\n *\n *\t...will validate unless at least one of them is filled.\n *\n * partnumber:\t{require_from_group: [1,\".productinfo\"]},\n * description: {require_from_group: [1,\".productinfo\"]}\n *\n * options[0]: number of fields that must be filled in the group\n * options[1]: CSS selector that defines the group of conditionally required fields\n */\n$.validator.addMethod( \"require_from_group\", function( value, element, options ) {\n\tvar $fields = $( options[ 1 ], element.form ),\n\t\t$fieldsFirst = $fields.eq( 0 ),\n\t\tvalidator = $fieldsFirst.data( \"valid_req_grp\" ) ? $fieldsFirst.data( \"valid_req_grp\" ) : $.extend( {}, this ),\n\t\tisValid = $fields.filter( function() {\n\t\t\treturn validator.elementValue( this );\n\t\t} ).length >= options[ 0 ];\n\n\t// Store the cloned validator for future validation\n\t$fieldsFirst.data( \"valid_req_grp\", validator );\n\n\t// If element isn't being validated, run each require_from_group field's validation rules\n\tif ( !$( element ).data( \"being_validated\" ) ) {\n\t\t$fields.data( \"being_validated\", true );\n\t\t$fields.each( function() {\n\t\t\tvalidator.element( this );\n\t\t} );\n\t\t$fields.data( \"being_validated\", false );\n\t}\n\treturn isValid;\n}, $.validator.format( \"Please fill at least {0} of these fields.\" ) );\n\r\n/*\n * Lets you say \"either at least X inputs that match selector Y must be filled,\n * OR they must all be skipped (left blank).\"\n *\n * The end result, is that none of these inputs:\n *\n *\t<input class=\"productinfo\" name=\"partnumber\">\n *\t<input class=\"productinfo\" name=\"description\">\n *\t<input class=\"productinfo\" name=\"color\">\n *\n *\t...will validate unless either at least two of them are filled,\n *\tOR none of them are.\n *\n * partnumber:\t{skip_or_fill_minimum: [2,\".productinfo\"]},\n * description: {skip_or_fill_minimum: [2,\".productinfo\"]},\n * color:\t\t{skip_or_fill_minimum: [2,\".productinfo\"]}\n *\n * options[0]: number of fields that must be filled in the group\n * options[1]: CSS selector that defines the group of conditionally required fields\n *\n */\n$.validator.addMethod( \"skip_or_fill_minimum\", function( value, element, options ) {\n\tvar $fields = $( options[ 1 ], element.form ),\n\t\t$fieldsFirst = $fields.eq( 0 ),\n\t\tvalidator = $fieldsFirst.data( \"valid_skip\" ) ? $fieldsFirst.data( \"valid_skip\" ) : $.extend( {}, this ),\n\t\tnumberFilled = $fields.filter( function() {\n\t\t\treturn validator.elementValue( this );\n\t\t} ).length,\n\t\tisValid = numberFilled === 0 || numberFilled >= options[ 0 ];\n\n\t// Store the cloned validator for future validation\n\t$fieldsFirst.data( \"valid_skip\", validator );\n\n\t// If element isn't being validated, run each skip_or_fill_minimum field's validation rules\n\tif ( !$( element ).data( \"being_validated\" ) ) {\n\t\t$fields.data( \"being_validated\", true );\n\t\t$fields.each( function() {\n\t\t\tvalidator.element( this );\n\t\t} );\n\t\t$fields.data( \"being_validated\", false );\n\t}\n\treturn isValid;\n}, $.validator.format( \"Please either skip these fields or fill at least {0} of them.\" ) );\n\r\n/* Validates US States and/or Territories by @jdforsythe\n * Can be case insensitive or require capitalization - default is case insensitive\n * Can include US Territories or not - default does not\n * Can include US Military postal abbreviations (AA, AE, AP) - default does not\n *\n * Note: \"States\" always includes DC (District of Colombia)\n *\n * Usage examples:\n *\n *  This is the default - case insensitive, no territories, no military zones\n *  stateInput: {\n *     caseSensitive: false,\n *     includeTerritories: false,\n *     includeMilitary: false\n *  }\n *\n *  Only allow capital letters, no territories, no military zones\n *  stateInput: {\n *     caseSensitive: false\n *  }\n *\n *  Case insensitive, include territories but not military zones\n *  stateInput: {\n *     includeTerritories: true\n *  }\n *\n *  Only allow capital letters, include territories and military zones\n *  stateInput: {\n *     caseSensitive: true,\n *     includeTerritories: true,\n *     includeMilitary: true\n *  }\n *\n */\n$.validator.addMethod( \"stateUS\", function( value, element, options ) {\n\tvar isDefault = typeof options === \"undefined\",\n\t\tcaseSensitive = ( isDefault || typeof options.caseSensitive === \"undefined\" ) ? false : options.caseSensitive,\n\t\tincludeTerritories = ( isDefault || typeof options.includeTerritories === \"undefined\" ) ? false : options.includeTerritories,\n\t\tincludeMilitary = ( isDefault || typeof options.includeMilitary === \"undefined\" ) ? false : options.includeMilitary,\n\t\tregex;\n\n\tif ( !includeTerritories && !includeMilitary ) {\n\t\tregex = \"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$\";\n\t} else if ( includeTerritories && includeMilitary ) {\n\t\tregex = \"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$\";\n\t} else if ( includeTerritories ) {\n\t\tregex = \"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$\";\n\t} else {\n\t\tregex = \"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$\";\n\t}\n\n\tregex = caseSensitive ? new RegExp( regex ) : new RegExp( regex, \"i\" );\n\treturn this.optional( element ) || regex.test( value );\n}, \"Please specify a valid state\" );\n\r\n// TODO check if value starts with <, otherwise don't try stripping anything\n$.validator.addMethod( \"strippedminlength\", function( value, element, param ) {\n\treturn $( value ).text().length >= param;\n}, $.validator.format( \"Please enter at least {0} characters\" ) );\n\r\n$.validator.addMethod( \"time\", function( value, element ) {\n\treturn this.optional( element ) || /^([01]\\d|2[0-3]|[0-9])(:[0-5]\\d){1,2}$/.test( value );\n}, \"Please enter a valid time, between 00:00 and 23:59\" );\n\r\n$.validator.addMethod( \"time12h\", function( value, element ) {\n\treturn this.optional( element ) || /^((0?[1-9]|1[012])(:[0-5]\\d){1,2}(\\ ?[AP]M))$/i.test( value );\n}, \"Please enter a valid time in 12-hour am/pm format\" );\n\r\n// Same as url, but TLD is optional\n$.validator.addMethod( \"url2\", function( value, element ) {\n\treturn this.optional( element ) || /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test( value );\n}, $.validator.messages.url );\n\r\n/**\n * Return true, if the value is a valid vehicle identification number (VIN).\n *\n * Works with all kind of text inputs.\n *\n * @example <input type=\"text\" size=\"20\" name=\"VehicleID\" class=\"{required:true,vinUS:true}\" />\n * @desc Declares a required input element whose value must be a valid vehicle identification number.\n *\n * @name $.validator.methods.vinUS\n * @type Boolean\n * @cat Plugins/Validate/Methods\n */\n$.validator.addMethod( \"vinUS\", function( v ) {\n\tif ( v.length !== 17 ) {\n\t\treturn false;\n\t}\n\n\tvar LL = [ \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"M\", \"N\", \"P\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\" ],\n\t\tVL = [ 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9 ],\n\t\tFL = [ 8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2 ],\n\t\trs = 0,\n\t\ti, n, d, f, cd, cdv;\n\n\tfor ( i = 0; i < 17; i++ ) {\n\t\tf = FL[ i ];\n\t\td = v.slice( i, i + 1 );\n\t\tif ( i === 8 ) {\n\t\t\tcdv = d;\n\t\t}\n\t\tif ( !isNaN( d ) ) {\n\t\t\td *= f;\n\t\t} else {\n\t\t\tfor ( n = 0; n < LL.length; n++ ) {\n\t\t\t\tif ( d.toUpperCase() === LL[ n ] ) {\n\t\t\t\t\td = VL[ n ];\n\t\t\t\t\td *= f;\n\t\t\t\t\tif ( isNaN( cdv ) && n === 8 ) {\n\t\t\t\t\t\tcdv = LL[ n ];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trs += d;\n\t}\n\tcd = rs % 11;\n\tif ( cd === 10 ) {\n\t\tcd = \"X\";\n\t}\n\tif ( cd === cdv ) {\n\t\treturn true;\n\t}\n\treturn false;\n}, \"The specified vehicle identification number (VIN) is invalid.\" );\n\r\n$.validator.addMethod( \"zipcodeUS\", function( value, element ) {\n\treturn this.optional( element ) || /^\\d{5}(-\\d{4})?$/.test( value );\n}, \"The specified US ZIP Code is invalid\" );\n\r\n$.validator.addMethod( \"ziprange\", function( value, element ) {\n\treturn this.optional( element ) || /^90[2-5]\\d\\{2\\}-\\d{4}$/.test( value );\n}, \"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx\" );\nreturn $;\r\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvanF1ZXJ5LXZhbGlkYXRpb24vZGlzdC9hZGRpdGlvbmFsLW1ldGhvZHMuanM/ZTNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogalF1ZXJ5IFZhbGlkYXRpb24gUGx1Z2luIHYxLjE2LjBcclxuICpcclxuICogaHR0cDovL2pxdWVyeXZhbGlkYXRpb24ub3JnL1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgSsO2cm4gWmFlZmZlcmVyXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKi9cclxuKGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xyXG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XHJcblx0XHRkZWZpbmUoIFtcImpxdWVyeVwiLCBcIi4vanF1ZXJ5LnZhbGlkYXRlXCJdLCBmYWN0b3J5ICk7XHJcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIHJlcXVpcmUoIFwianF1ZXJ5XCIgKSApO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcclxuXHR9XHJcbn0oZnVuY3Rpb24oICQgKSB7XHJcblxyXG4oIGZ1bmN0aW9uKCkge1xuXG5cdGZ1bmN0aW9uIHN0cmlwSHRtbCggdmFsdWUgKSB7XG5cblx0XHQvLyBSZW1vdmUgaHRtbCB0YWdzIGFuZCBzcGFjZSBjaGFyc1xuXHRcdHJldHVybiB2YWx1ZS5yZXBsYWNlKCAvPC5bXjw+XSo/Pi9nLCBcIiBcIiApLnJlcGxhY2UoIC8mbmJzcDt8JiMxNjA7L2dpLCBcIiBcIiApXG5cblx0XHQvLyBSZW1vdmUgcHVuY3R1YXRpb25cblx0XHQucmVwbGFjZSggL1suKCksOzohPyUjJCdcXFwiXys9XFwvXFwt4oCc4oCd4oCZXSovZywgXCJcIiApO1xuXHR9XG5cblx0JC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcIm1heFdvcmRzXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW1zICkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgc3RyaXBIdG1sKCB2YWx1ZSApLm1hdGNoKCAvXFxiXFx3K1xcYi9nICkubGVuZ3RoIDw9IHBhcmFtcztcblx0fSwgJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciB7MH0gd29yZHMgb3IgbGVzcy5cIiApICk7XG5cblx0JC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcIm1pbldvcmRzXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW1zICkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgc3RyaXBIdG1sKCB2YWx1ZSApLm1hdGNoKCAvXFxiXFx3K1xcYi9nICkubGVuZ3RoID49IHBhcmFtcztcblx0fSwgJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gd29yZHMuXCIgKSApO1xuXG5cdCQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJyYW5nZVdvcmRzXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW1zICkge1xuXHRcdHZhciB2YWx1ZVN0cmlwcGVkID0gc3RyaXBIdG1sKCB2YWx1ZSApLFxuXHRcdFx0cmVnZXggPSAvXFxiXFx3K1xcYi9nO1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgdmFsdWVTdHJpcHBlZC5tYXRjaCggcmVnZXggKS5sZW5ndGggPj0gcGFyYW1zWyAwIF0gJiYgdmFsdWVTdHJpcHBlZC5tYXRjaCggcmVnZXggKS5sZW5ndGggPD0gcGFyYW1zWyAxIF07XG5cdH0sICQudmFsaWRhdG9yLmZvcm1hdCggXCJQbGVhc2UgZW50ZXIgYmV0d2VlbiB7MH0gYW5kIHsxfSB3b3Jkcy5cIiApICk7XG5cbn0oKSApO1xuXHJcbi8vIEFjY2VwdCBhIHZhbHVlIGZyb20gYSBmaWxlIGlucHV0IGJhc2VkIG9uIGEgcmVxdWlyZWQgbWltZXR5cGVcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJhY2NlcHRcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSApIHtcblxuXHQvLyBTcGxpdCBtaW1lIG9uIGNvbW1hcyBpbiBjYXNlIHdlIGhhdmUgbXVsdGlwbGUgdHlwZXMgd2UgY2FuIGFjY2VwdFxuXHR2YXIgdHlwZVBhcmFtID0gdHlwZW9mIHBhcmFtID09PSBcInN0cmluZ1wiID8gcGFyYW0ucmVwbGFjZSggL1xccy9nLCBcIlwiICkgOiBcImltYWdlLypcIixcblx0XHRvcHRpb25hbFZhbHVlID0gdGhpcy5vcHRpb25hbCggZWxlbWVudCApLFxuXHRcdGksIGZpbGUsIHJlZ2V4O1xuXG5cdC8vIEVsZW1lbnQgaXMgb3B0aW9uYWxcblx0aWYgKCBvcHRpb25hbFZhbHVlICkge1xuXHRcdHJldHVybiBvcHRpb25hbFZhbHVlO1xuXHR9XG5cblx0aWYgKCAkKCBlbGVtZW50ICkuYXR0ciggXCJ0eXBlXCIgKSA9PT0gXCJmaWxlXCIgKSB7XG5cblx0XHQvLyBFc2NhcGUgc3RyaW5nIHRvIGJlIHVzZWQgaW4gdGhlIHJlZ2V4XG5cdFx0Ly8gc2VlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0NDYxNzAvZXNjYXBlLXN0cmluZy1mb3ItdXNlLWluLWphdmFzY3JpcHQtcmVnZXhcblx0XHQvLyBFc2NhcGUgYWxzbyBcIi8qXCIgYXMgXCIvLipcIiBhcyBhIHdpbGRjYXJkXG5cdFx0dHlwZVBhcmFtID0gdHlwZVBhcmFtXG5cdFx0XHRcdC5yZXBsYWNlKCAvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csIFwiXFxcXCQmXCIgKVxuXHRcdFx0XHQucmVwbGFjZSggLywvZywgXCJ8XCIgKVxuXHRcdFx0XHQucmVwbGFjZSggL1xcL1xcKi9nLCBcIi8uKlwiICk7XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgZWxlbWVudCBoYXMgYSBGaWxlTGlzdCBiZWZvcmUgY2hlY2tpbmcgZWFjaCBmaWxlXG5cdFx0aWYgKCBlbGVtZW50LmZpbGVzICYmIGVsZW1lbnQuZmlsZXMubGVuZ3RoICkge1xuXHRcdFx0cmVnZXggPSBuZXcgUmVnRXhwKCBcIi4/KFwiICsgdHlwZVBhcmFtICsgXCIpJFwiLCBcImlcIiApO1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCBlbGVtZW50LmZpbGVzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRmaWxlID0gZWxlbWVudC5maWxlc1sgaSBdO1xuXG5cdFx0XHRcdC8vIEdyYWIgdGhlIG1pbWV0eXBlIGZyb20gdGhlIGxvYWRlZCBmaWxlLCB2ZXJpZnkgaXQgbWF0Y2hlc1xuXHRcdFx0XHRpZiAoICFmaWxlLnR5cGUubWF0Y2goIHJlZ2V4ICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gRWl0aGVyIHJldHVybiB0cnVlIGJlY2F1c2Ugd2UndmUgdmFsaWRhdGVkIGVhY2ggZmlsZSwgb3IgYmVjYXVzZSB0aGVcblx0Ly8gYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGVsZW1lbnQuZmlsZXMgYW5kIHRoZSBGaWxlTGlzdCBmZWF0dXJlXG5cdHJldHVybiB0cnVlO1xufSwgJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhIHZhbHVlIHdpdGggYSB2YWxpZCBtaW1ldHlwZS5cIiApICk7XG5cclxuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImFscGhhbnVtZXJpY1wiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15cXHcrJC9pLnRlc3QoIHZhbHVlICk7XG59LCBcIkxldHRlcnMsIG51bWJlcnMsIGFuZCB1bmRlcnNjb3JlcyBvbmx5IHBsZWFzZVwiICk7XG5cclxuLypcbiAqIER1dGNoIGJhbmsgYWNjb3VudCBudW1iZXJzIChub3QgJ2dpcm8nIG51bWJlcnMpIGhhdmUgOSBkaWdpdHNcbiAqIGFuZCBwYXNzIHRoZSAnMTEgY2hlY2snLlxuICogV2UgYWNjZXB0IHRoZSBub3RhdGlvbiB3aXRoIHNwYWNlcywgYXMgdGhhdCBpcyBjb21tb24uXG4gKiBhY2NlcHRhYmxlOiAxMjM0NTY3ODkgb3IgMTIgMzQgNTYgNzg5XG4gKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJiYW5rYWNjb3VudE5MXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0aWYgKCB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKCAhKCAvXlswLTldezl9fChbMC05XXsyfSApezN9WzAtOV17M30kLy50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gTm93ICcxMSBjaGVjaydcblx0dmFyIGFjY291bnQgPSB2YWx1ZS5yZXBsYWNlKCAvIC9nLCBcIlwiICksIC8vIFJlbW92ZSBzcGFjZXNcblx0XHRzdW0gPSAwLFxuXHRcdGxlbiA9IGFjY291bnQubGVuZ3RoLFxuXHRcdHBvcywgZmFjdG9yLCBkaWdpdDtcblx0Zm9yICggcG9zID0gMDsgcG9zIDwgbGVuOyBwb3MrKyApIHtcblx0XHRmYWN0b3IgPSBsZW4gLSBwb3M7XG5cdFx0ZGlnaXQgPSBhY2NvdW50LnN1YnN0cmluZyggcG9zLCBwb3MgKyAxICk7XG5cdFx0c3VtID0gc3VtICsgZmFjdG9yICogZGlnaXQ7XG5cdH1cblx0cmV0dXJuIHN1bSAlIDExID09PSAwO1xufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIGJhbmsgYWNjb3VudCBudW1iZXJcIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJiYW5rb3JnaXJvYWNjb3VudE5MXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fFxuXHRcdFx0KCAkLnZhbGlkYXRvci5tZXRob2RzLmJhbmthY2NvdW50TkwuY2FsbCggdGhpcywgdmFsdWUsIGVsZW1lbnQgKSApIHx8XG5cdFx0XHQoICQudmFsaWRhdG9yLm1ldGhvZHMuZ2lyb2FjY291bnROTC5jYWxsKCB0aGlzLCB2YWx1ZSwgZWxlbWVudCApICk7XG59LCBcIlBsZWFzZSBzcGVjaWZ5IGEgdmFsaWQgYmFuayBvciBnaXJvIGFjY291bnQgbnVtYmVyXCIgKTtcblxyXG4vKipcbiAqIEJJQyBpcyB0aGUgYnVzaW5lc3MgaWRlbnRpZmllciBjb2RlIChJU08gOTM2MikuIFRoaXMgQklDIGNoZWNrIGlzIG5vdCBhIGd1YXJhbnRlZSBmb3IgYXV0aGVudGljaXR5LlxuICpcbiAqIEJJQyBwYXR0ZXJuOiBCQkJCQ0NMTGJiYiAoOCBvciAxMSBjaGFyYWN0ZXJzIGxvbmc7IGJiYiBpcyBvcHRpb25hbClcbiAqXG4gKiBWYWxpZGF0aW9uIGlzIGNhc2UtaW5zZW5zaXRpdmUuIFBsZWFzZSBtYWtlIHN1cmUgdG8gbm9ybWFsaXplIGlucHV0IHlvdXJzZWxmLlxuICpcbiAqIEJJQyBkZWZpbml0aW9uIGluIGRldGFpbDpcbiAqIC0gRmlyc3QgNCBjaGFyYWN0ZXJzIC0gYmFuayBjb2RlIChvbmx5IGxldHRlcnMpXG4gKiAtIE5leHQgMiBjaGFyYWN0ZXJzIC0gSVNPIDMxNjYtMSBhbHBoYS0yIGNvdW50cnkgY29kZSAob25seSBsZXR0ZXJzKVxuICogLSBOZXh0IDIgY2hhcmFjdGVycyAtIGxvY2F0aW9uIGNvZGUgKGxldHRlcnMgYW5kIGRpZ2l0cylcbiAqICAgYS4gc2hhbGwgbm90IHN0YXJ0IHdpdGggJzAnIG9yICcxJ1xuICogICBiLiBzZWNvbmQgY2hhcmFjdGVyIG11c3QgYmUgYSBsZXR0ZXIgKCdPJyBpcyBub3QgYWxsb3dlZCkgb3IgZGlnaXQgKCcwJyBmb3IgdGVzdCAodGhlcmVmb3JlIG5vdCBhbGxvd2VkKSwgJzEnIGRlbm90aW5nIHBhc3NpdmUgcGFydGljaXBhbnQsICcyJyB0eXBpY2FsbHkgcmV2ZXJzZS1iaWxsaW5nKVxuICogLSBMYXN0IDMgY2hhcmFjdGVycyAtIGJyYW5jaCBjb2RlLCBvcHRpb25hbCAoc2hhbGwgbm90IHN0YXJ0IHdpdGggJ1gnIGV4Y2VwdCBpbiBjYXNlIG9mICdYWFgnIGZvciBwcmltYXJ5IG9mZmljZSkgKGxldHRlcnMgYW5kIGRpZ2l0cylcbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImJpY1wiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXihbQS1aXXs2fVtBLVoyLTldW0EtTlAtWjEtOV0pKFh7M318W0EtV1ktWjAtOV1bQS1aMC05XXsyfSk/JC8udGVzdCggdmFsdWUudG9VcHBlckNhc2UoKSApO1xufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIEJJQyBjb2RlXCIgKTtcblxyXG4vKlxuICogQ8OzZGlnbyBkZSBpZGVudGlmaWNhY2nDs24gZmlzY2FsICggQ0lGICkgaXMgdGhlIHRheCBpZGVudGlmaWNhdGlvbiBjb2RlIGZvciBTcGFuaXNoIGxlZ2FsIGVudGl0aWVzXG4gKiBGdXJ0aGVyIHJ1bGVzIGNhbiBiZSBmb3VuZCBpbiBTcGFuaXNoIG9uIGh0dHA6Ly9lcy53aWtpcGVkaWEub3JnL3dpa2kvQyVDMyVCM2RpZ29fZGVfaWRlbnRpZmljYWNpJUMzJUIzbl9maXNjYWxcbiAqXG4gKiBTcGFuaXNoIENJRiBzdHJ1Y3R1cmU6XG4gKlxuICogWyBUIF1bIFAgXVsgUCBdWyBOIF1bIE4gXVsgTiBdWyBOIF1bIE4gXVsgQyBdXG4gKlxuICogV2hlcmU6XG4gKlxuICogVDogMSBjaGFyYWN0ZXIuIEtpbmQgb2YgT3JnYW5pemF0aW9uIExldHRlcjogW0FCQ0RFRkdISktMTU5QUVJTVVZXXVxuICogUDogMiBjaGFyYWN0ZXJzLiBQcm92aW5jZS5cbiAqIE46IDUgY2hhcmFjdGVycy4gU2VjdWVuY2lhbCBOdW1iZXIgd2l0aGluIHRoZSBwcm92aW5jZS5cbiAqIEM6IDEgY2hhcmFjdGVyLiBDb250cm9sIERpZ2l0OiBbMC05QS1KXS5cbiAqXG4gKiBbIFQgXTogS2luZCBvZiBPcmdhbml6YXRpb25zLiBQb3NzaWJsZSB2YWx1ZXM6XG4gKlxuICogICBBLiBDb3Jwb3JhdGlvbnNcbiAqICAgQi4gTExDc1xuICogICBDLiBHZW5lcmFsIHBhcnRuZXJzaGlwc1xuICogICBELiBDb21wYW5pZXMgbGltaXRlZCBwYXJ0bmVyc2hpcHNcbiAqICAgRS4gQ29tbXVuaXRpZXMgb2YgZ29vZHNcbiAqICAgRi4gQ29vcGVyYXRpdmUgU29jaWV0aWVzXG4gKiAgIEcuIEFzc29jaWF0aW9uc1xuICogICBILiBDb21tdW5pdGllcyBvZiBob21lb3duZXJzIGluIGhvcml6b250YWwgcHJvcGVydHkgcmVnaW1lXG4gKiAgIEouIENpdmlsIFNvY2lldGllc1xuICogICBLLiBPbGQgZm9ybWF0XG4gKiAgIEwuIE9sZCBmb3JtYXRcbiAqICAgTS4gT2xkIGZvcm1hdFxuICogICBOLiBOb25yZXNpZGVudCBlbnRpdGllc1xuICogICBQLiBMb2NhbCBhdXRob3JpdGllc1xuICogICBRLiBBdXRvbm9tb3VzIGJvZGllcywgc3RhdGUgb3Igbm90LCBhbmQgdGhlIGxpa2UsIGFuZCBjb25ncmVnYXRpb25zIGFuZCByZWxpZ2lvdXMgaW5zdGl0dXRpb25zXG4gKiAgIFIuIENvbmdyZWdhdGlvbnMgYW5kIHJlbGlnaW91cyBpbnN0aXR1dGlvbnMgKHNpbmNlIDIwMDggT1JERVIgRUhBLzQ1MS8yMDA4KVxuICogICBTLiBPcmdhbnMgb2YgU3RhdGUgQWRtaW5pc3RyYXRpb24gYW5kIHJlZ2lvbnNcbiAqICAgVi4gQWdyYXJpYW4gVHJhbnNmb3JtYXRpb25cbiAqICAgVy4gUGVybWFuZW50IGVzdGFibGlzaG1lbnRzIG9mIG5vbi1yZXNpZGVudCBpbiBTcGFpblxuICpcbiAqIFsgQyBdOiBDb250cm9sIERpZ2l0LiBJdCBjYW4gYmUgYSBudW1iZXIgb3IgYSBsZXR0ZXIgZGVwZW5kaW5nIG9uIFQgdmFsdWU6XG4gKiBbIFQgXSAgLS0+ICBbIEMgXVxuICogLS0tLS0tICAgIC0tLS0tLS0tLS1cbiAqICAgQSAgICAgICAgIE51bWJlclxuICogICBCICAgICAgICAgTnVtYmVyXG4gKiAgIEUgICAgICAgICBOdW1iZXJcbiAqICAgSCAgICAgICAgIE51bWJlclxuICogICBLICAgICAgICAgTGV0dGVyXG4gKiAgIFAgICAgICAgICBMZXR0ZXJcbiAqICAgUSAgICAgICAgIExldHRlclxuICogICBTICAgICAgICAgTGV0dGVyXG4gKlxuICovXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwiY2lmRVNcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgY2lmUmVnRXggPSBuZXcgUmVnRXhwKCAvXihbQUJDREVGR0hKS0xNTlBRUlNVVlddKShcXGR7N30pKFswLTlBLUpdKSQvZ2kgKTtcblx0dmFyIGxldHRlciAgPSB2YWx1ZS5zdWJzdHJpbmcoIDAsIDEgKSwgLy8gWyBUIF1cblx0XHRudW1iZXIgID0gdmFsdWUuc3Vic3RyaW5nKCAxLCA4ICksIC8vIFsgUCBdWyBQIF1bIE4gXVsgTiBdWyBOIF1bIE4gXVsgTiBdXG5cdFx0Y29udHJvbCA9IHZhbHVlLnN1YnN0cmluZyggOCwgOSApLCAvLyBbIEMgXVxuXHRcdGFsbF9zdW0gPSAwLFxuXHRcdGV2ZW5fc3VtID0gMCxcblx0XHRvZGRfc3VtID0gMCxcblx0XHRpLCBuLFxuXHRcdGNvbnRyb2xfZGlnaXQsXG5cdFx0Y29udHJvbF9sZXR0ZXI7XG5cblx0ZnVuY3Rpb24gaXNPZGQoIG4gKSB7XG5cdFx0cmV0dXJuIG4gJSAyID09PSAwO1xuXHR9XG5cblx0Ly8gUXVpY2sgZm9ybWF0IHRlc3Rcblx0aWYgKCB2YWx1ZS5sZW5ndGggIT09IDkgfHwgIWNpZlJlZ0V4LnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Zm9yICggaSA9IDA7IGkgPCBudW1iZXIubGVuZ3RoOyBpKysgKSB7XG5cdFx0biA9IHBhcnNlSW50KCBudW1iZXJbIGkgXSwgMTAgKTtcblxuXHRcdC8vIE9kZCBwb3NpdGlvbnNcblx0XHRpZiAoIGlzT2RkKCBpICkgKSB7XG5cblx0XHRcdC8vIE9kZCBwb3NpdGlvbnMgYXJlIG11bHRpcGxpZWQgZmlyc3QuXG5cdFx0XHRuICo9IDI7XG5cblx0XHRcdC8vIElmIHRoZSBtdWx0aXBsaWNhdGlvbiBpcyBiaWdnZXIgdGhhbiAxMCB3ZSBuZWVkIHRvIGFkanVzdFxuXHRcdFx0b2RkX3N1bSArPSBuIDwgMTAgPyBuIDogbiAtIDk7XG5cblx0XHQvLyBFdmVuIHBvc2l0aW9uc1xuXHRcdC8vIEp1c3Qgc3VtIHRoZW1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbl9zdW0gKz0gbjtcblx0XHR9XG5cdH1cblxuXHRhbGxfc3VtID0gZXZlbl9zdW0gKyBvZGRfc3VtO1xuXHRjb250cm9sX2RpZ2l0ID0gKCAxMCAtICggYWxsX3N1bSApLnRvU3RyaW5nKCkuc3Vic3RyKCAtMSApICkudG9TdHJpbmcoKTtcblx0Y29udHJvbF9kaWdpdCA9IHBhcnNlSW50KCBjb250cm9sX2RpZ2l0LCAxMCApID4gOSA/IFwiMFwiIDogY29udHJvbF9kaWdpdDtcblx0Y29udHJvbF9sZXR0ZXIgPSBcIkpBQkNERUZHSElcIi5zdWJzdHIoIGNvbnRyb2xfZGlnaXQsIDEgKS50b1N0cmluZygpO1xuXG5cdC8vIENvbnRyb2wgbXVzdCBiZSBhIGRpZ2l0XG5cdGlmICggbGV0dGVyLm1hdGNoKCAvW0FCRUhdLyApICkge1xuXHRcdHJldHVybiBjb250cm9sID09PSBjb250cm9sX2RpZ2l0O1xuXG5cdC8vIENvbnRyb2wgbXVzdCBiZSBhIGxldHRlclxuXHR9IGVsc2UgaWYgKCBsZXR0ZXIubWF0Y2goIC9bS1BRU10vICkgKSB7XG5cdFx0cmV0dXJuIGNvbnRyb2wgPT09IGNvbnRyb2xfbGV0dGVyO1xuXG5cdC8vIENhbiBiZSBlaXRoZXJcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gY29udHJvbCA9PT0gY29udHJvbF9kaWdpdCB8fCBjb250cm9sID09PSBjb250cm9sX2xldHRlcjtcblx0fVxuXG5cdHJldHVybiBmYWxzZTtcblxufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIENJRiBudW1iZXIuXCIgKTtcblxyXG4vKlxuICogQnJhemlsbGlhbiBDUEYgbnVtYmVyIChDYWRhc3RyYWRvIGRlIFBlc3NvYXMgRsOtc2ljYXMpIGlzIHRoZSBlcXVpdmFsZW50IG9mIGEgQnJhemlsaWFuIHRheCByZWdpc3RyYXRpb24gbnVtYmVyLlxuICogQ1BGIG51bWJlcnMgaGF2ZSAxMSBkaWdpdHMgaW4gdG90YWw6IDkgbnVtYmVycyBmb2xsb3dlZCBieSAyIGNoZWNrIG51bWJlcnMgdGhhdCBhcmUgYmVpbmcgdXNlZCBmb3IgdmFsaWRhdGlvbi5cbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImNwZkJSXCIsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblxuXHQvLyBSZW1vdmluZyBzcGVjaWFsIGNoYXJhY3RlcnMgZnJvbSB2YWx1ZVxuXHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoIC8oW34hQCMkJV4mKigpXys9YHt9XFxbXFxdXFwtfFxcXFw6Oyc8PiwuXFwvPyBdKSsvZywgXCJcIiApO1xuXG5cdC8vIENoZWNraW5nIHZhbHVlIHRvIGhhdmUgMTEgZGlnaXRzIG9ubHlcblx0aWYgKCB2YWx1ZS5sZW5ndGggIT09IDExICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHZhciBzdW0gPSAwLFxuXHRcdGZpcnN0Q04sIHNlY29uZENOLCBjaGVja1Jlc3VsdCwgaTtcblxuXHRmaXJzdENOID0gcGFyc2VJbnQoIHZhbHVlLnN1YnN0cmluZyggOSwgMTAgKSwgMTAgKTtcblx0c2Vjb25kQ04gPSBwYXJzZUludCggdmFsdWUuc3Vic3RyaW5nKCAxMCwgMTEgKSwgMTAgKTtcblxuXHRjaGVja1Jlc3VsdCA9IGZ1bmN0aW9uKCBzdW0sIGNuICkge1xuXHRcdHZhciByZXN1bHQgPSAoIHN1bSAqIDEwICkgJSAxMTtcblx0XHRpZiAoICggcmVzdWx0ID09PSAxMCApIHx8ICggcmVzdWx0ID09PSAxMSApICkge1xuXHRcdFx0cmVzdWx0ID0gMDtcblx0XHR9XG5cdFx0cmV0dXJuICggcmVzdWx0ID09PSBjbiApO1xuXHR9O1xuXG5cdC8vIENoZWNraW5nIGZvciBkdW1wIGRhdGFcblx0aWYgKCB2YWx1ZSA9PT0gXCJcIiB8fFxuXHRcdHZhbHVlID09PSBcIjAwMDAwMDAwMDAwXCIgfHxcblx0XHR2YWx1ZSA9PT0gXCIxMTExMTExMTExMVwiIHx8XG5cdFx0dmFsdWUgPT09IFwiMjIyMjIyMjIyMjJcIiB8fFxuXHRcdHZhbHVlID09PSBcIjMzMzMzMzMzMzMzXCIgfHxcblx0XHR2YWx1ZSA9PT0gXCI0NDQ0NDQ0NDQ0NFwiIHx8XG5cdFx0dmFsdWUgPT09IFwiNTU1NTU1NTU1NTVcIiB8fFxuXHRcdHZhbHVlID09PSBcIjY2NjY2NjY2NjY2XCIgfHxcblx0XHR2YWx1ZSA9PT0gXCI3Nzc3Nzc3Nzc3N1wiIHx8XG5cdFx0dmFsdWUgPT09IFwiODg4ODg4ODg4ODhcIiB8fFxuXHRcdHZhbHVlID09PSBcIjk5OTk5OTk5OTk5XCJcblx0KSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gU3RlcCAxIC0gdXNpbmcgZmlyc3QgQ2hlY2sgTnVtYmVyOlxuXHRmb3IgKCBpID0gMTsgaSA8PSA5OyBpKysgKSB7XG5cdFx0c3VtID0gc3VtICsgcGFyc2VJbnQoIHZhbHVlLnN1YnN0cmluZyggaSAtIDEsIGkgKSwgMTAgKSAqICggMTEgLSBpICk7XG5cdH1cblxuXHQvLyBJZiBmaXJzdCBDaGVjayBOdW1iZXIgKENOKSBpcyB2YWxpZCwgbW92ZSB0byBTdGVwIDIgLSB1c2luZyBzZWNvbmQgQ2hlY2sgTnVtYmVyOlxuXHRpZiAoIGNoZWNrUmVzdWx0KCBzdW0sIGZpcnN0Q04gKSApIHtcblx0XHRzdW0gPSAwO1xuXHRcdGZvciAoIGkgPSAxOyBpIDw9IDEwOyBpKysgKSB7XG5cdFx0XHRzdW0gPSBzdW0gKyBwYXJzZUludCggdmFsdWUuc3Vic3RyaW5nKCBpIC0gMSwgaSApLCAxMCApICogKCAxMiAtIGkgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNoZWNrUmVzdWx0KCBzdW0sIHNlY29uZENOICk7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xuXG59LCBcIlBsZWFzZSBzcGVjaWZ5IGEgdmFsaWQgQ1BGIG51bWJlclwiICk7XG5cclxuLy8gaHR0cDovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2NyZWRpdGNhcmQtbWV0aG9kL1xuLy8gYmFzZWQgb24gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MdWhuX2FsZ29yaXRobVxuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImNyZWRpdGNhcmRcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRpZiAoIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSApIHtcblx0XHRyZXR1cm4gXCJkZXBlbmRlbmN5LW1pc21hdGNoXCI7XG5cdH1cblxuXHQvLyBBY2NlcHQgb25seSBzcGFjZXMsIGRpZ2l0cyBhbmQgZGFzaGVzXG5cdGlmICggL1teMC05IFxcLV0rLy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHZhciBuQ2hlY2sgPSAwLFxuXHRcdG5EaWdpdCA9IDAsXG5cdFx0YkV2ZW4gPSBmYWxzZSxcblx0XHRuLCBjRGlnaXQ7XG5cblx0dmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKTtcblxuXHQvLyBCYXNpbmcgbWluIGFuZCBtYXggbGVuZ3RoIG9uXG5cdC8vIGh0dHA6Ly9kZXZlbG9wZXIuZWFuLmNvbS9nZW5lcmFsX2luZm8vVmFsaWRfQ3JlZGl0X0NhcmRfVHlwZXNcblx0aWYgKCB2YWx1ZS5sZW5ndGggPCAxMyB8fCB2YWx1ZS5sZW5ndGggPiAxOSApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmb3IgKCBuID0gdmFsdWUubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0gKSB7XG5cdFx0Y0RpZ2l0ID0gdmFsdWUuY2hhckF0KCBuICk7XG5cdFx0bkRpZ2l0ID0gcGFyc2VJbnQoIGNEaWdpdCwgMTAgKTtcblx0XHRpZiAoIGJFdmVuICkge1xuXHRcdFx0aWYgKCAoIG5EaWdpdCAqPSAyICkgPiA5ICkge1xuXHRcdFx0XHRuRGlnaXQgLT0gOTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRuQ2hlY2sgKz0gbkRpZ2l0O1xuXHRcdGJFdmVuID0gIWJFdmVuO1xuXHR9XG5cblx0cmV0dXJuICggbkNoZWNrICUgMTAgKSA9PT0gMDtcbn0sIFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgY3JlZGl0IGNhcmQgbnVtYmVyLlwiICk7XG5cclxuLyogTk9USUNFOiBNb2RpZmllZCB2ZXJzaW9uIG9mIENhc3RsZS5Db21wb25lbnRzLlZhbGlkYXRvci5DcmVkaXRDYXJkVmFsaWRhdG9yXG4gKiBSZWRpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0aGUgQXBhY2hlIExpY2Vuc2UgMi4wIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICogVmFsaWQgVHlwZXM6IG1hc3RlcmNhcmQsIHZpc2EsIGFtZXgsIGRpbmVyc2NsdWIsIGVucm91dGUsIGRpc2NvdmVyLCBqY2IsIHVua25vd24sIGFsbCAob3ZlcnJpZGVzIGFsbCBvdGhlciBzZXR0aW5ncylcbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImNyZWRpdGNhcmR0eXBlc1wiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRpZiAoIC9bXjAtOVxcLV0rLy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHZhbHVlID0gdmFsdWUucmVwbGFjZSggL1xcRC9nLCBcIlwiICk7XG5cblx0dmFyIHZhbGlkVHlwZXMgPSAweDAwMDA7XG5cblx0aWYgKCBwYXJhbS5tYXN0ZXJjYXJkICkge1xuXHRcdHZhbGlkVHlwZXMgfD0gMHgwMDAxO1xuXHR9XG5cdGlmICggcGFyYW0udmlzYSApIHtcblx0XHR2YWxpZFR5cGVzIHw9IDB4MDAwMjtcblx0fVxuXHRpZiAoIHBhcmFtLmFtZXggKSB7XG5cdFx0dmFsaWRUeXBlcyB8PSAweDAwMDQ7XG5cdH1cblx0aWYgKCBwYXJhbS5kaW5lcnNjbHViICkge1xuXHRcdHZhbGlkVHlwZXMgfD0gMHgwMDA4O1xuXHR9XG5cdGlmICggcGFyYW0uZW5yb3V0ZSApIHtcblx0XHR2YWxpZFR5cGVzIHw9IDB4MDAxMDtcblx0fVxuXHRpZiAoIHBhcmFtLmRpc2NvdmVyICkge1xuXHRcdHZhbGlkVHlwZXMgfD0gMHgwMDIwO1xuXHR9XG5cdGlmICggcGFyYW0uamNiICkge1xuXHRcdHZhbGlkVHlwZXMgfD0gMHgwMDQwO1xuXHR9XG5cdGlmICggcGFyYW0udW5rbm93biApIHtcblx0XHR2YWxpZFR5cGVzIHw9IDB4MDA4MDtcblx0fVxuXHRpZiAoIHBhcmFtLmFsbCApIHtcblx0XHR2YWxpZFR5cGVzID0gMHgwMDAxIHwgMHgwMDAyIHwgMHgwMDA0IHwgMHgwMDA4IHwgMHgwMDEwIHwgMHgwMDIwIHwgMHgwMDQwIHwgMHgwMDgwO1xuXHR9XG5cdGlmICggdmFsaWRUeXBlcyAmIDB4MDAwMSAmJiAvXig1WzEyMzQ1XSkvLnRlc3QoIHZhbHVlICkgKSB7IC8vIE1hc3RlcmNhcmRcblx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoID09PSAxNjtcblx0fVxuXHRpZiAoIHZhbGlkVHlwZXMgJiAweDAwMDIgJiYgL14oNCkvLnRlc3QoIHZhbHVlICkgKSB7IC8vIFZpc2Fcblx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoID09PSAxNjtcblx0fVxuXHRpZiAoIHZhbGlkVHlwZXMgJiAweDAwMDQgJiYgL14oM1s0N10pLy50ZXN0KCB2YWx1ZSApICkgeyAvLyBBbWV4XG5cdFx0cmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMTU7XG5cdH1cblx0aWYgKCB2YWxpZFR5cGVzICYgMHgwMDA4ICYmIC9eKDMoMFswMTIzNDVdfFs2OF0pKS8udGVzdCggdmFsdWUgKSApIHsgLy8gRGluZXJzY2x1YlxuXHRcdHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDE0O1xuXHR9XG5cdGlmICggdmFsaWRUeXBlcyAmIDB4MDAxMCAmJiAvXigyKDAxNHwxNDkpKS8udGVzdCggdmFsdWUgKSApIHsgLy8gRW5yb3V0ZVxuXHRcdHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDE1O1xuXHR9XG5cdGlmICggdmFsaWRUeXBlcyAmIDB4MDAyMCAmJiAvXig2MDExKS8udGVzdCggdmFsdWUgKSApIHsgLy8gRGlzY292ZXJcblx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoID09PSAxNjtcblx0fVxuXHRpZiAoIHZhbGlkVHlwZXMgJiAweDAwNDAgJiYgL14oMykvLnRlc3QoIHZhbHVlICkgKSB7IC8vIEpjYlxuXHRcdHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDE2O1xuXHR9XG5cdGlmICggdmFsaWRUeXBlcyAmIDB4MDA0MCAmJiAvXigyMTMxfDE4MDApLy50ZXN0KCB2YWx1ZSApICkgeyAvLyBKY2Jcblx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoID09PSAxNTtcblx0fVxuXHRpZiAoIHZhbGlkVHlwZXMgJiAweDAwODAgKSB7IC8vIFVua25vd25cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59LCBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGNyZWRpdCBjYXJkIG51bWJlci5cIiApO1xuXHJcbi8qKlxuICogVmFsaWRhdGVzIGN1cnJlbmNpZXMgd2l0aCBhbnkgZ2l2ZW4gc3ltYm9scyBieSBAamFtZXNsb3VpelxuICogU3ltYm9scyBjYW4gYmUgb3B0aW9uYWwgb3IgcmVxdWlyZWQuIFN5bWJvbHMgcmVxdWlyZWQgYnkgZGVmYXVsdFxuICpcbiAqIFVzYWdlIGV4YW1wbGVzOlxuICogIGN1cnJlbmN5OiBbXCLCo1wiLCBmYWxzZV0gLSBVc2UgZmFsc2UgZm9yIHNvZnQgY3VycmVuY3kgdmFsaWRhdGlvblxuICogIGN1cnJlbmN5OiBbXCIkXCIsIGZhbHNlXVxuICogIGN1cnJlbmN5OiBbXCJSTVwiLCBmYWxzZV0gLSBhbHNvIHdvcmtzIHdpdGggdGV4dCBiYXNlZCBzeW1ib2xzIHN1Y2ggYXMgXCJSTVwiIC0gTWFsYXlzaWEgUmluZ2dpdCBldGNcbiAqXG4gKiAgPGlucHV0IGNsYXNzPVwiY3VycmVuY3lJbnB1dFwiIG5hbWU9XCJjdXJyZW5jeUlucHV0XCI+XG4gKlxuICogU29mdCBzeW1ib2wgY2hlY2tpbmdcbiAqICBjdXJyZW5jeUlucHV0OiB7XG4gKiAgICAgY3VycmVuY3k6IFtcIiRcIiwgZmFsc2VdXG4gKiAgfVxuICpcbiAqIFN0cmljdCBzeW1ib2wgY2hlY2tpbmcgKGRlZmF1bHQpXG4gKiAgY3VycmVuY3lJbnB1dDoge1xuICogICAgIGN1cnJlbmN5OiBcIiRcIlxuICogICAgIC8vT1JcbiAqICAgICBjdXJyZW5jeTogW1wiJFwiLCB0cnVlXVxuICogIH1cbiAqXG4gKiBNdWx0aXBsZSBTeW1ib2xzXG4gKiAgY3VycmVuY3lJbnB1dDoge1xuICogICAgIGN1cnJlbmN5OiBcIiQswqMswqJcIlxuICogIH1cbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImN1cnJlbmN5XCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG4gICAgdmFyIGlzUGFyYW1TdHJpbmcgPSB0eXBlb2YgcGFyYW0gPT09IFwic3RyaW5nXCIsXG4gICAgICAgIHN5bWJvbCA9IGlzUGFyYW1TdHJpbmcgPyBwYXJhbSA6IHBhcmFtWyAwIF0sXG4gICAgICAgIHNvZnQgPSBpc1BhcmFtU3RyaW5nID8gdHJ1ZSA6IHBhcmFtWyAxIF0sXG4gICAgICAgIHJlZ2V4O1xuXG4gICAgc3ltYm9sID0gc3ltYm9sLnJlcGxhY2UoIC8sL2csIFwiXCIgKTtcbiAgICBzeW1ib2wgPSBzb2Z0ID8gc3ltYm9sICsgXCJdXCIgOiBzeW1ib2wgKyBcIl0/XCI7XG4gICAgcmVnZXggPSBcIl5bXCIgKyBzeW1ib2wgKyBcIihbMS05XXsxfVswLTldezAsMn0oXFxcXCxbMC05XXszfSkqKFxcXFwuWzAtOV17MCwyfSk/fFsxLTldezF9WzAtOV17MCx9KFxcXFwuWzAtOV17MCwyfSk/fDAoXFxcXC5bMC05XXswLDJ9KT98KFxcXFwuWzAtOV17MSwyfSk/KSRcIjtcbiAgICByZWdleCA9IG5ldyBSZWdFeHAoIHJlZ2V4ICk7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCByZWdleC50ZXN0KCB2YWx1ZSApO1xuXG59LCBcIlBsZWFzZSBzcGVjaWZ5IGEgdmFsaWQgY3VycmVuY3lcIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJkYXRlRkFcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eWzEtNF1cXGR7M31cXC8oKDA/WzEtNl1cXC8oKDNbMC0xXSl8KFsxLTJdWzAtOV0pfCgwP1sxLTldKSkpfCgoMVswLTJdfCgwP1s3LTldKSlcXC8oMzB8KFsxLTJdWzAtOV0pfCgwP1sxLTldKSkpKSQvLnRlc3QoIHZhbHVlICk7XG59LCAkLnZhbGlkYXRvci5tZXNzYWdlcy5kYXRlICk7XG5cclxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSwgaWYgdGhlIHZhbHVlIGlzIGEgdmFsaWQgZGF0ZSwgYWxzbyBtYWtpbmcgdGhpcyBmb3JtYWwgY2hlY2sgZGQvbW0veXl5eS5cbiAqXG4gKiBAZXhhbXBsZSAkLnZhbGlkYXRvci5tZXRob2RzLmRhdGUoXCIwMS8wMS8xOTAwXCIpXG4gKiBAcmVzdWx0IHRydWVcbiAqXG4gKiBAZXhhbXBsZSAkLnZhbGlkYXRvci5tZXRob2RzLmRhdGUoXCIwMS8xMy8xOTkwXCIpXG4gKiBAcmVzdWx0IGZhbHNlXG4gKlxuICogQGV4YW1wbGUgJC52YWxpZGF0b3IubWV0aG9kcy5kYXRlKFwiMDEuMDEuMTkwMFwiKVxuICogQHJlc3VsdCBmYWxzZVxuICpcbiAqIEBleGFtcGxlIDxpbnB1dCBuYW1lPVwicGlwcG9cIiBjbGFzcz1cIntkYXRlSVRBOnRydWV9XCIgLz5cbiAqIEBkZXNjIERlY2xhcmVzIGFuIG9wdGlvbmFsIGlucHV0IGVsZW1lbnQgd2hvc2UgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGRhdGUuXG4gKlxuICogQG5hbWUgJC52YWxpZGF0b3IubWV0aG9kcy5kYXRlSVRBXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAY2F0IFBsdWdpbnMvVmFsaWRhdGUvTWV0aG9kc1xuICovXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwiZGF0ZUlUQVwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHZhciBjaGVjayA9IGZhbHNlLFxuXHRcdHJlID0gL15cXGR7MSwyfVxcL1xcZHsxLDJ9XFwvXFxkezR9JC8sXG5cdFx0YWRhdGEsIGdnLCBtbSwgYWFhYSwgeGRhdGE7XG5cdGlmICggcmUudGVzdCggdmFsdWUgKSApIHtcblx0XHRhZGF0YSA9IHZhbHVlLnNwbGl0KCBcIi9cIiApO1xuXHRcdGdnID0gcGFyc2VJbnQoIGFkYXRhWyAwIF0sIDEwICk7XG5cdFx0bW0gPSBwYXJzZUludCggYWRhdGFbIDEgXSwgMTAgKTtcblx0XHRhYWFhID0gcGFyc2VJbnQoIGFkYXRhWyAyIF0sIDEwICk7XG5cdFx0eGRhdGEgPSBuZXcgRGF0ZSggRGF0ZS5VVEMoIGFhYWEsIG1tIC0gMSwgZ2csIDEyLCAwLCAwLCAwICkgKTtcblx0XHRpZiAoICggeGRhdGEuZ2V0VVRDRnVsbFllYXIoKSA9PT0gYWFhYSApICYmICggeGRhdGEuZ2V0VVRDTW9udGgoKSA9PT0gbW0gLSAxICkgJiYgKCB4ZGF0YS5nZXRVVENEYXRlKCkgPT09IGdnICkgKSB7XG5cdFx0XHRjaGVjayA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNoZWNrID0gZmFsc2U7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGNoZWNrID0gZmFsc2U7XG5cdH1cblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCBjaGVjaztcbn0sICQudmFsaWRhdG9yLm1lc3NhZ2VzLmRhdGUgKTtcblxyXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwiZGF0ZU5MXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXigwP1sxLTldfFsxMl1cXGR8M1swMV0pW1xcLlxcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcLlxcL1xcLV0oWzEyXVxcZCk/KFxcZFxcZCkkLy50ZXN0KCB2YWx1ZSApO1xufSwgJC52YWxpZGF0b3IubWVzc2FnZXMuZGF0ZSApO1xuXHJcbi8vIE9sZGVyIFwiYWNjZXB0XCIgZmlsZSBleHRlbnNpb24gbWV0aG9kLiBPbGQgZG9jczogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9QbHVnaW5zL1ZhbGlkYXRpb24vTWV0aG9kcy9hY2NlcHRcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJleHRlbnNpb25cIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSApIHtcblx0cGFyYW0gPSB0eXBlb2YgcGFyYW0gPT09IFwic3RyaW5nXCIgPyBwYXJhbS5yZXBsYWNlKCAvLC9nLCBcInxcIiApIDogXCJwbmd8anBlP2d8Z2lmXCI7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgdmFsdWUubWF0Y2goIG5ldyBSZWdFeHAoIFwiXFxcXC4oXCIgKyBwYXJhbSArIFwiKSRcIiwgXCJpXCIgKSApO1xufSwgJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhIHZhbHVlIHdpdGggYSB2YWxpZCBleHRlbnNpb24uXCIgKSApO1xuXHJcbi8qKlxuICogRHV0Y2ggZ2lybyBhY2NvdW50IG51bWJlcnMgKG5vdCBiYW5rIG51bWJlcnMpIGhhdmUgbWF4IDcgZGlnaXRzXG4gKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJnaXJvYWNjb3VudE5MXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXlswLTldezEsN30kLy50ZXN0KCB2YWx1ZSApO1xufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIGdpcm8gYWNjb3VudCBudW1iZXJcIiApO1xuXHJcbi8qKlxuICogSUJBTiBpcyB0aGUgaW50ZXJuYXRpb25hbCBiYW5rIGFjY291bnQgbnVtYmVyLlxuICogSXQgaGFzIGEgY291bnRyeSAtIHNwZWNpZmljIGZvcm1hdCwgdGhhdCBpcyBjaGVja2VkIGhlcmUgdG9vXG4gKlxuICogVmFsaWRhdGlvbiBpcyBjYXNlLWluc2Vuc2l0aXZlLiBQbGVhc2UgbWFrZSBzdXJlIHRvIG5vcm1hbGl6ZSBpbnB1dCB5b3Vyc2VsZi5cbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImliYW5cIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXG5cdC8vIFNvbWUgcXVpY2sgc2ltcGxlIHRlc3RzIHRvIHByZXZlbnQgbmVlZGxlc3Mgd29ya1xuXHRpZiAoIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIFJlbW92ZSBzcGFjZXMgYW5kIHRvIHVwcGVyIGNhc2Vcblx0dmFyIGliYW4gPSB2YWx1ZS5yZXBsYWNlKCAvIC9nLCBcIlwiICkudG9VcHBlckNhc2UoKSxcblx0XHRpYmFuY2hlY2tkaWdpdHMgPSBcIlwiLFxuXHRcdGxlYWRpbmdaZXJvZXMgPSB0cnVlLFxuXHRcdGNSZXN0ID0gXCJcIixcblx0XHRjT3BlcmF0b3IgPSBcIlwiLFxuXHRcdGNvdW50cnljb2RlLCBpYmFuY2hlY2ssIGNoYXJBdCwgY0NoYXIsIGJiYW5wYXR0ZXJuLCBiYmFuY291bnRyeXBhdHRlcm5zLCBpYmFucmVnZXhwLCBpLCBwO1xuXG5cdC8vIENoZWNrIGZvciBJQkFOIGNvZGUgbGVuZ3RoLlxuXHQvLyBJdCBjb250YWluczpcblx0Ly8gY291bnRyeSBjb2RlIElTTyAzMTY2LTEgLSB0d28gbGV0dGVycyxcblx0Ly8gdHdvIGNoZWNrIGRpZ2l0cyxcblx0Ly8gQmFzaWMgQmFuayBBY2NvdW50IE51bWJlciAoQkJBTikgLSB1cCB0byAzMCBjaGFyc1xuXHR2YXIgbWluaW1hbElCQU5sZW5ndGggPSA1O1xuXHRpZiAoIGliYW4ubGVuZ3RoIDwgbWluaW1hbElCQU5sZW5ndGggKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gQ2hlY2sgdGhlIGNvdW50cnkgY29kZSBhbmQgZmluZCB0aGUgY291bnRyeSBzcGVjaWZpYyBmb3JtYXRcblx0Y291bnRyeWNvZGUgPSBpYmFuLnN1YnN0cmluZyggMCwgMiApO1xuXHRiYmFuY291bnRyeXBhdHRlcm5zID0ge1xuXHRcdFwiQUxcIjogXCJcXFxcZHs4fVtcXFxcZEEtWl17MTZ9XCIsXG5cdFx0XCJBRFwiOiBcIlxcXFxkezh9W1xcXFxkQS1aXXsxMn1cIixcblx0XHRcIkFUXCI6IFwiXFxcXGR7MTZ9XCIsXG5cdFx0XCJBWlwiOiBcIltcXFxcZEEtWl17NH1cXFxcZHsyMH1cIixcblx0XHRcIkJFXCI6IFwiXFxcXGR7MTJ9XCIsXG5cdFx0XCJCSFwiOiBcIltBLVpdezR9W1xcXFxkQS1aXXsxNH1cIixcblx0XHRcIkJBXCI6IFwiXFxcXGR7MTZ9XCIsXG5cdFx0XCJCUlwiOiBcIlxcXFxkezIzfVtBLVpdW1xcXFxkQS1aXVwiLFxuXHRcdFwiQkdcIjogXCJbQS1aXXs0fVxcXFxkezZ9W1xcXFxkQS1aXXs4fVwiLFxuXHRcdFwiQ1JcIjogXCJcXFxcZHsxN31cIixcblx0XHRcIkhSXCI6IFwiXFxcXGR7MTd9XCIsXG5cdFx0XCJDWVwiOiBcIlxcXFxkezh9W1xcXFxkQS1aXXsxNn1cIixcblx0XHRcIkNaXCI6IFwiXFxcXGR7MjB9XCIsXG5cdFx0XCJES1wiOiBcIlxcXFxkezE0fVwiLFxuXHRcdFwiRE9cIjogXCJbQS1aXXs0fVxcXFxkezIwfVwiLFxuXHRcdFwiRUVcIjogXCJcXFxcZHsxNn1cIixcblx0XHRcIkZPXCI6IFwiXFxcXGR7MTR9XCIsXG5cdFx0XCJGSVwiOiBcIlxcXFxkezE0fVwiLFxuXHRcdFwiRlJcIjogXCJcXFxcZHsxMH1bXFxcXGRBLVpdezExfVxcXFxkezJ9XCIsXG5cdFx0XCJHRVwiOiBcIltcXFxcZEEtWl17Mn1cXFxcZHsxNn1cIixcblx0XHRcIkRFXCI6IFwiXFxcXGR7MTh9XCIsXG5cdFx0XCJHSVwiOiBcIltBLVpdezR9W1xcXFxkQS1aXXsxNX1cIixcblx0XHRcIkdSXCI6IFwiXFxcXGR7N31bXFxcXGRBLVpdezE2fVwiLFxuXHRcdFwiR0xcIjogXCJcXFxcZHsxNH1cIixcblx0XHRcIkdUXCI6IFwiW1xcXFxkQS1aXXs0fVtcXFxcZEEtWl17MjB9XCIsXG5cdFx0XCJIVVwiOiBcIlxcXFxkezI0fVwiLFxuXHRcdFwiSVNcIjogXCJcXFxcZHsyMn1cIixcblx0XHRcIklFXCI6IFwiW1xcXFxkQS1aXXs0fVxcXFxkezE0fVwiLFxuXHRcdFwiSUxcIjogXCJcXFxcZHsxOX1cIixcblx0XHRcIklUXCI6IFwiW0EtWl1cXFxcZHsxMH1bXFxcXGRBLVpdezEyfVwiLFxuXHRcdFwiS1pcIjogXCJcXFxcZHszfVtcXFxcZEEtWl17MTN9XCIsXG5cdFx0XCJLV1wiOiBcIltBLVpdezR9W1xcXFxkQS1aXXsyMn1cIixcblx0XHRcIkxWXCI6IFwiW0EtWl17NH1bXFxcXGRBLVpdezEzfVwiLFxuXHRcdFwiTEJcIjogXCJcXFxcZHs0fVtcXFxcZEEtWl17MjB9XCIsXG5cdFx0XCJMSVwiOiBcIlxcXFxkezV9W1xcXFxkQS1aXXsxMn1cIixcblx0XHRcIkxUXCI6IFwiXFxcXGR7MTZ9XCIsXG5cdFx0XCJMVVwiOiBcIlxcXFxkezN9W1xcXFxkQS1aXXsxM31cIixcblx0XHRcIk1LXCI6IFwiXFxcXGR7M31bXFxcXGRBLVpdezEwfVxcXFxkezJ9XCIsXG5cdFx0XCJNVFwiOiBcIltBLVpdezR9XFxcXGR7NX1bXFxcXGRBLVpdezE4fVwiLFxuXHRcdFwiTVJcIjogXCJcXFxcZHsyM31cIixcblx0XHRcIk1VXCI6IFwiW0EtWl17NH1cXFxcZHsxOX1bQS1aXXszfVwiLFxuXHRcdFwiTUNcIjogXCJcXFxcZHsxMH1bXFxcXGRBLVpdezExfVxcXFxkezJ9XCIsXG5cdFx0XCJNRFwiOiBcIltcXFxcZEEtWl17Mn1cXFxcZHsxOH1cIixcblx0XHRcIk1FXCI6IFwiXFxcXGR7MTh9XCIsXG5cdFx0XCJOTFwiOiBcIltBLVpdezR9XFxcXGR7MTB9XCIsXG5cdFx0XCJOT1wiOiBcIlxcXFxkezExfVwiLFxuXHRcdFwiUEtcIjogXCJbXFxcXGRBLVpdezR9XFxcXGR7MTZ9XCIsXG5cdFx0XCJQU1wiOiBcIltcXFxcZEEtWl17NH1cXFxcZHsyMX1cIixcblx0XHRcIlBMXCI6IFwiXFxcXGR7MjR9XCIsXG5cdFx0XCJQVFwiOiBcIlxcXFxkezIxfVwiLFxuXHRcdFwiUk9cIjogXCJbQS1aXXs0fVtcXFxcZEEtWl17MTZ9XCIsXG5cdFx0XCJTTVwiOiBcIltBLVpdXFxcXGR7MTB9W1xcXFxkQS1aXXsxMn1cIixcblx0XHRcIlNBXCI6IFwiXFxcXGR7Mn1bXFxcXGRBLVpdezE4fVwiLFxuXHRcdFwiUlNcIjogXCJcXFxcZHsxOH1cIixcblx0XHRcIlNLXCI6IFwiXFxcXGR7MjB9XCIsXG5cdFx0XCJTSVwiOiBcIlxcXFxkezE1fVwiLFxuXHRcdFwiRVNcIjogXCJcXFxcZHsyMH1cIixcblx0XHRcIlNFXCI6IFwiXFxcXGR7MjB9XCIsXG5cdFx0XCJDSFwiOiBcIlxcXFxkezV9W1xcXFxkQS1aXXsxMn1cIixcblx0XHRcIlROXCI6IFwiXFxcXGR7MjB9XCIsXG5cdFx0XCJUUlwiOiBcIlxcXFxkezV9W1xcXFxkQS1aXXsxN31cIixcblx0XHRcIkFFXCI6IFwiXFxcXGR7M31cXFxcZHsxNn1cIixcblx0XHRcIkdCXCI6IFwiW0EtWl17NH1cXFxcZHsxNH1cIixcblx0XHRcIlZHXCI6IFwiW1xcXFxkQS1aXXs0fVxcXFxkezE2fVwiXG5cdH07XG5cblx0YmJhbnBhdHRlcm4gPSBiYmFuY291bnRyeXBhdHRlcm5zWyBjb3VudHJ5Y29kZSBdO1xuXG5cdC8vIEFzIG5ldyBjb3VudHJpZXMgd2lsbCBzdGFydCB1c2luZyBJQkFOIGluIHRoZVxuXHQvLyBmdXR1cmUsIHdlIG9ubHkgY2hlY2sgaWYgdGhlIGNvdW50cnljb2RlIGlzIGtub3duLlxuXHQvLyBUaGlzIHByZXZlbnRzIGZhbHNlIG5lZ2F0aXZlcywgd2hpbGUgYWxtb3N0IGFsbFxuXHQvLyBmYWxzZSBwb3NpdGl2ZXMgaW50cm9kdWNlZCBieSB0aGlzLCB3aWxsIGJlIGNhdWdodFxuXHQvLyBieSB0aGUgY2hlY2tzdW0gdmFsaWRhdGlvbiBiZWxvdyBhbnl3YXkuXG5cdC8vIFN0cmljdCBjaGVja2luZyBzaG91bGQgcmV0dXJuIEZBTFNFIGZvciB1bmtub3duXG5cdC8vIGNvdW50cmllcy5cblx0aWYgKCB0eXBlb2YgYmJhbnBhdHRlcm4gIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0aWJhbnJlZ2V4cCA9IG5ldyBSZWdFeHAoIFwiXltBLVpdezJ9XFxcXGR7Mn1cIiArIGJiYW5wYXR0ZXJuICsgXCIkXCIsIFwiXCIgKTtcblx0XHRpZiAoICEoIGliYW5yZWdleHAudGVzdCggaWJhbiApICkgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7IC8vIEludmFsaWQgY291bnRyeSBzcGVjaWZpYyBmb3JtYXRcblx0XHR9XG5cdH1cblxuXHQvLyBOb3cgY2hlY2sgdGhlIGNoZWNrc3VtLCBmaXJzdCBjb252ZXJ0IHRvIGRpZ2l0c1xuXHRpYmFuY2hlY2sgPSBpYmFuLnN1YnN0cmluZyggNCwgaWJhbi5sZW5ndGggKSArIGliYW4uc3Vic3RyaW5nKCAwLCA0ICk7XG5cdGZvciAoIGkgPSAwOyBpIDwgaWJhbmNoZWNrLmxlbmd0aDsgaSsrICkge1xuXHRcdGNoYXJBdCA9IGliYW5jaGVjay5jaGFyQXQoIGkgKTtcblx0XHRpZiAoIGNoYXJBdCAhPT0gXCIwXCIgKSB7XG5cdFx0XHRsZWFkaW5nWmVyb2VzID0gZmFsc2U7XG5cdFx0fVxuXHRcdGlmICggIWxlYWRpbmdaZXJvZXMgKSB7XG5cdFx0XHRpYmFuY2hlY2tkaWdpdHMgKz0gXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIi5pbmRleE9mKCBjaGFyQXQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDYWxjdWxhdGUgdGhlIHJlc3VsdCBvZjogaWJhbmNoZWNrZGlnaXRzICUgOTdcblx0Zm9yICggcCA9IDA7IHAgPCBpYmFuY2hlY2tkaWdpdHMubGVuZ3RoOyBwKysgKSB7XG5cdFx0Y0NoYXIgPSBpYmFuY2hlY2tkaWdpdHMuY2hhckF0KCBwICk7XG5cdFx0Y09wZXJhdG9yID0gXCJcIiArIGNSZXN0ICsgXCJcIiArIGNDaGFyO1xuXHRcdGNSZXN0ID0gY09wZXJhdG9yICUgOTc7XG5cdH1cblx0cmV0dXJuIGNSZXN0ID09PSAxO1xufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIElCQU5cIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJpbnRlZ2VyXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXi0/XFxkKyQvLnRlc3QoIHZhbHVlICk7XG59LCBcIkEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgbm9uLWRlY2ltYWwgbnVtYmVyIHBsZWFzZVwiICk7XG5cclxuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcImlwdjRcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eKDI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4oMjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLigyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKDI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPykkL2kudGVzdCggdmFsdWUgKTtcbn0sIFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgSVAgdjQgYWRkcmVzcy5cIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJpcHY2XCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXigoKFswLTlBLUZhLWZdezEsNH06KXs3fVswLTlBLUZhLWZdezEsNH0pfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9OlswLTlBLUZhLWZdezEsNH0pfCgoWzAtOUEtRmEtZl17MSw0fTopezV9OihbMC05QS1GYS1mXXsxLDR9Oik/WzAtOUEtRmEtZl17MSw0fSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH06KFswLTlBLUZhLWZdezEsNH06KXswLDJ9WzAtOUEtRmEtZl17MSw0fSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M306KFswLTlBLUZhLWZdezEsNH06KXswLDN9WzAtOUEtRmEtZl17MSw0fSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn06KFswLTlBLUZhLWZdezEsNH06KXswLDR9WzAtOUEtRmEtZl17MSw0fSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oKFxcYigoMjVbMC01XSl8KDFcXGR7Mn0pfCgyWzAtNF1cXGQpfChcXGR7MSwyfSkpXFxiKVxcLil7M30oXFxiKCgyNVswLTVdKXwoMVxcZHsyfSl8KDJbMC00XVxcZCl8KFxcZHsxLDJ9KSlcXGIpKXwoKFswLTlBLUZhLWZdezEsNH06KXswLDV9OigoXFxiKCgyNVswLTVdKXwoMVxcZHsyfSl8KDJbMC00XVxcZCl8KFxcZHsxLDJ9KSlcXGIpXFwuKXszfShcXGIoKDI1WzAtNV0pfCgxXFxkezJ9KXwoMlswLTRdXFxkKXwoXFxkezEsMn0pKVxcYikpfCg6OihbMC05QS1GYS1mXXsxLDR9Oil7MCw1fSgoXFxiKCgyNVswLTVdKXwoMVxcZHsyfSl8KDJbMC00XVxcZCl8KFxcZHsxLDJ9KSlcXGIpXFwuKXszfShcXGIoKDI1WzAtNV0pfCgxXFxkezJ9KXwoMlswLTRdXFxkKXwoXFxkezEsMn0pKVxcYikpfChbMC05QS1GYS1mXXsxLDR9OjooWzAtOUEtRmEtZl17MSw0fTopezAsNX1bMC05QS1GYS1mXXsxLDR9KXwoOjooWzAtOUEtRmEtZl17MSw0fTopezAsNn1bMC05QS1GYS1mXXsxLDR9KXwoKFswLTlBLUZhLWZdezEsNH06KXsxLDd9OikpJC9pLnRlc3QoIHZhbHVlICk7XG59LCBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIElQIHY2IGFkZHJlc3MuXCIgKTtcblxyXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwibGV0dGVyc29ubHlcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eW2Etel0rJC9pLnRlc3QoIHZhbHVlICk7XG59LCBcIkxldHRlcnMgb25seSBwbGVhc2VcIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJsZXR0ZXJzd2l0aGJhc2ljcHVuY1wiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15bYS16XFwtLiwoKSdcIlxcc10rJC9pLnRlc3QoIHZhbHVlICk7XG59LCBcIkxldHRlcnMgb3IgcHVuY3R1YXRpb24gb25seSBwbGVhc2VcIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJtb2JpbGVOTFwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL14oKFxcK3wwMChcXHN8XFxzP1xcLVxccz8pPykzMShcXHN8XFxzP1xcLVxccz8pPyhcXCgwXFwpW1xcLVxcc10/KT98MCk2KChcXHN8XFxzP1xcLVxccz8pP1swLTldKXs4fSQvLnRlc3QoIHZhbHVlICk7XG59LCBcIlBsZWFzZSBzcGVjaWZ5IGEgdmFsaWQgbW9iaWxlIG51bWJlclwiICk7XG5cclxuLyogRm9yIFVLIHBob25lIGZ1bmN0aW9ucywgZG8gdGhlIGZvbGxvd2luZyBzZXJ2ZXIgc2lkZSBwcm9jZXNzaW5nOlxuICogQ29tcGFyZSBvcmlnaW5hbCBpbnB1dCB3aXRoIHRoaXMgUmVnRXggcGF0dGVybjpcbiAqIF5cXCg/KD86KD86MDBcXCk/W1xcc1xcLV0/XFwoP3xcXCspKDQ0KVxcKT9bXFxzXFwtXT9cXCg/KD86MFxcKT9bXFxzXFwtXT9cXCg/KT98MCkoWzEtOV1cXGR7MSw0fVxcKT9bXFxzXFxkXFwtXSspJFxuICogRXh0cmFjdCAkMSBhbmQgc2V0ICRwcmVmaXggdG8gJys0NDxzcGFjZT4nIGlmICQxIGlzICc0NCcsIG90aGVyd2lzZSBzZXQgJHByZWZpeCB0byAnMCdcbiAqIEV4dHJhY3QgJDIgYW5kIHJlbW92ZSBoeXBoZW5zLCBzcGFjZXMgYW5kIHBhcmVudGhlc2VzLiBQaG9uZSBudW1iZXIgaXMgY29tYmluZWQgJHByZWZpeCBhbmQgJDIuXG4gKiBBIG51bWJlciBvZiB2ZXJ5IGRldGFpbGVkIEdCIHRlbGVwaG9uZSBudW1iZXIgUmVnRXggcGF0dGVybnMgY2FuIGFsc28gYmUgZm91bmQgYXQ6XG4gKiBodHRwOi8vd3d3LmFhLWFzdGVyaXNrLm9yZy51ay9pbmRleC5waHAvUmVndWxhcl9FeHByZXNzaW9uc19mb3JfVmFsaWRhdGluZ19hbmRfRm9ybWF0dGluZ19HQl9UZWxlcGhvbmVfTnVtYmVyc1xuICovXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwibW9iaWxlVUtcIiwgZnVuY3Rpb24oIHBob25lX251bWJlciwgZWxlbWVudCApIHtcblx0cGhvbmVfbnVtYmVyID0gcGhvbmVfbnVtYmVyLnJlcGxhY2UoIC9cXCh8XFwpfFxccyt8LS9nLCBcIlwiICk7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgcGhvbmVfbnVtYmVyLmxlbmd0aCA+IDkgJiZcblx0XHRwaG9uZV9udW1iZXIubWF0Y2goIC9eKD86KD86KD86MDBcXHM/fFxcKyk0NFxccz98MCk3KD86WzEzNDU3ODldXFxkezJ9fDYyNClcXHM/XFxkezN9XFxzP1xcZHszfSkkLyApO1xufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIG1vYmlsZSBudW1iZXJcIiApO1xuXHJcbi8qXG4gKiBUaGUgTklFIChOw7ptZXJvIGRlIElkZW50aWZpY2FjacOzbiBkZSBFeHRyYW5qZXJvKSBpcyBhIFNwYW5pc2ggdGF4IGlkZW50aWZpY2F0aW9uIG51bWJlciBhc3NpZ25lZCBieSB0aGUgU3BhbmlzaFxuICogYXV0aG9yaXRpZXMgdG8gYW55IGZvcmVpZ25lci5cbiAqXG4gKiBUaGUgTklFIGlzIHRoZSBlcXVpdmFsZW50IG9mIGEgU3BhbmlhcmRzIE7Dum1lcm8gZGUgSWRlbnRpZmljYWNpw7NuIEZpc2NhbCAoTklGKSB3aGljaCBzZXJ2ZXMgYXMgYSBmaXNjYWxcbiAqIGlkZW50aWZpY2F0aW9uIG51bWJlci4gVGhlIENJRiBudW1iZXIgKENlcnRpZmljYWRvIGRlIElkZW50aWZpY2FjacOzbiBGaXNjYWwpIGlzIGVxdWl2YWxlbnQgdG8gdGhlIE5JRiwgYnV0IGFwcGxpZXMgdG9cbiAqIGNvbXBhbmllcyByYXRoZXIgdGhhbiBpbmRpdmlkdWFscy4gVGhlIE5JRSBjb25zaXN0cyBvZiBhbiAnWCcgb3IgJ1knIGZvbGxvd2VkIGJ5IDcgb3IgOCBkaWdpdHMgdGhlbiBhbm90aGVyIGxldHRlci5cbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcIm5pZUVTXCIsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIG5pZVJlZ0V4ID0gbmV3IFJlZ0V4cCggL15bTVhZWl17MX1bMC05XXs3LDh9W1RSV0FHTVlGUERYQk5KWlNRVkhMQ0tFVF17MX0kL2dpICk7XG5cdHZhciB2YWxpZENoYXJzID0gXCJUUldBR01ZRlBEWEJOSlpTUVZITENLRVRcIixcblx0XHRsZXR0ZXIgPSB2YWx1ZS5zdWJzdHIoIHZhbHVlLmxlbmd0aCAtIDEgKS50b1VwcGVyQ2FzZSgpLFxuXHRcdG51bWJlcjtcblxuXHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKTtcblxuXHQvLyBRdWljayBmb3JtYXQgdGVzdFxuXHRpZiAoIHZhbHVlLmxlbmd0aCA+IDEwIHx8IHZhbHVlLmxlbmd0aCA8IDkgfHwgIW5pZVJlZ0V4LnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gWCBtZWFucyBzYW1lIG51bWJlclxuXHQvLyBZIG1lYW5zIG51bWJlciArIDEwMDAwMDAwXG5cdC8vIFogbWVhbnMgbnVtYmVyICsgMjAwMDAwMDBcblx0dmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCAvXltYXS8sIFwiMFwiIClcblx0XHQucmVwbGFjZSggL15bWV0vLCBcIjFcIiApXG5cdFx0LnJlcGxhY2UoIC9eW1pdLywgXCIyXCIgKTtcblxuXHRudW1iZXIgPSB2YWx1ZS5sZW5ndGggPT09IDkgPyB2YWx1ZS5zdWJzdHIoIDAsIDggKSA6IHZhbHVlLnN1YnN0ciggMCwgOSApO1xuXG5cdHJldHVybiB2YWxpZENoYXJzLmNoYXJBdCggcGFyc2VJbnQoIG51bWJlciwgMTAgKSAlIDIzICkgPT09IGxldHRlcjtcblxufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIE5JRSBudW1iZXIuXCIgKTtcblxyXG4vKlxuICogVGhlIE7Dum1lcm8gZGUgSWRlbnRpZmljYWNpw7NuIEZpc2NhbCAoIE5JRiApIGlzIHRoZSB3YXkgdGF4IGlkZW50aWZpY2F0aW9uIHVzZWQgaW4gU3BhaW4gZm9yIGluZGl2aWR1YWxzXG4gKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJuaWZFU1wiLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcblxuXHQvLyBCYXNpYyBmb3JtYXQgdGVzdFxuXHRpZiAoICF2YWx1ZS5tYXRjaCggXCIoKF5bQS1aXXsxfVswLTldezd9W0EtWjAtOV17MX0kfF5bVF17MX1bQS1aMC05XXs4fSQpfF5bMC05XXs4fVtBLVpdezF9JClcIiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIFRlc3QgTklGXG5cdGlmICggL15bMC05XXs4fVtBLVpdezF9JC8udGVzdCggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gKCBcIlRSV0FHTVlGUERYQk5KWlNRVkhMQ0tFXCIuY2hhckF0KCB2YWx1ZS5zdWJzdHJpbmcoIDgsIDAgKSAlIDIzICkgPT09IHZhbHVlLmNoYXJBdCggOCApICk7XG5cdH1cblxuXHQvLyBUZXN0IHNwZWNpYWxzIE5JRiAoc3RhcnRzIHdpdGggSywgTCBvciBNKVxuXHRpZiAoIC9eW0tMTV17MX0vLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuICggdmFsdWVbIDggXSA9PT0gU3RyaW5nLmZyb21DaGFyQ29kZSggNjQgKSApO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xuXG59LCBcIlBsZWFzZSBzcGVjaWZ5IGEgdmFsaWQgTklGIG51bWJlci5cIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJub3RFcXVhbFRvXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgISQudmFsaWRhdG9yLm1ldGhvZHMuZXF1YWxUby5jYWxsKCB0aGlzLCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKTtcbn0sIFwiUGxlYXNlIGVudGVyIGEgZGlmZmVyZW50IHZhbHVlLCB2YWx1ZXMgbXVzdCBub3QgYmUgdGhlIHNhbWUuXCIgKTtcblxyXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwibm93aGl0ZXNwYWNlXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXlxcUyskL2kudGVzdCggdmFsdWUgKTtcbn0sIFwiTm8gd2hpdGUgc3BhY2UgcGxlYXNlXCIgKTtcblxyXG4vKipcbiogUmV0dXJuIHRydWUgaWYgdGhlIGZpZWxkIHZhbHVlIG1hdGNoZXMgdGhlIGdpdmVuIGZvcm1hdCBSZWdFeHBcbipcbiogQGV4YW1wbGUgJC52YWxpZGF0b3IubWV0aG9kcy5wYXR0ZXJuKFwiQVIxMDA0XCIsZWxlbWVudCwvXkFSXFxkezR9JC8pXG4qIEByZXN1bHQgdHJ1ZVxuKlxuKiBAZXhhbXBsZSAkLnZhbGlkYXRvci5tZXRob2RzLnBhdHRlcm4oXCJCUjEwMDRcIixlbGVtZW50LC9eQVJcXGR7NH0kLylcbiogQHJlc3VsdCBmYWxzZVxuKlxuKiBAbmFtZSAkLnZhbGlkYXRvci5tZXRob2RzLnBhdHRlcm5cbiogQHR5cGUgQm9vbGVhblxuKiBAY2F0IFBsdWdpbnMvVmFsaWRhdGUvTWV0aG9kc1xuKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJwYXR0ZXJuXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cdGlmICggdGhpcy5vcHRpb25hbCggZWxlbWVudCApICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGlmICggdHlwZW9mIHBhcmFtID09PSBcInN0cmluZ1wiICkge1xuXHRcdHBhcmFtID0gbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBwYXJhbSArIFwiKSRcIiApO1xuXHR9XG5cdHJldHVybiBwYXJhbS50ZXN0KCB2YWx1ZSApO1xufSwgXCJJbnZhbGlkIGZvcm1hdC5cIiApO1xuXHJcbi8qKlxuICogRHV0Y2ggcGhvbmUgbnVtYmVycyBoYXZlIDEwIGRpZ2l0cyAob3IgMTEgYW5kIHN0YXJ0IHdpdGggKzMxKS5cbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcInBob25lTkxcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eKChcXCt8MDAoXFxzfFxccz9cXC1cXHM/KT8pMzEoXFxzfFxccz9cXC1cXHM/KT8oXFwoMFxcKVtcXC1cXHNdPyk/fDApWzEtOV0oKFxcc3xcXHM/XFwtXFxzPyk/WzAtOV0pezh9JC8udGVzdCggdmFsdWUgKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwaG9uZSBudW1iZXIuXCIgKTtcblxyXG4vKiBGb3IgVUsgcGhvbmUgZnVuY3Rpb25zLCBkbyB0aGUgZm9sbG93aW5nIHNlcnZlciBzaWRlIHByb2Nlc3Npbmc6XG4gKiBDb21wYXJlIG9yaWdpbmFsIGlucHV0IHdpdGggdGhpcyBSZWdFeCBwYXR0ZXJuOlxuICogXlxcKD8oPzooPzowMFxcKT9bXFxzXFwtXT9cXCg/fFxcKykoNDQpXFwpP1tcXHNcXC1dP1xcKD8oPzowXFwpP1tcXHNcXC1dP1xcKD8pP3wwKShbMS05XVxcZHsxLDR9XFwpP1tcXHNcXGRcXC1dKykkXG4gKiBFeHRyYWN0ICQxIGFuZCBzZXQgJHByZWZpeCB0byAnKzQ0PHNwYWNlPicgaWYgJDEgaXMgJzQ0Jywgb3RoZXJ3aXNlIHNldCAkcHJlZml4IHRvICcwJ1xuICogRXh0cmFjdCAkMiBhbmQgcmVtb3ZlIGh5cGhlbnMsIHNwYWNlcyBhbmQgcGFyZW50aGVzZXMuIFBob25lIG51bWJlciBpcyBjb21iaW5lZCAkcHJlZml4IGFuZCAkMi5cbiAqIEEgbnVtYmVyIG9mIHZlcnkgZGV0YWlsZWQgR0IgdGVsZXBob25lIG51bWJlciBSZWdFeCBwYXR0ZXJucyBjYW4gYWxzbyBiZSBmb3VuZCBhdDpcbiAqIGh0dHA6Ly93d3cuYWEtYXN0ZXJpc2sub3JnLnVrL2luZGV4LnBocC9SZWd1bGFyX0V4cHJlc3Npb25zX2Zvcl9WYWxpZGF0aW5nX2FuZF9Gb3JtYXR0aW5nX0dCX1RlbGVwaG9uZV9OdW1iZXJzXG4gKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJwaG9uZVVLXCIsIGZ1bmN0aW9uKCBwaG9uZV9udW1iZXIsIGVsZW1lbnQgKSB7XG5cdHBob25lX251bWJlciA9IHBob25lX251bWJlci5yZXBsYWNlKCAvXFwofFxcKXxcXHMrfC0vZywgXCJcIiApO1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHBob25lX251bWJlci5sZW5ndGggPiA5ICYmXG5cdFx0cGhvbmVfbnVtYmVyLm1hdGNoKCAvXig/Oig/Oig/OjAwXFxzP3xcXCspNDRcXHM/KXwoPzpcXCg/MCkpKD86XFxkezJ9XFwpP1xccz9cXGR7NH1cXHM/XFxkezR9fFxcZHszfVxcKT9cXHM/XFxkezN9XFxzP1xcZHszLDR9fFxcZHs0fVxcKT9cXHM/KD86XFxkezV9fFxcZHszfVxccz9cXGR7M30pfFxcZHs1fVxcKT9cXHM/XFxkezQsNX0pJC8gKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwaG9uZSBudW1iZXJcIiApO1xuXHJcbi8qKlxuICogTWF0Y2hlcyBVUyBwaG9uZSBudW1iZXIgZm9ybWF0XG4gKlxuICogd2hlcmUgdGhlIGFyZWEgY29kZSBtYXkgbm90IHN0YXJ0IHdpdGggMSBhbmQgdGhlIHByZWZpeCBtYXkgbm90IHN0YXJ0IHdpdGggMVxuICogYWxsb3dzICctJyBvciAnICcgYXMgYSBzZXBhcmF0b3IgYW5kIGFsbG93cyBwYXJlbnMgYXJvdW5kIGFyZWEgY29kZVxuICogc29tZSBwZW9wbGUgbWF5IHdhbnQgdG8gcHV0IGEgJzEnIGluIGZyb250IG9mIHRoZWlyIG51bWJlclxuICpcbiAqIDEoMjEyKS05OTktMjM0NSBvclxuICogMjEyIDk5OSAyMzQ0IG9yXG4gKiAyMTItOTk5LTA5ODNcbiAqXG4gKiBidXQgbm90XG4gKiAxMTEtMTIzLTU0MzRcbiAqIGFuZCBub3RcbiAqIDIxMiAxMjMgNDU2N1xuICovXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwicGhvbmVVU1wiLCBmdW5jdGlvbiggcGhvbmVfbnVtYmVyLCBlbGVtZW50ICkge1xuXHRwaG9uZV9udW1iZXIgPSBwaG9uZV9udW1iZXIucmVwbGFjZSggL1xccysvZywgXCJcIiApO1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHBob25lX251bWJlci5sZW5ndGggPiA5ICYmXG5cdFx0cGhvbmVfbnVtYmVyLm1hdGNoKCAvXihcXCs/MS0/KT8oXFwoWzItOV0oWzAyLTldXFxkfDFbMDItOV0pXFwpfFsyLTldKFswMi05XVxcZHwxWzAyLTldKSktP1syLTldKFswMi05XVxcZHwxWzAyLTldKS0/XFxkezR9JC8gKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwaG9uZSBudW1iZXJcIiApO1xuXHJcbi8qIEZvciBVSyBwaG9uZSBmdW5jdGlvbnMsIGRvIHRoZSBmb2xsb3dpbmcgc2VydmVyIHNpZGUgcHJvY2Vzc2luZzpcbiAqIENvbXBhcmUgb3JpZ2luYWwgaW5wdXQgd2l0aCB0aGlzIFJlZ0V4IHBhdHRlcm46XG4gKiBeXFwoPyg/Oig/OjAwXFwpP1tcXHNcXC1dP1xcKD98XFwrKSg0NClcXCk/W1xcc1xcLV0/XFwoPyg/OjBcXCk/W1xcc1xcLV0/XFwoPyk/fDApKFsxLTldXFxkezEsNH1cXCk/W1xcc1xcZFxcLV0rKSRcbiAqIEV4dHJhY3QgJDEgYW5kIHNldCAkcHJlZml4IHRvICcrNDQ8c3BhY2U+JyBpZiAkMSBpcyAnNDQnLCBvdGhlcndpc2Ugc2V0ICRwcmVmaXggdG8gJzAnXG4gKiBFeHRyYWN0ICQyIGFuZCByZW1vdmUgaHlwaGVucywgc3BhY2VzIGFuZCBwYXJlbnRoZXNlcy4gUGhvbmUgbnVtYmVyIGlzIGNvbWJpbmVkICRwcmVmaXggYW5kICQyLlxuICogQSBudW1iZXIgb2YgdmVyeSBkZXRhaWxlZCBHQiB0ZWxlcGhvbmUgbnVtYmVyIFJlZ0V4IHBhdHRlcm5zIGNhbiBhbHNvIGJlIGZvdW5kIGF0OlxuICogaHR0cDovL3d3dy5hYS1hc3Rlcmlzay5vcmcudWsvaW5kZXgucGhwL1JlZ3VsYXJfRXhwcmVzc2lvbnNfZm9yX1ZhbGlkYXRpbmdfYW5kX0Zvcm1hdHRpbmdfR0JfVGVsZXBob25lX051bWJlcnNcbiAqL1xuXG4vLyBNYXRjaGVzIFVLIGxhbmRsaW5lICsgbW9iaWxlLCBhY2NlcHRpbmcgb25seSAwMS0zIGZvciBsYW5kbGluZSBvciAwNyBmb3IgbW9iaWxlIHRvIGV4Y2x1ZGUgbWFueSBwcmVtaXVtIG51bWJlcnNcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJwaG9uZXNVS1wiLCBmdW5jdGlvbiggcGhvbmVfbnVtYmVyLCBlbGVtZW50ICkge1xuXHRwaG9uZV9udW1iZXIgPSBwaG9uZV9udW1iZXIucmVwbGFjZSggL1xcKHxcXCl8XFxzK3wtL2csIFwiXCIgKTtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCBwaG9uZV9udW1iZXIubGVuZ3RoID4gOSAmJlxuXHRcdHBob25lX251bWJlci5tYXRjaCggL14oPzooPzooPzowMFxccz98XFwrKTQ0XFxzP3wwKSg/OjFcXGR7OCw5fXxbMjNdXFxkezl9fDcoPzpbMTM0NTc4OV1cXGR7OH18NjI0XFxkezZ9KSkpJC8gKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCB1ayBwaG9uZSBudW1iZXJcIiApO1xuXHJcbi8qKlxuICogTWF0Y2hlcyBhIHZhbGlkIENhbmFkaWFuIFBvc3RhbCBDb2RlXG4gKlxuICogQGV4YW1wbGUgalF1ZXJ5LnZhbGlkYXRvci5tZXRob2RzLnBvc3RhbENvZGVDQSggXCJIMEggMEgwXCIsIGVsZW1lbnQgKVxuICogQHJlc3VsdCB0cnVlXG4gKlxuICogQGV4YW1wbGUgalF1ZXJ5LnZhbGlkYXRvci5tZXRob2RzLnBvc3RhbENvZGVDQSggXCJIMEgwSDBcIiwgZWxlbWVudCApXG4gKiBAcmVzdWx0IGZhbHNlXG4gKlxuICogQG5hbWUgalF1ZXJ5LnZhbGlkYXRvci5tZXRob2RzLnBvc3RhbENvZGVDQVxuICogQHR5cGUgQm9vbGVhblxuICogQGNhdCBQbHVnaW5zL1ZhbGlkYXRlL01ldGhvZHNcbiAqL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcInBvc3RhbENvZGVDQVwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15bQUJDRUdISktMTU5QUlNUVlhZXVxcZFtBQkNFR0hKS0xNTlBSU1RWV1hZWl0gKlxcZFtBQkNFR0hKS0xNTlBSU1RWV1hZWl1cXGQkL2kudGVzdCggdmFsdWUgKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwb3N0YWwgY29kZVwiICk7XG5cclxuLypcbiogVmFsaWRhIENFUHMgZG8gYnJhc2lsZWlyb3M6XG4qXG4qIEZvcm1hdG9zIGFjZWl0b3M6XG4qIDk5OTk5LTk5OVxuKiA5OS45OTktOTk5XG4qIDk5OTk5OTk5XG4qL1xuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcInBvc3RhbGNvZGVCUlwiLCBmdW5jdGlvbiggY2VwX3ZhbHVlLCBlbGVtZW50ICkge1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eXFxkezJ9LlxcZHszfS1cXGR7M30/JHxeXFxkezV9LT9cXGR7M30/JC8udGVzdCggY2VwX3ZhbHVlICk7XG59LCBcIkluZm9ybWUgdW0gQ0VQIHbDoWxpZG8uXCIgKTtcblxyXG4vKiBNYXRjaGVzIEl0YWxpYW4gcG9zdGNvZGUgKENBUCkgKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJwb3N0YWxjb2RlSVRcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eXFxkezV9JC8udGVzdCggdmFsdWUgKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwb3N0YWwgY29kZVwiICk7XG5cclxuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCBcInBvc3RhbGNvZGVOTFwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15bMS05XVswLTldezN9XFxzP1thLXpBLVpdezJ9JC8udGVzdCggdmFsdWUgKTtcbn0sIFwiUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwb3N0YWwgY29kZVwiICk7XG5cclxuLy8gTWF0Y2hlcyBVSyBwb3N0Y29kZS4gRG9lcyBub3QgbWF0Y2ggdG8gVUsgQ2hhbm5lbCBJc2xhbmRzIHRoYXQgaGF2ZSB0aGVpciBvd24gcG9zdGNvZGVzIChub24gc3RhbmRhcmQgVUspXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwicG9zdGNvZGVVS1wiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL14oKChbQS1QUi1VV1laXVswLTldKXwoW0EtUFItVVdZWl1bMC05XVswLTldKXwoW0EtUFItVVdZWl1bQS1ISy1ZXVswLTldKXwoW0EtUFItVVdZWl1bQS1ISy1ZXVswLTldWzAtOV0pfChbQS1QUi1VV1laXVswLTldW0EtSEpLU1RVV10pfChbQS1QUi1VV1laXVtBLUhLLVldWzAtOV1bQUJFSE1OUFJWV1hZXSkpXFxzPyhbMC05XVtBQkQtSEpMTlAtVVctWl17Mn0pfChHSVIpXFxzPygwQUEpKSQvaS50ZXN0KCB2YWx1ZSApO1xufSwgXCJQbGVhc2Ugc3BlY2lmeSBhIHZhbGlkIFVLIHBvc3Rjb2RlXCIgKTtcblxyXG4vKlxuICogTGV0cyB5b3Ugc2F5IFwiYXQgbGVhc3QgWCBpbnB1dHMgdGhhdCBtYXRjaCBzZWxlY3RvciBZIG11c3QgYmUgZmlsbGVkLlwiXG4gKlxuICogVGhlIGVuZCByZXN1bHQgaXMgdGhhdCBuZWl0aGVyIG9mIHRoZXNlIGlucHV0czpcbiAqXG4gKlx0PGlucHV0IGNsYXNzPVwicHJvZHVjdGluZm9cIiBuYW1lPVwicGFydG51bWJlclwiPlxuICpcdDxpbnB1dCBjbGFzcz1cInByb2R1Y3RpbmZvXCIgbmFtZT1cImRlc2NyaXB0aW9uXCI+XG4gKlxuICpcdC4uLndpbGwgdmFsaWRhdGUgdW5sZXNzIGF0IGxlYXN0IG9uZSBvZiB0aGVtIGlzIGZpbGxlZC5cbiAqXG4gKiBwYXJ0bnVtYmVyOlx0e3JlcXVpcmVfZnJvbV9ncm91cDogWzEsXCIucHJvZHVjdGluZm9cIl19LFxuICogZGVzY3JpcHRpb246IHtyZXF1aXJlX2Zyb21fZ3JvdXA6IFsxLFwiLnByb2R1Y3RpbmZvXCJdfVxuICpcbiAqIG9wdGlvbnNbMF06IG51bWJlciBvZiBmaWVsZHMgdGhhdCBtdXN0IGJlIGZpbGxlZCBpbiB0aGUgZ3JvdXBcbiAqIG9wdGlvbnNbMV06IENTUyBzZWxlY3RvciB0aGF0IGRlZmluZXMgdGhlIGdyb3VwIG9mIGNvbmRpdGlvbmFsbHkgcmVxdWlyZWQgZmllbGRzXG4gKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJyZXF1aXJlX2Zyb21fZ3JvdXBcIiwgZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBvcHRpb25zICkge1xuXHR2YXIgJGZpZWxkcyA9ICQoIG9wdGlvbnNbIDEgXSwgZWxlbWVudC5mb3JtICksXG5cdFx0JGZpZWxkc0ZpcnN0ID0gJGZpZWxkcy5lcSggMCApLFxuXHRcdHZhbGlkYXRvciA9ICRmaWVsZHNGaXJzdC5kYXRhKCBcInZhbGlkX3JlcV9ncnBcIiApID8gJGZpZWxkc0ZpcnN0LmRhdGEoIFwidmFsaWRfcmVxX2dycFwiICkgOiAkLmV4dGVuZCgge30sIHRoaXMgKSxcblx0XHRpc1ZhbGlkID0gJGZpZWxkcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHZhbGlkYXRvci5lbGVtZW50VmFsdWUoIHRoaXMgKTtcblx0XHR9ICkubGVuZ3RoID49IG9wdGlvbnNbIDAgXTtcblxuXHQvLyBTdG9yZSB0aGUgY2xvbmVkIHZhbGlkYXRvciBmb3IgZnV0dXJlIHZhbGlkYXRpb25cblx0JGZpZWxkc0ZpcnN0LmRhdGEoIFwidmFsaWRfcmVxX2dycFwiLCB2YWxpZGF0b3IgKTtcblxuXHQvLyBJZiBlbGVtZW50IGlzbid0IGJlaW5nIHZhbGlkYXRlZCwgcnVuIGVhY2ggcmVxdWlyZV9mcm9tX2dyb3VwIGZpZWxkJ3MgdmFsaWRhdGlvbiBydWxlc1xuXHRpZiAoICEkKCBlbGVtZW50ICkuZGF0YSggXCJiZWluZ192YWxpZGF0ZWRcIiApICkge1xuXHRcdCRmaWVsZHMuZGF0YSggXCJiZWluZ192YWxpZGF0ZWRcIiwgdHJ1ZSApO1xuXHRcdCRmaWVsZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YWxpZGF0b3IuZWxlbWVudCggdGhpcyApO1xuXHRcdH0gKTtcblx0XHQkZmllbGRzLmRhdGEoIFwiYmVpbmdfdmFsaWRhdGVkXCIsIGZhbHNlICk7XG5cdH1cblx0cmV0dXJuIGlzVmFsaWQ7XG59LCAkLnZhbGlkYXRvci5mb3JtYXQoIFwiUGxlYXNlIGZpbGwgYXQgbGVhc3QgezB9IG9mIHRoZXNlIGZpZWxkcy5cIiApICk7XG5cclxuLypcbiAqIExldHMgeW91IHNheSBcImVpdGhlciBhdCBsZWFzdCBYIGlucHV0cyB0aGF0IG1hdGNoIHNlbGVjdG9yIFkgbXVzdCBiZSBmaWxsZWQsXG4gKiBPUiB0aGV5IG11c3QgYWxsIGJlIHNraXBwZWQgKGxlZnQgYmxhbmspLlwiXG4gKlxuICogVGhlIGVuZCByZXN1bHQsIGlzIHRoYXQgbm9uZSBvZiB0aGVzZSBpbnB1dHM6XG4gKlxuICpcdDxpbnB1dCBjbGFzcz1cInByb2R1Y3RpbmZvXCIgbmFtZT1cInBhcnRudW1iZXJcIj5cbiAqXHQ8aW5wdXQgY2xhc3M9XCJwcm9kdWN0aW5mb1wiIG5hbWU9XCJkZXNjcmlwdGlvblwiPlxuICpcdDxpbnB1dCBjbGFzcz1cInByb2R1Y3RpbmZvXCIgbmFtZT1cImNvbG9yXCI+XG4gKlxuICpcdC4uLndpbGwgdmFsaWRhdGUgdW5sZXNzIGVpdGhlciBhdCBsZWFzdCB0d28gb2YgdGhlbSBhcmUgZmlsbGVkLFxuICpcdE9SIG5vbmUgb2YgdGhlbSBhcmUuXG4gKlxuICogcGFydG51bWJlcjpcdHtza2lwX29yX2ZpbGxfbWluaW11bTogWzIsXCIucHJvZHVjdGluZm9cIl19LFxuICogZGVzY3JpcHRpb246IHtza2lwX29yX2ZpbGxfbWluaW11bTogWzIsXCIucHJvZHVjdGluZm9cIl19LFxuICogY29sb3I6XHRcdHtza2lwX29yX2ZpbGxfbWluaW11bTogWzIsXCIucHJvZHVjdGluZm9cIl19XG4gKlxuICogb3B0aW9uc1swXTogbnVtYmVyIG9mIGZpZWxkcyB0aGF0IG11c3QgYmUgZmlsbGVkIGluIHRoZSBncm91cFxuICogb3B0aW9uc1sxXTogQ1NTIHNlbGVjdG9yIHRoYXQgZGVmaW5lcyB0aGUgZ3JvdXAgb2YgY29uZGl0aW9uYWxseSByZXF1aXJlZCBmaWVsZHNcbiAqXG4gKi9cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJza2lwX29yX2ZpbGxfbWluaW11bVwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG5cdHZhciAkZmllbGRzID0gJCggb3B0aW9uc1sgMSBdLCBlbGVtZW50LmZvcm0gKSxcblx0XHQkZmllbGRzRmlyc3QgPSAkZmllbGRzLmVxKCAwICksXG5cdFx0dmFsaWRhdG9yID0gJGZpZWxkc0ZpcnN0LmRhdGEoIFwidmFsaWRfc2tpcFwiICkgPyAkZmllbGRzRmlyc3QuZGF0YSggXCJ2YWxpZF9za2lwXCIgKSA6ICQuZXh0ZW5kKCB7fSwgdGhpcyApLFxuXHRcdG51bWJlckZpbGxlZCA9ICRmaWVsZHMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB2YWxpZGF0b3IuZWxlbWVudFZhbHVlKCB0aGlzICk7XG5cdFx0fSApLmxlbmd0aCxcblx0XHRpc1ZhbGlkID0gbnVtYmVyRmlsbGVkID09PSAwIHx8IG51bWJlckZpbGxlZCA+PSBvcHRpb25zWyAwIF07XG5cblx0Ly8gU3RvcmUgdGhlIGNsb25lZCB2YWxpZGF0b3IgZm9yIGZ1dHVyZSB2YWxpZGF0aW9uXG5cdCRmaWVsZHNGaXJzdC5kYXRhKCBcInZhbGlkX3NraXBcIiwgdmFsaWRhdG9yICk7XG5cblx0Ly8gSWYgZWxlbWVudCBpc24ndCBiZWluZyB2YWxpZGF0ZWQsIHJ1biBlYWNoIHNraXBfb3JfZmlsbF9taW5pbXVtIGZpZWxkJ3MgdmFsaWRhdGlvbiBydWxlc1xuXHRpZiAoICEkKCBlbGVtZW50ICkuZGF0YSggXCJiZWluZ192YWxpZGF0ZWRcIiApICkge1xuXHRcdCRmaWVsZHMuZGF0YSggXCJiZWluZ192YWxpZGF0ZWRcIiwgdHJ1ZSApO1xuXHRcdCRmaWVsZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YWxpZGF0b3IuZWxlbWVudCggdGhpcyApO1xuXHRcdH0gKTtcblx0XHQkZmllbGRzLmRhdGEoIFwiYmVpbmdfdmFsaWRhdGVkXCIsIGZhbHNlICk7XG5cdH1cblx0cmV0dXJuIGlzVmFsaWQ7XG59LCAkLnZhbGlkYXRvci5mb3JtYXQoIFwiUGxlYXNlIGVpdGhlciBza2lwIHRoZXNlIGZpZWxkcyBvciBmaWxsIGF0IGxlYXN0IHswfSBvZiB0aGVtLlwiICkgKTtcblxyXG4vKiBWYWxpZGF0ZXMgVVMgU3RhdGVzIGFuZC9vciBUZXJyaXRvcmllcyBieSBAamRmb3JzeXRoZVxuICogQ2FuIGJlIGNhc2UgaW5zZW5zaXRpdmUgb3IgcmVxdWlyZSBjYXBpdGFsaXphdGlvbiAtIGRlZmF1bHQgaXMgY2FzZSBpbnNlbnNpdGl2ZVxuICogQ2FuIGluY2x1ZGUgVVMgVGVycml0b3JpZXMgb3Igbm90IC0gZGVmYXVsdCBkb2VzIG5vdFxuICogQ2FuIGluY2x1ZGUgVVMgTWlsaXRhcnkgcG9zdGFsIGFiYnJldmlhdGlvbnMgKEFBLCBBRSwgQVApIC0gZGVmYXVsdCBkb2VzIG5vdFxuICpcbiAqIE5vdGU6IFwiU3RhdGVzXCIgYWx3YXlzIGluY2x1ZGVzIERDIChEaXN0cmljdCBvZiBDb2xvbWJpYSlcbiAqXG4gKiBVc2FnZSBleGFtcGxlczpcbiAqXG4gKiAgVGhpcyBpcyB0aGUgZGVmYXVsdCAtIGNhc2UgaW5zZW5zaXRpdmUsIG5vIHRlcnJpdG9yaWVzLCBubyBtaWxpdGFyeSB6b25lc1xuICogIHN0YXRlSW5wdXQ6IHtcbiAqICAgICBjYXNlU2Vuc2l0aXZlOiBmYWxzZSxcbiAqICAgICBpbmNsdWRlVGVycml0b3JpZXM6IGZhbHNlLFxuICogICAgIGluY2x1ZGVNaWxpdGFyeTogZmFsc2VcbiAqICB9XG4gKlxuICogIE9ubHkgYWxsb3cgY2FwaXRhbCBsZXR0ZXJzLCBubyB0ZXJyaXRvcmllcywgbm8gbWlsaXRhcnkgem9uZXNcbiAqICBzdGF0ZUlucHV0OiB7XG4gKiAgICAgY2FzZVNlbnNpdGl2ZTogZmFsc2VcbiAqICB9XG4gKlxuICogIENhc2UgaW5zZW5zaXRpdmUsIGluY2x1ZGUgdGVycml0b3JpZXMgYnV0IG5vdCBtaWxpdGFyeSB6b25lc1xuICogIHN0YXRlSW5wdXQ6IHtcbiAqICAgICBpbmNsdWRlVGVycml0b3JpZXM6IHRydWVcbiAqICB9XG4gKlxuICogIE9ubHkgYWxsb3cgY2FwaXRhbCBsZXR0ZXJzLCBpbmNsdWRlIHRlcnJpdG9yaWVzIGFuZCBtaWxpdGFyeSB6b25lc1xuICogIHN0YXRlSW5wdXQ6IHtcbiAqICAgICBjYXNlU2Vuc2l0aXZlOiB0cnVlLFxuICogICAgIGluY2x1ZGVUZXJyaXRvcmllczogdHJ1ZSxcbiAqICAgICBpbmNsdWRlTWlsaXRhcnk6IHRydWVcbiAqICB9XG4gKlxuICovXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwic3RhdGVVU1wiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG5cdHZhciBpc0RlZmF1bHQgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJ1bmRlZmluZWRcIixcblx0XHRjYXNlU2Vuc2l0aXZlID0gKCBpc0RlZmF1bHQgfHwgdHlwZW9mIG9wdGlvbnMuY2FzZVNlbnNpdGl2ZSA9PT0gXCJ1bmRlZmluZWRcIiApID8gZmFsc2UgOiBvcHRpb25zLmNhc2VTZW5zaXRpdmUsXG5cdFx0aW5jbHVkZVRlcnJpdG9yaWVzID0gKCBpc0RlZmF1bHQgfHwgdHlwZW9mIG9wdGlvbnMuaW5jbHVkZVRlcnJpdG9yaWVzID09PSBcInVuZGVmaW5lZFwiICkgPyBmYWxzZSA6IG9wdGlvbnMuaW5jbHVkZVRlcnJpdG9yaWVzLFxuXHRcdGluY2x1ZGVNaWxpdGFyeSA9ICggaXNEZWZhdWx0IHx8IHR5cGVvZiBvcHRpb25zLmluY2x1ZGVNaWxpdGFyeSA9PT0gXCJ1bmRlZmluZWRcIiApID8gZmFsc2UgOiBvcHRpb25zLmluY2x1ZGVNaWxpdGFyeSxcblx0XHRyZWdleDtcblxuXHRpZiAoICFpbmNsdWRlVGVycml0b3JpZXMgJiYgIWluY2x1ZGVNaWxpdGFyeSApIHtcblx0XHRyZWdleCA9IFwiXihBW0tMUlpdfENbQU9UXXxEW0NFXXxGTHxHQXxISXxJW0FETE5dfEtbU1ldfExBfE1bQURFSU5PU1RdfE5bQ0RFSEpNVlldfE9bSEtSXXxQQXxSSXxTW0NEXXxUW05YXXxVVHxWW0FUXXxXW0FJVlldKSRcIjtcblx0fSBlbHNlIGlmICggaW5jbHVkZVRlcnJpdG9yaWVzICYmIGluY2x1ZGVNaWxpdGFyeSApIHtcblx0XHRyZWdleCA9IFwiXihBW0FFS0xQUlNaXXxDW0FPVF18RFtDRV18Rkx8R1tBVV18SEl8SVtBRExOXXxLW1NZXXxMQXxNW0FERUlOT1BTVF18TltDREVISk1WWV18T1tIS1JdfFBbQVJdfFJJfFNbQ0RdfFRbTlhdfFVUfFZbQUlUXXxXW0FJVlldKSRcIjtcblx0fSBlbHNlIGlmICggaW5jbHVkZVRlcnJpdG9yaWVzICkge1xuXHRcdHJlZ2V4ID0gXCJeKEFbS0xSU1pdfENbQU9UXXxEW0NFXXxGTHxHW0FVXXxISXxJW0FETE5dfEtbU1ldfExBfE1bQURFSU5PUFNUXXxOW0NERUhKTVZZXXxPW0hLUl18UFtBUl18Ukl8U1tDRF18VFtOWF18VVR8VltBSVRdfFdbQUlWWV0pJFwiO1xuXHR9IGVsc2Uge1xuXHRcdHJlZ2V4ID0gXCJeKEFbQUVLTFBSWl18Q1tBT1RdfERbQ0VdfEZMfEdBfEhJfElbQURMTl18S1tTWV18TEF8TVtBREVJTk9TVF18TltDREVISk1WWV18T1tIS1JdfFBBfFJJfFNbQ0RdfFRbTlhdfFVUfFZbQVRdfFdbQUlWWV0pJFwiO1xuXHR9XG5cblx0cmVnZXggPSBjYXNlU2Vuc2l0aXZlID8gbmV3IFJlZ0V4cCggcmVnZXggKSA6IG5ldyBSZWdFeHAoIHJlZ2V4LCBcImlcIiApO1xuXHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHJlZ2V4LnRlc3QoIHZhbHVlICk7XG59LCBcIlBsZWFzZSBzcGVjaWZ5IGEgdmFsaWQgc3RhdGVcIiApO1xuXHJcbi8vIFRPRE8gY2hlY2sgaWYgdmFsdWUgc3RhcnRzIHdpdGggPCwgb3RoZXJ3aXNlIGRvbid0IHRyeSBzdHJpcHBpbmcgYW55dGhpbmdcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJzdHJpcHBlZG1pbmxlbmd0aFwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRyZXR1cm4gJCggdmFsdWUgKS50ZXh0KCkubGVuZ3RoID49IHBhcmFtO1xufSwgJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVyc1wiICkgKTtcblxyXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwidGltZVwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL14oWzAxXVxcZHwyWzAtM118WzAtOV0pKDpbMC01XVxcZCl7MSwyfSQvLnRlc3QoIHZhbHVlICk7XG59LCBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHRpbWUsIGJldHdlZW4gMDA6MDAgYW5kIDIzOjU5XCIgKTtcblxyXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwidGltZTEyaFwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL14oKDA/WzEtOV18MVswMTJdKSg6WzAtNV1cXGQpezEsMn0oXFwgP1tBUF1NKSkkL2kudGVzdCggdmFsdWUgKTtcbn0sIFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgdGltZSBpbiAxMi1ob3VyIGFtL3BtIGZvcm1hdFwiICk7XG5cclxuLy8gU2FtZSBhcyB1cmwsIGJ1dCBUTEQgaXMgb3B0aW9uYWxcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJ1cmwyXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXihodHRwcz98ZnRwKTpcXC9cXC8oKCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OikqQCk/KCgoXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pKXwoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSooKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4/KSg6XFxkKik/KShcXC8oKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKyhcXC8oKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkqKSopPyk/KFxcPygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8W1xcdUUwMDAtXFx1RjhGRl18XFwvfFxcPykqKT8oIygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8XFwvfFxcPykqKT8kL2kudGVzdCggdmFsdWUgKTtcbn0sICQudmFsaWRhdG9yLm1lc3NhZ2VzLnVybCApO1xuXHJcbi8qKlxuICogUmV0dXJuIHRydWUsIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIHZlaGljbGUgaWRlbnRpZmljYXRpb24gbnVtYmVyIChWSU4pLlxuICpcbiAqIFdvcmtzIHdpdGggYWxsIGtpbmQgb2YgdGV4dCBpbnB1dHMuXG4gKlxuICogQGV4YW1wbGUgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgc2l6ZT1cIjIwXCIgbmFtZT1cIlZlaGljbGVJRFwiIGNsYXNzPVwie3JlcXVpcmVkOnRydWUsdmluVVM6dHJ1ZX1cIiAvPlxuICogQGRlc2MgRGVjbGFyZXMgYSByZXF1aXJlZCBpbnB1dCBlbGVtZW50IHdob3NlIHZhbHVlIG11c3QgYmUgYSB2YWxpZCB2ZWhpY2xlIGlkZW50aWZpY2F0aW9uIG51bWJlci5cbiAqXG4gKiBAbmFtZSAkLnZhbGlkYXRvci5tZXRob2RzLnZpblVTXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAY2F0IFBsdWdpbnMvVmFsaWRhdGUvTWV0aG9kc1xuICovXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwidmluVVNcIiwgZnVuY3Rpb24oIHYgKSB7XG5cdGlmICggdi5sZW5ndGggIT09IDE3ICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHZhciBMTCA9IFsgXCJBXCIsIFwiQlwiLCBcIkNcIiwgXCJEXCIsIFwiRVwiLCBcIkZcIiwgXCJHXCIsIFwiSFwiLCBcIkpcIiwgXCJLXCIsIFwiTFwiLCBcIk1cIiwgXCJOXCIsIFwiUFwiLCBcIlJcIiwgXCJTXCIsIFwiVFwiLCBcIlVcIiwgXCJWXCIsIFwiV1wiLCBcIlhcIiwgXCJZXCIsIFwiWlwiIF0sXG5cdFx0VkwgPSBbIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDEsIDIsIDMsIDQsIDUsIDcsIDksIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDkgXSxcblx0XHRGTCA9IFsgOCwgNywgNiwgNSwgNCwgMywgMiwgMTAsIDAsIDksIDgsIDcsIDYsIDUsIDQsIDMsIDIgXSxcblx0XHRycyA9IDAsXG5cdFx0aSwgbiwgZCwgZiwgY2QsIGNkdjtcblxuXHRmb3IgKCBpID0gMDsgaSA8IDE3OyBpKysgKSB7XG5cdFx0ZiA9IEZMWyBpIF07XG5cdFx0ZCA9IHYuc2xpY2UoIGksIGkgKyAxICk7XG5cdFx0aWYgKCBpID09PSA4ICkge1xuXHRcdFx0Y2R2ID0gZDtcblx0XHR9XG5cdFx0aWYgKCAhaXNOYU4oIGQgKSApIHtcblx0XHRcdGQgKj0gZjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggbiA9IDA7IG4gPCBMTC5sZW5ndGg7IG4rKyApIHtcblx0XHRcdFx0aWYgKCBkLnRvVXBwZXJDYXNlKCkgPT09IExMWyBuIF0gKSB7XG5cdFx0XHRcdFx0ZCA9IFZMWyBuIF07XG5cdFx0XHRcdFx0ZCAqPSBmO1xuXHRcdFx0XHRcdGlmICggaXNOYU4oIGNkdiApICYmIG4gPT09IDggKSB7XG5cdFx0XHRcdFx0XHRjZHYgPSBMTFsgbiBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRycyArPSBkO1xuXHR9XG5cdGNkID0gcnMgJSAxMTtcblx0aWYgKCBjZCA9PT0gMTAgKSB7XG5cdFx0Y2QgPSBcIlhcIjtcblx0fVxuXHRpZiAoIGNkID09PSBjZHYgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufSwgXCJUaGUgc3BlY2lmaWVkIHZlaGljbGUgaWRlbnRpZmljYXRpb24gbnVtYmVyIChWSU4pIGlzIGludmFsaWQuXCIgKTtcblxyXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoIFwiemlwY29kZVVTXCIsIGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXlxcZHs1fSgtXFxkezR9KT8kLy50ZXN0KCB2YWx1ZSApO1xufSwgXCJUaGUgc3BlY2lmaWVkIFVTIFpJUCBDb2RlIGlzIGludmFsaWRcIiApO1xuXHJcbiQudmFsaWRhdG9yLmFkZE1ldGhvZCggXCJ6aXByYW5nZVwiLCBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL145MFsyLTVdXFxkXFx7MlxcfS1cXGR7NH0kLy50ZXN0KCB2YWx1ZSApO1xufSwgXCJZb3VyIFpJUC1jb2RlIG11c3QgYmUgaW4gdGhlIHJhbmdlIDkwMnh4LXh4eHggdG8gOTA1eHgteHh4eFwiICk7XG5yZXR1cm4gJDtcclxufSkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2pxdWVyeS12YWxpZGF0aW9uL2Rpc3QvYWRkaXRpb25hbC1tZXRob2RzLmpzXG4vLyBtb2R1bGUgaWQgPSA2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///68\n");

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.commonPointList = undefined;\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commonPointList = function commonPointList(deviceType) {\n  var searchPeriodDays = 30;\n  var type = 'available';\n  var pointListTemplate = null;\n  var pointListScheduleTemplate = null;\n  var isPeriodChanged = false;\n  var isPointTabChanged = false;\n  var pageNumber = 1;\n\n  function getPointList() {\n    var endDate = (0, _moment2.default)();\n    var startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n    if (searchPeriodDays == 90) {\n      startDate = (0, _moment2.default)(endDate).add(-3, 'M');\n    } else if (searchPeriodDays == 180) {\n      startDate = (0, _moment2.default)(endDate).add(-6, 'M');\n    } else if (searchPeriodDays == 365) {\n      startDate = (0, _moment2.default)(endDate).add(-1, 'Y');\n    } else {\n      if ($('#datepickerStart').val() != null && $('#datepickerStart').val() != '') {\n        startDate = (0, _moment2.default)($('#datepickerStart').val(), 'YYYY.MM.DD');\n      }\n      if ($('#datepickerStart').val() != null && $('#datepickerStart').val() != '') {\n        endDate = (0, _moment2.default)($('#datepickerEnd').val(), 'YYYY.MM.DD');\n      }\n    }\n\n    if (startDate > endDate) {\n      alert('검색 기간을 확인해주세요.'); // 종료일이 시작일 보다 빠를 수 없습니다.\n      return false;\n    }\n    if (startDate > (0, _moment2.default)() || endDate > (0, _moment2.default)()) {\n      alert('검색 기간을 확인해주세요.'); // 오늘 이후의 날짜는 검색할 수 없습니다.\n      return false;\n    }\n\n    var params = {\n      startDate: startDate.format('YYYYMMDD'),\n      endDate: endDate.format('YYYYMMDD'),\n      type: type, // (available, unavailable)\n      pageNumber: pageNumber\n    };\n    var endOfData = false;\n    $('#moreBtn').hide();\n    $('#pointListLoading').show();\n    $.ajax({\n      url: '/Point/History',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        var dataPage = data.page;\n        if (data.results && data.results.length > 0) {\n          var targetEle = $('#resultPointList');\n          targetEle.show();\n          $.each(data.results, function (index, result) {\n            var pointData = result;\n            pointData.type = type;\n            if (pageNumber == 1 && (isPeriodChanged && index == 0 || isPointTabChanged && index == 0)) {\n              $('#emptyResultPointList').hide();\n              if (type == 'available') {\n                targetEle.html(pointListTemplate(pointData));\n              } else {\n                targetEle.html(pointListScheduleTemplate(pointData));\n              }\n            } else {\n              if (type == 'available') {\n                targetEle.append(pointListTemplate(pointData));\n              } else {\n                targetEle.append(pointListScheduleTemplate(pointData));\n              }\n            }\n          });\n          if (dataPage.currentPage * dataPage.perPage > dataPage.totalCount) {\n            endOfData = true;\n          }\n        } else {\n          if (pageNumber == 1) {\n            $('#resultPointList').hide();\n            $('#emptyResultPointList').show();\n          }\n          endOfData = true;\n        }\n      },\n      error: function error(data) {\n        alert(data.responseJSON.message);\n        $('#resultPointList').hide();\n        $('#emptyResultPointList').show();\n        endOfData = true;\n      }\n    }).always(function () {\n      $('#pointListLoading').hide();\n\n      if (endOfData) {\n        $('#moreBtn').hide();\n      } else {\n        $('#moreBtn').show();\n      }\n    });\n  }\n\n  $('#searchPointBtn').click(function (e) {\n    e.preventDefault();\n    pageNumber = 1;\n    $('#emptyResultPointList').hide();\n    getPointList();\n  });\n\n  if ($('#resultPointList').length > 0) {\n    pointListTemplate = Handlebars.templates[deviceType + '/precompiles/point/point-item'];\n    pointListScheduleTemplate = Handlebars.templates[deviceType + '/precompiles/point/point-item-schedule'];\n    getPointList();\n  }\n\n  $('#pointTabs li').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      isPointTabChanged = true;\n      pageNumber = 1;\n      $('#pointListLoading').show();\n    }\n    $('#emptyResultPointList').hide();\n    $('#pointTabs li').removeClass('on');\n    type = $this.data('historyType');\n    $this.addClass('on');\n    if (type == 'available') {\n      $('#searchPeriodArea').show();\n      $('#schedulePointHeader').hide();\n      $('#savingPointHeader').show();\n    } else {\n      $('#searchPeriodArea').hide();\n      $('#savingPointHeader').hide();\n      $('#schedulePointHeader').show();\n    }\n    getPointList();\n  });\n\n  $('#periodTabs > li > a').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      isPeriodChanged = true;\n      pageNumber = 1;\n      if (deviceType == 'mobile') {\n        $('#pointListLoading').show();\n      }\n    }\n    if (deviceType == 'mobile') {\n      $('#emptyResultPointList').hide();\n    }\n    $('#periodTabs > li').removeClass('on');\n    searchPeriodDays = $this.data('searchPeriod');\n    $this.parent().addClass('on');\n\n    var endDate = (0, _moment2.default)();\n    var startDate = (0, _moment2.default)();\n    if (searchPeriodDays == 30) {\n      startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n    } else if (searchPeriodDays == 90) {\n      startDate = (0, _moment2.default)(endDate).add(-3, 'M');\n    } else if (searchPeriodDays == 180) {\n      startDate = (0, _moment2.default)(endDate).add(-6, 'M');\n    } else if (searchPeriodDays == 365) {\n      startDate = (0, _moment2.default)(endDate).add(-1, 'Y');\n    } else {\n      startDate = (0, _moment2.default)($('#datepickerStart').val(), 'YYYY.MM.DD');\n      endDate = (0, _moment2.default)($('#datepickerEnd').val(), 'YYYY.MM.DD');\n    }\n    $('#datepickerStart').datepicker('setDate', startDate.format('YYYY.MM.DD'));\n    $('#datepickerEnd').datepicker('setDate', endDate.format('YYYY.MM.DD'));\n\n    if (deviceType == 'mobile') {\n      getPointList();\n    }\n  });\n\n  $('#moreBtn').click(function (e) {\n    e.preventDefault();\n\n    pageNumber++;\n    getPointList();\n  });\n\n  if (deviceType == 'desktop') {\n    var DEFAULT_START_DATE = (0, _moment2.default)().add(-1, 'M').format('YYYY.MM.DD');\n    var DEFAULT_END_DATE = (0, _moment2.default)().format('YYYY.MM.DD');\n\n    /* 달력 관련 */\n    $('#datepickerStart').datepicker({\n      inline: true,\n      showOtherMonths: true,\n      showMonthAfterYear: true,\n      dateFormat: 'yy.mm.dd',\n      yearSuffix: '.',\n      monthNames: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],\n      dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],\n      onClose: function onClose() {\n        $('.hasDatepicker').removeClass('active');\n      },\n      onSelect: function onSelect() {\n        $('#periodTabs > li').removeClass('on');\n        searchPeriodDays = 0;\n      }\n    }).datepicker('widget').wrap('<div class=\"ll-skin-melon\"/>');\n\n    $('#datepickerEnd').datepicker({\n      inline: true,\n      showOtherMonths: true,\n      showMonthAfterYear: true,\n      dateFormat: 'yy.mm.dd',\n      yearSuffix: '.',\n      monthNames: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],\n      dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],\n      onClose: function onClose() {\n        $('.hasDatepicker').removeClass('active');\n      },\n      onSelect: function onSelect() {\n        $('#periodTabs > li').removeClass('on');\n        searchPeriodDays = 0;\n      }\n    }).datepicker('widget').wrap('<div class=\"ll-skin-melon\"/>');\n\n    $('#datepickerStart').datepicker('setDate', DEFAULT_START_DATE);\n    $('#datepickerEnd').datepicker('setDate', DEFAULT_END_DATE);\n  }\n}; /**\n    * Created by byulnimkim on 2017-08-03.\n    */\nexports.commonPointList = commonPointList;\nexports.default = {\n  commonPointList: commonPointList\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9Qb2ludC5hY3Rpb24uanM/NDNmOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgYnl1bG5pbWtpbSBvbiAyMDE3LTA4LTAzLlxuICovXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmNvbnN0IGNvbW1vblBvaW50TGlzdCA9IChkZXZpY2VUeXBlKSA9PiB7XG4gIGxldCBzZWFyY2hQZXJpb2REYXlzID0gMzA7XG4gIGxldCB0eXBlID0gJ2F2YWlsYWJsZSc7XG4gIGxldCBwb2ludExpc3RUZW1wbGF0ZSA9IG51bGw7XG4gIGxldCBwb2ludExpc3RTY2hlZHVsZVRlbXBsYXRlID0gbnVsbDtcbiAgbGV0IGlzUGVyaW9kQ2hhbmdlZCA9IGZhbHNlO1xuICBsZXQgaXNQb2ludFRhYkNoYW5nZWQgPSBmYWxzZTtcbiAgbGV0IHBhZ2VOdW1iZXIgPSAxO1xuXG4gIGZ1bmN0aW9uIGdldFBvaW50TGlzdCgpIHtcbiAgICBsZXQgZW5kRGF0ZSA9IG1vbWVudCgpO1xuICAgIGxldCBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0xLCAnTScpO1xuICAgIGlmIChzZWFyY2hQZXJpb2REYXlzID09IDkwKSB7XG4gICAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0zLCAnTScpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSAxODApIHtcbiAgICAgIHN0YXJ0RGF0ZSA9IG1vbWVudChlbmREYXRlKS5hZGQoLTYsICdNJyk7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hQZXJpb2REYXlzID09IDM2NSkge1xuICAgICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ1knKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCQoJyNkYXRlcGlja2VyU3RhcnQnKS52YWwoKSAhPSBudWxsICYmICQoJyNkYXRlcGlja2VyU3RhcnQnKS52YWwoKSAhPSAnJykge1xuICAgICAgICBzdGFydERhdGUgPSBtb21lbnQoJCgnI2RhdGVwaWNrZXJTdGFydCcpLnZhbCgpLCAnWVlZWS5NTS5ERCcpO1xuICAgICAgfVxuICAgICAgaWYgKCQoJyNkYXRlcGlja2VyU3RhcnQnKS52YWwoKSAhPSBudWxsICYmICQoJyNkYXRlcGlja2VyU3RhcnQnKS52YWwoKSAhPSAnJykge1xuICAgICAgICBlbmREYXRlID0gbW9tZW50KCQoJyNkYXRlcGlja2VyRW5kJykudmFsKCksICdZWVlZLk1NLkREJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0RGF0ZSA+IGVuZERhdGUpIHtcbiAgICAgIGFsZXJ0KCfqsoDsg4kg6riw6rCE7J2EIO2ZleyduO2VtOyjvOyEuOyalC4nKTsgLy8g7KKF66OM7J287J20IOyLnOyekeydvCDrs7Tri6Qg67mg66W8IOyImCDsl4bsirXri4jri6QuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzdGFydERhdGUgPiBtb21lbnQoKSB8fCBlbmREYXRlID4gbW9tZW50KCkpIHtcbiAgICAgIGFsZXJ0KCfqsoDsg4kg6riw6rCE7J2EIO2ZleyduO2VtOyjvOyEuOyalC4nKTsgLy8g7Jik64qYIOydtO2bhOydmCDrgqDsp5zripQg6rKA7IOJ7ZWgIOyImCDsl4bsirXri4jri6QuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUuZm9ybWF0KCdZWVlZTU1ERCcpLFxuICAgICAgZW5kRGF0ZTogZW5kRGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyksXG4gICAgICB0eXBlLCAvLyAoYXZhaWxhYmxlLCB1bmF2YWlsYWJsZSlcbiAgICAgIHBhZ2VOdW1iZXIsXG4gICAgfTtcbiAgICBsZXQgZW5kT2ZEYXRhID0gZmFsc2U7XG4gICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgJCgnI3BvaW50TGlzdExvYWRpbmcnKS5zaG93KCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9Qb2ludC9IaXN0b3J5JyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBkYXRhOiBwYXJhbXMsXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YVBhZ2UgPSBkYXRhLnBhZ2U7XG4gICAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRFbGUgPSAkKCcjcmVzdWx0UG9pbnRMaXN0Jyk7XG4gICAgICAgICAgdGFyZ2V0RWxlLnNob3coKTtcbiAgICAgICAgICAkLmVhY2goZGF0YS5yZXN1bHRzLCAoaW5kZXgsIHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9pbnREYXRhID0gcmVzdWx0O1xuICAgICAgICAgICAgcG9pbnREYXRhLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPT0gMSAmJiAoKGlzUGVyaW9kQ2hhbmdlZCAmJiBpbmRleCA9PSAwKSB8fCAoaXNQb2ludFRhYkNoYW5nZWQgJiYgaW5kZXggPT0gMCkpKSB7XG4gICAgICAgICAgICAgICQoJyNlbXB0eVJlc3VsdFBvaW50TGlzdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2F2YWlsYWJsZScpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRFbGUuaHRtbChwb2ludExpc3RUZW1wbGF0ZShwb2ludERhdGEpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRFbGUuaHRtbChwb2ludExpc3RTY2hlZHVsZVRlbXBsYXRlKHBvaW50RGF0YSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXZhaWxhYmxlJykge1xuICAgICAgICAgICAgICAgIHRhcmdldEVsZS5hcHBlbmQocG9pbnRMaXN0VGVtcGxhdGUocG9pbnREYXRhKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RWxlLmFwcGVuZChwb2ludExpc3RTY2hlZHVsZVRlbXBsYXRlKHBvaW50RGF0YSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKChkYXRhUGFnZS5jdXJyZW50UGFnZSAqIGRhdGFQYWdlLnBlclBhZ2UpID4gZGF0YVBhZ2UudG90YWxDb3VudCkge1xuICAgICAgICAgICAgZW5kT2ZEYXRhID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPT0gMSkge1xuICAgICAgICAgICAgJCgnI3Jlc3VsdFBvaW50TGlzdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNlbXB0eVJlc3VsdFBvaW50TGlzdCcpLnNob3coKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5kT2ZEYXRhID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9yOiAoZGF0YSkgPT4ge1xuICAgICAgICBhbGVydChkYXRhLnJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICAgICAgJCgnI3Jlc3VsdFBvaW50TGlzdCcpLmhpZGUoKTtcbiAgICAgICAgJCgnI2VtcHR5UmVzdWx0UG9pbnRMaXN0Jykuc2hvdygpO1xuICAgICAgICBlbmRPZkRhdGEgPSB0cnVlO1xuICAgICAgfSxcbiAgICB9KS5hbHdheXMoKCkgPT4ge1xuICAgICAgJCgnI3BvaW50TGlzdExvYWRpbmcnKS5oaWRlKCk7XG5cbiAgICAgIGlmIChlbmRPZkRhdGEpIHtcbiAgICAgICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcjbW9yZUJ0bicpLnNob3coKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICQoJyNzZWFyY2hQb2ludEJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHBhZ2VOdW1iZXIgPSAxO1xuICAgICQoJyNlbXB0eVJlc3VsdFBvaW50TGlzdCcpLmhpZGUoKTtcbiAgICBnZXRQb2ludExpc3QoKTtcbiAgfSk7XG5cbiAgaWYgKCQoJyNyZXN1bHRQb2ludExpc3QnKS5sZW5ndGggPiAwKSB7XG4gICAgcG9pbnRMaXN0VGVtcGxhdGUgPSBIYW5kbGViYXJzLnRlbXBsYXRlc1tgJHtkZXZpY2VUeXBlfS9wcmVjb21waWxlcy9wb2ludC9wb2ludC1pdGVtYF07XG4gICAgcG9pbnRMaXN0U2NoZWR1bGVUZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzW2Ake2RldmljZVR5cGV9L3ByZWNvbXBpbGVzL3BvaW50L3BvaW50LWl0ZW0tc2NoZWR1bGVgXTtcbiAgICBnZXRQb2ludExpc3QoKTtcbiAgfVxuXG4gICQoJyNwb2ludFRhYnMgbGknKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICBpc1BvaW50VGFiQ2hhbmdlZCA9IHRydWU7XG4gICAgICBwYWdlTnVtYmVyID0gMTtcbiAgICAgICQoJyNwb2ludExpc3RMb2FkaW5nJykuc2hvdygpO1xuICAgIH1cbiAgICAkKCcjZW1wdHlSZXN1bHRQb2ludExpc3QnKS5oaWRlKCk7XG4gICAgJCgnI3BvaW50VGFicyBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHR5cGUgPSAkdGhpcy5kYXRhKCdoaXN0b3J5VHlwZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdvbicpO1xuICAgIGlmICh0eXBlID09ICdhdmFpbGFibGUnKSB7XG4gICAgICAkKCcjc2VhcmNoUGVyaW9kQXJlYScpLnNob3coKTtcbiAgICAgICQoJyNzY2hlZHVsZVBvaW50SGVhZGVyJykuaGlkZSgpO1xuICAgICAgJCgnI3NhdmluZ1BvaW50SGVhZGVyJykuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcjc2VhcmNoUGVyaW9kQXJlYScpLmhpZGUoKTtcbiAgICAgICQoJyNzYXZpbmdQb2ludEhlYWRlcicpLmhpZGUoKTtcbiAgICAgICQoJyNzY2hlZHVsZVBvaW50SGVhZGVyJykuc2hvdygpO1xuICAgIH1cbiAgICBnZXRQb2ludExpc3QoKTtcbiAgfSk7XG5cbiAgJCgnI3BlcmlvZFRhYnMgPiBsaSA+IGEnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICBpc1BlcmlvZENoYW5nZWQgPSB0cnVlO1xuICAgICAgcGFnZU51bWJlciA9IDE7XG4gICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgICAgICAkKCcjcG9pbnRMaXN0TG9hZGluZycpLnNob3coKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRldmljZVR5cGUgPT0gJ21vYmlsZScpIHtcbiAgICAgICQoJyNlbXB0eVJlc3VsdFBvaW50TGlzdCcpLmhpZGUoKTtcbiAgICB9XG4gICAgJCgnI3BlcmlvZFRhYnMgPiBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHNlYXJjaFBlcmlvZERheXMgPSAkdGhpcy5kYXRhKCdzZWFyY2hQZXJpb2QnKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnb24nKTtcblxuICAgIGxldCBlbmREYXRlID0gbW9tZW50KCk7XG4gICAgbGV0IHN0YXJ0RGF0ZSA9IG1vbWVudCgpO1xuICAgIGlmIChzZWFyY2hQZXJpb2REYXlzID09IDMwKSB7XG4gICAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0xLCAnTScpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSA5MCkge1xuICAgICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMywgJ00nKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gMTgwKSB7XG4gICAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC02LCAnTScpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSAzNjUpIHtcbiAgICAgIHN0YXJ0RGF0ZSA9IG1vbWVudChlbmREYXRlKS5hZGQoLTEsICdZJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0RGF0ZSA9IG1vbWVudCgkKCcjZGF0ZXBpY2tlclN0YXJ0JykudmFsKCksICdZWVlZLk1NLkREJyk7XG4gICAgICBlbmREYXRlID0gbW9tZW50KCQoJyNkYXRlcGlja2VyRW5kJykudmFsKCksICdZWVlZLk1NLkREJyk7XG4gICAgfVxuICAgICQoJyNkYXRlcGlja2VyU3RhcnQnKS5kYXRlcGlja2VyKCdzZXREYXRlJywgc3RhcnREYXRlLmZvcm1hdCgnWVlZWS5NTS5ERCcpKTtcbiAgICAkKCcjZGF0ZXBpY2tlckVuZCcpLmRhdGVwaWNrZXIoJ3NldERhdGUnLCBlbmREYXRlLmZvcm1hdCgnWVlZWS5NTS5ERCcpKTtcblxuICAgIGlmIChkZXZpY2VUeXBlID09ICdtb2JpbGUnKSB7XG4gICAgICBnZXRQb2ludExpc3QoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNtb3JlQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBwYWdlTnVtYmVyKys7XG4gICAgZ2V0UG9pbnRMaXN0KCk7XG4gIH0pO1xuXG4gIGlmIChkZXZpY2VUeXBlID09ICdkZXNrdG9wJykge1xuICAgIGNvbnN0IERFRkFVTFRfU1RBUlRfREFURSA9IG1vbWVudCgpLmFkZCgtMSwgJ00nKS5mb3JtYXQoJ1lZWVkuTU0uREQnKTtcbiAgICBjb25zdCBERUZBVUxUX0VORF9EQVRFID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLk1NLkREJyk7XG5cbiAgICAgIC8qIOuLrOugpSDqtIDroKggKi9cbiAgICAkKCcjZGF0ZXBpY2tlclN0YXJ0JykuZGF0ZXBpY2tlcih7XG4gICAgICBpbmxpbmU6IHRydWUsXG4gICAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXG4gICAgICBzaG93TW9udGhBZnRlclllYXI6IHRydWUsXG4gICAgICBkYXRlRm9ybWF0OiAneXkubW0uZGQnLFxuICAgICAgeWVhclN1ZmZpeDogJy4nLFxuICAgICAgbW9udGhOYW1lczogWycwMScsICcwMicsICcwMycsICcwNCcsICcwNScsICcwNicsICcwNycsICcwOCcsICcwOScsICcxMCcsICcxMScsICcxMiddLFxuICAgICAgZGF5TmFtZXNNaW46IFsn7J28JywgJ+yblCcsICftmZQnLCAn7IiYJywgJ+uqqScsICfquIgnLCAn7YagJ10sXG4gICAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAgICQoJy5oYXNEYXRlcGlja2VyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfSxcbiAgICAgIG9uU2VsZWN0OiAoKSA9PiB7XG4gICAgICAgICQoJyNwZXJpb2RUYWJzID4gbGknKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICAgc2VhcmNoUGVyaW9kRGF5cyA9IDA7XG4gICAgICB9LFxuICAgIH0pLmRhdGVwaWNrZXIoJ3dpZGdldCcpLndyYXAoJzxkaXYgY2xhc3M9XCJsbC1za2luLW1lbG9uXCIvPicpO1xuXG4gICAgJCgnI2RhdGVwaWNrZXJFbmQnKS5kYXRlcGlja2VyKHtcbiAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgIHNob3dPdGhlck1vbnRoczogdHJ1ZSxcbiAgICAgIHNob3dNb250aEFmdGVyWWVhcjogdHJ1ZSxcbiAgICAgIGRhdGVGb3JtYXQ6ICd5eS5tbS5kZCcsXG4gICAgICB5ZWFyU3VmZml4OiAnLicsXG4gICAgICBtb250aE5hbWVzOiBbJzAxJywgJzAyJywgJzAzJywgJzA0JywgJzA1JywgJzA2JywgJzA3JywgJzA4JywgJzA5JywgJzEwJywgJzExJywgJzEyJ10sXG4gICAgICBkYXlOYW1lc01pbjogWyfsnbwnLCAn7JuUJywgJ+2ZlCcsICfsiJgnLCAn66qpJywgJ+q4iCcsICfthqAnXSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgJCgnLmhhc0RhdGVwaWNrZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9LFxuICAgICAgb25TZWxlY3Q6ICgpID0+IHtcbiAgICAgICAgJCgnI3BlcmlvZFRhYnMgPiBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICBzZWFyY2hQZXJpb2REYXlzID0gMDtcbiAgICAgIH0sXG4gICAgfSkuZGF0ZXBpY2tlcignd2lkZ2V0Jykud3JhcCgnPGRpdiBjbGFzcz1cImxsLXNraW4tbWVsb25cIi8+Jyk7XG5cbiAgICAkKCcjZGF0ZXBpY2tlclN0YXJ0JykuZGF0ZXBpY2tlcignc2V0RGF0ZScsIERFRkFVTFRfU1RBUlRfREFURSk7XG4gICAgJCgnI2RhdGVwaWNrZXJFbmQnKS5kYXRlcGlja2VyKCdzZXREYXRlJywgREVGQVVMVF9FTkRfREFURSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGNvbW1vblBvaW50TGlzdCB9O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbW1vblBvaW50TGlzdCxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9Qb2ludC5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVDQTtBQThDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFEQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///69\n");

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _nl2br = __webpack_require__(71);\n\nvar _nl2br2 = _interopRequireDefault(_nl2br);\n\nvar _md = __webpack_require__(72);\n\nvar _md2 = _interopRequireDefault(_md);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar render_hide_loader = function render_hide_loader(htmlId) {\n  return '<div id=\"' + htmlId + '\" class=\"progress-circle-indeterminate m-t-45 p-b-45\" style=\"display: none;\"></div>';\n}; /* eslint camelcase: \"off\" */\n\n\nvar render_loader = function render_loader(htmlId) {\n  return '<div id=\"' + htmlId + '\" class=\"progress-circle-indeterminate m-t-45 p-b-45\"></div>';\n};\n\nvar pageUrl = function pageUrl(url, page) {\n  if (url.indexOf('?') > -1) {\n    var params = url.substring(url.indexOf('?') + 1).split('&');\n    var search = '?';\n    for (var i = 0; i < params.length; i++) {\n      if (params[i].indexOf('pageNumber') == -1) {\n        search += params[i] + '&';\n      }\n    }\n    return '' + url.substring(0, url.indexOf('?')) + search + 'pageNumber=' + page;\n  }\n\n  return url + '?pageNumber=' + page;\n};\n\nvar render_paging_no_link = function render_paging_no_link(pageInfo) {\n  var pageSpan = 10;\n  var halfPageSpan = parseInt(pageSpan / 2, 10);\n\n  var totalPage = parseInt((pageInfo.totalCount - 1) / pageInfo.perPage, 10) + 1;\n  var startPage = pageInfo.currentPage <= pageSpan ? 1 : pageInfo.currentPage - pageSpan + 1;\n  if (pageInfo.currentPage > halfPageSpan && totalPage > pageSpan) {\n    if (pageInfo.currentPage > totalPage - halfPageSpan) {\n      startPage = totalPage - pageSpan + 1;\n    } else {\n      startPage = pageInfo.currentPage - halfPageSpan + 1;\n    }\n  }\n  var endPage = startPage + pageSpan > totalPage ? totalPage : startPage + pageSpan - 1;\n\n  var html = '';\n\n  html += '<div class=\"paging\">';\n  if (pageInfo.currentPage == 1) {\n    html += '  <a class=\"prev\">이전 페이지</a>';\n  } else {\n    html += '  <a data-page=\"' + (pageInfo.currentPage - 1) + '\" class=\"prev\">\\uC774\\uC804 \\uD398\\uC774\\uC9C0</a>';\n  }\n\n  for (var i = startPage; i <= endPage; i++) {\n    if (pageInfo.currentPage == i) {\n      html += '  <strong class=\"on\">' + i + '</strong>';\n    } else {\n      html += '  <a data-page=\"' + i + '\">' + i + '</a>';\n    }\n  }\n  if (pageInfo.currentPage == totalPage) {\n    html += '  <a class=\"next\">다음 페이지</a>';\n  } else {\n    html += '  <a data-page=\"' + (pageInfo.currentPage + 1) + '\" class=\"next\">\\uB2E4\\uC74C \\uD398\\uC774\\uC9C0</a>';\n  }\n  html += '</div>';\n\n  return html;\n};\n\nvar render_paging = function render_paging(pageInfo, url) {\n  var pageSpan = 10;\n  var halfPageSpan = parseInt(pageSpan / 2, 10);\n\n  var totalPage = parseInt((pageInfo.totalCount - 1) / pageInfo.perPage, 10) + 1;\n  var startPage = pageInfo.currentPage <= pageSpan ? 1 : pageInfo.currentPage - pageSpan + 1;\n  if (pageInfo.currentPage > halfPageSpan && totalPage > pageSpan) {\n    if (pageInfo.currentPage > totalPage - halfPageSpan) {\n      startPage = totalPage - pageSpan + 1;\n    } else {\n      startPage = pageInfo.currentPage - halfPageSpan + 1;\n    }\n  }\n  var endPage = startPage + pageSpan > totalPage ? totalPage : startPage + pageSpan - 1;\n\n  var html = '';\n\n  html += '<div class=\"paging\">';\n  if (pageInfo.currentPage == 1) {\n    html += '  <a class=\"prev\">이전 페이지</a>';\n  } else {\n    html += '  <a href=\"' + pageUrl(url, pageInfo.currentPage - 1) + '\" class=\"prev\">\\uC774\\uC804 \\uD398\\uC774\\uC9C0</a>';\n  }\n\n  for (var i = startPage; i <= endPage; i++) {\n    if (pageInfo.currentPage == i) {\n      html += '  <strong class=\"on\">' + i + '</strong>';\n    } else {\n      html += '  <a href=\"' + pageUrl(url, i) + '\">' + i + '</a>';\n    }\n  }\n  if (pageInfo.currentPage == totalPage) {\n    html += '  <a class=\"next\">다음 페이지</a>';\n  } else {\n    html += '  <a href=\"' + pageUrl(url, pageInfo.currentPage + 1) + '\" class=\"next\">\\uB2E4\\uC74C \\uD398\\uC774\\uC9C0</a>';\n  }\n  html += '</div>';\n\n  return html;\n};\n\nvar render_desktop_event_paging = function render_desktop_event_paging(pageInfo, callback) {\n  var pageSpan = 10;\n  var halfPageSpan = parseInt(pageSpan / 2, 10);\n\n  var totalPage = parseInt((pageInfo.totalCount - 1) / pageInfo.perPage, 10) + 1;\n  var startPage = pageInfo.currentPage <= pageSpan ? 1 : pageInfo.currentPage - pageSpan + 1;\n  if (pageInfo.currentPage > halfPageSpan && totalPage > pageSpan) {\n    if (pageInfo.currentPage > totalPage - halfPageSpan) {\n      startPage = totalPage - pageSpan + 1;\n    } else {\n      startPage = pageInfo.currentPage - halfPageSpan + 1;\n    }\n  }\n  var endPage = startPage + pageSpan > totalPage ? totalPage : startPage + pageSpan - 1;\n\n  var html = '';\n\n  html += '<div class=\"paging\">';\n  if (pageInfo.currentPage == 1) {\n    html += '  <a class=\"prev\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/pager_prev.png\" alt=\"이전\"></a>';\n  } else {\n    html += '  <a onClick=\"' + callback + '(' + (pageInfo.currentPage - 1) + ')\" class=\"prev\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/pager_prev.png\" alt=\"\\uC774\\uC804\"></a>';\n  }\n\n  for (var i = startPage; i <= endPage; i++) {\n    if (pageInfo.currentPage == i) {\n      html += '  <a><strong class=\"on\">' + i + '</strong></a>';\n    } else {\n      html += '  <a onClick=\"' + callback + '(' + i + ')\">' + i + '</a>';\n    }\n  }\n  if (pageInfo.currentPage == totalPage) {\n    html += '  <a class=\"next\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/pager_next.png\" alt=\"다음\"></a>';\n  } else {\n    html += '  <a onClick=\"' + callback + '(' + (pageInfo.currentPage + 1) + ')\" class=\"next\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/pager_next.png\" alt=\"\\uB2E4\\uC74C\"></a>';\n  }\n  html += '</div>';\n\n  return html;\n};\n\nvar render_mobile_event_paging = function render_mobile_event_paging(pageInfo, callback) {\n  var pageSpan = 5;\n  var halfPageSpan = parseInt(pageSpan / 2, 10);\n\n  var totalPage = parseInt((pageInfo.totalCount - 1) / pageInfo.perPage, 10) + 1;\n  var startPage = pageInfo.currentPage <= pageSpan ? 1 : pageInfo.currentPage - pageSpan + 1;\n  if (pageInfo.currentPage > halfPageSpan && totalPage > pageSpan) {\n    if (pageInfo.currentPage > totalPage - halfPageSpan) {\n      startPage = totalPage - pageSpan + 1;\n    } else {\n      startPage = pageInfo.currentPage - halfPageSpan + 1;\n    }\n  }\n  var endPage = startPage + pageSpan > totalPage ? totalPage : startPage + pageSpan - 1;\n\n  var html = '';\n\n  html += '<div class=\"paging\">';\n  if (pageInfo.currentPage == 1) {\n    html += '  <a class=\"prev\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/m_pager_prev.png\" alt=\"이전\"></a>';\n  } else {\n    html += '  <a onClick=\"' + callback + '(' + (pageInfo.currentPage - 1) + ')\" class=\"prev\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/m_pager_prev.png\" alt=\"\\uC774\\uC804\"></a>';\n  }\n\n  for (var i = startPage; i <= endPage; i++) {\n    if (pageInfo.currentPage == i) {\n      html += '  <a><strong class=\"on\">' + i + '</strong></a>';\n    } else {\n      html += '  <a onClick=\"' + callback + '(' + i + ')\">' + i + '</a>';\n    }\n  }\n  if (pageInfo.currentPage == totalPage) {\n    html += '  <a class=\"next\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/m_pager_next.png\" alt=\"다음\"></a>';\n  } else {\n    html += '  <a onClick=\"' + callback + '(' + (pageInfo.currentPage + 1) + ')\" class=\"next\"><img src=\"https://kopimages.kolon.com/cms/event/upload/c49ba69a-d9f3-47dc-b6ca-e29befcca8e0/m_pager_next.png\" alt=\"\\uB2E4\\uC74C\"></a>';\n  }\n  html += '</div>';\n\n  return html;\n};\n\nvar to_date_string = function to_date_string(date) {\n  return (0, _moment2.default)(date).format('YYYY.MM.DD');\n};\n\nvar to_time_string = function to_time_string(date) {\n  return (0, _moment2.default)(date).format('hh:mm');\n};\n\nvar to_datetime_string = function to_datetime_string(date) {\n  return (0, _moment2.default)(date).format('YYYY.MM.DD hh:mm');\n};\n\nvar rma_title_by_status = function rma_title_by_status(status) {\n  if (status == 'CANCEL_RECEIPT' || status == 'CANCEL_PROGRESS' || status == 'CANCEL_COMPLETED') {\n    return 'Cancel';\n  } else if (status == 'EXCHANGE_RECEIPT' || status == 'EXCHANGE_PROGRESS' || status == 'EXCHANGE_COMPLETED') {\n    return 'Exchange';\n  } else if (status == 'RETURN_RECEIPT' || status == 'RETURN_PROGRESS' || status == 'RETURN_COMPLETED') {\n    return 'Return';\n  }\n\n  return 'Cancel';\n};\n\nvar nl2br = function nl2br(str) {\n  return (0, _nl2br2.default)(str);\n};\n\nvar render_background_color = function render_background_color(str) {\n  return '#' + str;\n};\n\nvar list_to_string_with_comma_space = function list_to_string_with_comma_space(filters) {\n  var selectedFilters = filters.filter(function (filter) {\n    return filter.selected;\n  });\n\n  selectedFilters = selectedFilters.map(function (filter) {\n    return filter.name;\n  });\n  return selectedFilters.join(', ');\n};\n\nvar list_to_string_with_comma = function list_to_string_with_comma(str) {\n  if (str !== undefined && str != null && str.length > 0) {\n    if (Array.isArray(str)) {\n      return str.join(',');\n    } else {\n      return str;\n    }\n  }\n  return '';\n};\n\nvar hide_item_gte = function hide_item_gte(idx, count) {\n  if (idx >= count) {\n    return 'display: none;';\n  }\n\n  return '';\n};\n\n// this를 사용하기위해 function을 사용함\nfunction line_cnt(str, count, options) {\n  if (str != null && str.length > 0) {\n    var cnt = (str.match(/\\n/g) || []).length;\n    if (cnt == count - 1) {\n      return options.fn(this);\n    }\n  }\n\n  return options.inverse(this);\n}\n\nvar staticCache = function staticCache(id, parameter, options) {\n  return options.fn(undefined);\n};\n\nvar staticCacheTTL = function staticCacheTTL(id, parameter, ttl, options) {\n  return options.fn(undefined);\n};\n\nvar cache = function cache(currentParameter, id, parameter, options) {\n  return options.fn(undefined);\n};\n\nvar cacheTTL = function cacheTTL(currentParameter, id, parameter, ttl, options) {\n  return options.fn(undefined);\n};\n\nvar render_checkout_item_price = function render_checkout_item_price(deviceType, cartItemData, IsEmployee) {\n  // 임직원 계정이고 임직원가 적용되는 상품일 경우\n  if (IsEmployee && cartItemData.isAvailableEmployeeDiscount && cartItemData.totalEmployeeDiscounts.discountRate > 0) {\n    if (cartItemData.totalWishPrice.price <= cartItemData.totalBasePrice.price) {\n      // 판매가와 임직원가 노출\n      if (deviceType == 'mobile') {\n        return '<span class=\"discount\">' + cartItemData.totalBasePrice.formattedPrice + cartItemData.totalBasePrice.symbol + '</span>\\n<span class=\"price-family\">\\uC9C1\\uC6D0\\uD560\\uC778\\uAC00' + (cartItemData.totalBasePrice.price - cartItemData.totalEmployeeDiscounts.price) + ' ' + cartItemData.totalBasePrice.symbol + '</span>';\n      }\n      return '' + cartItemData.totalBasePrice.formattedPrice + cartItemData.totalBasePrice.symbol + '\\n<span class=\"family\">\\uC9C1\\uC6D0\\uD560\\uC778\\uAC00' + (cartItemData.totalBasePrice.price - cartItemData.totalEmployeeDiscounts.price) + ' ' + cartItemData.totalBasePrice.symbol + '</span>';\n    }\n    // 정상가 줄긋기, 판매가, 임직원가 노출\n    if (deviceType == 'mobile') {\n      return '<span class=\\'discount\\'>' + (cartItemData.totalWishPrice.formattedPrice + cartItemData.totalWishPrice.symbol) + '</span>\\n<span class=\\'price\\'>' + (cartItemData.totalBasePrice.formattedPrice + cartItemData.totalBasePrice.symbol) + '</span>\\n<span class=\\'price-family\\'>\\uC9C1\\uC6D0\\uD560\\uC778\\uAC00' + (cartItemData.totalBasePrice.price - cartItemData.totalEmployeeDiscounts.price) + ' ' + cartItemData.totalBasePrice.symbol + '</span>';\n    }\n    return cartItemData.totalWishPrice.formattedPrice + cartItemData.totalWishPrice.symbol + '</del>\\n' + (cartItemData.totalBasePrice.formattedPrice + cartItemData.totalBasePrice.symbol) + '\\n<p class=\\'family\\'>\\uC9C1\\uC6D0\\uD560\\uC778\\uAC00' + (cartItemData.totalBasePrice.price - cartItemData.totalEmployeeDiscounts.price) + ' ' + cartItemData.totalBasePrice.symbol + '</p>';\n  }\n  // 일반회원이거나 비로그인 사용자일 경우\n  if (cartItemData.totalWishPrice.price <= cartItemData.totalBasePrice.price) {\n    // 줄긋기없이 판매가 노출\n    if (deviceType == 'mobile') {\n      return '<span class=\"price\">' + cartItemData.totalBasePrice.formattedPrice + ' ' + cartItemData.totalBasePrice.symbol + '</span>';\n    }\n    return cartItemData.totalBasePrice.formattedPrice + ' ' + cartItemData.totalBasePrice.symbol;\n  }\n  // 정상가 줄긋기, 판매가 노출\n  if (deviceType == 'mobile') {\n    return '<span class=\"discount\">' + cartItemData.totalWishPrice.formattedPrice + ' ' + cartItemData.totalWishPrice.symbol + '</span>\\n<span class=\"price\">' + cartItemData.totalBasePrice.formattedPrice + ' ' + cartItemData.totalBasePrice.symbol + '</span>';\n  }\n  return '<del>' + cartItemData.totalWishPrice.formattedPrice + ' ' + cartItemData.totalWishPrice.symbol + '</del>\\n' + cartItemData.totalBasePrice.formattedPrice + ' ' + cartItemData.totalBasePrice.symbol;\n};\n\nvar to_formatted_date = function to_formatted_date(date, pattern) {\n  return (0, _moment2.default)(date).format(pattern);\n};\n\nvar to_formatted_phonenumber = function to_formatted_phonenumber(num) {\n  if (num === null) {\n    return \"\";\n  }\n\n  var formatNum = '';\n\n  if (num.length === 8) {\n    formatNum = num.replace(/(\\d{4})(\\d{4})/, '$1-$2');\n  } else if (num.length === 9) {\n    formatNum = num.replace(/(\\d{2})(\\d{3})(\\d{4})/, '$1-$2-$3');\n  } else if (num.length === 10) {\n    formatNum = num.replace(/(\\d{3})(\\d{3})(\\d{4})/, '$1-$2-$3');\n  } else {\n    formatNum = num.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-$2-$3');\n  }\n\n  return formatNum;\n};\n\nvar escape_html = function escape_html(str) {\n  if (!str) {\n    return '';\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;',\n    '#': '&#35;'\n  };\n\n  return String(str).replace(/[&<>\"'`=/]/g, function (s) {\n    return entityMap[s];\n  });\n};\n\nvar escape_quote_html = function escape_quote_html(str) {\n  if (!str) {\n    return '';\n  }\n\n  var entityMap = {\n    '\"': '&quot;'\n  };\n\n  return String(str).replace(/[\"]/g, function (s) {\n    return entityMap[s];\n  });\n};\n\nvar escape_single_quote = function escape_single_quote(str) {\n  if (!str) {\n    return '';\n  }\n\n  var entityMap = {\n    \"'\": \"\\\\'\"\n  };\n\n  return String(str).replace(/[']/g, function (s) {\n    return entityMap[s];\n  });\n};\n\nvar md5 = function md5(str) {\n  if (!str) {\n    return '';\n  }\n\n  return (0, _md2.default)(str);\n};\n\nvar helper = {\n  render_hide_loader: render_hide_loader,\n  render_loader: render_loader,\n  render_paging_no_link: render_paging_no_link,\n  render_paging: render_paging,\n  render_desktop_event_paging: render_desktop_event_paging,\n  render_mobile_event_paging: render_mobile_event_paging,\n  to_date_string: to_date_string,\n  to_time_string: to_time_string,\n  to_datetime_string: to_datetime_string,\n  rma_title_by_status: rma_title_by_status,\n  nl2br: nl2br,\n  render_background_color: render_background_color,\n  list_to_string_with_comma_space: list_to_string_with_comma_space,\n  list_to_string_with_comma: list_to_string_with_comma,\n  hide_item_gte: hide_item_gte,\n  line_cnt: line_cnt,\n  render_checkout_item_price: render_checkout_item_price,\n  to_formatted_date: to_formatted_date,\n  to_formatted_phonenumber: to_formatted_phonenumber,\n  staticCache: staticCache,\n  staticCacheTTL: staticCacheTTL,\n  cache: cache,\n  cacheTTL: cacheTTL,\n  escape_html: escape_html,\n  escape_quote_html: escape_quote_html,\n  escape_single_quote: escape_single_quote,\n  md5: md5\n};\n\nexports.default = helper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9oYW5kbGViYXJzL2N1c3RvbS1oZWxwZXIuanM/ZjZjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgY2FtZWxjYXNlOiBcIm9mZlwiICovXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbmwyYnJNb2R1bGUgZnJvbSAnbmwyYnInO1xuaW1wb3J0IG1kNU1vZHVsZSBmcm9tICdtZDUnO1xuXG5jb25zdCByZW5kZXJfaGlkZV9sb2FkZXIgPSBodG1sSWQgPT4gKFxuICAnPGRpdiBpZD1cIicgKyBodG1sSWQgKyAnXCIgY2xhc3M9XCJwcm9ncmVzcy1jaXJjbGUtaW5kZXRlcm1pbmF0ZSBtLXQtNDUgcC1iLTQ1XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjwvZGl2Pidcbik7XG5cbmNvbnN0IHJlbmRlcl9sb2FkZXIgPSBodG1sSWQgPT4gKFxuICAnPGRpdiBpZD1cIicgKyBodG1sSWQgKyAnXCIgY2xhc3M9XCJwcm9ncmVzcy1jaXJjbGUtaW5kZXRlcm1pbmF0ZSBtLXQtNDUgcC1iLTQ1XCI+PC9kaXY+J1xuKTtcblxuY29uc3QgcGFnZVVybCA9ICh1cmwsIHBhZ2UpID0+IHtcbiAgaWYgKHVybC5pbmRleE9mKCc/JykgPiAtMSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHVybC5zdWJzdHJpbmcodXJsLmluZGV4T2YoJz8nKSArIDEpLnNwbGl0KCcmJyk7XG4gICAgbGV0IHNlYXJjaCA9ICc/JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHBhcmFtc1tpXS5pbmRleE9mKCdwYWdlTnVtYmVyJykgPT0gLTEpIHtcbiAgICAgICAgc2VhcmNoICs9IHBhcmFtc1tpXSArICcmJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGAke3VybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoJz8nKSl9JHtzZWFyY2h9cGFnZU51bWJlcj0ke3BhZ2V9YDtcbiAgfVxuXG4gIHJldHVybiBgJHt1cmx9P3BhZ2VOdW1iZXI9JHtwYWdlfWA7XG59O1xuXG5jb25zdCByZW5kZXJfcGFnaW5nX25vX2xpbmsgPSAocGFnZUluZm8pID0+IHtcbiAgY29uc3QgcGFnZVNwYW4gPSAxMDtcbiAgY29uc3QgaGFsZlBhZ2VTcGFuID0gcGFyc2VJbnQocGFnZVNwYW4gLyAyLCAxMCk7XG5cbiAgY29uc3QgdG90YWxQYWdlID0gcGFyc2VJbnQoKHBhZ2VJbmZvLnRvdGFsQ291bnQgLSAxKSAvIHBhZ2VJbmZvLnBlclBhZ2UsIDEwKSArIDE7XG4gIGxldCBzdGFydFBhZ2UgPSBwYWdlSW5mby5jdXJyZW50UGFnZSA8PSBwYWdlU3BhbiA/IDEgOiBwYWdlSW5mby5jdXJyZW50UGFnZSAtIHBhZ2VTcGFuICsgMTtcbiAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gaGFsZlBhZ2VTcGFuICYmIHRvdGFsUGFnZSA+IHBhZ2VTcGFuKSB7XG4gICAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gdG90YWxQYWdlIC0gaGFsZlBhZ2VTcGFuKSB7XG4gICAgICBzdGFydFBhZ2UgPSB0b3RhbFBhZ2UgLSBwYWdlU3BhbiArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UGFnZSA9IHBhZ2VJbmZvLmN1cnJlbnRQYWdlIC0gaGFsZlBhZ2VTcGFuICsgMTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZW5kUGFnZSA9IChzdGFydFBhZ2UgKyBwYWdlU3BhbikgPiB0b3RhbFBhZ2UgPyB0b3RhbFBhZ2UgOiAoc3RhcnRQYWdlICsgcGFnZVNwYW4gLSAxKTtcblxuICBsZXQgaHRtbCA9ICcnO1xuXG4gIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwYWdpbmdcIj4nO1xuICBpZiAocGFnZUluZm8uY3VycmVudFBhZ2UgPT0gMSkge1xuICAgIGh0bWwgKz0gJyAgPGEgY2xhc3M9XCJwcmV2XCI+7J207KCEIO2OmOydtOyngDwvYT4nO1xuICB9IGVsc2Uge1xuICAgIGh0bWwgKz0gYCAgPGEgZGF0YS1wYWdlPVwiJHsocGFnZUluZm8uY3VycmVudFBhZ2UgLSAxKX1cIiBjbGFzcz1cInByZXZcIj7snbTsoIQg7Y6Y7J207KeAPC9hPmA7XG4gIH1cblxuICBmb3IgKGxldCBpID0gc3RhcnRQYWdlOyBpIDw9IGVuZFBhZ2U7IGkrKykge1xuICAgIGlmIChwYWdlSW5mby5jdXJyZW50UGFnZSA9PSBpKSB7XG4gICAgICBodG1sICs9IGAgIDxzdHJvbmcgY2xhc3M9XCJvblwiPiR7aX08L3N0cm9uZz5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBodG1sICs9IGAgIDxhIGRhdGEtcGFnZT1cIiR7aX1cIj4ke2l9PC9hPmA7XG4gICAgfVxuICB9XG4gIGlmIChwYWdlSW5mby5jdXJyZW50UGFnZSA9PSB0b3RhbFBhZ2UpIHtcbiAgICBodG1sICs9ICcgIDxhIGNsYXNzPVwibmV4dFwiPuuLpOydjCDtjpjsnbTsp4A8L2E+JztcbiAgfSBlbHNlIHtcbiAgICBodG1sICs9IGAgIDxhIGRhdGEtcGFnZT1cIiR7KHBhZ2VJbmZvLmN1cnJlbnRQYWdlICsgMSl9XCIgY2xhc3M9XCJuZXh0XCI+64uk7J2MIO2OmOydtOyngDwvYT5gO1xuICB9XG4gIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5jb25zdCByZW5kZXJfcGFnaW5nID0gKHBhZ2VJbmZvLCB1cmwpID0+IHtcbiAgY29uc3QgcGFnZVNwYW4gPSAxMDtcbiAgY29uc3QgaGFsZlBhZ2VTcGFuID0gcGFyc2VJbnQocGFnZVNwYW4gLyAyLCAxMCk7XG5cbiAgY29uc3QgdG90YWxQYWdlID0gcGFyc2VJbnQoKHBhZ2VJbmZvLnRvdGFsQ291bnQgLSAxKSAvIHBhZ2VJbmZvLnBlclBhZ2UsIDEwKSArIDE7XG4gIGxldCBzdGFydFBhZ2UgPSBwYWdlSW5mby5jdXJyZW50UGFnZSA8PSBwYWdlU3BhbiA/IDEgOiBwYWdlSW5mby5jdXJyZW50UGFnZSAtIHBhZ2VTcGFuICsgMTtcbiAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gaGFsZlBhZ2VTcGFuICYmIHRvdGFsUGFnZSA+IHBhZ2VTcGFuKSB7XG4gICAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gdG90YWxQYWdlIC0gaGFsZlBhZ2VTcGFuKSB7XG4gICAgICBzdGFydFBhZ2UgPSB0b3RhbFBhZ2UgLSBwYWdlU3BhbiArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UGFnZSA9IHBhZ2VJbmZvLmN1cnJlbnRQYWdlIC0gaGFsZlBhZ2VTcGFuICsgMTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZW5kUGFnZSA9IChzdGFydFBhZ2UgKyBwYWdlU3BhbikgPiB0b3RhbFBhZ2UgPyB0b3RhbFBhZ2UgOiAoc3RhcnRQYWdlICsgcGFnZVNwYW4gLSAxKTtcblxuICBsZXQgaHRtbCA9ICcnO1xuXG4gIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwYWdpbmdcIj4nO1xuICBpZiAocGFnZUluZm8uY3VycmVudFBhZ2UgPT0gMSkge1xuICAgIGh0bWwgKz0gJyAgPGEgY2xhc3M9XCJwcmV2XCI+7J207KCEIO2OmOydtOyngDwvYT4nO1xuICB9IGVsc2Uge1xuICAgIGh0bWwgKz0gYCAgPGEgaHJlZj1cIiR7cGFnZVVybCh1cmwsIHBhZ2VJbmZvLmN1cnJlbnRQYWdlIC0gMSl9XCIgY2xhc3M9XCJwcmV2XCI+7J207KCEIO2OmOydtOyngDwvYT5gO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0UGFnZTsgaSA8PSBlbmRQYWdlOyBpKyspIHtcbiAgICBpZiAocGFnZUluZm8uY3VycmVudFBhZ2UgPT0gaSkge1xuICAgICAgaHRtbCArPSBgICA8c3Ryb25nIGNsYXNzPVwib25cIj4ke2l9PC9zdHJvbmc+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgaHRtbCArPSBgICA8YSBocmVmPVwiJHtwYWdlVXJsKHVybCwgaSl9XCI+JHtpfTwvYT5gO1xuICAgIH1cbiAgfVxuICBpZiAocGFnZUluZm8uY3VycmVudFBhZ2UgPT0gdG90YWxQYWdlKSB7XG4gICAgaHRtbCArPSAnICA8YSBjbGFzcz1cIm5leHRcIj7ri6TsnYwg7Y6Y7J207KeAPC9hPic7XG4gIH0gZWxzZSB7XG4gICAgaHRtbCArPSBgICA8YSBocmVmPVwiJHtwYWdlVXJsKHVybCwgcGFnZUluZm8uY3VycmVudFBhZ2UgKyAxKX1cIiBjbGFzcz1cIm5leHRcIj7ri6TsnYwg7Y6Y7J207KeAPC9hPmA7XG4gIH1cbiAgaHRtbCArPSAnPC9kaXY+JztcblxuICByZXR1cm4gaHRtbDtcbn07XG5cbmNvbnN0IHJlbmRlcl9kZXNrdG9wX2V2ZW50X3BhZ2luZyA9IChwYWdlSW5mbywgY2FsbGJhY2spID0+IHtcbiAgY29uc3QgcGFnZVNwYW4gPSAxMDtcbiAgY29uc3QgaGFsZlBhZ2VTcGFuID0gcGFyc2VJbnQocGFnZVNwYW4gLyAyLCAxMCk7XG5cbiAgY29uc3QgdG90YWxQYWdlID0gcGFyc2VJbnQoKHBhZ2VJbmZvLnRvdGFsQ291bnQgLSAxKSAvIHBhZ2VJbmZvLnBlclBhZ2UsIDEwKSArIDE7XG4gIGxldCBzdGFydFBhZ2UgPSBwYWdlSW5mby5jdXJyZW50UGFnZSA8PSBwYWdlU3BhbiA/IDEgOiBwYWdlSW5mby5jdXJyZW50UGFnZSAtIHBhZ2VTcGFuICsgMTtcbiAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gaGFsZlBhZ2VTcGFuICYmIHRvdGFsUGFnZSA+IHBhZ2VTcGFuKSB7XG4gICAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gdG90YWxQYWdlIC0gaGFsZlBhZ2VTcGFuKSB7XG4gICAgICBzdGFydFBhZ2UgPSB0b3RhbFBhZ2UgLSBwYWdlU3BhbiArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UGFnZSA9IHBhZ2VJbmZvLmN1cnJlbnRQYWdlIC0gaGFsZlBhZ2VTcGFuICsgMTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZW5kUGFnZSA9IChzdGFydFBhZ2UgKyBwYWdlU3BhbikgPiB0b3RhbFBhZ2UgPyB0b3RhbFBhZ2UgOiAoc3RhcnRQYWdlICsgcGFnZVNwYW4gLSAxKTtcblxuICBsZXQgaHRtbCA9ICcnO1xuXG4gIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwYWdpbmdcIj4nO1xuICBpZiAocGFnZUluZm8uY3VycmVudFBhZ2UgPT0gMSkge1xuICAgIGh0bWwgKz0gJyAgPGEgY2xhc3M9XCJwcmV2XCI+PGltZyBzcmM9XCJodHRwczovL2tvcGltYWdlcy5rb2xvbi5jb20vY21zL2V2ZW50L3VwbG9hZC9jNDliYTY5YS1kOWYzLTQ3ZGMtYjZjYS1lMjliZWZjY2E4ZTAvcGFnZXJfcHJldi5wbmdcIiBhbHQ9XCLsnbTsoIRcIj48L2E+JztcbiAgfSBlbHNlIHtcbiAgICBodG1sICs9IGAgIDxhIG9uQ2xpY2s9XCIke2NhbGxiYWNrfSgke3BhZ2VJbmZvLmN1cnJlbnRQYWdlIC0gMX0pXCIgY2xhc3M9XCJwcmV2XCI+PGltZyBzcmM9XCJodHRwczovL2tvcGltYWdlcy5rb2xvbi5jb20vY21zL2V2ZW50L3VwbG9hZC9jNDliYTY5YS1kOWYzLTQ3ZGMtYjZjYS1lMjliZWZjY2E4ZTAvcGFnZXJfcHJldi5wbmdcIiBhbHQ9XCLsnbTsoIRcIj48L2E+YDtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSBzdGFydFBhZ2U7IGkgPD0gZW5kUGFnZTsgaSsrKSB7XG4gICAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID09IGkpIHtcbiAgICAgIGh0bWwgKz0gYCAgPGE+PHN0cm9uZyBjbGFzcz1cIm9uXCI+JHtpfTwvc3Ryb25nPjwvYT5gO1xuICAgIH0gZWxzZSB7XG4gICAgICBodG1sICs9IGAgIDxhIG9uQ2xpY2s9XCIke2NhbGxiYWNrfSgke2l9KVwiPiR7aX08L2E+YDtcbiAgICB9XG4gIH1cbiAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID09IHRvdGFsUGFnZSkge1xuICAgIGh0bWwgKz0gJyAgPGEgY2xhc3M9XCJuZXh0XCI+PGltZyBzcmM9XCJodHRwczovL2tvcGltYWdlcy5rb2xvbi5jb20vY21zL2V2ZW50L3VwbG9hZC9jNDliYTY5YS1kOWYzLTQ3ZGMtYjZjYS1lMjliZWZjY2E4ZTAvcGFnZXJfbmV4dC5wbmdcIiBhbHQ9XCLri6TsnYxcIj48L2E+JztcbiAgfSBlbHNlIHtcbiAgICBodG1sICs9IGAgIDxhIG9uQ2xpY2s9XCIke2NhbGxiYWNrfSgke3BhZ2VJbmZvLmN1cnJlbnRQYWdlICsgMX0pXCIgY2xhc3M9XCJuZXh0XCI+PGltZyBzcmM9XCJodHRwczovL2tvcGltYWdlcy5rb2xvbi5jb20vY21zL2V2ZW50L3VwbG9hZC9jNDliYTY5YS1kOWYzLTQ3ZGMtYjZjYS1lMjliZWZjY2E4ZTAvcGFnZXJfbmV4dC5wbmdcIiBhbHQ9XCLri6TsnYxcIj48L2E+YDtcbiAgfVxuICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gIHJldHVybiBodG1sO1xufTtcblxuY29uc3QgcmVuZGVyX21vYmlsZV9ldmVudF9wYWdpbmcgPSAocGFnZUluZm8sIGNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IHBhZ2VTcGFuID0gNTtcbiAgY29uc3QgaGFsZlBhZ2VTcGFuID0gcGFyc2VJbnQocGFnZVNwYW4gLyAyLCAxMCk7XG5cbiAgY29uc3QgdG90YWxQYWdlID0gcGFyc2VJbnQoKHBhZ2VJbmZvLnRvdGFsQ291bnQgLSAxKSAvIHBhZ2VJbmZvLnBlclBhZ2UsIDEwKSArIDE7XG4gIGxldCBzdGFydFBhZ2UgPSBwYWdlSW5mby5jdXJyZW50UGFnZSA8PSBwYWdlU3BhbiA/IDEgOiBwYWdlSW5mby5jdXJyZW50UGFnZSAtIHBhZ2VTcGFuICsgMTtcbiAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gaGFsZlBhZ2VTcGFuICYmIHRvdGFsUGFnZSA+IHBhZ2VTcGFuKSB7XG4gICAgaWYgKHBhZ2VJbmZvLmN1cnJlbnRQYWdlID4gdG90YWxQYWdlIC0gaGFsZlBhZ2VTcGFuKSB7XG4gICAgICBzdGFydFBhZ2UgPSB0b3RhbFBhZ2UgLSBwYWdlU3BhbiArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UGFnZSA9IHBhZ2VJbmZvLmN1cnJlbnRQYWdlIC0gaGFsZlBhZ2VTcGFuICsgMTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZW5kUGFnZSA9IChzdGFydFBhZ2UgKyBwYWdlU3BhbikgPiB0b3RhbFBhZ2UgPyB0b3RhbFBhZ2UgOiAoc3RhcnRQYWdlICsgcGFnZVNwYW4gLSAxKTtcblxuICBsZXQgaHRtbCA9ICcnO1xuXG4gIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwYWdpbmdcIj4nO1xuICBpZiAocGFnZUluZm8uY3VycmVudFBhZ2UgPT0gMSkge1xuICAgIGh0bWwgKz0gJyAgPGEgY2xhc3M9XCJwcmV2XCI+PGltZyBzcmM9XCJodHRwczovL2tvcGltYWdlcy5rb2xvbi5jb20vY21zL2V2ZW50L3VwbG9hZC9jNDliYTY5YS1kOWYzLTQ3ZGMtYjZjYS1lMjliZWZjY2E4ZTAvbV9wYWdlcl9wcmV2LnBuZ1wiIGFsdD1cIuydtOyghFwiPjwvYT4nO1xuICB9IGVsc2Uge1xuICAgIGh0bWwgKz0gYCAgPGEgb25DbGljaz1cIiR7Y2FsbGJhY2t9KCR7cGFnZUluZm8uY3VycmVudFBhZ2UgLSAxfSlcIiBjbGFzcz1cInByZXZcIj48aW1nIHNyYz1cImh0dHBzOi8va29waW1hZ2VzLmtvbG9uLmNvbS9jbXMvZXZlbnQvdXBsb2FkL2M0OWJhNjlhLWQ5ZjMtNDdkYy1iNmNhLWUyOWJlZmNjYThlMC9tX3BhZ2VyX3ByZXYucG5nXCIgYWx0PVwi7J207KCEXCI+PC9hPmA7XG4gIH1cblxuICBmb3IgKGxldCBpID0gc3RhcnRQYWdlOyBpIDw9IGVuZFBhZ2U7IGkrKykge1xuICAgIGlmIChwYWdlSW5mby5jdXJyZW50UGFnZSA9PSBpKSB7XG4gICAgICBodG1sICs9IGAgIDxhPjxzdHJvbmcgY2xhc3M9XCJvblwiPiR7aX08L3N0cm9uZz48L2E+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgaHRtbCArPSBgICA8YSBvbkNsaWNrPVwiJHtjYWxsYmFja30oJHtpfSlcIj4ke2l9PC9hPmA7XG4gICAgfVxuICB9XG4gIGlmIChwYWdlSW5mby5jdXJyZW50UGFnZSA9PSB0b3RhbFBhZ2UpIHtcbiAgICBodG1sICs9ICcgIDxhIGNsYXNzPVwibmV4dFwiPjxpbWcgc3JjPVwiaHR0cHM6Ly9rb3BpbWFnZXMua29sb24uY29tL2Ntcy9ldmVudC91cGxvYWQvYzQ5YmE2OWEtZDlmMy00N2RjLWI2Y2EtZTI5YmVmY2NhOGUwL21fcGFnZXJfbmV4dC5wbmdcIiBhbHQ9XCLri6TsnYxcIj48L2E+JztcbiAgfSBlbHNlIHtcbiAgICBodG1sICs9IGAgIDxhIG9uQ2xpY2s9XCIke2NhbGxiYWNrfSgke3BhZ2VJbmZvLmN1cnJlbnRQYWdlICsgMX0pXCIgY2xhc3M9XCJuZXh0XCI+PGltZyBzcmM9XCJodHRwczovL2tvcGltYWdlcy5rb2xvbi5jb20vY21zL2V2ZW50L3VwbG9hZC9jNDliYTY5YS1kOWYzLTQ3ZGMtYjZjYS1lMjliZWZjY2E4ZTAvbV9wYWdlcl9uZXh0LnBuZ1wiIGFsdD1cIuuLpOydjFwiPjwvYT5gO1xuICB9XG4gIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5jb25zdCB0b19kYXRlX3N0cmluZyA9IGRhdGUgPT4gbW9tZW50KGRhdGUpLmZvcm1hdCgnWVlZWS5NTS5ERCcpO1xuXG5jb25zdCB0b190aW1lX3N0cmluZyA9IGRhdGUgPT4gbW9tZW50KGRhdGUpLmZvcm1hdCgnaGg6bW0nKTtcblxuY29uc3QgdG9fZGF0ZXRpbWVfc3RyaW5nID0gZGF0ZSA9PiBtb21lbnQoZGF0ZSkuZm9ybWF0KCdZWVlZLk1NLkREIGhoOm1tJyk7XG5cbmNvbnN0IHJtYV90aXRsZV9ieV9zdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gIGlmIChzdGF0dXMgPT0gJ0NBTkNFTF9SRUNFSVBUJyB8fCBzdGF0dXMgPT0gJ0NBTkNFTF9QUk9HUkVTUycgfHwgc3RhdHVzID09ICdDQU5DRUxfQ09NUExFVEVEJykge1xuICAgIHJldHVybiAnQ2FuY2VsJztcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT0gJ0VYQ0hBTkdFX1JFQ0VJUFQnIHx8IHN0YXR1cyA9PSAnRVhDSEFOR0VfUFJPR1JFU1MnIHx8IHN0YXR1cyA9PSAnRVhDSEFOR0VfQ09NUExFVEVEJykge1xuICAgIHJldHVybiAnRXhjaGFuZ2UnO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PSAnUkVUVVJOX1JFQ0VJUFQnIHx8IHN0YXR1cyA9PSAnUkVUVVJOX1BST0dSRVNTJyB8fCBzdGF0dXMgPT0gJ1JFVFVSTl9DT01QTEVURUQnKSB7XG4gICAgcmV0dXJuICdSZXR1cm4nO1xuICB9XG5cbiAgcmV0dXJuICdDYW5jZWwnO1xufTtcblxuY29uc3QgbmwyYnIgPSBzdHIgPT4gbmwyYnJNb2R1bGUoc3RyKTtcblxuY29uc3QgcmVuZGVyX2JhY2tncm91bmRfY29sb3IgPSBzdHIgPT4gKGAjJHtzdHJ9YCk7XG5cbmNvbnN0IGxpc3RfdG9fc3RyaW5nX3dpdGhfY29tbWFfc3BhY2UgPSAoZmlsdGVycykgPT4ge1xuICBsZXQgc2VsZWN0ZWRGaWx0ZXJzID0gZmlsdGVycy5maWx0ZXIoZnVuY3Rpb24gKGZpbHRlcikge1xuICAgIHJldHVybiBmaWx0ZXIuc2VsZWN0ZWRcbiAgfSk7XG5cbiAgc2VsZWN0ZWRGaWx0ZXJzID0gc2VsZWN0ZWRGaWx0ZXJzLm1hcChmdW5jdGlvbihmaWx0ZXIpe1xuICAgIHJldHVybiBmaWx0ZXIubmFtZVxuICB9KTtcbiAgcmV0dXJuIHNlbGVjdGVkRmlsdGVycy5qb2luKCcsICcpO1xufTtcblxuY29uc3QgbGlzdF90b19zdHJpbmdfd2l0aF9jb21tYSA9IChzdHIpID0+IHtcbiAgaWYgKHN0ciAhPT0gdW5kZWZpbmVkICYmIHN0ciAhPSBudWxsICYmIHN0ci5sZW5ndGggPiAwKSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheShzdHIpKSB7XG4gICAgICByZXR1cm4gc3RyLmpvaW4oJywnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG5jb25zdCBoaWRlX2l0ZW1fZ3RlID0gKGlkeCwgY291bnQpID0+IHtcbiAgaWYgKGlkeCA+PSBjb3VudCkge1xuICAgIHJldHVybiAnZGlzcGxheTogbm9uZTsnO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcblxuLy8gdGhpc+ulvCDsgqzsmqntlZjquLDsnITtlbQgZnVuY3Rpb27snYQg7IKs7Jqp7ZWoXG5mdW5jdGlvbiBsaW5lX2NudChzdHIsIGNvdW50LCBvcHRpb25zKSB7XG4gIGlmIChzdHIgIT0gbnVsbCAmJiBzdHIubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGNudCA9IChzdHIubWF0Y2goL1xcbi9nKSB8fCBbXSkubGVuZ3RoO1xuICAgIGlmIChjbnQgPT0gY291bnQgLSAxKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xufVxuXG5jb25zdCBzdGF0aWNDYWNoZSA9IChpZCwgcGFyYW1ldGVyLCBvcHRpb25zKSA9PiBvcHRpb25zLmZuKHRoaXMpO1xuXG5jb25zdCBzdGF0aWNDYWNoZVRUTCA9IChpZCwgcGFyYW1ldGVyLCB0dGwsIG9wdGlvbnMpID0+IG9wdGlvbnMuZm4odGhpcyk7XG5cbmNvbnN0IGNhY2hlID0gKGN1cnJlbnRQYXJhbWV0ZXIsIGlkLCBwYXJhbWV0ZXIsIG9wdGlvbnMpID0+IG9wdGlvbnMuZm4odGhpcyk7XG5cbmNvbnN0IGNhY2hlVFRMID0gKGN1cnJlbnRQYXJhbWV0ZXIsIGlkLCBwYXJhbWV0ZXIsIHR0bCwgb3B0aW9ucykgPT4gb3B0aW9ucy5mbih0aGlzKTtcblxuY29uc3QgcmVuZGVyX2NoZWNrb3V0X2l0ZW1fcHJpY2UgPSAoZGV2aWNlVHlwZSwgY2FydEl0ZW1EYXRhLCBJc0VtcGxveWVlKSA9PiB7XG4gIC8vIOyehOyngeybkCDqs4TsoJXsnbTqs6Ag7J6E7KeB7JuQ6rCAIOyggeyaqeuQmOuKlCDsg4Htkojsnbwg6rK97JqwXG4gIGlmIChJc0VtcGxveWVlICYmIGNhcnRJdGVtRGF0YS5pc0F2YWlsYWJsZUVtcGxveWVlRGlzY291bnQgJiYgY2FydEl0ZW1EYXRhLnRvdGFsRW1wbG95ZWVEaXNjb3VudHMuZGlzY291bnRSYXRlID4gMCkge1xuICAgIGlmIChjYXJ0SXRlbURhdGEudG90YWxXaXNoUHJpY2UucHJpY2UgPD0gY2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnByaWNlKSB7XG4gICAgICAvLyDtjJDrp6TqsIDsmYAg7J6E7KeB7JuQ6rCAIOuFuOy2nFxuICAgICAgaWYgKGRldmljZVR5cGUgPT0gJ21vYmlsZScpIHtcbiAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cImRpc2NvdW50XCI+JHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2UuZm9ybWF0dGVkUHJpY2V9JHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2Uuc3ltYm9sfTwvc3Bhbj5cbjxzcGFuIGNsYXNzPVwicHJpY2UtZmFtaWx5XCI+7KeB7JuQ7ZWg7J246rCAJHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2UucHJpY2UgLSBjYXJ0SXRlbURhdGEudG90YWxFbXBsb3llZURpc2NvdW50cy5wcmljZX0gJHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2Uuc3ltYm9sfTwvc3Bhbj5gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5mb3JtYXR0ZWRQcmljZX0ke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5zeW1ib2x9XG48c3BhbiBjbGFzcz1cImZhbWlseVwiPuyngeybkO2VoOyduOqwgCR7Y2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnByaWNlIC0gY2FydEl0ZW1EYXRhLnRvdGFsRW1wbG95ZWVEaXNjb3VudHMucHJpY2V9ICR7Y2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnN5bWJvbH08L3NwYW4+YDtcbiAgICB9XG4gICAgLy8g7KCV7IOB6rCAIOykhOq4i+q4sCwg7YyQ66ek6rCALCDsnoTsp4Hsm5DqsIAg64W47LacXG4gICAgaWYgKGRldmljZVR5cGUgPT0gJ21vYmlsZScpIHtcbiAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9J2Rpc2NvdW50Jz4ke2NhcnRJdGVtRGF0YS50b3RhbFdpc2hQcmljZS5mb3JtYXR0ZWRQcmljZSArIGNhcnRJdGVtRGF0YS50b3RhbFdpc2hQcmljZS5zeW1ib2x9PC9zcGFuPlxuPHNwYW4gY2xhc3M9J3ByaWNlJz4ke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5mb3JtYXR0ZWRQcmljZSArIGNhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5zeW1ib2x9PC9zcGFuPlxuPHNwYW4gY2xhc3M9J3ByaWNlLWZhbWlseSc+7KeB7JuQ7ZWg7J246rCAJHsoY2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnByaWNlIC0gY2FydEl0ZW1EYXRhLnRvdGFsRW1wbG95ZWVEaXNjb3VudHMucHJpY2UpfSAke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5zeW1ib2x9PC9zcGFuPmA7XG4gICAgfVxuICAgIHJldHVybiBgJHtjYXJ0SXRlbURhdGEudG90YWxXaXNoUHJpY2UuZm9ybWF0dGVkUHJpY2UgKyBjYXJ0SXRlbURhdGEudG90YWxXaXNoUHJpY2Uuc3ltYm9sfTwvZGVsPlxuJHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2UuZm9ybWF0dGVkUHJpY2UgKyBjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2Uuc3ltYm9sfVxuPHAgY2xhc3M9J2ZhbWlseSc+7KeB7JuQ7ZWg7J246rCAJHsoY2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnByaWNlIC0gY2FydEl0ZW1EYXRhLnRvdGFsRW1wbG95ZWVEaXNjb3VudHMucHJpY2UpfSAke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5zeW1ib2x9PC9wPmA7XG4gIH1cbiAgLy8g7J2867CY7ZqM7JuQ7J206rGw64KYIOu5hOuhnOq3uOyduCDsgqzsmqnsnpDsnbwg6rK97JqwXG4gIGlmIChjYXJ0SXRlbURhdGEudG90YWxXaXNoUHJpY2UucHJpY2UgPD0gY2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnByaWNlKSB7XG4gICAgLy8g7KSE6riL6riw7JeG7J20IO2MkOunpOqwgCDrhbjstpxcbiAgICBpZiAoZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cInByaWNlXCI+JHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2UuZm9ybWF0dGVkUHJpY2V9ICR7Y2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLnN5bWJvbH08L3NwYW4+YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5mb3JtYXR0ZWRQcmljZX0gJHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2Uuc3ltYm9sfWA7XG4gIH1cbiAgLy8g7KCV7IOB6rCAIOykhOq4i+q4sCwg7YyQ66ek6rCAIOuFuOy2nFxuICBpZiAoZGV2aWNlVHlwZSA9PSAnbW9iaWxlJykge1xuICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJkaXNjb3VudFwiPiR7Y2FydEl0ZW1EYXRhLnRvdGFsV2lzaFByaWNlLmZvcm1hdHRlZFByaWNlfSAke2NhcnRJdGVtRGF0YS50b3RhbFdpc2hQcmljZS5zeW1ib2x9PC9zcGFuPlxuPHNwYW4gY2xhc3M9XCJwcmljZVwiPiR7Y2FydEl0ZW1EYXRhLnRvdGFsQmFzZVByaWNlLmZvcm1hdHRlZFByaWNlfSAke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5zeW1ib2x9PC9zcGFuPmA7XG4gIH1cbiAgcmV0dXJuIGA8ZGVsPiR7Y2FydEl0ZW1EYXRhLnRvdGFsV2lzaFByaWNlLmZvcm1hdHRlZFByaWNlfSAke2NhcnRJdGVtRGF0YS50b3RhbFdpc2hQcmljZS5zeW1ib2x9PC9kZWw+XG4ke2NhcnRJdGVtRGF0YS50b3RhbEJhc2VQcmljZS5mb3JtYXR0ZWRQcmljZX0gJHtjYXJ0SXRlbURhdGEudG90YWxCYXNlUHJpY2Uuc3ltYm9sfWA7XG59O1xuXG5jb25zdCB0b19mb3JtYXR0ZWRfZGF0ZSA9IChkYXRlLCBwYXR0ZXJuKSA9PiBtb21lbnQoZGF0ZSkuZm9ybWF0KHBhdHRlcm4pO1xuXG5jb25zdCB0b19mb3JtYXR0ZWRfcGhvbmVudW1iZXIgPSAobnVtKSA9PiB7XG4gIGlmKG51bSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgbGV0IGZvcm1hdE51bSA9ICcnO1xuXG4gIGlmIChudW0ubGVuZ3RoID09PSA4KSB7XG4gICAgZm9ybWF0TnVtID0gbnVtLnJlcGxhY2UoLyhcXGR7NH0pKFxcZHs0fSkvLCAnJDEtJDInKTtcbiAgfSBlbHNlIGlmIChudW0ubGVuZ3RoID09PSA5KSB7XG4gICAgZm9ybWF0TnVtID0gbnVtLnJlcGxhY2UoLyhcXGR7Mn0pKFxcZHszfSkoXFxkezR9KS8sICckMS0kMi0kMycpO1xuICB9IGVsc2UgaWYgKG51bS5sZW5ndGggPT09IDEwKSB7XG4gICAgZm9ybWF0TnVtID0gbnVtLnJlcGxhY2UoLyhcXGR7M30pKFxcZHszfSkoXFxkezR9KS8sICckMS0kMi0kMycpO1xuICB9IGVsc2Uge1xuICAgIGZvcm1hdE51bSA9IG51bS5yZXBsYWNlKC8oXFxkezN9KShcXGR7NH0pKFxcZHs0fSkvLCAnJDEtJDItJDMnKTtcbiAgfVxuXG4gIHJldHVybiBmb3JtYXROdW07XG59O1xuXG5jb25zdCBlc2NhcGVfaHRtbCA9IChzdHIpID0+IHtcbiAgaWYgKCFzdHIpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBjb25zdCBlbnRpdHlNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnLFxuICAgICcvJzogJyYjeDJGOycsXG4gICAgJ2AnOiAnJiN4NjA7JyxcbiAgICAnPSc6ICcmI3gzRDsnLFxuICAgICcjJzogJyYjMzU7JyxcbiAgfTtcblxuICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvWyY8PlwiJ2A9L10vZywgcyA9PiBlbnRpdHlNYXBbc10pO1xufTtcblxuY29uc3QgZXNjYXBlX3F1b3RlX2h0bWwgPSAoc3RyKSA9PiB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgY29uc3QgZW50aXR5TWFwID0ge1xuICAgICdcIic6ICcmcXVvdDsnLFxuICB9O1xuXG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC9bXCJdL2csIHMgPT4gZW50aXR5TWFwW3NdKTtcbn07XG5cbmNvbnN0IGVzY2FwZV9zaW5nbGVfcXVvdGUgPSAoc3RyKSA9PiB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgY29uc3QgZW50aXR5TWFwID0ge1xuICAgIFwiJ1wiOiBcIlxcXFwnXCIsXG4gIH07XG5cbiAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoL1snXS9nLCBzID0+IGVudGl0eU1hcFtzXSk7XG59O1xuXG5jb25zdCBtZDUgPSAoc3RyKSA9PiB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIG1kNU1vZHVsZShzdHIpO1xufTtcblxuY29uc3QgaGVscGVyID0ge1xuICByZW5kZXJfaGlkZV9sb2FkZXIsXG4gIHJlbmRlcl9sb2FkZXIsXG4gIHJlbmRlcl9wYWdpbmdfbm9fbGluayxcbiAgcmVuZGVyX3BhZ2luZyxcbiAgcmVuZGVyX2Rlc2t0b3BfZXZlbnRfcGFnaW5nLFxuICByZW5kZXJfbW9iaWxlX2V2ZW50X3BhZ2luZyxcbiAgdG9fZGF0ZV9zdHJpbmcsXG4gIHRvX3RpbWVfc3RyaW5nLFxuICB0b19kYXRldGltZV9zdHJpbmcsXG4gIHJtYV90aXRsZV9ieV9zdGF0dXMsXG4gIG5sMmJyLFxuICByZW5kZXJfYmFja2dyb3VuZF9jb2xvcixcbiAgbGlzdF90b19zdHJpbmdfd2l0aF9jb21tYV9zcGFjZSxcbiAgbGlzdF90b19zdHJpbmdfd2l0aF9jb21tYSxcbiAgaGlkZV9pdGVtX2d0ZSxcbiAgbGluZV9jbnQsXG4gIHJlbmRlcl9jaGVja291dF9pdGVtX3ByaWNlLFxuICB0b19mb3JtYXR0ZWRfZGF0ZSxcbiAgdG9fZm9ybWF0dGVkX3Bob25lbnVtYmVyLFxuICBzdGF0aWNDYWNoZSxcbiAgc3RhdGljQ2FjaGVUVEwsXG4gIGNhY2hlLFxuICBjYWNoZVRUTCxcbiAgZXNjYXBlX2h0bWwsXG4gIGVzY2FwZV9xdW90ZV9odG1sLFxuICBlc2NhcGVfc2luZ2xlX3F1b3RlLFxuICBtZDUsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBoZWxwZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2NvbW1vbi9oYW5kbGViYXJzL2N1c3RvbS1oZWxwZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNCQTtBQUNBO0FBNkJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///70\n");

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function(str, isXhtml) {\n    var breakTag = (isXhtml || typeof isXhtml === 'undefined') ? '<br />' : '<br>';\n    return (str + '').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1' + breakTag + '$2');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvbmwyYnIvaW5kZXguanM/NGRlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3RyLCBpc1hodG1sKSB7XG4gICAgdmFyIGJyZWFrVGFnID0gKGlzWGh0bWwgfHwgdHlwZW9mIGlzWGh0bWwgPT09ICd1bmRlZmluZWQnKSA/ICc8YnIgLz4nIDogJzxicj4nO1xuICAgIHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoLyhbXj5cXHJcXG5dPykoXFxyXFxufFxcblxccnxcXHJ8XFxuKS9nLCAnJDEnICsgYnJlYWtUYWcgKyAnJDInKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9ubDJici9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///71\n");

/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

eval("(function(){\r\n  var crypt = __webpack_require__(73),\r\n      utf8 = __webpack_require__(28).utf8,\r\n      isBuffer = __webpack_require__(19),\r\n      bin = __webpack_require__(28).bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvbWQ1L21kNS5qcz82NTA2Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xyXG4gIHZhciBjcnlwdCA9IHJlcXVpcmUoJ2NyeXB0JyksXHJcbiAgICAgIHV0ZjggPSByZXF1aXJlKCdjaGFyZW5jJykudXRmOCxcclxuICAgICAgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKSxcclxuICAgICAgYmluID0gcmVxdWlyZSgnY2hhcmVuYycpLmJpbixcclxuXHJcbiAgLy8gVGhlIGNvcmVcclxuICBtZDUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgLy8gQ29udmVydCB0byBieXRlIGFycmF5XHJcbiAgICBpZiAobWVzc2FnZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpXHJcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICdiaW5hcnknKVxyXG4gICAgICAgIG1lc3NhZ2UgPSBiaW4uc3RyaW5nVG9CeXRlcyhtZXNzYWdlKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIG1lc3NhZ2UgPSB1dGY4LnN0cmluZ1RvQnl0ZXMobWVzc2FnZSk7XHJcbiAgICBlbHNlIGlmIChpc0J1ZmZlcihtZXNzYWdlKSlcclxuICAgICAgbWVzc2FnZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG1lc3NhZ2UsIDApO1xyXG4gICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpXHJcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvU3RyaW5nKCk7XHJcbiAgICAvLyBlbHNlLCBhc3N1bWUgYnl0ZSBhcnJheSBhbHJlYWR5XHJcblxyXG4gICAgdmFyIG0gPSBjcnlwdC5ieXRlc1RvV29yZHMobWVzc2FnZSksXHJcbiAgICAgICAgbCA9IG1lc3NhZ2UubGVuZ3RoICogOCxcclxuICAgICAgICBhID0gIDE3MzI1ODQxOTMsXHJcbiAgICAgICAgYiA9IC0yNzE3MzM4NzksXHJcbiAgICAgICAgYyA9IC0xNzMyNTg0MTk0LFxyXG4gICAgICAgIGQgPSAgMjcxNzMzODc4O1xyXG5cclxuICAgIC8vIFN3YXAgZW5kaWFuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbVtpXSA9ICgobVtpXSA8PCAgOCkgfCAobVtpXSA+Pj4gMjQpKSAmIDB4MDBGRjAwRkYgfFxyXG4gICAgICAgICAgICAgKChtW2ldIDw8IDI0KSB8IChtW2ldID4+PiAgOCkpICYgMHhGRjAwRkYwMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYWRkaW5nXHJcbiAgICBtW2wgPj4+IDVdIHw9IDB4ODAgPDwgKGwgJSAzMik7XHJcbiAgICBtWygoKGwgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gbDtcclxuXHJcbiAgICAvLyBNZXRob2Qgc2hvcnRjdXRzXHJcbiAgICB2YXIgRkYgPSBtZDUuX2ZmLFxyXG4gICAgICAgIEdHID0gbWQ1Ll9nZyxcclxuICAgICAgICBISCA9IG1kNS5faGgsXHJcbiAgICAgICAgSUkgPSBtZDUuX2lpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHtcclxuXHJcbiAgICAgIHZhciBhYSA9IGEsXHJcbiAgICAgICAgICBiYiA9IGIsXHJcbiAgICAgICAgICBjYyA9IGMsXHJcbiAgICAgICAgICBkZCA9IGQ7XHJcblxyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKyAwXSwgIDcsIC02ODA4NzY5MzYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTcsICA2MDYxMDU4MTkpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsgNF0sICA3LCAtMTc2NDE4ODk3KTtcclxuICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIG1baSsgNV0sIDEyLCAgMTIwMDA4MDQyNik7XHJcbiAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBtW2krIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyA3XSwgMjIsIC00NTcwNTk4Myk7XHJcbiAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBtW2krIDhdLCAgNywgIDE3NzAwMzU0MTYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE3LCAtNDIwNjMpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKzExXSwgMjIsIC0xOTkwNDA0MTYyKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsxMl0sICA3LCAgMTgwNDYwMzY4Mik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krMTNdLCAxMiwgLTQwMzQxMTAxKTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krMTVdLCAyMiwgIDEyMzY1MzUzMjkpO1xyXG5cclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgMV0sICA1LCAtMTY1Nzk2NTEwKTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgNl0sICA5LCAtMTA2OTUwMTYzMik7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krMTFdLCAxNCwgIDY0MzcxNzcxMyk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7XHJcbiAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBtW2krIDVdLCAgNSwgLTcwMTU1ODY5MSk7XHJcbiAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBtW2krMTBdLCAgOSwgIDM4MDE2MDgzKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsxNV0sIDE0LCAtNjYwNDc4MzM1KTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgOV0sICA1LCAgNTY4NDQ2NDM4KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsxNF0sICA5LCAtMTAxOTgwMzY5MCk7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDhdLCAyMCwgIDExNjM1MzE1MDEpO1xyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKzEzXSwgIDUsIC0xNDQ0NjgxNDY3KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgMl0sICA5LCAtNTE0MDM3ODQpO1xyXG4gICAgICBjID0gR0coYywgZCwgYSwgYiwgbVtpKyA3XSwgMTQsICAxNzM1MzI4NDczKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7XHJcblxyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA1XSwgIDQsIC0zNzg1NTgpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsxMV0sIDE2LCAgMTgzOTAzMDU2Mik7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krMTRdLCAyMywgLTM1MzA5NTU2KTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsgMV0sICA0LCAtMTUzMDk5MjA2MCk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krIDRdLCAxMSwgIDEyNzI4OTMzNTMpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKzEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsxM10sICA0LCAgNjgxMjc5MTc0KTtcclxuICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIG1baSsgMF0sIDExLCAtMzU4NTM3MjIyKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsgM10sIDE2LCAtNzIyNTIxOTc5KTtcclxuICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIG1baSsgNl0sIDIzLCAgNzYwMjkxODkpO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA5XSwgIDQsIC02NDAzNjQ0ODcpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKzEyXSwgMTEsIC00MjE4MTU4MzUpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKzE1XSwgMTYsICA1MzA3NDI1MjApO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xyXG5cclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsgMF0sICA2LCAtMTk4NjMwODQ0KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsgN10sIDEwLCAgMTEyNjg5MTQxNSk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA1XSwgMjEsIC01NzQzNDA1NSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krMTJdLCAgNiwgIDE3MDA0ODU1NzEpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcclxuICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE1LCAtMTA1MTUyMyk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xyXG4gICAgICBhID0gSUkoYSwgYiwgYywgZCwgbVtpKyA4XSwgIDYsICAxODczMzEzMzU5KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsxNV0sIDEwLCAtMzA2MTE3NDQpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcclxuICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIG1baSsxM10sIDIxLCAgMTMwOTE1MTY0OSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krIDRdLCAgNiwgLTE0NTUyMzA3MCk7XHJcbiAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBtW2krMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTUsICA3MTg3ODcyNTkpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xyXG5cclxuICAgICAgYSA9IChhICsgYWEpID4+PiAwO1xyXG4gICAgICBiID0gKGIgKyBiYikgPj4+IDA7XHJcbiAgICAgIGMgPSAoYyArIGNjKSA+Pj4gMDtcclxuICAgICAgZCA9IChkICsgZGQpID4+PiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjcnlwdC5lbmRpYW4oW2EsIGIsIGMsIGRdKTtcclxuICB9O1xyXG5cclxuICAvLyBBdXhpbGlhcnkgZnVuY3Rpb25zXHJcbiAgbWQ1Ll9mZiAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBjIHwgfmIgJiBkKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9nZyAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBkIHwgYyAmIH5kKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9oaCAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgXiBjIF4gZCkgKyAoeCA+Pj4gMCkgKyB0O1xyXG4gICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcclxuICB9O1xyXG4gIG1kNS5faWkgID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcclxuICAgIHZhciBuID0gYSArIChjIF4gKGIgfCB+ZCkpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuXHJcbiAgLy8gUGFja2FnZSBwcml2YXRlIGJsb2Nrc2l6ZVxyXG4gIG1kNS5fYmxvY2tzaXplID0gMTY7XHJcbiAgbWQ1Ll9kaWdlc3RzaXplID0gMTY7XHJcblxyXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcclxuICAgIGlmIChtZXNzYWdlID09PSB1bmRlZmluZWQgfHwgbWVzc2FnZSA9PT0gbnVsbClcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGFyZ3VtZW50ICcgKyBtZXNzYWdlKTtcclxuXHJcbiAgICB2YXIgZGlnZXN0Ynl0ZXMgPSBjcnlwdC53b3Jkc1RvQnl0ZXMobWQ1KG1lc3NhZ2UsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuYXNCeXRlcyA/IGRpZ2VzdGJ5dGVzIDpcclxuICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuYXNTdHJpbmcgPyBiaW4uYnl0ZXNUb1N0cmluZyhkaWdlc3RieXRlcykgOlxyXG4gICAgICAgIGNyeXB0LmJ5dGVzVG9IZXgoZGlnZXN0Ynl0ZXMpO1xyXG4gIH07XHJcblxyXG59KSgpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvc3ViaWN1cmEvV29ya3NwYWNlL2dpdC5wdXJwbGUuaW8va29sb25tYWxsL2tvbG9ubWFsbC1oeWJyaXMvY3VzdG9tL2tvcC9rb3BzdG9yZWZyb250L25vZGVfbW9kdWxlcy9tZDUvbWQ1LmpzXG4vLyBtb2R1bGUgaWQgPSA3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///72\n");

/***/ }),
/* 73 */
/***/ (function(module, exports) {

eval("(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3N1YmljdXJhL1dvcmtzcGFjZS9naXQucHVycGxlLmlvL2tvbG9ubWFsbC9rb2xvbm1hbGwtaHlicmlzL2N1c3RvbS9rb3Ava29wc3RvcmVmcm9udC9ub2RlX21vZHVsZXMvY3J5cHQvY3J5cHQuanM/ZjNhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gIHZhciBiYXNlNjRtYXBcbiAgICAgID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nLFxuXG4gIGNyeXB0ID0ge1xuICAgIC8vIEJpdC13aXNlIHJvdGF0aW9uIGxlZnRcbiAgICByb3RsOiBmdW5jdGlvbihuLCBiKSB7XG4gICAgICByZXR1cm4gKG4gPDwgYikgfCAobiA+Pj4gKDMyIC0gYikpO1xuICAgIH0sXG5cbiAgICAvLyBCaXQtd2lzZSByb3RhdGlvbiByaWdodFxuICAgIHJvdHI6IGZ1bmN0aW9uKG4sIGIpIHtcbiAgICAgIHJldHVybiAobiA8PCAoMzIgLSBiKSkgfCAobiA+Pj4gYik7XG4gICAgfSxcblxuICAgIC8vIFN3YXAgYmlnLWVuZGlhbiB0byBsaXR0bGUtZW5kaWFuIGFuZCB2aWNlIHZlcnNhXG4gICAgZW5kaWFuOiBmdW5jdGlvbihuKSB7XG4gICAgICAvLyBJZiBudW1iZXIgZ2l2ZW4sIHN3YXAgZW5kaWFuXG4gICAgICBpZiAobi5jb25zdHJ1Y3RvciA9PSBOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGNyeXB0LnJvdGwobiwgOCkgJiAweDAwRkYwMEZGIHwgY3J5cHQucm90bChuLCAyNCkgJiAweEZGMDBGRjAwO1xuICAgICAgfVxuXG4gICAgICAvLyBFbHNlLCBhc3N1bWUgYXJyYXkgYW5kIHN3YXAgYWxsIGl0ZW1zXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspXG4gICAgICAgIG5baV0gPSBjcnlwdC5lbmRpYW4obltpXSk7XG4gICAgICByZXR1cm4gbjtcbiAgICB9LFxuXG4gICAgLy8gR2VuZXJhdGUgYW4gYXJyYXkgb2YgYW55IGxlbmd0aCBvZiByYW5kb20gYnl0ZXNcbiAgICByYW5kb21CeXRlczogZnVuY3Rpb24obikge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXTsgbiA+IDA7IG4tLSlcbiAgICAgICAgYnl0ZXMucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYmlnLWVuZGlhbiAzMi1iaXQgd29yZHNcbiAgICBieXRlc1RvV29yZHM6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciB3b3JkcyA9IFtdLCBpID0gMCwgYiA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKywgYiArPSA4KVxuICAgICAgICB3b3Jkc1tiID4+PiA1XSB8PSBieXRlc1tpXSA8PCAoMjQgLSBiICUgMzIpO1xuICAgICAgcmV0dXJuIHdvcmRzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGJpZy1lbmRpYW4gMzItYml0IHdvcmRzIHRvIGEgYnl0ZSBhcnJheVxuICAgIHdvcmRzVG9CeXRlczogZnVuY3Rpb24od29yZHMpIHtcbiAgICAgIGZvciAodmFyIGJ5dGVzID0gW10sIGIgPSAwOyBiIDwgd29yZHMubGVuZ3RoICogMzI7IGIgKz0gOClcbiAgICAgICAgYnl0ZXMucHVzaCgod29yZHNbYiA+Pj4gNV0gPj4+ICgyNCAtIGIgJSAzMikpICYgMHhGRik7XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgaGV4IHN0cmluZ1xuICAgIGJ5dGVzVG9IZXg6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciBoZXggPSBbXSwgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBoZXgucHVzaCgoYnl0ZXNbaV0gPj4+IDQpLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIGhleC5wdXNoKChieXRlc1tpXSAmIDB4RikudG9TdHJpbmcoMTYpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZXguam9pbignJyk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBoZXggc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIGhleFRvQnl0ZXM6IGZ1bmN0aW9uKGhleCkge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgYyA9IDA7IGMgPCBoZXgubGVuZ3RoOyBjICs9IDIpXG4gICAgICAgIGJ5dGVzLnB1c2gocGFyc2VJbnQoaGV4LnN1YnN0cihjLCAyKSwgMTYpKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBiYXNlLTY0IHN0cmluZ1xuICAgIGJ5dGVzVG9CYXNlNjQ6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBmb3IgKHZhciBiYXNlNjQgPSBbXSwgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgdHJpcGxldCA9IChieXRlc1tpXSA8PCAxNikgfCAoYnl0ZXNbaSArIDFdIDw8IDgpIHwgYnl0ZXNbaSArIDJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDQ7IGorKylcbiAgICAgICAgICBpZiAoaSAqIDggKyBqICogNiA8PSBieXRlcy5sZW5ndGggKiA4KVxuICAgICAgICAgICAgYmFzZTY0LnB1c2goYmFzZTY0bWFwLmNoYXJBdCgodHJpcGxldCA+Pj4gNiAqICgzIC0gaikpICYgMHgzRikpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJhc2U2NC5wdXNoKCc9Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZTY0LmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYmFzZS02NCBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgYmFzZTY0VG9CeXRlczogZnVuY3Rpb24oYmFzZTY0KSB7XG4gICAgICAvLyBSZW1vdmUgbm9uLWJhc2UtNjQgY2hhcmFjdGVyc1xuICAgICAgYmFzZTY0ID0gYmFzZTY0LnJlcGxhY2UoL1teQS1aMC05K1xcL10vaWcsICcnKTtcblxuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgaSA9IDAsIGltb2Q0ID0gMDsgaSA8IGJhc2U2NC5sZW5ndGg7XG4gICAgICAgICAgaW1vZDQgPSArK2kgJSA0KSB7XG4gICAgICAgIGlmIChpbW9kNCA9PSAwKSBjb250aW51ZTtcbiAgICAgICAgYnl0ZXMucHVzaCgoKGJhc2U2NG1hcC5pbmRleE9mKGJhc2U2NC5jaGFyQXQoaSAtIDEpKVxuICAgICAgICAgICAgJiAoTWF0aC5wb3coMiwgLTIgKiBpbW9kNCArIDgpIC0gMSkpIDw8IChpbW9kNCAqIDIpKVxuICAgICAgICAgICAgfCAoYmFzZTY0bWFwLmluZGV4T2YoYmFzZTY0LmNoYXJBdChpKSkgPj4+ICg2IC0gaW1vZDQgKiAyKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH1cbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGNyeXB0O1xufSkoKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9zdWJpY3VyYS9Xb3Jrc3BhY2UvZ2l0LnB1cnBsZS5pby9rb2xvbm1hbGwva29sb25tYWxsLWh5YnJpcy9jdXN0b20va29wL2tvcHN0b3JlZnJvbnQvbm9kZV9tb2R1bGVzL2NyeXB0L2NyeXB0LmpzXG4vLyBtb2R1bGUgaWQgPSA3M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///73\n");

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar onLoad = function onLoad(deviceType) {\n  var currentPage = 1;\n  var searchStoreFormSubmitBtnLadda = null;\n  if ($('#searchStoreFormSubmitBtn')[0] !== undefined) {\n    searchStoreFormSubmitBtnLadda = Ladda.create($('#searchStoreFormSubmitBtn')[0]);\n  }\n\n  function searchStoreList() {\n    if (searchStoreFormSubmitBtnLadda !== null) {\n      searchStoreFormSubmitBtnLadda.start();\n    }\n    var storeItemTemplate = Handlebars.templates[deviceType + '/precompiles/store/store-item'];\n    var endOfData = false;\n    $('#storeListMoreBtn').hide();\n    $('#storeListLoading').show();\n    var requestData = $('#searchStoreForm').serializeArray();\n    requestData.push({ name: 'currentPage', value: currentPage });\n\n    $.getJSON('/Store/Search', $.param(requestData), function (data) {\n      var dataPage = data.page;\n      var targetEle = $('#searchStoreResult');\n      $('#resultStoreCountWrapper').show();\n      $('#resultStoreCount').text(dataPage.totalCount);\n      if (data.results && data.results.length > 0) {\n        targetEle.show();\n        $.each(data.results, function (index, storeItem) {\n          if (currentPage == 1 && index == 0) {\n            $('#emptyResultStoreList').hide();\n            targetEle.html(storeItemTemplate(storeItem)).show();\n          } else {\n            targetEle.append(storeItemTemplate(storeItem));\n          }\n        });\n        if (dataPage.currentPage * dataPage.perPage > dataPage.totalCount) {\n          endOfData = true;\n        }\n      } else {\n        if (currentPage == 1) {\n          targetEle.hide();\n          $('#emptyResultStoreList').show();\n        }\n        endOfData = true;\n      }\n    }).always(function () {\n      if (searchStoreFormSubmitBtnLadda !== null) {\n        searchStoreFormSubmitBtnLadda.stop();\n      }\n      $('#storeListLoading').hide();\n\n      if (endOfData) {\n        $('#storeListMoreBtn').hide();\n      } else {\n        $('#storeListMoreBtn').show();\n      }\n    });\n  }\n\n  $('#searchStoreForm').validate({\n    rules: {\n      brand: {\n        required: true\n      }\n    },\n    messages: {\n      brand: {\n        required: '브랜드를 선택해 주세요.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      $('#emptyResultStoreList').hide();\n      searchStoreList();\n      return false;\n    }\n  });\n\n  $('#storeListMoreBtn').click(function (e) {\n    e.preventDefault();\n\n    currentPage++;\n    $('#searchStoreForm').submit();\n  });\n\n  $('#storeType').change(function () {\n    if (deviceType == 'mobile') {\n      currentPage = 1;\n      $('#searchStoreForm').submit();\n    }\n  });\n\n  $('#storeTypeWrapper').on('click', '.typeOption', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    $('#storeType').val($this.data('typeCode'));\n    currentPage = 1;\n    $('#searchStoreForm').submit();\n  });\n\n  $('#searchStoreFormSubmitBtn').click(function () {\n    currentPage = 1;\n  });\n\n  // desktop 매장 상세보기\n  $('#searchStoreResult').on('click', '.storeInfoBtn', function (e) {\n    var storeInfoTemplate = Handlebars.templates['desktop/precompiles/store/store-detail-info'];\n    var $storeInfo = $('#storeInfoLayer');\n    var dataEle = $(e.currentTarget).parents('tr');\n\n    var openTime = dataEle.data('openTime');\n    var closeTime = dataEle.data('closeTime');\n    var latitude = dataEle.data('latitude');\n    var longitude = dataEle.data('longitude');\n\n    var phone = dataEle.find('.phone').text();\n    var type = dataEle.find('.type').text();\n    var name = dataEle.find('.name').text();\n    var address = dataEle.find('.address').text();\n\n    var storeData = {\n      openTime: openTime,\n      closeTime: closeTime,\n      phone: phone,\n      latitude: latitude,\n      longitude: longitude,\n      type: type,\n      name: name,\n      address: address\n    };\n\n    $storeInfo.find('div.content').html(storeInfoTemplate(storeData));\n    if (latitude != '' && longitude != '' && parseInt(latitude, 10) != 0 && parseInt(longitude, 10) != 0) {\n      try {\n        var lat = parseFloat(latitude);\n        var lng = parseFloat(longitude);\n        var mapOptions = {\n          center: new naver.maps.LatLng(lat, lng),\n          zoom: 10,\n          size: new naver.maps.Size(522, $('#storeInfoMap').height())\n        };\n\n        var map = new naver.maps.Map('storeInfoMap', mapOptions);\n\n        var marker = new naver.maps.Marker({\n          position: new naver.maps.LatLng(lat, lng),\n          map: map\n        });\n      } catch (exception) {\n        var container = document.getElementById('storeInfoMap');\n        $(container).css('background-color', '#f0f0f0');\n      }\n    } else {\n      $storeInfo.find('#storeInfoMap').empty();\n    }\n  });\n\n  // mobile 매장 상세보기\n  $('#searchStoreResult').on('click', '.storeItemSubmitBtn', function (e) {\n    e.preventDefault();\n\n    var dataEle = $(e.currentTarget).parents('li');\n    var targetForm = $('#storeDetailForm');\n    targetForm.find('input[name=\"openTime\"]').val(dataEle.data('openTime'));\n    targetForm.find('input[name=\"closeTime\"]').val(dataEle.data('closeTime'));\n    targetForm.find('input[name=\"phone\"]').val(dataEle.data('phone'));\n    targetForm.find('input[name=\"latitude\"]').val(dataEle.data('latitude'));\n    targetForm.find('input[name=\"longitude\"]').val(dataEle.data('longitude'));\n    targetForm.find('input[name=\"storeType\"]').val(dataEle.find('.type').text());\n    targetForm.find('input[name=\"displayName\"]').val(dataEle.find('.name').text());\n    targetForm.find('input[name=\"address\"]').val(dataEle.find('.address').text());\n    targetForm.submit();\n  });\n\n  if ($('[name=brand]').length > 0 && $('[name=brand]').val() != '') {\n    searchStoreList();\n  }\n};\n\nexports.onLoad = onLoad;\nexports.default = {\n  onLoad: onLoad\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9TdG9yZS5hY3Rpb24uanM/YTVjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvbkxvYWQgPSAoZGV2aWNlVHlwZSkgPT4ge1xuICBsZXQgY3VycmVudFBhZ2UgPSAxO1xuICBsZXQgc2VhcmNoU3RvcmVGb3JtU3VibWl0QnRuTGFkZGEgPSBudWxsO1xuICBpZiAoJCgnI3NlYXJjaFN0b3JlRm9ybVN1Ym1pdEJ0bicpWzBdICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZWFyY2hTdG9yZUZvcm1TdWJtaXRCdG5MYWRkYSA9IExhZGRhLmNyZWF0ZSgkKCcjc2VhcmNoU3RvcmVGb3JtU3VibWl0QnRuJylbMF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VhcmNoU3RvcmVMaXN0KCkge1xuICAgIGlmIChzZWFyY2hTdG9yZUZvcm1TdWJtaXRCdG5MYWRkYSAhPT0gbnVsbCkge1xuICAgICAgc2VhcmNoU3RvcmVGb3JtU3VibWl0QnRuTGFkZGEuc3RhcnQoKTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmVJdGVtVGVtcGxhdGUgPSBIYW5kbGViYXJzLnRlbXBsYXRlc1tgJHtkZXZpY2VUeXBlfS9wcmVjb21waWxlcy9zdG9yZS9zdG9yZS1pdGVtYF07XG4gICAgbGV0IGVuZE9mRGF0YSA9IGZhbHNlO1xuICAgICQoJyNzdG9yZUxpc3RNb3JlQnRuJykuaGlkZSgpO1xuICAgICQoJyNzdG9yZUxpc3RMb2FkaW5nJykuc2hvdygpO1xuICAgIGNvbnN0IHJlcXVlc3REYXRhID0gJCgnI3NlYXJjaFN0b3JlRm9ybScpLnNlcmlhbGl6ZUFycmF5KCk7XG4gICAgcmVxdWVzdERhdGEucHVzaCh7IG5hbWU6ICdjdXJyZW50UGFnZScsIHZhbHVlOiBjdXJyZW50UGFnZSB9KTtcblxuICAgICQuZ2V0SlNPTignL1N0b3JlL1NlYXJjaCcsICQucGFyYW0ocmVxdWVzdERhdGEpLCAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgZGF0YVBhZ2UgPSBkYXRhLnBhZ2U7XG4gICAgICBjb25zdCB0YXJnZXRFbGUgPSAkKCcjc2VhcmNoU3RvcmVSZXN1bHQnKTtcbiAgICAgICQoJyNyZXN1bHRTdG9yZUNvdW50V3JhcHBlcicpLnNob3coKTtcbiAgICAgICQoJyNyZXN1bHRTdG9yZUNvdW50JykudGV4dChkYXRhUGFnZS50b3RhbENvdW50KTtcbiAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGFyZ2V0RWxlLnNob3coKTtcbiAgICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywgKGluZGV4LCBzdG9yZUl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT0gMSAmJiBpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAkKCcjZW1wdHlSZXN1bHRTdG9yZUxpc3QnKS5oaWRlKCk7XG4gICAgICAgICAgICB0YXJnZXRFbGUuaHRtbChzdG9yZUl0ZW1UZW1wbGF0ZShzdG9yZUl0ZW0pKS5zaG93KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldEVsZS5hcHBlbmQoc3RvcmVJdGVtVGVtcGxhdGUoc3RvcmVJdGVtKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKChkYXRhUGFnZS5jdXJyZW50UGFnZSAqIGRhdGFQYWdlLnBlclBhZ2UpID4gZGF0YVBhZ2UudG90YWxDb3VudCkge1xuICAgICAgICAgIGVuZE9mRGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAxKSB7XG4gICAgICAgICAgdGFyZ2V0RWxlLmhpZGUoKTtcbiAgICAgICAgICAkKCcjZW1wdHlSZXN1bHRTdG9yZUxpc3QnKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT2ZEYXRhID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KS5hbHdheXMoKCkgPT4ge1xuICAgICAgaWYgKHNlYXJjaFN0b3JlRm9ybVN1Ym1pdEJ0bkxhZGRhICE9PSBudWxsKSB7XG4gICAgICAgIHNlYXJjaFN0b3JlRm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgICQoJyNzdG9yZUxpc3RMb2FkaW5nJykuaGlkZSgpO1xuXG4gICAgICBpZiAoZW5kT2ZEYXRhKSB7XG4gICAgICAgICQoJyNzdG9yZUxpc3RNb3JlQnRuJykuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnI3N0b3JlTGlzdE1vcmVCdG4nKS5zaG93KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAkKCcjc2VhcmNoU3RvcmVGb3JtJykudmFsaWRhdGUoe1xuICAgIHJ1bGVzOiB7XG4gICAgICBicmFuZDoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgYnJhbmQ6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfruIzrnpzrk5zrpbwg7ISg7YOd7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHN1Ym1pdEhhbmRsZXI6ICgpID0+IHtcbiAgICAgICQoJyNlbXB0eVJlc3VsdFN0b3JlTGlzdCcpLmhpZGUoKTtcbiAgICAgIHNlYXJjaFN0b3JlTGlzdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH0pO1xuXG4gICQoJyNzdG9yZUxpc3RNb3JlQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjdXJyZW50UGFnZSsrO1xuICAgICQoJyNzZWFyY2hTdG9yZUZvcm0nKS5zdWJtaXQoKTtcbiAgfSk7XG5cbiAgJCgnI3N0b3JlVHlwZScpLmNoYW5nZSgoKSA9PiB7XG4gICAgaWYgKGRldmljZVR5cGUgPT0gJ21vYmlsZScpIHtcbiAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICAgICQoJyNzZWFyY2hTdG9yZUZvcm0nKS5zdWJtaXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNzdG9yZVR5cGVXcmFwcGVyJykub24oJ2NsaWNrJywgJy50eXBlT3B0aW9uJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJCgnI3N0b3JlVHlwZScpLnZhbCgkdGhpcy5kYXRhKCd0eXBlQ29kZScpKTtcbiAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgJCgnI3NlYXJjaFN0b3JlRm9ybScpLnN1Ym1pdCgpO1xuICB9KTtcblxuICAkKCcjc2VhcmNoU3RvcmVGb3JtU3VibWl0QnRuJykuY2xpY2soKCkgPT4ge1xuICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgfSk7XG5cbiAgLy8gZGVza3RvcCDrp6TsnqUg7IOB7IS467O06riwXG4gICQoJyNzZWFyY2hTdG9yZVJlc3VsdCcpLm9uKCdjbGljaycsICcuc3RvcmVJbmZvQnRuJywgKGUpID0+IHtcbiAgICBjb25zdCBzdG9yZUluZm9UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydkZXNrdG9wL3ByZWNvbXBpbGVzL3N0b3JlL3N0b3JlLWRldGFpbC1pbmZvJ107XG4gICAgY29uc3QgJHN0b3JlSW5mbyA9ICQoJyNzdG9yZUluZm9MYXllcicpO1xuICAgIGNvbnN0IGRhdGFFbGUgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygndHInKTtcblxuICAgIGNvbnN0IG9wZW5UaW1lID0gZGF0YUVsZS5kYXRhKCdvcGVuVGltZScpO1xuICAgIGNvbnN0IGNsb3NlVGltZSA9IGRhdGFFbGUuZGF0YSgnY2xvc2VUaW1lJyk7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSBkYXRhRWxlLmRhdGEoJ2xhdGl0dWRlJyk7XG4gICAgY29uc3QgbG9uZ2l0dWRlID0gZGF0YUVsZS5kYXRhKCdsb25naXR1ZGUnKTtcblxuICAgIGNvbnN0IHBob25lID0gZGF0YUVsZS5maW5kKCcucGhvbmUnKS50ZXh0KCk7XG4gICAgY29uc3QgdHlwZSA9IGRhdGFFbGUuZmluZCgnLnR5cGUnKS50ZXh0KCk7XG4gICAgY29uc3QgbmFtZSA9IGRhdGFFbGUuZmluZCgnLm5hbWUnKS50ZXh0KCk7XG4gICAgY29uc3QgYWRkcmVzcyA9IGRhdGFFbGUuZmluZCgnLmFkZHJlc3MnKS50ZXh0KCk7XG5cbiAgICBjb25zdCBzdG9yZURhdGEgPSB7XG4gICAgICBvcGVuVGltZSxcbiAgICAgIGNsb3NlVGltZSxcbiAgICAgIHBob25lLFxuICAgICAgbGF0aXR1ZGUsXG4gICAgICBsb25naXR1ZGUsXG4gICAgICB0eXBlLFxuICAgICAgbmFtZSxcbiAgICAgIGFkZHJlc3MsXG4gICAgfTtcblxuICAgICRzdG9yZUluZm8uZmluZCgnZGl2LmNvbnRlbnQnKS5odG1sKHN0b3JlSW5mb1RlbXBsYXRlKHN0b3JlRGF0YSkpO1xuICAgIGlmIChsYXRpdHVkZSAhPSAnJyAmJiBsb25naXR1ZGUgIT0gJycgJiYgcGFyc2VJbnQobGF0aXR1ZGUsIDEwKSAhPSAwICYmIHBhcnNlSW50KGxvbmdpdHVkZSwgMTApICE9IDApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxhdCA9IHBhcnNlRmxvYXQobGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCBsbmcgPSBwYXJzZUZsb2F0KGxvbmdpdHVkZSk7XG4gICAgICAgIGNvbnN0IG1hcE9wdGlvbnMgPSB7XG4gICAgICAgICAgY2VudGVyOiBuZXcgbmF2ZXIubWFwcy5MYXRMbmcobGF0LCBsbmcpLFxuICAgICAgICAgIHpvb206IDEwLFxuICAgICAgICAgIHNpemU6IG5ldyBuYXZlci5tYXBzLlNpemUoNTIyLCAkKCcjc3RvcmVJbmZvTWFwJykuaGVpZ2h0KCkpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1hcCA9IG5ldyBuYXZlci5tYXBzLk1hcCgnc3RvcmVJbmZvTWFwJywgbWFwT3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IG5hdmVyLm1hcHMuTWFya2VyKHtcbiAgICAgICAgICBwb3NpdGlvbjogbmV3IG5hdmVyLm1hcHMuTGF0TG5nKGxhdCwgbG5nKSxcbiAgICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3JlSW5mb01hcCcpO1xuICAgICAgICAkKGNvbnRhaW5lcikuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmMGYwZjAnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJHN0b3JlSW5mby5maW5kKCcjc3RvcmVJbmZvTWFwJykuZW1wdHkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1vYmlsZSDrp6TsnqUg7IOB7IS467O06riwXG4gICQoJyNzZWFyY2hTdG9yZVJlc3VsdCcpLm9uKCdjbGljaycsICcuc3RvcmVJdGVtU3VibWl0QnRuJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBkYXRhRWxlID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJ2xpJyk7XG4gICAgY29uc3QgdGFyZ2V0Rm9ybSA9ICQoJyNzdG9yZURldGFpbEZvcm0nKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJvcGVuVGltZVwiXScpLnZhbChkYXRhRWxlLmRhdGEoJ29wZW5UaW1lJykpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cImNsb3NlVGltZVwiXScpLnZhbChkYXRhRWxlLmRhdGEoJ2Nsb3NlVGltZScpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwaG9uZVwiXScpLnZhbChkYXRhRWxlLmRhdGEoJ3Bob25lJykpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cImxhdGl0dWRlXCJdJykudmFsKGRhdGFFbGUuZGF0YSgnbGF0aXR1ZGUnKSk7XG4gICAgdGFyZ2V0Rm9ybS5maW5kKCdpbnB1dFtuYW1lPVwibG9uZ2l0dWRlXCJdJykudmFsKGRhdGFFbGUuZGF0YSgnbG9uZ2l0dWRlJykpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInN0b3JlVHlwZVwiXScpLnZhbChkYXRhRWxlLmZpbmQoJy50eXBlJykudGV4dCgpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJkaXNwbGF5TmFtZVwiXScpLnZhbChkYXRhRWxlLmZpbmQoJy5uYW1lJykudGV4dCgpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJhZGRyZXNzXCJdJykudmFsKGRhdGFFbGUuZmluZCgnLmFkZHJlc3MnKS50ZXh0KCkpO1xuICAgIHRhcmdldEZvcm0uc3VibWl0KCk7XG4gIH0pO1xuXG4gIGlmICgkKCdbbmFtZT1icmFuZF0nKS5sZW5ndGggPiAwICYmICQoJ1tuYW1lPWJyYW5kXScpLnZhbCgpICE9ICcnKSB7XG4gICAgc2VhcmNoU3RvcmVMaXN0KCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IG9uTG9hZCB9O1xuZXhwb3J0IGRlZmF1bHQge1xuICBvbkxvYWQsXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9jb21tb24vU3RvcmUuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74\n");

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.commonWishList = undefined;\n\nvar _CartCount = __webpack_require__(16);\n\nvar _CartCount2 = _interopRequireDefault(_CartCount);\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _ga = __webpack_require__(29);\n\nvar _ga2 = _interopRequireDefault(_ga);\n\nvar _fb = __webpack_require__(30);\n\nvar _fb2 = _interopRequireDefault(_fb);\n\nvar _AceCounter = __webpack_require__(17);\n\nvar _AceCounter2 = _interopRequireDefault(_AceCounter);\n\nvar _AceCounter3 = __webpack_require__(20);\n\nvar _AceCounter4 = _interopRequireDefault(_AceCounter3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default();\n\nvar commonWishList = function commonWishList(deviceType) {\n  // const AJAX_RETURN_SUCCESS_CODE = 'ok';\n  var wishListItemTemplate = null;\n  var wishList = $('#wishList');\n  var totalCount = wishList.data('totalCount');\n  var perPage = wishList.data('perPage');\n  var currentPage = wishList.data('currentPage');\n  var isMore = totalCount > currentPage * perPage;\n  var isAddToCartLoading = false;\n\n  $('#wishListLoading').hide();\n  if (totalCount > 0 && isMore) $('#moreBtn').show();\n\n  function getWishList() {\n    var params = {\n      type: 'online',\n      pageNumber: currentPage,\n      pageSize: perPage\n    };\n    var endOfData = false;\n    $('#moreBtn').hide();\n    $('#wishListLoading').show();\n    $.ajax({\n      url: '/WishList',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      cache: false,\n      success: function success(data) {\n        if (data.results && data.results.length > 0) {\n          $.each(data.results, function (index, element) {\n            var wishListItem = element;\n            if (currentPage == 0) {\n              wishList.find('.wish-lists').html(wishListItemTemplate(wishListItem));\n            } else {\n              wishList.find('.wish-lists').append(wishListItemTemplate(wishListItem));\n            }\n          });\n          var pNumber = data.page.currentPage + 1;\n          if (totalCount <= pNumber * perPage) {\n            endOfData = true;\n          }\n        } else {\n          if (currentPage == 0) {\n            $('#wishList').hide();\n          }\n          endOfData = true;\n        }\n      }\n    }).always(function () {\n      $('#wishListLoading').hide();\n\n      if (endOfData) {\n        $('#moreBtn').hide();\n      } else {\n        $('#moreBtn').show();\n      }\n    });\n  }\n\n  if (wishList.length > 0) {\n    wishListItemTemplate = Handlebars.templates[deviceType + '/precompiles/wishList/wishlist-item'];\n  }\n\n  $('#moreBtn').click(function (e) {\n    e.preventDefault();\n    currentPage++;\n    getWishList();\n  });\n\n  function deleteWishlistItems(itemIds, isOnlyOneItem) {\n    var confirmResult = confirm('삭제하시겠습니까?');\n    if (confirmResult) {\n      $.ajax({\n        url: '/WishList/Delete?ids=' + itemIds,\n        type: 'DELETE',\n        success: function success() {\n          if (isOnlyOneItem) {\n            $('.wishlist-item-checkbox').each(function (index, checkbox) {\n              if ($(checkbox).data('entryIds') == itemIds) {\n                $(checkbox).parents('li').remove();\n              }\n            });\n          } else {\n            $('.wishlist-item-checkbox:checked').each(function (index, checkbox) {\n              $(checkbox).parents('li').remove();\n            });\n          }\n        },\n        complete: function complete() {\n          // 모든 관심 리스트 항목 삭제의 경우\n          if ($('.wishlist-item-checkbox').length == 0) {\n            location.reload();\n          }\n        },\n        error: function error(xhr) {\n          var jsonResponse = JSON.parse(xhr.responseText);\n          alert(jsonResponse.message);\n        }\n      });\n    }\n  }\n\n  function addToCart(selectedWishlistElements) {\n    if (isAddToCartLoading) {\n      return;\n    }\n    isAddToCartLoading = true;\n    if (selectedWishlistElements != null && selectedWishlistElements !== undefined && selectedWishlistElements.length > 0) {\n      var wishlistDataListForCart = [];\n      var wishlistProductCodeList = [];\n      $.each(selectedWishlistElements, function (index, element) {\n        var wishlistDataForCart = {};\n        var wishlistProductCodeForCart = {};\n        var $this = $(element);\n        wishlistDataForCart.productCode = $this.val();\n        wishlistDataForCart.quantity = 1;\n        wishlistDataForCart.insideTrkId = '';\n        wishlistDataForCart.componentCodes = $this.data('componentCodes');\n        wishlistDataListForCart.push(wishlistDataForCart);\n        wishlistProductCodeForCart.quantity = 1;\n        wishlistProductCodeForCart.productCode = $this.data('productCode');\n        wishlistProductCodeForCart.price = $this.data('productPrice');\n        wishlistProductCodeForCart.name = $this.data('productName');\n        wishlistProductCodeForCart.acName = $this.data('productAcName');\n        wishlistProductCodeList.push(wishlistProductCodeForCart);\n      });\n\n      overlayLoader.start();\n      $.ajax({\n        url: '/Cart/AddItemsToCart?CSRFToken=' + $('#csrfToken').val(),\n        type: 'PUT',\n        data: JSON.stringify(wishlistDataListForCart),\n        dataType: 'JSON',\n        contentType: 'application/json',\n        success: function success(data) {\n          (0, _CartCount2.default)(data.cartCount);\n\n          /* Analytics Script */\n          $.each(wishlistProductCodeList, function (index, item) {\n            var productCode = item.productCode;\n            var quantity = item.quantity;\n            var price = item.price;\n            var name = item.name;\n            var acName = item.acName;\n            _ga2.default.gaAddToCart({\n              'id': productCode,\n              'name': name,\n              'price': price,\n              'quantity': quantity\n            });\n\n            //facebook pixel\n            _fb2.default.pixelAddToCart();\n\n            if (deviceType == 'desktop') {\n              //Ace Counter For Desktop\n              _pd = _RP(name);\n              _ct = _RP(\"\");\n              _amt = _RP(price, 1); // _RP(1)-> 가격\n\n              _A_amt = Array(price);\n              _A_nl = Array(quantity);\n              _A_pl = Array(productCode);\n              _A_pn = Array(acName);\n              _A_ct = Array('');\n\n              _AceCounter4.default.aecAddCartItem(productCode, quantity);\n            } else {\n              //Ace Counter For Mobile\n              var m_pd = acName;\n              var m_ct = '';\n              var m_amt = price;\n              _AceCounter2.default.aecAddCartItem(quantity);\n            }\n          });\n\n          /* analytics script END */\n          if (confirm('장바구니에 추가되었습니다.\\n장바구니 페이지로 이동하시겠습니까?')) {\n            location.href = '/Cart';\n          }\n        },\n        error: function error(request) {\n          var responseObj = JSON.parse(request.responseText);\n          alert(responseObj.message);\n        },\n        complete: function complete() {\n          overlayLoader.stop();\n          isAddToCartLoading = false;\n        }\n      });\n    }\n  }\n\n  wishList.on('click', '.delete-item-btn', function (e) {\n    e.preventDefault();\n\n    deleteWishlistItems($(e.currentTarget).parents('li').find('.wishlist-item-checkbox').data('entryIds'), true);\n  }).on('click', '.add-to-cart-btn', function (e) {\n    e.preventDefault();\n\n    addToCart($(e.currentTarget).parents('li').find('.wishlist-item-checkbox'));\n  });\n\n  $('#deleteSelectedItemsBtn').click(function (e) {\n    e.preventDefault();\n\n    if ($('.wishlist-item-checkbox:checked').length > 0) {\n      var entryIdsArray = [];\n      $('.wishlist-item-checkbox:checked').each(function (index, element) {\n        entryIdsArray.push($(element).data('entryIds'));\n      });\n      deleteWishlistItems(entryIdsArray.join(','), false);\n    } else {\n      alert('상품을 선택해 주세요.');\n    }\n  });\n\n  $('#addToCartSelectedItemsBtn').click(function (e) {\n    e.preventDefault();\n\n    if ($('.wishlist-item-checkbox:checked').length > 0) {\n      addToCart($('.wishlist-item-checkbox:checked'));\n    } else {\n      alert('상품을 선택해 주세요.');\n    }\n  });\n\n  $('#selectAllCheckbox').click(function (e) {\n    $('.wishlist-item-checkbox:not(:disabled)').prop('checked', $(e.currentTarget).is(':checked'));\n  });\n};\nexports.commonWishList = commonWishList;\nexports.default = {\n  commonWishList: commonWishList\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL2NvbW1vbi9XaXNoTGlzdC5hY3Rpb24uanM/ODYwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXBkYXRlQ2FydENvdW50IGZyb20gJy4uL2NvbW1vbi9DYXJ0Q291bnQnO1xuaW1wb3J0IE92ZXJsYXlMb2FkZXIgZnJvbSAnLi4vY29tbW9uL092ZXJsYXlMb2FkZXInO1xuaW1wb3J0IEdBIGZyb20gJy4vZ2EnO1xuaW1wb3J0IEZCIGZyb20gJy4vZmInO1xuaW1wb3J0IEFFQ19NT0JJTEUgZnJvbSAnLi4vbW9iaWxlL0FjZUNvdW50ZXInO1xuaW1wb3J0IEFFQ19ERVNLVE9QIGZyb20gJy4uL2Rlc2t0b3AvQWNlQ291bnRlcic7XG5cbmNvbnN0IG92ZXJsYXlMb2FkZXIgPSBuZXcgT3ZlcmxheUxvYWRlcigpO1xuXG5jb25zdCBjb21tb25XaXNoTGlzdCA9IChkZXZpY2VUeXBlKSA9PiB7XG4gIC8vIGNvbnN0IEFKQVhfUkVUVVJOX1NVQ0NFU1NfQ09ERSA9ICdvayc7XG4gIGxldCB3aXNoTGlzdEl0ZW1UZW1wbGF0ZSA9IG51bGw7XG4gIGNvbnN0IHdpc2hMaXN0ID0gJCgnI3dpc2hMaXN0Jyk7XG4gIGNvbnN0IHRvdGFsQ291bnQgPSB3aXNoTGlzdC5kYXRhKCd0b3RhbENvdW50Jyk7XG4gIGNvbnN0IHBlclBhZ2UgPSB3aXNoTGlzdC5kYXRhKCdwZXJQYWdlJyk7XG4gIGxldCBjdXJyZW50UGFnZSA9IHdpc2hMaXN0LmRhdGEoJ2N1cnJlbnRQYWdlJyk7XG4gIGNvbnN0IGlzTW9yZSA9IHRvdGFsQ291bnQgPiBjdXJyZW50UGFnZSAqIHBlclBhZ2U7XG4gIGxldCBpc0FkZFRvQ2FydExvYWRpbmcgPSBmYWxzZTtcblxuICAkKCcjd2lzaExpc3RMb2FkaW5nJykuaGlkZSgpO1xuICBpZiAodG90YWxDb3VudCA+IDAgJiYgaXNNb3JlKSAkKCcjbW9yZUJ0bicpLnNob3coKTtcblxuICBmdW5jdGlvbiBnZXRXaXNoTGlzdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICB0eXBlOiAnb25saW5lJyxcbiAgICAgIHBhZ2VOdW1iZXI6IGN1cnJlbnRQYWdlLFxuICAgICAgcGFnZVNpemU6IHBlclBhZ2UsXG4gICAgfTtcbiAgICBsZXQgZW5kT2ZEYXRhID0gZmFsc2U7XG4gICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgJCgnI3dpc2hMaXN0TG9hZGluZycpLnNob3coKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL1dpc2hMaXN0JyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBkYXRhOiBwYXJhbXMsXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0cyAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICQuZWFjaChkYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2lzaExpc3RJdGVtID0gZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAwKSB7XG4gICAgICAgICAgICAgIHdpc2hMaXN0LmZpbmQoJy53aXNoLWxpc3RzJykuaHRtbCh3aXNoTGlzdEl0ZW1UZW1wbGF0ZSh3aXNoTGlzdEl0ZW0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdpc2hMaXN0LmZpbmQoJy53aXNoLWxpc3RzJykuYXBwZW5kKHdpc2hMaXN0SXRlbVRlbXBsYXRlKHdpc2hMaXN0SXRlbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBOdW1iZXIgPSAoZGF0YS5wYWdlLmN1cnJlbnRQYWdlICsgMSk7XG4gICAgICAgICAgaWYgKHRvdGFsQ291bnQgPD0gcE51bWJlciAqIHBlclBhZ2UpIHtcbiAgICAgICAgICAgIGVuZE9mRGF0YSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAwKSB7XG4gICAgICAgICAgICAkKCcjd2lzaExpc3QnKS5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZE9mRGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSkuYWx3YXlzKCgpID0+IHtcbiAgICAgICQoJyN3aXNoTGlzdExvYWRpbmcnKS5oaWRlKCk7XG5cbiAgICAgIGlmIChlbmRPZkRhdGEpIHtcbiAgICAgICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcjbW9yZUJ0bicpLnNob3coKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICh3aXNoTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgd2lzaExpc3RJdGVtVGVtcGxhdGUgPSBIYW5kbGViYXJzLnRlbXBsYXRlc1tgJHtkZXZpY2VUeXBlfS9wcmVjb21waWxlcy93aXNoTGlzdC93aXNobGlzdC1pdGVtYF07XG4gIH1cblxuICAkKCcjbW9yZUJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGN1cnJlbnRQYWdlKys7XG4gICAgZ2V0V2lzaExpc3QoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZGVsZXRlV2lzaGxpc3RJdGVtcyhpdGVtSWRzLCBpc09ubHlPbmVJdGVtKSB7XG4gICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKTtcbiAgICBpZiAoY29uZmlybVJlc3VsdCkge1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBgL1dpc2hMaXN0L0RlbGV0ZT9pZHM9JHtpdGVtSWRzfWAsXG4gICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICBzdWNjZXNzOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzT25seU9uZUl0ZW0pIHtcbiAgICAgICAgICAgICQoJy53aXNobGlzdC1pdGVtLWNoZWNrYm94JykuZWFjaCgoaW5kZXgsIGNoZWNrYm94KSA9PiB7XG4gICAgICAgICAgICAgIGlmICgkKGNoZWNrYm94KS5kYXRhKCdlbnRyeUlkcycpID09IGl0ZW1JZHMpIHtcbiAgICAgICAgICAgICAgICAkKGNoZWNrYm94KS5wYXJlbnRzKCdsaScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLndpc2hsaXN0LWl0ZW0tY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goKGluZGV4LCBjaGVja2JveCkgPT4ge1xuICAgICAgICAgICAgICAkKGNoZWNrYm94KS5wYXJlbnRzKCdsaScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIC8vIOuqqOuToCDqtIDsi6wg66as7Iqk7Yq4IO2VreuqqSDsgq3soJzsnZgg6rK97JqwXG4gICAgICAgICAgaWYgKCQoJy53aXNobGlzdC1pdGVtLWNoZWNrYm94JykubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6ICh4aHIpID0+IHtcbiAgICAgICAgICBjb25zdCBqc29uUmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGFsZXJ0KGpzb25SZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRvQ2FydChzZWxlY3RlZFdpc2hsaXN0RWxlbWVudHMpIHtcbiAgICBpZiAoaXNBZGRUb0NhcnRMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlzQWRkVG9DYXJ0TG9hZGluZyA9IHRydWU7XG4gICAgaWYgKHNlbGVjdGVkV2lzaGxpc3RFbGVtZW50cyAhPSBudWxsICYmIHNlbGVjdGVkV2lzaGxpc3RFbGVtZW50cyAhPT0gdW5kZWZpbmVkICYmIHNlbGVjdGVkV2lzaGxpc3RFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB3aXNobGlzdERhdGFMaXN0Rm9yQ2FydCA9IFtdO1xuICAgICAgY29uc3Qgd2lzaGxpc3RQcm9kdWN0Q29kZUxpc3QgPSBbXTtcbiAgICAgICQuZWFjaChzZWxlY3RlZFdpc2hsaXN0RWxlbWVudHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCB3aXNobGlzdERhdGFGb3JDYXJ0ID0ge307XG4gICAgICAgIGNvbnN0IHdpc2hsaXN0UHJvZHVjdENvZGVGb3JDYXJ0ID0ge307XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJChlbGVtZW50KTtcbiAgICAgICAgd2lzaGxpc3REYXRhRm9yQ2FydC5wcm9kdWN0Q29kZSA9ICR0aGlzLnZhbCgpO1xuICAgICAgICB3aXNobGlzdERhdGFGb3JDYXJ0LnF1YW50aXR5ID0gMTtcbiAgICAgICAgd2lzaGxpc3REYXRhRm9yQ2FydC5pbnNpZGVUcmtJZCA9ICcnO1xuICAgICAgICB3aXNobGlzdERhdGFGb3JDYXJ0LmNvbXBvbmVudENvZGVzID0gJHRoaXMuZGF0YSgnY29tcG9uZW50Q29kZXMnKTtcbiAgICAgICAgd2lzaGxpc3REYXRhTGlzdEZvckNhcnQucHVzaCh3aXNobGlzdERhdGFGb3JDYXJ0KTtcbiAgICAgICAgd2lzaGxpc3RQcm9kdWN0Q29kZUZvckNhcnQucXVhbnRpdHkgPSAxO1xuICAgICAgICB3aXNobGlzdFByb2R1Y3RDb2RlRm9yQ2FydC5wcm9kdWN0Q29kZSA9ICR0aGlzLmRhdGEoJ3Byb2R1Y3RDb2RlJyk7XG4gICAgICAgIHdpc2hsaXN0UHJvZHVjdENvZGVGb3JDYXJ0LnByaWNlID0gJHRoaXMuZGF0YSgncHJvZHVjdFByaWNlJyk7XG4gICAgICAgIHdpc2hsaXN0UHJvZHVjdENvZGVGb3JDYXJ0Lm5hbWUgPSAkdGhpcy5kYXRhKCdwcm9kdWN0TmFtZScpO1xuICAgICAgICB3aXNobGlzdFByb2R1Y3RDb2RlRm9yQ2FydC5hY05hbWUgPSAkdGhpcy5kYXRhKCdwcm9kdWN0QWNOYW1lJyk7XG4gICAgICAgIHdpc2hsaXN0UHJvZHVjdENvZGVMaXN0LnB1c2god2lzaGxpc3RQcm9kdWN0Q29kZUZvckNhcnQpO1xuICAgICAgfSk7XG5cbiAgICAgIG92ZXJsYXlMb2FkZXIuc3RhcnQoKTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogYC9DYXJ0L0FkZEl0ZW1zVG9DYXJ0P0NTUkZUb2tlbj0keyQoJyNjc3JmVG9rZW4nKS52YWwoKX1gLFxuICAgICAgICB0eXBlOiAnUFVUJyxcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkod2lzaGxpc3REYXRhTGlzdEZvckNhcnQpLFxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIHVwZGF0ZUNhcnRDb3VudChkYXRhLmNhcnRDb3VudCk7XG5cbiAgICAgICAgICAvKiBBbmFseXRpY3MgU2NyaXB0ICovXG4gICAgICAgICAgJC5lYWNoKHdpc2hsaXN0UHJvZHVjdENvZGVMaXN0LCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xuICAgICAgICAgICAgY29uc3QgcHJvZHVjdENvZGUgPSBpdGVtLnByb2R1Y3RDb2RlO1xuICAgICAgICAgICAgY29uc3QgcXVhbnRpdHkgPSBpdGVtLnF1YW50aXR5O1xuICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBpdGVtLnByaWNlO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGFjTmFtZSA9IGl0ZW0uYWNOYW1lO1xuICAgICAgICAgICAgR0EuZ2FBZGRUb0NhcnQoe1xuICAgICAgICAgICAgICAnaWQnOiBwcm9kdWN0Q29kZSxcbiAgICAgICAgICAgICAgJ25hbWUnOiBuYW1lLFxuICAgICAgICAgICAgICAncHJpY2UnOiBwcmljZSxcbiAgICAgICAgICAgICAgJ3F1YW50aXR5JzogcXVhbnRpdHlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL2ZhY2Vib29rIHBpeGVsXG4gICAgICAgICAgICBGQi5waXhlbEFkZFRvQ2FydCgpO1xuXG5cbiAgICAgICAgICAgIGlmIChkZXZpY2VUeXBlID09ICdkZXNrdG9wJykge1xuICAgICAgICAgICAgICAvL0FjZSBDb3VudGVyIEZvciBEZXNrdG9wXG4gICAgICAgICAgICAgIF9wZCA9X1JQKG5hbWUpO1xuICAgICAgICAgICAgICBfY3QgPV9SUChcIlwiKTtcbiAgICAgICAgICAgICAgX2FtdCA9IF9SUChwcmljZSwxKTsgLy8gX1JQKDEpLT4g6rCA6rKpXG5cbiAgICAgICAgICAgICAgX0FfYW10PUFycmF5KHByaWNlKTtcbiAgICAgICAgICAgICAgX0Ffbmw9QXJyYXkocXVhbnRpdHkpO1xuICAgICAgICAgICAgICBfQV9wbD1BcnJheShwcm9kdWN0Q29kZSk7XG4gICAgICAgICAgICAgIF9BX3BuPUFycmF5KGFjTmFtZSk7XG4gICAgICAgICAgICAgIF9BX2N0PUFycmF5KCcnKTtcblxuICAgICAgICAgICAgICBBRUNfREVTS1RPUC5hZWNBZGRDYXJ0SXRlbShwcm9kdWN0Q29kZSwgcXVhbnRpdHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9BY2UgQ291bnRlciBGb3IgTW9iaWxlXG4gICAgICAgICAgICAgIHZhciBtX3BkID0gYWNOYW1lO1xuICAgICAgICAgICAgICB2YXIgbV9jdCA9ICcnO1xuICAgICAgICAgICAgICB2YXIgbV9hbXQ9IHByaWNlO1xuICAgICAgICAgICAgICBBRUNfTU9CSUxFLmFlY0FkZENhcnRJdGVtKHF1YW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8qIGFuYWx5dGljcyBzY3JpcHQgRU5EICovXG4gICAgICAgICAgaWYgKGNvbmZpcm0oJ+yepeuwlOq1rOuLiOyXkCDstpTqsIDrkJjsl4jsirXri4jri6QuXFxu7J6l67CU6rWs64uIIO2OmOydtOyngOuhnCDsnbTrj5ntlZjsi5zqsqDsirXri4jquYw/JykpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL0NhcnQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICBvdmVybGF5TG9hZGVyLnN0b3AoKTtcbiAgICAgICAgICBpc0FkZFRvQ2FydExvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHdpc2hMaXN0Lm9uKCdjbGljaycsICcuZGVsZXRlLWl0ZW0tYnRuJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBkZWxldGVXaXNobGlzdEl0ZW1zKCQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCdsaScpLmZpbmQoJy53aXNobGlzdC1pdGVtLWNoZWNrYm94JykuZGF0YSgnZW50cnlJZHMnKSwgdHJ1ZSk7XG4gIH0pLm9uKCdjbGljaycsICcuYWRkLXRvLWNhcnQtYnRuJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBhZGRUb0NhcnQoJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJ2xpJykuZmluZCgnLndpc2hsaXN0LWl0ZW0tY2hlY2tib3gnKSk7XG4gIH0pO1xuXG4gICQoJyNkZWxldGVTZWxlY3RlZEl0ZW1zQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoJCgnLndpc2hsaXN0LWl0ZW0tY2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGVudHJ5SWRzQXJyYXkgPSBbXTtcbiAgICAgICQoJy53aXNobGlzdC1pdGVtLWNoZWNrYm94OmNoZWNrZWQnKS5lYWNoKChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBlbnRyeUlkc0FycmF5LnB1c2goJChlbGVtZW50KS5kYXRhKCdlbnRyeUlkcycpKTtcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlV2lzaGxpc3RJdGVtcyhlbnRyeUlkc0FycmF5LmpvaW4oJywnKSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydCgn7IOB7ZKI7J2EIOyEoO2Dne2VtCDso7zshLjsmpQuJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjYWRkVG9DYXJ0U2VsZWN0ZWRJdGVtc0J0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKCQoJy53aXNobGlzdC1pdGVtLWNoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICBhZGRUb0NhcnQoJCgnLndpc2hsaXN0LWl0ZW0tY2hlY2tib3g6Y2hlY2tlZCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoJ+yDge2SiOydhCDshKDtg53tlbQg7KO87IS47JqULicpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI3NlbGVjdEFsbENoZWNrYm94JykuY2xpY2soKGUpID0+IHtcbiAgICAkKCcud2lzaGxpc3QtaXRlbS1jaGVja2JveDpub3QoOmRpc2FibGVkKScpLnByb3AoJ2NoZWNrZWQnLCAkKGUuY3VycmVudFRhcmdldCkuaXMoJzpjaGVja2VkJykpO1xuICB9KTtcbn07XG5leHBvcnQgeyBjb21tb25XaXNoTGlzdCB9O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbW1vbldpc2hMaXN0LFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvY29tbW9uL1dpc2hMaXN0LmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUJBO0FBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekJBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTdEQTtBQStEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///75\n");

/***/ }),
/* 76 */,
/* 77 */,
/* 78 */,
/* 79 */,
/* 80 */,
/* 81 */,
/* 82 */,
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _searchProductPopup = __webpack_require__(128);\n\nvar _searchProductPopup2 = _interopRequireDefault(_searchProductPopup);\n\nvar _searchProductItem = __webpack_require__(129);\n\nvar _searchProductItem2 = _interopRequireDefault(_searchProductItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar searchProductPopupTemplate = Handlebars.compile(_searchProductPopup2.default);\nvar searchProductItemTemplate = Handlebars.compile(_searchProductItem2.default);\nvar popupManager = null;\nvar popup = null;\nvar isPage = false;\nvar callback = {};\n\nvar orderListCurrentPage = 1;\nvar selectedProductTabs = [];\n\nvar cartListCurrentPage = 1;\nvar cartListPageSize = 5;\n\nvar wishListCurrentPage = 1;\n\n// Data\n// 주문 상품 조회\nfunction getOrderList() {\n  var endDate = (0, _moment2.default)();\n  var startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n  var searchPeriodDays = $('#periodTab .on > a').data('searchPeriod');\n\n  if (searchPeriodDays == 30) {\n    startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n  } else if (searchPeriodDays == 90) {\n    startDate = (0, _moment2.default)(endDate).add(-3, 'M');\n  } else if (searchPeriodDays == 365) {\n    startDate = (0, _moment2.default)(endDate).add(-1, 'Y');\n  }\n\n  var params = {\n    startDate: startDate.format('YYYYMMDD'),\n    endDate: endDate.format('YYYYMMDD'),\n    requestType: 30,\n    pageSize: 4,\n    currentPage: orderListCurrentPage\n  };\n\n  $.ajax({\n    url: '/Order/ConsignmentEntries?pageSize=5',\n    method: 'GET',\n    data: params,\n    dataType: 'JSON',\n    success: function success(data) {\n      if (data.results && data.results.length > 0) {\n        $('#emptyResultOrderList').hide();\n        $('#resultOrderListWrapper').show();\n\n        $.each(data.results, function (index, element) {\n          $.each(element.items, function (index2, item) {\n            var orderItem = item;\n            orderItem.orderNumber = element.orderNumber;\n            orderItem.orderCreatedDate = element.createdDate;\n\n            if (orderListCurrentPage == 1 && index == 0) {\n              $('#resultOrderListWrapper .prod-list').html(searchProductItemTemplate(orderItem));\n            } else {\n              $('#resultOrderListWrapper .prod-list').append(searchProductItemTemplate(orderItem));\n            }\n          });\n        });\n      } else {\n        if (orderListCurrentPage > 1) {\n          alert('더이상 조회내용이 없습니다.');\n          $('#resultOrderListWrapper .prod-more').hide();\n        } else {\n          $('#resultOrderListWrapper').hide();\n          $('#emptyResultOrderList').show();\n        }\n      }\n    }\n  });\n}\n\n// 카트 조회\nfunction getCartList() {\n  $.ajax({\n    url: '/Cart',\n    method: 'GET',\n    data: '{}',\n    dataType: 'JSON',\n    success: function success(data) {\n      if (data && data.items.length > 0) {\n        $('#emptyResultCartList').hide();\n        $('#resultCartListWrapper').show();\n        if (data.items.length < cartListCurrentPage * cartListPageSize) {\n          $('#resultCartListWrapper .prod-more').hide();\n        }\n\n        $.each(data.items, function (index, element) {\n          if (index < cartListCurrentPage * cartListPageSize) {\n            var filter = {\n              price: element.totalBasePrice.price,\n              wishPrice: element.totalWishPrice.price,\n              formattedPrice: element.totalBasePrice.formattedPrice,\n              formattedWishPrice: element.totalWishPrice.formattedPrice,\n              isDiscount: element.totalWishPrice.price > element.totalBasePrice.price,\n              symbol: element.totalBasePrice.symbol\n            };\n            element.filter = filter;\n            if (index == 0) {\n              $('#resultCartListWrapper .prod-list').html(searchProductItemTemplate(element));\n            } else {\n              $('#resultCartListWrapper .prod-list').append(searchProductItemTemplate(element));\n            }\n          }\n        });\n      } else {\n        $('#emptyResultCartList').show();\n      }\n    }\n  });\n}\n\n// 관심상품\nfunction getWishList() {\n  $.ajax({\n    url: '/WishList?type=online&pageSize=5&pageNumber=' + wishListCurrentPage,\n    method: 'GET',\n    data: '{}',\n    dataType: 'JSON',\n    success: function success(data) {\n      if (data.results && data.results.length > 0) {\n        $('#emptyResultWishList').hide();\n        $('#resultWishListWrapper').show();\n        $.each(data.results, function (index, element) {\n          var filter = {\n            price: element.product.price.price,\n            wishPrice: element.product.price.wishPrice,\n            formattedPrice: element.product.price.formattedPrice,\n            formattedWishPrice: element.product.price.formattedWishPrice,\n            isDiscount: element.product.price.wishPrice > element.product.price.price,\n            symbol: element.product.price.symbol\n          };\n          element.filter = filter;\n          element.viewType = 'wishlist';\n          if (wishListCurrentPage == 1 && index == 0) {\n            $('#resultWishListWrapper .prod-list').html(searchProductItemTemplate(element));\n          } else {\n            $('#resultWishListWrapper .prod-list').append(searchProductItemTemplate(element));\n          }\n        });\n        if (data.page.totalCount <= 5 * wishListCurrentPage) {\n          $('#resultWishListWrapper .prod-more').hide();\n        }\n      } else {\n        if (wishListCurrentPage > 1) {\n          alert('더이상 조회내용이 없습니다.');\n          $('#resultWishListWrapper .prod-more').hide();\n        } else {\n          $('#emptyResultWishList').show();\n        }\n      }\n    },\n    error: function error() {\n      $('#emptyResultWishList').show();\n    }\n  });\n}\n// UI\n\nvar hide = function hide() {\n  if (!isPage) {\n    popupManager.pop();\n  }\n};\n\nvar getSearchProductPopup = function getSearchProductPopup() {\n  if (popup) {\n    return popup;\n  }\n\n  popup = $(searchProductPopupTemplate({}));\n\n  // 팝업 닫기\n  $('.close-btn', popup).on('click', function () {\n    if (isPage) {\n      $pt.navigation.pop();\n    } else {\n      hide();\n      callback.cancel();\n    }\n  });\n\n  // 이벤트 바인딩\n\n  // 주문상품 기간 선택\n  $('#periodTab li a', popup).click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    $('#periodTab > li', popup).removeClass('on');\n    $this.parent().addClass('on');\n    getOrderList();\n  });\n\n  // 주문상품 더보기\n  $('#resultOrderListWrapper .prod-more', popup).click(function (e) {\n    e.preventDefault();\n\n    orderListCurrentPage++;\n    getOrderList();\n    selectedProductTabs.push('order');\n  });\n\n  // 카트 더보기\n  $('#resultCartListWrapper .prod-more', popup).click(function (e) {\n    e.preventDefault();\n\n    cartListCurrentPage++;\n    getCartList();\n    selectedProductTabs.push('cart');\n  });\n\n  // 관심상품 더보기\n  $('#resultWishListWrapper .prod-more', popup).click(function (e) {\n    e.preventDefault();\n\n    wishListCurrentPage++;\n    getWishList();\n    selectedProductTabs.push('wishList');\n  });\n\n  //  주문, 장바구니, 관심상품 탭 선택\n  $('#productTypeTabs a', popup).click(function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n\n    $('#productTypeTabs > li').removeClass('on');\n    var productType = $this.data('productType');\n    $this.parent().addClass('on');\n\n    if (productType == 'order') {\n      $('#periodTab').show();\n    } else if (productType == 'cart') {\n      $('#periodTab').hide();\n      if (!selectedProductTabs.includes('cart')) {\n        selectedProductTabs.push('cart');\n        getCartList();\n      }\n    } else if (productType == 'wishList') {\n      $('#periodTab').hide();\n      if (!selectedProductTabs.includes('wishList')) {\n        selectedProductTabs.push('wishList');\n        getWishList();\n      }\n    }\n  });\n\n  $('.cs-depth3 ul>li', popup).click(function (e) {\n    var $this = $(e.currentTarget);\n    var tabnum = $this.index();\n    $this.addClass('on').siblings('li').removeClass('on');\n    $('.search-prod').children('.tab').hide();\n    $('.tab' + tabnum).show();\n    return false;\n  });\n\n  // 관심상품\n\n  // 상품 선택\n  $('.tab', popup).on('click', '.selectProductBtn', function (e) {\n    e.preventDefault();\n    var dataEle = $(e.currentTarget).parents('li');\n\n    var productCode = dataEle.data('productCode');\n    var productImg = dataEle.data('productImg');\n    var productName = dataEle.data('productName');\n    var productDiscount = dataEle.data('productDiscount');\n    var productPrice = dataEle.data('productPrice');\n    var productIsDiscount = dataEle.data('productIsdiscount');\n    var orderNumber = dataEle.data('orderNumber');\n    var productSupplierName = dataEle.data('productSupplierName');\n    callback.success({\n      orderNumber: orderNumber,\n      productCode: productCode,\n      productName: productName,\n      productImg: productImg,\n      productIsDiscount: productIsDiscount,\n      productDiscount: productDiscount,\n      productPrice: productPrice,\n      productSupplierName: productSupplierName\n    });\n    hide();\n  });\n\n  $('body').append(popup);\n\n  return popup;\n};\n\nvar init = function init() {\n  orderListCurrentPage = 1;\n  getOrderList();\n};\n\n/**\n *\n * @param cb - success(firstName, postalCode, fullAddress(line1), cellPhone, phone)\n *           - cancel()\n */\nvar show = function show(pm, cb) {\n  var _isPage = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  isPage = _isPage;\n  popupManager = pm;\n  if (isPage) {\n    getSearchProductPopup();\n  } else {\n    popupManager.push(getSearchProductPopup(), { bodyClassName: 'gray-bg' });\n  }\n  callback = Object.assign({}, { success: function success() {}, cancel: function cancel() {} }, cb);\n\n  init();\n};\n\nexports.default = { show: show };\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL21vYmlsZS9jb21wb25lbnQvc2VhcmNoLXByb2R1Y3QuanM/M2RiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgc2VhcmNoUHJvZHVjdFBvcHVwIGZyb20gJy4vc2VhcmNoLXByb2R1Y3QtcG9wdXAuaGJzJztcbmltcG9ydCBzZWFyY2hQcm9kdWN0SXRlbSBmcm9tICcuL3NlYXJjaC1wcm9kdWN0LWl0ZW0uaGJzJztcblxuY29uc3Qgc2VhcmNoUHJvZHVjdFBvcHVwVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoc2VhcmNoUHJvZHVjdFBvcHVwKTtcbmNvbnN0IHNlYXJjaFByb2R1Y3RJdGVtVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoc2VhcmNoUHJvZHVjdEl0ZW0pO1xubGV0IHBvcHVwTWFuYWdlciA9IG51bGw7XG5sZXQgcG9wdXAgPSBudWxsO1xubGV0IGlzUGFnZSA9IGZhbHNlO1xubGV0IGNhbGxiYWNrID0ge307XG5cbmxldCBvcmRlckxpc3RDdXJyZW50UGFnZSA9IDE7XG5jb25zdCBzZWxlY3RlZFByb2R1Y3RUYWJzID0gW107XG5cbmxldCBjYXJ0TGlzdEN1cnJlbnRQYWdlID0gMTtcbmNvbnN0IGNhcnRMaXN0UGFnZVNpemUgPSA1O1xuXG5sZXQgd2lzaExpc3RDdXJyZW50UGFnZSA9IDE7XG5cbi8vIERhdGFcbi8vIOyjvOusuCDsg4Htkogg7KGw7ZqMXG5mdW5jdGlvbiBnZXRPcmRlckxpc3QoKSB7XG4gIGNvbnN0IGVuZERhdGUgPSBtb21lbnQoKTtcbiAgbGV0IHN0YXJ0RGF0ZSA9IG1vbWVudChlbmREYXRlKS5hZGQoLTEsICdNJyk7XG4gIGxldCBzZWFyY2hQZXJpb2REYXlzID0gJCgnI3BlcmlvZFRhYiAub24gPiBhJykuZGF0YSgnc2VhcmNoUGVyaW9kJyk7XG5cbiAgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gMzApIHtcbiAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0xLCAnTScpO1xuICB9IGVsc2UgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gOTApIHtcbiAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0zLCAnTScpO1xuICB9IGVsc2UgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gMzY1KSB7XG4gICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ1knKTtcbiAgfVxuXG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyksXG4gICAgZW5kRGF0ZTogZW5kRGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyksXG4gICAgcmVxdWVzdFR5cGU6IDMwLFxuICAgIHBhZ2VTaXplOiA0LFxuICAgIGN1cnJlbnRQYWdlOiBvcmRlckxpc3RDdXJyZW50UGFnZSxcbiAgfTtcblxuICAkLmFqYXgoe1xuICAgIHVybDogJy9PcmRlci9Db25zaWdubWVudEVudHJpZXM/cGFnZVNpemU9NScsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBkYXRhOiBwYXJhbXMsXG4gICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEucmVzdWx0cyAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcjZW1wdHlSZXN1bHRPcmRlckxpc3QnKS5oaWRlKCk7XG4gICAgICAgICQoJyNyZXN1bHRPcmRlckxpc3RXcmFwcGVyJykuc2hvdygpO1xuXG4gICAgICAgICQuZWFjaChkYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICQuZWFjaChlbGVtZW50Lml0ZW1zLCAoaW5kZXgyLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmRlckl0ZW0gPSBpdGVtO1xuICAgICAgICAgICAgb3JkZXJJdGVtLm9yZGVyTnVtYmVyID0gZWxlbWVudC5vcmRlck51bWJlcjtcbiAgICAgICAgICAgIG9yZGVySXRlbS5vcmRlckNyZWF0ZWREYXRlID0gZWxlbWVudC5jcmVhdGVkRGF0ZTtcblxuICAgICAgICAgICAgaWYgKG9yZGVyTGlzdEN1cnJlbnRQYWdlID09IDEgJiYgaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAkKCcjcmVzdWx0T3JkZXJMaXN0V3JhcHBlciAucHJvZC1saXN0JykuaHRtbChzZWFyY2hQcm9kdWN0SXRlbVRlbXBsYXRlKG9yZGVySXRlbSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJCgnI3Jlc3VsdE9yZGVyTGlzdFdyYXBwZXIgLnByb2QtbGlzdCcpLmFwcGVuZChzZWFyY2hQcm9kdWN0SXRlbVRlbXBsYXRlKG9yZGVySXRlbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvcmRlckxpc3RDdXJyZW50UGFnZSA+IDEpIHtcbiAgICAgICAgICBhbGVydCgn642U7J207IOBIOyhsO2ajOuCtOyaqeydtCDsl4bsirXri4jri6QuJyk7XG4gICAgICAgICAgJCgnI3Jlc3VsdE9yZGVyTGlzdFdyYXBwZXIgLnByb2QtbW9yZScpLmhpZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcjcmVzdWx0T3JkZXJMaXN0V3JhcHBlcicpLmhpZGUoKTtcbiAgICAgICAgICAkKCcjZW1wdHlSZXN1bHRPcmRlckxpc3QnKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cblxuLy8g7Lm07Yq4IOyhsO2ajFxuZnVuY3Rpb24gZ2V0Q2FydExpc3QoKSB7XG4gICQuYWpheCh7XG4gICAgdXJsOiAnL0NhcnQnLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgZGF0YTogJ3t9JyxcbiAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnI2VtcHR5UmVzdWx0Q2FydExpc3QnKS5oaWRlKCk7XG4gICAgICAgICQoJyNyZXN1bHRDYXJ0TGlzdFdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgIGlmIChkYXRhLml0ZW1zLmxlbmd0aCA8IChjYXJ0TGlzdEN1cnJlbnRQYWdlICogY2FydExpc3RQYWdlU2l6ZSkpIHtcbiAgICAgICAgICAkKCcjcmVzdWx0Q2FydExpc3RXcmFwcGVyIC5wcm9kLW1vcmUnKS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAkLmVhY2goZGF0YS5pdGVtcywgKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgKGNhcnRMaXN0Q3VycmVudFBhZ2UgKiBjYXJ0TGlzdFBhZ2VTaXplKSkge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyID0ge1xuICAgICAgICAgICAgICBwcmljZTogZWxlbWVudC50b3RhbEJhc2VQcmljZS5wcmljZSxcbiAgICAgICAgICAgICAgd2lzaFByaWNlOiBlbGVtZW50LnRvdGFsV2lzaFByaWNlLnByaWNlLFxuICAgICAgICAgICAgICBmb3JtYXR0ZWRQcmljZTogZWxlbWVudC50b3RhbEJhc2VQcmljZS5mb3JtYXR0ZWRQcmljZSxcbiAgICAgICAgICAgICAgZm9ybWF0dGVkV2lzaFByaWNlOiBlbGVtZW50LnRvdGFsV2lzaFByaWNlLmZvcm1hdHRlZFByaWNlLFxuICAgICAgICAgICAgICBpc0Rpc2NvdW50OiBlbGVtZW50LnRvdGFsV2lzaFByaWNlLnByaWNlID4gZWxlbWVudC50b3RhbEJhc2VQcmljZS5wcmljZSxcbiAgICAgICAgICAgICAgc3ltYm9sOiBlbGVtZW50LnRvdGFsQmFzZVByaWNlLnN5bWJvbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnQuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICAgICAgJCgnI3Jlc3VsdENhcnRMaXN0V3JhcHBlciAucHJvZC1saXN0JykuaHRtbChzZWFyY2hQcm9kdWN0SXRlbVRlbXBsYXRlKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJyNyZXN1bHRDYXJ0TGlzdFdyYXBwZXIgLnByb2QtbGlzdCcpLmFwcGVuZChzZWFyY2hQcm9kdWN0SXRlbVRlbXBsYXRlKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnI2VtcHR5UmVzdWx0Q2FydExpc3QnKS5zaG93KCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG5cbi8vIOq0gOyLrOyDge2SiFxuZnVuY3Rpb24gZ2V0V2lzaExpc3QoKSB7XG4gICQuYWpheCh7XG4gICAgdXJsOiAnL1dpc2hMaXN0P3R5cGU9b25saW5lJnBhZ2VTaXplPTUmcGFnZU51bWJlcj0nK3dpc2hMaXN0Q3VycmVudFBhZ2UsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBkYXRhOiAne30nLFxuICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnI2VtcHR5UmVzdWx0V2lzaExpc3QnKS5oaWRlKCk7XG4gICAgICAgICQoJyNyZXN1bHRXaXNoTGlzdFdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICQuZWFjaChkYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbHRlciA9IHtcbiAgICAgICAgICAgIHByaWNlOiBlbGVtZW50LnByb2R1Y3QucHJpY2UucHJpY2UsXG4gICAgICAgICAgICB3aXNoUHJpY2U6IGVsZW1lbnQucHJvZHVjdC5wcmljZS53aXNoUHJpY2UsXG4gICAgICAgICAgICBmb3JtYXR0ZWRQcmljZTogZWxlbWVudC5wcm9kdWN0LnByaWNlLmZvcm1hdHRlZFByaWNlLFxuICAgICAgICAgICAgZm9ybWF0dGVkV2lzaFByaWNlOiBlbGVtZW50LnByb2R1Y3QucHJpY2UuZm9ybWF0dGVkV2lzaFByaWNlLFxuICAgICAgICAgICAgaXNEaXNjb3VudDogZWxlbWVudC5wcm9kdWN0LnByaWNlLndpc2hQcmljZSA+IGVsZW1lbnQucHJvZHVjdC5wcmljZS5wcmljZSxcbiAgICAgICAgICAgIHN5bWJvbDogZWxlbWVudC5wcm9kdWN0LnByaWNlLnN5bWJvbFxuICAgICAgICAgIH07XG4gICAgICAgICAgZWxlbWVudC5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgICAgZWxlbWVudC52aWV3VHlwZSA9ICd3aXNobGlzdCc7XG4gICAgICAgICAgaWYgKHdpc2hMaXN0Q3VycmVudFBhZ2UgPT0gMSAmJiBpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAkKCcjcmVzdWx0V2lzaExpc3RXcmFwcGVyIC5wcm9kLWxpc3QnKS5odG1sKHNlYXJjaFByb2R1Y3RJdGVtVGVtcGxhdGUoZWxlbWVudCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjcmVzdWx0V2lzaExpc3RXcmFwcGVyIC5wcm9kLWxpc3QnKS5hcHBlbmQoc2VhcmNoUHJvZHVjdEl0ZW1UZW1wbGF0ZShlbGVtZW50KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRhdGEucGFnZS50b3RhbENvdW50IDw9ICg1ICogd2lzaExpc3RDdXJyZW50UGFnZSkpIHtcbiAgICAgICAgICAkKCcjcmVzdWx0V2lzaExpc3RXcmFwcGVyIC5wcm9kLW1vcmUnKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh3aXNoTGlzdEN1cnJlbnRQYWdlID4gMSkge1xuICAgICAgICAgIGFsZXJ0KCfrjZTsnbTsg4Eg7KGw7ZqM64K07Jqp7J20IOyXhuyKteuLiOuLpC4nKTtcbiAgICAgICAgICAkKCcjcmVzdWx0V2lzaExpc3RXcmFwcGVyIC5wcm9kLW1vcmUnKS5oaWRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnI2VtcHR5UmVzdWx0V2lzaExpc3QnKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAkKCcjZW1wdHlSZXN1bHRXaXNoTGlzdCcpLnNob3coKTtcbiAgICB9LFxuICB9KTtcbn1cbi8vIFVJXG5cbmNvbnN0IGhpZGUgPSAoKSA9PiB7XG4gIGlmICghaXNQYWdlKSB7XG4gICAgcG9wdXBNYW5hZ2VyLnBvcCgpO1xuICB9XG59O1xuXG5jb25zdCBnZXRTZWFyY2hQcm9kdWN0UG9wdXAgPSAoKSA9PiB7XG4gIGlmIChwb3B1cCkge1xuICAgIHJldHVybiBwb3B1cDtcbiAgfVxuXG4gIHBvcHVwID0gJChzZWFyY2hQcm9kdWN0UG9wdXBUZW1wbGF0ZSh7fSkpO1xuXG4gIC8vIO2MneyXhSDri6vquLBcbiAgJCgnLmNsb3NlLWJ0bicsIHBvcHVwKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGlzUGFnZSkge1xuICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGUoKTtcbiAgICAgIGNhbGxiYWNrLmNhbmNlbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g7J2067Kk7Yq4IOuwlOyduOuUqVxuXG4gIC8vIOyjvOusuOyDge2SiCDquLDqsIQg7ISg7YOdXG4gICQoJyNwZXJpb2RUYWIgbGkgYScsIHBvcHVwKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkKCcjcGVyaW9kVGFiID4gbGknLCBwb3B1cCkucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ29uJyk7XG4gICAgZ2V0T3JkZXJMaXN0KCk7XG4gIH0pO1xuXG4gIC8vIOyjvOusuOyDge2SiCDrjZTrs7TquLBcbiAgJCgnI3Jlc3VsdE9yZGVyTGlzdFdyYXBwZXIgLnByb2QtbW9yZScsIHBvcHVwKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIG9yZGVyTGlzdEN1cnJlbnRQYWdlKys7XG4gICAgZ2V0T3JkZXJMaXN0KCk7XG4gICAgc2VsZWN0ZWRQcm9kdWN0VGFicy5wdXNoKCdvcmRlcicpO1xuICB9KTtcblxuICAvLyDsubTtirgg642U67O06riwXG4gICQoJyNyZXN1bHRDYXJ0TGlzdFdyYXBwZXIgLnByb2QtbW9yZScsIHBvcHVwKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNhcnRMaXN0Q3VycmVudFBhZ2UrKztcbiAgICBnZXRDYXJ0TGlzdCgpO1xuICAgIHNlbGVjdGVkUHJvZHVjdFRhYnMucHVzaCgnY2FydCcpO1xuICB9KTtcblxuICAvLyDqtIDsi6zsg4Htkogg642U67O06riwXG4gICQoJyNyZXN1bHRXaXNoTGlzdFdyYXBwZXIgLnByb2QtbW9yZScsIHBvcHVwKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHdpc2hMaXN0Q3VycmVudFBhZ2UrKztcbiAgICBnZXRXaXNoTGlzdCgpO1xuICAgIHNlbGVjdGVkUHJvZHVjdFRhYnMucHVzaCgnd2lzaExpc3QnKTtcbiAgfSk7XG5cbiAgLy8gIOyjvOusuCwg7J6l67CU6rWs64uILCDqtIDsi6zsg4Htkogg7YOtIOyEoO2DnVxuICAkKCcjcHJvZHVjdFR5cGVUYWJzIGEnLCBwb3B1cCkuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgICQoJyNwcm9kdWN0VHlwZVRhYnMgPiBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIGNvbnN0IHByb2R1Y3RUeXBlID0gJHRoaXMuZGF0YSgncHJvZHVjdFR5cGUnKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnb24nKTtcblxuICAgIGlmIChwcm9kdWN0VHlwZSA9PSAnb3JkZXInKSB7XG4gICAgICAkKCcjcGVyaW9kVGFiJykuc2hvdygpO1xuICAgIH0gZWxzZSBpZiAocHJvZHVjdFR5cGUgPT0gJ2NhcnQnKSB7XG4gICAgICAkKCcjcGVyaW9kVGFiJykuaGlkZSgpO1xuICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RUYWJzLmluY2x1ZGVzKCdjYXJ0JykpIHtcbiAgICAgICAgc2VsZWN0ZWRQcm9kdWN0VGFicy5wdXNoKCdjYXJ0Jyk7XG4gICAgICAgIGdldENhcnRMaXN0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9kdWN0VHlwZSA9PSAnd2lzaExpc3QnKSB7XG4gICAgICAkKCcjcGVyaW9kVGFiJykuaGlkZSgpO1xuICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RUYWJzLmluY2x1ZGVzKCd3aXNoTGlzdCcpKSB7XG4gICAgICAgIHNlbGVjdGVkUHJvZHVjdFRhYnMucHVzaCgnd2lzaExpc3QnKTtcbiAgICAgICAgZ2V0V2lzaExpc3QoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoJy5jcy1kZXB0aDMgdWw+bGknLCBwb3B1cCkuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCB0YWJudW0gPSAkdGhpcy5pbmRleCgpO1xuICAgICR0aGlzLmFkZENsYXNzKCdvbicpLnNpYmxpbmdzKCdsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICQoJy5zZWFyY2gtcHJvZCcpLmNoaWxkcmVuKCcudGFiJykuaGlkZSgpO1xuICAgICQoYC50YWIke3RhYm51bX1gKS5zaG93KCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAvLyDqtIDsi6zsg4HtkohcblxuICAvLyDsg4Htkogg7ISg7YOdXG4gICQoJy50YWInLCBwb3B1cCkub24oJ2NsaWNrJywgJy5zZWxlY3RQcm9kdWN0QnRuJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZGF0YUVsZSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCdsaScpO1xuXG4gICAgY29uc3QgcHJvZHVjdENvZGUgPSBkYXRhRWxlLmRhdGEoJ3Byb2R1Y3RDb2RlJyk7XG4gICAgY29uc3QgcHJvZHVjdEltZyA9IGRhdGFFbGUuZGF0YSgncHJvZHVjdEltZycpO1xuICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gZGF0YUVsZS5kYXRhKCdwcm9kdWN0TmFtZScpO1xuICAgIGNvbnN0IHByb2R1Y3REaXNjb3VudCA9IGRhdGFFbGUuZGF0YSgncHJvZHVjdERpc2NvdW50Jyk7XG4gICAgY29uc3QgcHJvZHVjdFByaWNlID0gZGF0YUVsZS5kYXRhKCdwcm9kdWN0UHJpY2UnKTtcbiAgICBjb25zdCBwcm9kdWN0SXNEaXNjb3VudCA9IGRhdGFFbGUuZGF0YSgncHJvZHVjdElzZGlzY291bnQnKTtcbiAgICBjb25zdCBvcmRlck51bWJlciA9IGRhdGFFbGUuZGF0YSgnb3JkZXJOdW1iZXInKTtcbiAgICBjb25zdCBwcm9kdWN0U3VwcGxpZXJOYW1lID0gZGF0YUVsZS5kYXRhKCdwcm9kdWN0U3VwcGxpZXJOYW1lJyk7XG4gICAgY2FsbGJhY2suc3VjY2Vzcyh7XG4gICAgICBvcmRlck51bWJlcixcbiAgICAgIHByb2R1Y3RDb2RlLFxuICAgICAgcHJvZHVjdE5hbWUsXG4gICAgICBwcm9kdWN0SW1nLFxuICAgICAgcHJvZHVjdElzRGlzY291bnQsXG4gICAgICBwcm9kdWN0RGlzY291bnQsXG4gICAgICBwcm9kdWN0UHJpY2UsXG4gICAgICBwcm9kdWN0U3VwcGxpZXJOYW1lLFxuICAgIH0pO1xuICAgIGhpZGUoKTtcbiAgfSk7XG5cbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cCk7XG5cbiAgcmV0dXJuIHBvcHVwO1xufTtcblxuY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgb3JkZXJMaXN0Q3VycmVudFBhZ2UgPSAxO1xuICBnZXRPcmRlckxpc3QoKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBjYiAtIHN1Y2Nlc3MoZmlyc3ROYW1lLCBwb3N0YWxDb2RlLCBmdWxsQWRkcmVzcyhsaW5lMSksIGNlbGxQaG9uZSwgcGhvbmUpXG4gKiAgICAgICAgICAgLSBjYW5jZWwoKVxuICovXG5jb25zdCBzaG93ID0gKHBtLCBjYiwgX2lzUGFnZSA9IGZhbHNlKSA9PiB7XG4gIGlzUGFnZSA9IF9pc1BhZ2U7XG4gIHBvcHVwTWFuYWdlciA9IHBtO1xuICBpZiAoaXNQYWdlKSB7XG4gICAgZ2V0U2VhcmNoUHJvZHVjdFBvcHVwKCk7XG4gIH0gZWxzZSB7XG4gICAgcG9wdXBNYW5hZ2VyLnB1c2goZ2V0U2VhcmNoUHJvZHVjdFBvcHVwKCksIHsgYm9keUNsYXNzTmFtZTogJ2dyYXktYmcnIH0pO1xuICB9XG4gIGNhbGxiYWNrID0gT2JqZWN0LmFzc2lnbih7fSwgeyBzdWNjZXNzOiAoKSA9PiB7fSwgY2FuY2VsOiAoKSA9PiB7fSB9LCBjYik7XG5cbiAgaW5pdCgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBzaG93IH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9jb21wb25lbnQvc2VhcmNoLXByb2R1Y3QuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhDQTtBQWtDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQ0E7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeENBO0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///83\n");

/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _imageViewerPopup = __webpack_require__(164);\n\nvar _imageViewerPopup2 = _interopRequireDefault(_imageViewerPopup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar imageViewerPopupTemplate = Handlebars.compile(_imageViewerPopup2.default);\n\nvar popupManager = null;\nvar imagePath = null;\nvar popup = null;\n\nvar hide = function hide() {\n  popupManager.pop();\n};\n\nvar getImageViewerPopup = function getImageViewerPopup() {\n  if (popup) {\n    popup.remove();\n  }\n\n  popup = $(imageViewerPopupTemplate({ imagePath: imagePath }));\n\n  // 팝업 닫기\n  $('.close-btn', popup).on('click', hide);\n\n  $('body').append(popup);\n\n  // 이미지 줌\n  // iOS 최신버전에서 확대가 막히지 않아 일단 적용 보류\n  // $('.image-wrapper', popup).pinchZoom();\n\n  return popup;\n};\n\nvar show = function show(pm, ip) {\n  popupManager = pm;\n  imagePath = ip;\n  popupManager.push(getImageViewerPopup(), { bodyClassName: 'white-bg' });\n};\n\nexports.default = { show: show };\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2ViL3dlYnBhY2sva29wL21vYmlsZS9jb21wb25lbnQvaW1hZ2Utdmlld2VyLmpzP2I3ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGltYWdlVmlld2VyUG9wdXAgZnJvbSAnLi9pbWFnZS12aWV3ZXItcG9wdXAuaGJzJztcblxuY29uc3QgaW1hZ2VWaWV3ZXJQb3B1cFRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKGltYWdlVmlld2VyUG9wdXApO1xuXG5sZXQgcG9wdXBNYW5hZ2VyID0gbnVsbDtcbmxldCBpbWFnZVBhdGggPSBudWxsO1xubGV0IHBvcHVwID0gbnVsbDtcblxuY29uc3QgaGlkZSA9ICgpID0+IHtcbiAgcG9wdXBNYW5hZ2VyLnBvcCgpO1xufTtcblxuY29uc3QgZ2V0SW1hZ2VWaWV3ZXJQb3B1cCA9ICgpID0+IHtcbiAgaWYgKHBvcHVwKSB7XG4gICAgcG9wdXAucmVtb3ZlKCk7XG4gIH1cblxuICBwb3B1cCA9ICQoaW1hZ2VWaWV3ZXJQb3B1cFRlbXBsYXRlKHsgaW1hZ2VQYXRoIH0pKTtcblxuICAvLyDtjJ3sl4Ug64ur6riwXG4gICQoJy5jbG9zZS1idG4nLCBwb3B1cCkub24oJ2NsaWNrJywgaGlkZSk7XG5cbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cCk7XG5cbiAgLy8g7J2066+47KeAIOykjFxuICAvLyBpT1Mg7LWc7Iug67KE7KCE7JeQ7IScIO2ZleuMgOqwgCDrp4ntnojsp4Ag7JWK7JWEIOydvOuLqCDsoIHsmqkg67O066WYXG4gIC8vICQoJy5pbWFnZS13cmFwcGVyJywgcG9wdXApLnBpbmNoWm9vbSgpO1xuXG4gIHJldHVybiBwb3B1cDtcbn07XG5cbmNvbnN0IHNob3cgPSAocG0sIGlwKSA9PiB7XG4gIHBvcHVwTWFuYWdlciA9IHBtO1xuICBpbWFnZVBhdGggPSBpcDtcbiAgcG9wdXBNYW5hZ2VyLnB1c2goZ2V0SW1hZ2VWaWV3ZXJQb3B1cCgpLCB7IGJvZHlDbGFzc05hbWU6ICd3aGl0ZS1iZycgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IHNob3cgfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL2NvbXBvbmVudC9pbWFnZS12aWV3ZXIuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///84\n");

/***/ }),
/* 85 */,
/* 86 */,
/* 87 */,
/* 88 */,
/* 89 */,
/* 90 */,
/* 91 */,
/* 92 */,
/* 93 */,
/* 94 */,
/* 95 */,
/* 96 */,
/* 97 */,
/* 98 */,
/* 99 */,
/* 100 */,
/* 101 */,
/* 102 */,
/* 103 */,
/* 104 */,
/* 105 */,
/* 106 */,
/* 107 */,
/* 108 */,
/* 109 */,
/* 110 */,
/* 111 */,
/* 112 */,
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(114);


/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n__webpack_require__(36);\n\nvar _CartCount = __webpack_require__(16);\n\nvar _CartCount2 = _interopRequireDefault(_CartCount);\n\n__webpack_require__(37);\n\n__webpack_require__(46);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint import/no-extraneous-dependencies: \"off\" */\n/* eslint import/no-webpack-loader-syntax: \"off\" */\n__webpack_require__(22); // client(browser)에서 사용할 스크립트를 정의합니다.\n\n__webpack_require__(13);\n__webpack_require__(47);\n__webpack_require__(3);\n__webpack_require__(49);\n__webpack_require__(50);\n__webpack_require__(51);\n__webpack_require__(52);\n__webpack_require__(115);\n\n$.ajaxSetup({ cache: false });\n\n// default validation option\n$.validator.setDefaults({\n  onkeyup: false,\n  onclick: false,\n  onfocusout: false,\n  lang: 'ko',\n  normalizer: function normalizer(value) {\n    return $.trim(value);\n  },\n  showErrors: function showErrors(errorMap, errorList) {\n    if (errorList.length < 1) {\n      return;\n    }\n    alert(errorList[0].message);\n  }\n});\n\n$.validator.addMethod('cellPhoneNumberFormat', function (mobileNumber, element) {\n  return this.optional(element) || mobileNumber.match(/^01([0|1|6|7|8|9]?)([0-9]{3,4})([0-9]{4})$/);\n}, '올바른 형식의 휴대폰 번호를 입력해주세요.');\n\n$.validator.addMethod('phoneNumberFormat', function (phoneNumber, element) {\n  return this.optional(element) || phoneNumber.match(/^\\d{2,3}\\d{3,4}\\d{4}$/);\n}, '올바른 형식의 전화 번호를 입력해주세요.');\n\n$.validator.addMethod('denySpecialCharacter', function (character, element) {\n  return this.optional(element) || !character.match(/[~!@\\#$%<>^&*\\()\\-=+_\\’]/gi);\n}, '특수문자는 입력할 수 없습니다.');\n\n$.validator.addMethod('greaterThan', function (value, element, params) {\n  if (!/Invalid|NaN/.test(new Date(value))) {\n    return new Date(value) > new Date($(params).val());\n  }\n  return isNaN(value) && isNaN($(params).val()) || Number(value) > Number($(params).val());\n}, '{0} 날짜보다 이전 날짜를 넣어 주세요.');\n\n$.validator.addMethod('greaterThanTargetDate', function (value, element, params) {\n  if (!/Invalid|NaN/.test(new Date(value))) {\n    return new Date(value) > new Date(params);\n  }\n  console.log('params : ' + params);\n  return isNaN(value) && isNaN(params) || Number(value) > Number(params);\n}, '{0} 날짜보다 이후 날짜를 넣어 주세요.');\n\n$.validator.addMethod('lessThanToday', function (value, element) {\n  return this.optional(element) || new Date() > new Date(value);\n}, '오늘 이전 날짜를 넣어 주세요.');\n\nvar getCartCount = function getCartCount() {\n  $.getJSON('/Cart/Count', function (data) {\n    if (data) {\n      (0, _CartCount2.default)(data.cartCount);\n    } else {\n      (0, _CartCount2.default)(0);\n    }\n  });\n};\n\nvar preloadImage = function preloadImage() {\n  var images = ['/_ui/img/m/icn/icn-check01.png', '/_ui/img/m/icn/icn-check02.png', '/_ui/img/m/icn/icn-check03-off.png', '/_ui/img/m/icn/icn-check03.png', '/_ui/img/m/icn/icn-check04-on.png', '/_ui/img/m/icn/icn-check04.png', '/_ui/img/m/icn/icn-check05.png', '/_ui/img/m/icn/icn-check06.png', '/_ui/img/m/icn/icn-check07-on.png', '/_ui/img/m/icn/icn-check07.png', '/_ui/img/m/icn/icn-check10-1.png', '/_ui/img/m/icn/icn-check10.png'];\n  images.forEach(function (image) {\n    var img = document.createElement('img');\n    img.src = image;\n  });\n};\n\ngetCartCount();\n$(function () {\n  return preloadImage();\n});\n\n// require all sub directories\nvar requireAll = function requireAll(r) {\n  r.keys().forEach(r);\n};\nrequireAll(__webpack_require__(116));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUuanM/MTc3OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjbGllbnQoYnJvd3Nlcinsl5DshJwg7IKs7Jqp7ZWgIOyKpO2BrOumve2KuOulvCDsoJXsnZjtlanri4jri6QuXG5pbXBvcnQgJy4vY29tbW9uL2dsb2JhbCc7XG5pbXBvcnQgdXBkYXRlQ2FydENvdW50IGZyb20gJy4vY29tbW9uL0NhcnRDb3VudCc7XG5pbXBvcnQgJy4vY29tbW9uL1NoYXJlQnRuJztcblxuLyogZXNsaW50IGltcG9ydC9uby1leHRyYW5lb3VzLWRlcGVuZGVuY2llczogXCJvZmZcIiAqL1xuLyogZXNsaW50IGltcG9ydC9uby13ZWJwYWNrLWxvYWRlci1zeW50YXg6IFwib2ZmXCIgKi9cbnJlcXVpcmUoJ2V4cG9zZS1sb2FkZXI/JCFleHBvc2UtbG9hZGVyP2pRdWVyeSFqcXVlcnknKTtcbnJlcXVpcmUoJ2pxdWVyeS12YWxpZGF0aW9uJyk7XG5yZXF1aXJlKCdleHBvc2UtbG9hZGVyP0xhZGRhIWxhZGRhJyk7XG5yZXF1aXJlKCdtb21lbnQnKTtcbnJlcXVpcmUoJ2pxdWVyeS11aScpO1xucmVxdWlyZSgnLi9saWIvanF1ZXJ5LXVpL2pxdWVyeS11aScpO1xucmVxdWlyZSgnLi9saWIvcHVycGxlLXRvdWNoJyk7XG5yZXF1aXJlKCcuL2xpYi9wdXJwbGUtdG91Y2gtaGVscGVyJyk7XG5yZXF1aXJlKCcuL2xpYi9qcXVlcnkucGluY2hab29tJyk7XG5cbmltcG9ydCAnanF1ZXJ5LXZhbGlkYXRpb24vZGlzdC9sb2NhbGl6YXRpb24vbWVzc2FnZXNfa28nO1xuXG4kLmFqYXhTZXR1cCh7IGNhY2hlOiBmYWxzZSB9KTtcblxuLy8gZGVmYXVsdCB2YWxpZGF0aW9uIG9wdGlvblxuJC52YWxpZGF0b3Iuc2V0RGVmYXVsdHMoe1xuICBvbmtleXVwOiBmYWxzZSxcbiAgb25jbGljazogZmFsc2UsXG4gIG9uZm9jdXNvdXQ6IGZhbHNlLFxuICBsYW5nOiAna28nLFxuICBub3JtYWxpemVyOiAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gJC50cmltKHZhbHVlKTtcbiAgfSxcbiAgc2hvd0Vycm9yczogKGVycm9yTWFwLCBlcnJvckxpc3QpID0+IHtcbiAgICBpZiAoZXJyb3JMaXN0Lmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWxlcnQoZXJyb3JMaXN0WzBdLm1lc3NhZ2UpO1xuICB9LFxufSk7XG5cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCgnY2VsbFBob25lTnVtYmVyRm9ybWF0JywgZnVuY3Rpb24obW9iaWxlTnVtYmVyLCBlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IG1vYmlsZU51bWJlci5tYXRjaCgvXjAxKFswfDF8Nnw3fDh8OV0/KShbMC05XXszLDR9KShbMC05XXs0fSkkLyk7XG59LCAn7Jis67CU66W4IO2YleyLneydmCDtnLTrjIDtj7Ag67KI7Zi466W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcblxuJC52YWxpZGF0b3IuYWRkTWV0aG9kKCdwaG9uZU51bWJlckZvcm1hdCcsIGZ1bmN0aW9uKHBob25lTnVtYmVyLCBlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IHBob25lTnVtYmVyLm1hdGNoKC9eXFxkezIsM31cXGR7Myw0fVxcZHs0fSQvKTtcbn0sICfsmKzrsJTrpbgg7ZiV7Iud7J2YIOyghO2ZlCDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULicpO1xuXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoJ2RlbnlTcGVjaWFsQ2hhcmFjdGVyJywgZnVuY3Rpb24oY2hhcmFjdGVyLCBlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8ICFjaGFyYWN0ZXIubWF0Y2goL1t+IUBcXCMkJTw+XiYqXFwoKVxcLT0rX1xc4oCZXS9naSk7XG59LCAn7Yq57IiY66y47J6Q64qUIOyeheugpe2VoCDsiJgg7JeG7Iq164uI64ukLicpO1xuXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoJ2dyZWF0ZXJUaGFuJywgZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQsIHBhcmFtcykge1xuICBpZiAoIS9JbnZhbGlkfE5hTi8udGVzdChuZXcgRGF0ZSh2YWx1ZSkpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKSA+IG5ldyBEYXRlKCQocGFyYW1zKS52YWwoKSk7XG4gIH1cbiAgcmV0dXJuIGlzTmFOKHZhbHVlKSAmJiBpc05hTigkKHBhcmFtcykudmFsKCkpIHx8IChOdW1iZXIodmFsdWUpID4gTnVtYmVyKCQocGFyYW1zKS52YWwoKSkpO1xufSwgJ3swfSDrgqDsp5zrs7Tri6Qg7J207KCEIOuCoOynnOulvCDrhKPslrQg7KO87IS47JqULicpO1xuXG4kLnZhbGlkYXRvci5hZGRNZXRob2QoJ2dyZWF0ZXJUaGFuVGFyZ2V0RGF0ZScsIGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50LCBwYXJhbXMpIHtcbiAgaWYgKCEvSW52YWxpZHxOYU4vLnRlc3QobmV3IERhdGUodmFsdWUpKSkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSkgPiBuZXcgRGF0ZShwYXJhbXMpO1xuICB9XG4gIGNvbnNvbGUubG9nKCdwYXJhbXMgOiAnICtwYXJhbXMpO1xuICByZXR1cm4gaXNOYU4odmFsdWUpICYmIGlzTmFOKHBhcmFtcykgfHwgKE51bWJlcih2YWx1ZSkgPiBOdW1iZXIocGFyYW1zKSk7XG59LCAnezB9IOuCoOynnOuztOuLpCDsnbTtm4Qg64Kg7Kec66W8IOuEo+yWtCDso7zshLjsmpQuJyk7XG5cbiQudmFsaWRhdG9yLmFkZE1ldGhvZCgnbGVzc1RoYW5Ub2RheScsIGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IG5ldyBEYXRlKCkgPiBuZXcgRGF0ZSh2YWx1ZSk7XG59LCAn7Jik64qYIOydtOyghCDrgqDsp5zrpbwg64Sj7Ja0IOyjvOyEuOyalC4nKTtcblxuY29uc3QgZ2V0Q2FydENvdW50ID0gKCkgPT4ge1xuICAkLmdldEpTT04oJy9DYXJ0L0NvdW50JywgKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdXBkYXRlQ2FydENvdW50KGRhdGEuY2FydENvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlQ2FydENvdW50KDApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBwcmVsb2FkSW1hZ2UgPSAoKSA9PiB7XG4gIGNvbnN0IGltYWdlcyA9IFtcbiAgICAnL191aS9pbWcvbS9pY24vaWNuLWNoZWNrMDEucG5nJyxcbiAgICAnL191aS9pbWcvbS9pY24vaWNuLWNoZWNrMDIucG5nJyxcbiAgICAnL191aS9pbWcvbS9pY24vaWNuLWNoZWNrMDMtb2ZmLnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazAzLnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazA0LW9uLnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazA0LnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazA1LnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazA2LnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazA3LW9uLnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazA3LnBuZycsXG4gICAgJy9fdWkvaW1nL20vaWNuL2ljbi1jaGVjazEwLTEucG5nJyxcbiAgICAnL191aS9pbWcvbS9pY24vaWNuLWNoZWNrMTAucG5nJyxcbiAgXTtcbiAgaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiB7XG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nLnNyYyA9IGltYWdlO1xuICB9KTtcbn07XG5cbmdldENhcnRDb3VudCgpO1xuJCgoKSA9PiBwcmVsb2FkSW1hZ2UoKSk7XG5cbi8vIHJlcXVpcmUgYWxsIHN1YiBkaXJlY3Rvcmllc1xuY29uc3QgcmVxdWlyZUFsbCA9IChyKSA9PiB7IHIua2V5cygpLmZvckVhY2gocik7IH07XG5yZXF1aXJlQWxsKHJlcXVpcmUuY29udGV4dCgnLi9tb2JpbGUvJywgdHJ1ZSwgL1xcLmpzJC8pKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlLmpzIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBYUE7QUFDQTs7O0FBYkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///114\n");

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(jQuery) {\n\n/**\n * jQuery Pinch Zoom\n * Simple touch based pinch zoom library\n *\n * Licensed under the MIT license.\n * Copyright 2015 Chungsub Kim\n * https://github.com/subicura\n */\n\n;(function ($, window, document, undefined) {\n  \"use strict\";\n\n  var pluginName = \"pinchZoom\",\n      defaults = {\n    zoomBounceMin: 0.5,\n    zoomMin: 1.0,\n    zoomMax: 5.0,\n    zoomDiffScale: 3.0\n  };\n\n  function Plugin(element, options) {\n    this.element = $(element);\n    this.settings = $.extend({}, defaults, options);\n    this._defaults = defaults;\n    this._name = pluginName;\n    this.init();\n  }\n\n  $.extend(Plugin.prototype, {\n    pos: {\n      start: { x: null, y: null, distance: null }\n    },\n    scale: {\n      start: 1,\n      move: 1\n    },\n    translate: {\n      start: { x: 0, y: 0, z: 0 },\n      move: { x: 0, y: 0, z: 0 }\n    },\n    init: function init() {\n      this.element.on('touchstart', this.event.touchstart.bind(this)).css('transform-origin', '0 0');\n    },\n    getTransformCss: function getTransformCss() {\n      return 'translate3d(' + this.translate.move.x + 'px, ' + this.translate.move.y + 'px, ' + this.translate.move.z + 'px) scale(' + this.scale.move + ')';\n    },\n    getWrapperSize: function getWrapperSize() {\n      return { w: this.element.parent().width(), h: this.element.parent().height() };\n    },\n    getDistance: function getDistance(x1, y1, x2, y2) {\n      return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    },\n    event: {\n      touchstart: function touchstart(e) {\n        var touches = e.originalEvent.touches;\n\n        // set init value\n        if (touches.length == 1) {\n          this.pos.start = { x: touches[0].clientX, y: touches[0].clientY };\n        } else if (touches.length == 2) {\n          var center = { x: (touches[0].clientX + touches[1].clientX) / 2, y: (touches[0].clientY + touches[1].clientY) / 2 };\n          center.y -= this.element.parent().offset().top - $('body').scrollTop();\n          var distance = this.getDistance(touches[0].clientX, touches[0].clientY, touches[1].clientX, touches[1].clientY);\n          this.pos.start = { x: center.x, y: center.y, distance: distance };\n        }\n\n        // add event\n        this.element.on('touchmove', this.event.touchmove.bind(this)).on('touchend', this.event.touchend.bind(this));\n      },\n      touchmove: function touchmove(e) {\n        var touches = e.originalEvent.touches;\n        var width = this.getWrapperSize().w;\n        var height = this.getWrapperSize().h;\n\n        if (touches.length == 1) {\n          if (this.scale.start == 1) {\n            return;\n          }\n\n          var tmpX = this.translate.move.x - (this.pos.start.x - touches[0].clientX);\n          var tmpY = this.translate.move.y - (this.pos.start.y - touches[0].clientY);\n\n          if (tmpX < 0 && tmpX > -(width * (this.scale.start - 1)) && tmpY < 0 && tmpY > -(height * (this.scale.start - 1))) {\n            e.stopPropagation();\n            e.preventDefault();\n\n            this.translate.move.x = tmpX;\n            this.translate.move.y = tmpY;\n            this.pos.start = { x: touches[0].clientX, y: touches[0].clientY };\n\n            this.element.css('transform', this.getTransformCss());\n          }\n        } else if (touches.length == 2) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          var center = {\n            x: (touches[0].clientX + touches[1].clientX) / 2,\n            y: (touches[0].clientY + touches[1].clientY) / 2\n          };\n          center.y -= this.element.parent().offset().top - $('body').scrollTop();\n\n          var distance = this.getDistance(touches[0].clientX, touches[0].clientY, touches[1].clientX, touches[1].clientY);\n          var zoom = this.scale.start + (distance - this.pos.start.distance) / width * this.settings.zoomDiffScale;\n          if (zoom >= this.settings.zoomBounceMin && zoom < this.settings.zoomMax) {\n            var width = this.getWrapperSize().w;\n            var height = this.getWrapperSize().h;\n\n            var diff = zoom - this.scale.start;\n            this.translate.move.x = this.translate.start.x - width * diff * ((center.x - this.translate.start.x) / (width * this.scale.start));\n            this.translate.move.y = this.translate.start.y - height * diff * ((center.y - this.translate.start.y) / (height * this.scale.start));\n\n            this.scale.move = zoom;\n\n            this.element.css('transform', this.getTransformCss());\n          }\n        }\n      },\n      touchend: function touchend(e) {\n        var touches = e.originalEvent.touches;\n        var width = this.getWrapperSize().w;\n        var height = this.getWrapperSize().h;\n\n        // zoom bounce\n        if (this.scale.move < this.settings.zoomMin) {\n          this.scale.move = this.settings.zoomMin;\n        }\n\n        // prevent out of position\n        if (this.translate.move.x > 0) {\n          this.translate.move.x = 0;\n        }\n\n        if (this.translate.move.x < -(width * (this.scale.move - 1))) {\n          this.translate.move.x = -(width * (this.scale.move - 1));\n        }\n\n        if (this.translate.move.y > 0) {\n          this.translate.move.y = 0;\n        }\n\n        if (this.translate.move.y < -(height * (this.scale.move - 1))) {\n          this.translate.move.y = -(height * (this.scale.move - 1));\n        }\n\n        this.element.css('transform', this.getTransformCss());\n\n        // set scale value\n        this.scale.start = this.scale.move;\n        this.translate.start = { x: this.translate.move.x, y: this.translate.move.y, z: this.translate.move.z };\n\n        // remove event\n        this.element.off('touchmove').off('touchend');\n      }\n    }\n  });\n\n  $.fn[pluginName] = function (options) {\n    return this.each(function () {\n      if (!$.data(this, \"plugin_\" + pluginName)) {\n        $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\n      }\n    });\n  };\n})(jQuery, window, document);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9saWIvanF1ZXJ5LnBpbmNoWm9vbS5qcz8xMGIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogalF1ZXJ5IFBpbmNoIFpvb21cbiAqIFNpbXBsZSB0b3VjaCBiYXNlZCBwaW5jaCB6b29tIGxpYnJhcnlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBDb3B5cmlnaHQgMjAxNSBDaHVuZ3N1YiBLaW1cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJpY3VyYVxuICovXG5cbjsoZnVuY3Rpb24gKCAkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwbHVnaW5OYW1lID0gXCJwaW5jaFpvb21cIixcbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgIHpvb21Cb3VuY2VNaW46IDAuNSxcbiAgICAgIHpvb21NaW46IDEuMCxcbiAgICAgIHpvb21NYXg6IDUuMCxcbiAgICAgIHpvb21EaWZmU2NhbGU6IDMuMFxuICAgIH07XG5cbiAgZnVuY3Rpb24gUGx1Z2luICggZWxlbWVudCwgb3B0aW9ucyApIHtcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCgge30sIGRlZmF1bHRzLCBvcHRpb25zICk7XG4gICAgdGhpcy5fZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICB0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gICQuZXh0ZW5kKFBsdWdpbi5wcm90b3R5cGUsIHtcbiAgICBwb3M6IHtcbiAgICAgIHN0YXJ0OiB7IHg6IG51bGwsIHk6IG51bGwsIGRpc3RhbmNlOiBudWxsIH1cbiAgICB9LFxuICAgIHNjYWxlOiB7XG4gICAgICBzdGFydDogMSxcbiAgICAgIG1vdmU6IDFcbiAgICB9LFxuICAgIHRyYW5zbGF0ZToge1xuICAgICAgc3RhcnQ6IHsgeDogMCwgeTogMCwgejogMCB9LFxuICAgICAgbW92ZTogeyB4OiAwLCB5OiAwLCB6OiAwIH1cbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5lbGVtZW50XG4gICAgICAgIC5vbigndG91Y2hzdGFydCcsIHRoaXMuZXZlbnQudG91Y2hzdGFydC5iaW5kKHRoaXMpKVxuICAgICAgICAuY3NzKCd0cmFuc2Zvcm0tb3JpZ2luJywgJzAgMCcpO1xuICAgIH0sXG4gICAgZ2V0VHJhbnNmb3JtQ3NzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAndHJhbnNsYXRlM2QoJyArIHRoaXMudHJhbnNsYXRlLm1vdmUueCArICdweCwgJyArIHRoaXMudHJhbnNsYXRlLm1vdmUueSArICdweCwgJyArIHRoaXMudHJhbnNsYXRlLm1vdmUueiArICdweCkgc2NhbGUoJyArIHRoaXMuc2NhbGUubW92ZSArICcpJztcbiAgICB9LFxuICAgIGdldFdyYXBwZXJTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7IHc6IHRoaXMuZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpLCBoOiB0aGlzLmVsZW1lbnQucGFyZW50KCkuaGVpZ2h0KCkgfTtcbiAgICB9LFxuICAgIGdldERpc3RhbmNlOiBmdW5jdGlvbih4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgcmV0dXJuIE1hdGguc3FydCgoeDEgLSB4MikgKiAoeDEgLSB4MikgKyAoeTEgLSB5MikgKiAoeTEgLSB5MikpO1xuICAgIH0sXG4gICAgZXZlbnQ6IHtcbiAgICAgIHRvdWNoc3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlcztcblxuICAgICAgICAvLyBzZXQgaW5pdCB2YWx1ZVxuICAgICAgICBpZih0b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgdGhpcy5wb3Muc3RhcnQgPSB7IHg6IHRvdWNoZXNbMF0uY2xpZW50WCwgeTogdG91Y2hlc1swXS5jbGllbnRZIH07XG4gICAgICAgIH0gZWxzZSBpZih0b3VjaGVzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgdmFyIGNlbnRlciA9IHsgeDogKHRvdWNoZXNbMF0uY2xpZW50WCArIHRvdWNoZXNbMV0uY2xpZW50WCkvMiwgeTogKHRvdWNoZXNbMF0uY2xpZW50WSArIHRvdWNoZXNbMV0uY2xpZW50WSkvMiB9O1xuICAgICAgICAgIGNlbnRlci55IC09ICh0aGlzLmVsZW1lbnQucGFyZW50KCkub2Zmc2V0KCkudG9wIC0gJCgnYm9keScpLnNjcm9sbFRvcCgpKTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlKHRvdWNoZXNbMF0uY2xpZW50WCwgdG91Y2hlc1swXS5jbGllbnRZLCB0b3VjaGVzWzFdLmNsaWVudFgsIHRvdWNoZXNbMV0uY2xpZW50WSk7XG4gICAgICAgICAgdGhpcy5wb3Muc3RhcnQgPSB7IHg6IGNlbnRlci54LCB5OiBjZW50ZXIueSwgZGlzdGFuY2U6IGRpc3RhbmNlIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgZXZlbnRcbiAgICAgICAgdGhpcy5lbGVtZW50XG4gICAgICAgICAgLm9uKCd0b3VjaG1vdmUnLCB0aGlzLmV2ZW50LnRvdWNobW92ZS5iaW5kKHRoaXMpKVxuICAgICAgICAgIC5vbigndG91Y2hlbmQnLCB0aGlzLmV2ZW50LnRvdWNoZW5kLmJpbmQodGhpcykpO1xuICAgICAgfSxcbiAgICAgIHRvdWNobW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdyYXBwZXJTaXplKCkudztcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0V3JhcHBlclNpemUoKS5oO1xuXG4gICAgICAgIGlmKHRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICBpZih0aGlzLnNjYWxlLnN0YXJ0ID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdG1wWCA9IHRoaXMudHJhbnNsYXRlLm1vdmUueCAtICh0aGlzLnBvcy5zdGFydC54IC0gdG91Y2hlc1swXS5jbGllbnRYKTtcbiAgICAgICAgICB2YXIgdG1wWSA9IHRoaXMudHJhbnNsYXRlLm1vdmUueSAtICh0aGlzLnBvcy5zdGFydC55IC0gdG91Y2hlc1swXS5jbGllbnRZKTtcblxuICAgICAgICAgIGlmKHRtcFggPCAwICYmXG4gICAgICAgICAgICB0bXBYID4gLSh3aWR0aCoodGhpcy5zY2FsZS5zdGFydCAtIDEpKSAmJlxuICAgICAgICAgICAgdG1wWSA8IDAgJiZcbiAgICAgICAgICAgIHRtcFkgPiAtKGhlaWdodCoodGhpcy5zY2FsZS5zdGFydCAtIDEpKSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUubW92ZS54ID0gdG1wWDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlLm1vdmUueSA9IHRtcFk7XG4gICAgICAgICAgICB0aGlzLnBvcy5zdGFydCA9IHt4OiB0b3VjaGVzWzBdLmNsaWVudFgsIHk6IHRvdWNoZXNbMF0uY2xpZW50WX07XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jc3MoJ3RyYW5zZm9ybScsIHRoaXMuZ2V0VHJhbnNmb3JtQ3NzKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmKHRvdWNoZXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHZhciBjZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiAodG91Y2hlc1swXS5jbGllbnRYICsgdG91Y2hlc1sxXS5jbGllbnRYKSAvIDIsXG4gICAgICAgICAgICB5OiAodG91Y2hlc1swXS5jbGllbnRZICsgdG91Y2hlc1sxXS5jbGllbnRZKSAvIDJcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNlbnRlci55IC09ICh0aGlzLmVsZW1lbnQucGFyZW50KCkub2Zmc2V0KCkudG9wIC0gJCgnYm9keScpLnNjcm9sbFRvcCgpKTtcblxuICAgICAgICAgIHZhciBkaXN0YW5jZSA9IHRoaXMuZ2V0RGlzdGFuY2UodG91Y2hlc1swXS5jbGllbnRYLCB0b3VjaGVzWzBdLmNsaWVudFksIHRvdWNoZXNbMV0uY2xpZW50WCwgdG91Y2hlc1sxXS5jbGllbnRZKTtcbiAgICAgICAgICB2YXIgem9vbSA9IHRoaXMuc2NhbGUuc3RhcnQgKyAoZGlzdGFuY2UgLSB0aGlzLnBvcy5zdGFydC5kaXN0YW5jZSkvd2lkdGgqdGhpcy5zZXR0aW5ncy56b29tRGlmZlNjYWxlO1xuICAgICAgICAgIGlmICh6b29tID49IHRoaXMuc2V0dGluZ3Muem9vbUJvdW5jZU1pbiAmJiB6b29tIDwgdGhpcy5zZXR0aW5ncy56b29tTWF4KSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdyYXBwZXJTaXplKCkudztcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldFdyYXBwZXJTaXplKCkuaDtcblxuICAgICAgICAgICAgdmFyIGRpZmYgPSB6b29tIC0gdGhpcy5zY2FsZS5zdGFydDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlLm1vdmUueCA9IHRoaXMudHJhbnNsYXRlLnN0YXJ0LnggLSB3aWR0aCAqIGRpZmYgKiAoKGNlbnRlci54IC0gdGhpcy50cmFuc2xhdGUuc3RhcnQueCkgLyAod2lkdGgqdGhpcy5zY2FsZS5zdGFydCkpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGUubW92ZS55ID0gdGhpcy50cmFuc2xhdGUuc3RhcnQueSAtIGhlaWdodCAqIGRpZmYgKiAoKGNlbnRlci55IC0gdGhpcy50cmFuc2xhdGUuc3RhcnQueSkgLyAoaGVpZ2h0KnRoaXMuc2NhbGUuc3RhcnQpKTtcblxuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLm1vdmUgPSB6b29tO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY3NzKCd0cmFuc2Zvcm0nLCB0aGlzLmdldFRyYW5zZm9ybUNzcygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0b3VjaGVuZDogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdyYXBwZXJTaXplKCkudztcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0V3JhcHBlclNpemUoKS5oO1xuXG4gICAgICAgIC8vIHpvb20gYm91bmNlXG4gICAgICAgIGlmKHRoaXMuc2NhbGUubW92ZSA8IHRoaXMuc2V0dGluZ3Muem9vbU1pbikge1xuICAgICAgICAgIHRoaXMuc2NhbGUubW92ZSA9IHRoaXMuc2V0dGluZ3Muem9vbU1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByZXZlbnQgb3V0IG9mIHBvc2l0aW9uXG4gICAgICAgIGlmKHRoaXMudHJhbnNsYXRlLm1vdmUueCA+IDApIHtcbiAgICAgICAgICB0aGlzLnRyYW5zbGF0ZS5tb3ZlLnggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy50cmFuc2xhdGUubW92ZS54IDwgLSh3aWR0aCoodGhpcy5zY2FsZS5tb3ZlIC0gMSkpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2xhdGUubW92ZS54ID0gLSh3aWR0aCoodGhpcy5zY2FsZS5tb3ZlIC0gMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy50cmFuc2xhdGUubW92ZS55ID4gMCkge1xuICAgICAgICAgIHRoaXMudHJhbnNsYXRlLm1vdmUueSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLnRyYW5zbGF0ZS5tb3ZlLnkgPCAtKGhlaWdodCoodGhpcy5zY2FsZS5tb3ZlIC0gMSkpKSB7XG4gICAgICAgICAgdGhpcy50cmFuc2xhdGUubW92ZS55ID0gLShoZWlnaHQqKHRoaXMuc2NhbGUubW92ZSAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5jc3MoJ3RyYW5zZm9ybScsIHRoaXMuZ2V0VHJhbnNmb3JtQ3NzKCkpO1xuXG4gICAgICAgIC8vIHNldCBzY2FsZSB2YWx1ZVxuICAgICAgICB0aGlzLnNjYWxlLnN0YXJ0ID0gdGhpcy5zY2FsZS5tb3ZlO1xuICAgICAgICB0aGlzLnRyYW5zbGF0ZS5zdGFydCA9IHsgeDogdGhpcy50cmFuc2xhdGUubW92ZS54LCB5OiB0aGlzLnRyYW5zbGF0ZS5tb3ZlLnksIHo6IHRoaXMudHJhbnNsYXRlLm1vdmUueiB9O1xuXG4gICAgICAgIC8vIHJlbW92ZSBldmVudFxuICAgICAgICB0aGlzLmVsZW1lbnRcbiAgICAgICAgICAub2ZmKCd0b3VjaG1vdmUnKVxuICAgICAgICAgIC5vZmYoJ3RvdWNoZW5kJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuXG5cbiAgJC5mblsgcGx1Z2luTmFtZSBdID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoICEkLmRhdGEoIHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSApICkge1xuICAgICAgICAkLmRhdGEoIHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSwgbmV3IFBsdWdpbiggdGhpcywgb3B0aW9ucyApICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbn0pKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQgKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbGliL2pxdWVyeS5waW5jaFpvb20uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBN0dBO0FBMUJBO0FBQ0E7QUE0SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///115\n");

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./AceCounter.js\": 17,\n\t\"./AfterSales.action.js\": 117,\n\t\"./AfterSales.js\": 118,\n\t\"./Brand.action.js\": 119,\n\t\"./Brand.js\": 120,\n\t\"./Cart.action.js\": 121,\n\t\"./Cart.js\": 122,\n\t\"./Category.action.js\": 123,\n\t\"./Category.js\": 124,\n\t\"./Compensation.js\": 125,\n\t\"./Contact.action.js\": 126,\n\t\"./Contact.js\": 127,\n\t\"./Content.action.js\": 130,\n\t\"./Coupon.action.js\": 131,\n\t\"./Coupon.js\": 132,\n\t\"./Deposit.action.js\": 133,\n\t\"./Deposit.js\": 134,\n\t\"./Event.action.js\": 135,\n\t\"./FAQ.action.js\": 136,\n\t\"./FAQ.js\": 137,\n\t\"./GuestOrder.action.js\": 138,\n\t\"./GuestOrder.js\": 139,\n\t\"./Login.action.js\": 140,\n\t\"./Login.js\": 141,\n\t\"./Main.action.js\": 142,\n\t\"./Main.js\": 143,\n\t\"./MyAddress.js\": 144,\n\t\"./MyPage.action.js\": 151,\n\t\"./MyPage.js\": 152,\n\t\"./Notice.action.js\": 153,\n\t\"./Notice.js\": 154,\n\t\"./Order.Checkout.action.js\": 156,\n\t\"./Order.MyDelivery.action.js\": 157,\n\t\"./Order.action.js\": 158,\n\t\"./Order.js\": 159,\n\t\"./Point.action.js\": 160,\n\t\"./Point.js\": 161,\n\t\"./Product.action.js\": 162,\n\t\"./Product.js\": 163,\n\t\"./Proposal.action.js\": 165,\n\t\"./Proposal.js\": 166,\n\t\"./RMA.action.js\": 167,\n\t\"./RMA.js\": 168,\n\t\"./Review.action.js\": 169,\n\t\"./Review.js\": 170,\n\t\"./Search.action.js\": 171,\n\t\"./Search.js\": 172,\n\t\"./Special.action.js\": 173,\n\t\"./Special.js\": 174,\n\t\"./Store.action.js\": 175,\n\t\"./WishList.action.js\": 176,\n\t\"./WishList.js\": 177,\n\t\"./Zipcode.js\": 178,\n\t\"./component/image-viewer.js\": 84,\n\t\"./component/my-delivery.js\": 64,\n\t\"./component/search-product.js\": 83,\n\t\"./component/zipcode.js\": 32,\n\t\"./eKOLON.js\": 179,\n\t\"./global.js\": 180\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 116;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZSBcXC5qcyQ/YzM3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge1xuXHRcIi4vQWNlQ291bnRlci5qc1wiOiAxNyxcblx0XCIuL0FmdGVyU2FsZXMuYWN0aW9uLmpzXCI6IDExNyxcblx0XCIuL0FmdGVyU2FsZXMuanNcIjogMTE4LFxuXHRcIi4vQnJhbmQuYWN0aW9uLmpzXCI6IDExOSxcblx0XCIuL0JyYW5kLmpzXCI6IDEyMCxcblx0XCIuL0NhcnQuYWN0aW9uLmpzXCI6IDEyMSxcblx0XCIuL0NhcnQuanNcIjogMTIyLFxuXHRcIi4vQ2F0ZWdvcnkuYWN0aW9uLmpzXCI6IDEyMyxcblx0XCIuL0NhdGVnb3J5LmpzXCI6IDEyNCxcblx0XCIuL0NvbXBlbnNhdGlvbi5qc1wiOiAxMjUsXG5cdFwiLi9Db250YWN0LmFjdGlvbi5qc1wiOiAxMjYsXG5cdFwiLi9Db250YWN0LmpzXCI6IDEyNyxcblx0XCIuL0NvbnRlbnQuYWN0aW9uLmpzXCI6IDEzMCxcblx0XCIuL0NvdXBvbi5hY3Rpb24uanNcIjogMTMxLFxuXHRcIi4vQ291cG9uLmpzXCI6IDEzMixcblx0XCIuL0RlcG9zaXQuYWN0aW9uLmpzXCI6IDEzMyxcblx0XCIuL0RlcG9zaXQuanNcIjogMTM0LFxuXHRcIi4vRXZlbnQuYWN0aW9uLmpzXCI6IDEzNSxcblx0XCIuL0ZBUS5hY3Rpb24uanNcIjogMTM2LFxuXHRcIi4vRkFRLmpzXCI6IDEzNyxcblx0XCIuL0d1ZXN0T3JkZXIuYWN0aW9uLmpzXCI6IDEzOCxcblx0XCIuL0d1ZXN0T3JkZXIuanNcIjogMTM5LFxuXHRcIi4vTG9naW4uYWN0aW9uLmpzXCI6IDE0MCxcblx0XCIuL0xvZ2luLmpzXCI6IDE0MSxcblx0XCIuL01haW4uYWN0aW9uLmpzXCI6IDE0Mixcblx0XCIuL01haW4uanNcIjogMTQzLFxuXHRcIi4vTXlBZGRyZXNzLmpzXCI6IDE0NCxcblx0XCIuL015UGFnZS5hY3Rpb24uanNcIjogMTUxLFxuXHRcIi4vTXlQYWdlLmpzXCI6IDE1Mixcblx0XCIuL05vdGljZS5hY3Rpb24uanNcIjogMTUzLFxuXHRcIi4vTm90aWNlLmpzXCI6IDE1NCxcblx0XCIuL09yZGVyLkNoZWNrb3V0LmFjdGlvbi5qc1wiOiAxNTYsXG5cdFwiLi9PcmRlci5NeURlbGl2ZXJ5LmFjdGlvbi5qc1wiOiAxNTcsXG5cdFwiLi9PcmRlci5hY3Rpb24uanNcIjogMTU4LFxuXHRcIi4vT3JkZXIuanNcIjogMTU5LFxuXHRcIi4vUG9pbnQuYWN0aW9uLmpzXCI6IDE2MCxcblx0XCIuL1BvaW50LmpzXCI6IDE2MSxcblx0XCIuL1Byb2R1Y3QuYWN0aW9uLmpzXCI6IDE2Mixcblx0XCIuL1Byb2R1Y3QuanNcIjogMTYzLFxuXHRcIi4vUHJvcG9zYWwuYWN0aW9uLmpzXCI6IDE2NSxcblx0XCIuL1Byb3Bvc2FsLmpzXCI6IDE2Nixcblx0XCIuL1JNQS5hY3Rpb24uanNcIjogMTY3LFxuXHRcIi4vUk1BLmpzXCI6IDE2OCxcblx0XCIuL1Jldmlldy5hY3Rpb24uanNcIjogMTY5LFxuXHRcIi4vUmV2aWV3LmpzXCI6IDE3MCxcblx0XCIuL1NlYXJjaC5hY3Rpb24uanNcIjogMTcxLFxuXHRcIi4vU2VhcmNoLmpzXCI6IDE3Mixcblx0XCIuL1NwZWNpYWwuYWN0aW9uLmpzXCI6IDE3Myxcblx0XCIuL1NwZWNpYWwuanNcIjogMTc0LFxuXHRcIi4vU3RvcmUuYWN0aW9uLmpzXCI6IDE3NSxcblx0XCIuL1dpc2hMaXN0LmFjdGlvbi5qc1wiOiAxNzYsXG5cdFwiLi9XaXNoTGlzdC5qc1wiOiAxNzcsXG5cdFwiLi9aaXBjb2RlLmpzXCI6IDE3OCxcblx0XCIuL2NvbXBvbmVudC9pbWFnZS12aWV3ZXIuanNcIjogODQsXG5cdFwiLi9jb21wb25lbnQvbXktZGVsaXZlcnkuanNcIjogNjQsXG5cdFwiLi9jb21wb25lbnQvc2VhcmNoLXByb2R1Y3QuanNcIjogODMsXG5cdFwiLi9jb21wb25lbnQvemlwY29kZS5qc1wiOiAzMixcblx0XCIuL2VLT0xPTi5qc1wiOiAxNzksXG5cdFwiLi9nbG9iYWwuanNcIjogMTgwXG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHZhciBpZCA9IG1hcFtyZXFdO1xuXHRpZighKGlkICsgMSkpIC8vIGNoZWNrIGZvciBudW1iZXIgb3Igc3RyaW5nXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIik7XG5cdHJldHVybiBpZDtcbn07XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTE2O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4va29wL21vYmlsZSBcXC5qcyRcbi8vIG1vZHVsZSBpZCA9IDExNlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///116\n");

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:AfterSales:load', function () {\n  $('#repairProgressFormReSubmitBtn').click(function (e) {\n    e.preventDefault();\n\n    $('#repairProgressFormArea').show();\n    $('#repairProgressItemsArea').html('');\n    $('#repairProgressResultArea').hide();\n  });\n\n  $('#repairProgressItemsArea').on('click', '.repairItemSubmitBtn', function (e) {\n    e.preventDefault();\n\n    var dataEle = $(e.currentTarget).parents('li');\n    var targetForm = $('#repairProgressDetailForm');\n    targetForm.find('input[name=\"custNm\"]').val(dataEle.data('custnm'));\n    targetForm.find('input[name=\"cmplTh2SchdDt\"]').val(dataEle.data('cmplth2schddt'));\n    targetForm.find('input[name=\"shopSendDt\"]').val(dataEle.data('shopsenddt'));\n    targetForm.find('input[name=\"empNm\"]').val(dataEle.data('empnm'));\n    targetForm.find('input[name=\"mendN1ChrdYn\"]').val(dataEle.data('mendn1chrdyn'));\n    targetForm.find('input[name=\"mendSendDt\"]').val(dataEle.data('mendsenddt'));\n    targetForm.find('input[name=\"cnslofcRcptDt\"]').val(dataEle.find('.cnslofcRcptDt').text());\n    targetForm.find('input[name=\"shopNM\"]').val(dataEle.find('.shopNM').text());\n    targetForm.find('input[name=\"styleColorCd\"]').val(dataEle.find('.styleColorCd').text());\n    targetForm.find('input[name=\"mendC\"]').val(dataEle.find('.mendC').text());\n    targetForm.submit();\n  });\n\n  $('#repairProgressFormSubmitBtn').click(function (e) {\n    e.preventDefault();\n\n    $('#repairProgressForm').submit();\n  });\n\n  $('#repairProgressForm').validate({\n    rules: {\n      name: {\n        required: true\n      },\n      mobileNumber: {\n        required: true,\n        number: true\n      }\n    },\n    messages: {\n      name: {\n        required: '이름을 입력하세요.'\n      },\n      mobileNumber: {\n        required: '휴대폰 번호를 입력하세요.',\n        number: '휴대폰 번호는 숫자만 입력해 주세요.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      var repairProgressFormSubmitBtnLadda = Ladda.create($('#repairProgressFormSubmitBtn')[0]);\n      repairProgressFormSubmitBtnLadda.start();\n\n      var template = Handlebars.templates['mobile/precompiles/afterSales/repair-progress-item'];\n\n      $.ajax({\n        url: '/AfterSales/RepairProgress/List',\n        method: 'POST',\n        data: $('#repairProgressForm').serialize(),\n        dataType: 'JSON',\n        success: function success(data) {\n          if (data && data.length > 0) {\n            $.each(data, function (index, repairItem) {\n              $('#repairProgressFormArea').hide();\n              $('#repairProgressResultArea').show();\n              $('#repairProgressItemsArea').append(template(repairItem));\n            });\n          } else {\n            alert('조회하신 정보가 없습니다');\n          }\n        },\n        error: function error(request) {\n          var responseObj = JSON.parse(request.responseText);\n          alert(responseObj.message);\n        },\n        complete: function complete() {\n          repairProgressFormSubmitBtnLadda.stop();\n        }\n      });\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQWZ0ZXJTYWxlcy5hY3Rpb24uanM/MDcxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5vbignbW9iaWxlOkFmdGVyU2FsZXM6bG9hZCcsICgpID0+IHtcbiAgJCgnI3JlcGFpclByb2dyZXNzRm9ybVJlU3VibWl0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCcjcmVwYWlyUHJvZ3Jlc3NGb3JtQXJlYScpLnNob3coKTtcbiAgICAkKCcjcmVwYWlyUHJvZ3Jlc3NJdGVtc0FyZWEnKS5odG1sKCcnKTtcbiAgICAkKCcjcmVwYWlyUHJvZ3Jlc3NSZXN1bHRBcmVhJykuaGlkZSgpO1xuICB9KTtcblxuICAkKCcjcmVwYWlyUHJvZ3Jlc3NJdGVtc0FyZWEnKS5vbignY2xpY2snLCAnLnJlcGFpckl0ZW1TdWJtaXRCdG4nLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGRhdGFFbGUgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygnbGknKTtcbiAgICBjb25zdCB0YXJnZXRGb3JtID0gJCgnI3JlcGFpclByb2dyZXNzRGV0YWlsRm9ybScpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cImN1c3RObVwiXScpLnZhbChkYXRhRWxlLmRhdGEoJ2N1c3RubScpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJjbXBsVGgyU2NoZER0XCJdJykudmFsKGRhdGFFbGUuZGF0YSgnY21wbHRoMnNjaGRkdCcpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJzaG9wU2VuZER0XCJdJykudmFsKGRhdGFFbGUuZGF0YSgnc2hvcHNlbmRkdCcpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJlbXBObVwiXScpLnZhbChkYXRhRWxlLmRhdGEoJ2VtcG5tJykpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIm1lbmROMUNocmRZblwiXScpLnZhbChkYXRhRWxlLmRhdGEoJ21lbmRuMWNocmR5bicpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJtZW5kU2VuZER0XCJdJykudmFsKGRhdGFFbGUuZGF0YSgnbWVuZHNlbmRkdCcpKTtcbiAgICB0YXJnZXRGb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJjbnNsb2ZjUmNwdER0XCJdJykudmFsKGRhdGFFbGUuZmluZCgnLmNuc2xvZmNSY3B0RHQnKS50ZXh0KCkpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInNob3BOTVwiXScpLnZhbChkYXRhRWxlLmZpbmQoJy5zaG9wTk0nKS50ZXh0KCkpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInN0eWxlQ29sb3JDZFwiXScpLnZhbChkYXRhRWxlLmZpbmQoJy5zdHlsZUNvbG9yQ2QnKS50ZXh0KCkpO1xuICAgIHRhcmdldEZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIm1lbmRDXCJdJykudmFsKGRhdGFFbGUuZmluZCgnLm1lbmRDJykudGV4dCgpKTtcbiAgICB0YXJnZXRGb3JtLnN1Ym1pdCgpO1xuICB9KTtcblxuICAkKCcjcmVwYWlyUHJvZ3Jlc3NGb3JtU3VibWl0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCcjcmVwYWlyUHJvZ3Jlc3NGb3JtJykuc3VibWl0KCk7XG4gIH0pO1xuXG4gICQoJyNyZXBhaXJQcm9ncmVzc0Zvcm0nKS52YWxpZGF0ZSh7XG4gICAgcnVsZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgbW9iaWxlTnVtYmVyOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfsnbTrpoTsnYQg7J6F66Cl7ZWY7IS47JqULicsXG4gICAgICB9LFxuICAgICAgbW9iaWxlTnVtYmVyOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7Zy064yA7Y+wIOuyiO2YuOulvCDsnoXroKXtlZjshLjsmpQuJyxcbiAgICAgICAgbnVtYmVyOiAn7Zy064yA7Y+wIOuyiO2YuOuKlCDsiKvsnpDrp4wg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHN1Ym1pdEhhbmRsZXI6ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcGFpclByb2dyZXNzRm9ybVN1Ym1pdEJ0bkxhZGRhID0gTGFkZGEuY3JlYXRlKCQoJyNyZXBhaXJQcm9ncmVzc0Zvcm1TdWJtaXRCdG4nKVswXSk7XG4gICAgICByZXBhaXJQcm9ncmVzc0Zvcm1TdWJtaXRCdG5MYWRkYS5zdGFydCgpO1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvYWZ0ZXJTYWxlcy9yZXBhaXItcHJvZ3Jlc3MtaXRlbSddO1xuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICcvQWZ0ZXJTYWxlcy9SZXBhaXJQcm9ncmVzcy9MaXN0JyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6ICQoJyNyZXBhaXJQcm9ncmVzc0Zvcm0nKS5zZXJpYWxpemUoKSxcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQuZWFjaChkYXRhLCAoaW5kZXgsIHJlcGFpckl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgJCgnI3JlcGFpclByb2dyZXNzRm9ybUFyZWEnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICQoJyNyZXBhaXJQcm9ncmVzc1Jlc3VsdEFyZWEnKS5zaG93KCk7XG4gICAgICAgICAgICAgICQoJyNyZXBhaXJQcm9ncmVzc0l0ZW1zQXJlYScpLmFwcGVuZCh0ZW1wbGF0ZShyZXBhaXJJdGVtKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoJ+yhsO2ajO2VmOyLoCDsoJXrs7TqsIAg7JeG7Iq164uI64ukJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlT2JqLm1lc3NhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHJlcGFpclByb2dyZXNzRm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9BZnRlclNhbGVzLmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUF3QkE7QUFqREE7QUFtREE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///117\n");

/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:AfterSales:load', function () {});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQWZ0ZXJTYWxlcy5qcz9kMDA4Il0sInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6QWZ0ZXJTYWxlczpsb2FkJywgKCkgPT4ge1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9BZnRlclNhbGVzLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///118\n");

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _createBrowserHistory = __webpack_require__(18);\n\nvar _createBrowserHistory2 = _interopRequireDefault(_createBrowserHistory);\n\nvar _queryString = __webpack_require__(6);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nvar _common = __webpack_require__(11);\n\nvar _More = __webpack_require__(8);\n\nvar _More2 = _interopRequireDefault(_More);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Brand:load', function () {\n\n  //선택되어있는 브랜드가 있으면\n  if ($('input[name=supplierBrands]:checked').length > 0) {\n    $('#supplierBrandFilterMoreBtn').trigger('click');\n  }\n\n  setSpecFilterButtonArea(false);\n  (0, _More2.default)('#contentListMoreBtn', '#contentListLoading', '#contentList', 'mobile/precompiles/content/content-list-item', '/Content/ListJson?');\n\n  var history = (0, _createBrowserHistory2.default)();\n\n  function getSelectedColorList() {\n    var colorList = [];\n    if ($('.spec-filter-wrapper .colorFilter:checked').length > 0) {\n      $('.spec-filter-wrapper  .colorFilter:checked').each(function (index, thisEle) {\n        colorList.push($(thisEle).val());\n      });\n    }\n    return colorList;\n  }\n\n  function getSelectedPriceList() {\n    var priceRangeList = [];\n    if ($('.spec-filter-wrapper .priceFilter:checked').length > 0) {\n      $('.spec-filter-wrapper  .priceFilter:checked').each(function (index, thisEle) {\n        priceRangeList.push($(thisEle).val());\n      });\n    }\n    return priceRangeList;\n  }\n\n  function getSelectedOnSale() {\n    if ($('.spec-filter-wrapper .onSaleFilter:checked').val() !== undefined) {\n      return true;\n    }\n    return false;\n  }\n\n  function getSelectedInStock() {\n    if ($('.spec-filter-wrapper .inStockFilter:checked').val() !== undefined) {\n      return true;\n    }\n    return false;\n  }\n\n  function getSelectedSizeSearchList() {\n    var sizeSearchList = [];\n    if ($('.spec-filter-wrapper .sizeSearchFilter:checked').length > 0) {\n      $('.spec-filter-wrapper .sizeSearchFilter:checked').each(function (index, thisEle) {\n        sizeSearchList.push($(thisEle).val());\n      });\n    }\n    return sizeSearchList;\n  }\n\n  function pushHistory(sortCodeParam) {\n    var search = _queryString2.default.parse(location.search);\n\n    var dataEle = $('#searchedProductListWrapper');\n    var categoryCode = dataEle.data('categoryCode');\n    search.category = categoryCode;\n    search.pageSize = dataEle.data('pageSize');\n    var colorList = getSelectedColorList();\n    if (colorList != null && colorList.length > 0) {\n      search.colors = colorList.join(',');\n    } else {\n      search.colors = \"\";\n    }\n    var priceRangeList = getSelectedPriceList();\n    if (priceRangeList != null && priceRangeList.length > 0) {\n      search.priceRanges = priceRangeList.join(',');\n    } else {\n      search.priceRanges = \"\";\n    }\n    var onSale = getSelectedOnSale();\n    if (onSale) {\n      search.onSale = onSale;\n    } else {\n      search.onSale = \"\";\n    }\n    var inStock = getSelectedInStock();\n    if (inStock) {\n      search.inStock = inStock;\n    } else {\n      search.inStock = \"\";\n    }\n\n    var sizeSearches = getSelectedSizeSearchList();\n    if (sizeSearches != null && sizeSearches.length > 0) {\n      search.sizeSearches = sizeSearches.join(',');\n    } else {\n      search.sizeSearches = \"\";\n    }\n\n    var sortCode = $('#sortSelect').val();\n    if (sortCodeParam) {\n      sortCode = sortCodeParam;\n      search.pageNumber = 1;\n    }\n    search.sort = sortCode;\n\n    history.push({\n      path: '/Brand/List/' + categoryCode,\n      search: _queryString2.default.stringify(search),\n      state: search\n    });\n  }\n\n  (0, _common.setMoreBtnEvent)('.productMoreBtn', 'mobile');\n\n  $('#sortSelect').change(function (e) {\n    pushHistory($(e.currentTarget).val());\n  });\n\n  // Listen for changes to the current location.\n  history.listen(function (location /* , action */) {\n    var productResultAreaTemplate = Handlebars.templates['mobile/components/product/grid-with-color'];\n\n    var category = location.state.category !== undefined ? location.state.category : '';\n    var sizes = location.state.sizes !== undefined ? location.state.sizes : '';\n    var sizeSearches = location.state.sizeSearches !== undefined ? location.state.sizeSearches : '';\n    var colors = location.state.colors !== undefined ? location.state.colors : '';\n    var suppliers = location.state.suppliers !== undefined ? location.state.suppliers : '';\n    var supplierBrands = location.state.supplierBrands !== undefined ? location.state.supplierBrands : '';\n    var priceRanges = location.state.priceRanges !== undefined ? location.state.priceRanges : '';\n    var isBest = location.state.isBest !== undefined ? location.state.isBest : '';\n    var isNew = location.state.isNew !== undefined ? location.state.isNew : '';\n    var onSale = location.state.onSale !== undefined ? location.state.onSale : '';\n    var inStock = location.state.inStock !== undefined ? location.state.inStock : '';\n    var pageNumber = location.state.pageNumber !== undefined ? location.state.pageNumber : '';\n    var sort = location.state.sort !== undefined ? location.state.sort : '';\n    var pageSize = location.state.pageSize !== undefined ? location.state.pageSize : '';\n\n    var paramObject = {};\n    if (category != '') {\n      paramObject.category = category;\n    }\n    if (sizes != '') {\n      paramObject.sizes = sizes;\n    }\n    if (sizeSearches != '') {\n      paramObject.sizeSearches = sizeSearches;\n    }\n    if (colors != '') {\n      paramObject.colors = colors;\n    }\n    if (suppliers != '') {\n      paramObject.suppliers = suppliers;\n    }\n    if (supplierBrands != '') {\n      paramObject.supplierBrands = supplierBrands;\n    }\n    if (priceRanges != '') {\n      paramObject.priceRanges = priceRanges;\n    }\n    if (isBest != '') {\n      paramObject.isBest = isBest;\n    }\n    if (isNew != '') {\n      paramObject.isNew = isNew;\n    }\n    if (onSale != '') {\n      paramObject.onSale = onSale;\n    }\n    if (inStock != '') {\n      paramObject.inStock = inStock;\n    }\n    if (pageNumber != '') {\n      paramObject.pageNumber = pageNumber;\n    } else {\n      paramObject.pageNumber = 1;\n    }\n    if (sort != '') {\n      paramObject.sort = sort;\n    }\n    if (pageSize != '') {\n      paramObject.perPage = pageSize;\n    }\n\n    $.getJSON('/Product/Search', $.param(paramObject)).done(function (data) {\n      if (data) {\n        var dataObj = data;\n        $.each(dataObj.results, function (index, productDataItem) {\n          var productItem = productDataItem;\n          productItem.isShowColorImages = true;\n        });\n        var productData = { product: dataObj, parameters: paramObject };\n        if (paramObject.pageNumber == 1) {\n          $('.productResultAreaWrapper').html(productResultAreaTemplate(productData));\n        } else {\n          $('.productResultAreaWrapper').append(productResultAreaTemplate(productData));\n        }\n      }\n      setSpecFilterButtonArea(false);\n      setBrandFilterButtonArea(false);\n      $('#popup_layer, #overlay_t').hide();\n    });\n  });\n\n  $('.open_filter').click(function (e) {\n    var $this = $(e.currentTarget);\n    var filterType = $this.attr('data-pop-type');\n    $('#overlay_t').show();\n    $('.pop_' + filterType).show();\n    // $('.pop_' + filterType).css('top', Math.max(0, $(window).scrollTop() + 100) + 'px');\n  });\n  $('#overlay_t, .close').click(function (e) {\n    e.preventDefault();\n    $('#popup_layer, #overlay_t').hide();\n  });\n\n  $('.brand-list > li').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$($this).hasClass('on')) {\n      $($this).addClass('on');\n    } else {\n      $($this).removeClass('on');\n    }\n    setBrandFilterButtonArea(true);\n  });\n\n  $('.reset-spec-filter').click(function (e) {\n    resetFilterInputs();\n  });\n\n  $('.reset-brand-filter').click(function (e) {\n    resetFilterInputs(true);\n  });\n\n  $('#applySpecFilterBtn').click(function (e) {\n    pushHistory();\n  });\n\n  $('#applyBrandFilterBtn').click(function (e) {\n\n    var selectedSupplierBrandArray = [];\n    $('.brand-select li.on').each(function (i) {\n      selectedSupplierBrandArray.push($('.brand-select li.on').eq(i).data('supplierBrand'));\n    });\n\n    var selectedSupplierBrands = selectedSupplierBrandArray.join(',');\n\n    var dataEle = $('#searchedProductListWrapper');\n    var categoryCode = dataEle.data('categoryCode');\n    var search = {};\n    search.supplierBrands = selectedSupplierBrands;\n\n    location.href = '/Category/List/' + categoryCode + '?supplierBrands=' + selectedSupplierBrands;\n  });\n\n  function setSpecFilterButtonArea(apply) {\n    var colorList = getSelectedColorList();\n    var priceRangeList = getSelectedPriceList();\n    var onSale = getSelectedOnSale();\n    var inStock = getSelectedInStock();\n    if (colorList.length > 0 || priceRangeList.length > 0 || onSale || inStock) {\n      $('.reset-spec-filter').prop(\"disabled\", false);\n    } else {\n      $('.reset-spec-filter').prop(\"disabled\", true);\n    }\n\n    if (apply) {\n      $('#specFilterBtnResetApply').show();\n      $('#specFilterBtnResetClose').hide();\n    } else {\n      $('#specFilterBtnResetApply').hide();\n      $('#specFilterBtnResetClose').show();\n    }\n\n    if (apply) {\n      $('#specFilterBtnResetApply').show();\n      $('#specFilterBtnResetClose').hide();\n    } else {\n      $('#specFilterBtnResetApply').hide();\n      $('#specFilterBtnResetClose').show();\n    }\n  }\n\n  function setBrandFilterButtonArea(apply) {\n    if (apply) {\n      $('#brandFilterBtnResetApply').show();\n      $('#brandFilterBtnResetClose').hide();\n    } else {\n      $('#brandFilterBtnResetApply').hide();\n      $('#brandFilterBtnResetClose').show();\n    }\n  }\n\n  function resetFilterInputs(all) {\n    if (all) {\n      $('.brand-select li.on').removeClass('on');\n      setBrandFilterButtonArea(true);\n    }\n    $('.colorFilter').prop('checked', false).removeAttr('checked');\n    $('.priceFilter').prop('checked', false).removeAttr('checked');\n    $('.onSaleFilter').prop('checked', false).removeAttr('checked');\n    $('.inStockFilter').prop('checked', false).removeAttr('checked');\n    $('.sizeSearchFilter').prop('checked', false).removeAttr('checked');\n    //값 변경되면 팝업하단 적용버튼으로 변경\n    setSpecFilterButtonArea(true);\n  }\n\n  $('.spec-filter-wrapper .colorFilter, .spec-filter-wrapper .priceFilter, .spec-filter-wrapper .onSaleFilter, .spec-filter-wrapper .inStockFilter, .spec-filter-wrapper .sizeSearchFilter').change(function (e) {\n    //값 변경되면 팝업하단 적용버튼으로 변경\n    setSpecFilterButtonArea(true);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQnJhbmQuYWN0aW9uLmpzPzhjMGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUhpc3RvcnkgZnJvbSAnaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeSc7XG5pbXBvcnQgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcbmltcG9ydCB7IHNldE1vcmVCdG5FdmVudCB9IGZyb20gJy4uL2NvbW1vbi9jb21tb24nO1xuaW1wb3J0IGxvYWRNb3JlIGZyb20gJy4uL2NvbW1vbi9Nb3JlLmFjdGlvbic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6QnJhbmQ6bG9hZCcsICgpID0+IHtcblxuICAvL+yEoO2DneuQmOyWtOyeiOuKlCDruIzrnpzrk5zqsIAg7J6I7Jy866m0XG4gIGlmKCQoJ2lucHV0W25hbWU9c3VwcGxpZXJCcmFuZHNdOmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgJCgnI3N1cHBsaWVyQnJhbmRGaWx0ZXJNb3JlQnRuJykudHJpZ2dlcignY2xpY2snKTtcbiAgfVxuXG4gIHNldFNwZWNGaWx0ZXJCdXR0b25BcmVhKGZhbHNlKTtcbiAgbG9hZE1vcmUoJyNjb250ZW50TGlzdE1vcmVCdG4nLCAnI2NvbnRlbnRMaXN0TG9hZGluZycsICcjY29udGVudExpc3QnLCAnbW9iaWxlL3ByZWNvbXBpbGVzL2NvbnRlbnQvY29udGVudC1saXN0LWl0ZW0nLCAnL0NvbnRlbnQvTGlzdEpzb24/Jyk7XG5cbiAgY29uc3QgaGlzdG9yeSA9IGNyZWF0ZUhpc3RvcnkoKTtcblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZENvbG9yTGlzdCgpIHtcbiAgICBjb25zdCBjb2xvckxpc3QgPSBbXTtcbiAgICBpZiAoJCgnLnNwZWMtZmlsdGVyLXdyYXBwZXIgLmNvbG9yRmlsdGVyOmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAgLmNvbG9yRmlsdGVyOmNoZWNrZWQnKS5lYWNoKChpbmRleCwgdGhpc0VsZSkgPT4ge1xuICAgICAgICBjb2xvckxpc3QucHVzaCgkKHRoaXNFbGUpLnZhbCgpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JMaXN0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRQcmljZUxpc3QoKSB7XG4gICAgY29uc3QgcHJpY2VSYW5nZUxpc3QgPSBbXTtcbiAgICBpZiAoJCgnLnNwZWMtZmlsdGVyLXdyYXBwZXIgLnByaWNlRmlsdGVyOmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAgLnByaWNlRmlsdGVyOmNoZWNrZWQnKS5lYWNoKChpbmRleCwgdGhpc0VsZSkgPT4ge1xuICAgICAgICBwcmljZVJhbmdlTGlzdC5wdXNoKCQodGhpc0VsZSkudmFsKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcmljZVJhbmdlTGlzdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkT25TYWxlKCkge1xuICAgIGlmICgkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAub25TYWxlRmlsdGVyOmNoZWNrZWQnKS52YWwoKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJblN0b2NrKCkge1xuICAgIGlmICgkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAuaW5TdG9ja0ZpbHRlcjpjaGVja2VkJykudmFsKCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkU2l6ZVNlYXJjaExpc3QoKSB7XG4gICAgY29uc3Qgc2l6ZVNlYXJjaExpc3QgPSBbXTtcbiAgICBpZiAoJCgnLnNwZWMtZmlsdGVyLXdyYXBwZXIgLnNpemVTZWFyY2hGaWx0ZXI6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICQoJy5zcGVjLWZpbHRlci13cmFwcGVyIC5zaXplU2VhcmNoRmlsdGVyOmNoZWNrZWQnKS5lYWNoKChpbmRleCwgdGhpc0VsZSkgPT4ge1xuICAgICAgICBzaXplU2VhcmNoTGlzdC5wdXNoKCQodGhpc0VsZSkudmFsKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzaXplU2VhcmNoTGlzdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hIaXN0b3J5KHNvcnRDb2RlUGFyYW0pIHtcbiAgICBjb25zdCBzZWFyY2ggPSBxdWVyeVN0cmluZy5wYXJzZShsb2NhdGlvbi5zZWFyY2gpO1xuXG4gICAgY29uc3QgZGF0YUVsZSA9ICQoJyNzZWFyY2hlZFByb2R1Y3RMaXN0V3JhcHBlcicpO1xuICAgIGNvbnN0IGNhdGVnb3J5Q29kZSA9IGRhdGFFbGUuZGF0YSgnY2F0ZWdvcnlDb2RlJyk7XG4gICAgc2VhcmNoLmNhdGVnb3J5ID0gY2F0ZWdvcnlDb2RlO1xuICAgIHNlYXJjaC5wYWdlU2l6ZSA9IGRhdGFFbGUuZGF0YSgncGFnZVNpemUnKTtcbiAgICBjb25zdCBjb2xvckxpc3QgPSBnZXRTZWxlY3RlZENvbG9yTGlzdCgpO1xuICAgIGlmIChjb2xvckxpc3QgIT0gbnVsbCAmJiBjb2xvckxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgc2VhcmNoLmNvbG9ycyA9IGNvbG9yTGlzdC5qb2luKCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaC5jb2xvcnMgPSBcIlwiO1xuICAgIH1cbiAgICBjb25zdCBwcmljZVJhbmdlTGlzdCA9IGdldFNlbGVjdGVkUHJpY2VMaXN0KCk7XG4gICAgaWYgKHByaWNlUmFuZ2VMaXN0ICE9IG51bGwgJiYgcHJpY2VSYW5nZUxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgc2VhcmNoLnByaWNlUmFuZ2VzID0gcHJpY2VSYW5nZUxpc3Quam9pbignLCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWFyY2gucHJpY2VSYW5nZXMgPSBcIlwiO1xuICAgIH1cbiAgICBjb25zdCBvblNhbGUgPSBnZXRTZWxlY3RlZE9uU2FsZSgpO1xuICAgIGlmIChvblNhbGUpIHtcbiAgICAgIHNlYXJjaC5vblNhbGUgPSBvblNhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaC5vblNhbGUgPSBcIlwiO1xuICAgIH1cbiAgICBjb25zdCBpblN0b2NrID0gZ2V0U2VsZWN0ZWRJblN0b2NrKCk7XG4gICAgaWYgKGluU3RvY2spIHtcbiAgICAgIHNlYXJjaC5pblN0b2NrID0gaW5TdG9jaztcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoLmluU3RvY2sgPSBcIlwiO1xuICAgIH1cblxuICAgIGNvbnN0IHNpemVTZWFyY2hlcyA9IGdldFNlbGVjdGVkU2l6ZVNlYXJjaExpc3QoKTtcbiAgICBpZiAoc2l6ZVNlYXJjaGVzICE9IG51bGwgJiYgc2l6ZVNlYXJjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlYXJjaC5zaXplU2VhcmNoZXMgPSBzaXplU2VhcmNoZXMuam9pbignLCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWFyY2guc2l6ZVNlYXJjaGVzID0gXCJcIjtcbiAgICB9XG5cbiAgICBsZXQgc29ydENvZGUgPSAkKCcjc29ydFNlbGVjdCcpLnZhbCgpO1xuICAgIGlmIChzb3J0Q29kZVBhcmFtKSB7XG4gICAgICBzb3J0Q29kZSA9IHNvcnRDb2RlUGFyYW07XG4gICAgICBzZWFyY2gucGFnZU51bWJlciA9IDE7XG4gICAgfVxuICAgIHNlYXJjaC5zb3J0ID0gc29ydENvZGU7XG5cbiAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgcGF0aDogYC9CcmFuZC9MaXN0LyR7Y2F0ZWdvcnlDb2RlfWAsXG4gICAgICBzZWFyY2g6IHF1ZXJ5U3RyaW5nLnN0cmluZ2lmeShzZWFyY2gpLFxuICAgICAgc3RhdGU6IHNlYXJjaCxcbiAgICB9KTtcbiAgfVxuXG4gIHNldE1vcmVCdG5FdmVudCgnLnByb2R1Y3RNb3JlQnRuJywgJ21vYmlsZScpO1xuXG4gICQoJyNzb3J0U2VsZWN0JykuY2hhbmdlKChlKSA9PiB7XG4gICAgcHVzaEhpc3RvcnkoJChlLmN1cnJlbnRUYXJnZXQpLnZhbCgpKTtcbiAgfSk7XG5cbiAgLy8gTGlzdGVuIGZvciBjaGFuZ2VzIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuICBoaXN0b3J5Lmxpc3RlbigobG9jYXRpb24vKiAsIGFjdGlvbiAqLykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RSZXN1bHRBcmVhVGVtcGxhdGUgPSBIYW5kbGViYXJzLnRlbXBsYXRlc1snbW9iaWxlL2NvbXBvbmVudHMvcHJvZHVjdC9ncmlkLXdpdGgtY29sb3InXTtcblxuICAgIGNvbnN0IGNhdGVnb3J5ID0gbG9jYXRpb24uc3RhdGUuY2F0ZWdvcnkgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLmNhdGVnb3J5IDogJyc7XG4gICAgY29uc3Qgc2l6ZXMgPSBsb2NhdGlvbi5zdGF0ZS5zaXplcyAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUuc2l6ZXMgOiAnJztcbiAgICBjb25zdCBzaXplU2VhcmNoZXMgPSBsb2NhdGlvbi5zdGF0ZS5zaXplU2VhcmNoZXMgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLnNpemVTZWFyY2hlcyA6ICcnO1xuICAgIGNvbnN0IGNvbG9ycyA9IGxvY2F0aW9uLnN0YXRlLmNvbG9ycyAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUuY29sb3JzIDogJyc7XG4gICAgY29uc3Qgc3VwcGxpZXJzID0gbG9jYXRpb24uc3RhdGUuc3VwcGxpZXJzICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5zdXBwbGllcnMgOiAnJztcbiAgICBjb25zdCBzdXBwbGllckJyYW5kcyA9IGxvY2F0aW9uLnN0YXRlLnN1cHBsaWVyQnJhbmRzICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5zdXBwbGllckJyYW5kcyA6ICcnO1xuICAgIGNvbnN0IHByaWNlUmFuZ2VzID0gbG9jYXRpb24uc3RhdGUucHJpY2VSYW5nZXMgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLnByaWNlUmFuZ2VzIDogJyc7XG4gICAgY29uc3QgaXNCZXN0ID0gbG9jYXRpb24uc3RhdGUuaXNCZXN0ICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5pc0Jlc3QgOiAnJztcbiAgICBjb25zdCBpc05ldyA9IGxvY2F0aW9uLnN0YXRlLmlzTmV3ICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5pc05ldyA6ICcnO1xuICAgIGNvbnN0IG9uU2FsZSA9IGxvY2F0aW9uLnN0YXRlLm9uU2FsZSAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUub25TYWxlIDogJyc7XG4gICAgY29uc3QgaW5TdG9jayA9IGxvY2F0aW9uLnN0YXRlLmluU3RvY2sgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLmluU3RvY2sgOiAnJztcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gbG9jYXRpb24uc3RhdGUucGFnZU51bWJlciAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUucGFnZU51bWJlciA6ICcnO1xuICAgIGNvbnN0IHNvcnQgPSBsb2NhdGlvbi5zdGF0ZS5zb3J0ICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5zb3J0IDogJyc7XG4gICAgY29uc3QgcGFnZVNpemUgPSBsb2NhdGlvbi5zdGF0ZS5wYWdlU2l6ZSAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUucGFnZVNpemUgOiAnJztcblxuICAgIGNvbnN0IHBhcmFtT2JqZWN0ID0ge307XG4gICAgaWYgKGNhdGVnb3J5ICE9ICcnKSB7IHBhcmFtT2JqZWN0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7IH1cbiAgICBpZiAoc2l6ZXMgIT0gJycpIHsgcGFyYW1PYmplY3Quc2l6ZXMgPSBzaXplczsgfVxuICAgIGlmIChzaXplU2VhcmNoZXMgIT0gJycpIHsgcGFyYW1PYmplY3Quc2l6ZVNlYXJjaGVzID0gc2l6ZVNlYXJjaGVzOyB9XG4gICAgaWYgKGNvbG9ycyAhPSAnJykgeyBwYXJhbU9iamVjdC5jb2xvcnMgPSBjb2xvcnM7IH1cbiAgICBpZiAoc3VwcGxpZXJzICE9ICcnKSB7IHBhcmFtT2JqZWN0LnN1cHBsaWVycyA9IHN1cHBsaWVyczsgfVxuICAgIGlmIChzdXBwbGllckJyYW5kcyAhPSAnJykgeyBwYXJhbU9iamVjdC5zdXBwbGllckJyYW5kcyA9IHN1cHBsaWVyQnJhbmRzIH1cbiAgICBpZiAocHJpY2VSYW5nZXMgIT0gJycpIHsgcGFyYW1PYmplY3QucHJpY2VSYW5nZXMgPSBwcmljZVJhbmdlczsgfVxuICAgIGlmIChpc0Jlc3QgIT0gJycpIHsgcGFyYW1PYmplY3QuaXNCZXN0ID0gaXNCZXN0OyB9XG4gICAgaWYgKGlzTmV3ICE9ICcnKSB7IHBhcmFtT2JqZWN0LmlzTmV3ID0gaXNOZXc7IH1cbiAgICBpZiAob25TYWxlICE9ICcnKSB7IHBhcmFtT2JqZWN0Lm9uU2FsZSA9IG9uU2FsZTsgfVxuICAgIGlmIChpblN0b2NrICE9ICcnKSB7IHBhcmFtT2JqZWN0LmluU3RvY2sgPSBpblN0b2NrOyB9XG4gICAgaWYgKHBhZ2VOdW1iZXIgIT0gJycpIHsgcGFyYW1PYmplY3QucGFnZU51bWJlciA9IHBhZ2VOdW1iZXI7IH0gZWxzZSB7IHBhcmFtT2JqZWN0LnBhZ2VOdW1iZXIgPSAxOyB9XG4gICAgaWYgKHNvcnQgIT0gJycpIHsgcGFyYW1PYmplY3Quc29ydCA9IHNvcnQ7IH1cbiAgICBpZiAocGFnZVNpemUgIT0gJycpIHsgcGFyYW1PYmplY3QucGVyUGFnZSA9IHBhZ2VTaXplOyB9XG5cbiAgICAkLmdldEpTT04oJy9Qcm9kdWN0L1NlYXJjaCcsICQucGFyYW0ocGFyYW1PYmplY3QpKS5kb25lKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb25zdCBkYXRhT2JqID0gZGF0YTtcbiAgICAgICAgJC5lYWNoKGRhdGFPYmoucmVzdWx0cywgKGluZGV4LCBwcm9kdWN0RGF0YUl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBwcm9kdWN0SXRlbSA9IHByb2R1Y3REYXRhSXRlbTtcbiAgICAgICAgICBwcm9kdWN0SXRlbS5pc1Nob3dDb2xvckltYWdlcyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHsgcHJvZHVjdDogZGF0YU9iaiwgcGFyYW1ldGVyczogcGFyYW1PYmplY3QgfTtcbiAgICAgICAgaWYgKHBhcmFtT2JqZWN0LnBhZ2VOdW1iZXIgPT0gMSkge1xuICAgICAgICAgICQoJy5wcm9kdWN0UmVzdWx0QXJlYVdyYXBwZXInKS5odG1sKHByb2R1Y3RSZXN1bHRBcmVhVGVtcGxhdGUocHJvZHVjdERhdGEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcucHJvZHVjdFJlc3VsdEFyZWFXcmFwcGVyJykuYXBwZW5kKHByb2R1Y3RSZXN1bHRBcmVhVGVtcGxhdGUocHJvZHVjdERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0U3BlY0ZpbHRlckJ1dHRvbkFyZWEoZmFsc2UpO1xuICAgICAgc2V0QnJhbmRGaWx0ZXJCdXR0b25BcmVhKGZhbHNlKTtcbiAgICAgICQoJyNwb3B1cF9sYXllciwgI292ZXJsYXlfdCcpLmhpZGUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJCgnLm9wZW5fZmlsdGVyJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCBmaWx0ZXJUeXBlID0gJHRoaXMuYXR0cignZGF0YS1wb3AtdHlwZScpO1xuICAgICQoJyNvdmVybGF5X3QnKS5zaG93KCk7XG4gICAgJCgnLnBvcF8nICsgZmlsdGVyVHlwZSkuc2hvdygpO1xuICAgIC8vICQoJy5wb3BfJyArIGZpbHRlclR5cGUpLmNzcygndG9wJywgTWF0aC5tYXgoMCwgJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgMTAwKSArICdweCcpO1xuICB9KTtcbiAgJCgnI292ZXJsYXlfdCwgLmNsb3NlJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnI3BvcHVwX2xheWVyLCAjb3ZlcmxheV90JykuaGlkZSgpO1xuICB9KTtcblxuICAkKCcuYnJhbmQtbGlzdCA+IGxpJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISQoJHRoaXMpLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAkKCR0aGlzKS5hZGRDbGFzcygnb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgkdGhpcykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgfVxuICAgIHNldEJyYW5kRmlsdGVyQnV0dG9uQXJlYSh0cnVlKTtcbiAgfSk7XG5cbiAgJCgnLnJlc2V0LXNwZWMtZmlsdGVyJykuY2xpY2soKGUpID0+IHtcbiAgICByZXNldEZpbHRlcklucHV0cygpO1xuICB9KTtcblxuICAkKCcucmVzZXQtYnJhbmQtZmlsdGVyJykuY2xpY2soKGUpID0+IHtcbiAgICByZXNldEZpbHRlcklucHV0cyh0cnVlKTtcbiAgfSk7XG5cbiAgJCgnI2FwcGx5U3BlY0ZpbHRlckJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgcHVzaEhpc3RvcnkoKTtcbiAgfSk7XG5cbiAgJCgnI2FwcGx5QnJhbmRGaWx0ZXJCdG4nKS5jbGljaygoZSkgPT4ge1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRTdXBwbGllckJyYW5kQXJyYXkgPSBbXTtcbiAgICAkKCcuYnJhbmQtc2VsZWN0IGxpLm9uJykuZWFjaCgoaSkgPT4ge1xuICAgICAgc2VsZWN0ZWRTdXBwbGllckJyYW5kQXJyYXkucHVzaCgkKCcuYnJhbmQtc2VsZWN0IGxpLm9uJykuZXEoaSkuZGF0YSgnc3VwcGxpZXJCcmFuZCcpKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlbGVjdGVkU3VwcGxpZXJCcmFuZHMgPSBzZWxlY3RlZFN1cHBsaWVyQnJhbmRBcnJheS5qb2luKCcsJyk7XG5cbiAgICBjb25zdCBkYXRhRWxlID0gJCgnI3NlYXJjaGVkUHJvZHVjdExpc3RXcmFwcGVyJyk7XG4gICAgY29uc3QgY2F0ZWdvcnlDb2RlID0gZGF0YUVsZS5kYXRhKCdjYXRlZ29yeUNvZGUnKTtcbiAgICBjb25zdCBzZWFyY2ggPSB7fTtcbiAgICBzZWFyY2guc3VwcGxpZXJCcmFuZHMgPSBzZWxlY3RlZFN1cHBsaWVyQnJhbmRzO1xuXG4gICAgbG9jYXRpb24uaHJlZj0gYC9DYXRlZ29yeS9MaXN0LyR7Y2F0ZWdvcnlDb2RlfT9zdXBwbGllckJyYW5kcz0ke3NlbGVjdGVkU3VwcGxpZXJCcmFuZHN9YDtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2V0U3BlY0ZpbHRlckJ1dHRvbkFyZWEoYXBwbHkpIHtcbiAgICBjb25zdCBjb2xvckxpc3QgPSBnZXRTZWxlY3RlZENvbG9yTGlzdCgpO1xuICAgIGNvbnN0IHByaWNlUmFuZ2VMaXN0ID0gZ2V0U2VsZWN0ZWRQcmljZUxpc3QoKTtcbiAgICBjb25zdCBvblNhbGUgPSBnZXRTZWxlY3RlZE9uU2FsZSgpO1xuICAgIGNvbnN0IGluU3RvY2sgPSBnZXRTZWxlY3RlZEluU3RvY2soKTtcbiAgICBpZihjb2xvckxpc3QubGVuZ3RoID4gMCB8fCBwcmljZVJhbmdlTGlzdC5sZW5ndGggPiAwIHx8XG4gICAgICAgIG9uU2FsZSB8fCBpblN0b2NrKSB7XG4gICAgICAkKCcucmVzZXQtc3BlYy1maWx0ZXInKS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcucmVzZXQtc3BlYy1maWx0ZXInKS5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYoYXBwbHkpIHtcbiAgICAgICQoJyNzcGVjRmlsdGVyQnRuUmVzZXRBcHBseScpLnNob3coKTtcbiAgICAgICQoJyNzcGVjRmlsdGVyQnRuUmVzZXRDbG9zZScpLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3NwZWNGaWx0ZXJCdG5SZXNldEFwcGx5JykuaGlkZSgpO1xuICAgICAgJCgnI3NwZWNGaWx0ZXJCdG5SZXNldENsb3NlJykuc2hvdygpO1xuICAgIH1cblxuICAgIGlmKGFwcGx5KSB7XG4gICAgICAkKCcjc3BlY0ZpbHRlckJ0blJlc2V0QXBwbHknKS5zaG93KCk7XG4gICAgICAkKCcjc3BlY0ZpbHRlckJ0blJlc2V0Q2xvc2UnKS5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNzcGVjRmlsdGVyQnRuUmVzZXRBcHBseScpLmhpZGUoKTtcbiAgICAgICQoJyNzcGVjRmlsdGVyQnRuUmVzZXRDbG9zZScpLnNob3coKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRCcmFuZEZpbHRlckJ1dHRvbkFyZWEoYXBwbHkpIHtcbiAgICBpZihhcHBseSkge1xuICAgICAgJCgnI2JyYW5kRmlsdGVyQnRuUmVzZXRBcHBseScpLnNob3coKTtcbiAgICAgICQoJyNicmFuZEZpbHRlckJ0blJlc2V0Q2xvc2UnKS5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNicmFuZEZpbHRlckJ0blJlc2V0QXBwbHknKS5oaWRlKCk7XG4gICAgICAkKCcjYnJhbmRGaWx0ZXJCdG5SZXNldENsb3NlJykuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0RmlsdGVySW5wdXRzKGFsbCkge1xuICAgIGlmKGFsbCkge1xuICAgICAgJCgnLmJyYW5kLXNlbGVjdCBsaS5vbicpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgc2V0QnJhbmRGaWx0ZXJCdXR0b25BcmVhKHRydWUpO1xuICAgIH1cbiAgICAkKCcuY29sb3JGaWx0ZXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcbiAgICAkKCcucHJpY2VGaWx0ZXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcbiAgICAkKCcub25TYWxlRmlsdGVyJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XG4gICAgJCgnLmluU3RvY2tGaWx0ZXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcbiAgICAkKCcuc2l6ZVNlYXJjaEZpbHRlcicpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgIC8v6rCSIOuzgOqyveuQmOuptCDtjJ3sl4XtlZjri6gg7KCB7Jqp67KE7Yq87Jy866GcIOuzgOqyvVxuICAgIHNldFNwZWNGaWx0ZXJCdXR0b25BcmVhKHRydWUpO1xuICB9XG5cbiAgJCgnLnNwZWMtZmlsdGVyLXdyYXBwZXIgLmNvbG9yRmlsdGVyLCAuc3BlYy1maWx0ZXItd3JhcHBlciAucHJpY2VGaWx0ZXIsIC5zcGVjLWZpbHRlci13cmFwcGVyIC5vblNhbGVGaWx0ZXIsIC5zcGVjLWZpbHRlci13cmFwcGVyIC5pblN0b2NrRmlsdGVyLCAuc3BlYy1maWx0ZXItd3JhcHBlciAuc2l6ZVNlYXJjaEZpbHRlcicpLmNoYW5nZSgoZSkgPT4ge1xuICAgIC8v6rCSIOuzgOqyveuQmOuptCDtjJ3sl4XtlZjri6gg7KCB7Jqp67KE7Yq87Jy866GcIOuzgOqyvVxuICAgIHNldFNwZWNGaWx0ZXJCdXR0b25BcmVhKHRydWUpO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQnJhbmQuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///119\n");

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _swiper = __webpack_require__(12);\n\nvar _swiper2 = _interopRequireDefault(_swiper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Brand:load', function () {\n  if ($('.brand-top').length) {\n    new _swiper2.default('.brand-top', {\n      autoplay: 5000,\n      speed: 600,\n      slidesPerView: 'auto',\n      centeredSlides: true,\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true\n    });\n  }\n  // if ($('.list-scr-navi').length) {\n  //   new Swiper('.list-scr-navi', {\n  //     slidesPerView: 'auto',\n  //     centeredSlides: false,\n  //     paginationClickable: true,\n  //     spaceBetween: 0,\n  //     freeMode: true,\n  //     onReachBeginning() {\n  //       $('.icn-navi').removeClass('left');\n  //     },\n  //     onReachEnd() {\n  //       $('.icn-navi').addClass('left');\n  //     },\n  //   });\n  // }\n  if ($('.scr-prod').length) {\n    new _swiper2.default('.scr-prod', {\n      slidesPerView: 'auto',\n      centeredSlides: true,\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n  if ($('.brand-shop').length) {\n    new _swiper2.default('.brand-shop', {\n      slidesPerView: 'auto',\n      centeredSlides: true,\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true,\n      pagination: '.brand-shop-pagination',\n      paginationType: 'progress'\n    });\n  }\n  if ($('.all-slide').length) {\n    new _swiper2.default('.all-slide', {\n      slidesPerView: 'auto',\n      centeredSlides: false,\n      paginationClickable: true,\n      spaceBetween: 0,\n      freeMode: true,\n      onReachBeginning: function onReachBeginning() {\n        $('.icn-navi').removeClass('left');\n      },\n      onReachEnd: function onReachEnd() {\n        $('.icn-navi').addClass('left');\n      }\n    });\n  }\n  if ($('.brand-slide').length) {\n    new _swiper2.default('.brand-slide', {\n      slidesPerView: 'auto',\n      centeredSlides: true,\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true\n    });\n  }\n  if ($('.shop-list').length) {\n    new _swiper2.default('.shop-list', {\n      slidesPerView: 'auto',\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true,\n      pagination: '.swiper-pagination',\n      paginationType: 'fraction'\n    });\n  }\n  $('.size > ul > li > button, .sel-color > ul > li > button').click(function (e) {\n    var $this = $(e.currentTarget);\n    // $this.parent().addClass('on').siblings().removeClass('on');\n    if ($this.parent().hasClass('on')) {\n      $this.parent().removeClass('on');\n    } else {\n      $this.parent().addClass('on');\n    }\n    return false;\n  });\n\n  $('.al-list > li > ul > li a').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.parent().addClass('on').siblings().removeClass('on');\n    return false;\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQnJhbmQuanM/MmVmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3dpcGVyIGZyb20gJ3N3aXBlcic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6QnJhbmQ6bG9hZCcsICgpID0+IHtcbiAgaWYgKCQoJy5icmFuZC10b3AnKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcuYnJhbmQtdG9wJywge1xuICAgICAgYXV0b3BsYXk6IDUwMDAsXG4gICAgICBzcGVlZDogNjAwLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuICAvLyBpZiAoJCgnLmxpc3Qtc2NyLW5hdmknKS5sZW5ndGgpIHtcbiAgLy8gICBuZXcgU3dpcGVyKCcubGlzdC1zY3ItbmF2aScsIHtcbiAgLy8gICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgLy8gICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgLy8gICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gIC8vICAgICBzcGFjZUJldHdlZW46IDAsXG4gIC8vICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgLy8gICAgIG9uUmVhY2hCZWdpbm5pbmcoKSB7XG4gIC8vICAgICAgICQoJy5pY24tbmF2aScpLnJlbW92ZUNsYXNzKCdsZWZ0Jyk7XG4gIC8vICAgICB9LFxuICAvLyAgICAgb25SZWFjaEVuZCgpIHtcbiAgLy8gICAgICAgJCgnLmljbi1uYXZpJykuYWRkQ2xhc3MoJ2xlZnQnKTtcbiAgLy8gICAgIH0sXG4gIC8vICAgfSk7XG4gIC8vIH1cbiAgaWYgKCQoJy5zY3ItcHJvZCcpLmxlbmd0aCkge1xuICAgIG5ldyBTd2lwZXIoJy5zY3ItcHJvZCcsIHtcbiAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBwYWdpbmF0aW9uOiAnLnNjci1wcm9kLXBhZ2luYXRpb24nLFxuICAgICAgcGFnaW5hdGlvblR5cGU6ICdwcm9ncmVzcycsXG4gICAgfSk7XG4gIH1cbiAgaWYgKCQoJy5icmFuZC1zaG9wJykubGVuZ3RoKSB7XG4gICAgbmV3IFN3aXBlcignLmJyYW5kLXNob3AnLCB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgcGFnaW5hdGlvbjogJy5icmFuZC1zaG9wLXBhZ2luYXRpb24nLFxuICAgICAgcGFnaW5hdGlvblR5cGU6ICdwcm9ncmVzcycsXG4gICAgfSk7XG4gIH1cbiAgaWYgKCQoJy5hbGwtc2xpZGUnKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcuYWxsLXNsaWRlJywge1xuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgb25SZWFjaEJlZ2lubmluZygpIHtcbiAgICAgICAgJCgnLmljbi1uYXZpJykucmVtb3ZlQ2xhc3MoJ2xlZnQnKTtcbiAgICAgIH0sXG4gICAgICBvblJlYWNoRW5kKCkge1xuICAgICAgICAkKCcuaWNuLW5hdmknKS5hZGRDbGFzcygnbGVmdCcpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuICBpZiAoJCgnLmJyYW5kLXNsaWRlJykubGVuZ3RoKSB7XG4gICAgbmV3IFN3aXBlcignLmJyYW5kLXNsaWRlJywge1xuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuICBpZiAoJCgnLnNob3AtbGlzdCcpLmxlbmd0aCkge1xuICAgIG5ldyBTd2lwZXIoJy5zaG9wLWxpc3QnLCB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgIHBhZ2luYXRpb246ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgcGFnaW5hdGlvblR5cGU6ICdmcmFjdGlvbicsXG4gICAgfSk7XG4gIH1cbiAgJCgnLnNpemUgPiB1bCA+IGxpID4gYnV0dG9uLCAuc2VsLWNvbG9yID4gdWwgPiBsaSA+IGJ1dHRvbicpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgLy8gJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ29uJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICBpZiAoJHRoaXMucGFyZW50KCkuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICR0aGlzLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAkKCcuYWwtbGlzdCA+IGxpID4gdWwgPiBsaSBhJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnb24nKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0JyYW5kLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///120\n");

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _Cart = __webpack_require__(61);\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _AceCounter = __webpack_require__(17);\n\nvar _AceCounter2 = _interopRequireDefault(_AceCounter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default();\n\n$(document).on('mobile:Cart:load', function () {\n  if ((0, _Cart.disableAllCheckbox)()) {\n    $('#selectAllCheckbox').attr('disabled', 'disabled');\n  } else {\n    $('#selectAllCheckbox').prop('checked', (0, _Cart.possibleAllCheckable)());\n  }\n\n  var isEmployeeCustomer = $('#isEmployee').val() === 'true';\n\n  $('.cartSubmitBtn').click(function (e) {\n    e.preventDefault();\n\n    // const clickedCartSubmitBtn = $(e.currentTarget);\n    if ($('.cartItemCheckbox:checked:not(:disabled)').length > 0) {\n      var isPickup = false;\n      var isNormal = false;\n      var cartItemIds = [];\n      $('.cartItemCheckbox:checked:not(:disabled)').each(function (index, element) {\n        var $this = $(element);\n        var $thisParentLi = $this.parents('li');\n        cartItemIds.push($thisParentLi.data('entryNumber'));\n        if ($thisParentLi.data('isPickupItem') == true) {\n          isPickup = true;\n        } else {\n          isNormal = true;\n        }\n      });\n\n      if (isPickup && isNormal) {\n        alert('택배상품과 매장픽업 상품은 함께 주문할 수 없습니다.');\n        return false;\n      }\n      $('#entryNo').val(cartItemIds.join(','));\n\n      // const cartAddFormSubmitBtnLadda = Ladda.create(clickedCartSubmitBtn[0]);\n      // cartAddFormSubmitBtnLadda.start();\n\n      overlayLoader.start();\n      $.ajax({\n        url: '/Cart/PrepareOrder',\n        method: 'POST',\n        data: $('#cartForm').serialize(),\n        dataType: 'JSON',\n        success: function success(data) {\n          if (data.status == 'ok') {\n            if ($pt.isApp()) {\n              $pt.navigation.push({ url: '/Order/Checkout', title: '결제하기' });\n            } else {\n              location.href = '/Order/Checkout';\n            }\n          } else {\n            alert(data.message);\n          }\n        },\n        error: function error(data) {\n          alert(data.responseJSON.message);\n        },\n        complete: function complete() {\n          overlayLoader.stop();\n          // cartAddFormSubmitBtnLadda.stop();\n        }\n      });\n    } else {\n      alert('상품을 선택해 주세요.');\n    }\n  });\n\n  $('#selectAllCheckbox').click(function (e) {\n    $('.cartItemCheckbox').prop('checked', $(e.currentTarget).is(':checked'));\n  });\n\n  function replaceCartItemView(cartItemData) {\n    var changedCartItemTemplate = Handlebars.templates['mobile/precompiles/cart/cart-item'];\n    $('#cartForm #cartItemList li').each(function (index, liEle) {\n      var $this = $(liEle);\n      if ($this.data('entryNumber') == cartItemData.entryNumber) {\n        $this.replaceWith(changedCartItemTemplate(cartItemData));\n        if ((0, _Cart.disableAllCheckbox)()) {\n          $('#selectAllCheckbox').attr('disabled', 'disabled');\n        } else {\n          $('#selectAllCheckbox').removeAttr('disabled');\n        }\n        return false;\n      }\n      return true;\n    });\n  }\n\n  function reloadGiftListView(hasGiftItems, siteFreeGiftItems, siteFirstFreeGiftItems) {\n    if (hasGiftItems) {\n      var changedCartItemTemplate = Handlebars.templates['mobile/precompiles/cart/gift-list'];\n      var giftData = { siteFreeGiftItems: siteFreeGiftItems, siteFirstFreeGiftItems: siteFirstFreeGiftItems };\n      $('#cartGiftArea').html(changedCartItemTemplate(giftData));\n    }\n  }\n\n  function reloadCartView(cartData, targetEntryNumber, isChecked, showSetItem) {\n    if (cartData.cart && cartData.cart.items && cartData.cart.items.length > 0) {\n      $.each(cartData.cart.items, function (index, item) {\n        if (item.entryNumber == targetEntryNumber) {\n          var cartItem = item;\n          cartItem.isChecked = isChecked;\n          cartItem.isEmployeeCustomer = isEmployeeCustomer;\n          cartItem.showSetItem = showSetItem;\n          replaceCartItemView(cartItem);\n          return false;\n        }\n        return true;\n      });\n      (0, _Cart.updateTotal)('mobile', cartData.cart.totalPrice, isEmployeeCustomer);\n      reloadGiftListView(cartData.hasGiftItems, cartData.siteFreeGiftItems, cartData.siteFirstFreeGiftItems);\n    }\n  }\n\n  var sizeOptionDataMap = new Map();\n\n  function showSizeList(selectedProductCode, productBaseCode, targetEle) {\n    var optionHtml = '';\n    $.each(sizeOptionDataMap.get(productBaseCode), function (index, size) {\n      var selectedAttr = selectedProductCode == size.code ? 'selected' : '';\n      var disabledAttr = !size.isInStock ? 'disabled' : '';\n      optionHtml += '<span data-code=\\'' + size.code + '\\' class=\\'' + selectedAttr + ' ' + disabledAttr + '\\'>' + size.sizeValue + (!size.isInStock ? ' (품절)' : '') + '</span>';\n    });\n    targetEle.siblings('.layer-size-select').html(optionHtml).toggleClass('on');\n  }\n\n  function getSizeList(selectedProductCode, productBaseCode, targetEle) {\n    $.getJSON('/Product/' + productBaseCode + '/variantOptions', function (data) {\n      if (data && data.results && data.results.length > 0) {\n        var sizeList = [];\n        $.each(data.results, function (index, product) {\n          var value = '';\n          $.each(product.variantOptionQualifiers, function (index2, option) {\n            if (option.qualifier == 'size') {\n              value = option.value;\n            }\n          });\n          var sizeData = {\n            code: product.code,\n            sizeValue: value,\n            isInStock: product.stock.stockLevelStatus != 'outOfStock' && product.stock.stockLevel > 0\n          };\n          sizeList.push(sizeData);\n        });\n\n        sizeOptionDataMap.set(productBaseCode, sizeList);\n      }\n    }).then(function () {\n      // targetEle.removeAttr('disabled');\n      showSizeList(selectedProductCode, productBaseCode, targetEle);\n    });\n  }\n\n  function deleteCartItems(entryNumbers, isOnlyOneItem) {\n    var confirmResult = confirm('장바구니에서 해당 상품을 삭제하시겠습니까?');\n    if (confirmResult) {\n      $.ajax({\n        url: '/Cart/Item?entryNo=' + entryNumbers,\n        type: 'DELETE',\n        success: function success(data) {\n          if (data) {\n            // Ace Counter\n            if (data.cartCount == 0) {\n              _AceCounter2.default.aecDeleteCartAll();\n            } else {\n              if (isOnlyOneItem) {\n                var currentQuantity = $('#cartItemList').find('[data-entry-number=\\'' + entryNumbers + '\\'] .cartItemQuantity').text();\n                var productId = $('#cartItemList').find('[data-entry-number=\\'' + entryNumbers + '\\']').data('productBaseCode');\n                _AceCounter2.default.aecDeleteCartItem(productId, currentQuantity);\n              } else {\n                var deleteItem = entryNumbers.split(',');\n                var setProductCodeList = [];\n                $.each(deleteItem, function (index, entryNumber) {\n                  var currentQuantity = $('#cartItemList').find('[data-entry-number=\\'' + entryNumber + '\\'] .cartItemQuantity').val();\n                  var productId = $('#cartItemList').find('[data-entry-number=\\'' + entryNumber + '\\']').data('productBaseCode');\n                  var setProductCode = $('#cartItemList').find('[data-entry-number=\\'' + entryNumber + '\\']').data('setProductCode');\n                  if (setProductCode != null) {\n                    if (!setProductCodeList.includes(setProductCode)) {\n                      setProductCodeList.push(setProductCode);\n                      currentQuantity = $('#cartItemList').find('[data-product-code=\\'' + setProductCode + '\\'] .cartItemQuantity').val();\n                      _AceCounter2.default.aecDeleteCartItem(setProductCode, currentQuantity);\n                    }\n                  } else {\n                    _AceCounter2.default.aecDeleteCartItem(productId, currentQuantity);\n                  }\n                });\n              }\n            }\n\n            location.reload();\n            // if (isOnlyOneItem) {\n            //   $('#cartItemList li .cartItemCheckbox').each((index, checkbox) => {\n            //     const parentEle = $(checkbox).parents('li');\n            //     if (parentEle.data('entryNumber') == entryNumbers) {\n            //       parentEle.remove();\n            //     }\n            //   });\n            // } else {\n            //   $('#cartItemList li .cartItemCheckbox:checked').each((index, checkbox) => {\n            //     $(checkbox).parents('li').remove();\n            //   });\n            // }\n\n            // 모든 관심 리스트 항목 삭제의 경우\n            // if ($('#cartItemList li').length == 0) {\n            //   location.reload();\n            // } else {\n            //   updateTotal(data.cart.totalPrice);\n            //   reloadGiftListView(data.hasGiftItems, data.siteFreeGiftItems, data.siteFirstFreeGiftItems);\n            // }\n            // if (data.cartCount > 0) {\n            //   $('.top-navi .cart').html(`<i>${data.cartCount}</i>`);\n            // } else {\n            //   $('.top-navi .cart').html('');\n            // }\n          }\n        },\n        error: function error(request) {\n          var responseObj = JSON.parse(request.responseText);\n          if (responseObj.code == 'ERROR') {\n            alert(responseObj.message);\n          }\n        },\n        complete: function complete() {}\n      });\n    }\n  }\n\n  function updateCartQuantity(targetEle) {\n    var $this = $(targetEle);\n    var dataEle = $this.parents('li');\n    var isChecked = dataEle.find('.cartItemCheckbox').is(':checked');\n    var entryNo = dataEle.data('entryNumber') + '';\n    var quantity = $this.text();\n    var originalQuantity = $this.data('originalQuantity');\n    var isSetItem = dataEle.data('isSetCartItem');\n    var isShowSetItem = false;\n    if (isSetItem && dataEle.find('.btn-set-option a').hasClass('on')) {\n      isShowSetItem = true;\n    }\n    dataEle.find('.cartItemQuantity').text($this.text()); // 세트상품이라면 갯수가 함께 바뀌어야 하므로\n\n    // ex) 세트상품 파라미터 - entryNo:2,1 quantity:2\n    overlayLoader.start();\n    $.ajax({\n      url: '/Cart/Item/Quantity?entryNo=' + entryNo + '&quantity=' + quantity,\n      type: 'PUT',\n      success: function success(data) {\n        if (data) {\n          var productId = $('#cartItemList').find('[data-entry-number=\\'' + entryNo + '\\']').data('productBaseCode');\n          _AceCounter2.default.aecCartItemQuantity(productId, quantity);\n          reloadCartView(data, entryNo, isChecked, isShowSetItem);\n        }\n      },\n      error: function error(request) {\n        var responseObj = JSON.parse(request.responseText);\n        if (responseObj.code == 'ERROR') {\n          alert(responseObj.message);\n          dataEle.find('.cartItemQuantity').text(originalQuantity);\n        }\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      }\n    });\n  }\n\n  $('#cartForm').on('click', '.quantityMinus', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.attr('disabled') === undefined || $this.attr('disabled') != 'disabled') {\n      var targetEle = $this.parents('li').find('.cartItemQuantity');\n      var currentQty = targetEle.text();\n      if (currentQty !== undefined) {\n        var intCurrentQty = parseInt(currentQty, 10);\n        if (intCurrentQty > 1) {\n          intCurrentQty--;\n          targetEle.text(intCurrentQty);\n          updateCartQuantity(targetEle);\n        }\n      }\n    }\n  }).on('click', '.quantityPlus', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.attr('disabled') === undefined || $this.attr('disabled') != 'disabled') {\n      var targetEle = $this.parents('li').find('.cartItemQuantity');\n      var currentQty = targetEle.text();\n      if (currentQty !== undefined) {\n        var intCurrentQty = parseInt(currentQty, 10);\n        intCurrentQty++;\n        targetEle.text(intCurrentQty);\n        updateCartQuantity(targetEle);\n      }\n    }\n  }).on('click', '.sizeSelect', function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('disabled')) {\n      var dataEle = $this.parents('li');\n      var productBaseCode = dataEle.data('productBaseCode');\n      var selectedProductCode = dataEle.find('.sizeSelect option:selected').val();\n      var isSetCartItem = dataEle.data('isSetCartItem');\n      $('.layer-size-select').removeClass('on');\n      if (isSetCartItem) {\n        productBaseCode = $this.data('productBaseCode');\n      }\n      if (!sizeOptionDataMap.has(productBaseCode)) {\n        getSizeList(selectedProductCode, productBaseCode, $this);\n      } else {\n        showSizeList(selectedProductCode, productBaseCode, $this);\n      }\n    }\n  }).on('change', '.sizeSelect', function (e) {\n    var $this = $(e.currentTarget);\n    var targetEle = $this.parents('li');\n    var isSetItem = targetEle.data('isSetCartItem');\n    var entryNo = targetEle.data('entryNumber');\n    var productCodeArray = [];\n    targetEle.find('.sizeSelect').each(function (index, selectedItem) {\n      productCodeArray.push($(selectedItem).find('span').data('code'));\n    });\n    var productCode = productCodeArray.join(',');\n    var isChecked = targetEle.find('.cartItemCheckbox').is(':checked');\n\n    overlayLoader.start();\n    $.ajax({\n      url: '/Cart/Item/Size?entryNo=' + entryNo + '&productCode=' + productCode,\n      type: 'PUT',\n      success: function success(data) {\n        if (data) {\n          // 사이즈 변경하는 세트 아이템이라면 당연히 열려있어야 하므로 세트인지값(isSetItem)을 넘긴다.\n          reloadCartView(data, entryNo, isChecked, isSetItem);\n        }\n      },\n      error: function error(request) {\n        var responseObj = JSON.parse(request.responseText);\n        if (responseObj.code == 'ERROR') {\n          alert(responseObj.message);\n        }\n        // selectbox 되돌리기\n        targetEle.find('.sizeSelect').each(function (index, selectedItem) {\n          $(selectedItem).find('span').text($(selectedItem).data('initialSelectedSize'));\n        });\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      }\n    });\n  }).on('click', '.layer-size-select span', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('disabled')) {\n      var targetEle = $this.parent();\n      targetEle.removeClass('on');\n      if (targetEle.siblings('.sizeSelect').find('span').data('code') != $this.data('code')) {\n        targetEle.siblings('.sizeSelect').empty().append($this.clone()).trigger('change');\n      }\n    }\n  }).on('click', '.addToWishListBtn', function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n    var requestParams = '';\n    var dataEle = $this.parents('li');\n    var productCode = dataEle.data('productCode');\n    var isSetCartItem = dataEle.data('isSetCartItem');\n    if (isSetCartItem) {\n      var sizeArray = [];\n      dataEle.find('.sizeSelect').each(function (index, sizeEle) {\n        sizeArray.push($(sizeEle).find('span').data('code'));\n      });\n      requestParams += '&setProductCode=' + productCode + '&productCodes=' + sizeArray.join(',');\n    } else {\n      requestParams = 'productCodes=' + productCode;\n    }\n\n    $.ajax({\n      url: '/WishList/Add?' + requestParams,\n      type: 'PUT',\n      success: function success() {\n        alert('관심상품으로 등록되었습니다.');\n      },\n      error: function error(request) {\n        var responseObj = JSON.parse(request.responseText);\n        alert(responseObj.message);\n      },\n      complete: function complete() {}\n    });\n  }).on('click', '.deleteCartItemBtn', function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n    var entryNo = $this.parents('li').data('entryNumber');\n    deleteCartItems(entryNo, true);\n  }).on('click', '.buyNowBtn', function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n    var targetEle = $this.parents('li');\n    $('#cartForm #cartItemList li .cartItemCheckbox').prop('checked', false);\n    targetEle.find('.cartItemCheckbox').prop('checked', true);\n    $('.cartSubmitBtn').eq(0).trigger('click');\n  }).on('click', '.familyDiscountBtn', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    var targetEle = $this.parents('li');\n    targetEle.find('.familyDiscountBtn').toggle();\n    var entryNo = targetEle.data('entryNumber');\n    var isChecked = targetEle.find('.cartItemCheckbox').is(':checked');\n    var isSetItem = targetEle.data('isSetCartItem');\n    var isShowSetItem = false;\n    if (isSetItem && targetEle.find('.btn-set-option a').hasClass('on')) {\n      isShowSetItem = true;\n    }\n    if ($this.hasClass('family-btn-o')) {\n      overlayLoader.start();\n      $.ajax({\n        url: '/Cart/Item/EmployeeDiscount/Apply?entryNo=' + entryNo,\n        type: 'PUT',\n        success: function success(data) {\n          if (data) {\n            reloadCartView(data, entryNo, isChecked, isShowSetItem);\n            // targetEle.find('.familyDiscountPrice').show();\n            (0, _Cart.updateTotal)('mobile', data.cart.totalPrice, isEmployeeCustomer);\n          }\n        },\n        error: function error(request) {\n          var responseObj = JSON.parse(request.responseText);\n          if (responseObj.code == 'ERROR') {\n            alert(responseObj.message);\n            targetEle.find('.familyDiscountBtn').toggle();\n          }\n        },\n        complete: function complete() {\n          overlayLoader.stop();\n        }\n      });\n    } else {\n      overlayLoader.start();\n      $.ajax({\n        url: '/Cart/Item/EmployeeDiscount/Cancel?entryNo=' + entryNo,\n        type: 'PUT',\n        success: function success(data) {\n          if (data) {\n            reloadCartView(data, entryNo, isChecked, isShowSetItem);\n            // targetEle.find('.familyDiscountPrice').hide();\n            (0, _Cart.updateTotal)('mobile', data.cart.totalPrice, isEmployeeCustomer);\n          }\n        },\n        error: function error(request) {\n          var responseObj = JSON.parse(request.responseText);\n          if (responseObj.code == 'ERROR') {\n            alert(responseObj.message);\n            targetEle.find('.familyDiscountBtn').toggle();\n          }\n        },\n        complete: function complete() {\n          overlayLoader.stop();\n        }\n      });\n    }\n  }).on('click', '.btn-set-option > a', function (e) {\n    var $this = $(e.currentTarget);\n    $this.toggleClass('on');\n    $this.parents('.setItem').find('.set-option-list').slideToggle('fast');\n  });\n\n  function initSettingCartForm() {\n    var targetCheckboxEle = $('#cartForm #cartItemList li .cartItemCheckbox');\n    $('#cartForm #cartItemList li').each(function (index, element) {\n      if ($(element).data('isPickupItem') == true) {\n        targetCheckboxEle.prop('checked', false).trigger('change');\n        return false;\n      }\n      targetCheckboxEle.prop('checked', true).trigger('change');\n      return true;\n    });\n  }\n\n  if ($('#cartForm').length > 0) {\n    initSettingCartForm();\n  }\n\n  $('#deleteSelectedItemsBtn').click(function (e) {\n    e.preventDefault();\n\n    if ($('#cartForm #cartItemList li .cartItemCheckbox:checked').length > 0) {\n      var entryNumberList = [];\n\n      $('#cartForm #cartItemList li .cartItemCheckbox:checked').each(function (index, element) {\n        entryNumberList.push($(element).parents('li').data('entryNumber'));\n      });\n      deleteCartItems(entryNumberList.join(','), false);\n    } else {\n      alert('상품을 선택해 주세요.');\n    }\n  });\n\n  if ($('.layer-size-select').length > 0) {\n    $('html').click(function (e) {\n      if (!$(e.target).hasClass('layer-size-select') && !$(e.target).hasClass('sizeSelect')) {\n        $('.layer-size-select').removeClass('on');\n      }\n    });\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ2FydC5hY3Rpb24uanM/MWU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1cGRhdGVUb3RhbCwgZGlzYWJsZUFsbENoZWNrYm94LCBwb3NzaWJsZUFsbENoZWNrYWJsZSB9IGZyb20gJy4uL2NvbW1vbi9DYXJ0LmFjdGlvbic7XG5pbXBvcnQgT3ZlcmxheUxvYWRlciBmcm9tICcuLi9jb21tb24vT3ZlcmxheUxvYWRlcic7XG5pbXBvcnQgQUVDIGZyb20gJy4vQWNlQ291bnRlci5qcyc7XG5cbmNvbnN0IG92ZXJsYXlMb2FkZXIgPSBuZXcgT3ZlcmxheUxvYWRlcigpO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOkNhcnQ6bG9hZCcsICgpID0+IHtcbiAgaWYgKGRpc2FibGVBbGxDaGVja2JveCgpKSB7XG4gICAgJCgnI3NlbGVjdEFsbENoZWNrYm94JykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjc2VsZWN0QWxsQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgcG9zc2libGVBbGxDaGVja2FibGUoKSk7XG4gIH1cblxuICBjb25zdCBpc0VtcGxveWVlQ3VzdG9tZXIgPSAkKCcjaXNFbXBsb3llZScpLnZhbCgpID09PSAndHJ1ZSc7XG5cbiAgJCgnLmNhcnRTdWJtaXRCdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIGNvbnN0IGNsaWNrZWRDYXJ0U3VibWl0QnRuID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICgkKCcuY2FydEl0ZW1DaGVja2JveDpjaGVja2VkOm5vdCg6ZGlzYWJsZWQpJykubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGlzUGlja3VwID0gZmFsc2U7XG4gICAgICBsZXQgaXNOb3JtYWwgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGNhcnRJdGVtSWRzID0gW107XG4gICAgICAkKCcuY2FydEl0ZW1DaGVja2JveDpjaGVja2VkOm5vdCg6ZGlzYWJsZWQpJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgJHRoaXMgPSAkKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCAkdGhpc1BhcmVudExpID0gJHRoaXMucGFyZW50cygnbGknKTtcbiAgICAgICAgY2FydEl0ZW1JZHMucHVzaCgkdGhpc1BhcmVudExpLmRhdGEoJ2VudHJ5TnVtYmVyJykpO1xuICAgICAgICBpZiAoJHRoaXNQYXJlbnRMaS5kYXRhKCdpc1BpY2t1cEl0ZW0nKSA9PSB0cnVlKSB7XG4gICAgICAgICAgaXNQaWNrdXAgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzTm9ybWFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc1BpY2t1cCAmJiBpc05vcm1hbCkge1xuICAgICAgICBhbGVydCgn7YOd67Cw7IOB7ZKI6rO8IOunpOyepe2UveyXhSDsg4HtkojsnYAg7ZWo6ruYIOyjvOusuO2VoCDsiJgg7JeG7Iq164uI64ukLicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAkKCcjZW50cnlObycpLnZhbChjYXJ0SXRlbUlkcy5qb2luKCcsJykpO1xuXG4gICAgICAvLyBjb25zdCBjYXJ0QWRkRm9ybVN1Ym1pdEJ0bkxhZGRhID0gTGFkZGEuY3JlYXRlKGNsaWNrZWRDYXJ0U3VibWl0QnRuWzBdKTtcbiAgICAgIC8vIGNhcnRBZGRGb3JtU3VibWl0QnRuTGFkZGEuc3RhcnQoKTtcblxuICAgICAgb3ZlcmxheUxvYWRlci5zdGFydCgpO1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL0NhcnQvUHJlcGFyZU9yZGVyJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6ICQoJyNjYXJ0Rm9ybScpLnNlcmlhbGl6ZSgpLFxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgICAgICAgJHB0Lm5hdmlnYXRpb24ucHVzaCh7IHVybDogJy9PcmRlci9DaGVja291dCcsIHRpdGxlOiAn6rKw7KCc7ZWY6riwJyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL09yZGVyL0NoZWNrb3V0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGFsZXJ0KGRhdGEucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIG92ZXJsYXlMb2FkZXIuc3RvcCgpO1xuICAgICAgICAgIC8vIGNhcnRBZGRGb3JtU3VibWl0QnRuTGFkZGEuc3RvcCgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KCfsg4HtkojsnYQg7ISg7YOd7ZW0IOyjvOyEuOyalC4nKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNzZWxlY3RBbGxDaGVja2JveCcpLmNsaWNrKChlKSA9PiB7XG4gICAgJCgnLmNhcnRJdGVtQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgJChlLmN1cnJlbnRUYXJnZXQpLmlzKCc6Y2hlY2tlZCcpKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVwbGFjZUNhcnRJdGVtVmlldyhjYXJ0SXRlbURhdGEpIHtcbiAgICBjb25zdCBjaGFuZ2VkQ2FydEl0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvY2FydC9jYXJ0LWl0ZW0nXTtcbiAgICAkKCcjY2FydEZvcm0gI2NhcnRJdGVtTGlzdCBsaScpLmVhY2goKGluZGV4LCBsaUVsZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGxpRWxlKTtcbiAgICAgIGlmICgkdGhpcy5kYXRhKCdlbnRyeU51bWJlcicpID09IGNhcnRJdGVtRGF0YS5lbnRyeU51bWJlcikge1xuICAgICAgICAkdGhpcy5yZXBsYWNlV2l0aChjaGFuZ2VkQ2FydEl0ZW1UZW1wbGF0ZShjYXJ0SXRlbURhdGEpKTtcbiAgICAgICAgaWYgKGRpc2FibGVBbGxDaGVja2JveCgpKSB7XG4gICAgICAgICAgJCgnI3NlbGVjdEFsbENoZWNrYm94JykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcjc2VsZWN0QWxsQ2hlY2tib3gnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVsb2FkR2lmdExpc3RWaWV3KGhhc0dpZnRJdGVtcywgc2l0ZUZyZWVHaWZ0SXRlbXMsIHNpdGVGaXJzdEZyZWVHaWZ0SXRlbXMpIHtcbiAgICBpZiAoaGFzR2lmdEl0ZW1zKSB7XG4gICAgICBjb25zdCBjaGFuZ2VkQ2FydEl0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvY2FydC9naWZ0LWxpc3QnXTtcbiAgICAgIGNvbnN0IGdpZnREYXRhID0geyBzaXRlRnJlZUdpZnRJdGVtcywgc2l0ZUZpcnN0RnJlZUdpZnRJdGVtcyB9O1xuICAgICAgJCgnI2NhcnRHaWZ0QXJlYScpLmh0bWwoY2hhbmdlZENhcnRJdGVtVGVtcGxhdGUoZ2lmdERhdGEpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWxvYWRDYXJ0VmlldyhjYXJ0RGF0YSwgdGFyZ2V0RW50cnlOdW1iZXIsIGlzQ2hlY2tlZCwgc2hvd1NldEl0ZW0pIHtcbiAgICBpZiAoY2FydERhdGEuY2FydCAmJiBjYXJ0RGF0YS5jYXJ0Lml0ZW1zICYmIGNhcnREYXRhLmNhcnQuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgJC5lYWNoKGNhcnREYXRhLmNhcnQuaXRlbXMsIChpbmRleCwgaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5lbnRyeU51bWJlciA9PSB0YXJnZXRFbnRyeU51bWJlcikge1xuICAgICAgICAgIGNvbnN0IGNhcnRJdGVtID0gaXRlbTtcbiAgICAgICAgICBjYXJ0SXRlbS5pc0NoZWNrZWQgPSBpc0NoZWNrZWQ7XG4gICAgICAgICAgY2FydEl0ZW0uaXNFbXBsb3llZUN1c3RvbWVyID0gaXNFbXBsb3llZUN1c3RvbWVyO1xuICAgICAgICAgIGNhcnRJdGVtLnNob3dTZXRJdGVtID0gc2hvd1NldEl0ZW07XG4gICAgICAgICAgcmVwbGFjZUNhcnRJdGVtVmlldyhjYXJ0SXRlbSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgICB1cGRhdGVUb3RhbCgnbW9iaWxlJywgY2FydERhdGEuY2FydC50b3RhbFByaWNlLCBpc0VtcGxveWVlQ3VzdG9tZXIpO1xuICAgICAgcmVsb2FkR2lmdExpc3RWaWV3KGNhcnREYXRhLmhhc0dpZnRJdGVtcywgY2FydERhdGEuc2l0ZUZyZWVHaWZ0SXRlbXMsIGNhcnREYXRhLnNpdGVGaXJzdEZyZWVHaWZ0SXRlbXMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNpemVPcHRpb25EYXRhTWFwID0gbmV3IE1hcCgpO1xuXG4gIGZ1bmN0aW9uIHNob3dTaXplTGlzdChzZWxlY3RlZFByb2R1Y3RDb2RlLCBwcm9kdWN0QmFzZUNvZGUsIHRhcmdldEVsZSkge1xuICAgIGxldCBvcHRpb25IdG1sID0gJyc7XG4gICAgJC5lYWNoKHNpemVPcHRpb25EYXRhTWFwLmdldChwcm9kdWN0QmFzZUNvZGUpLCAoaW5kZXgsIHNpemUpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkQXR0ciA9IHNlbGVjdGVkUHJvZHVjdENvZGUgPT0gc2l6ZS5jb2RlID8gJ3NlbGVjdGVkJyA6ICcnO1xuICAgICAgY29uc3QgZGlzYWJsZWRBdHRyID0gIXNpemUuaXNJblN0b2NrID8gJ2Rpc2FibGVkJyA6ICcnO1xuICAgICAgb3B0aW9uSHRtbCArPSBgPHNwYW4gZGF0YS1jb2RlPScke3NpemUuY29kZX0nIGNsYXNzPScke3NlbGVjdGVkQXR0cn0gJHtkaXNhYmxlZEF0dHJ9Jz4ke3NpemUuc2l6ZVZhbHVlfSR7IXNpemUuaXNJblN0b2NrID8gJyAo7ZKI7KCIKScgOiAnJ308L3NwYW4+YDtcbiAgICB9KTtcbiAgICB0YXJnZXRFbGUuc2libGluZ3MoJy5sYXllci1zaXplLXNlbGVjdCcpLmh0bWwob3B0aW9uSHRtbCkudG9nZ2xlQ2xhc3MoJ29uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaXplTGlzdChzZWxlY3RlZFByb2R1Y3RDb2RlLCBwcm9kdWN0QmFzZUNvZGUsIHRhcmdldEVsZSkge1xuICAgICQuZ2V0SlNPTihgL1Byb2R1Y3QvJHtwcm9kdWN0QmFzZUNvZGV9L3ZhcmlhbnRPcHRpb25zYCwgKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzdWx0cyAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzaXplTGlzdCA9IFtdO1xuICAgICAgICAkLmVhY2goZGF0YS5yZXN1bHRzLCAoaW5kZXgsIHByb2R1Y3QpID0+IHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAkLmVhY2gocHJvZHVjdC52YXJpYW50T3B0aW9uUXVhbGlmaWVycywgKGluZGV4Miwgb3B0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnF1YWxpZmllciA9PSAnc2l6ZScpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBvcHRpb24udmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc2l6ZURhdGEgPSB7XG4gICAgICAgICAgICBjb2RlOiBwcm9kdWN0LmNvZGUsXG4gICAgICAgICAgICBzaXplVmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgaXNJblN0b2NrOiBwcm9kdWN0LnN0b2NrLnN0b2NrTGV2ZWxTdGF0dXMgIT0gJ291dE9mU3RvY2snICYmIHByb2R1Y3Quc3RvY2suc3RvY2tMZXZlbCA+IDAsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzaXplTGlzdC5wdXNoKHNpemVEYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2l6ZU9wdGlvbkRhdGFNYXAuc2V0KHByb2R1Y3RCYXNlQ29kZSwgc2l6ZUxpc3QpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gdGFyZ2V0RWxlLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICBzaG93U2l6ZUxpc3Qoc2VsZWN0ZWRQcm9kdWN0Q29kZSwgcHJvZHVjdEJhc2VDb2RlLCB0YXJnZXRFbGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlQ2FydEl0ZW1zKGVudHJ5TnVtYmVycywgaXNPbmx5T25lSXRlbSkge1xuICAgIGNvbnN0IGNvbmZpcm1SZXN1bHQgPSBjb25maXJtKCfsnqXrsJTqtazri4jsl5DshJwg7ZW064u5IOyDge2SiOydhCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XG4gICAgaWYgKGNvbmZpcm1SZXN1bHQpIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogYC9DYXJ0L0l0ZW0/ZW50cnlObz0ke2VudHJ5TnVtYmVyc31gLFxuICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgLy8gQWNlIENvdW50ZXJcbiAgICAgICAgICAgIGlmKGRhdGEuY2FydENvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgQUVDLmFlY0RlbGV0ZUNhcnRBbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChpc09ubHlPbmVJdGVtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFF1YW50aXR5ID0gJCgnI2NhcnRJdGVtTGlzdCcpLmZpbmQoYFtkYXRhLWVudHJ5LW51bWJlcj0nJHtlbnRyeU51bWJlcnN9J10gLmNhcnRJdGVtUXVhbnRpdHlgKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdElkID0gJCgnI2NhcnRJdGVtTGlzdCcpLmZpbmQoYFtkYXRhLWVudHJ5LW51bWJlcj0nJHtlbnRyeU51bWJlcnN9J11gKS5kYXRhKCdwcm9kdWN0QmFzZUNvZGUnKTtcbiAgICAgICAgICAgICAgICBBRUMuYWVjRGVsZXRlQ2FydEl0ZW0ocHJvZHVjdElkLCBjdXJyZW50UXVhbnRpdHkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSBlbnRyeU51bWJlcnMuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXRQcm9kdWN0Q29kZUxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAkLmVhY2goZGVsZXRlSXRlbSwgZnVuY3Rpb24gKGluZGV4LCBlbnRyeU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRRdWFudGl0eSA9ICQoJyNjYXJ0SXRlbUxpc3QnKS5maW5kKGBbZGF0YS1lbnRyeS1udW1iZXI9JyR7ZW50cnlOdW1iZXJ9J10gLmNhcnRJdGVtUXVhbnRpdHlgKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RJZCA9ICQoJyNjYXJ0SXRlbUxpc3QnKS5maW5kKGBbZGF0YS1lbnRyeS1udW1iZXI9JyR7ZW50cnlOdW1iZXJ9J11gKS5kYXRhKCdwcm9kdWN0QmFzZUNvZGUnKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNldFByb2R1Y3RDb2RlID0gJCgnI2NhcnRJdGVtTGlzdCcpLmZpbmQoYFtkYXRhLWVudHJ5LW51bWJlcj0nJHtlbnRyeU51bWJlcn0nXWApLmRhdGEoJ3NldFByb2R1Y3RDb2RlJyk7XG4gICAgICAgICAgICAgICAgICBpZiAoc2V0UHJvZHVjdENvZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNldFByb2R1Y3RDb2RlTGlzdC5pbmNsdWRlcyhzZXRQcm9kdWN0Q29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9kdWN0Q29kZUxpc3QucHVzaChzZXRQcm9kdWN0Q29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFF1YW50aXR5ID0gJCgnI2NhcnRJdGVtTGlzdCcpLmZpbmQoYFtkYXRhLXByb2R1Y3QtY29kZT0nJHtzZXRQcm9kdWN0Q29kZX0nXSAuY2FydEl0ZW1RdWFudGl0eWApLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgIEFFQy5hZWNEZWxldGVDYXJ0SXRlbShzZXRQcm9kdWN0Q29kZSwgY3VycmVudFF1YW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQUVDLmFlY0RlbGV0ZUNhcnRJdGVtKHByb2R1Y3RJZCwgY3VycmVudFF1YW50aXR5KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIC8vIGlmIChpc09ubHlPbmVJdGVtKSB7XG4gICAgICAgICAgICAvLyAgICQoJyNjYXJ0SXRlbUxpc3QgbGkgLmNhcnRJdGVtQ2hlY2tib3gnKS5lYWNoKChpbmRleCwgY2hlY2tib3gpID0+IHtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBwYXJlbnRFbGUgPSAkKGNoZWNrYm94KS5wYXJlbnRzKCdsaScpO1xuICAgICAgICAgICAgLy8gICAgIGlmIChwYXJlbnRFbGUuZGF0YSgnZW50cnlOdW1iZXInKSA9PSBlbnRyeU51bWJlcnMpIHtcbiAgICAgICAgICAgIC8vICAgICAgIHBhcmVudEVsZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgIH0pO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgJCgnI2NhcnRJdGVtTGlzdCBsaSAuY2FydEl0ZW1DaGVja2JveDpjaGVja2VkJykuZWFjaCgoaW5kZXgsIGNoZWNrYm94KSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgJChjaGVja2JveCkucGFyZW50cygnbGknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vICAgfSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIOuqqOuToCDqtIDsi6wg66as7Iqk7Yq4IO2VreuqqSDsgq3soJzsnZgg6rK97JqwXG4gICAgICAgICAgICAvLyBpZiAoJCgnI2NhcnRJdGVtTGlzdCBsaScpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAvLyAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgdXBkYXRlVG90YWwoZGF0YS5jYXJ0LnRvdGFsUHJpY2UpO1xuICAgICAgICAgICAgLy8gICByZWxvYWRHaWZ0TGlzdFZpZXcoZGF0YS5oYXNHaWZ0SXRlbXMsIGRhdGEuc2l0ZUZyZWVHaWZ0SXRlbXMsIGRhdGEuc2l0ZUZpcnN0RnJlZUdpZnRJdGVtcyk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBpZiAoZGF0YS5jYXJ0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICAvLyAgICQoJy50b3AtbmF2aSAuY2FydCcpLmh0bWwoYDxpPiR7ZGF0YS5jYXJ0Q291bnR9PC9pPmApO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgJCgnLnRvcC1uYXZpIC5jYXJ0JykuaHRtbCgnJyk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGlmIChyZXNwb25zZU9iai5jb2RlID09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlT2JqLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNhcnRRdWFudGl0eSh0YXJnZXRFbGUpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGFyZ2V0RWxlKTtcbiAgICBjb25zdCBkYXRhRWxlID0gJHRoaXMucGFyZW50cygnbGknKTtcbiAgICBjb25zdCBpc0NoZWNrZWQgPSBkYXRhRWxlLmZpbmQoJy5jYXJ0SXRlbUNoZWNrYm94JykuaXMoJzpjaGVja2VkJyk7XG4gICAgY29uc3QgZW50cnlObyA9IGRhdGFFbGUuZGF0YSgnZW50cnlOdW1iZXInKSArICcnO1xuICAgIGNvbnN0IHF1YW50aXR5ID0gJHRoaXMudGV4dCgpO1xuICAgIGNvbnN0IG9yaWdpbmFsUXVhbnRpdHkgPSAkdGhpcy5kYXRhKCdvcmlnaW5hbFF1YW50aXR5Jyk7XG4gICAgY29uc3QgaXNTZXRJdGVtID0gZGF0YUVsZS5kYXRhKCdpc1NldENhcnRJdGVtJyk7XG4gICAgbGV0IGlzU2hvd1NldEl0ZW0gPSBmYWxzZTtcbiAgICBpZiAoaXNTZXRJdGVtICYmIGRhdGFFbGUuZmluZCgnLmJ0bi1zZXQtb3B0aW9uIGEnKS5oYXNDbGFzcygnb24nKSkge1xuICAgICAgaXNTaG93U2V0SXRlbSA9IHRydWU7XG4gICAgfVxuICAgIGRhdGFFbGUuZmluZCgnLmNhcnRJdGVtUXVhbnRpdHknKS50ZXh0KCR0aGlzLnRleHQoKSk7IC8vIOyEuO2KuOyDge2SiOydtOudvOuptCDqsK/siJjqsIAg7ZWo6ruYIOuwlOuAjOyWtOyVvCDtlZjrr4DroZxcblxuICAgIC8vIGV4KSDshLjtirjsg4Htkogg7YyM652866+47YSwIC0gZW50cnlObzoyLDEgcXVhbnRpdHk6MlxuICAgIG92ZXJsYXlMb2FkZXIuc3RhcnQoKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBgL0NhcnQvSXRlbS9RdWFudGl0eT9lbnRyeU5vPSR7ZW50cnlOb30mcXVhbnRpdHk9JHtxdWFudGl0eX1gLFxuICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGNvbnN0IHByb2R1Y3RJZCA9ICQoJyNjYXJ0SXRlbUxpc3QnKS5maW5kKGBbZGF0YS1lbnRyeS1udW1iZXI9JyR7ZW50cnlOb30nXWApLmRhdGEoJ3Byb2R1Y3RCYXNlQ29kZScpO1xuICAgICAgICAgIEFFQy5hZWNDYXJ0SXRlbVF1YW50aXR5KHByb2R1Y3RJZCwgcXVhbnRpdHkpO1xuICAgICAgICAgIHJlbG9hZENhcnRWaWV3KGRhdGEsIGVudHJ5Tm8sIGlzQ2hlY2tlZCwgaXNTaG93U2V0SXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogKHJlcXVlc3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlT2JqLmNvZGUgPT0gJ0VSUk9SJykge1xuICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlT2JqLm1lc3NhZ2UpO1xuICAgICAgICAgIGRhdGFFbGUuZmluZCgnLmNhcnRJdGVtUXVhbnRpdHknKS50ZXh0KG9yaWdpbmFsUXVhbnRpdHkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgb3ZlcmxheUxvYWRlci5zdG9wKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgJCgnI2NhcnRGb3JtJylcbiAgICAub24oJ2NsaWNrJywgJy5xdWFudGl0eU1pbnVzJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgaWYgKCR0aGlzLmF0dHIoJ2Rpc2FibGVkJykgPT09IHVuZGVmaW5lZCB8fCAkdGhpcy5hdHRyKCdkaXNhYmxlZCcpICE9ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlID0gJHRoaXMucGFyZW50cygnbGknKS5maW5kKCcuY2FydEl0ZW1RdWFudGl0eScpO1xuICAgICAgICBjb25zdCBjdXJyZW50UXR5ID0gdGFyZ2V0RWxlLnRleHQoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRRdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxldCBpbnRDdXJyZW50UXR5ID0gcGFyc2VJbnQoY3VycmVudFF0eSwgMTApO1xuICAgICAgICAgIGlmIChpbnRDdXJyZW50UXR5ID4gMSkge1xuICAgICAgICAgICAgaW50Q3VycmVudFF0eS0tO1xuICAgICAgICAgICAgdGFyZ2V0RWxlLnRleHQoaW50Q3VycmVudFF0eSk7XG4gICAgICAgICAgICB1cGRhdGVDYXJ0UXVhbnRpdHkodGFyZ2V0RWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC5vbignY2xpY2snLCAnLnF1YW50aXR5UGx1cycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGlmICgkdGhpcy5hdHRyKCdkaXNhYmxlZCcpID09PSB1bmRlZmluZWQgfHwgJHRoaXMuYXR0cignZGlzYWJsZWQnKSAhPSAnZGlzYWJsZWQnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEVsZSA9ICR0aGlzLnBhcmVudHMoJ2xpJykuZmluZCgnLmNhcnRJdGVtUXVhbnRpdHknKTtcbiAgICAgICAgY29uc3QgY3VycmVudFF0eSA9IHRhcmdldEVsZS50ZXh0KCk7XG4gICAgICAgIGlmIChjdXJyZW50UXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsZXQgaW50Q3VycmVudFF0eSA9IHBhcnNlSW50KGN1cnJlbnRRdHksIDEwKTtcbiAgICAgICAgICBpbnRDdXJyZW50UXR5Kys7XG4gICAgICAgICAgdGFyZ2V0RWxlLnRleHQoaW50Q3VycmVudFF0eSk7XG4gICAgICAgICAgdXBkYXRlQ2FydFF1YW50aXR5KHRhcmdldEVsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC5vbignY2xpY2snLCAnLnNpemVTZWxlY3QnLCAoZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgIGNvbnN0IGRhdGFFbGUgPSAkdGhpcy5wYXJlbnRzKCdsaScpO1xuICAgICAgICBsZXQgcHJvZHVjdEJhc2VDb2RlID0gZGF0YUVsZS5kYXRhKCdwcm9kdWN0QmFzZUNvZGUnKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9kdWN0Q29kZSA9IGRhdGFFbGUuZmluZCgnLnNpemVTZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XG4gICAgICAgIGNvbnN0IGlzU2V0Q2FydEl0ZW0gPSBkYXRhRWxlLmRhdGEoJ2lzU2V0Q2FydEl0ZW0nKTtcbiAgICAgICAgJCgnLmxheWVyLXNpemUtc2VsZWN0JykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICAgIGlmIChpc1NldENhcnRJdGVtKSB7XG4gICAgICAgICAgcHJvZHVjdEJhc2VDb2RlID0gJHRoaXMuZGF0YSgncHJvZHVjdEJhc2VDb2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaXplT3B0aW9uRGF0YU1hcC5oYXMocHJvZHVjdEJhc2VDb2RlKSkge1xuICAgICAgICAgIGdldFNpemVMaXN0KHNlbGVjdGVkUHJvZHVjdENvZGUsIHByb2R1Y3RCYXNlQ29kZSwgJHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3dTaXplTGlzdChzZWxlY3RlZFByb2R1Y3RDb2RlLCBwcm9kdWN0QmFzZUNvZGUsICR0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdjaGFuZ2UnLCAnLnNpemVTZWxlY3QnLCAoZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBjb25zdCB0YXJnZXRFbGUgPSAkdGhpcy5wYXJlbnRzKCdsaScpO1xuICAgICAgY29uc3QgaXNTZXRJdGVtID0gdGFyZ2V0RWxlLmRhdGEoJ2lzU2V0Q2FydEl0ZW0nKTtcbiAgICAgIGNvbnN0IGVudHJ5Tm8gPSB0YXJnZXRFbGUuZGF0YSgnZW50cnlOdW1iZXInKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RDb2RlQXJyYXkgPSBbXTtcbiAgICAgIHRhcmdldEVsZS5maW5kKCcuc2l6ZVNlbGVjdCcpLmVhY2goKGluZGV4LCBzZWxlY3RlZEl0ZW0pID0+IHtcbiAgICAgICAgcHJvZHVjdENvZGVBcnJheS5wdXNoKCQoc2VsZWN0ZWRJdGVtKS5maW5kKCdzcGFuJykuZGF0YSgnY29kZScpKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcHJvZHVjdENvZGUgPSBwcm9kdWN0Q29kZUFycmF5LmpvaW4oJywnKTtcbiAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHRhcmdldEVsZS5maW5kKCcuY2FydEl0ZW1DaGVja2JveCcpLmlzKCc6Y2hlY2tlZCcpO1xuXG4gICAgICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGAvQ2FydC9JdGVtL1NpemU/ZW50cnlObz0ke2VudHJ5Tm99JnByb2R1Y3RDb2RlPSR7cHJvZHVjdENvZGV9YCxcbiAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIOyCrOydtOymiCDrs4Dqsr3tlZjripQg7IS47Yq4IOyVhOydtO2FnOydtOudvOuptCDri7nsl7Dtnogg7Je066Ck7J6I7Ja07JW8IO2VmOuvgOuhnCDshLjtirjsnbjsp4DqsJIoaXNTZXRJdGVtKeydhCDrhJjquLTri6QuXG4gICAgICAgICAgICByZWxvYWRDYXJ0VmlldyhkYXRhLCBlbnRyeU5vLCBpc0NoZWNrZWQsIGlzU2V0SXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGlmIChyZXNwb25zZU9iai5jb2RlID09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlT2JqLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzZWxlY3Rib3gg65CY64+M66as6riwXG4gICAgICAgICAgdGFyZ2V0RWxlLmZpbmQoJy5zaXplU2VsZWN0JykuZWFjaCgoaW5kZXgsIHNlbGVjdGVkSXRlbSkgPT4ge1xuICAgICAgICAgICAgJChzZWxlY3RlZEl0ZW0pLmZpbmQoJ3NwYW4nKS50ZXh0KCQoc2VsZWN0ZWRJdGVtKS5kYXRhKCdpbml0aWFsU2VsZWN0ZWRTaXplJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIG92ZXJsYXlMb2FkZXIuc3RvcCgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJy5sYXllci1zaXplLXNlbGVjdCBzcGFuJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGUgPSAkdGhpcy5wYXJlbnQoKTtcbiAgICAgICAgdGFyZ2V0RWxlLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICBpZiAodGFyZ2V0RWxlLnNpYmxpbmdzKCcuc2l6ZVNlbGVjdCcpLmZpbmQoJ3NwYW4nKS5kYXRhKCdjb2RlJykgIT0gJHRoaXMuZGF0YSgnY29kZScpKSB7XG4gICAgICAgICAgdGFyZ2V0RWxlLnNpYmxpbmdzKCcuc2l6ZVNlbGVjdCcpLmVtcHR5KCkuYXBwZW5kKCR0aGlzLmNsb25lKCkpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJy5hZGRUb1dpc2hMaXN0QnRuJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBsZXQgcmVxdWVzdFBhcmFtcyA9ICcnO1xuICAgICAgY29uc3QgZGF0YUVsZSA9ICR0aGlzLnBhcmVudHMoJ2xpJyk7XG4gICAgICBjb25zdCBwcm9kdWN0Q29kZSA9IGRhdGFFbGUuZGF0YSgncHJvZHVjdENvZGUnKTtcbiAgICAgIGNvbnN0IGlzU2V0Q2FydEl0ZW0gPSBkYXRhRWxlLmRhdGEoJ2lzU2V0Q2FydEl0ZW0nKTtcbiAgICAgIGlmIChpc1NldENhcnRJdGVtKSB7XG4gICAgICAgIGNvbnN0IHNpemVBcnJheSA9IFtdO1xuICAgICAgICBkYXRhRWxlLmZpbmQoJy5zaXplU2VsZWN0JykuZWFjaCgoaW5kZXgsIHNpemVFbGUpID0+IHtcbiAgICAgICAgICBzaXplQXJyYXkucHVzaCgkKHNpemVFbGUpLmZpbmQoJ3NwYW4nKS5kYXRhKCdjb2RlJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdFBhcmFtcyArPSBgJnNldFByb2R1Y3RDb2RlPSR7cHJvZHVjdENvZGV9JnByb2R1Y3RDb2Rlcz0ke3NpemVBcnJheS5qb2luKCcsJyl9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RQYXJhbXMgPSBgcHJvZHVjdENvZGVzPSR7cHJvZHVjdENvZGV9YDtcbiAgICAgIH1cblxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBgL1dpc2hMaXN0L0FkZD8ke3JlcXVlc3RQYXJhbXN9YCxcbiAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgICBhbGVydCgn6rSA7Ius7IOB7ZKI7Jy866GcIOuTseuhneuQmOyXiOyKteuLiOuLpC4nKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLm9uKCdjbGljaycsICcuZGVsZXRlQ2FydEl0ZW1CdG4nLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IGVudHJ5Tm8gPSAkdGhpcy5wYXJlbnRzKCdsaScpLmRhdGEoJ2VudHJ5TnVtYmVyJyk7XG4gICAgICBkZWxldGVDYXJ0SXRlbXMoZW50cnlObywgdHJ1ZSk7XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJy5idXlOb3dCdG4nLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IHRhcmdldEVsZSA9ICR0aGlzLnBhcmVudHMoJ2xpJyk7XG4gICAgICAkKCcjY2FydEZvcm0gI2NhcnRJdGVtTGlzdCBsaSAuY2FydEl0ZW1DaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICB0YXJnZXRFbGUuZmluZCgnLmNhcnRJdGVtQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAkKCcuY2FydFN1Ym1pdEJ0bicpLmVxKDApLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfSlcbiAgICAub24oJ2NsaWNrJywgJy5mYW1pbHlEaXNjb3VudEJ0bicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IHRhcmdldEVsZSA9ICR0aGlzLnBhcmVudHMoJ2xpJyk7XG4gICAgICB0YXJnZXRFbGUuZmluZCgnLmZhbWlseURpc2NvdW50QnRuJykudG9nZ2xlKCk7XG4gICAgICBjb25zdCBlbnRyeU5vID0gdGFyZ2V0RWxlLmRhdGEoJ2VudHJ5TnVtYmVyJyk7XG4gICAgICBjb25zdCBpc0NoZWNrZWQgPSB0YXJnZXRFbGUuZmluZCgnLmNhcnRJdGVtQ2hlY2tib3gnKS5pcygnOmNoZWNrZWQnKTtcbiAgICAgIGNvbnN0IGlzU2V0SXRlbSA9IHRhcmdldEVsZS5kYXRhKCdpc1NldENhcnRJdGVtJyk7XG4gICAgICBsZXQgaXNTaG93U2V0SXRlbSA9IGZhbHNlO1xuICAgICAgaWYgKGlzU2V0SXRlbSAmJiB0YXJnZXRFbGUuZmluZCgnLmJ0bi1zZXQtb3B0aW9uIGEnKS5oYXNDbGFzcygnb24nKSkge1xuICAgICAgICBpc1Nob3dTZXRJdGVtID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnZmFtaWx5LWJ0bi1vJykpIHtcbiAgICAgICAgb3ZlcmxheUxvYWRlci5zdGFydCgpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogYC9DYXJ0L0l0ZW0vRW1wbG95ZWVEaXNjb3VudC9BcHBseT9lbnRyeU5vPSR7ZW50cnlOb31gLFxuICAgICAgICAgIHR5cGU6ICdQVVQnLFxuICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICByZWxvYWRDYXJ0VmlldyhkYXRhLCBlbnRyeU5vLCBpc0NoZWNrZWQsIGlzU2hvd1NldEl0ZW0pO1xuICAgICAgICAgICAgICAvLyB0YXJnZXRFbGUuZmluZCgnLmZhbWlseURpc2NvdW50UHJpY2UnKS5zaG93KCk7XG4gICAgICAgICAgICAgIHVwZGF0ZVRvdGFsKCdtb2JpbGUnLCBkYXRhLmNhcnQudG90YWxQcmljZSwgaXNFbXBsb3llZUN1c3RvbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZU9iai5jb2RlID09ICdFUlJPUicpIHtcbiAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2VPYmoubWVzc2FnZSk7XG4gICAgICAgICAgICAgIHRhcmdldEVsZS5maW5kKCcuZmFtaWx5RGlzY291bnRCdG4nKS50b2dnbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBvdmVybGF5TG9hZGVyLnN0b3AoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG92ZXJsYXlMb2FkZXIuc3RhcnQoKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6IGAvQ2FydC9JdGVtL0VtcGxveWVlRGlzY291bnQvQ2FuY2VsP2VudHJ5Tm89JHtlbnRyeU5vfWAsXG4gICAgICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgIHJlbG9hZENhcnRWaWV3KGRhdGEsIGVudHJ5Tm8sIGlzQ2hlY2tlZCwgaXNTaG93U2V0SXRlbSk7XG4gICAgICAgICAgICAgIC8vIHRhcmdldEVsZS5maW5kKCcuZmFtaWx5RGlzY291bnRQcmljZScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgdXBkYXRlVG90YWwoJ21vYmlsZScsIGRhdGEuY2FydC50b3RhbFByaWNlLCBpc0VtcGxveWVlQ3VzdG9tZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZU9iaiA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlT2JqLmNvZGUgPT0gJ0VSUk9SJykge1xuICAgICAgICAgICAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgdGFyZ2V0RWxlLmZpbmQoJy5mYW1pbHlEaXNjb3VudEJ0bicpLnRvZ2dsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIG92ZXJsYXlMb2FkZXIuc3RvcCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdjbGljaycsICcuYnRuLXNldC1vcHRpb24gPiBhJywgKGUpID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgJHRoaXMudG9nZ2xlQ2xhc3MoJ29uJyk7XG4gICAgICAkdGhpcy5wYXJlbnRzKCcuc2V0SXRlbScpLmZpbmQoJy5zZXQtb3B0aW9uLWxpc3QnKS5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xuICAgIH0pO1xuXG4gIGZ1bmN0aW9uIGluaXRTZXR0aW5nQ2FydEZvcm0oKSB7XG4gICAgY29uc3QgdGFyZ2V0Q2hlY2tib3hFbGUgPSAkKCcjY2FydEZvcm0gI2NhcnRJdGVtTGlzdCBsaSAuY2FydEl0ZW1DaGVja2JveCcpO1xuICAgICQoJyNjYXJ0Rm9ybSAjY2FydEl0ZW1MaXN0IGxpJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgIGlmICgkKGVsZW1lbnQpLmRhdGEoJ2lzUGlja3VwSXRlbScpID09IHRydWUpIHtcbiAgICAgICAgdGFyZ2V0Q2hlY2tib3hFbGUucHJvcCgnY2hlY2tlZCcsIGZhbHNlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGFyZ2V0Q2hlY2tib3hFbGUucHJvcCgnY2hlY2tlZCcsIHRydWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoJCgnI2NhcnRGb3JtJykubGVuZ3RoID4gMCkge1xuICAgIGluaXRTZXR0aW5nQ2FydEZvcm0oKTtcbiAgfVxuXG4gICQoJyNkZWxldGVTZWxlY3RlZEl0ZW1zQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoJCgnI2NhcnRGb3JtICNjYXJ0SXRlbUxpc3QgbGkgLmNhcnRJdGVtQ2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGVudHJ5TnVtYmVyTGlzdCA9IFtdO1xuXG4gICAgICAkKCcjY2FydEZvcm0gI2NhcnRJdGVtTGlzdCBsaSAuY2FydEl0ZW1DaGVja2JveDpjaGVja2VkJykuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgZW50cnlOdW1iZXJMaXN0LnB1c2goJChlbGVtZW50KS5wYXJlbnRzKCdsaScpLmRhdGEoJ2VudHJ5TnVtYmVyJykpO1xuICAgICAgfSk7XG4gICAgICBkZWxldGVDYXJ0SXRlbXMoZW50cnlOdW1iZXJMaXN0LmpvaW4oJywnKSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydCgn7IOB7ZKI7J2EIOyEoO2Dne2VtCDso7zshLjsmpQuJyk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoJCgnLmxheWVyLXNpemUtc2VsZWN0JykubGVuZ3RoID4gMCkge1xuICAgICQoJ2h0bWwnKS5jbGljaygoZSkgPT4ge1xuICAgICAgaWYgKCEkKGUudGFyZ2V0KS5oYXNDbGFzcygnbGF5ZXItc2l6ZS1zZWxlY3QnKSAmJiAhJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3NpemVTZWxlY3QnKSkge1xuICAgICAgICAkKCcubGF5ZXItc2l6ZS1zZWxlY3QnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9DYXJ0LmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkVBO0FBc0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQXVCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQWFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///121\n");

/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _jsCookie = __webpack_require__(14);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Cart:load', function () {\n  if ($('.btn-set-option').length) {}\n\n  // wow 카트 안내 팝업\n  $('#wowPopupCloseBtn').click(function () {\n    $('#wowPopup').hide();\n  });\n  $('#wowPopupCloseCookieBtn').click(function () {\n    _jsCookie2.default.set('showWowCartPopup', 'false', { path: '/', secure: true, expires: 1 });\n    $('#wowPopup').hide();\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ2FydC5qcz8wOGUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6Q2FydDpsb2FkJywgKCkgPT4ge1xuICBpZiAoJCgnLmJ0bi1zZXQtb3B0aW9uJykubGVuZ3RoKSB7XG5cbiAgfVxuXG4gIC8vIHdvdyDsubTtirgg7JWI64K0IO2MneyXhVxuICAkKCcjd293UG9wdXBDbG9zZUJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICAkKCcjd293UG9wdXAnKS5oaWRlKCk7XG4gIH0pO1xuICAkKCcjd293UG9wdXBDbG9zZUNvb2tpZUJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBDb29raWVzLnNldCgnc2hvd1dvd0NhcnRQb3B1cCcsICdmYWxzZScsIHsgcGF0aDogJy8nLCBzZWN1cmU6IHRydWUsIGV4cGlyZXM6IDEgfSk7XG4gICAgJCgnI3dvd1BvcHVwJykuaGlkZSgpO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ2FydC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///122\n");

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _createBrowserHistory = __webpack_require__(18);\n\nvar _createBrowserHistory2 = _interopRequireDefault(_createBrowserHistory);\n\nvar _queryString = __webpack_require__(6);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nvar _common = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Category:load', function () {\n  var history = (0, _createBrowserHistory2.default)();\n\n  setSpecFilterButtonArea(false);\n\n  function getSelectedColorList() {\n    var colorList = [];\n    if ($('.spec-filter-wrapper .colorFilter:checked').length > 0) {\n      $('.spec-filter-wrapper  .colorFilter:checked').each(function (index, thisEle) {\n        colorList.push($(thisEle).val());\n      });\n    }\n    return colorList;\n  }\n\n  function getSelectedPriceList() {\n    var priceRangeList = [];\n    if ($('.spec-filter-wrapper .priceFilter:checked').length > 0) {\n      $('.spec-filter-wrapper  .priceFilter:checked').each(function (index, thisEle) {\n        priceRangeList.push($(thisEle).val());\n      });\n    }\n    return priceRangeList;\n  }\n\n  function getSelectedOnSale() {\n    if ($('.spec-filter-wrapper .onSaleFilter:checked').val() !== undefined) {\n      return true;\n    }\n    return false;\n  }\n\n  function getSelectedInStock() {\n    if ($('.spec-filter-wrapper .inStockFilter:checked').val() !== undefined) {\n      return true;\n    }\n    return false;\n  }\n\n  function getSelectedSizeSearchList() {\n    var sizeSearchList = [];\n    if ($('.spec-filter-wrapper .sizeSearchFilter:checked').length > 0) {\n      $('.spec-filter-wrapper .sizeSearchFilter:checked').each(function (index, thisEle) {\n        sizeSearchList.push($(thisEle).val());\n      });\n    }\n    return sizeSearchList;\n  }\n\n  function pushHistory(sortCodeParam) {\n    var search = _queryString2.default.parse(location.search);\n\n    var dataEle = $('#searchedProductListWrapper');\n    var categoryCode = dataEle.data('categoryCode');\n    search.category = categoryCode;\n    search.pageSize = dataEle.data('pageSize');\n    var colorList = getSelectedColorList();\n    if (colorList != null && colorList.length > 0) {\n      search.colors = colorList.join(',');\n    } else {\n      search.colors = \"\";\n    }\n    var priceRangeList = getSelectedPriceList();\n    if (priceRangeList != null && priceRangeList.length > 0) {\n      search.priceRanges = priceRangeList.join(',');\n    } else {\n      search.priceRanges = \"\";\n    }\n    var onSale = getSelectedOnSale();\n    if (onSale) {\n      search.onSale = onSale;\n    } else {\n      search.onSale = \"\";\n    }\n    var inStock = getSelectedInStock();\n    if (inStock) {\n      search.inStock = inStock;\n    } else {\n      search.inStock = \"\";\n    }\n\n    var sizeSearches = getSelectedSizeSearchList();\n    if (sizeSearches != null && sizeSearches.length > 0) {\n      search.sizeSearches = sizeSearches.join(',');\n    } else {\n      search.sizeSearches = \"\";\n    }\n\n    var sortCode = $('#sortSelect').val();\n    if (sortCodeParam) {\n      sortCode = sortCodeParam;\n      search.pageNumber = 1;\n    }\n    search.sort = sortCode;\n\n    history.push({\n      path: '/Category/List/' + categoryCode,\n      search: _queryString2.default.stringify(search),\n      state: search\n    });\n  }\n\n  (0, _common.setMoreBtnEvent)('.productMoreBtn', 'mobile');\n\n  $('#sortSelect').change(function (e) {\n    pushHistory($(e.currentTarget).val());\n  });\n\n  // Listen for changes to the current location.\n  history.listen(function (location /* , action */) {\n    var productResultAreaTemplate = Handlebars.templates['mobile/components/product/grid-with-color'];\n\n    var category = location.state.category !== undefined ? location.state.category : '';\n    var sizes = location.state.sizes !== undefined ? location.state.sizes : '';\n    var sizeSearches = location.state.sizeSearches !== undefined ? location.state.sizeSearches : '';\n    var colors = location.state.colors !== undefined ? location.state.colors : '';\n    var suppliers = location.state.suppliers !== undefined ? location.state.suppliers : '';\n    var supplierBrands = location.state.supplierBrands !== undefined ? location.state.supplierBrands : '';\n    var priceRanges = location.state.priceRanges !== undefined ? location.state.priceRanges : '';\n    var isBest = location.state.isBest !== undefined ? location.state.isBest : '';\n    var isNew = location.state.isNew !== undefined ? location.state.isNew : '';\n    var onSale = location.state.onSale !== undefined ? location.state.onSale : '';\n    var inStock = location.state.inStock !== undefined ? location.state.inStock : '';\n    var pageNumber = location.state.pageNumber !== undefined ? location.state.pageNumber : '';\n    var sort = location.state.sort !== undefined ? location.state.sort : '';\n    var pageSize = location.state.pageSize !== undefined ? location.state.pageSize : '';\n\n    var paramObject = {};\n    if (category != '') {\n      paramObject.category = category;\n    }\n    if (sizes != '') {\n      paramObject.sizes = sizes;\n    }\n    if (sizeSearches != '') {\n      paramObject.sizeSearches = sizeSearches;\n    }\n    if (colors != '') {\n      paramObject.colors = colors;\n    }\n    if (suppliers != '') {\n      paramObject.suppliers = suppliers;\n    }\n    if (supplierBrands != '') {\n      paramObject.supplierBrands = supplierBrands;\n    }\n    if (priceRanges != '') {\n      paramObject.priceRanges = priceRanges;\n    }\n    if (isBest != '') {\n      paramObject.isBest = isBest;\n    }\n    if (isNew != '') {\n      paramObject.isNew = isNew;\n    }\n    if (onSale != '') {\n      paramObject.onSale = onSale;\n    }\n    if (inStock != '') {\n      paramObject.inStock = inStock;\n    }\n    if (pageNumber != '') {\n      paramObject.pageNumber = pageNumber;\n    } else {\n      paramObject.pageNumber = 1;\n    }\n    if (sort != '') {\n      paramObject.sort = sort;\n    }\n    if (pageSize != '') {\n      paramObject.perPage = pageSize;\n    }\n\n    $.getJSON('/Product/Search', $.param(paramObject)).done(function (data) {\n      if (data) {\n        var dataObj = data;\n        $.each(dataObj.results, function (index, productDataItem) {\n          var productItem = productDataItem;\n          productItem.isShowColorImages = true;\n        });\n        var productData = { product: dataObj, parameters: paramObject };\n        if (paramObject.pageNumber == 1) {\n          $('.productResultAreaWrapper').html(productResultAreaTemplate(productData));\n        } else {\n          $('.productResultAreaWrapper').append(productResultAreaTemplate(productData));\n        }\n      }\n      setSpecFilterButtonArea(false);\n      setBrandFilterButtonArea(false);\n      $('#popup_layer, #overlay_t').hide();\n    });\n  });\n\n  $('.open_filter').click(function (e) {\n    var $this = $(e.currentTarget);\n    var filterType = $this.attr('data-pop-type');\n    $('#overlay_t').show();\n    $('.pop_' + filterType).show();\n    // $('.pop_' + filterType).css('top', Math.max(0, $(window).scrollTop() + 100) + 'px');\n  });\n  $('#overlay_t, .close').click(function (e) {\n    e.preventDefault();\n    $('#popup_layer, #overlay_t').hide();\n  });\n\n  $('.brand-list > li').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$($this).hasClass('on')) {\n      $($this).addClass('on');\n    } else {\n      $($this).removeClass('on');\n    }\n    setBrandFilterButtonArea(true);\n  });\n\n  $('.reset-spec-filter').click(function (e) {\n    resetFilterInputs();\n  });\n\n  $('.reset-brand-filter').click(function (e) {\n    resetFilterInputs(true);\n  });\n\n  $('#applySpecFilterBtn').click(function (e) {\n    pushHistory();\n  });\n\n  $('#applyBrandFilterBtn').click(function (e) {\n\n    var selectedSupplierBrandArray = [];\n    $('.brand-select li.on').each(function (i) {\n      selectedSupplierBrandArray.push($('.brand-select li.on').eq(i).data('supplierBrand'));\n    });\n\n    var selectedSupplierBrands = selectedSupplierBrandArray.join(',');\n\n    var dataEle = $('#searchedProductListWrapper');\n    var categoryCode = dataEle.data('categoryCode');\n\n    location.href = '/Category/List/' + categoryCode + '?supplierBrands=' + selectedSupplierBrands;\n  });\n\n  function setSpecFilterButtonArea(apply) {\n    var colorList = getSelectedColorList();\n    var priceRangeList = getSelectedPriceList();\n    var onSale = getSelectedOnSale();\n    var inStock = getSelectedInStock();\n    if (colorList.length > 0 || priceRangeList.length > 0 || onSale || inStock) {\n      $('.reset-spec-filter').prop(\"disabled\", false);\n    } else {\n      $('.reset-spec-filter').prop(\"disabled\", true);\n    }\n\n    if (apply) {\n      $('#specFilterBtnResetApply').show();\n      $('#specFilterBtnResetClose').hide();\n    } else {\n      $('#specFilterBtnResetApply').hide();\n      $('#specFilterBtnResetClose').show();\n    }\n  }\n\n  function setBrandFilterButtonArea(apply) {\n    if (apply) {\n      $('#brandFilterBtnResetApply').show();\n      $('#brandFilterBtnResetClose').hide();\n    } else {\n      $('#brandFilterBtnResetApply').hide();\n      $('#brandFilterBtnResetClose').show();\n    }\n  }\n\n  function resetFilterInputs(all) {\n    if (all) {\n      $('.brand-select li.on').removeClass('on');\n      setBrandFilterButtonArea(true);\n    }\n    $('.colorFilter').prop('checked', false).removeAttr('checked');\n    $('.priceFilter').prop('checked', false).removeAttr('checked');\n    $('.onSaleFilter').prop('checked', false).removeAttr('checked');\n    $('.inStockFilter').prop('checked', false).removeAttr('checked');\n    $('.sizeSearchFilter').prop('checked', false).removeAttr('checked');\n    //값 변경되면 팝업하단 적용버튼으로 변경\n    setSpecFilterButtonArea(true);\n  }\n\n  $('.spec-filter-wrapper .colorFilter, .spec-filter-wrapper .priceFilter, .spec-filter-wrapper .onSaleFilter, .spec-filter-wrapper .inStockFilter, .spec-filter-wrapper .sizeSearchFilter').change(function (e) {\n    //값 변경되면 팝업하단 적용버튼으로 변경\n    setSpecFilterButtonArea(true);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ2F0ZWdvcnkuYWN0aW9uLmpzPzFmZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUhpc3RvcnkgZnJvbSAnaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeSc7XG5pbXBvcnQgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcbmltcG9ydCB7IHNldE1vcmVCdG5FdmVudCB9IGZyb20gJy4uL2NvbW1vbi9jb21tb24nO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOkNhdGVnb3J5OmxvYWQnLCAoKSA9PiB7XG4gIGNvbnN0IGhpc3RvcnkgPSBjcmVhdGVIaXN0b3J5KCk7XG5cbiAgc2V0U3BlY0ZpbHRlckJ1dHRvbkFyZWEoZmFsc2UpO1xuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkQ29sb3JMaXN0KCkge1xuICAgIGNvbnN0IGNvbG9yTGlzdCA9IFtdO1xuICAgIGlmICgkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAuY29sb3JGaWx0ZXI6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICQoJy5zcGVjLWZpbHRlci13cmFwcGVyICAuY29sb3JGaWx0ZXI6Y2hlY2tlZCcpLmVhY2goKGluZGV4LCB0aGlzRWxlKSA9PiB7XG4gICAgICAgIGNvbG9yTGlzdC5wdXNoKCQodGhpc0VsZSkudmFsKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvckxpc3Q7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZFByaWNlTGlzdCgpIHtcbiAgICBjb25zdCBwcmljZVJhbmdlTGlzdCA9IFtdO1xuICAgIGlmICgkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAucHJpY2VGaWx0ZXI6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICQoJy5zcGVjLWZpbHRlci13cmFwcGVyICAucHJpY2VGaWx0ZXI6Y2hlY2tlZCcpLmVhY2goKGluZGV4LCB0aGlzRWxlKSA9PiB7XG4gICAgICAgIHByaWNlUmFuZ2VMaXN0LnB1c2goJCh0aGlzRWxlKS52YWwoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByaWNlUmFuZ2VMaXN0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRPblNhbGUoKSB7XG4gICAgaWYgKCQoJy5zcGVjLWZpbHRlci13cmFwcGVyIC5vblNhbGVGaWx0ZXI6Y2hlY2tlZCcpLnZhbCgpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZEluU3RvY2soKSB7XG4gICAgaWYgKCQoJy5zcGVjLWZpbHRlci13cmFwcGVyIC5pblN0b2NrRmlsdGVyOmNoZWNrZWQnKS52YWwoKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRTaXplU2VhcmNoTGlzdCgpIHtcbiAgICBjb25zdCBzaXplU2VhcmNoTGlzdCA9IFtdO1xuICAgIGlmICgkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAuc2l6ZVNlYXJjaEZpbHRlcjpjaGVja2VkJykubGVuZ3RoID4gMCkge1xuICAgICAgJCgnLnNwZWMtZmlsdGVyLXdyYXBwZXIgLnNpemVTZWFyY2hGaWx0ZXI6Y2hlY2tlZCcpLmVhY2goKGluZGV4LCB0aGlzRWxlKSA9PiB7XG4gICAgICAgIHNpemVTZWFyY2hMaXN0LnB1c2goJCh0aGlzRWxlKS52YWwoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemVTZWFyY2hMaXN0O1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhpc3Rvcnkoc29ydENvZGVQYXJhbSkge1xuICAgIGNvbnN0IHNlYXJjaCA9IHF1ZXJ5U3RyaW5nLnBhcnNlKGxvY2F0aW9uLnNlYXJjaCk7XG5cbiAgICBjb25zdCBkYXRhRWxlID0gJCgnI3NlYXJjaGVkUHJvZHVjdExpc3RXcmFwcGVyJyk7XG4gICAgY29uc3QgY2F0ZWdvcnlDb2RlID0gZGF0YUVsZS5kYXRhKCdjYXRlZ29yeUNvZGUnKTtcbiAgICBzZWFyY2guY2F0ZWdvcnkgPSBjYXRlZ29yeUNvZGU7XG4gICAgc2VhcmNoLnBhZ2VTaXplID0gZGF0YUVsZS5kYXRhKCdwYWdlU2l6ZScpO1xuICAgIGNvbnN0IGNvbG9yTGlzdCA9IGdldFNlbGVjdGVkQ29sb3JMaXN0KCk7XG4gICAgaWYgKGNvbG9yTGlzdCAhPSBudWxsICYmIGNvbG9yTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICBzZWFyY2guY29sb3JzID0gY29sb3JMaXN0LmpvaW4oJywnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoLmNvbG9ycyA9IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHByaWNlUmFuZ2VMaXN0ID0gZ2V0U2VsZWN0ZWRQcmljZUxpc3QoKTtcbiAgICBpZiAocHJpY2VSYW5nZUxpc3QgIT0gbnVsbCAmJiBwcmljZVJhbmdlTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICBzZWFyY2gucHJpY2VSYW5nZXMgPSBwcmljZVJhbmdlTGlzdC5qb2luKCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaC5wcmljZVJhbmdlcyA9IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IG9uU2FsZSA9IGdldFNlbGVjdGVkT25TYWxlKCk7XG4gICAgaWYgKG9uU2FsZSkge1xuICAgICAgc2VhcmNoLm9uU2FsZSA9IG9uU2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoLm9uU2FsZSA9IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IGluU3RvY2sgPSBnZXRTZWxlY3RlZEluU3RvY2soKTtcbiAgICBpZiAoaW5TdG9jaykge1xuICAgICAgc2VhcmNoLmluU3RvY2sgPSBpblN0b2NrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWFyY2guaW5TdG9jayA9IFwiXCI7XG4gICAgfVxuXG4gICAgY29uc3Qgc2l6ZVNlYXJjaGVzID0gZ2V0U2VsZWN0ZWRTaXplU2VhcmNoTGlzdCgpO1xuICAgIGlmIChzaXplU2VhcmNoZXMgIT0gbnVsbCAmJiBzaXplU2VhcmNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgc2VhcmNoLnNpemVTZWFyY2hlcyA9IHNpemVTZWFyY2hlcy5qb2luKCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaC5zaXplU2VhcmNoZXMgPSBcIlwiO1xuICAgIH1cblxuICAgIGxldCBzb3J0Q29kZSA9ICQoJyNzb3J0U2VsZWN0JykudmFsKCk7XG4gICAgaWYgKHNvcnRDb2RlUGFyYW0pIHtcbiAgICAgIHNvcnRDb2RlID0gc29ydENvZGVQYXJhbTtcbiAgICAgIHNlYXJjaC5wYWdlTnVtYmVyID0gMTtcbiAgICB9XG4gICAgc2VhcmNoLnNvcnQgPSBzb3J0Q29kZTtcblxuICAgIGhpc3RvcnkucHVzaCh7XG4gICAgICBwYXRoOiBgL0NhdGVnb3J5L0xpc3QvJHtjYXRlZ29yeUNvZGV9YCxcbiAgICAgIHNlYXJjaDogcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHNlYXJjaCksXG4gICAgICBzdGF0ZTogc2VhcmNoLFxuICAgIH0pO1xuICB9XG5cbiAgc2V0TW9yZUJ0bkV2ZW50KCcucHJvZHVjdE1vcmVCdG4nLCAnbW9iaWxlJyk7XG5cbiAgJCgnI3NvcnRTZWxlY3QnKS5jaGFuZ2UoKGUpID0+IHtcbiAgICBwdXNoSGlzdG9yeSgkKGUuY3VycmVudFRhcmdldCkudmFsKCkpO1xuICB9KTtcblxuICAvLyBMaXN0ZW4gZm9yIGNoYW5nZXMgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24uXG4gIGhpc3RvcnkubGlzdGVuKChsb2NhdGlvbi8qICwgYWN0aW9uICovKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdFJlc3VsdEFyZWFUZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvY29tcG9uZW50cy9wcm9kdWN0L2dyaWQtd2l0aC1jb2xvciddO1xuXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBsb2NhdGlvbi5zdGF0ZS5jYXRlZ29yeSAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUuY2F0ZWdvcnkgOiAnJztcbiAgICBjb25zdCBzaXplcyA9IGxvY2F0aW9uLnN0YXRlLnNpemVzICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5zaXplcyA6ICcnO1xuICAgIGNvbnN0IHNpemVTZWFyY2hlcyA9IGxvY2F0aW9uLnN0YXRlLnNpemVTZWFyY2hlcyAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUuc2l6ZVNlYXJjaGVzIDogJyc7XG4gICAgY29uc3QgY29sb3JzID0gbG9jYXRpb24uc3RhdGUuY29sb3JzICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5jb2xvcnMgOiAnJztcbiAgICBjb25zdCBzdXBwbGllcnMgPSBsb2NhdGlvbi5zdGF0ZS5zdXBwbGllcnMgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLnN1cHBsaWVycyA6ICcnO1xuICAgIGNvbnN0IHN1cHBsaWVyQnJhbmRzID0gbG9jYXRpb24uc3RhdGUuc3VwcGxpZXJCcmFuZHMgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLnN1cHBsaWVyQnJhbmRzIDogJyc7XG4gICAgY29uc3QgcHJpY2VSYW5nZXMgPSBsb2NhdGlvbi5zdGF0ZS5wcmljZVJhbmdlcyAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUucHJpY2VSYW5nZXMgOiAnJztcbiAgICBjb25zdCBpc0Jlc3QgPSBsb2NhdGlvbi5zdGF0ZS5pc0Jlc3QgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLmlzQmVzdCA6ICcnO1xuICAgIGNvbnN0IGlzTmV3ID0gbG9jYXRpb24uc3RhdGUuaXNOZXcgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLmlzTmV3IDogJyc7XG4gICAgY29uc3Qgb25TYWxlID0gbG9jYXRpb24uc3RhdGUub25TYWxlICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5vblNhbGUgOiAnJztcbiAgICBjb25zdCBpblN0b2NrID0gbG9jYXRpb24uc3RhdGUuaW5TdG9jayAhPT0gdW5kZWZpbmVkID8gbG9jYXRpb24uc3RhdGUuaW5TdG9jayA6ICcnO1xuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBsb2NhdGlvbi5zdGF0ZS5wYWdlTnVtYmVyICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5wYWdlTnVtYmVyIDogJyc7XG4gICAgY29uc3Qgc29ydCA9IGxvY2F0aW9uLnN0YXRlLnNvcnQgIT09IHVuZGVmaW5lZCA/IGxvY2F0aW9uLnN0YXRlLnNvcnQgOiAnJztcbiAgICBjb25zdCBwYWdlU2l6ZSA9IGxvY2F0aW9uLnN0YXRlLnBhZ2VTaXplICE9PSB1bmRlZmluZWQgPyBsb2NhdGlvbi5zdGF0ZS5wYWdlU2l6ZSA6ICcnO1xuXG4gICAgY29uc3QgcGFyYW1PYmplY3QgPSB7fTtcbiAgICBpZiAoY2F0ZWdvcnkgIT0gJycpIHsgcGFyYW1PYmplY3QuY2F0ZWdvcnkgPSBjYXRlZ29yeTsgfVxuICAgIGlmIChzaXplcyAhPSAnJykgeyBwYXJhbU9iamVjdC5zaXplcyA9IHNpemVzOyB9XG4gICAgaWYgKHNpemVTZWFyY2hlcyAhPSAnJykgeyBwYXJhbU9iamVjdC5zaXplU2VhcmNoZXMgPSBzaXplU2VhcmNoZXM7IH1cbiAgICBpZiAoY29sb3JzICE9ICcnKSB7IHBhcmFtT2JqZWN0LmNvbG9ycyA9IGNvbG9yczsgfVxuICAgIGlmIChzdXBwbGllcnMgIT0gJycpIHsgcGFyYW1PYmplY3Quc3VwcGxpZXJzID0gc3VwcGxpZXJzOyB9XG4gICAgaWYgKHN1cHBsaWVyQnJhbmRzICE9ICcnKSB7IHBhcmFtT2JqZWN0LnN1cHBsaWVyQnJhbmRzID0gc3VwcGxpZXJCcmFuZHMgfVxuICAgIGlmIChwcmljZVJhbmdlcyAhPSAnJykgeyBwYXJhbU9iamVjdC5wcmljZVJhbmdlcyA9IHByaWNlUmFuZ2VzOyB9XG4gICAgaWYgKGlzQmVzdCAhPSAnJykgeyBwYXJhbU9iamVjdC5pc0Jlc3QgPSBpc0Jlc3Q7IH1cbiAgICBpZiAoaXNOZXcgIT0gJycpIHsgcGFyYW1PYmplY3QuaXNOZXcgPSBpc05ldzsgfVxuICAgIGlmIChvblNhbGUgIT0gJycpIHsgcGFyYW1PYmplY3Qub25TYWxlID0gb25TYWxlOyB9XG4gICAgaWYgKGluU3RvY2sgIT0gJycpIHsgcGFyYW1PYmplY3QuaW5TdG9jayA9IGluU3RvY2s7IH1cbiAgICBpZiAocGFnZU51bWJlciAhPSAnJykgeyBwYXJhbU9iamVjdC5wYWdlTnVtYmVyID0gcGFnZU51bWJlcjsgfSBlbHNlIHsgcGFyYW1PYmplY3QucGFnZU51bWJlciA9IDE7IH1cbiAgICBpZiAoc29ydCAhPSAnJykgeyBwYXJhbU9iamVjdC5zb3J0ID0gc29ydDsgfVxuICAgIGlmIChwYWdlU2l6ZSAhPSAnJykgeyBwYXJhbU9iamVjdC5wZXJQYWdlID0gcGFnZVNpemU7IH1cblxuICAgICQuZ2V0SlNPTignL1Byb2R1Y3QvU2VhcmNoJywgJC5wYXJhbShwYXJhbU9iamVjdCkpLmRvbmUoKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGNvbnN0IGRhdGFPYmogPSBkYXRhO1xuICAgICAgICAkLmVhY2goZGF0YU9iai5yZXN1bHRzLCAoaW5kZXgsIHByb2R1Y3REYXRhSXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHByb2R1Y3RJdGVtID0gcHJvZHVjdERhdGFJdGVtO1xuICAgICAgICAgIHByb2R1Y3RJdGVtLmlzU2hvd0NvbG9ySW1hZ2VzID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHByb2R1Y3REYXRhID0geyBwcm9kdWN0OiBkYXRhT2JqLCBwYXJhbWV0ZXJzOiBwYXJhbU9iamVjdCB9O1xuICAgICAgICBpZiAocGFyYW1PYmplY3QucGFnZU51bWJlciA9PSAxKSB7XG4gICAgICAgICAgJCgnLnByb2R1Y3RSZXN1bHRBcmVhV3JhcHBlcicpLmh0bWwocHJvZHVjdFJlc3VsdEFyZWFUZW1wbGF0ZShwcm9kdWN0RGF0YSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5wcm9kdWN0UmVzdWx0QXJlYVdyYXBwZXInKS5hcHBlbmQocHJvZHVjdFJlc3VsdEFyZWFUZW1wbGF0ZShwcm9kdWN0RGF0YSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRTcGVjRmlsdGVyQnV0dG9uQXJlYShmYWxzZSk7XG4gICAgICBzZXRCcmFuZEZpbHRlckJ1dHRvbkFyZWEoZmFsc2UpO1xuICAgICAgJCgnI3BvcHVwX2xheWVyLCAjb3ZlcmxheV90JykuaGlkZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICAkKCcub3Blbl9maWx0ZXInKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IGZpbHRlclR5cGUgPSAkdGhpcy5hdHRyKCdkYXRhLXBvcC10eXBlJyk7XG4gICAgJCgnI292ZXJsYXlfdCcpLnNob3coKTtcbiAgICAkKCcucG9wXycgKyBmaWx0ZXJUeXBlKS5zaG93KCk7XG4gICAgLy8gJCgnLnBvcF8nICsgZmlsdGVyVHlwZSkuY3NzKCd0b3AnLCBNYXRoLm1heCgwLCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAxMDApICsgJ3B4Jyk7XG4gIH0pO1xuICAkKCcjb3ZlcmxheV90LCAuY2xvc2UnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKCcjcG9wdXBfbGF5ZXIsICNvdmVybGF5X3QnKS5oaWRlKCk7XG4gIH0pO1xuXG4gICQoJy5icmFuZC1saXN0ID4gbGknKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICghJCgkdGhpcykuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICQoJHRoaXMpLmFkZENsYXNzKCdvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCR0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICB9XG4gICAgc2V0QnJhbmRGaWx0ZXJCdXR0b25BcmVhKHRydWUpO1xuICB9KTtcblxuICAkKCcucmVzZXQtc3BlYy1maWx0ZXInKS5jbGljaygoZSkgPT4ge1xuICAgIHJlc2V0RmlsdGVySW5wdXRzKCk7XG4gIH0pO1xuXG4gICQoJy5yZXNldC1icmFuZC1maWx0ZXInKS5jbGljaygoZSkgPT4ge1xuICAgIHJlc2V0RmlsdGVySW5wdXRzKHRydWUpO1xuICB9KTtcblxuICAkKCcjYXBwbHlTcGVjRmlsdGVyQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBwdXNoSGlzdG9yeSgpO1xuICB9KTtcblxuICAkKCcjYXBwbHlCcmFuZEZpbHRlckJ0bicpLmNsaWNrKChlKSA9PiB7XG5cbiAgICBjb25zdCBzZWxlY3RlZFN1cHBsaWVyQnJhbmRBcnJheSA9IFtdO1xuICAgICQoJy5icmFuZC1zZWxlY3QgbGkub24nKS5lYWNoKChpKSA9PiB7XG4gICAgICBzZWxlY3RlZFN1cHBsaWVyQnJhbmRBcnJheS5wdXNoKCQoJy5icmFuZC1zZWxlY3QgbGkub24nKS5lcShpKS5kYXRhKCdzdXBwbGllckJyYW5kJykpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRTdXBwbGllckJyYW5kcyA9IHNlbGVjdGVkU3VwcGxpZXJCcmFuZEFycmF5LmpvaW4oJywnKTtcblxuICAgIGNvbnN0IGRhdGFFbGUgPSAkKCcjc2VhcmNoZWRQcm9kdWN0TGlzdFdyYXBwZXInKTtcbiAgICBjb25zdCBjYXRlZ29yeUNvZGUgPSBkYXRhRWxlLmRhdGEoJ2NhdGVnb3J5Q29kZScpO1xuXG4gICAgbG9jYXRpb24uaHJlZj0gYC9DYXRlZ29yeS9MaXN0LyR7Y2F0ZWdvcnlDb2RlfT9zdXBwbGllckJyYW5kcz0ke3NlbGVjdGVkU3VwcGxpZXJCcmFuZHN9YDtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2V0U3BlY0ZpbHRlckJ1dHRvbkFyZWEoYXBwbHkpIHtcbiAgICBjb25zdCBjb2xvckxpc3QgPSBnZXRTZWxlY3RlZENvbG9yTGlzdCgpO1xuICAgIGNvbnN0IHByaWNlUmFuZ2VMaXN0ID0gZ2V0U2VsZWN0ZWRQcmljZUxpc3QoKTtcbiAgICBjb25zdCBvblNhbGUgPSBnZXRTZWxlY3RlZE9uU2FsZSgpO1xuICAgIGNvbnN0IGluU3RvY2sgPSBnZXRTZWxlY3RlZEluU3RvY2soKTtcbiAgICBpZihjb2xvckxpc3QubGVuZ3RoID4gMCB8fCBwcmljZVJhbmdlTGlzdC5sZW5ndGggPiAwIHx8XG4gICAgICAgIG9uU2FsZSB8fCBpblN0b2NrKSB7XG4gICAgICAkKCcucmVzZXQtc3BlYy1maWx0ZXInKS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcucmVzZXQtc3BlYy1maWx0ZXInKS5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYoYXBwbHkpIHtcbiAgICAgICQoJyNzcGVjRmlsdGVyQnRuUmVzZXRBcHBseScpLnNob3coKTtcbiAgICAgICQoJyNzcGVjRmlsdGVyQnRuUmVzZXRDbG9zZScpLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3NwZWNGaWx0ZXJCdG5SZXNldEFwcGx5JykuaGlkZSgpO1xuICAgICAgJCgnI3NwZWNGaWx0ZXJCdG5SZXNldENsb3NlJykuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEJyYW5kRmlsdGVyQnV0dG9uQXJlYShhcHBseSkge1xuICAgIGlmKGFwcGx5KSB7XG4gICAgICAkKCcjYnJhbmRGaWx0ZXJCdG5SZXNldEFwcGx5Jykuc2hvdygpO1xuICAgICAgJCgnI2JyYW5kRmlsdGVyQnRuUmVzZXRDbG9zZScpLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI2JyYW5kRmlsdGVyQnRuUmVzZXRBcHBseScpLmhpZGUoKTtcbiAgICAgICQoJyNicmFuZEZpbHRlckJ0blJlc2V0Q2xvc2UnKS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRGaWx0ZXJJbnB1dHMoYWxsKSB7XG4gICAgaWYoYWxsKSB7XG4gICAgICAkKCcuYnJhbmQtc2VsZWN0IGxpLm9uJykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICBzZXRCcmFuZEZpbHRlckJ1dHRvbkFyZWEodHJ1ZSk7XG4gICAgfVxuICAgICQoJy5jb2xvckZpbHRlcicpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgICQoJy5wcmljZUZpbHRlcicpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgICQoJy5vblNhbGVGaWx0ZXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcbiAgICAkKCcuaW5TdG9ja0ZpbHRlcicpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgICQoJy5zaXplU2VhcmNoRmlsdGVyJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XG4gICAgLy/qsJIg67OA6rK965CY66m0IO2MneyXhe2VmOuLqCDsoIHsmqnrsoTtirzsnLzroZwg67OA6rK9XG4gICAgc2V0U3BlY0ZpbHRlckJ1dHRvbkFyZWEodHJ1ZSk7XG4gIH1cblxuICAkKCcuc3BlYy1maWx0ZXItd3JhcHBlciAuY29sb3JGaWx0ZXIsIC5zcGVjLWZpbHRlci13cmFwcGVyIC5wcmljZUZpbHRlciwgLnNwZWMtZmlsdGVyLXdyYXBwZXIgLm9uU2FsZUZpbHRlciwgLnNwZWMtZmlsdGVyLXdyYXBwZXIgLmluU3RvY2tGaWx0ZXIsIC5zcGVjLWZpbHRlci13cmFwcGVyIC5zaXplU2VhcmNoRmlsdGVyJykuY2hhbmdlKChlKSA9PiB7XG4gICAgLy/qsJIg67OA6rK965CY66m0IO2MneyXhe2VmOuLqCDsoIHsmqnrsoTtirzsnLzroZwg67OA6rK9XG4gICAgc2V0U3BlY0ZpbHRlckJ1dHRvbkFyZWEodHJ1ZSk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9DYXRlZ29yeS5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///123\n");

/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _swiper = __webpack_require__(12);\n\nvar _swiper2 = _interopRequireDefault(_swiper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Category:load', function () {\n  if ($('.scr-prod .swiper-slide').length) {\n    new _swiper2.default('.scr-prod', {\n      slidesPerView: 'auto',\n      centeredSlides: true,\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n  if ($('.brand-list li').length) {\n    new _swiper2.default('.brand-list', {\n      slidesPerView: 'auto',\n      centeredSlides: false,\n      paginationClickable: true,\n      spaceBetween: 0,\n      freeMode: true\n    });\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ2F0ZWdvcnkuanM/YWM1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3dpcGVyIGZyb20gJ3N3aXBlcic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6Q2F0ZWdvcnk6bG9hZCcsICgpID0+IHtcbiAgaWYgKCQoJy5zY3ItcHJvZCAuc3dpcGVyLXNsaWRlJykubGVuZ3RoKSB7XG4gICAgbmV3IFN3aXBlcignLnNjci1wcm9kJywge1xuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgIHBhZ2luYXRpb246ICcuc2NyLXByb2QtcGFnaW5hdGlvbicsXG4gICAgICBwYWdpbmF0aW9uVHlwZTogJ3Byb2dyZXNzJyxcbiAgICB9KTtcbiAgfVxuICBpZiAoJCgnLmJyYW5kLWxpc3QgbGknKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcuYnJhbmQtbGlzdCcsIHtcbiAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9DYXRlZ29yeS5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///124\n");

/***/ }),
/* 125 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Compensation:load', function () {});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ29tcGVuc2F0aW9uLmpzP2JmYmIiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpDb21wZW5zYXRpb246bG9hZCcsICgpID0+IHtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ29tcGVuc2F0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///125\n");

/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Contact:load', function () {\n  var initImageUploader = function initImageUploader(targetId) {\n    var imageUploader = new plupload.Uploader({\n      runtimes: 'html5,flash,silverlight,html4',\n      browse_button: '' + targetId,\n      url: '/Contact/qnaRegisterAttach',\n      unique_names: true,\n      rename: true,\n      filters: {\n        max_file_size: '2mb',\n        mime_types: [{ title: 'Image files', extensions: $('#attachConfigFileList').val() }]\n      },\n      multi_selection: false,\n\n      flash_swf_url: '/_ui/js/lib/plupload/Moxie.swf',\n\n      silverlight_xap_url: '/_ui/js/lib/plupload/Moxie.xap',\n      multipart_params: {\n        CSRFToken: $('[name=CSRFToken]').val()\n      },\n      init: {\n        PostInit: function PostInit() {\n          $('input[type=file]').attr('accept', 'image/*');\n        },\n        FilesAdded: function FilesAdded(up, files) {\n          for (var i = 0; i < files.length; i++) {\n            var uploadFile = files[i];\n            if (uploadFile.id != '') {\n              // 이미 업로드한 이미지가 있다면\n              if ($('#existFileArea').length > 0) {\n                $('#ticket_id, #existFileArea').remove();\n              }\n              imageUploader.start();\n              // TODO : 이미지 업로드 로딩 이미지\n              // const uploadedFileLayer = $(`<span id='attach_upload_file_${uploadFile.id}'></span>`);\n              // $('#file').after(uploadedFileLayer);\n            }\n          }\n        },\n        Error: function Error(up, err) {\n          up.disableBrowse(false);\n\n          if (err.code == -200) {\n            alert('서버와의 연결이 원활하지 않습니다.\\n잠시 후에 다시 시도해 주십시오.');\n          } else if (err.code == -600) {\n            alert('첨부파일은 2MB까지만 가능합니다.');\n          } else if (err.code == -601) {\n            alert('해당 파일 형식은 업로드를 지원하지 않습니다.');\n          } else {\n            alert('이미지를 업로드하는데 문제가 발생했습니다.\\n잠시 후에 다시 시도해 주십시오.');\n          }\n        },\n        FileUploaded: function FileUploaded(up, file, info) {\n          if (info == null || info.response == null) {\n            up.disableBrowse(false);\n            alert('이미지를 업로드하는데 문제가 발생했습니다.\\n잠시 후에 다시 시도해 주십시오.');\n          } else {\n            if (info.response != '') {\n              var data = $.parseJSON(info.response);\n\n              if (data.error_code == 0) {\n                var targetForm = $('#contactAddForm');\n                $('#beforeAddFileArea').hide();\n                $('#addFileArea').html('<span id=\\'existFileArea\\' class=\\'file-name\\'>' + file.name + '</span><span class=\\'btns\\'><a class=\\'btn-select\\' id=\\'addFileModifyBtn\\'>\\uBCC0\\uACBD</a><a class=\\'btn-delete\\'>\\uC0AD\\uC81C</a></span>');\n                targetForm.append($('<input type=\\'hidden\\' name=\\'ticket_id\\' id=\\'ticket_id\\' value=\\'' + data.ticket_id + '\\' />'));\n                initImageUploader('addFileModifyBtn');\n                $('#afterAddFileArea').show();\n              }\n            } else {\n              alert('업로드에 실패했습니다. \\n다시 시도해 주세요.');\n            }\n          }\n        }\n      }\n    });\n    imageUploader.init();\n  };\n\n  $('#addFileArea').on('click', '.btn-delete', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    $('#ticket_id').remove();\n    $('#addFileArea').empty();\n    $('#afterAddFileArea').hide();\n    $('#beforeAddFileArea').show();\n  });\n\n  var searchProductItemTemplate = null;\n  var selectedProductTabs = [];\n\n  function getSurveyList(selectedSubCategory) {\n    $.getJSON('/Contact/getQnaSurveyList?nodeId=' + selectedSubCategory, function (data) {\n      var hasOption05 = false;\n      $.each(data.surveyList, function (index, surveyItem) {\n        if (surveyItem.targetField == 'option05') {\n          $('#smsArea').show();\n          $.each(surveyItem.codeList, function (index2, codeItem) {\n            if (codeItem.codeValue == 'Y') {\n              $('#sms_info').prop('checked', true);\n            }\n          });\n          hasOption05 = true;\n          return false;\n        }\n        return true;\n      });\n      if (!hasOption05) {\n        $('#smsArea').hide();\n        $('#option05').val('N');\n      }\n    });\n  }\n\n  if ($('#contactAddForm').length > 0) {\n    getSurveyList('');\n    initImageUploader('addFileBtn');\n  }\n\n  function getDetail(ticketId, targetEle) {\n    var questionDetailEle = targetEle.find('.questionDetail');\n    var questionDetailAttachEle = targetEle.find('.questionDetailAttach');\n    $.getJSON('/Contact/getQnaDetailView/' + ticketId, function (data) {\n      if (data.ASSIGNS.length > 0) {\n        $(questionDetailEle).append(data.ASSIGNS[0].contents);\n        if (data.ASSIGNS[0].attachList && data.ASSIGNS[0].attachList.length > 0) {\n          var attachData = data.ASSIGNS[0].attachList[0];\n          var fileInfo = encodeURIComponent(attachData.fileInfo);\n          var _ticketId = encodeURIComponent(data.detailInfo.ticketId);\n          questionDetailAttachEle.attr('href', '/Contact/qnaImgDetail?fileInfo=' + fileInfo + '&ticketId=' + _ticketId).append('' + attachData.attachName);\n        }\n      }\n\n      if (data.ANSWTMP.length > 0) {\n        var answerTargetEle = targetEle.find('.ANSWTMP');\n        answerTargetEle.find('.answerContents').append(data.ANSWTMP[0].contents);\n        if (data.ANSWTMP[0].attachList && data.ANSWTMP[0].attachList.length > 0) {\n          var _attachData = data.ANSWTMP[0].attachList[0];\n          var _fileInfo = encodeURIComponent(_attachData.fileInfo);\n          var _ticketId2 = encodeURIComponent(data.detailInfo.ticketId);\n          answerTargetEle.append('<a class=\"file-name\" href=\"/Contact/qnaImgDetail?fileInfo=' + _fileInfo + '&ticketId=' + _ticketId2 + '\">' + _attachData.attachName + '</a>');\n        }\n        answerTargetEle.find('.answerCreatedDate').html(data.ANSWTMP[0].created_date);\n        answerTargetEle.show();\n      }\n\n      if (data.ANSWEND.length > 0) {\n        var _answerTargetEle = targetEle.find('.ANSWEND');\n        _answerTargetEle.find('.answerContents').append(data.ANSWEND[0].contents);\n        if (data.ANSWEND[0].attachList && data.ANSWEND[0].attachList.length > 0) {\n          var _attachData2 = data.ANSWEND[0].attachList[0];\n          var _fileInfo2 = encodeURIComponent(_attachData2.fileInfo);\n          var _ticketId3 = encodeURIComponent(data.detailInfo.ticketId);\n          _answerTargetEle.append('<a class=\"file-name\" href=\"/Contact/qnaImgDetail?fileInfo=' + _fileInfo2 + '&ticketId=' + _ticketId3 + '\">' + _attachData2.attachName + '</a>');\n        }\n        _answerTargetEle.find('.answerCreatedDate').html(data.ANSWEND[0].created_date);\n        _answerTargetEle.show();\n      }\n\n      if (data.ANSWADD.length > 0) {\n        var _answerTargetEle2 = targetEle.find('.ANSWADD');\n        _answerTargetEle2.find('.answerContents').append(data.ANSWADD[0].contents);\n        if (data.ANSWADD[0].attachList && data.ANSWADD[0].attachList.length > 0) {\n          var _attachData3 = data.ANSWADD[0].attachList[0];\n          var _fileInfo3 = encodeURIComponent(_attachData3.fileInfo);\n          var _ticketId4 = encodeURIComponent(data.detailInfo.ticketId);\n          _answerTargetEle2.append('<a class=\"file-name\" href=\"/Contact/qnaImgDetail?fileInfo=' + _fileInfo3 + '&ticketId=' + _ticketId4 + '\">' + _attachData3.attachName + '</a>');\n        }\n        _answerTargetEle2.find('.answerCreatedDate').html(data.ANSWADD[0].created_date);\n        _answerTargetEle2.show();\n      }\n    });\n  }\n\n  $('.ques a').click(function (e) {\n    var dataEle = $(e.currentTarget).parents('li');\n    var ticketId = dataEle.data('ticketId');\n    var targetEle = dataEle.find('.detailArea');\n    if ($.trim(targetEle.find('.questionDetail').text()) == '') {\n      getDetail(ticketId, targetEle);\n    }\n  });\n\n  $('#productRemove').click(function (e) {\n    e.preventDefault();\n    $('#orderNumber').val('');\n    $('#productName').val('');\n    $('#productCode').val('');\n    $('#selectedProduct').hide();\n    $('#emptyProduct').show();\n  });\n\n  // TODO : cart 데이터 프로덕트 모델링.\n  // TODO : cart 데이터 페이징. 무조건 다 뿌리게 되어 있음. 다 받은다음 뷰에서 5개씩 페이징 처리 해줄까?\n  var cartListCurrentPage = 1;\n  var cartListPageSize = 5;\n  function getCartList() {\n    $.ajax({\n      url: '/Cart',\n      method: 'GET',\n      data: '{}',\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data && data.items.length > 0) {\n          $('#emptyResultCartList').hide();\n          $('#resultCartListWrapper').show();\n          if (data.items.length < cartListCurrentPage * cartListPageSize) {\n            $('#resultCartListWrapper .prod-more').hide();\n          }\n\n          $.each(data.items, function (index, element) {\n            if (index < cartListCurrentPage * cartListPageSize) {\n              var filter = {\n                price: element.totalBasePrice.price,\n                wishPrice: element.totalWishPrice.price,\n                formattedPrice: element.totalBasePrice.formattedPrice,\n                formattedWishPrice: element.totalWishPrice.formattedPrice,\n                isDiscount: element.totalWishPrice.price > element.totalBasePrice.price,\n                symbol: element.totalBasePrice.symbol\n              };\n              element.filter = filter;\n              if (index == 0) {\n                $('#resultCartListWrapper .prod-list').html(searchProductItemTemplate(element));\n              } else {\n                $('#resultCartListWrapper .prod-list').append(searchProductItemTemplate(element));\n              }\n            }\n          });\n        } else {\n          $('#emptyResultCartList').show();\n        }\n      }\n    });\n  }\n\n  var mainCategoryDataMap = new Map();\n\n  function showSubCategory(mainCategory) {\n    var optionHtml = '<option value=\"\">상세 유형을 선택해 주세요.</option>';\n    if (mainCategory != '') {\n      $.each(mainCategoryDataMap.get(mainCategory), function (index, subCategory) {\n        optionHtml += '<option value=\\'' + subCategory.code + '\\'>' + subCategory.categoryValue + '</option>';\n      });\n    }\n    $('#select_category2').html(optionHtml);\n  }\n\n  function getSubCategories(selectedMainCategory) {\n    $.getJSON('/Contact/getQnaCategory?parentId=' + selectedMainCategory, function (data) {\n      var subCategories = [];\n      $.each(data.qnaCategory, function (index, subCategory) {\n        var subCategoryData = {\n          code: subCategory.nodeId,\n          categoryValue: subCategory.nodeName\n        };\n        subCategories.push(subCategoryData);\n      });\n      mainCategoryDataMap.set(selectedMainCategory, subCategories);\n    }).then(function () {\n      showSubCategory(selectedMainCategory);\n    });\n  }\n  $('#choice_type').change(function () {\n    var selectedMainCategory = $('#choice_type option:selected').val();\n    if (selectedMainCategory != 'NODE0000000888') {\n      $('#layout-product-type').addClass('hidden');\n    }\n    if (!mainCategoryDataMap.has(selectedMainCategory)) {\n      if (selectedMainCategory != '') {\n        getSubCategories(selectedMainCategory);\n      } else {\n        showSubCategory(selectedMainCategory);\n      }\n    } else {\n      showSubCategory(selectedMainCategory);\n    }\n  });\n\n  $('#select_category2').change(function () {\n    var selectedSubCategory = $('#select_category2 option:selected').val();\n    if (selectedSubCategory == 'NODE0000000893' || selectedSubCategory == 'NODE0000002247') {\n      $('#layout-product-type').removeClass('hidden');\n    } else {\n      $('#layout-product-type').addClass('hidden');\n    }\n\n    getSurveyList(selectedSubCategory);\n  });\n\n  $('#contactAddFormResetBtn').click(function (e) {\n    e.preventDefault();\n\n    var confirmResult = confirm('1:1 문의 작성을 취소하시겠습니까?');\n    if (confirmResult) {\n      if ($pt.isApp()) {\n        $pt.navigation.pop();\n      } else {\n        location.href = '/Contact';\n      }\n    }\n  });\n\n  $('#contactAddFormSubmitBtn').click(function (e) {\n    e.preventDefault();\n\n    $('#contactAddForm').submit();\n  });\n\n  $('#contactAddForm').validate({\n    rules: {\n      choice_type: {\n        required: true\n      },\n      select_category2: {\n        required: true\n      },\n      question_title: {\n        required: true\n      },\n      question_contents: {\n        required: true\n      }\n    },\n    messages: {\n      choice_type: {\n        required: '질문 유형을 선택해 주세요.'\n      },\n      select_category2: {\n        required: '상세 유형을 선택해 주세요.'\n      },\n      question_title: {\n        required: '제목을 입력해 주세요.'\n      },\n      question_contents: {\n        required: '내용을 입력해 주세요.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      var contactAddFormSubmitBtnLadda = Ladda.create($('#contactAddFormSubmitBtn')[0]);\n      contactAddFormSubmitBtnLadda.start();\n      if ($('#choice_type option:selected').val() == '') {\n        alert('유형을 선택해 주세요.');\n        contactAddFormSubmitBtnLadda.stop();\n        return false;\n      }\n      var nodeId = $('#select_category2 option:selected').val();\n      if (nodeId == '') {\n        alert('상세 유형을 선택해 주세요.');\n        contactAddFormSubmitBtnLadda.stop();\n        return false;\n      }\n      if ($('#smsArea').is(':visible') && $('#sms_info').is(':checked')) {\n        var cellPhone = $.trim($('#customer_tel').val());\n        if (cellPhone == '') {\n          alert('핸드폰 번호를 입력해 주세요.');\n          contactAddFormSubmitBtnLadda.stop();\n          return false;\n        }\n        var cellPhoneRegExp = /^01([0|1|6|7|8|9]?)([0-9]{3,4})([0-9]{4})$/;\n        if (!cellPhoneRegExp.test(cellPhone)) {\n          alert('잘못된 휴대폰 번호입니다. \\'-\\'를 제외한 번호만 입력해 주세요');\n          contactAddFormSubmitBtnLadda.stop();\n          return false;\n        }\n        $('#option05').val('Y');\n      } else {\n        $('#option05').val('N');\n      }\n      if ($('#orderNumber').val() == '' && $('#productName').val() != '' && $('#productCode').val() != '') {\n        $('#orderNumber').val('NONE');\n      }\n      $.ajax({\n        url: '/Contact/' + nodeId + '/qnaRegister',\n        method: 'POST',\n        data: $('#contactAddForm').serialize(),\n        dataType: 'JSON',\n        success: function success() {\n          alert('1:1 문의가 등록되었습니다.');\n          location.href = '/Contact';\n        },\n        error: function error() {\n          alert('1:1 문의가 등록되었습니다.');\n        },\n        complete: function complete() {\n          contactAddFormSubmitBtnLadda.stop();\n        }\n      });\n      return false;\n    }\n  });\n}); /**\n     * Created by byulnimkim on 2017-05-11.\n     */\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ29udGFjdC5hY3Rpb24uanM/NzkzMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgYnl1bG5pbWtpbSBvbiAyMDE3LTA1LTExLlxuICovXG5cbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpDb250YWN0OmxvYWQnLCAoKSA9PiB7XG4gIGNvbnN0IGluaXRJbWFnZVVwbG9hZGVyID0gKHRhcmdldElkKSA9PiB7XG4gICAgY29uc3QgaW1hZ2VVcGxvYWRlciA9IG5ldyBwbHVwbG9hZC5VcGxvYWRlcih7XG4gICAgICBydW50aW1lczogJ2h0bWw1LGZsYXNoLHNpbHZlcmxpZ2h0LGh0bWw0JyxcbiAgICAgIGJyb3dzZV9idXR0b246IGAke3RhcmdldElkfWAsXG4gICAgICB1cmw6ICcvQ29udGFjdC9xbmFSZWdpc3RlckF0dGFjaCcsXG4gICAgICB1bmlxdWVfbmFtZXM6IHRydWUsXG4gICAgICByZW5hbWU6IHRydWUsXG4gICAgICBmaWx0ZXJzOiB7XG4gICAgICAgIG1heF9maWxlX3NpemU6ICcybWInLFxuICAgICAgICBtaW1lX3R5cGVzOiBbXG4gICAgICAgICAgeyB0aXRsZTogJ0ltYWdlIGZpbGVzJywgZXh0ZW5zaW9uczogJCgnI2F0dGFjaENvbmZpZ0ZpbGVMaXN0JykudmFsKCkgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICBtdWx0aV9zZWxlY3Rpb246IGZhbHNlLFxuXG4gICAgICBmbGFzaF9zd2ZfdXJsOiAnL191aS9qcy9saWIvcGx1cGxvYWQvTW94aWUuc3dmJyxcblxuICAgICAgc2lsdmVybGlnaHRfeGFwX3VybDogJy9fdWkvanMvbGliL3BsdXBsb2FkL01veGllLnhhcCcsXG4gICAgICBtdWx0aXBhcnRfcGFyYW1zOiB7XG4gICAgICAgIENTUkZUb2tlbjogJCgnW25hbWU9Q1NSRlRva2VuXScpLnZhbCgpLFxuICAgICAgfSxcbiAgICAgIGluaXQ6IHtcbiAgICAgICAgUG9zdEluaXQ6ICgpID0+IHtcbiAgICAgICAgICAkKCdpbnB1dFt0eXBlPWZpbGVdJykuYXR0cignYWNjZXB0JywgJ2ltYWdlLyonKTtcbiAgICAgICAgfSxcbiAgICAgICAgRmlsZXNBZGRlZDogKHVwLCBmaWxlcykgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZEZpbGUgPSBmaWxlc1tpXTtcbiAgICAgICAgICAgIGlmICh1cGxvYWRGaWxlLmlkICE9ICcnKSB7XG4gICAgICAgICAgICAgIC8vIOydtOuvuCDsl4XroZzrk5ztlZwg7J2066+47KeA6rCAIOyeiOuLpOuptFxuICAgICAgICAgICAgICBpZiAoJCgnI2V4aXN0RmlsZUFyZWEnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpY2tldF9pZCwgI2V4aXN0RmlsZUFyZWEnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbWFnZVVwbG9hZGVyLnN0YXJ0KCk7XG4gICAgICAgICAgICAgIC8vIFRPRE8gOiDsnbTrr7jsp4Ag7JeF66Gc65OcIOuhnOuUqSDsnbTrr7jsp4BcbiAgICAgICAgICAgICAgLy8gY29uc3QgdXBsb2FkZWRGaWxlTGF5ZXIgPSAkKGA8c3BhbiBpZD0nYXR0YWNoX3VwbG9hZF9maWxlXyR7dXBsb2FkRmlsZS5pZH0nPjwvc3Bhbj5gKTtcbiAgICAgICAgICAgICAgLy8gJCgnI2ZpbGUnKS5hZnRlcih1cGxvYWRlZEZpbGVMYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBFcnJvcjogKHVwLCBlcnIpID0+IHtcbiAgICAgICAgICB1cC5kaXNhYmxlQnJvd3NlKGZhbHNlKTtcblxuICAgICAgICAgIGlmIChlcnIuY29kZSA9PSAtMjAwKSB7XG4gICAgICAgICAgICBhbGVydCgn7ISc67KE7JmA7J2YIOyXsOqysOydtCDsm5DtmZztlZjsp4Ag7JWK7Iq164uI64ukLlxcbuyeoOyLnCDtm4Tsl5Ag64uk7IucIOyLnOuPhO2VtCDso7zsi63si5zsmKQuJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PSAtNjAwKSB7XG4gICAgICAgICAgICBhbGVydCgn7LKo67aA7YyM7J287J2AIDJNQuq5jOyngOunjCDqsIDriqXtlanri4jri6QuJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PSAtNjAxKSB7XG4gICAgICAgICAgICBhbGVydCgn7ZW064u5IO2MjOydvCDtmJXsi53snYAg7JeF66Gc65Oc66W8IOyngOybkO2VmOyngCDslYrsirXri4jri6QuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KCfsnbTrr7jsp4Drpbwg7JeF66Gc65Oc7ZWY64qU642wIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuXFxu7J6g7IucIO2bhOyXkCDri6Tsi5wg7Iuc64+E7ZW0IOyjvOyLreyLnOyYpC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEZpbGVVcGxvYWRlZDogKHVwLCBmaWxlLCBpbmZvKSA9PiB7XG4gICAgICAgICAgaWYgKGluZm8gPT0gbnVsbCB8fCBpbmZvLnJlc3BvbnNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHVwLmRpc2FibGVCcm93c2UoZmFsc2UpO1xuICAgICAgICAgICAgYWxlcnQoJ+ydtOuvuOyngOulvCDsl4XroZzrk5ztlZjripTrjbAg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC5cXG7snqDsi5wg7ZuE7JeQIOuLpOyLnCDsi5zrj4TtlbQg7KO87Iut7Iuc7JikLicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaW5mby5yZXNwb25zZSAhPSAnJykge1xuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gJC5wYXJzZUpTT04oaW5mby5yZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3JfY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Rm9ybSA9ICQoJyNjb250YWN0QWRkRm9ybScpO1xuICAgICAgICAgICAgICAgICQoJyNiZWZvcmVBZGRGaWxlQXJlYScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjYWRkRmlsZUFyZWEnKS5odG1sKGA8c3BhbiBpZD0nZXhpc3RGaWxlQXJlYScgY2xhc3M9J2ZpbGUtbmFtZSc+JHtmaWxlLm5hbWV9PC9zcGFuPjxzcGFuIGNsYXNzPSdidG5zJz48YSBjbGFzcz0nYnRuLXNlbGVjdCcgaWQ9J2FkZEZpbGVNb2RpZnlCdG4nPuuzgOqyvTwvYT48YSBjbGFzcz0nYnRuLWRlbGV0ZSc+7IKt7KCcPC9hPjwvc3Bhbj5gKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRGb3JtLmFwcGVuZCgkKGA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSd0aWNrZXRfaWQnIGlkPSd0aWNrZXRfaWQnIHZhbHVlPScke2RhdGEudGlja2V0X2lkfScgLz5gKSk7XG4gICAgICAgICAgICAgICAgaW5pdEltYWdlVXBsb2FkZXIoJ2FkZEZpbGVNb2RpZnlCdG4nKTtcbiAgICAgICAgICAgICAgICAkKCcjYWZ0ZXJBZGRGaWxlQXJlYScpLnNob3coKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxlcnQoJ+yXheuhnOuTnOyXkCDsi6TtjKjtlojsirXri4jri6QuIFxcbuuLpOyLnCDsi5zrj4TtlbQg7KO87IS47JqULicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgaW1hZ2VVcGxvYWRlci5pbml0KCk7XG4gIH07XG5cbiAgJCgnI2FkZEZpbGVBcmVhJykub24oJ2NsaWNrJywgJy5idG4tZGVsZXRlJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAkKCcjdGlja2V0X2lkJykucmVtb3ZlKCk7XG4gICAgJCgnI2FkZEZpbGVBcmVhJykuZW1wdHkoKTtcbiAgICAkKCcjYWZ0ZXJBZGRGaWxlQXJlYScpLmhpZGUoKTtcbiAgICAkKCcjYmVmb3JlQWRkRmlsZUFyZWEnKS5zaG93KCk7XG4gIH0pO1xuXG4gIGxldCBzZWFyY2hQcm9kdWN0SXRlbVRlbXBsYXRlID0gbnVsbDtcbiAgY29uc3Qgc2VsZWN0ZWRQcm9kdWN0VGFicyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGdldFN1cnZleUxpc3Qoc2VsZWN0ZWRTdWJDYXRlZ29yeSkge1xuICAgICQuZ2V0SlNPTihgL0NvbnRhY3QvZ2V0UW5hU3VydmV5TGlzdD9ub2RlSWQ9JHtzZWxlY3RlZFN1YkNhdGVnb3J5fWAsIChkYXRhKSA9PiB7XG4gICAgICBsZXQgaGFzT3B0aW9uMDUgPSBmYWxzZTtcbiAgICAgICQuZWFjaChkYXRhLnN1cnZleUxpc3QsIChpbmRleCwgc3VydmV5SXRlbSkgPT4ge1xuICAgICAgICBpZiAoc3VydmV5SXRlbS50YXJnZXRGaWVsZCA9PSAnb3B0aW9uMDUnKSB7XG4gICAgICAgICAgJCgnI3Ntc0FyZWEnKS5zaG93KCk7XG4gICAgICAgICAgJC5lYWNoKHN1cnZleUl0ZW0uY29kZUxpc3QsIChpbmRleDIsIGNvZGVJdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29kZUl0ZW0uY29kZVZhbHVlID09ICdZJykge1xuICAgICAgICAgICAgICAkKCcjc21zX2luZm8nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaGFzT3B0aW9uMDUgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFoYXNPcHRpb24wNSkge1xuICAgICAgICAkKCcjc21zQXJlYScpLmhpZGUoKTtcbiAgICAgICAgJCgnI29wdGlvbjA1JykudmFsKCdOJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoJCgnI2NvbnRhY3RBZGRGb3JtJykubGVuZ3RoID4gMCkge1xuICAgIGdldFN1cnZleUxpc3QoJycpO1xuICAgIGluaXRJbWFnZVVwbG9hZGVyKCdhZGRGaWxlQnRuJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZXRhaWwodGlja2V0SWQsIHRhcmdldEVsZSkge1xuICAgIGNvbnN0IHF1ZXN0aW9uRGV0YWlsRWxlID0gdGFyZ2V0RWxlLmZpbmQoJy5xdWVzdGlvbkRldGFpbCcpO1xuICAgIGNvbnN0IHF1ZXN0aW9uRGV0YWlsQXR0YWNoRWxlID0gdGFyZ2V0RWxlLmZpbmQoJy5xdWVzdGlvbkRldGFpbEF0dGFjaCcpO1xuICAgICQuZ2V0SlNPTihgL0NvbnRhY3QvZ2V0UW5hRGV0YWlsVmlldy8ke3RpY2tldElkfWAsIChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5BU1NJR05TLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChxdWVzdGlvbkRldGFpbEVsZSkuYXBwZW5kKGRhdGEuQVNTSUdOU1swXS5jb250ZW50cyk7XG4gICAgICAgIGlmIChkYXRhLkFTU0lHTlNbMF0uYXR0YWNoTGlzdCAmJiBkYXRhLkFTU0lHTlNbMF0uYXR0YWNoTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgYXR0YWNoRGF0YSA9IGRhdGEuQVNTSUdOU1swXS5hdHRhY2hMaXN0WzBdO1xuICAgICAgICAgIGNvbnN0IGZpbGVJbmZvID0gZW5jb2RlVVJJQ29tcG9uZW50KGF0dGFjaERhdGEuZmlsZUluZm8pO1xuICAgICAgICAgIGNvbnN0IHRpY2tldElkID0gZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEuZGV0YWlsSW5mby50aWNrZXRJZCk7XG4gICAgICAgICAgcXVlc3Rpb25EZXRhaWxBdHRhY2hFbGUuYXR0cignaHJlZicsIGAvQ29udGFjdC9xbmFJbWdEZXRhaWw/ZmlsZUluZm89JHtmaWxlSW5mb30mdGlja2V0SWQ9JHt0aWNrZXRJZH1gKS5hcHBlbmQoYCR7YXR0YWNoRGF0YS5hdHRhY2hOYW1lfWApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLkFOU1dUTVAubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBhbnN3ZXJUYXJnZXRFbGUgPSB0YXJnZXRFbGUuZmluZCgnLkFOU1dUTVAnKTtcbiAgICAgICAgYW5zd2VyVGFyZ2V0RWxlLmZpbmQoJy5hbnN3ZXJDb250ZW50cycpLmFwcGVuZChkYXRhLkFOU1dUTVBbMF0uY29udGVudHMpO1xuICAgICAgICBpZiAoZGF0YS5BTlNXVE1QWzBdLmF0dGFjaExpc3QgJiYgZGF0YS5BTlNXVE1QWzBdLmF0dGFjaExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGF0dGFjaERhdGEgPSBkYXRhLkFOU1dUTVBbMF0uYXR0YWNoTGlzdFswXTtcbiAgICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGVuY29kZVVSSUNvbXBvbmVudChhdHRhY2hEYXRhLmZpbGVJbmZvKTtcbiAgICAgICAgICBjb25zdCB0aWNrZXRJZCA9IGVuY29kZVVSSUNvbXBvbmVudChkYXRhLmRldGFpbEluZm8udGlja2V0SWQpO1xuICAgICAgICAgIGFuc3dlclRhcmdldEVsZS5hcHBlbmQoYDxhIGNsYXNzPVwiZmlsZS1uYW1lXCIgaHJlZj1cIi9Db250YWN0L3FuYUltZ0RldGFpbD9maWxlSW5mbz0ke2ZpbGVJbmZvfSZ0aWNrZXRJZD0ke3RpY2tldElkfVwiPiR7YXR0YWNoRGF0YS5hdHRhY2hOYW1lfTwvYT5gKTtcbiAgICAgICAgfVxuICAgICAgICBhbnN3ZXJUYXJnZXRFbGUuZmluZCgnLmFuc3dlckNyZWF0ZWREYXRlJykuaHRtbChkYXRhLkFOU1dUTVBbMF0uY3JlYXRlZF9kYXRlKTtcbiAgICAgICAgYW5zd2VyVGFyZ2V0RWxlLnNob3coKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEuQU5TV0VORC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGFuc3dlclRhcmdldEVsZSA9IHRhcmdldEVsZS5maW5kKCcuQU5TV0VORCcpO1xuICAgICAgICBhbnN3ZXJUYXJnZXRFbGUuZmluZCgnLmFuc3dlckNvbnRlbnRzJykuYXBwZW5kKGRhdGEuQU5TV0VORFswXS5jb250ZW50cyk7XG4gICAgICAgIGlmIChkYXRhLkFOU1dFTkRbMF0uYXR0YWNoTGlzdCAmJiBkYXRhLkFOU1dFTkRbMF0uYXR0YWNoTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgYXR0YWNoRGF0YSA9IGRhdGEuQU5TV0VORFswXS5hdHRhY2hMaXN0WzBdO1xuICAgICAgICAgIGNvbnN0IGZpbGVJbmZvID0gZW5jb2RlVVJJQ29tcG9uZW50KGF0dGFjaERhdGEuZmlsZUluZm8pO1xuICAgICAgICAgIGNvbnN0IHRpY2tldElkID0gZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEuZGV0YWlsSW5mby50aWNrZXRJZCk7XG4gICAgICAgICAgYW5zd2VyVGFyZ2V0RWxlLmFwcGVuZChgPGEgY2xhc3M9XCJmaWxlLW5hbWVcIiBocmVmPVwiL0NvbnRhY3QvcW5hSW1nRGV0YWlsP2ZpbGVJbmZvPSR7ZmlsZUluZm99JnRpY2tldElkPSR7dGlja2V0SWR9XCI+JHthdHRhY2hEYXRhLmF0dGFjaE5hbWV9PC9hPmApO1xuICAgICAgICB9XG4gICAgICAgIGFuc3dlclRhcmdldEVsZS5maW5kKCcuYW5zd2VyQ3JlYXRlZERhdGUnKS5odG1sKGRhdGEuQU5TV0VORFswXS5jcmVhdGVkX2RhdGUpO1xuICAgICAgICBhbnN3ZXJUYXJnZXRFbGUuc2hvdygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5BTlNXQURELmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYW5zd2VyVGFyZ2V0RWxlID0gdGFyZ2V0RWxlLmZpbmQoJy5BTlNXQUREJyk7XG4gICAgICAgIGFuc3dlclRhcmdldEVsZS5maW5kKCcuYW5zd2VyQ29udGVudHMnKS5hcHBlbmQoZGF0YS5BTlNXQUREWzBdLmNvbnRlbnRzKTtcbiAgICAgICAgaWYgKGRhdGEuQU5TV0FERFswXS5hdHRhY2hMaXN0ICYmIGRhdGEuQU5TV0FERFswXS5hdHRhY2hMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBhdHRhY2hEYXRhID0gZGF0YS5BTlNXQUREWzBdLmF0dGFjaExpc3RbMF07XG4gICAgICAgICAgY29uc3QgZmlsZUluZm8gPSBlbmNvZGVVUklDb21wb25lbnQoYXR0YWNoRGF0YS5maWxlSW5mbyk7XG4gICAgICAgICAgY29uc3QgdGlja2V0SWQgPSBlbmNvZGVVUklDb21wb25lbnQoZGF0YS5kZXRhaWxJbmZvLnRpY2tldElkKTtcbiAgICAgICAgICBhbnN3ZXJUYXJnZXRFbGUuYXBwZW5kKGA8YSBjbGFzcz1cImZpbGUtbmFtZVwiIGhyZWY9XCIvQ29udGFjdC9xbmFJbWdEZXRhaWw/ZmlsZUluZm89JHtmaWxlSW5mb30mdGlja2V0SWQ9JHt0aWNrZXRJZH1cIj4ke2F0dGFjaERhdGEuYXR0YWNoTmFtZX08L2E+YCk7XG4gICAgICAgIH1cbiAgICAgICAgYW5zd2VyVGFyZ2V0RWxlLmZpbmQoJy5hbnN3ZXJDcmVhdGVkRGF0ZScpLmh0bWwoZGF0YS5BTlNXQUREWzBdLmNyZWF0ZWRfZGF0ZSk7XG4gICAgICAgIGFuc3dlclRhcmdldEVsZS5zaG93KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAkKCcucXVlcyBhJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCBkYXRhRWxlID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJ2xpJyk7XG4gICAgY29uc3QgdGlja2V0SWQgPSBkYXRhRWxlLmRhdGEoJ3RpY2tldElkJyk7XG4gICAgY29uc3QgdGFyZ2V0RWxlID0gZGF0YUVsZS5maW5kKCcuZGV0YWlsQXJlYScpO1xuICAgIGlmICgkLnRyaW0odGFyZ2V0RWxlLmZpbmQoJy5xdWVzdGlvbkRldGFpbCcpLnRleHQoKSkgPT0gJycpIHtcbiAgICAgIGdldERldGFpbCh0aWNrZXRJZCwgdGFyZ2V0RWxlKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNwcm9kdWN0UmVtb3ZlJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnI29yZGVyTnVtYmVyJykudmFsKCcnKTtcbiAgICAkKCcjcHJvZHVjdE5hbWUnKS52YWwoJycpO1xuICAgICQoJyNwcm9kdWN0Q29kZScpLnZhbCgnJyk7XG4gICAgJCgnI3NlbGVjdGVkUHJvZHVjdCcpLmhpZGUoKTtcbiAgICAkKCcjZW1wdHlQcm9kdWN0Jykuc2hvdygpO1xuICB9KTtcblxuICAvLyBUT0RPIDogY2FydCDrjbDsnbTthLAg7ZSE66Gc642V7Yq4IOuqqOuNuOungS5cbiAgLy8gVE9ETyA6IGNhcnQg642w7J207YSwIO2OmOydtOynlS4g66y07KGw6rG0IOuLpCDrv4zrpqzqsowg65CY7Ja0IOyeiOydjC4g64ukIOuwm+ydgOuLpOydjCDrt7Dsl5DshJwgNeqwnOyUqSDtjpjsnbTsp5Ug7LKY66asIO2VtOykhOq5jD9cbiAgbGV0IGNhcnRMaXN0Q3VycmVudFBhZ2UgPSAxO1xuICBjb25zdCBjYXJ0TGlzdFBhZ2VTaXplID0gNTtcbiAgZnVuY3Rpb24gZ2V0Q2FydExpc3QoKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9DYXJ0JyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBkYXRhOiAne30nLFxuICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICQoJyNlbXB0eVJlc3VsdENhcnRMaXN0JykuaGlkZSgpO1xuICAgICAgICAgICQoJyNyZXN1bHRDYXJ0TGlzdFdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgaWYgKGRhdGEuaXRlbXMubGVuZ3RoIDwgKGNhcnRMaXN0Q3VycmVudFBhZ2UgKiBjYXJ0TGlzdFBhZ2VTaXplKSkge1xuICAgICAgICAgICAgJCgnI3Jlc3VsdENhcnRMaXN0V3JhcHBlciAucHJvZC1tb3JlJykuaGlkZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICQuZWFjaChkYXRhLml0ZW1zLCAoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmKGluZGV4IDwgKGNhcnRMaXN0Q3VycmVudFBhZ2UgKiBjYXJ0TGlzdFBhZ2VTaXplKSkge1xuICAgICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSB7XG4gICAgICAgICAgICAgICAgcHJpY2U6IGVsZW1lbnQudG90YWxCYXNlUHJpY2UucHJpY2UsXG4gICAgICAgICAgICAgICAgd2lzaFByaWNlOiBlbGVtZW50LnRvdGFsV2lzaFByaWNlLnByaWNlLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFByaWNlOiBlbGVtZW50LnRvdGFsQmFzZVByaWNlLmZvcm1hdHRlZFByaWNlLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFdpc2hQcmljZTogZWxlbWVudC50b3RhbFdpc2hQcmljZS5mb3JtYXR0ZWRQcmljZSxcbiAgICAgICAgICAgICAgICBpc0Rpc2NvdW50OiBlbGVtZW50LnRvdGFsV2lzaFByaWNlLnByaWNlID4gZWxlbWVudC50b3RhbEJhc2VQcmljZS5wcmljZSxcbiAgICAgICAgICAgICAgICBzeW1ib2w6IGVsZW1lbnQudG90YWxCYXNlUHJpY2Uuc3ltYm9sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGVsZW1lbnQuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAgICQoJyNyZXN1bHRDYXJ0TGlzdFdyYXBwZXIgLnByb2QtbGlzdCcpLmh0bWwoc2VhcmNoUHJvZHVjdEl0ZW1UZW1wbGF0ZShlbGVtZW50KSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3Jlc3VsdENhcnRMaXN0V3JhcHBlciAucHJvZC1saXN0JykuYXBwZW5kKHNlYXJjaFByb2R1Y3RJdGVtVGVtcGxhdGUoZWxlbWVudCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnI2VtcHR5UmVzdWx0Q2FydExpc3QnKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBtYWluQ2F0ZWdvcnlEYXRhTWFwID0gbmV3IE1hcCgpO1xuXG4gIGZ1bmN0aW9uIHNob3dTdWJDYXRlZ29yeShtYWluQ2F0ZWdvcnkpIHtcbiAgICBsZXQgb3B0aW9uSHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+7IOB7IS4IOycoO2YleydhCDshKDtg53tlbQg7KO87IS47JqULjwvb3B0aW9uPic7XG4gICAgaWYgKG1haW5DYXRlZ29yeSAhPSAnJykge1xuICAgICAgJC5lYWNoKG1haW5DYXRlZ29yeURhdGFNYXAuZ2V0KG1haW5DYXRlZ29yeSksIChpbmRleCwgc3ViQ2F0ZWdvcnkpID0+IHtcbiAgICAgICAgb3B0aW9uSHRtbCArPSBgPG9wdGlvbiB2YWx1ZT0nJHtzdWJDYXRlZ29yeS5jb2RlfSc+JHtzdWJDYXRlZ29yeS5jYXRlZ29yeVZhbHVlfTwvb3B0aW9uPmA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgJCgnI3NlbGVjdF9jYXRlZ29yeTInKS5odG1sKG9wdGlvbkh0bWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3ViQ2F0ZWdvcmllcyhzZWxlY3RlZE1haW5DYXRlZ29yeSkge1xuICAgICQuZ2V0SlNPTihgL0NvbnRhY3QvZ2V0UW5hQ2F0ZWdvcnk/cGFyZW50SWQ9JHtzZWxlY3RlZE1haW5DYXRlZ29yeX1gLCAoZGF0YSkgPT4ge1xuICAgICAgY29uc3Qgc3ViQ2F0ZWdvcmllcyA9IFtdO1xuICAgICAgJC5lYWNoKGRhdGEucW5hQ2F0ZWdvcnksIChpbmRleCwgc3ViQ2F0ZWdvcnkpID0+IHtcbiAgICAgICAgY29uc3Qgc3ViQ2F0ZWdvcnlEYXRhID0ge1xuICAgICAgICAgIGNvZGU6IHN1YkNhdGVnb3J5Lm5vZGVJZCxcbiAgICAgICAgICBjYXRlZ29yeVZhbHVlOiBzdWJDYXRlZ29yeS5ub2RlTmFtZSxcbiAgICAgICAgfTtcbiAgICAgICAgc3ViQ2F0ZWdvcmllcy5wdXNoKHN1YkNhdGVnb3J5RGF0YSk7XG4gICAgICB9KTtcbiAgICAgIG1haW5DYXRlZ29yeURhdGFNYXAuc2V0KHNlbGVjdGVkTWFpbkNhdGVnb3J5LCBzdWJDYXRlZ29yaWVzKTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHNob3dTdWJDYXRlZ29yeShzZWxlY3RlZE1haW5DYXRlZ29yeSk7XG4gICAgfSk7XG4gIH1cbiAgJCgnI2Nob2ljZV90eXBlJykuY2hhbmdlKCgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZE1haW5DYXRlZ29yeSA9ICQoJyNjaG9pY2VfdHlwZSBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICBpZiAoc2VsZWN0ZWRNYWluQ2F0ZWdvcnkgIT0gJ05PREUwMDAwMDAwODg4Jykge1xuICAgICAgJCgnI2xheW91dC1wcm9kdWN0LXR5cGUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgfVxuICAgIGlmICghbWFpbkNhdGVnb3J5RGF0YU1hcC5oYXMoc2VsZWN0ZWRNYWluQ2F0ZWdvcnkpKSB7XG4gICAgICBpZiAoc2VsZWN0ZWRNYWluQ2F0ZWdvcnkgIT0gJycpIHtcbiAgICAgICAgZ2V0U3ViQ2F0ZWdvcmllcyhzZWxlY3RlZE1haW5DYXRlZ29yeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG93U3ViQ2F0ZWdvcnkoc2VsZWN0ZWRNYWluQ2F0ZWdvcnkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzaG93U3ViQ2F0ZWdvcnkoc2VsZWN0ZWRNYWluQ2F0ZWdvcnkpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI3NlbGVjdF9jYXRlZ29yeTInKS5jaGFuZ2UoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkU3ViQ2F0ZWdvcnkgPSAkKCcjc2VsZWN0X2NhdGVnb3J5MiBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICBpZiAoc2VsZWN0ZWRTdWJDYXRlZ29yeSA9PSAnTk9ERTAwMDAwMDA4OTMnIHx8IHNlbGVjdGVkU3ViQ2F0ZWdvcnkgPT0gJ05PREUwMDAwMDAyMjQ3Jykge1xuICAgICAgJCgnI2xheW91dC1wcm9kdWN0LXR5cGUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNsYXlvdXQtcHJvZHVjdC10eXBlJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGdldFN1cnZleUxpc3Qoc2VsZWN0ZWRTdWJDYXRlZ29yeSk7XG4gIH0pO1xuXG4gICQoJyNjb250YWN0QWRkRm9ybVJlc2V0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gY29uZmlybSgnMToxIOusuOydmCDsnpHshLHsnYQg7Leo7IaM7ZWY7Iuc6rKg7Iq164uI6rmMPycpO1xuICAgIGlmIChjb25maXJtUmVzdWx0KSB7XG4gICAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9Db250YWN0JztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoJyNjb250YWN0QWRkRm9ybVN1Ym1pdEJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJCgnI2NvbnRhY3RBZGRGb3JtJykuc3VibWl0KCk7XG4gIH0pO1xuXG4gICQoJyNjb250YWN0QWRkRm9ybScpLnZhbGlkYXRlKHtcbiAgICBydWxlczoge1xuICAgICAgY2hvaWNlX3R5cGU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgc2VsZWN0X2NhdGVnb3J5Mjoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBxdWVzdGlvbl90aXRsZToge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBxdWVzdGlvbl9jb250ZW50czoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgY2hvaWNlX3R5cGU6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfsp4jrrLgg7Jyg7ZiV7J2EIOyEoO2Dne2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBzZWxlY3RfY2F0ZWdvcnkyOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7IOB7IS4IOycoO2YleydhCDshKDtg53tlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgcXVlc3Rpb25fdGl0bGU6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfsoJzrqqnsnYQg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICAgIHF1ZXN0aW9uX2NvbnRlbnRzOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn64K07Jqp7J2EIOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBzdWJtaXRIYW5kbGVyOiAoKSA9PiB7XG4gICAgICBjb25zdCBjb250YWN0QWRkRm9ybVN1Ym1pdEJ0bkxhZGRhID0gTGFkZGEuY3JlYXRlKCQoJyNjb250YWN0QWRkRm9ybVN1Ym1pdEJ0bicpWzBdKTtcbiAgICAgIGNvbnRhY3RBZGRGb3JtU3VibWl0QnRuTGFkZGEuc3RhcnQoKTtcbiAgICAgIGlmICgkKCcjY2hvaWNlX3R5cGUgb3B0aW9uOnNlbGVjdGVkJykudmFsKCkgPT0gJycpIHtcbiAgICAgICAgYWxlcnQoJ+ycoO2YleydhCDshKDtg53tlbQg7KO87IS47JqULicpO1xuICAgICAgICBjb250YWN0QWRkRm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZUlkID0gJCgnI3NlbGVjdF9jYXRlZ29yeTIgb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XG4gICAgICBpZiAobm9kZUlkID09ICcnKSB7XG4gICAgICAgIGFsZXJ0KCfsg4HshLgg7Jyg7ZiV7J2EIOyEoO2Dne2VtCDso7zshLjsmpQuJyk7XG4gICAgICAgIGNvbnRhY3RBZGRGb3JtU3VibWl0QnRuTGFkZGEuc3RvcCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoJCgnI3Ntc0FyZWEnKS5pcygnOnZpc2libGUnKSAmJiAkKCcjc21zX2luZm8nKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBjb25zdCBjZWxsUGhvbmUgPSAkLnRyaW0oJCgnI2N1c3RvbWVyX3RlbCcpLnZhbCgpKTtcbiAgICAgICAgaWYgKGNlbGxQaG9uZSA9PSAnJykge1xuICAgICAgICAgIGFsZXJ0KCftlbjrk5ztj7Ag67KI7Zi466W8IOyeheugpe2VtCDso7zshLjsmpQuJyk7XG4gICAgICAgICAgY29udGFjdEFkZEZvcm1TdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNlbGxQaG9uZVJlZ0V4cCA9IC9eMDEoWzB8MXw2fDd8OHw5XT8pKFswLTldezMsNH0pKFswLTldezR9KSQvO1xuICAgICAgICBpZiAoIWNlbGxQaG9uZVJlZ0V4cC50ZXN0KGNlbGxQaG9uZSkpIHtcbiAgICAgICAgICBhbGVydCgn7J6Y66q765CcIO2ctOuMgO2PsCDrsojtmLjsnoXri4jri6QuIFxcJy1cXCfrpbwg7KCc7Jm47ZWcIOuyiO2YuOunjCDsnoXroKXtlbQg7KO87IS47JqUJyk7XG4gICAgICAgICAgY29udGFjdEFkZEZvcm1TdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgICQoJyNvcHRpb24wNScpLnZhbCgnWScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnI29wdGlvbjA1JykudmFsKCdOJyk7XG4gICAgICB9XG4gICAgICBpZiAoJCgnI29yZGVyTnVtYmVyJykudmFsKCkgPT0gJycgJiYgJCgnI3Byb2R1Y3ROYW1lJykudmFsKCkgIT0gJycgJiYgJCgnI3Byb2R1Y3RDb2RlJykudmFsKCkgIT0gJycpIHtcbiAgICAgICAgJCgnI29yZGVyTnVtYmVyJykudmFsKCdOT05FJyk7XG4gICAgICB9XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGAvQ29udGFjdC8ke25vZGVJZH0vcW5hUmVnaXN0ZXJgLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgZGF0YTogJCgnI2NvbnRhY3RBZGRGb3JtJykuc2VyaWFsaXplKCksXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgICBhbGVydCgnMToxIOusuOydmOqwgCDrk7HroZ3rkJjsl4jsirXri4jri6QuJyk7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvQ29udGFjdCc7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAgICAgYWxlcnQoJzE6MSDrrLjsnZjqsIAg65Ox66Gd65CY7JeI7Iq164uI64ukLicpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIGNvbnRhY3RBZGRGb3JtU3VibWl0QnRuTGFkZGEuc3RvcCgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0NvbnRhY3QuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUlBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwREE7QUFwQkE7QUEyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbENBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFWQTtBQWNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBVkE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBZ0JBO0FBQ0E7QUFoRkE7QUFrRkE7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///126\n");

/***/ }),
/* 127 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _popupManager = __webpack_require__(26);\n\nvar _popupManager2 = _interopRequireDefault(_popupManager);\n\nvar _searchProduct = __webpack_require__(83);\n\nvar _searchProduct2 = _interopRequireDefault(_searchProduct);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Contact:load', function () {\n  $('.to-one .ques>a').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      $this.addClass('on');\n      $this.parent('div').next('div').slideDown(100);\n    } else {\n      $this.removeClass('on');\n      $this.parent('div').next('div').slideUp(100);\n    }\n    return false;\n  });\n\n  $('.add-form :text').each(function (index, textEle) {\n    if ($.trim($(textEle).val()) != '') {\n      $(textEle).next().show();\n    }\n  });\n  $('.add-form :text').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined') {\n      $this.next().hide();\n    } else {\n      $this.next().show();\n    }\n  });\n  $('.add-form textarea').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined') {\n      $this.next().hide();\n    } else {\n      $this.next().show();\n    }\n  });\n  // $('.file :file').change((e) => {\n  //   const $this = $(e.currentTarget);\n  //   const preview = $this.next().children('img');\n  //   $this.next().children('.in-tit').css('display', 'block').siblings('span').css('display', 'none');\n  //   if (window.FileReader) {\n  //     if (!$this[0].files[0].type.match(/image\\//)) return;\n  //     const reader = new FileReader();\n  //     reader.onload = (ee) => {\n  //       const src = ee.target.result;\n  //       preview.attr('src', src);\n  //     };\n  //     reader.readAsDataURL($this[0].files[0]);\n  //   } else {\n  //     $this[0].select();\n  //     $this[0].blur();\n  //     preview.attr('src', '/_ui/img/icn/icn-file.jpg');\n  //   }\n  // });\n  var cntInquiry = $('.cnt-inquiry ul');\n  var iqOffset = cntInquiry.offset();\n  var headerHgt = $('.kolon-header').height();\n  $(window).scroll(function () {\n    if (cntInquiry.length == 0) {\n      return;\n    }\n\n    if ($(document).scrollTop() + headerHgt > iqOffset.top) {\n      $(cntInquiry).addClass('fixed');\n    } else {\n      $(cntInquiry).removeClass('fixed');\n    }\n  });\n\n  // 상품 검색\n  window.searchProductCallback = function (data) {\n    $('#orderNumber').val(data.orderNumber);\n    $('#productCode').val(data.productCode);\n    $('#productCodeText').text(data.productCode);\n    $('#productName').val(data.productName);\n    $('#productImg').attr('src', data.productImg);\n    $('#productNameText').text(data.productName);\n    if (data.productIsDiscount) {\n      $('#productDiscount').text(data.productDiscount).show();\n    }\n    $('#productPrice').text(data.productPrice + '원');\n    $('#selectedProduct').show();\n    $('#emptyProduct').hide();\n    $('#productSupplierName').text(data.productSupplierName);\n  };\n\n  $('#emptyProduct,#editProductBtn').click(function () {\n    if ($pt.isApp()) {\n      $pt.navigation.modal({ url: '/Contact/SearchProduct', title: '문의 상품 선택', navigationBarType: 'NONE' });\n    } else {\n      _searchProduct2.default.show(new _popupManager2.default(), {\n        success: window.searchProductCallback\n      });\n    }\n  });\n});\n\n$(document).on('mobile:Contact:SearchProduct:load', function () {\n  _searchProduct2.default.show(new _popupManager2.default(), {\n    success: function success(data) {\n      if ($pt.isApp()) {\n        $pt.navigation.pop({\n          animation: 'TOP_TO_BOTTOM',\n          script: 'searchProductCallback(' + JSON.stringify(data) + ')'\n        });\n      } else {\n        opener.searchProductCallback(data);\n        window.close();\n      }\n    }\n  }, true);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ29udGFjdC5qcz9jMzI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3B1cE1hbmFnZXIgZnJvbSAnLi4vY29tbW9uL3BvcHVwLW1hbmFnZXInO1xuaW1wb3J0IHNlYXJjaFByb2R1Y3QgZnJvbSAnLi9jb21wb25lbnQvc2VhcmNoLXByb2R1Y3QnO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOkNvbnRhY3Q6bG9hZCcsICgpID0+IHtcbiAgJCgnLnRvLW9uZSAucXVlcz5hJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgICAgICR0aGlzLnBhcmVudCgnZGl2JykubmV4dCgnZGl2Jykuc2xpZGVEb3duKDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgJHRoaXMucGFyZW50KCdkaXYnKS5uZXh0KCdkaXYnKS5zbGlkZVVwKDEwMCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgJCgnLmFkZC1mb3JtIDp0ZXh0JykuZWFjaCgoaW5kZXgsIHRleHRFbGUpID0+IHtcbiAgICBpZiAoJC50cmltKCQodGV4dEVsZSkudmFsKCkpICE9ICcnKSB7XG4gICAgICAkKHRleHRFbGUpLm5leHQoKS5zaG93KCk7XG4gICAgfVxuICB9KTtcbiAgJCgnLmFkZC1mb3JtIDp0ZXh0Jykua2V5dXAoKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMudmFsKCkgPT0gbnVsbCB8fCAkdGhpcy52YWwoKSA9PSAnJyB8fCAkdGhpcy52YWwoKSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgJHRoaXMubmV4dCgpLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMubmV4dCgpLnNob3coKTtcbiAgICB9XG4gIH0pO1xuICAkKCcuYWRkLWZvcm0gdGV4dGFyZWEnKS5rZXl1cCgoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICgkdGhpcy52YWwoKSA9PSBudWxsIHx8ICR0aGlzLnZhbCgpID09ICcnIHx8ICR0aGlzLnZhbCgpID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAkdGhpcy5uZXh0KCkuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5uZXh0KCkuc2hvdygpO1xuICAgIH1cbiAgfSk7XG4gIC8vICQoJy5maWxlIDpmaWxlJykuY2hhbmdlKChlKSA9PiB7XG4gIC8vICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIC8vICAgY29uc3QgcHJldmlldyA9ICR0aGlzLm5leHQoKS5jaGlsZHJlbignaW1nJyk7XG4gIC8vICAgJHRoaXMubmV4dCgpLmNoaWxkcmVuKCcuaW4tdGl0JykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJykuc2libGluZ3MoJ3NwYW4nKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAvLyAgIGlmICh3aW5kb3cuRmlsZVJlYWRlcikge1xuICAvLyAgICAgaWYgKCEkdGhpc1swXS5maWxlc1swXS50eXBlLm1hdGNoKC9pbWFnZVxcLy8pKSByZXR1cm47XG4gIC8vICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAvLyAgICAgcmVhZGVyLm9ubG9hZCA9IChlZSkgPT4ge1xuICAvLyAgICAgICBjb25zdCBzcmMgPSBlZS50YXJnZXQucmVzdWx0O1xuICAvLyAgICAgICBwcmV2aWV3LmF0dHIoJ3NyYycsIHNyYyk7XG4gIC8vICAgICB9O1xuICAvLyAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoJHRoaXNbMF0uZmlsZXNbMF0pO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICAkdGhpc1swXS5zZWxlY3QoKTtcbiAgLy8gICAgICR0aGlzWzBdLmJsdXIoKTtcbiAgLy8gICAgIHByZXZpZXcuYXR0cignc3JjJywgJy9fdWkvaW1nL2ljbi9pY24tZmlsZS5qcGcnKTtcbiAgLy8gICB9XG4gIC8vIH0pO1xuICBjb25zdCBjbnRJbnF1aXJ5ID0gJCgnLmNudC1pbnF1aXJ5IHVsJyk7XG4gIGNvbnN0IGlxT2Zmc2V0ID0gY250SW5xdWlyeS5vZmZzZXQoKTtcbiAgY29uc3QgaGVhZGVySGd0ID0gJCgnLmtvbG9uLWhlYWRlcicpLmhlaWdodCgpO1xuICAkKHdpbmRvdykuc2Nyb2xsKCgpID0+IHtcbiAgICBpZiAoY250SW5xdWlyeS5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSArIGhlYWRlckhndCA+IGlxT2Zmc2V0LnRvcCkge1xuICAgICAgJChjbnRJbnF1aXJ5KS5hZGRDbGFzcygnZml4ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChjbnRJbnF1aXJ5KS5yZW1vdmVDbGFzcygnZml4ZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOyDge2SiCDqsoDsg4lcbiAgd2luZG93LnNlYXJjaFByb2R1Y3RDYWxsYmFjayA9IChkYXRhKSA9PiB7XG4gICAgJCgnI29yZGVyTnVtYmVyJykudmFsKGRhdGEub3JkZXJOdW1iZXIpO1xuICAgICQoJyNwcm9kdWN0Q29kZScpLnZhbChkYXRhLnByb2R1Y3RDb2RlKTtcbiAgICAkKCcjcHJvZHVjdENvZGVUZXh0JykudGV4dChkYXRhLnByb2R1Y3RDb2RlKTtcbiAgICAkKCcjcHJvZHVjdE5hbWUnKS52YWwoZGF0YS5wcm9kdWN0TmFtZSk7XG4gICAgJCgnI3Byb2R1Y3RJbWcnKS5hdHRyKCdzcmMnLCBkYXRhLnByb2R1Y3RJbWcpO1xuICAgICQoJyNwcm9kdWN0TmFtZVRleHQnKS50ZXh0KGRhdGEucHJvZHVjdE5hbWUpO1xuICAgIGlmIChkYXRhLnByb2R1Y3RJc0Rpc2NvdW50KSB7XG4gICAgICAkKCcjcHJvZHVjdERpc2NvdW50JykudGV4dChkYXRhLnByb2R1Y3REaXNjb3VudCkuc2hvdygpO1xuICAgIH1cbiAgICAkKCcjcHJvZHVjdFByaWNlJykudGV4dChkYXRhLnByb2R1Y3RQcmljZSArICfsm5AnKTtcbiAgICAkKCcjc2VsZWN0ZWRQcm9kdWN0Jykuc2hvdygpO1xuICAgICQoJyNlbXB0eVByb2R1Y3QnKS5oaWRlKCk7XG4gICAgJCgnI3Byb2R1Y3RTdXBwbGllck5hbWUnKS50ZXh0KGRhdGEucHJvZHVjdFN1cHBsaWVyTmFtZSk7XG4gIH07XG5cbiAgJCgnI2VtcHR5UHJvZHVjdCwjZWRpdFByb2R1Y3RCdG4nKS5jbGljaygoKSA9PiB7XG4gICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogJy9Db250YWN0L1NlYXJjaFByb2R1Y3QnLCB0aXRsZTogJ+usuOydmCDsg4Htkogg7ISg7YOdJywgbmF2aWdhdGlvbkJhclR5cGU6ICdOT05FJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoUHJvZHVjdC5zaG93KG5ldyBQb3B1cE1hbmFnZXIoKSwge1xuICAgICAgICBzdWNjZXNzOiB3aW5kb3cuc2VhcmNoUHJvZHVjdENhbGxiYWNrLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOkNvbnRhY3Q6U2VhcmNoUHJvZHVjdDpsb2FkJywgKCkgPT4ge1xuICBzZWFyY2hQcm9kdWN0LnNob3cobmV3IFBvcHVwTWFuYWdlcigpLCB7XG4gICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAkcHQubmF2aWdhdGlvbi5wb3Aoe1xuICAgICAgICAgIGFuaW1hdGlvbjogJ1RPUF9UT19CT1RUT00nLFxuICAgICAgICAgIHNjcmlwdDogYHNlYXJjaFByb2R1Y3RDYWxsYmFjaygke0pTT04uc3RyaW5naWZ5KGRhdGEpfSlgLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZW5lci5zZWFyY2hQcm9kdWN0Q2FsbGJhY2soZGF0YSk7XG4gICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sIHRydWUpO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9Db250YWN0LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///127\n");

/***/ }),
/* 128 */
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"search-product-popup-layer\\\">\\n    <header class=\\\"kolon-header\\\">\\n        <div class=\\\"h-wrap\\\">\\n            <ul class=\\\"top-navi\\\">\\n                <li>\\n                    <a class=\\\"back back-btn\\\" style=\\\"display: none\\\">뒤로가기</a>\\n                </li>\\n                <li>\\n                    <h1 class=\\\"sub\\\"><a>문의 상품 선택</a></h1>\\n                </li>\\n                <li>\\n                    <a class=\\\"close close-btn\\\">닫기</a>\\n                </li>\\n            </ul>\\n        </div>\\n    </header>\\n    <div class=\\\"header-padding\\\"></div>\\n\\n    <section id=\\\"kolon-content\\\" class=\\\"pt0\\\">\\n\\n        <article class=\\\"search-prod\\\">\\n            <div class=\\\"cs-depth3\\\">\\n                <ul id=\\\"productTypeTabs\\\">\\n                    <li class=\\\"on\\\"><a data-product-type=\\\"order\\\">주문상품</a></li>\\n                    <li><a data-product-type=\\\"cart\\\">장바구니상품</a></li>\\n                    <li><a data-product-type=\\\"wishList\\\">관심상품</a></li>\\n                </ul>\\n            </div>\\n\\n            <div class=\\\"select-period\\\">\\n                <ul id=\\\"periodTab\\\">\\n                    <li class=\\\"on\\\"><a data-search-period=30>1개월</a></li>\\n                    <li><a data-search-period=90>3개월</a></li>\\n                    <li><a data-search-period=365>1년</a></li>\\n                </ul>\\n            </div>\\n\\n            <!-- 주문상품 -->\\n            <div class=\\\"tab0 tab\\\">\\n                <div id=\\\"resultOrderListWrapper\\\" style=\\\"display: none;\\\">\\n                    <ul class=\\\"prod-list\\\">\\n\\n                    </ul>\\n                    <a class=\\\"prod-more\\\">더보기</a>\\n                </div>\\n                <div id=\\\"emptyResultOrderList\\\" class=\\\"result-x\\\" style=\\\"display: none;\\\">\\n                    주문상품이 없습니다.\\n                </div>\\n            </div>\\n            <!-- //주문상품 -->\\n\\n            <!-- 장바구니상품 -->\\n            <div class=\\\"tab1 tab\\\">\\n                <div id=\\\"resultCartListWrapper\\\" style=\\\"display: none;\\\">\\n                    <ul class=\\\"prod-list\\\">\\n\\n                    </ul>\\n                    <a class=\\\"prod-more\\\">더보기</a>\\n                </div>\\n                <div id=\\\"emptyResultCartList\\\" class=\\\"result-x\\\" style=\\\"display: none;\\\">\\n                    장바구니상품이 없습니다.\\n                </div>\\n            </div>\\n            <!-- //장바구니상품 -->\\n\\n            <!-- 관심상품 -->\\n            <div class=\\\"tab2 tab\\\">\\n                <div id=\\\"resultWishListWrapper\\\" style=\\\"display: none;\\\">\\n                    <ul class=\\\"prod-list\\\">\\n\\n                    </ul>\\n                    <a class=\\\"prod-more\\\">더보기</a>\\n                </div>\\n                <div id=\\\"emptyResultWishList\\\" class=\\\"result-x\\\" style=\\\"display: none;\\\">\\n                    관심상품이 없습니다.\\n                </div>\\n            </div>\\n            <!-- //관심상품 -->\\n        </article>\\n    </section>\\n</div>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvc2VhcmNoLXByb2R1Y3QtcG9wdXAuaGJzP2RhZTYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInNlYXJjaC1wcm9kdWN0LXBvcHVwLWxheWVyXFxcIj5cXG4gICAgPGhlYWRlciBjbGFzcz1cXFwia29sb24taGVhZGVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImgtd3JhcFxcXCI+XFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJ0b3AtbmF2aVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJiYWNrIGJhY2stYnRuXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+65Kk66Gc6rCA6riwPC9hPlxcbiAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XFxcInN1YlxcXCI+PGE+66y47J2YIOyDge2SiCDshKDtg508L2E+PC9oMT5cXG4gICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImNsb3NlIGNsb3NlLWJ0blxcXCI+64ur6riwPC9hPlxcbiAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9oZWFkZXI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlci1wYWRkaW5nXFxcIj48L2Rpdj5cXG5cXG4gICAgPHNlY3Rpb24gaWQ9XFxcImtvbG9uLWNvbnRlbnRcXFwiIGNsYXNzPVxcXCJwdDBcXFwiPlxcblxcbiAgICAgICAgPGFydGljbGUgY2xhc3M9XFxcInNlYXJjaC1wcm9kXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjcy1kZXB0aDNcXFwiPlxcbiAgICAgICAgICAgICAgICA8dWwgaWQ9XFxcInByb2R1Y3RUeXBlVGFic1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIm9uXFxcIj48YSBkYXRhLXByb2R1Y3QtdHlwZT1cXFwib3JkZXJcXFwiPuyjvOusuOyDge2SiDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGRhdGEtcHJvZHVjdC10eXBlPVxcXCJjYXJ0XFxcIj7snqXrsJTqtazri4jsg4Htkog8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgICAgIDxsaT48YSBkYXRhLXByb2R1Y3QtdHlwZT1cXFwid2lzaExpc3RcXFwiPuq0gOyLrOyDge2SiDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdC1wZXJpb2RcXFwiPlxcbiAgICAgICAgICAgICAgICA8dWwgaWQ9XFxcInBlcmlvZFRhYlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIm9uXFxcIj48YSBkYXRhLXNlYXJjaC1wZXJpb2Q9MzA+MeqwnOyblDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGRhdGEtc2VhcmNoLXBlcmlvZD05MD4z6rCc7JuUPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgICAgICA8bGk+PGEgZGF0YS1zZWFyY2gtcGVyaW9kPTM2NT4x64WEPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgPCEtLSDso7zrrLjsg4HtkoggLS0+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGFiMCB0YWJcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJyZXN1bHRPcmRlckxpc3RXcmFwcGVyXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJwcm9kLWxpc3RcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJwcm9kLW1vcmVcXFwiPuuNlOuztOq4sDwvYT5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImVtcHR5UmVzdWx0T3JkZXJMaXN0XFxcIiBjbGFzcz1cXFwicmVzdWx0LXhcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICDso7zrrLjsg4HtkojsnbQg7JeG7Iq164uI64ukLlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8IS0tIC8v7KO866y47IOB7ZKIIC0tPlxcblxcbiAgICAgICAgICAgIDwhLS0g7J6l67CU6rWs64uI7IOB7ZKIIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRhYjEgdGFiXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwicmVzdWx0Q2FydExpc3RXcmFwcGVyXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJwcm9kLWxpc3RcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJwcm9kLW1vcmVcXFwiPuuNlOuztOq4sDwvYT5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImVtcHR5UmVzdWx0Q2FydExpc3RcXFwiIGNsYXNzPVxcXCJyZXN1bHQteFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIOyepeuwlOq1rOuLiOyDge2SiOydtCDsl4bsirXri4jri6QuXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwhLS0gLy/snqXrsJTqtazri4jsg4HtkoggLS0+XFxuXFxuICAgICAgICAgICAgPCEtLSDqtIDsi6zsg4HtkoggLS0+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGFiMiB0YWJcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJyZXN1bHRXaXNoTGlzdFdyYXBwZXJcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcInByb2QtbGlzdFxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcInByb2QtbW9yZVxcXCI+642U67O06riwPC9hPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiZW1wdHlSZXN1bHRXaXNoTGlzdFxcXCIgY2xhc3M9XFxcInJlc3VsdC14XFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAg6rSA7Ius7IOB7ZKI7J20IOyXhuyKteuLiOuLpC5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPCEtLSAvL+q0gOyLrOyDge2SiCAtLT5cXG4gICAgICAgIDwvYXJ0aWNsZT5cXG4gICAgPC9zZWN0aW9uPlxcbjwvZGl2PlwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9rb3AvbW9iaWxlL2NvbXBvbmVudC9zZWFyY2gtcHJvZHVjdC1wb3B1cC5oYnNcbi8vIG1vZHVsZSBpZCA9IDEyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///128\n");

/***/ }),
/* 129 */
/***/ (function(module, exports) {

eval("module.exports = \"<li\\n    data-order-number=\\\"{{orderNumber}}\\\"\\n    data-product-code=\\\"{{#is productSaleType \\\"SET\\\"}}{{product.code}}{{else}}{{product.baseProductCode }}{{/is}}\\\"\\n    data-product-img=\\\"{{product.representationImage}}\\\"\\n    data-product-name=\\\"{{product.name}}\\\"\\n    data-product-discount=\\\"{{#gt product.price.discountRate 0}}{{filter.formattedWishPrice}}{{/gt}}\\\"\\n    data-product-price=\\\"{{#if orderNumber}}{{formattedPrice}}{{else}}{{filter.formattedPrice}}{{/if}}\\\"\\n    data-product-isdiscount=\\\"{{filter.isDiscount}}\\\"\\n    data-product-supplier-name=\\\"{{product.supplierName}}\\\">\\n    {{#if orderNumber}}\\n        <p class=\\\"t1\\\">주문번호: {{orderNumber}}</p>\\n        <p class=\\\"t2\\\">{{orderCreatedDate}} 구매</p>\\n    {{/if}}\\n    <div class=\\\"prod\\\">\\n        {{#is viewType \\\"wishlist\\\"}}\\n            <a href=\\\"/Product/{{product.code}}\\\" data-pt-title=\\\"{{escape_quote_html product.name}}\\\">\\n                <img src=\\\"{{product.representationImage}}\\\" alt=\\\"{{product.name}}\\\" />\\n            </a>\\n        {{else}}\\n            <a href=\\\"/Product/{{#is product.productSaleType \\\"SET\\\"}}{{product.code}}{{else}}{{product.baseProductCode }}{{/is}}\\\" data-pt-title=\\\"{{escape_quote_html product.name}}\\\">\\n                <img src=\\\"{{product.representationImage}}\\\" alt=\\\"{{product.name}}\\\" />\\n            </a>\\n        {{/is}}\\n    </div>\\n    <div class=\\\"info\\\">\\n        <p class=\\\"t3\\\">\\n            <span class=\\\"brand\\\">{{product.supplierName}}</span>\\n            <span>{{#is product.productSaleType \\\"SET\\\"}}{{product.code}}{{else}}{{product.baseProductCode }}{{/is}}</span>\\n        </p>\\n        <p class=\\\"t4\\\">\\n            {{#is viewType \\\"wishlist\\\"}}\\n                <a href=\\\"/Product/{{product.code}}\\\" data-pt-title=\\\"{{escape_quote_html product.name}}\\\">\\n                    {{product.name}}\\n                </a>\\n            {{else}}\\n                <a href=\\\"/Product/{{#is product.productSaleType \\\"SET\\\"}}{{product.code}}{{else}}{{product.baseProductCode }}{{/is}}\\\" data-pt-title=\\\"{{escape_quote_html product.name}}\\\">\\n                    {{product.name}}\\n                </a>\\n            {{/is}}\\n        </p>\\n        <dl>\\n        {{#isnt product.productSaleType \\\"SET\\\"}}\\n            <dt>옵션</dt>\\n            <dd>{{product.color}}, {{product.size}}</dd>\\n        {{/isnt}}\\n            {{#gt quantity 0}}\\n                <dt>수량</dt>\\n                <dd>{{quantity}}</dd>\\n            {{/gt}}\\n            {{#if orderNumber}}\\n                <!-- TODO : 오더일 경우 상품 판매 가격 표시는? -->\\n                <dt>결제금액</dt>\\n                <dd class=\\\"color\\\">{{formattedPrice}}원</dd>\\n            {{else}}\\n                <dt>상품금액</dt>\\n                <dd class=\\\"color\\\">{{filter.formattedPrice}}{{filter.symbol}}</dd>\\n            {{/if}}\\n        </dl>\\n        <a class=\\\"select selectProductBtn\\\">선택</a>\\n    </div>\\n</li>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvc2VhcmNoLXByb2R1Y3QtaXRlbS5oYnM/YWJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGxpXFxuICAgIGRhdGEtb3JkZXItbnVtYmVyPVxcXCJ7e29yZGVyTnVtYmVyfX1cXFwiXFxuICAgIGRhdGEtcHJvZHVjdC1jb2RlPVxcXCJ7eyNpcyBwcm9kdWN0U2FsZVR5cGUgXFxcIlNFVFxcXCJ9fXt7cHJvZHVjdC5jb2RlfX17e2Vsc2V9fXt7cHJvZHVjdC5iYXNlUHJvZHVjdENvZGUgfX17ey9pc319XFxcIlxcbiAgICBkYXRhLXByb2R1Y3QtaW1nPVxcXCJ7e3Byb2R1Y3QucmVwcmVzZW50YXRpb25JbWFnZX19XFxcIlxcbiAgICBkYXRhLXByb2R1Y3QtbmFtZT1cXFwie3twcm9kdWN0Lm5hbWV9fVxcXCJcXG4gICAgZGF0YS1wcm9kdWN0LWRpc2NvdW50PVxcXCJ7eyNndCBwcm9kdWN0LnByaWNlLmRpc2NvdW50UmF0ZSAwfX17e2ZpbHRlci5mb3JtYXR0ZWRXaXNoUHJpY2V9fXt7L2d0fX1cXFwiXFxuICAgIGRhdGEtcHJvZHVjdC1wcmljZT1cXFwie3sjaWYgb3JkZXJOdW1iZXJ9fXt7Zm9ybWF0dGVkUHJpY2V9fXt7ZWxzZX19e3tmaWx0ZXIuZm9ybWF0dGVkUHJpY2V9fXt7L2lmfX1cXFwiXFxuICAgIGRhdGEtcHJvZHVjdC1pc2Rpc2NvdW50PVxcXCJ7e2ZpbHRlci5pc0Rpc2NvdW50fX1cXFwiXFxuICAgIGRhdGEtcHJvZHVjdC1zdXBwbGllci1uYW1lPVxcXCJ7e3Byb2R1Y3Quc3VwcGxpZXJOYW1lfX1cXFwiPlxcbiAgICB7eyNpZiBvcmRlck51bWJlcn19XFxuICAgICAgICA8cCBjbGFzcz1cXFwidDFcXFwiPuyjvOusuOuyiO2YuDoge3tvcmRlck51bWJlcn19PC9wPlxcbiAgICAgICAgPHAgY2xhc3M9XFxcInQyXFxcIj57e29yZGVyQ3JlYXRlZERhdGV9fSDqtazrp6Q8L3A+XFxuICAgIHt7L2lmfX1cXG4gICAgPGRpdiBjbGFzcz1cXFwicHJvZFxcXCI+XFxuICAgICAgICB7eyNpcyB2aWV3VHlwZSBcXFwid2lzaGxpc3RcXFwifX1cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCIvUHJvZHVjdC97e3Byb2R1Y3QuY29kZX19XFxcIiBkYXRhLXB0LXRpdGxlPVxcXCJ7e2VzY2FwZV9xdW90ZV9odG1sIHByb2R1Y3QubmFtZX19XFxcIj5cXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcInt7cHJvZHVjdC5yZXByZXNlbnRhdGlvbkltYWdlfX1cXFwiIGFsdD1cXFwie3twcm9kdWN0Lm5hbWV9fVxcXCIgLz5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICB7e2Vsc2V9fVxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIi9Qcm9kdWN0L3t7I2lzIHByb2R1Y3QucHJvZHVjdFNhbGVUeXBlIFxcXCJTRVRcXFwifX17e3Byb2R1Y3QuY29kZX19e3tlbHNlfX17e3Byb2R1Y3QuYmFzZVByb2R1Y3RDb2RlIH19e3svaXN9fVxcXCIgZGF0YS1wdC10aXRsZT1cXFwie3tlc2NhcGVfcXVvdGVfaHRtbCBwcm9kdWN0Lm5hbWV9fVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJ7e3Byb2R1Y3QucmVwcmVzZW50YXRpb25JbWFnZX19XFxcIiBhbHQ9XFxcInt7cHJvZHVjdC5uYW1lfX1cXFwiIC8+XFxuICAgICAgICAgICAgPC9hPlxcbiAgICAgICAge3svaXN9fVxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiaW5mb1xcXCI+XFxuICAgICAgICA8cCBjbGFzcz1cXFwidDNcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJicmFuZFxcXCI+e3twcm9kdWN0LnN1cHBsaWVyTmFtZX19PC9zcGFuPlxcbiAgICAgICAgICAgIDxzcGFuPnt7I2lzIHByb2R1Y3QucHJvZHVjdFNhbGVUeXBlIFxcXCJTRVRcXFwifX17e3Byb2R1Y3QuY29kZX19e3tlbHNlfX17e3Byb2R1Y3QuYmFzZVByb2R1Y3RDb2RlIH19e3svaXN9fTwvc3Bhbj5cXG4gICAgICAgIDwvcD5cXG4gICAgICAgIDxwIGNsYXNzPVxcXCJ0NFxcXCI+XFxuICAgICAgICAgICAge3sjaXMgdmlld1R5cGUgXFxcIndpc2hsaXN0XFxcIn19XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIi9Qcm9kdWN0L3t7cHJvZHVjdC5jb2RlfX1cXFwiIGRhdGEtcHQtdGl0bGU9XFxcInt7ZXNjYXBlX3F1b3RlX2h0bWwgcHJvZHVjdC5uYW1lfX1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAge3twcm9kdWN0Lm5hbWV9fVxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAge3tlbHNlfX1cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiL1Byb2R1Y3Qve3sjaXMgcHJvZHVjdC5wcm9kdWN0U2FsZVR5cGUgXFxcIlNFVFxcXCJ9fXt7cHJvZHVjdC5jb2RlfX17e2Vsc2V9fXt7cHJvZHVjdC5iYXNlUHJvZHVjdENvZGUgfX17ey9pc319XFxcIiBkYXRhLXB0LXRpdGxlPVxcXCJ7e2VzY2FwZV9xdW90ZV9odG1sIHByb2R1Y3QubmFtZX19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIHt7cHJvZHVjdC5uYW1lfX1cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIHt7L2lzfX1cXG4gICAgICAgIDwvcD5cXG4gICAgICAgIDxkbD5cXG4gICAgICAgIHt7I2lzbnQgcHJvZHVjdC5wcm9kdWN0U2FsZVR5cGUgXFxcIlNFVFxcXCJ9fVxcbiAgICAgICAgICAgIDxkdD7smLXshZg8L2R0PlxcbiAgICAgICAgICAgIDxkZD57e3Byb2R1Y3QuY29sb3J9fSwge3twcm9kdWN0LnNpemV9fTwvZGQ+XFxuICAgICAgICB7ey9pc250fX1cXG4gICAgICAgICAgICB7eyNndCBxdWFudGl0eSAwfX1cXG4gICAgICAgICAgICAgICAgPGR0PuyImOufiTwvZHQ+XFxuICAgICAgICAgICAgICAgIDxkZD57e3F1YW50aXR5fX08L2RkPlxcbiAgICAgICAgICAgIHt7L2d0fX1cXG4gICAgICAgICAgICB7eyNpZiBvcmRlck51bWJlcn19XFxuICAgICAgICAgICAgICAgIDwhLS0gVE9ETyA6IOyYpOuNlOydvCDqsr3smrAg7IOB7ZKIIO2MkOunpCDqsIDqsqkg7ZGc7Iuc64qUPyAtLT5cXG4gICAgICAgICAgICAgICAgPGR0PuqysOygnOq4iOyVoTwvZHQ+XFxuICAgICAgICAgICAgICAgIDxkZCBjbGFzcz1cXFwiY29sb3JcXFwiPnt7Zm9ybWF0dGVkUHJpY2V9feybkDwvZGQ+XFxuICAgICAgICAgICAge3tlbHNlfX1cXG4gICAgICAgICAgICAgICAgPGR0PuyDge2SiOq4iOyVoTwvZHQ+XFxuICAgICAgICAgICAgICAgIDxkZCBjbGFzcz1cXFwiY29sb3JcXFwiPnt7ZmlsdGVyLmZvcm1hdHRlZFByaWNlfX17e2ZpbHRlci5zeW1ib2x9fTwvZGQ+XFxuICAgICAgICAgICAge3svaWZ9fVxcbiAgICAgICAgPC9kbD5cXG4gICAgICAgIDxhIGNsYXNzPVxcXCJzZWxlY3Qgc2VsZWN0UHJvZHVjdEJ0blxcXCI+7ISg7YOdPC9hPlxcbiAgICA8L2Rpdj5cXG48L2xpPlwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9rb3AvbW9iaWxlL2NvbXBvbmVudC9zZWFyY2gtcHJvZHVjdC1pdGVtLmhic1xuLy8gbW9kdWxlIGlkID0gMTI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///129\n");

/***/ }),
/* 130 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _More = __webpack_require__(8);\n\nvar _More2 = _interopRequireDefault(_More);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Content:load', function () {\n  // 컨텐츠 상세 상품 더보기\n  $('.list2-prod').each(function (idx) {\n    var $this = $(this);\n    var no = $this.data('no');\n    var groupIndex = $this.data('group-index');\n\n    (0, _More2.default)($('.bnr-more', $this), '#productListLoading_' + idx, $('.prod-list', $this), 'mobile/precompiles/product/grid', '/Content/productListJson?no=' + no + '&groupIndex=' + groupIndex + '&');\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ29udGVudC5hY3Rpb24uanM/MjcxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9hZE1vcmUgZnJvbSAnLi4vY29tbW9uL01vcmUuYWN0aW9uJztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpDb250ZW50OmxvYWQnLCAoKSA9PiB7XG4gIC8vIOy7qO2FkOy4oCDsg4HshLgg7IOB7ZKIIOuNlOuztOq4sFxuICAkKCcubGlzdDItcHJvZCcpLmVhY2goZnVuY3Rpb24oaWR4KSB7XG4gICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgIGNvbnN0IG5vID0gJHRoaXMuZGF0YSgnbm8nKTtcbiAgICBjb25zdCBncm91cEluZGV4ID0gJHRoaXMuZGF0YSgnZ3JvdXAtaW5kZXgnKTtcblxuICAgIGxvYWRNb3JlKFxuICAgICAgICAkKCcuYm5yLW1vcmUnLCAkdGhpcyksXG4gICAgICAgIGAjcHJvZHVjdExpc3RMb2FkaW5nXyR7aWR4fWAsXG4gICAgICAgICQoJy5wcm9kLWxpc3QnLCAkdGhpcyksXG4gICAgICAgICdtb2JpbGUvcHJlY29tcGlsZXMvcHJvZHVjdC9ncmlkJyxcbiAgICAgICAgYC9Db250ZW50L3Byb2R1Y3RMaXN0SnNvbj9ubz0ke25vfSZncm91cEluZGV4PSR7Z3JvdXBJbmRleH0mYCxcbiAgICApO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ29udGVudC5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///130\n");

/***/ }),
/* 131 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Coupon:load', function () {\n  $('#couponTabs li a').click(function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n\n    $('#couponTabs li').removeClass('on');\n    $this.parents('li').addClass('on');\n\n    if ($this.data('couponType') == 'online') {\n      $('#onlineCouponList').show();\n      $('#offlineCouponList').hide();\n    } else {\n      $('#onlineCouponList').hide();\n      $('#offlineCouponList').show();\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ291cG9uLmFjdGlvbi5qcz85NzZkIl0sInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6Q291cG9uOmxvYWQnLCAoKSA9PiB7XG4gICQoJyNjb3Vwb25UYWJzIGxpIGEnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgJCgnI2NvdXBvblRhYnMgbGknKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAkdGhpcy5wYXJlbnRzKCdsaScpLmFkZENsYXNzKCdvbicpO1xuXG4gICAgaWYgKCR0aGlzLmRhdGEoJ2NvdXBvblR5cGUnKSA9PSAnb25saW5lJykge1xuICAgICAgJCgnI29ubGluZUNvdXBvbkxpc3QnKS5zaG93KCk7XG4gICAgICAkKCcjb2ZmbGluZUNvdXBvbkxpc3QnKS5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNvbmxpbmVDb3Vwb25MaXN0JykuaGlkZSgpO1xuICAgICAgJCgnI29mZmxpbmVDb3Vwb25MaXN0Jykuc2hvdygpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0NvdXBvbi5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///131\n");

/***/ }),
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Coupon:load', function () {});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ291cG9uLmpzP2ZlMzAiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpDb3Vwb246bG9hZCcsICgpID0+IHtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvQ291cG9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///132\n");

/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Deposit:load', function () {\n  var searchPeriodDays = 30;\n  var depositListTemplate = null;\n  var isPeriodChanged = false;\n  var pageNumber = 1;\n\n  function getDepositList() {\n    var endDate = (0, _moment2.default)();\n    var startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n    if (searchPeriodDays == 90) {\n      startDate = (0, _moment2.default)(endDate).add(-3, 'M');\n    } else if (searchPeriodDays == 365) {\n      startDate = (0, _moment2.default)(endDate).add(-1, 'Y');\n    }\n    var params = {\n      startDate: startDate.format('YYYYMMDD'),\n      endDate: endDate.format('YYYYMMDD'),\n      pageNumber: pageNumber\n    };\n\n    $('#depositListLoading').show();\n\n    $.ajax({\n      url: '/Deposit/History',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data.results && data.results.length > 0) {\n          var targetEle = $('#resultDepositList');\n          targetEle.parents('#resultDepositListWrapper').show();\n          $.each(data.results, function (index, element) {\n            if (pageNumber == 1 && isPeriodChanged && index == 0) {\n              $('#emptyResultDepositList').hide();\n              targetEle.html(depositListTemplate(element));\n            } else {\n              targetEle.append(depositListTemplate(element));\n            }\n          });\n          if (data.page.totalCount > (data.page.currentPage + 1) * data.page.perPage) {\n            $('#moreBtn').show();\n          } else {\n            $('#moreBtn').hide();\n          }\n        } else {\n          if (pageNumber == 1) {\n            $('#emptyResultDepositList').show();\n          } else {\n            $('#moreBtn').hide();\n          }\n        }\n      }\n    }).always(function () {\n      return $('#depositListLoading').hide();\n    });\n  }\n\n  $('#moreBtn').click(function (e) {\n    e.preventDefault();\n\n    pageNumber++;\n    getDepositList();\n  });\n\n  if ($('#resultDepositListWrapper').length > 0) {\n    depositListTemplate = Handlebars.templates['mobile/precompiles/deposit/deposit-item'];\n    getDepositList();\n  }\n\n  $('#periodTabs > li > a').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      isPeriodChanged = true;\n      pageNumber = 1;\n      $('#moreBtn').show();\n    }\n\n    $('#periodTabs > li').removeClass('on');\n    searchPeriodDays = $this.data('searchPeriod');\n    $this.parent().addClass('on');\n\n    getDepositList();\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvRGVwb3NpdC5hY3Rpb24uanM/NjEwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6RGVwb3NpdDpsb2FkJywgKCkgPT4ge1xuICBsZXQgc2VhcmNoUGVyaW9kRGF5cyA9IDMwO1xuICBsZXQgZGVwb3NpdExpc3RUZW1wbGF0ZSA9IG51bGw7XG4gIGxldCBpc1BlcmlvZENoYW5nZWQgPSBmYWxzZTtcbiAgbGV0IHBhZ2VOdW1iZXIgPSAxO1xuXG4gIGZ1bmN0aW9uIGdldERlcG9zaXRMaXN0KCkge1xuICAgIGNvbnN0IGVuZERhdGUgPSBtb21lbnQoKTtcbiAgICBsZXQgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ00nKTtcbiAgICBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSA5MCkge1xuICAgICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMywgJ00nKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gMzY1KSB7XG4gICAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0xLCAnWScpO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyksXG4gICAgICBlbmREYXRlOiBlbmREYXRlLmZvcm1hdCgnWVlZWU1NREQnKSxcbiAgICAgIHBhZ2VOdW1iZXIsXG4gICAgfTtcblxuICAgICQoJyNkZXBvc2l0TGlzdExvYWRpbmcnKS5zaG93KCk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL0RlcG9zaXQvSGlzdG9yeScsXG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRFbGUgPSAkKCcjcmVzdWx0RGVwb3NpdExpc3QnKTtcbiAgICAgICAgICB0YXJnZXRFbGUucGFyZW50cygnI3Jlc3VsdERlcG9zaXRMaXN0V3JhcHBlcicpLnNob3coKTtcbiAgICAgICAgICAkLmVhY2goZGF0YS5yZXN1bHRzLCAoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlTnVtYmVyID09IDEgJiYgaXNQZXJpb2RDaGFuZ2VkICYmIGluZGV4ID09IDApIHtcbiAgICAgICAgICAgICAgJCgnI2VtcHR5UmVzdWx0RGVwb3NpdExpc3QnKS5oaWRlKCk7XG4gICAgICAgICAgICAgIHRhcmdldEVsZS5odG1sKGRlcG9zaXRMaXN0VGVtcGxhdGUoZWxlbWVudCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0RWxlLmFwcGVuZChkZXBvc2l0TGlzdFRlbXBsYXRlKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoZGF0YS5wYWdlLnRvdGFsQ291bnQgPiAoZGF0YS5wYWdlLmN1cnJlbnRQYWdlICsgMSkgKiBkYXRhLnBhZ2UucGVyUGFnZSkge1xuICAgICAgICAgICAgJCgnI21vcmVCdG4nKS5zaG93KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNtb3JlQnRuJykuaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocGFnZU51bWJlciA9PSAxKSB7XG4gICAgICAgICAgICAkKCcjZW1wdHlSZXN1bHREZXBvc2l0TGlzdCcpLnNob3coKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pLmFsd2F5cygoKSA9PiAkKCcjZGVwb3NpdExpc3RMb2FkaW5nJykuaGlkZSgpKTtcbiAgfVxuXG4gICQoJyNtb3JlQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBwYWdlTnVtYmVyKys7XG4gICAgZ2V0RGVwb3NpdExpc3QoKTtcbiAgfSk7XG5cbiAgaWYgKCQoJyNyZXN1bHREZXBvc2l0TGlzdFdyYXBwZXInKS5sZW5ndGggPiAwKSB7XG4gICAgZGVwb3NpdExpc3RUZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvZGVwb3NpdC9kZXBvc2l0LWl0ZW0nXTtcbiAgICBnZXREZXBvc2l0TGlzdCgpO1xuICB9XG5cbiAgJCgnI3BlcmlvZFRhYnMgPiBsaSA+IGEnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICBpc1BlcmlvZENoYW5nZWQgPSB0cnVlO1xuICAgICAgcGFnZU51bWJlciA9IDE7XG4gICAgICAkKCcjbW9yZUJ0bicpLnNob3coKTtcbiAgICB9XG5cbiAgICAkKCcjcGVyaW9kVGFicyA+IGxpJykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgc2VhcmNoUGVyaW9kRGF5cyA9ICR0aGlzLmRhdGEoJ3NlYXJjaFBlcmlvZCcpO1xuICAgICR0aGlzLnBhcmVudCgpLmFkZENsYXNzKCdvbicpO1xuXG4gICAgZ2V0RGVwb3NpdExpc3QoKTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0RlcG9zaXQuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3QkE7QUE4QkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///133\n");

/***/ }),
/* 134 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Deposit:load', function () {});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvRGVwb3NpdC5qcz84N2IxIl0sInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6RGVwb3NpdDpsb2FkJywgKCkgPT4ge1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9EZXBvc2l0LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///134\n");

/***/ }),
/* 135 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _More = __webpack_require__(8);\n\nvar _More2 = _interopRequireDefault(_More);\n\nvar _queryString = __webpack_require__(6);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Event:load', function () {\n  var searchParam = _queryString2.default.parse(location.search);\n  var paramString = '?';\n  if (searchParam.orderType) {\n    paramString = '?orderType=' + searchParam.orderType;\n  }\n  (0, _More2.default)('#eventListMoreBtn', '#eventListLoading', '#eventList', 'mobile/precompiles/event/event-list-item', '/Event/ListJson' + paramString);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvRXZlbnQuYWN0aW9uLmpzPzRhYTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvYWRNb3JlIGZyb20gJy4uL2NvbW1vbi9Nb3JlLmFjdGlvbic7XG5pbXBvcnQgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpFdmVudDpsb2FkJywgKCkgPT4ge1xuICBjb25zdCBzZWFyY2hQYXJhbSA9IHF1ZXJ5U3RyaW5nLnBhcnNlKGxvY2F0aW9uLnNlYXJjaCk7XG4gIGxldCBwYXJhbVN0cmluZyA9ICc/JztcbiAgaWYgKHNlYXJjaFBhcmFtLm9yZGVyVHlwZSkge1xuICAgIHBhcmFtU3RyaW5nID0gYD9vcmRlclR5cGU9JHtzZWFyY2hQYXJhbS5vcmRlclR5cGV9YDtcbiAgfVxuICBsb2FkTW9yZSgnI2V2ZW50TGlzdE1vcmVCdG4nLCAnI2V2ZW50TGlzdExvYWRpbmcnLCAnI2V2ZW50TGlzdCcsICdtb2JpbGUvcHJlY29tcGlsZXMvZXZlbnQvZXZlbnQtbGlzdC1pdGVtJywgYC9FdmVudC9MaXN0SnNvbiR7cGFyYW1TdHJpbmd9YCk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0V2ZW50LmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///135\n");

/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:FAQ:load', function () {\n  function getDetail(nodeId, kbId, targetEle) {\n    $.getJSON('/FAQ/' + nodeId + '/getFaqDetailView/' + kbId, function (data) {\n      $(targetEle).html(data.contents);\n    });\n  }\n\n  $('.ques a').click(function (e) {\n    var dataEle = $(e.currentTarget).parents('li');\n    var nodeId = dataEle.data('nodeId');\n    var kbId = dataEle.data('kbId');\n    var targetEle = dataEle.find('.answer .txt');\n    if ($.trim(targetEle.text()) == '') {\n      getDetail(nodeId, kbId, targetEle);\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvRkFRLmFjdGlvbi5qcz8yMjU0Il0sInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6RkFROmxvYWQnLCAoKSA9PiB7XG4gIGZ1bmN0aW9uIGdldERldGFpbChub2RlSWQsIGtiSWQsIHRhcmdldEVsZSkge1xuICAgICQuZ2V0SlNPTihgL0ZBUS8ke25vZGVJZH0vZ2V0RmFxRGV0YWlsVmlldy8ke2tiSWR9YCwgKGRhdGEpID0+IHtcbiAgICAgICQodGFyZ2V0RWxlKS5odG1sKGRhdGEuY29udGVudHMpO1xuICAgIH0pO1xuICB9XG5cbiAgJCgnLnF1ZXMgYScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgZGF0YUVsZSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCdsaScpO1xuICAgIGNvbnN0IG5vZGVJZCA9IGRhdGFFbGUuZGF0YSgnbm9kZUlkJyk7XG4gICAgY29uc3Qga2JJZCA9IGRhdGFFbGUuZGF0YSgna2JJZCcpO1xuICAgIGNvbnN0IHRhcmdldEVsZSA9IGRhdGFFbGUuZmluZCgnLmFuc3dlciAudHh0Jyk7XG4gICAgaWYgKCQudHJpbSh0YXJnZXRFbGUudGV4dCgpKSA9PSAnJykge1xuICAgICAgZ2V0RGV0YWlsKG5vZGVJZCwga2JJZCwgdGFyZ2V0RWxlKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9GQVEuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///136\n");

/***/ }),
/* 137 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:FAQ:load', function () {\n  $('.spop-close').click(function () {\n    $('.spop-bnr').css('display', 'none');\n    return false;\n  });\n  $('.toggle-list .ques a').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      $('.toggle-list .ques a').removeClass('on');\n      $('.toggle-list .answer').slideUp(100);\n      $this.addClass('on');\n      $this.parent('p').next('p').slideDown(100);\n    } else {\n      $this.removeClass('on');\n      $this.parent('p').next('p').slideUp(100);\n    }\n    return false;\n  });\n  $('.toggle-list .answer a').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.parent('p').prev('p').children('a').removeClass('on');\n    $this.parent('p').slideUp(100);\n    return false;\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvRkFRLmpzPzljY2UiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpGQVE6bG9hZCcsICgpID0+IHtcbiAgJCgnLnNwb3AtY2xvc2UnKS5jbGljaygoKSA9PiB7XG4gICAgJCgnLnNwb3AtYm5yJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKCcudG9nZ2xlLWxpc3QgLnF1ZXMgYScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnb24nKSkge1xuICAgICAgJCgnLnRvZ2dsZS1saXN0IC5xdWVzIGEnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICQoJy50b2dnbGUtbGlzdCAuYW5zd2VyJykuc2xpZGVVcCgxMDApO1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAkdGhpcy5wYXJlbnQoJ3AnKS5uZXh0KCdwJykuc2xpZGVEb3duKDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgJHRoaXMucGFyZW50KCdwJykubmV4dCgncCcpLnNsaWRlVXAoMTAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJCgnLnRvZ2dsZS1saXN0IC5hbnN3ZXIgYScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMucGFyZW50KCdwJykucHJldigncCcpLmNoaWxkcmVuKCdhJykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgJHRoaXMucGFyZW50KCdwJykuc2xpZGVVcCgxMDApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0ZBUS5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///137\n");

/***/ }),
/* 138 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _GuestOrder = __webpack_require__(62);\n\nvar _GuestOrder2 = _interopRequireDefault(_GuestOrder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:GuestOrder:load', _GuestOrder2.default);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvR3Vlc3RPcmRlci5hY3Rpb24uanM/YTEwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb25Mb2FkIGZyb20gJy4uL2NvbW1vbi9HdWVzdE9yZGVyLmFjdGlvbic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6R3Vlc3RPcmRlcjpsb2FkJywgb25Mb2FkKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL0d1ZXN0T3JkZXIuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///138\n");

/***/ }),
/* 139 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:GuestOrder:load', function () {\n  $('.form-login .in-txt input').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined') {\n      $this.next().css('display', 'none');\n    } else {\n      $this.next().css('display', 'block');\n    }\n  });\n  $('.form-login .in-txt input').focus(function (e) {\n    var $this = $(e.currentTarget);\n    $this.addClass('active');\n  });\n  $('.form-login .in-txt input').blur(function (e) {\n    var $this = $(e.currentTarget);\n    $this.removeClass('active');\n  });\n  $('#kolon-content').on('click', '.bundle .set a', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    var parentEle = $this.parents('.bundle');\n    if (!$this.hasClass('set-open')) {\n      $this.addClass('set-open');\n      parentEle.find('.set-prod').show();\n    } else {\n      $this.removeClass('set-open');\n      parentEle.find('.set-prod').hide();\n    }\n    return false;\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvR3Vlc3RPcmRlci5qcz85NGE0Il0sInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6R3Vlc3RPcmRlcjpsb2FkJywgKCkgPT4ge1xuICAkKCcuZm9ybS1sb2dpbiAuaW4tdHh0IGlucHV0Jykua2V5dXAoKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMudmFsKCkgPT0gbnVsbCB8fCAkdGhpcy52YWwoKSA9PSAnJyB8fCAkdGhpcy52YWwoKSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgJHRoaXMubmV4dCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLm5leHQoKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICB9XG4gIH0pO1xuICAkKCcuZm9ybS1sb2dpbiAuaW4tdHh0IGlucHV0JykuZm9jdXMoKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcuZm9ybS1sb2dpbiAuaW4tdHh0IGlucHV0JykuYmx1cigoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICR0aGlzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSk7XG4gICQoJyNrb2xvbi1jb250ZW50Jykub24oJ2NsaWNrJywgJy5idW5kbGUgLnNldCBhJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgcGFyZW50RWxlID0gJHRoaXMucGFyZW50cygnLmJ1bmRsZScpO1xuICAgIGlmICghJHRoaXMuaGFzQ2xhc3MoJ3NldC1vcGVuJykpIHtcbiAgICAgICR0aGlzLmFkZENsYXNzKCdzZXQtb3BlbicpO1xuICAgICAgcGFyZW50RWxlLmZpbmQoJy5zZXQtcHJvZCcpLnNob3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ3NldC1vcGVuJyk7XG4gICAgICBwYXJlbnRFbGUuZmluZCgnLnNldC1wcm9kJykuaGlkZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9HdWVzdE9yZGVyLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///139\n");

/***/ }),
/* 140 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _Login = __webpack_require__(63);\n\nvar _Login2 = _interopRequireDefault(_Login);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Login:load', _Login2.default);\n$(document).on('mobile:Login:load', function () {\n  // mobile only onLoad function\n  var errorMessage = $('#errorMessage').val();\n  if ($.trim(errorMessage) !== '') {\n    alert(errorMessage);\n    var redirectUrl = $('#redirectUrl').val();\n    if (redirectUrl !== '') {\n      if ($pt.isApp()) {\n        $pt.navigation.push({ url: redirectUrl, title: '비밀번호 찾기', navigationBarType: 'CLOSE_BTN_ONLY' });\n      } else {\n        location.href = redirectUrl;\n      }\n    }\n  }\n\n  $('#checkPhone').click(function () {\n    if ($('#checkPhone').hasClass('on')) {\n      $('#type').val('01');\n      $('#user_id').attr('placeholder', '아이디 또는 이메일 주소').attr('type', 'text').parent('div').children('span').text('아이디/이메일');\n    } else {\n      $('#type').val('02');\n      $('#user_id').attr('placeholder', '휴대폰 번호( - 없이 숫자만 입력)').attr('type', 'number').parent('div').children('span').text('휴대폰번호');\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTG9naW4uYWN0aW9uLmpzPzgwYTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG9uTG9hZCBmcm9tICcuLi9jb21tb24vTG9naW4uYWN0aW9uJztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpMb2dpbjpsb2FkJywgb25Mb2FkKTtcbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6TG9naW46bG9hZCcsICgpID0+IHtcbiAgLy8gbW9iaWxlIG9ubHkgb25Mb2FkIGZ1bmN0aW9uXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9ICQoJyNlcnJvck1lc3NhZ2UnKS52YWwoKTtcbiAgaWYgKCQudHJpbShlcnJvck1lc3NhZ2UpICE9PSAnJykge1xuICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7XG4gICAgY29uc3QgcmVkaXJlY3RVcmwgPSAkKCcjcmVkaXJlY3RVcmwnKS52YWwoKTtcbiAgICBpZiAocmVkaXJlY3RVcmwgIT09ICcnKSB7XG4gICAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgJHB0Lm5hdmlnYXRpb24ucHVzaCh7IHVybDogcmVkaXJlY3RVcmwsIHRpdGxlOiAn67mE67CA67KI7Zi4IOywvuq4sCcsIG5hdmlnYXRpb25CYXJUeXBlOiAnQ0xPU0VfQlROX09OTFknIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VXJsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICQoJyNjaGVja1Bob25lJykuY2xpY2soKCkgPT4ge1xuICAgIGlmICgkKCcjY2hlY2tQaG9uZScpLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAkKCcjdHlwZScpLnZhbCgnMDEnKTtcbiAgICAgICQoJyN1c2VyX2lkJylcbiAgICAgICAgLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ+yVhOydtOuUlCDrmJDripQg7J2066mU7J28IOyjvOyGjCcpXG4gICAgICAgIC5hdHRyKCd0eXBlJywgJ3RleHQnKVxuICAgICAgICAucGFyZW50KCdkaXYnKS5jaGlsZHJlbignc3BhbicpLnRleHQoJ+yVhOydtOuUlC/snbTrqZTsnbwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3R5cGUnKS52YWwoJzAyJyk7XG4gICAgICAkKCcjdXNlcl9pZCcpXG4gICAgICAgIC5hdHRyKCdwbGFjZWhvbGRlcicsICftnLTrjIDtj7Ag67KI7Zi4KCAtIOyXhuydtCDsiKvsnpDrp4wg7J6F66ClKScpXG4gICAgICAgIC5hdHRyKCd0eXBlJywgJ251bWJlcicpXG4gICAgICAgIC5wYXJlbnQoJ2RpdicpLmNoaWxkcmVuKCdzcGFuJykudGV4dCgn7Zy064yA7Y+w67KI7Zi4Jyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTG9naW4uYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///140\n");

/***/ }),
/* 141 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Login:load', function () {\n  $('.form-login .in-txt input').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined') {\n      $this.next().css('display', 'none');\n      var inTxt = $this.parent('.in-txt');\n      inTxt.removeClass('on');\n    } else {\n      $this.next().css('display', 'block');\n      var _inTxt = $this.parent('.in-txt');\n      _inTxt.addClass('on');\n    }\n    if ($('.id').hasClass('on') && $('.pass').hasClass('on')) {\n      $('.btn-login').addClass('on');\n    } else {\n      $('.btn-login').removeClass('on');\n    }\n  });\n  $('.form-login .in-txt input').focus(function (e) {\n    var $this = $(e.currentTarget);\n    $this.addClass('active');\n  });\n  $('.form-login .in-txt input').blur(function (e) {\n    var $this = $(e.currentTarget);\n    $this.removeClass('active');\n  });\n  $('.contact-phone').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.toggleClass('on');\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTG9naW4uanM/NmY0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5vbignbW9iaWxlOkxvZ2luOmxvYWQnLCAoKSA9PiB7XG4gICQoJy5mb3JtLWxvZ2luIC5pbi10eHQgaW5wdXQnKS5rZXl1cCgoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICgkdGhpcy52YWwoKSA9PSBudWxsIHx8ICR0aGlzLnZhbCgpID09ICcnIHx8ICR0aGlzLnZhbCgpID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAkdGhpcy5uZXh0KCkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIGNvbnN0IGluVHh0ID0gJHRoaXMucGFyZW50KCcuaW4tdHh0Jyk7XG4gICAgICBpblR4dC5yZW1vdmVDbGFzcygnb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMubmV4dCgpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgY29uc3QgaW5UeHQgPSAkdGhpcy5wYXJlbnQoJy5pbi10eHQnKTtcbiAgICAgIGluVHh0LmFkZENsYXNzKCdvbicpO1xuICAgIH1cbiAgICBpZiAoJCgnLmlkJykuaGFzQ2xhc3MoJ29uJykgJiYgJCgnLnBhc3MnKS5oYXNDbGFzcygnb24nKSkge1xuICAgICAgJCgnLmJ0bi1sb2dpbicpLmFkZENsYXNzKCdvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuYnRuLWxvZ2luJykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgfVxuICB9KTtcbiAgJCgnLmZvcm0tbG9naW4gLmluLXR4dCBpbnB1dCcpLmZvY3VzKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbiAgJCgnLmZvcm0tbG9naW4gLmluLXR4dCBpbnB1dCcpLmJsdXIoKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcuY29udGFjdC1waG9uZScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMudG9nZ2xlQ2xhc3MoJ29uJyk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9Mb2dpbi5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///141\n");

/***/ }),
/* 142 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _common = __webpack_require__(11);\n\nvar _More = __webpack_require__(8);\n\nvar _More2 = _interopRequireDefault(_More);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Main:load', function () {\n  var userAgent = navigator.userAgent;\n  if (userAgent.includes('KL/I/kolonmall_1.0')) {\n    alert('원활한 서비스를 위해 업데이트 후, 이용해주세요.');\n    location.href = 'https://itunes.apple.com/kr/app/id1141830073?mt=8';\n  }\n\n  (0, _common.setMoreBtnEvent)('.productMoreBtn', 'mobile');\n  // 컨텐츠 리스트 더보기\n  var contentCategoryId = $('#contentListMoreBtn').data('category-id');\n  (0, _More2.default)('#contentListMoreBtn', '#contentListLoading', '#contentList', 'mobile/precompiles/content/content-list-item', '/Content/ListJson?categoryId=' + contentCategoryId + '&');\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTWFpbi5hY3Rpb24uanM/ZWQ2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRNb3JlQnRuRXZlbnQgfSBmcm9tICcuLi9jb21tb24vY29tbW9uJztcbmltcG9ydCBsb2FkTW9yZSBmcm9tICcuLi9jb21tb24vTW9yZS5hY3Rpb24nO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOk1haW46bG9hZCcsICgpID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gIG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIGlmKHVzZXJBZ2VudC5pbmNsdWRlcygnS0wvSS9rb2xvbm1hbGxfMS4wJykpIHtcbiAgICBhbGVydCgn7JuQ7Zmc7ZWcIOyEnOu5hOyKpOulvCDsnITtlbQg7JeF642w7J207Yq4IO2bhCwg7J207Jqp7ZW07KO87IS47JqULicpO1xuICAgIGxvY2F0aW9uLmhyZWYgPSAnaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL2tyL2FwcC9pZDExNDE4MzAwNzM/bXQ9OCc7XG4gIH1cblxuICBzZXRNb3JlQnRuRXZlbnQoJy5wcm9kdWN0TW9yZUJ0bicsICdtb2JpbGUnKTtcbiAgLy8g7Luo7YWQ7LigIOumrOyKpO2KuCDrjZTrs7TquLBcbiAgY29uc3QgY29udGVudENhdGVnb3J5SWQgPSAkKCcjY29udGVudExpc3RNb3JlQnRuJykuZGF0YSgnY2F0ZWdvcnktaWQnKTtcbiAgbG9hZE1vcmUoJyNjb250ZW50TGlzdE1vcmVCdG4nLCAnI2NvbnRlbnRMaXN0TG9hZGluZycsICcjY29udGVudExpc3QnLCAnbW9iaWxlL3ByZWNvbXBpbGVzL2NvbnRlbnQvY29udGVudC1saXN0LWl0ZW0nLCBgL0NvbnRlbnQvTGlzdEpzb24/Y2F0ZWdvcnlJZD0ke2NvbnRlbnRDYXRlZ29yeUlkfSZgKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTWFpbi5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///142\n");

/***/ }),
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _swiper = __webpack_require__(12);\n\nvar _swiper2 = _interopRequireDefault(_swiper);\n\nvar _jsCookie = __webpack_require__(14);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Main:load', function () {\n  if ($('.scr-prod .swiper-slide').length) {\n    new _swiper2.default('.scr-prod', {\n      slidesPerView: 'auto',\n      centeredSlides: true,\n      paginationClickable: true,\n      spaceBetween: 0,\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n  if ($('.swiper-menu').length) {\n    new _swiper2.default('.swiper-menu', {\n      direction: 'vertical',\n      slidesPerView: 'auto',\n      paginationClickable: true,\n      spaceBetween: 0,\n      freeMode: true\n      // mousewheelControl: true,\n    });\n  }\n\n  $('.tg-btn').click(function (e) {\n    var $this = $(e.currentTarget);\n    var popUp = $('.popup');\n    var popText = $('.popup .pop-txt');\n\n    if (!$this.hasClass('on')) {\n      $this.addClass('on');\n\n      if ($this.hasClass('pop-on')) {\n        popText.html('KOLONmall 마케팅 정보 알림 수신에<br/>동의 하셨습니다.');\n        popUp.addClass('show');\n        setTimeout(function () {\n          popUp.removeClass('show');\n        }, 3000);\n      }\n    } else {\n      $this.removeClass('on');\n      if ($this.hasClass('pop-on')) {\n        popText.html('KOLONmall의 온라인 할인혜택, 특가프로모션,<br/>이벤트 등의 정보를 받으실 수 없습니다.');\n        popUp.addClass('show');\n        setTimeout(function () {\n          popUp.removeClass('show');\n        }, 3000);\n      }\n    }\n    return false;\n  });\n\n  // $('.setting').click((e) => {\n  //   const $this = $(e.currentTarget);\n  //   const popUp = $('.popup');\n  //   popUp.css('display','none');\n  // });\n\n  window.setNotificationCount = function (count) {\n    if (count && count > 0) {\n      $('#alertCount').html('<i>' + count + '</i>');\n    } else {\n      $('#alertCount').html('');\n    }\n  };\n\n  function initToggleHeader() {\n    var $win = $(window);\n    var $cont = $('#kolon-wrap');\n    var $subMenuHeight = $('.scr-navi').height();\n    var lastScrollTop = 0;\n    var detailTop = $('.scr-navi').offset().top;\n\n    $('.spop-close').click(function () {\n      _jsCookie2.default.set('showBanner', 'false', { path: '/', secure: true });\n      $('.spop-bnr').addClass('hidden');\n      detailTop = $('.scr-navi').offset().top;\n      return true;\n    });\n    if ($pt.isApp()) {\n      $win.on('scroll', function () {\n        var scrollTop = $win.scrollTop();\n        if (scrollTop > detailTop) {\n          $cont.addClass('head-fix head-hide');\n        } else {\n          $cont.removeClass('head-fix head-hide');\n        }\n      });\n    } else {\n      $win.on('scroll', function () {\n        var scrollTop = $win.scrollTop();\n        if (scrollTop < detailTop - $subMenuHeight) {\n          $cont.removeClass('head-fix');\n        } else {\n          $cont.addClass('head-fix');\n        }\n        if (scrollTop < lastScrollTop || scrollTop < detailTop) {\n          $cont.removeClass('head-hide');\n        } else {\n          $cont.addClass('head-hide');\n        }\n        lastScrollTop = scrollTop;\n      });\n    }\n  }\n  if ($('.scr-navi').length) {\n    initToggleHeader();\n  }\n\n  // menu brand tabs\n  $('.footer-menu .brand-list .tabs .brand-tab').on('click', function (e) {\n    var $this = $(e.currentTarget);\n    var $parent = $this.parents('.brand-list');\n    if (!$this.hasClass('active')) {\n      $this.siblings().removeClass('active');\n      $this.addClass('active');\n\n      var tabName = $this.data('tab');\n      $parent.children('.list').removeClass('active');\n      $parent.children('.' + tabName).addClass('active');\n    }\n\n    if (window.localStorage) {\n      if ($('.list.life').hasClass('active')) {\n        window.localStorage.setItem('menuActiveBrand', 'life');\n      } else {\n        window.localStorage.setItem('menuActiveBrand', 'fashion');\n      }\n    }\n  });\n\n  $('.pt-push').on('click', function (e) {\n    var $this = $(e.currentTarget);\n    var url = $this.data('url');\n    var title = $this.data('pt-title');\n\n    if (typeof title === 'undefined') {\n      title = \"\";\n    }\n\n    if ($pt.isApp()) {\n      $pt.navigation.push({ url: url, title: title });\n    } else {\n      location.href = url;\n    }\n  });\n\n  $('.pt-modal').on('click', function (e) {\n    var $this = $(e.currentTarget);\n    var url = $this.data('url');\n    var title = $this.data('pt-title');\n\n    if (typeof title === 'undefined') {\n      title = \"\";\n    }\n\n    if ($pt.isApp()) {\n      $pt.navigation.modal({ url: url, title: title });\n    } else {\n      location.href = url;\n    }\n  });\n\n  // 주말 쿠폰 다운로드\n  $('#weekendCouponDownload').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    window.downloadCoupon($this.data('coupon-id'));\n    $('#weekendDownloadCouponLayer').hide();\n  });\n});\n\n// 메인 메뉴에서만 동작\n$(document).on('mobile:Main:Menu:load', function () {\n  // 브랜드 토글 버튼\n  $('.btnToggle').on('click', function (e) {\n    var $this = $(e.currentTarget);\n    var depth = $this.parent('.parentBtn');\n    depth.toggleClass('on').siblings().removeClass('on').find('>.toggleMenu').slideUp();\n\n    if (depth.hasClass('brand-list')) {\n      if (depth.parent('.footer-menu').hasClass('on')) {\n        depth.parent('.footer-menu').removeClass('on');\n        depth.find('.toggleMenu').hide();\n        if (window.localStorage) {\n          window.localStorage.setItem('menuShowBrand', 0);\n        }\n      } else {\n        depth.parent('.footer-menu').addClass('on');\n        depth.find('.toggleMenu').show();\n        if (window.localStorage) {\n          window.localStorage.setItem('menuShowBrand', 1);\n        }\n      }\n    } else {\n      if (!depth.hasClass('on')) {\n        depth.find('.toggleMenu').slideUp();\n      } else {\n        depth.find('>.toggleMenu').slideDown();\n      }\n    }\n\n    if (window.localStorage) {\n      window.localStorage.setItem('menuActiveDepth1', $('li.depth').index($('.depth.on')));\n      window.localStorage.setItem('menuActiveDepth2', $('.depth.on .depth-02 > li').index($('.hs-sub.on')));\n    }\n  });\n\n  // 스크롤 및 메뉴 기억\n  $(window).scroll(function () {\n    var windowScrollTop = $(window).scrollTop();\n\n    if (window.localStorage) {\n      window.localStorage.setItem('menuWindowScrollTop', windowScrollTop);\n    }\n  });\n\n  $('.list.fashion').scroll(function () {\n    var fashionScrollTop = $('.list.fashion').scrollTop();\n\n    if (window.localStorage) {\n      window.localStorage.setItem('menuFashionScrollTop', fashionScrollTop);\n    }\n  });\n\n  $('.list.life').scroll(function () {\n    var lifeScrollTop = $('.list.life').scrollTop();\n\n    if (window.localStorage) {\n      window.localStorage.setItem('menuLifeScrollTop', lifeScrollTop);\n    }\n  });\n\n  // 이전 위치 복구\n  if (window.localStorage) {\n    var windowScrollTop = window.localStorage.menuWindowScrollTop;\n    var fashionScrollTop = window.localStorage.menuFashionScrollTop;\n    var lifeScrollTop = window.localStorage.menuLifeScrollTop;\n    var activeDepth1 = window.localStorage.menuActiveDepth1;\n    var activeDepth2 = window.localStorage.menuActiveDepth2;\n    var showBrand = window.localStorage.menuShowBrand;\n    var activeBrand = window.localStorage.menuActiveBrand;\n\n    if (windowScrollTop) {\n      $('html, body').scrollTop(windowScrollTop);\n    }\n\n    if (fashionScrollTop) {\n      $('.list.fashion').scrollTop(fashionScrollTop);\n    }\n\n    if (lifeScrollTop) {\n      $('.list.life').scrollTop(lifeScrollTop);\n    }\n\n    if (activeDepth1 > 0) {\n      $('li.depth').eq(activeDepth1).addClass('on').children('.depth-02').show();\n      if (activeDepth2 > 0) {\n        $('.depth.on .depth-02 > li').eq(activeDepth2).addClass('on').children('.depth-03').show();\n      }\n    }\n\n    if (showBrand == 1) {\n      var brandList = $('.brand-list');\n      brandList.parent('.footer-menu').addClass('on');\n      brandList.find('.toggleMenu').show();\n    }\n\n    if (activeBrand) {\n      if (activeBrand == 'fashion') {\n        $('.brand-fashion-tab').addClass('active');\n        $('.brand-life-tab').removeClass('active');\n        $('.list.fashion').addClass('active');\n        $('.list.life').removeClass('active');\n      } else if (activeBrand == 'life') {\n        $('.brand-fashion-tab').removeClass('active');\n        $('.brand-life-tab').addClass('active');\n        $('.list.fashion').removeClass('active');\n        $('.list.life').addClass('active');\n      }\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTWFpbi5qcz9kYzY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTd2lwZXIgZnJvbSAnc3dpcGVyJztcbmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6TWFpbjpsb2FkJywgKCkgPT4ge1xuICBpZiAoJCgnLnNjci1wcm9kIC5zd2lwZXItc2xpZGUnKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcuc2NyLXByb2QnLCB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgcGFnaW5hdGlvbjogJy5zY3ItcHJvZC1wYWdpbmF0aW9uJyxcbiAgICAgIHBhZ2luYXRpb25UeXBlOiAncHJvZ3Jlc3MnLFxuICAgIH0pO1xuICB9XG4gIGlmICgkKCcuc3dpcGVyLW1lbnUnKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcuc3dpcGVyLW1lbnUnLCB7XG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICAgICAgICAvLyBtb3VzZXdoZWVsQ29udHJvbDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gICQoJy50Zy1idG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHBvcFVwID0gJCgnLnBvcHVwJyk7XG4gICAgY29uc3QgcG9wVGV4dCA9ICQoJy5wb3B1cCAucG9wLXR4dCcpO1xuXG4gICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnb24nKSkge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ29uJyk7XG5cbiAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygncG9wLW9uJykpIHtcbiAgICAgICAgcG9wVGV4dC5odG1sKCdLT0xPTm1hbGwg66eI7LyA7YyFIOygleuztCDslYzrprwg7IiY7Iug7JeQPGJyLz7rj5nsnZgg7ZWY7IWo7Iq164uI64ukLicpO1xuICAgICAgICBwb3BVcC5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBwb3BVcC5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ3BvcC1vbicpKSB7XG4gICAgICAgIHBvcFRleHQuaHRtbCgnS09MT05tYWxs7J2YIOyYqOudvOyduCDtlaDsnbjtmJztg50sIO2KueqwgO2UhOuhnOuqqOyFmCw8YnIvPuydtOuypO2KuCDrk7HsnZgg7KCV67O066W8IOuwm+ycvOyLpCDsiJgg7JeG7Iq164uI64ukLicpO1xuICAgICAgICBwb3BVcC5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBwb3BVcC5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAvLyAkKCcuc2V0dGluZycpLmNsaWNrKChlKSA9PiB7XG4gIC8vICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIC8vICAgY29uc3QgcG9wVXAgPSAkKCcucG9wdXAnKTtcbiAgLy8gICBwb3BVcC5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XG4gIC8vIH0pO1xuXG4gIHdpbmRvdy5zZXROb3RpZmljYXRpb25Db3VudCA9IChjb3VudCkgPT4ge1xuICAgIGlmIChjb3VudCAmJiBjb3VudCA+IDApIHtcbiAgICAgICQoJyNhbGVydENvdW50JykuaHRtbChgPGk+JHtjb3VudH08L2k+YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNhbGVydENvdW50JykuaHRtbCgnJyk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGluaXRUb2dnbGVIZWFkZXIoKSB7XG4gICAgY29uc3QgJHdpbiA9ICQod2luZG93KTtcbiAgICBjb25zdCAkY29udCA9ICQoJyNrb2xvbi13cmFwJyk7XG4gICAgY29uc3QgJHN1Yk1lbnVIZWlnaHQgPSAkKCcuc2NyLW5hdmknKS5oZWlnaHQoKTtcbiAgICBsZXQgbGFzdFNjcm9sbFRvcCA9IDA7XG4gICAgbGV0IGRldGFpbFRvcCA9ICQoJy5zY3ItbmF2aScpLm9mZnNldCgpLnRvcDtcblxuICAgICQoJy5zcG9wLWNsb3NlJykuY2xpY2soKCkgPT4ge1xuICAgICAgQ29va2llcy5zZXQoJ3Nob3dCYW5uZXInLCAnZmFsc2UnLCB7IHBhdGg6ICcvJywgc2VjdXJlOiB0cnVlIH0pO1xuICAgICAgJCgnLnNwb3AtYm5yJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgZGV0YWlsVG9wID0gJCgnLnNjci1uYXZpJykub2Zmc2V0KCkudG9wO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAkd2luLm9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9ICR3aW4uc2Nyb2xsVG9wKCk7XG4gICAgICAgIGlmIChzY3JvbGxUb3AgPiBkZXRhaWxUb3ApIHtcbiAgICAgICAgICAkY29udC5hZGRDbGFzcygnaGVhZC1maXggaGVhZC1oaWRlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGNvbnQucmVtb3ZlQ2xhc3MoJ2hlYWQtZml4IGhlYWQtaGlkZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHdpbi5vbignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSAkd2luLnNjcm9sbFRvcCgpO1xuICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgZGV0YWlsVG9wIC0gJHN1Yk1lbnVIZWlnaHQpIHtcbiAgICAgICAgICAkY29udC5yZW1vdmVDbGFzcygnaGVhZC1maXgnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkY29udC5hZGRDbGFzcygnaGVhZC1maXgnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgbGFzdFNjcm9sbFRvcCB8fCBzY3JvbGxUb3AgPCBkZXRhaWxUb3ApIHtcbiAgICAgICAgICAkY29udC5yZW1vdmVDbGFzcygnaGVhZC1oaWRlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGNvbnQuYWRkQ2xhc3MoJ2hlYWQtaGlkZScpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKCQoJy5zY3ItbmF2aScpLmxlbmd0aCkge1xuICAgIGluaXRUb2dnbGVIZWFkZXIoKTtcbiAgfVxuXG4gIC8vIG1lbnUgYnJhbmQgdGFic1xuICAkKCcuZm9vdGVyLW1lbnUgLmJyYW5kLWxpc3QgLnRhYnMgLmJyYW5kLXRhYicpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgJHBhcmVudCA9ICR0aGlzLnBhcmVudHMoJy5icmFuZC1saXN0Jyk7XG4gICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICR0aGlzLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICBjb25zdCB0YWJOYW1lID0gJHRoaXMuZGF0YSgndGFiJyk7XG4gICAgICAkcGFyZW50LmNoaWxkcmVuKCcubGlzdCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICRwYXJlbnQuY2hpbGRyZW4oJy4nICsgdGFiTmFtZSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICBpZiAoJCgnLmxpc3QubGlmZScpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVBY3RpdmVCcmFuZCcsICdsaWZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVBY3RpdmVCcmFuZCcsICdmYXNoaW9uJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAkKCcucHQtcHVzaCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgdXJsID0gJHRoaXMuZGF0YSgndXJsJyk7XG4gICAgbGV0IHRpdGxlID0gJHRoaXMuZGF0YSgncHQtdGl0bGUnKTtcblxuICAgIGlmKHR5cGVvZiB0aXRsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRpdGxlID0gXCJcIjtcbiAgICB9XG5cbiAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICRwdC5uYXZpZ2F0aW9uLnB1c2goeyB1cmw6IHVybCwgdGl0bGU6IHRpdGxlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLnB0LW1vZGFsJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCB1cmwgPSAkdGhpcy5kYXRhKCd1cmwnKTtcbiAgICBsZXQgdGl0bGUgPSAkdGhpcy5kYXRhKCdwdC10aXRsZScpO1xuXG4gICAgaWYodHlwZW9mIHRpdGxlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGl0bGUgPSBcIlwiO1xuICAgIH1cblxuICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgJHB0Lm5hdmlnYXRpb24ubW9kYWwoeyB1cmw6IHVybCwgdGl0bGU6IHRpdGxlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g7KO866eQIOy/oO2PsCDri6TsmrTroZzrk5xcbiAgJCgnI3dlZWtlbmRDb3Vwb25Eb3dubG9hZCcpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIHdpbmRvdy5kb3dubG9hZENvdXBvbigkdGhpcy5kYXRhKCdjb3Vwb24taWQnKSk7XG4gICAgJCgnI3dlZWtlbmREb3dubG9hZENvdXBvbkxheWVyJykuaGlkZSgpO1xuICB9KTtcbn0pO1xuXG4vLyDrqZTsnbgg66mU64m07JeQ7ISc66eMIOuPmeyekVxuJChkb2N1bWVudCkub24oJ21vYmlsZTpNYWluOk1lbnU6bG9hZCcsICgpID0+IHtcbiAgLy8g67iM656c65OcIO2GoOq4gCDrsoTtirxcbiAgJCgnLmJ0blRvZ2dsZScpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgZGVwdGggPSAkdGhpcy5wYXJlbnQoJy5wYXJlbnRCdG4nKTtcbiAgICBkZXB0aC50b2dnbGVDbGFzcygnb24nKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdvbicpLmZpbmQoJz4udG9nZ2xlTWVudScpLnNsaWRlVXAoKTtcblxuICAgIGlmIChkZXB0aC5oYXNDbGFzcygnYnJhbmQtbGlzdCcpKSB7XG4gICAgICBpZiAoZGVwdGgucGFyZW50KCcuZm9vdGVyLW1lbnUnKS5oYXNDbGFzcygnb24nKSkge1xuICAgICAgICBkZXB0aC5wYXJlbnQoJy5mb290ZXItbWVudScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICBkZXB0aC5maW5kKCcudG9nZ2xlTWVudScpLmhpZGUoKTtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVTaG93QnJhbmQnLCAwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGgucGFyZW50KCcuZm9vdGVyLW1lbnUnKS5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgZGVwdGguZmluZCgnLnRvZ2dsZU1lbnUnKS5zaG93KCk7XG4gICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtZW51U2hvd0JyYW5kJywgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFkZXB0aC5oYXNDbGFzcygnb24nKSkge1xuICAgICAgICBkZXB0aC5maW5kKCcudG9nZ2xlTWVudScpLnNsaWRlVXAoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcHRoLmZpbmQoJz4udG9nZ2xlTWVudScpLnNsaWRlRG93bigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVBY3RpdmVEZXB0aDEnLCAkKCdsaS5kZXB0aCcpLmluZGV4KCQoJy5kZXB0aC5vbicpKSk7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVBY3RpdmVEZXB0aDInLCAkKCcuZGVwdGgub24gLmRlcHRoLTAyID4gbGknKS5pbmRleCgkKCcuaHMtc3ViLm9uJykpKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOyKpO2BrOuhpCDrsI8g66mU64m0IOq4sOyWtVxuICAkKHdpbmRvdykuc2Nyb2xsKCgpID0+IHtcbiAgICBjb25zdCB3aW5kb3dTY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cbiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtZW51V2luZG93U2Nyb2xsVG9wJywgd2luZG93U2Nyb2xsVG9wKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5saXN0LmZhc2hpb24nKS5zY3JvbGwoKCkgPT4ge1xuICAgIGNvbnN0IGZhc2hpb25TY3JvbGxUb3AgPSAkKCcubGlzdC5mYXNoaW9uJykuc2Nyb2xsVG9wKCk7XG5cbiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtZW51RmFzaGlvblNjcm9sbFRvcCcsIGZhc2hpb25TY3JvbGxUb3ApO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmxpc3QubGlmZScpLnNjcm9sbCgoKSA9PiB7XG4gICAgY29uc3QgbGlmZVNjcm9sbFRvcCA9ICQoJy5saXN0LmxpZmUnKS5zY3JvbGxUb3AoKTtcblxuICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVMaWZlU2Nyb2xsVG9wJywgbGlmZVNjcm9sbFRvcCk7XG4gICAgfVxuICB9KTtcblxuICAvLyDsnbTsoIQg7JyE7LmYIOuzteq1rFxuICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgIGNvbnN0IHdpbmRvd1Njcm9sbFRvcCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UubWVudVdpbmRvd1Njcm9sbFRvcDtcbiAgICBjb25zdCBmYXNoaW9uU2Nyb2xsVG9wID0gd2luZG93LmxvY2FsU3RvcmFnZS5tZW51RmFzaGlvblNjcm9sbFRvcDtcbiAgICBjb25zdCBsaWZlU2Nyb2xsVG9wID0gd2luZG93LmxvY2FsU3RvcmFnZS5tZW51TGlmZVNjcm9sbFRvcDtcbiAgICBjb25zdCBhY3RpdmVEZXB0aDEgPSB3aW5kb3cubG9jYWxTdG9yYWdlLm1lbnVBY3RpdmVEZXB0aDE7XG4gICAgY29uc3QgYWN0aXZlRGVwdGgyID0gd2luZG93LmxvY2FsU3RvcmFnZS5tZW51QWN0aXZlRGVwdGgyO1xuICAgIGNvbnN0IHNob3dCcmFuZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UubWVudVNob3dCcmFuZDtcbiAgICBjb25zdCBhY3RpdmVCcmFuZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UubWVudUFjdGl2ZUJyYW5kO1xuXG5cbiAgICBpZiAod2luZG93U2Nyb2xsVG9wKSB7XG4gICAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKHdpbmRvd1Njcm9sbFRvcCk7XG4gICAgfVxuXG4gICAgaWYgKGZhc2hpb25TY3JvbGxUb3ApIHtcbiAgICAgICQoJy5saXN0LmZhc2hpb24nKS5zY3JvbGxUb3AoZmFzaGlvblNjcm9sbFRvcCk7XG4gICAgfVxuXG4gICAgaWYgKGxpZmVTY3JvbGxUb3ApIHtcbiAgICAgICQoJy5saXN0LmxpZmUnKS5zY3JvbGxUb3AobGlmZVNjcm9sbFRvcCk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZURlcHRoMSA+IDApIHtcbiAgICAgICQoJ2xpLmRlcHRoJykuZXEoYWN0aXZlRGVwdGgxKS5hZGRDbGFzcygnb24nKS5jaGlsZHJlbignLmRlcHRoLTAyJykuc2hvdygpO1xuICAgICAgaWYgKGFjdGl2ZURlcHRoMiA+IDApIHtcbiAgICAgICAgJCgnLmRlcHRoLm9uIC5kZXB0aC0wMiA+IGxpJykuZXEoYWN0aXZlRGVwdGgyKS5hZGRDbGFzcygnb24nKS5jaGlsZHJlbignLmRlcHRoLTAzJykuc2hvdygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG93QnJhbmQgPT0gMSkge1xuICAgICAgY29uc3QgYnJhbmRMaXN0ID0gJCgnLmJyYW5kLWxpc3QnKTtcbiAgICAgIGJyYW5kTGlzdC5wYXJlbnQoJy5mb290ZXItbWVudScpLmFkZENsYXNzKCdvbicpO1xuICAgICAgYnJhbmRMaXN0LmZpbmQoJy50b2dnbGVNZW51Jykuc2hvdygpO1xuICAgIH1cblxuICAgIGlmIChhY3RpdmVCcmFuZCkge1xuICAgICAgaWYgKGFjdGl2ZUJyYW5kID09ICdmYXNoaW9uJykge1xuICAgICAgICAkKCcuYnJhbmQtZmFzaGlvbi10YWInKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJy5icmFuZC1saWZlLXRhYicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCgnLmxpc3QuZmFzaGlvbicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCgnLmxpc3QubGlmZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmQgPT0gJ2xpZmUnKSB7XG4gICAgICAgICQoJy5icmFuZC1mYXNoaW9uLXRhYicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCgnLmJyYW5kLWxpZmUtdGFiJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcubGlzdC5mYXNoaW9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcubGlzdC5saWZlJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9NYWluLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///143\n");

/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _myDelivery = __webpack_require__(64);\n\nvar _myDelivery2 = _interopRequireDefault(_myDelivery);\n\nvar _popupManager = __webpack_require__(26);\n\nvar _popupManager2 = _interopRequireDefault(_popupManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:MyAddress:Index:load', function () {\n  _myDelivery2.default.show(new _popupManager2.default(), {\n    success: function success(firstName, postalCode, fullAddress, cellPhone, phone) {\n      if ($pt.isApp()) {\n        $pt.navigation.pop({\n          animation: 'TOP_TO_BOTTOM',\n          script: 'myAddressCallback(\\'' + firstName.replace(/'/g, \"\\\\'\") + '\\', \\'' + postalCode.replace(/'/g, \"\\\\'\") + '\\', \\'' + fullAddress.replace(/'/g, \"\\\\'\") + '\\', \\'' + cellPhone.replace(/'/g, \"\\\\'\") + '\\', \\'' + phone.replace(/'/g, \"\\\\'\") + '\\')'\n        });\n      } else {\n        opener.myAddressCallback(firstName, postalCode, fullAddress, cellPhone, phone);\n        window.close();\n      }\n    }\n  }, true);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTXlBZGRyZXNzLmpzPzFlNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE15RGVsaXZlcnkgZnJvbSAnLi9jb21wb25lbnQvbXktZGVsaXZlcnknO1xuaW1wb3J0IFBvcHVwTWFuYWdlciBmcm9tICcuLi9jb21tb24vcG9wdXAtbWFuYWdlcic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6TXlBZGRyZXNzOkluZGV4OmxvYWQnLCAoKSA9PiB7XG4gIE15RGVsaXZlcnkuc2hvdyhuZXcgUG9wdXBNYW5hZ2VyKCksIHtcbiAgICBzdWNjZXNzOiAoZmlyc3ROYW1lLCBwb3N0YWxDb2RlLCBmdWxsQWRkcmVzcywgY2VsbFBob25lLCBwaG9uZSkgPT4ge1xuICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICRwdC5uYXZpZ2F0aW9uLnBvcCh7XG4gICAgICAgICAgYW5pbWF0aW9uOiAnVE9QX1RPX0JPVFRPTScsXG4gICAgICAgICAgc2NyaXB0OiBgbXlBZGRyZXNzQ2FsbGJhY2soJyR7Zmlyc3ROYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKX0nLCAnJHtwb3N0YWxDb2RlLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKX0nLCAnJHtmdWxsQWRkcmVzcy5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9JywgJyR7Y2VsbFBob25lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKX0nLCAnJHtwaG9uZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9JylgLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZW5lci5teUFkZHJlc3NDYWxsYmFjayhmaXJzdE5hbWUsIHBvc3RhbENvZGUsIGZ1bGxBZGRyZXNzLCBjZWxsUGhvbmUsIHBob25lKTtcbiAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSwgdHJ1ZSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL015QWRkcmVzcy5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///144\n");

/***/ }),
/* 145 */
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"zipcode-popup-layer\\\">\\n    <header class=\\\"kolon-header\\\">\\n        <div class=\\\"h-wrap\\\">\\n            <ul class=\\\"top-navi\\\">\\n                <li>\\n                    <a class=\\\"back back-btn\\\" style=\\\"display: none\\\">뒤로가기</a>\\n                </li>\\n                <li>\\n                    <h1 class=\\\"sub\\\"><a>우편번호검색</a></h1>\\n                </li>\\n                <li>\\n                    <a class=\\\"close close-btn\\\">닫기</a>\\n                </li>\\n            </ul>\\n        </div>\\n    </header>\\n    <div class=\\\"header-padding\\\"></div>\\n\\n    <section id=\\\"kolon-content\\\" class=\\\"pt0\\\">\\n        <form id=\\\"searchZipcodeForm\\\" method=\\\"post\\\" class=\\\"search-zipcode-form\\\">\\n            <article class=\\\"search-zipcode\\\">\\n                <input type=\\\"hidden\\\" name=\\\"CSRFToken\\\" value=\\\"{{CSRFToken}}\\\" />\\n                <input type=\\\"hidden\\\" name=\\\"subCode\\\" value=\\\"W\\\" />\\n                <input type=\\\"hidden\\\" name=\\\"sido\\\" value=\\\"\\\" />\\n                <input type=\\\"hidden\\\" name=\\\"gungu\\\" value=\\\"\\\" />\\n\\n                <div class=\\\"search-top\\\">\\n                    <div class=\\\"search-wrap\\\">\\n                        <input type=\\\"text\\\" name=\\\"txtSearch\\\" placeholder=\\\"예) 삼성로 512, 삼성동 517-1, 돈암 하늘채\\\" class=\\\"\\\">\\n                        <button type=\\\"submit\\\"></button>\\n                    </div>\\n                    <p class=\\\"desc\\\">※ 도로명 또는 지번을 입력해 주세요.</p>\\n                </div>\\n\\n                <div class=\\\"list-wrap\\\">\\n                    <!--div class=\\\"select-wrap\\\">\\n                        <select id=\\\"\\\" name=\\\"\\\">\\n                            <option value=\\\"\\\">도로명 전체</option>\\n                        </select>\\n                        <select id=\\\"\\\" name=\\\"\\\">\\n                            <option value=\\\"\\\">지역명 전체</option>\\n                        </select>\\n                    </div-->\\n                    <p style=\\\"display: none;\\\" class=\\\"no-result\\\">우편번호 검색 결과가 없습니다.</p>\\n                    {{{render_hide_loader \\\"searchZipCodeLoading\\\"}}}\\n                    <ul class=\\\"zip-list\\\"></ul>\\n                </div>\\n            </article>\\n        </form>\\n\\n        <form id=\\\"searchZipcodeDetailForm\\\" class=\\\"search-zipcode-detail-form\\\">\\n            <article class=\\\"detail-address\\\">\\n                <input type=\\\"hidden\\\" name=\\\"postcode\\\" value=\\\"\\\" />\\n                <input type=\\\"hidden\\\" name=\\\"address\\\" value=\\\"\\\" />\\n\\n                <div class=\\\"box-address\\\">\\n                    <div class=\\\"zipcode\\\"></div>\\n                    <div class=\\\"seleted-addr\\\">\\n                        <dl>\\n                            <dt>도로명</dt>\\n                            <dd class=\\\"address-road\\\"></dd>\\n                        </dl>\\n                        <dl>\\n                            <dt>지&nbsp;&nbsp;&nbsp;번</dt>\\n                            <dd class=\\\"address\\\"></dd>\\n                        </dl>\\n                    </div>\\n                    <div class=\\\"input-addr\\\">\\n                        <h3>상세주소</h3>\\n                        <input name=\\\"detailAddress\\\" type=\\\"text\\\" placeholder=\\\"상세주소를 입력해 주세요.\\\">\\n                    </div>\\n                </div>\\n            </article>\\n\\n            <div class=\\\"fixed-btn\\\">\\n                <button type=\\\"submit\\\" class=\\\"btn-submit\\\">완료</button>\\n            </div>\\n\\n            <div class=\\\"fixed-bottom-product-btn-padding\\\"></div>\\n        </form>\\n    </section>\\n</div>\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvemlwY29kZS1wb3B1cC5oYnM/MzRlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiemlwY29kZS1wb3B1cC1sYXllclxcXCI+XFxuICAgIDxoZWFkZXIgY2xhc3M9XFxcImtvbG9uLWhlYWRlclxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoLXdyYXBcXFwiPlxcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwidG9wLW5hdmlcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwiYmFjayBiYWNrLWJ0blxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiPuuSpOuhnOqwgOq4sDwvYT5cXG4gICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzPVxcXCJzdWJcXFwiPjxhPuyasO2OuOuyiO2YuOqygOyDiTwvYT48L2gxPlxcbiAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwiY2xvc2UgY2xvc2UtYnRuXFxcIj7ri6vquLA8L2E+XFxuICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPC91bD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2hlYWRlcj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiaGVhZGVyLXBhZGRpbmdcXFwiPjwvZGl2PlxcblxcbiAgICA8c2VjdGlvbiBpZD1cXFwia29sb24tY29udGVudFxcXCIgY2xhc3M9XFxcInB0MFxcXCI+XFxuICAgICAgICA8Zm9ybSBpZD1cXFwic2VhcmNoWmlwY29kZUZvcm1cXFwiIG1ldGhvZD1cXFwicG9zdFxcXCIgY2xhc3M9XFxcInNlYXJjaC16aXBjb2RlLWZvcm1cXFwiPlxcbiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPVxcXCJzZWFyY2gtemlwY29kZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIkNTUkZUb2tlblxcXCIgdmFsdWU9XFxcInt7Q1NSRlRva2VufX1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInN1YkNvZGVcXFwiIHZhbHVlPVxcXCJXXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJzaWRvXFxcIiB2YWx1ZT1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJndW5ndVxcXCIgdmFsdWU9XFxcIlxcXCIgLz5cXG5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VhcmNoLXRvcFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWFyY2gtd3JhcFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIG5hbWU9XFxcInR4dFNlYXJjaFxcXCIgcGxhY2Vob2xkZXI9XFxcIuyYiCkg7IK87ISx66GcIDUxMiwg7IK87ISx64+ZIDUxNy0xLCDrj4jslZQg7ZWY64qY7LGEXFxcIiBjbGFzcz1cXFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCI+PC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJkZXNjXFxcIj7igLsg64+E66Gc66qFIOuYkOuKlCDsp4DrsojsnYQg7J6F66Cl7ZW0IOyjvOyEuOyalC48L3A+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaXN0LXdyYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPCEtLWRpdiBjbGFzcz1cXFwic2VsZWN0LXdyYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XFxcIlxcXCIgbmFtZT1cXFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7rj4TroZzrqoUg7KCE7LK0PC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cXFwiXFxcIiBuYW1lPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuyngOyXreuqhSDsoITssrQ8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2LS0+XFxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiIGNsYXNzPVxcXCJuby1yZXN1bHRcXFwiPuyasO2OuOuyiO2YuCDqsoDsg4kg6rKw6rO86rCAIOyXhuyKteuLiOuLpC48L3A+XFxuICAgICAgICAgICAgICAgICAgICB7e3tyZW5kZXJfaGlkZV9sb2FkZXIgXFxcInNlYXJjaFppcENvZGVMb2FkaW5nXFxcIn19fVxcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJ6aXAtbGlzdFxcXCI+PC91bD5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9hcnRpY2xlPlxcbiAgICAgICAgPC9mb3JtPlxcblxcbiAgICAgICAgPGZvcm0gaWQ9XFxcInNlYXJjaFppcGNvZGVEZXRhaWxGb3JtXFxcIiBjbGFzcz1cXFwic2VhcmNoLXppcGNvZGUtZGV0YWlsLWZvcm1cXFwiPlxcbiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPVxcXCJkZXRhaWwtYWRkcmVzc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInBvc3Rjb2RlXFxcIiB2YWx1ZT1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJhZGRyZXNzXFxcIiB2YWx1ZT1cXFwiXFxcIiAvPlxcblxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJib3gtYWRkcmVzc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ6aXBjb2RlXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGV0ZWQtYWRkclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+64+E66Gc66qFPC9kdD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRkIGNsYXNzPVxcXCJhZGRyZXNzLXJvYWRcXFwiPjwvZGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkdD7sp4AmbmJzcDsmbmJzcDsmbmJzcDvrsog8L2R0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQgY2xhc3M9XFxcImFkZHJlc3NcXFwiPjwvZGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kbD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtYWRkclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPuyDgeyEuOyjvOyGjDwvaDM+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XFxcImRldGFpbEFkZHJlc3NcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLsg4HshLjso7zshozrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC5cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvYXJ0aWNsZT5cXG5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmaXhlZC1idG5cXFwiPlxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ0bi1zdWJtaXRcXFwiPuyZhOujjDwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZpeGVkLWJvdHRvbS1wcm9kdWN0LWJ0bi1wYWRkaW5nXFxcIj48L2Rpdj5cXG4gICAgICAgIDwvZm9ybT5cXG4gICAgPC9zZWN0aW9uPlxcbjwvZGl2PlxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9rb3AvbW9iaWxlL2NvbXBvbmVudC96aXBjb2RlLXBvcHVwLmhic1xuLy8gbW9kdWxlIGlkID0gMTQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///145\n");

/***/ }),
/* 146 */
/***/ (function(module, exports) {

eval("module.exports = \"<li>\\n    <a data-post=\\\"{{post}}\\\" data-address-road=\\\"{{addressRoad}}\\\" data-address=\\\"{{address}}\\\">\\n        <span class=\\\"num\\\">{{post}} <em class=\\\"fc-gray\\\"></em></span>\\n        <span class=\\\"name\\\"><em>도로명</em>{{addressRoad}}</span>\\n        <span class=\\\"lot\\\"><em>지&nbsp;&nbsp;&nbsp;번</em>{{address}}</span>\\n    </a>\\n</li>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvemlwY29kZS1yZXN1bHQtaXRlbS5oYnM/MTk0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGxpPlxcbiAgICA8YSBkYXRhLXBvc3Q9XFxcInt7cG9zdH19XFxcIiBkYXRhLWFkZHJlc3Mtcm9hZD1cXFwie3thZGRyZXNzUm9hZH19XFxcIiBkYXRhLWFkZHJlc3M9XFxcInt7YWRkcmVzc319XFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJudW1cXFwiPnt7cG9zdH19IDxlbSBjbGFzcz1cXFwiZmMtZ3JheVxcXCI+PC9lbT48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwibmFtZVxcXCI+PGVtPuuPhOuhnOuqhTwvZW0+e3thZGRyZXNzUm9hZH19PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImxvdFxcXCI+PGVtPuyngCZuYnNwOyZuYnNwOyZuYnNwO+uyiDwvZW0+e3thZGRyZXNzfX08L3NwYW4+XFxuICAgIDwvYT5cXG48L2xpPlwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9rb3AvbW9iaWxlL2NvbXBvbmVudC96aXBjb2RlLXJlc3VsdC1pdGVtLmhic1xuLy8gbW9kdWxlIGlkID0gMTQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///146\n");

/***/ }),
/* 147 */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvemlwY29kZS5zY3NzPzNjZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2tvcC9tb2JpbGUvY29tcG9uZW50L3ppcGNvZGUuc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///147\n");

/***/ }),
/* 148 */
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"my-delivery-popup-layer\\\">\\n    <header class=\\\"kolon-header\\\">\\n        <div class=\\\"h-wrap\\\">\\n            <ul class=\\\"top-navi\\\">\\n                <li>\\n                    <a class=\\\"back back-btn\\\" style=\\\"display: none\\\">뒤로가기</a>\\n                </li>\\n                <li>\\n                    <h1 class=\\\"sub\\\"><a>나의 배송지</a></h1>\\n                </li>\\n                <li>\\n                    <a class=\\\"close close-btn\\\">닫기</a>\\n                </li>\\n            </ul>\\n        </div>\\n    </header>\\n    <div class=\\\"header-padding\\\"></div>\\n\\n    <section id=\\\"kolon-content\\\">\\n        <div class=\\\"my-address\\\">\\n            {{{render_loader \\\"myDeliveryLoading\\\"}}}\\n\\n            <article class=\\\"delivery-popup-content\\\" style=\\\"display: none\\\">\\n                <ul class=\\\"ad-list\\\">\\n                    {{#myDelivery.results}}\\n                        {{>mobile/precompiles/order/mydelivery-item CSRFName=../../CSRFName CSRFToken=../../CSRFToken}}\\n                    {{/myDelivery.results}}\\n                </ul>\\n                <a class=\\\"btn-add\\\">배송지 추가</a>\\n                <a class=\\\"btn-apply\\\" data-style=\\\"zoom-in\\\">선택한 배송지로 적용</a>\\n            </article>\\n        </div>\\n\\n        <div class=\\\"my-address-form\\\" style=\\\"display: none\\\">\\n            <article class=\\\"order\\\">\\n                <div class=\\\"d-info\\\">\\n                    <form id=\\\"myDeliveryAddForm\\\" class=\\\"add\\\" method=\\\"post\\\">\\n                        <input type=\\\"hidden\\\" name=\\\"{{CSRFName}}\\\" value=\\\"{{CSRFToken}}\\\" />\\n                        <ul>\\n                            <li>\\n                                <div class=\\\"tit\\\">받는분</div>\\n                                <div class=\\\"cont\\\">\\n                                    <input type=\\\"text\\\" id=\\\"firstName\\\" name=\\\"firstName\\\" placeholder=\\\"이름을 입력해 주세요.\\\" value=\\\"\\\" />\\n                                </div>\\n                            </li>\\n                            <li class=\\\"zipCode\\\">\\n                                <div class=\\\"tit\\\">우편번호</div>\\n                                <div class=\\\"cont\\\">\\n                                    <span id=\\\"postalCodeView\\\"></span>\\n                                    <input type=\\\"hidden\\\" id=\\\"postalCode\\\" name=\\\"postalCode\\\" value=\\\"\\\" />\\n                                    <a class=\\\"btn\\\" id=\\\"myDeliverySearchZipCodeBtn\\\">우편번호찾기</a>\\n                                </div>\\n                            </li>\\n                            <li class=\\\"txt-box\\\">\\n                                <div class=\\\"tit\\\">상세주소</div>\\n                                <div class=\\\"cont\\\">\\n                                    <textarea id=\\\"line1\\\" name=\\\"line1\\\" placeholder=\\\"상세 주소를 입력해 주세요.\\\"></textarea>\\n                                </div>\\n                            </li>\\n                            <li>\\n                                <div class=\\\"tit\\\">휴대폰번호</div>\\n                                <div class=\\\"cont\\\">\\n                                    <input type=\\\"tel\\\" id=\\\"cellPhone\\\" name=\\\"cellPhone\\\" placeholder=\\\"휴대폰 번호를 입력해 주세요.\\\" value=\\\"\\\" maxlength=\\\"11\\\" />\\n                                </div>\\n                            </li>\\n                            <li>\\n                                <div class=\\\"tit\\\">전화번호</div>\\n                                <div class=\\\"cont\\\">\\n                                    <input type=\\\"tel\\\" id=\\\"phone\\\" name=\\\"phone\\\" placeholder=\\\"선택입력\\\" value=\\\"\\\" maxlength=\\\"11\\\" />\\n                                </div>\\n                            </li>\\n                            <li class=\\\"radioarea\\\">\\n                                <div class=\\\"tit\\\">기본배송지</div>\\n                                <div class=\\\"cont\\\">\\n                                    <div class=\\\"radio\\\">\\n                                        <input type=\\\"radio\\\" name=\\\"rdoDefaultYn\\\" id=\\\"yes\\\" value=\\\"Y\\\"  />\\n                                        <label for=\\\"yes\\\">설정</label>\\n                                        <label for=\\\"yes\\\" class=\\\"radio-img\\\"></label>\\n                                    </div>\\n                                    <div class=\\\"radio\\\">\\n                                        <input type=\\\"radio\\\" name=\\\"rdoDefaultYn\\\" id=\\\"no\\\" value=\\\"N\\\"  />\\n                                        <label for=\\\"no\\\">미설정</label>\\n                                        <label for=\\\"no\\\" class=\\\"radio-img\\\"></label>\\n                                    </div>\\n                                </div>\\n                            </li>\\n                        </ul>\\n                        <div class=\\\"btn-area\\\">\\n                            <a id=\\\"myDeliveryCancelBtn\\\" class=\\\"close\\\">취소</a>\\n                            <button type=\\\"submit\\\" id=\\\"myDeliveryAddBtn\\\" class=\\\"finish\\\" data-style=\\\"zoom-in\\\" style=\\\"display: none\\\">등록</button>\\n                            <button type=\\\"submit\\\" id=\\\"myDeliveryModifyBtn\\\" class=\\\"finish\\\" data-style=\\\"zoom-in\\\" style=\\\"display: none\\\">수정</button>\\n                            <input type=\\\"hidden\\\" id=\\\"addrId\\\" name=\\\"id\\\" value=\\\"\\\">\\n                        </div>\\n                    </form>\\n                </div>\\n            </article>\\n        </div>\\n    </section>\\n</div>\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvbXktZGVsaXZlcnktcG9wdXAuaGJzPzJjNjIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcIm15LWRlbGl2ZXJ5LXBvcHVwLWxheWVyXFxcIj5cXG4gICAgPGhlYWRlciBjbGFzcz1cXFwia29sb24taGVhZGVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImgtd3JhcFxcXCI+XFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJ0b3AtbmF2aVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJiYWNrIGJhY2stYnRuXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+65Kk66Gc6rCA6riwPC9hPlxcbiAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XFxcInN1YlxcXCI+PGE+64KY7J2YIOuwsOyGoeyngDwvYT48L2gxPlxcbiAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwiY2xvc2UgY2xvc2UtYnRuXFxcIj7ri6vquLA8L2E+XFxuICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPC91bD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2hlYWRlcj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiaGVhZGVyLXBhZGRpbmdcXFwiPjwvZGl2PlxcblxcbiAgICA8c2VjdGlvbiBpZD1cXFwia29sb24tY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJteS1hZGRyZXNzXFxcIj5cXG4gICAgICAgICAgICB7e3tyZW5kZXJfbG9hZGVyIFxcXCJteURlbGl2ZXJ5TG9hZGluZ1xcXCJ9fX1cXG5cXG4gICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cXFwiZGVsaXZlcnktcG9wdXAtY29udGVudFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiPlxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcImFkLWxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAge3sjbXlEZWxpdmVyeS5yZXN1bHRzfX1cXG4gICAgICAgICAgICAgICAgICAgICAgICB7ez5tb2JpbGUvcHJlY29tcGlsZXMvb3JkZXIvbXlkZWxpdmVyeS1pdGVtIENTUkZOYW1lPS4uLy4uL0NTUkZOYW1lIENTUkZUb2tlbj0uLi8uLi9DU1JGVG9rZW59fVxcbiAgICAgICAgICAgICAgICAgICAge3svbXlEZWxpdmVyeS5yZXN1bHRzfX1cXG4gICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImJ0bi1hZGRcXFwiPuuwsOyGoeyngCDstpTqsIA8L2E+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJidG4tYXBwbHlcXFwiIGRhdGEtc3R5bGU9XFxcInpvb20taW5cXFwiPuyEoO2Dne2VnCDrsLDshqHsp4DroZwg7KCB7JqpPC9hPlxcbiAgICAgICAgICAgIDwvYXJ0aWNsZT5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibXktYWRkcmVzcy1mb3JtXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+XFxuICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9XFxcIm9yZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZC1pbmZvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPVxcXCJteURlbGl2ZXJ5QWRkRm9ybVxcXCIgY2xhc3M9XFxcImFkZFxcXCIgbWV0aG9kPVxcXCJwb3N0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ7e0NTUkZOYW1lfX1cXFwiIHZhbHVlPVxcXCJ7e0NTUkZUb2tlbn19XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGl0XFxcIj7rsJvripTrtoQ8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBpZD1cXFwiZmlyc3ROYW1lXFxcIiBuYW1lPVxcXCJmaXJzdE5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLsnbTrpoTsnYQg7J6F66Cl7ZW0IOyjvOyEuOyalC5cXFwiIHZhbHVlPVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJ6aXBDb2RlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpdFxcXCI+7Jqw7Y6467KI7Zi4PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb250XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cXFwicG9zdGFsQ29kZVZpZXdcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBpZD1cXFwicG9zdGFsQ29kZVxcXCIgbmFtZT1cXFwicG9zdGFsQ29kZVxcXCIgdmFsdWU9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwiYnRuXFxcIiBpZD1cXFwibXlEZWxpdmVyeVNlYXJjaFppcENvZGVCdG5cXFwiPuyasO2OuOuyiO2YuOywvuq4sDwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcInR4dC1ib3hcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGl0XFxcIj7sg4HshLjso7zshow8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cXFwibGluZTFcXFwiIG5hbWU9XFxcImxpbmUxXFxcIiBwbGFjZWhvbGRlcj1cXFwi7IOB7IS4IOyjvOyGjOulvCDsnoXroKXtlbQg7KO87IS47JqULlxcXCI+PC90ZXh0YXJlYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aXRcXFwiPu2ctOuMgO2PsOuyiO2YuDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRlbFxcXCIgaWQ9XFxcImNlbGxQaG9uZVxcXCIgbmFtZT1cXFwiY2VsbFBob25lXFxcIiBwbGFjZWhvbGRlcj1cXFwi7Zy064yA7Y+wIOuyiO2YuOulvCDsnoXroKXtlbQg7KO87IS47JqULlxcXCIgdmFsdWU9XFxcIlxcXCIgbWF4bGVuZ3RoPVxcXCIxMVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aXRcXFwiPuyghO2ZlOuyiO2YuDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRlbFxcXCIgaWQ9XFxcInBob25lXFxcIiBuYW1lPVxcXCJwaG9uZVxcXCIgcGxhY2Vob2xkZXI9XFxcIuyEoO2DneyeheugpVxcXCIgdmFsdWU9XFxcIlxcXCIgbWF4bGVuZ3RoPVxcXCIxMVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcInJhZGlvYXJlYVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aXRcXFwiPuq4sOuzuOuwsOyGoeyngDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicmFkaW9cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInJkb0RlZmF1bHRZblxcXCIgaWQ9XFxcInllc1xcXCIgdmFsdWU9XFxcIllcXFwiICAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJ5ZXNcXFwiPuyEpOyglTwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInllc1xcXCIgY2xhc3M9XFxcInJhZGlvLWltZ1xcXCI+PC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwicmRvRGVmYXVsdFluXFxcIiBpZD1cXFwibm9cXFwiIHZhbHVlPVxcXCJOXFxcIiAgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwibm9cXFwiPuuvuOyEpOyglTwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIm5vXFxcIiBjbGFzcz1cXFwicmFkaW8taW1nXFxcIj48L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tYXJlYVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGlkPVxcXCJteURlbGl2ZXJ5Q2FuY2VsQnRuXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiPuy3qOyGjDwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJzdWJtaXRcXFwiIGlkPVxcXCJteURlbGl2ZXJ5QWRkQnRuXFxcIiBjbGFzcz1cXFwiZmluaXNoXFxcIiBkYXRhLXN0eWxlPVxcXCJ6b29tLWluXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+65Ox66GdPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBpZD1cXFwibXlEZWxpdmVyeU1vZGlmeUJ0blxcXCIgY2xhc3M9XFxcImZpbmlzaFxcXCIgZGF0YS1zdHlsZT1cXFwiem9vbS1pblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiPuyImOyglTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBpZD1cXFwiYWRkcklkXFxcIiBuYW1lPVxcXCJpZFxcXCIgdmFsdWU9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvYXJ0aWNsZT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L3NlY3Rpb24+XFxuPC9kaXY+XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2tvcC9tb2JpbGUvY29tcG9uZW50L215LWRlbGl2ZXJ5LXBvcHVwLmhic1xuLy8gbW9kdWxlIGlkID0gMTQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///148\n");

/***/ }),
/* 149 */
/***/ (function(module, exports) {

eval("module.exports = \"<li>\\n    <div class=\\\"top\\\">\\n        <div class=\\\"radio\\\" id=\\\"ad01\\\">\\n            <input type=\\\"radio\\\" name=\\\"my-ad\\\" id=\\\"{{id}}\\\" value=\\\"{{id}}\\\" {{#is defaultYn \\\"Y\\\"}}checked{{/is}} />\\n            <label for=\\\"{{id}}\\\" class=\\\"radio-img\\\"></label>\\n        </div>\\n        <label for=\\\"{{id}}\\\">{{firstName}} {{lastName}}</label>\\n        <span class=\\\"t1\\\">{{#is defaultYn \\\"Y\\\"}}기본배송지{{/is}}</span>\\n    </div>\\n    <dl>\\n        <dt>주소</dt>\\n        <dd>{{line1}}</dd>\\n        <dt>연락처</dt>\\n        <dd>\\n            <span>{{cellPhone}}</span>\\n            <span>{{phone}}</span>\\n        </dd>\\n    </dl>\\n    <div class=\\\"btn-area\\\" data-addr-id=\\\"{{id}}\\\">\\n        <a class=\\\"edit\\\">수정</a>\\n        {{#isnt defaultYn \\\"Y\\\"}}<a class=\\\"del\\\">삭제</a>{{/isnt}}\\n    </div>\\n    <form method=\\\"post\\\" id=\\\"form_{{id}}\\\">\\n        <input type=\\\"hidden\\\" name=\\\"CSRFToken\\\" value=\\\"{{CSRFToken}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"id\\\" value=\\\"{{id}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"firstName\\\" value=\\\"{{firstName}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"defaultYn\\\" value=\\\"{{defaultYn}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"postalCode\\\" value=\\\"{{postalCode}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"line1\\\" value=\\\"{{line1}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"cellPhone\\\" value=\\\"{{cellPhone}}\\\" />\\n        <input type=\\\"hidden\\\" name=\\\"phone\\\" value=\\\"{{phone}}\\\" />\\n    </form>\\n</li>\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvbXktZGVsaXZlcnktaXRlbS5oYnM/ZTIyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGxpPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicmFkaW9cXFwiIGlkPVxcXCJhZDAxXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcIm15LWFkXFxcIiBpZD1cXFwie3tpZH19XFxcIiB2YWx1ZT1cXFwie3tpZH19XFxcIiB7eyNpcyBkZWZhdWx0WW4gXFxcIllcXFwifX1jaGVja2Vke3svaXN9fSAvPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInt7aWR9fVxcXCIgY2xhc3M9XFxcInJhZGlvLWltZ1xcXCI+PC9sYWJlbD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZH19XFxcIj57e2ZpcnN0TmFtZX19IHt7bGFzdE5hbWV9fTwvbGFiZWw+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidDFcXFwiPnt7I2lzIGRlZmF1bHRZbiBcXFwiWVxcXCJ9feq4sOuzuOuwsOyGoeyngHt7L2lzfX08L3NwYW4+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGw+XFxuICAgICAgICA8ZHQ+7KO87IaMPC9kdD5cXG4gICAgICAgIDxkZD57e2xpbmUxfX08L2RkPlxcbiAgICAgICAgPGR0PuyXsOudveyymDwvZHQ+XFxuICAgICAgICA8ZGQ+XFxuICAgICAgICAgICAgPHNwYW4+e3tjZWxsUGhvbmV9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8c3Bhbj57e3Bob25lfX08L3NwYW4+XFxuICAgICAgICA8L2RkPlxcbiAgICA8L2RsPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJidG4tYXJlYVxcXCIgZGF0YS1hZGRyLWlkPVxcXCJ7e2lkfX1cXFwiPlxcbiAgICAgICAgPGEgY2xhc3M9XFxcImVkaXRcXFwiPuyImOyglTwvYT5cXG4gICAgICAgIHt7I2lzbnQgZGVmYXVsdFluIFxcXCJZXFxcIn19PGEgY2xhc3M9XFxcImRlbFxcXCI+7IKt7KCcPC9hPnt7L2lzbnR9fVxcbiAgICA8L2Rpdj5cXG4gICAgPGZvcm0gbWV0aG9kPVxcXCJwb3N0XFxcIiBpZD1cXFwiZm9ybV97e2lkfX1cXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiQ1NSRlRva2VuXFxcIiB2YWx1ZT1cXFwie3tDU1JGVG9rZW59fVxcXCIgLz5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImlkXFxcIiB2YWx1ZT1cXFwie3tpZH19XFxcIiAvPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiZmlyc3ROYW1lXFxcIiB2YWx1ZT1cXFwie3tmaXJzdE5hbWV9fVxcXCIgLz5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImRlZmF1bHRZblxcXCIgdmFsdWU9XFxcInt7ZGVmYXVsdFlufX1cXFwiIC8+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJwb3N0YWxDb2RlXFxcIiB2YWx1ZT1cXFwie3twb3N0YWxDb2RlfX1cXFwiIC8+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJsaW5lMVxcXCIgdmFsdWU9XFxcInt7bGluZTF9fVxcXCIgLz5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImNlbGxQaG9uZVxcXCIgdmFsdWU9XFxcInt7Y2VsbFBob25lfX1cXFwiIC8+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJwaG9uZVxcXCIgdmFsdWU9XFxcInt7cGhvbmV9fVxcXCIgLz5cXG4gICAgPC9mb3JtPlxcbjwvbGk+XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2tvcC9tb2JpbGUvY29tcG9uZW50L215LWRlbGl2ZXJ5LWl0ZW0uaGJzXG4vLyBtb2R1bGUgaWQgPSAxNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///149\n");

/***/ }),
/* 150 */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvbXktZGVsaXZlcnkuc2Nzcz8yYTVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9rb3AvbW9iaWxlL2NvbXBvbmVudC9teS1kZWxpdmVyeS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///150\n");

/***/ }),
/* 151 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _MyPage = __webpack_require__(65);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default();\n\n$(document).on('mobile:MyPage:load', function () {\n  (0, _MyPage.summaryOrderList)('mobile');\n\n  var isMyPageIndexPage = $('#availablePoint').length > 0;\n\n  // 2017.07.30 namwoong async load point data\n  function updatePointData(data) {\n    $('#availablePoint').html(data.availablePoint + 'P');\n    $('#unavailablePoint').html('\\uC801\\uB9BD \\uC608\\uC815 \\uD3EC\\uC778\\uD2B8 ' + data.unavailablePoint + 'P');\n    $('#couponCount').html(data.couponCount + '\\uC7A5');\n    $('#depositAmount').html(data.depositAmount + '\\uC6D0');\n\n    if (data.employeePoint) {\n      $('#welfareLimitTitle').html('\\uAD6C\\uB9E4\\uC9C0\\uC6D0\\uD55C\\uB3C4 (' + data.employeePoint.formattedWelfareLimitRate + ')');\n      $('#welfareLimitAmount').html(data.employeePoint.formattedWelfareLimitAmount + '\\uC6D0');\n      $('#employeeDcLimitAmount').html(data.employeePoint.formattedEmployeeDcLimitAmount + '\\uC6D0');\n      $('#totalEmployeePoint').html(data.employeePoint.formattedTotalEmployeePoint + '\\uC6D0');\n    }\n  }\n\n  function getPointData() {\n    overlayLoader.start();\n    $.getJSON('/Point', function (data) {\n      if (data) {\n        updatePointData(data);\n      }\n    }).always(function () {\n      return overlayLoader.stop();\n    });\n  }\n\n  if (isMyPageIndexPage) getPointData();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTXlQYWdlLmFjdGlvbi5qcz8wZWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPdmVybGF5TG9hZGVyIGZyb20gJy4uL2NvbW1vbi9PdmVybGF5TG9hZGVyJztcbmltcG9ydCB7IHN1bW1hcnlPcmRlckxpc3QgfSBmcm9tICcuLi9jb21tb24vTXlQYWdlLmFjdGlvbic7XG5jb25zdCBvdmVybGF5TG9hZGVyID0gbmV3IE92ZXJsYXlMb2FkZXIoKTtcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpNeVBhZ2U6bG9hZCcsICgpID0+IHtcbiAgc3VtbWFyeU9yZGVyTGlzdCgnbW9iaWxlJyk7XG5cbiAgY29uc3QgaXNNeVBhZ2VJbmRleFBhZ2UgPSAkKCcjYXZhaWxhYmxlUG9pbnQnKS5sZW5ndGggPiAwO1xuXG4gIC8vIDIwMTcuMDcuMzAgbmFtd29vbmcgYXN5bmMgbG9hZCBwb2ludCBkYXRhXG4gIGZ1bmN0aW9uIHVwZGF0ZVBvaW50RGF0YShkYXRhKSB7XG4gICAgJCgnI2F2YWlsYWJsZVBvaW50JykuaHRtbChgJHtkYXRhLmF2YWlsYWJsZVBvaW50fVBgKTtcbiAgICAkKCcjdW5hdmFpbGFibGVQb2ludCcpLmh0bWwoYOyggeumvSDsmIjsoJUg7Y+s7J247Yq4ICR7ZGF0YS51bmF2YWlsYWJsZVBvaW50fVBgKTtcbiAgICAkKCcjY291cG9uQ291bnQnKS5odG1sKGAke2RhdGEuY291cG9uQ291bnR97J6lYCk7XG4gICAgJCgnI2RlcG9zaXRBbW91bnQnKS5odG1sKGAke2RhdGEuZGVwb3NpdEFtb3VudH3sm5BgKTtcblxuICAgIGlmIChkYXRhLmVtcGxveWVlUG9pbnQpIHtcbiAgICAgICQoJyN3ZWxmYXJlTGltaXRUaXRsZScpLmh0bWwoYOq1rOunpOyngOybkO2VnOuPhCAoJHtkYXRhLmVtcGxveWVlUG9pbnQuZm9ybWF0dGVkV2VsZmFyZUxpbWl0UmF0ZX0pYCk7XG4gICAgICAkKCcjd2VsZmFyZUxpbWl0QW1vdW50JykuaHRtbChgJHtkYXRhLmVtcGxveWVlUG9pbnQuZm9ybWF0dGVkV2VsZmFyZUxpbWl0QW1vdW50feybkGApO1xuICAgICAgJCgnI2VtcGxveWVlRGNMaW1pdEFtb3VudCcpLmh0bWwoYCR7ZGF0YS5lbXBsb3llZVBvaW50LmZvcm1hdHRlZEVtcGxveWVlRGNMaW1pdEFtb3VudH3sm5BgKTtcbiAgICAgICQoJyN0b3RhbEVtcGxveWVlUG9pbnQnKS5odG1sKGAke2RhdGEuZW1wbG95ZWVQb2ludC5mb3JtYXR0ZWRUb3RhbEVtcGxveWVlUG9pbnR97JuQYCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnREYXRhKCkge1xuICAgIG92ZXJsYXlMb2FkZXIuc3RhcnQoKTtcbiAgICAkLmdldEpTT04oJy9Qb2ludCcsIChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICB1cGRhdGVQb2ludERhdGEoZGF0YSk7XG4gICAgICB9XG4gICAgfSkuYWx3YXlzKCgpID0+IG92ZXJsYXlMb2FkZXIuc3RvcCgpKTtcbiAgfVxuXG4gIGlmIChpc015UGFnZUluZGV4UGFnZSkgZ2V0UG9pbnREYXRhKCk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL015UGFnZS5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///151\n");

/***/ }),
/* 152 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:MyPage:load', function () {\n  $('#kolon-content').on('click', '.bundle .set a', function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n    var parentEle = $this.parents('.bundle');\n    if (!$this.hasClass('set-open')) {\n      $this.addClass('set-open');\n      parentEle.find('.set-prod').show();\n    } else {\n      $this.removeClass('set-open');\n      parentEle.find('.set-prod').hide();\n    }\n\n    return false;\n  });\n\n  $('.barcode-open').on('click', function () {\n    $('.barcode-layer').show();\n  });\n  $('.barcode-close').on('click', function () {\n    $('.barcode-layer').hide();\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTXlQYWdlLmpzP2UwYzAiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpNeVBhZ2U6bG9hZCcsICgpID0+IHtcbiAgJCgnI2tvbG9uLWNvbnRlbnQnKS5vbignY2xpY2snLCAnLmJ1bmRsZSAuc2V0IGEnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHBhcmVudEVsZSA9ICR0aGlzLnBhcmVudHMoJy5idW5kbGUnKTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdzZXQtb3BlbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnc2V0LW9wZW4nKTtcbiAgICAgIHBhcmVudEVsZS5maW5kKCcuc2V0LXByb2QnKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdzZXQtb3BlbicpO1xuICAgICAgcGFyZW50RWxlLmZpbmQoJy5zZXQtcHJvZCcpLmhpZGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gICQoJy5iYXJjb2RlLW9wZW4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnLmJhcmNvZGUtbGF5ZXInKS5zaG93KCk7XG4gIH0pO1xuICAkKCcuYmFyY29kZS1jbG9zZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkKCcuYmFyY29kZS1sYXllcicpLmhpZGUoKTtcbiAgfSk7XG59KTtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTXlQYWdlLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///152\n");

/***/ }),
/* 153 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _More = __webpack_require__(8);\n\nvar _More2 = _interopRequireDefault(_More);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Notice:load', function () {\n  (0, _More2.default)('#noticeListMoreBtn', '#noticeListLoading', '#noticeList', 'mobile/precompiles/notice/notice-item', '/Notice/ListJson?');\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTm90aWNlLmFjdGlvbi5qcz9mZDk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2FkTW9yZSBmcm9tICcuLi9jb21tb24vTW9yZS5hY3Rpb24nO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOk5vdGljZTpsb2FkJywgKCkgPT4ge1xuICBsb2FkTW9yZSgnI25vdGljZUxpc3RNb3JlQnRuJywgJyNub3RpY2VMaXN0TG9hZGluZycsICcjbm90aWNlTGlzdCcsICdtb2JpbGUvcHJlY29tcGlsZXMvbm90aWNlL25vdGljZS1pdGVtJywgJy9Ob3RpY2UvTGlzdEpzb24/Jyk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL05vdGljZS5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///153\n");

/***/ }),
/* 154 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n__webpack_require__(155);\n\n$(document).on('mobile:Notice:load', function () {\n  if ($('.scr-navi').length) {\n    new Swiper('.scr-navi', {\n      slidesPerView: 'auto',\n      centeredSlides: false,\n      paginationClickable: true,\n      spaceBetween: 0,\n      freeMode: true,\n      initialSlide: 1.5,\n      onReachBeginning: function onReachBeginning() {\n        $('.icn-navi').addClass('left');\n      },\n      onReachEnd: function onReachEnd() {\n        $('.icn-navi').removeClass('left');\n      }\n    });\n  }\n  $('.toggle-list').on('click', '.ques>a', function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      $('.toggle-list .ques>a').removeClass('on');\n      $('.toggle-list .answer').slideUp(100);\n      $this.addClass('on');\n      $this.parent('div').next('div').slideDown(100);\n    } else {\n      $this.removeClass('on');\n      $this.parent('div').next('div').slideUp(100);\n    }\n    return false;\n  });\n  $('.toggle-list').on('click', '.answer>a', function (e) {\n    var $this = $(e.currentTarget);\n    $this.parent('div').prev('div').children('a').removeClass('on');\n    $this.parent('div').slideUp(100);\n    return false;\n  });\n\n  // 동영상 꽉차게 수정\n  $('.answer').fitVids({ customSelector: 'iframe[src^=\"https://serviceapi.nmv.naver.com\"]' });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTm90aWNlLmpzPzdjMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9saWIvanF1ZXJ5LmZpdHZpZHMnO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOk5vdGljZTpsb2FkJywgKCkgPT4ge1xuICBpZiAoJCgnLnNjci1uYXZpJykubGVuZ3RoKSB7XG4gICAgbmV3IFN3aXBlcignLnNjci1uYXZpJywge1xuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgaW5pdGlhbFNsaWRlOiAxLjUsXG4gICAgICBvblJlYWNoQmVnaW5uaW5nKCkge1xuICAgICAgICAkKCcuaWNuLW5hdmknKS5hZGRDbGFzcygnbGVmdCcpO1xuICAgICAgfSxcbiAgICAgIG9uUmVhY2hFbmQoKSB7XG4gICAgICAgICQoJy5pY24tbmF2aScpLnJlbW92ZUNsYXNzKCdsZWZ0Jyk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gICQoJy50b2dnbGUtbGlzdCcpLm9uKCdjbGljaycsICcucXVlcz5hJywgKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAkKCcudG9nZ2xlLWxpc3QgLnF1ZXM+YScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgJCgnLnRvZ2dsZS1saXN0IC5hbnN3ZXInKS5zbGlkZVVwKDEwMCk7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgICAgICR0aGlzLnBhcmVudCgnZGl2JykubmV4dCgnZGl2Jykuc2xpZGVEb3duKDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgJHRoaXMucGFyZW50KCdkaXYnKS5uZXh0KCdkaXYnKS5zbGlkZVVwKDEwMCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoJy50b2dnbGUtbGlzdCcpLm9uKCdjbGljaycsICcuYW5zd2VyPmEnLCAoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICR0aGlzLnBhcmVudCgnZGl2JykucHJldignZGl2JykuY2hpbGRyZW4oJ2EnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAkdGhpcy5wYXJlbnQoJ2RpdicpLnNsaWRlVXAoMTAwKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIOuPmeyYgeyDgSDqvYnssKjqsowg7IiY7KCVXG4gICQoJy5hbnN3ZXInKS5maXRWaWRzKHsgY3VzdG9tU2VsZWN0b3I6ICdpZnJhbWVbc3JjXj1cImh0dHBzOi8vc2VydmljZWFwaS5ubXYubmF2ZXIuY29tXCJdJyB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvTm90aWNlLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///154\n");

/***/ }),
/* 155 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_jQuery) {\n\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n;(function ($) {\n\n  'use strict';\n\n  $.fn.fitVids = function (options) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if (!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if (options) {\n      $.extend(settings, options);\n    }\n\n    return this.each(function () {\n      var selectors = ['iframe[src*=\"player.vimeo.com\"]', 'iframe[src*=\"youtube.com\"]', 'iframe[src*=\"youtube-nocookie.com\"]', 'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]', 'object', 'embed'];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if (settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function () {\n        var $this = $(this);\n        if ($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) {\n          return;\n        }\n        if (!$this.css('height') && !$this.css('width') && (isNaN($this.attr('height')) || isNaN($this.attr('width')))) {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = this.tagName.toLowerCase() === 'object' || $this.attr('height') && !isNaN(parseInt($this.attr('height'), 10)) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if (!$this.attr('name')) {\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', aspectRatio * 100 + '%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n  // Works with either jQuery or Zepto\n})(__webpack_provided_window_dot_jQuery || window.Zepto);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9saWIvanF1ZXJ5LmZpdHZpZHMuanM/N2E2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmpzaGludCBicm93c2VyOnRydWUgKi9cbi8qIVxuKiBGaXRWaWRzIDEuMVxuKlxuKiBDb3B5cmlnaHQgMjAxMywgQ2hyaXMgQ295aWVyIC0gaHR0cDovL2Nzcy10cmlja3MuY29tICsgRGF2ZSBSdXBlcnQgLSBodHRwOi8vZGF2ZXJ1cGVydC5jb21cbiogQ3JlZGl0IHRvIFRoaWVycnkgS29ibGVudHogLSBodHRwOi8vd3d3LmFsaXN0YXBhcnQuY29tL2FydGljbGVzL2NyZWF0aW5nLWludHJpbnNpYy1yYXRpb3MtZm9yLXZpZGVvL1xuKiBSZWxlYXNlZCB1bmRlciB0aGUgV1RGUEwgbGljZW5zZSAtIGh0dHA6Ly9zYW0uem95Lm9yZy93dGZwbC9cbipcbiovXG5cbjsoZnVuY3Rpb24oICQgKXtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgJC5mbi5maXRWaWRzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG4gICAgdmFyIHNldHRpbmdzID0ge1xuICAgICAgY3VzdG9tU2VsZWN0b3I6IG51bGwsXG4gICAgICBpZ25vcmU6IG51bGxcbiAgICB9O1xuXG4gICAgaWYoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXQtdmlkcy1zdHlsZScpKSB7XG4gICAgICAvLyBhcHBlbmRTdHlsZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS90b2RkbW90dG8vZmx1aWR2aWRzL2Jsb2IvbWFzdGVyL2Rpc3QvZmx1aWR2aWRzLmpzXG4gICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICAgIHZhciBjc3MgPSAnLmZsdWlkLXdpZHRoLXZpZGVvLXdyYXBwZXJ7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjA7fS5mbHVpZC13aWR0aC12aWRlby13cmFwcGVyIGlmcmFtZSwuZmx1aWQtd2lkdGgtdmlkZW8td3JhcHBlciBvYmplY3QsLmZsdWlkLXdpZHRoLXZpZGVvLXdyYXBwZXIgZW1iZWQge3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO30nO1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gJzxwPng8L3A+PHN0eWxlIGlkPVwiZml0LXZpZHMtc3R5bGVcIj4nICsgY3NzICsgJzwvc3R5bGU+JztcbiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoZGl2LmNoaWxkTm9kZXNbMV0pO1xuICAgIH1cblxuICAgIGlmICggb3B0aW9ucyApIHtcbiAgICAgICQuZXh0ZW5kKCBzZXR0aW5ncywgb3B0aW9ucyApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciBzZWxlY3RvcnMgPSBbXG4gICAgICAgICdpZnJhbWVbc3JjKj1cInBsYXllci52aW1lby5jb21cIl0nLFxuICAgICAgICAnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbVwiXScsXG4gICAgICAgICdpZnJhbWVbc3JjKj1cInlvdXR1YmUtbm9jb29raWUuY29tXCJdJyxcbiAgICAgICAgJ2lmcmFtZVtzcmMqPVwia2lja3N0YXJ0ZXIuY29tXCJdW3NyYyo9XCJ2aWRlby5odG1sXCJdJyxcbiAgICAgICAgJ29iamVjdCcsXG4gICAgICAgICdlbWJlZCdcbiAgICAgIF07XG5cbiAgICAgIGlmIChzZXR0aW5ncy5jdXN0b21TZWxlY3Rvcikge1xuICAgICAgICBzZWxlY3RvcnMucHVzaChzZXR0aW5ncy5jdXN0b21TZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpZ25vcmVMaXN0ID0gJy5maXR2aWRzaWdub3JlJztcblxuICAgICAgaWYoc2V0dGluZ3MuaWdub3JlKSB7XG4gICAgICAgIGlnbm9yZUxpc3QgPSBpZ25vcmVMaXN0ICsgJywgJyArIHNldHRpbmdzLmlnbm9yZTtcbiAgICAgIH1cblxuICAgICAgdmFyICRhbGxWaWRlb3MgPSAkKHRoaXMpLmZpbmQoc2VsZWN0b3JzLmpvaW4oJywnKSk7XG4gICAgICAkYWxsVmlkZW9zID0gJGFsbFZpZGVvcy5ub3QoJ29iamVjdCBvYmplY3QnKTsgLy8gU3dmT2JqIGNvbmZsaWN0IHBhdGNoXG4gICAgICAkYWxsVmlkZW9zID0gJGFsbFZpZGVvcy5ub3QoaWdub3JlTGlzdCk7IC8vIERpc2FibGUgRml0VmlkcyBvbiB0aGlzIHZpZGVvLlxuXG4gICAgICAkYWxsVmlkZW9zLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgaWYoJHRoaXMucGFyZW50cyhpZ25vcmVMaXN0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBEaXNhYmxlIEZpdFZpZHMgb24gdGhpcyB2aWRlby5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdlbWJlZCcgJiYgJHRoaXMucGFyZW50KCdvYmplY3QnKS5sZW5ndGggfHwgJHRoaXMucGFyZW50KCcuZmx1aWQtd2lkdGgtdmlkZW8td3JhcHBlcicpLmxlbmd0aCkgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKCghJHRoaXMuY3NzKCdoZWlnaHQnKSAmJiAhJHRoaXMuY3NzKCd3aWR0aCcpKSAmJiAoaXNOYU4oJHRoaXMuYXR0cignaGVpZ2h0JykpIHx8IGlzTmFOKCR0aGlzLmF0dHIoJ3dpZHRoJykpKSlcbiAgICAgICAge1xuICAgICAgICAgICR0aGlzLmF0dHIoJ2hlaWdodCcsIDkpO1xuICAgICAgICAgICR0aGlzLmF0dHIoJ3dpZHRoJywgMTYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWlnaHQgPSAoIHRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnb2JqZWN0JyB8fCAoJHRoaXMuYXR0cignaGVpZ2h0JykgJiYgIWlzTmFOKHBhcnNlSW50KCR0aGlzLmF0dHIoJ2hlaWdodCcpLCAxMCkpKSApID8gcGFyc2VJbnQoJHRoaXMuYXR0cignaGVpZ2h0JyksIDEwKSA6ICR0aGlzLmhlaWdodCgpLFxuICAgICAgICAgICAgd2lkdGggPSAhaXNOYU4ocGFyc2VJbnQoJHRoaXMuYXR0cignd2lkdGgnKSwgMTApKSA/IHBhcnNlSW50KCR0aGlzLmF0dHIoJ3dpZHRoJyksIDEwKSA6ICR0aGlzLndpZHRoKCksXG4gICAgICAgICAgICBhc3BlY3RSYXRpbyA9IGhlaWdodCAvIHdpZHRoO1xuICAgICAgICBpZighJHRoaXMuYXR0cignbmFtZScpKXtcbiAgICAgICAgICB2YXIgdmlkZW9OYW1lID0gJ2ZpdHZpZCcgKyAkLmZuLmZpdFZpZHMuX2NvdW50O1xuICAgICAgICAgICR0aGlzLmF0dHIoJ25hbWUnLCB2aWRlb05hbWUpO1xuICAgICAgICAgICQuZm4uZml0Vmlkcy5fY291bnQrKztcbiAgICAgICAgfVxuICAgICAgICAkdGhpcy53cmFwKCc8ZGl2IGNsYXNzPVwiZmx1aWQtd2lkdGgtdmlkZW8td3JhcHBlclwiPjwvZGl2PicpLnBhcmVudCgnLmZsdWlkLXdpZHRoLXZpZGVvLXdyYXBwZXInKS5jc3MoJ3BhZGRpbmctdG9wJywgKGFzcGVjdFJhdGlvICogMTAwKSsnJScpO1xuICAgICAgICAkdGhpcy5yZW1vdmVBdHRyKCdoZWlnaHQnKS5yZW1vdmVBdHRyKCd3aWR0aCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIFxuICAvLyBJbnRlcm5hbCBjb3VudGVyIGZvciB1bmlxdWUgdmlkZW8gbmFtZXMuXG4gICQuZm4uZml0Vmlkcy5fY291bnQgPSAwO1xuICBcbi8vIFdvcmtzIHdpdGggZWl0aGVyIGpRdWVyeSBvciBaZXB0b1xufSkoIHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvICk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL2xpYi9qcXVlcnkuZml0dmlkcy5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///155\n");

/***/ }),
/* 156 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _OrderCheckout = __webpack_require__(66);\n\nvar _Order = __webpack_require__(27);\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _numeral = __webpack_require__(67);\n\nvar _numeral2 = _interopRequireDefault(_numeral);\n\n__webpack_require__(68);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default(); /* eslint max-len: \"off\" */\n\n\n$(document).on('mobile:Order:load', function () {\n  var isAnonymous = $('#isAnonymous').val() == 'true';\n  var isCheckoutPage = $('#checkoutForm').length > 0;\n  var errorMessage = $('#errorMessage').val();\n  if ($.trim(errorMessage) != '') {\n    alert(errorMessage);\n  }\n\n  if (isCheckoutPage && !isAnonymous) {\n    (0, _OrderCheckout.getCustomerPointData)(function (data) {\n      if (data.availablePoint != '0') {\n        $('#togglePointBtn, #togglePointInput').addClass('on');\n        $('#usedPoint, #allPointsBtn').removeAttr('disabled');\n      } else {\n        $('#usedPoint, #allPointsBtn').attr('disabled', 'disabled');\n      }\n\n      if (data.depositAmount != '0') {\n        $('#toggleDepositBtn, #toggleDepositInput').addClass('on');\n        $('#usedDeposit, #allDepositBtn').removeAttr('disabled');\n      } else {\n        $('#usedDeposit, #allDepositBtn').attr('disabled', 'disabled');\n      }\n\n      $('#availablePoint').data('availablePoint', data.availablePoint);\n      $('#availablePoint').html('/ ' + data.availablePoint);\n      $('#availableDeposit').data('availableDeposit', data.depositAmount);\n      $('#availableDeposit').html('/ ' + data.depositAmount + '\\uC6D0');\n      $('#availableDepositText').html(data.depositAmount + '(\\uBCF4\\uC720)');\n    });\n\n    (0, _OrderCheckout.getCheckoutCoupons)(function (data) {\n      if (data.checkout.coupons && data.checkout.coupons.length > 0) {\n        $('#availableCouponCount').html('' + data.checkout.coupons.length);\n      } else {\n        $('#availableCouponCount').html('0');\n      }\n      if (data.checkout.totalPrice.couponDiscounts.price > 0) {\n        $('#toggleCouponBtn, #toggleCouponDisplay').addClass('on');\n      }\n\n      (0, _OrderCheckout.updateTotal)('mobile', data.checkout.totalPrice);\n\n      if (data.checkout.coupons && data.checkout.coupons.length > 0) {\n        $('#appliedCoupon1Select').removeAttr('disabled');\n        var optionHtml = '<option value=\"\">쿠폰을 선택해 주세요.</option>';\n        var appliedCoupon1 = null;\n        $.each(data.checkout.coupons, function (index, coupon) {\n          appliedCoupon1 = coupon.code == data.checkout.appliedCoupon1 ? coupon : appliedCoupon1;\n          optionHtml += '<option value=\"' + coupon.code + '\" ' + (coupon.code == data.checkout.appliedCoupon1 ? 'selected' : '') + ' data-is-enabled-duplicate=' + coupon.isEnabledDuplicate + '>' + coupon.name + (coupon.isEnabledDuplicate ? '(중복가능)' : '(중복불가)') + '</option>';\n        });\n        $('#appliedCoupon1Select').html(optionHtml);\n        var isEnabledDuplicate = appliedCoupon1 != null && appliedCoupon1.isEnabledDuplicate != null ? appliedCoupon1.isEnabledDuplicate : false;\n        (0, _OrderCheckout.updateCouponView)('mobile', data.checkout.appliedCoupon1, data.checkout.appliedCoupon2, data.checkout.appliedCoupon3, data.availableCoupons, isEnabledDuplicate, data.couponName);\n      } else {\n        $('#appliedCoupon1Select').attr('disabled', 'disabled');\n      }\n    });\n  }\n\n  if ($('.gift-choice').length > 0) {\n    // 주문 반품 조회시 나오는 사은품 영역에는 체크드 표시가 나타나지 않는다\n    if (!$('.gift-choice').hasClass('order-return-gift-item')) {\n      $('.gift-choice .list').each(function (index, listEle) {\n        var hasSelect = false;\n        $(listEle).find('li').each(function (index2, itemEle) {\n          if ($(itemEle).hasClass('select')) {\n            hasSelect = true;\n            return false;\n          }\n          return true;\n        });\n        if (!hasSelect) {\n          $(listEle).find('li').eq(0).addClass('select');\n        }\n      });\n    }\n  }\n\n  $('.gift-choice .list>li').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.parents('.list').find('li').removeClass('select');\n    $this.addClass('select');\n    return false;\n  });\n\n  var applyEmployeeCouponBtnLadda = Ladda.create($('#applyEmployeeCouponBtn')[0]);\n  function applyEmployeeCoupon(selectedEmployeeCouponList, isPopupView) {\n    if (applyEmployeeCouponBtnLadda !== undefined) {\n      applyEmployeeCouponBtnLadda.start();\n    }\n    var csrfToken = $('[name=CSRFToken]').val();\n    $.ajax({\n      url: '/Order/Giftcard/Apply?CSRFToken=' + csrfToken,\n      type: 'POST',\n      data: JSON.stringify(selectedEmployeeCouponList),\n      dataType: 'JSON',\n      contentType: 'application/json',\n      success: function success(data) {\n        if (isPopupView) {\n          if ($pt.isApp()) {\n            $pt.navigation.pop({\n              animation: 'TOP_TO_BOTTOM',\n              script: 'location.reload()'\n            });\n          } else {\n            location.href = '/Order/Checkout';\n          }\n        } else {\n          $('#appliedEmployeeCouponAmount').val(data.checkout.formattedUsedGiftCardDiscount);\n          (0, _OrderCheckout.updateTotal)('mobile', data.checkout.totalPrice);\n          if (data.checkout.totalPrice.estimateAmount.formattedPrice == '0') {\n            $('#paymentMethodArea').hide();\n            $('#noPaymentMethodArea').show();\n          } else {\n            $('#paymentMethodArea').show();\n            $('#noPaymentMethodArea').hide();\n          }\n        }\n      },\n      error: function error(request) {\n        var responseObj = JSON.parse(request.responseText);\n        alert(responseObj.message);\n      },\n      complete: function complete() {\n        if (applyEmployeeCouponBtnLadda !== undefined) {\n          applyEmployeeCouponBtnLadda.stop();\n        }\n      }\n    });\n  }\n\n  $('#allDepositBtn').click(function (e) {\n    e.preventDefault();\n    if (!$(e.currentTarget).is(':disabled')) {\n      var totalDeposit = $('#availableDeposit').data('availableDeposit').toString().replace(/,/g, '');\n      var totalPrice = parseInt($('#totalPrice').data('totalPrice').toString().replace(/,/g, ''));\n      var currentUsedDeposit = parseInt($('#usedDeposit').val().toString().replace(/,/g, ''));\n      (0, _OrderCheckout.applyDeposit)('mobile', Math.min(totalDeposit, totalPrice + currentUsedDeposit));\n    }\n  });\n\n  $('#toggleDepositBtn').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.hasClass('on')) {\n      (0, _OrderCheckout.applyDeposit)('mobile', 0);\n    }\n  });\n\n  $('#toggleEmployeeCouponBtn').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.hasClass('on')) {\n      applyEmployeeCoupon([], false);\n    }\n  });\n\n  $('#usedDeposit').focusout(function (e) {\n    var depositAmount = $(e.currentTarget).val().toString().replace(/,/g, '');\n    if (depositAmount == '') {\n      depositAmount = 0;\n    }\n    (0, _OrderCheckout.applyDeposit)('mobile', depositAmount);\n  });\n\n  $('#usedDeposit').focus(function (e) {\n    var v = $(e.currentTarget).val().toString().replace(/[^0-9\\,]/g, '');\n    if (v == '0') {\n      $(e.currentTarget).val('');\n    }\n  });\n\n  $('#usedDeposit').keyup(function (e) {\n    var v = $(e.currentTarget).val().toString().replace(/[^0-9\\,]/g, '');\n    $(e.currentTarget).val(v);\n  });\n\n  $('#allPointsBtn').click(function (e) {\n    e.preventDefault();\n\n    if (!$(e.currentTarget).is(':disabled')) {\n      var originalTotalPrice = parseInt($('#originalTotalPrice').val().toString().replace(/,/g, ''), 10);\n      var pointUnserviceablility = parseInt($('#pointUnserviceablility').val().toString().replace(/,/g, ''), 10);\n      var deliveryCost = parseInt($('#deliveryCost').val().toString().replace(/,/g, ''), 10);\n      var maxUsablePoints = originalTotalPrice - pointUnserviceablility - deliveryCost;\n\n      var totalPoints = $('#availablePoint').data('availablePoint').toString().replace(/,/g, '');\n      var totalUsablePoints = Math.min(maxUsablePoints, totalPoints);\n\n      var totalPrice = parseInt($('#totalPrice').data('totalPrice').toString().replace(/,/g, ''), 10);\n      var currentUsedPoint = parseInt($('#usedPoint').val().toString().replace(/,/g, ''), 10);\n      (0, _OrderCheckout.applyPoints)('mobile', Math.min(totalUsablePoints, totalPrice + currentUsedPoint));\n    }\n  });\n\n  $('#usedPoint').focusout(function (e) {\n    var usePoint = $(e.currentTarget).val();\n    if (usePoint == '') {\n      usePoint = 0;\n    } else {\n      usePoint = usePoint.toString().replace(/,/g, '');\n      usePoint = Math.floor(usePoint / 10) * 10;\n    }\n    (0, _OrderCheckout.applyPoints)('mobile', usePoint);\n  });\n\n  $('#usedPoint').focus(function (e) {\n    var v = $(e.currentTarget).val().toString().replace(/[^0-9\\,]/g, '');\n    if (v == '0') {\n      $(e.currentTarget).val('');\n    }\n  });\n\n  $('#usedPoint').keyup(function (e) {\n    var v = $(e.currentTarget).val().toString().replace(/[^0-9\\,]/g, '');\n    $(e.currentTarget).val(v);\n  });\n\n  $('#togglePointBtn').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.hasClass('on')) {\n      (0, _OrderCheckout.applyPoints)('mobile', 0);\n    }\n  });\n\n  $('#deliveryRequestSelect').change(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == 'txtbox') {\n      $('#deliveryMessage').show();\n    } else {\n      $('#deliveryMessage').hide();\n    }\n  });\n\n  // $('#appliedCoupon1Select, #appliedCoupon2Select').change(() => {\n  //   const coupon1Ele = $('#appliedCoupon1Select option:selected');\n  //   const coupon1 = coupon1Ele.val();\n  //   const coupon2 = $('#appliedCoupon2Select option:selected').val();\n  //   const coupon3 = $('#appliedCoupon3').text();\n  //   applyCoupon('mobile', coupon1, coupon2, coupon3, coupon1Ele.data('isEnabledDuplicate'));\n  // });\n\n  $('#appliedCoupon1Select').change(function () {\n    var targetEle = $('#appliedCoupon1Select option:selected');\n    var coupon1 = targetEle.val();\n    var coupon3 = $('#appliedCoupon3').text();\n    (0, _OrderCheckout.applyCoupon)('mobile', coupon1, '', coupon3, targetEle.data('isEnabledDuplicate'));\n  });\n\n  $('#appliedCoupon2Select').change(function () {\n    var coupon1 = $('#appliedCoupon1Select option:selected').val();\n    var coupon2 = $('#appliedCoupon2Select option:selected').val();\n    var coupon3 = $('#appliedCoupon3').text();\n    (0, _OrderCheckout.applyCoupon)('mobile', coupon1, coupon2, coupon3, true);\n  });\n\n  $('#toggleCouponBtn').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.hasClass('on')) {\n      (0, _OrderCheckout.applyCoupon)('mobile', '', '', '', false);\n    } else {\n      if ($('#appliedCoupon1Select option').length > 0) {\n        $('#appliedCoupon1Select').removeAttr('disabled');\n        var targetEle = $('#appliedCoupon1Select option:selected');\n        var code1 = targetEle.val();\n        (0, _OrderCheckout.applyCoupon)('mobile', code1, '', '', targetEle.data('isEnabledDuplicate'));\n      }\n    }\n  });\n\n  $('#applyDirectCouponBtn').click(function (e) {\n    e.preventDefault();\n\n    var $this = $(e.currentTarget);\n    if (!($this.attr('disabled') !== undefined && $this.attr('disabled') == 'disabled')) {\n      var directCouponCode = $('#directCouponInput').val();\n      if ($.trim(directCouponCode) === '') {\n        alert('쿠폰번호를 입력해 주세요.');\n      } else {\n        (0, _OrderCheckout.applyCoupon3)('mobile', directCouponCode);\n      }\n    }\n  });\n\n  $('#deleteDirectCouponBtn').click(function (e) {\n    e.preventDefault();\n    (0, _OrderCheckout.applyCoupon3)('mobile', '');\n  });\n\n  function updateEmployeeCouponTotal() {\n    var sumAmount = 0;\n    $('#employeeCouponList li').each(function (index, couponItem) {\n      var $this = $(couponItem);\n      sumAmount += parseInt($this.data('amount'));\n    });\n    $('#employeeCouponTotal').text(sumAmount);\n  }\n\n  $('#employeeCouponList').on('click', '.btn-delete', function (e) {\n    var $this = $(e.currentTarget);\n    $this.parents('li').remove();\n    updateEmployeeCouponTotal();\n  });\n\n  $('#addEmployeeCouponBtn').click(function () {\n    var employeeCouponCode = $.trim($('#employeeCouponInput').val());\n    if (employeeCouponCode == '') {\n      alert('구매권 번호를 입력하세요.');\n      return false;\n    } else if ($('#employeeCouponList li').map(function () {\n      return $(this).data('giftCardNo');\n    }).get().some(function (n) {\n      return n == employeeCouponCode;\n    })) {\n      alert('이미 등록된 구매권 입니다.');\n      return false;\n    } else {\n      $.getJSON('/Coupon/EmployeeCoupon?code=' + employeeCouponCode).done(function (data) {\n        var employeeCouponItemTemplate = Handlebars.templates['mobile/precompiles/order/checkout-employee-coupon-item'];\n        var couponItemData = data;\n        couponItemData.formattedAmount = (0, _numeral2.default)(data.amount).format('0,0');\n        $('#employeeCouponList').append(employeeCouponItemTemplate(couponItemData));\n        $('#employeeCouponInput').val('');\n      }).fail(function (request) {\n        var responseObj = JSON.parse(request.responseText);\n        alert(responseObj.message);\n      });\n      return true;\n    }\n  });\n\n  $('#employeeCouponCheckbox').change(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.hasClass('on')) {\n      applyEmployeeCoupon([]);\n    }\n  });\n\n  $('#applyEmployeeCouponBtn').click(function (e) {\n    e.preventDefault();\n    var targetCouponList = $('#employeeCouponList li');\n    var selectedEmployeeCouponList = [];\n    targetCouponList.each(function (index, couponItem) {\n      var $this = $(couponItem);\n      var selectedEmployeeCoupon = {\n        amount: $this.data('amount'),\n        giftCardKind: $this.data('giftCardKind'),\n        giftCardNo: $this.data('giftCardNo')\n      };\n      selectedEmployeeCouponList.push(selectedEmployeeCoupon);\n    });\n    applyEmployeeCoupon(selectedEmployeeCouponList, true);\n    return true;\n  });\n\n  function placeOrder() {\n    var totalPrice = parseInt($('#totalPrice').data('totalPrice').toString().replace(/,/g, ''), 10);\n    var paymentMethod = '';\n    if (totalPrice == 0) {\n      paymentMethod = 'POINT';\n    } else {\n      $('#paymentMethodListArea li').each(function (index, liElement) {\n        var $this = $(liElement);\n        if ($this.hasClass('on')) {\n          paymentMethod = $this.data('paymentMethod');\n          return false;\n        }\n        return true;\n      });\n    }\n    $('#paymentMethod').val(paymentMethod);\n    overlayLoader.start();\n    $.post('/Order/PrepareCheckout', $('#checkoutForm').serialize()).done(function (data) {\n      switch (paymentMethod) {\n        case 'PAYCO':\n          if ($pt.isApp()) {\n            $pt.navigation.modal({ url: data.paymentUrl, title: 'PAY' });\n            _Order.checkoutFormSubmitBtnLadda.stop();\n          } else {\n            location.href = data.paymentUrl;\n          }\n          break;\n        case 'KAKAOPAY':\n          if ($pt.isApp()) {\n            $pt.navigation.modal({ url: data.paymentUrl, title: 'PAY' });\n            _Order.checkoutFormSubmitBtnLadda.stop();\n          } else {\n            location.href = data.paymentUrl;\n          }\n          break;\n        case 'CARDLGUPLUS':\n        case 'BANDTRANSFERLGUPLUS':\n        case 'VIRTUALACCOUNTLGUPLUS':\n          if ($pt.isApp()) {\n            $pt.navigation.modal({ url: data.paymentUrl, title: 'PAY' });\n            _Order.checkoutFormSubmitBtnLadda.stop();\n          } else {\n            location.href = data.paymentUrl;\n          }\n          break;\n        case 'POINT':\n          // 전액 포인트/예치금 결제\n          if ($pt.isApp()) {\n            $pt.navigation.modal({ url: data.paymentUrl, title: 'PAY' });\n            _Order.checkoutFormSubmitBtnLadda.stop();\n          } else {\n            location.href = data.paymentUrl;\n          }\n          break;\n        default:\n          // 알수 없는 결제수단입니다.\n          break;\n      }\n    }).fail(function (request) {\n      var responseObj = JSON.parse(request.responseText);\n      alert(responseObj.message);\n      _Order.checkoutFormSubmitBtnLadda.stop();\n      if (responseObj.code == 'CHECKOUT_SESSION_ERROR') {\n        if (window.$pt && $pt.isApp()) {\n          // 앱일때\n          $pt.navigation.pop();\n        } else {\n          // 앱이 아닐때\n          location.href = '/Cart';\n        }\n      }\n    }).always(function () {\n      return overlayLoader.stop();\n    });\n  }\n\n  $('#checkoutForm').validate({\n    rules: {\n      'addressData.firstName': {\n        required: true,\n        denySpecialCharacter: true\n      },\n      'addressData.postalCode': {\n        required: true\n      },\n      'addressData.line1': {\n        required: true\n      },\n      'addressData.cellPhone': {\n        required: true,\n        number: true,\n        cellPhoneNumberFormat: true\n      },\n      'addressData.phone': {\n        number: true,\n        phoneNumberFormat: true\n      },\n      agree: {\n        required: true\n      }\n    },\n    messages: {\n      'addressData.firstName': {\n        required: '이름을 입력해주세요.'\n      },\n      'addressData.postalCode': {\n        required: '주소를 입력해 주세요.'\n      },\n      'addressData.line1': {\n        required: '주소를 입력해 주세요.'\n      },\n      'addressData.cellPhone': {\n        required: '휴대폰 번호를 입력해 주세요.',\n        number: '휴대폰 번호는 숫자만 입력해 주세요.'\n      },\n      'addressData.phone': {\n        number: '전화번호는 숫자만 입력해 주세요.'\n      },\n      agree: {\n        required: '주문내용 확인 후 동의하셔야 구매가 가능합니다.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      // 배송 메세지 확인\n      if ($('#deliveryRequestSelect').val() == 'txtbox') {\n        if ($.trim($('#deliveryMessage').val()) == '') {\n          alert('배송 메세지를 입력해 주세요.');\n          $('#deliveryMessage').focus();\n          return false;\n        } else if ($.trim($('#deliveryMessage').val()).length > 20) {\n          alert('배송 메세지를 20자 이내로 입력해 주세요.');\n          $('#deliveryMessage').focus();\n          return false;\n        }\n        $('#deliveryMemo').val($.trim($('#deliveryMessage').val()));\n      } else {\n        $('#deliveryMemo').val($('#deliveryRequestSelect option:selected').val());\n      }\n\n      // 선물 체크\n      if ($('.gift-choice').length > 0) {\n        var giftItems = [];\n        $('.gift-choice .list').each(function (index, giftList) {\n          $(giftList).find('li').each(function (index2, giftItem) {\n            if ($(giftItem).hasClass('select')) {\n              giftItems.push($(giftItem).data('productCode'));\n            }\n          });\n        });\n        $('#selectedGiftProducts').val(giftItems.join(','));\n      }\n\n      var isGiftPackingBooleanVal = false;\n      if ($('input[name=\"isGiftPackingRadio\"]') !== undefined && $('input[name=\"isGiftPackingRadio\"]').length > 0) {\n        isGiftPackingBooleanVal = $('input[name=\"isGiftPackingRadio\"]:checked').val() == 'true';\n      }\n      $('#isGiftPacking').val(isGiftPackingBooleanVal);\n\n      _Order.checkoutFormSubmitBtnLadda.start();\n      placeOrder();\n\n      return false;\n    },\n    errorHandler: function errorHandler() {\n      _Order.checkoutFormSubmitBtnLadda.stop();\n    }\n  });\n  $('#deliveryMessage').on('change keyup paste', function () {\n    if ($pt.isApp() && $('#deliveryRequestSelect').val() == 'txtbox' && $.trim($('#deliveryMessage').val()).length > 20) {\n      var deliveryMessage = $.trim($('#deliveryMessage').val()).substr(0, 20);\n      $('#deliveryMessage').val(deliveryMessage);\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuQ2hlY2tvdXQuYWN0aW9uLmpzPzNkZWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG1heC1sZW46IFwib2ZmXCIgKi9cbmltcG9ydCB7XG4gIHVwZGF0ZVRvdGFsLFxuICBnZXRDdXN0b21lclBvaW50RGF0YSxcbiAgZ2V0Q2hlY2tvdXRDb3Vwb25zLFxuICB1cGRhdGVDb3Vwb25WaWV3LFxuICBhcHBseUNvdXBvbixcbiAgYXBwbHlDb3Vwb24zLFxuICBhcHBseURlcG9zaXQsXG4gIGFwcGx5UG9pbnRzLFxufSBmcm9tICcuLi9jb21tb24vT3JkZXIuQ2hlY2tvdXQuYWN0aW9uJztcbmltcG9ydCB7XG4gIGNoZWNrb3V0Rm9ybVN1Ym1pdEJ0bkxhZGRhLFxufSBmcm9tICcuLi9jb21tb24vT3JkZXIuYWN0aW9uJztcbmltcG9ydCBPdmVybGF5TG9hZGVyIGZyb20gJy4uL2NvbW1vbi9PdmVybGF5TG9hZGVyJztcbmltcG9ydCBudW1lcmFsIGZyb20gJ251bWVyYWwnO1xuaW1wb3J0ICdqcXVlcnktdmFsaWRhdGlvbi9kaXN0L2FkZGl0aW9uYWwtbWV0aG9kcyc7XG5cbmNvbnN0IG92ZXJsYXlMb2FkZXIgPSBuZXcgT3ZlcmxheUxvYWRlcigpO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOk9yZGVyOmxvYWQnLCAoKSA9PiB7XG4gIGNvbnN0IGlzQW5vbnltb3VzID0gJCgnI2lzQW5vbnltb3VzJykudmFsKCkgPT0gJ3RydWUnO1xuICBjb25zdCBpc0NoZWNrb3V0UGFnZSA9ICQoJyNjaGVja291dEZvcm0nKS5sZW5ndGggPiAwO1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSAkKCcjZXJyb3JNZXNzYWdlJykudmFsKCk7XG4gIGlmICgkLnRyaW0oZXJyb3JNZXNzYWdlKSAhPSAnJykge1xuICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7XG4gIH1cblxuICBpZiAoaXNDaGVja291dFBhZ2UgJiYgIWlzQW5vbnltb3VzKSB7XG4gICAgZ2V0Q3VzdG9tZXJQb2ludERhdGEoKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmF2YWlsYWJsZVBvaW50ICE9ICcwJykge1xuICAgICAgICAkKCcjdG9nZ2xlUG9pbnRCdG4sICN0b2dnbGVQb2ludElucHV0JykuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAgICQoJyN1c2VkUG9pbnQsICNhbGxQb2ludHNCdG4nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnI3VzZWRQb2ludCwgI2FsbFBvaW50c0J0bicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLmRlcG9zaXRBbW91bnQgIT0gJzAnKSB7XG4gICAgICAgICQoJyN0b2dnbGVEZXBvc2l0QnRuLCAjdG9nZ2xlRGVwb3NpdElucHV0JykuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAgICQoJyN1c2VkRGVwb3NpdCwgI2FsbERlcG9zaXRCdG4nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnI3VzZWREZXBvc2l0LCAjYWxsRGVwb3NpdEJ0bicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgICQoJyNhdmFpbGFibGVQb2ludCcpLmRhdGEoJ2F2YWlsYWJsZVBvaW50JywgZGF0YS5hdmFpbGFibGVQb2ludCk7XG4gICAgICAkKCcjYXZhaWxhYmxlUG9pbnQnKS5odG1sKGAvICR7ZGF0YS5hdmFpbGFibGVQb2ludH1gKTtcbiAgICAgICQoJyNhdmFpbGFibGVEZXBvc2l0JykuZGF0YSgnYXZhaWxhYmxlRGVwb3NpdCcsIGRhdGEuZGVwb3NpdEFtb3VudCk7XG4gICAgICAkKCcjYXZhaWxhYmxlRGVwb3NpdCcpLmh0bWwoYC8gJHtkYXRhLmRlcG9zaXRBbW91bnR97JuQYCk7XG4gICAgICAkKCcjYXZhaWxhYmxlRGVwb3NpdFRleHQnKS5odG1sKGAke2RhdGEuZGVwb3NpdEFtb3VudH0o67O07JygKWApO1xuICAgIH0pO1xuXG4gICAgZ2V0Q2hlY2tvdXRDb3Vwb25zKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5jaGVja291dC5jb3Vwb25zICYmIGRhdGEuY2hlY2tvdXQuY291cG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJyNhdmFpbGFibGVDb3Vwb25Db3VudCcpLmh0bWwoYCR7ZGF0YS5jaGVja291dC5jb3Vwb25zLmxlbmd0aH1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyNhdmFpbGFibGVDb3Vwb25Db3VudCcpLmh0bWwoJzAnKTtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLmNoZWNrb3V0LnRvdGFsUHJpY2UuY291cG9uRGlzY291bnRzLnByaWNlID4gMCkge1xuICAgICAgICAkKCcjdG9nZ2xlQ291cG9uQnRuLCAjdG9nZ2xlQ291cG9uRGlzcGxheScpLmFkZENsYXNzKCdvbicpO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGVUb3RhbCgnbW9iaWxlJywgZGF0YS5jaGVja291dC50b3RhbFByaWNlKTtcblxuICAgICAgaWYgKGRhdGEuY2hlY2tvdXQuY291cG9ucyAmJiBkYXRhLmNoZWNrb3V0LmNvdXBvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3QnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICBsZXQgb3B0aW9uSHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+7L+g7Y+w7J2EIOyEoO2Dne2VtCDso7zshLjsmpQuPC9vcHRpb24+JztcbiAgICAgICAgbGV0IGFwcGxpZWRDb3Vwb24xID0gbnVsbDtcbiAgICAgICAgJC5lYWNoKGRhdGEuY2hlY2tvdXQuY291cG9ucywgKGluZGV4LCBjb3Vwb24pID0+IHtcbiAgICAgICAgICBhcHBsaWVkQ291cG9uMSA9IGNvdXBvbi5jb2RlID09IGRhdGEuY2hlY2tvdXQuYXBwbGllZENvdXBvbjEgPyBjb3Vwb24gOiBhcHBsaWVkQ291cG9uMTtcbiAgICAgICAgICBvcHRpb25IdG1sICs9IGA8b3B0aW9uIHZhbHVlPVwiJHtjb3Vwb24uY29kZX1cIiAke2NvdXBvbi5jb2RlID09IGRhdGEuY2hlY2tvdXQuYXBwbGllZENvdXBvbjEgPyAnc2VsZWN0ZWQnIDogJyd9IGRhdGEtaXMtZW5hYmxlZC1kdXBsaWNhdGU9JHtjb3Vwb24uaXNFbmFibGVkRHVwbGljYXRlfT4ke2NvdXBvbi5uYW1lfSR7Y291cG9uLmlzRW5hYmxlZER1cGxpY2F0ZSA/ICco7KSR67O16rCA64qlKScgOiAnKOykkeuzteu2iOqwgCknfTwvb3B0aW9uPmA7XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3QnKS5odG1sKG9wdGlvbkh0bWwpO1xuICAgICAgICBjb25zdCBpc0VuYWJsZWREdXBsaWNhdGUgPSAoYXBwbGllZENvdXBvbjEgIT0gbnVsbCAmJiBhcHBsaWVkQ291cG9uMS5pc0VuYWJsZWREdXBsaWNhdGUgIT0gbnVsbCkgPyBhcHBsaWVkQ291cG9uMS5pc0VuYWJsZWREdXBsaWNhdGUgOiBmYWxzZTtcbiAgICAgICAgdXBkYXRlQ291cG9uVmlldygnbW9iaWxlJywgZGF0YS5jaGVja291dC5hcHBsaWVkQ291cG9uMSwgZGF0YS5jaGVja291dC5hcHBsaWVkQ291cG9uMiwgZGF0YS5jaGVja291dC5hcHBsaWVkQ291cG9uMywgZGF0YS5hdmFpbGFibGVDb3Vwb25zLCBpc0VuYWJsZWREdXBsaWNhdGUsIGRhdGEuY291cG9uTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3QnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJy5naWZ0LWNob2ljZScpLmxlbmd0aCA+IDApIHtcbiAgICAvLyDso7zrrLgg67CY7ZKIIOyhsO2ajOyLnCDrgpjsmKTripQg7IKs7J2A7ZKIIOyYgeyXreyXkOuKlCDssrTtgazrk5wg7ZGc7Iuc6rCAIOuCmO2DgOuCmOyngCDslYrripTri6RcbiAgICBpZiAoISQoJy5naWZ0LWNob2ljZScpLmhhc0NsYXNzKCdvcmRlci1yZXR1cm4tZ2lmdC1pdGVtJykpIHtcbiAgICAgICQoJy5naWZ0LWNob2ljZSAubGlzdCcpLmVhY2goKGluZGV4LCBsaXN0RWxlKSA9PiB7XG4gICAgICAgIGxldCBoYXNTZWxlY3QgPSBmYWxzZTtcbiAgICAgICAgJChsaXN0RWxlKS5maW5kKCdsaScpLmVhY2goKGluZGV4MiwgaXRlbUVsZSkgPT4ge1xuICAgICAgICAgIGlmICgkKGl0ZW1FbGUpLmhhc0NsYXNzKCdzZWxlY3QnKSkge1xuICAgICAgICAgICAgaGFzU2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWhhc1NlbGVjdCkge1xuICAgICAgICAgICQobGlzdEVsZSkuZmluZCgnbGknKS5lcSgwKS5hZGRDbGFzcygnc2VsZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gICQoJy5naWZ0LWNob2ljZSAubGlzdD5saScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMucGFyZW50cygnLmxpc3QnKS5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdzZWxlY3QnKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnc2VsZWN0Jyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICBjb25zdCBhcHBseUVtcGxveWVlQ291cG9uQnRuTGFkZGEgPSBMYWRkYS5jcmVhdGUoJCgnI2FwcGx5RW1wbG95ZWVDb3Vwb25CdG4nKVswXSk7XG4gIGZ1bmN0aW9uIGFwcGx5RW1wbG95ZWVDb3Vwb24oc2VsZWN0ZWRFbXBsb3llZUNvdXBvbkxpc3QsIGlzUG9wdXBWaWV3KSB7XG4gICAgaWYgKGFwcGx5RW1wbG95ZWVDb3Vwb25CdG5MYWRkYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcHBseUVtcGxveWVlQ291cG9uQnRuTGFkZGEuc3RhcnQoKTtcbiAgICB9XG4gICAgY29uc3QgY3NyZlRva2VuID0gJCgnW25hbWU9Q1NSRlRva2VuXScpLnZhbCgpO1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IGAvT3JkZXIvR2lmdGNhcmQvQXBwbHk/Q1NSRlRva2VuPSR7Y3NyZlRva2VufWAsXG4gICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShzZWxlY3RlZEVtcGxveWVlQ291cG9uTGlzdCksXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChpc1BvcHVwVmlldykge1xuICAgICAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAgICAgJHB0Lm5hdmlnYXRpb24ucG9wKHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnVE9QX1RPX0JPVFRPTScsXG4gICAgICAgICAgICAgIHNjcmlwdDogJ2xvY2F0aW9uLnJlbG9hZCgpJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9PcmRlci9DaGVja291dCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJyNhcHBsaWVkRW1wbG95ZWVDb3Vwb25BbW91bnQnKS52YWwoZGF0YS5jaGVja291dC5mb3JtYXR0ZWRVc2VkR2lmdENhcmREaXNjb3VudCk7XG4gICAgICAgICAgdXBkYXRlVG90YWwoJ21vYmlsZScsIGRhdGEuY2hlY2tvdXQudG90YWxQcmljZSk7XG4gICAgICAgICAgaWYgKGRhdGEuY2hlY2tvdXQudG90YWxQcmljZS5lc3RpbWF0ZUFtb3VudC5mb3JtYXR0ZWRQcmljZSA9PSAnMCcpIHtcbiAgICAgICAgICAgICQoJyNwYXltZW50TWV0aG9kQXJlYScpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNub1BheW1lbnRNZXRob2RBcmVhJykuc2hvdygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjcGF5bWVudE1ldGhvZEFyZWEnKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjbm9QYXltZW50TWV0aG9kQXJlYScpLmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogKHJlcXVlc3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgYWxlcnQocmVzcG9uc2VPYmoubWVzc2FnZSk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgaWYgKGFwcGx5RW1wbG95ZWVDb3Vwb25CdG5MYWRkYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYXBwbHlFbXBsb3llZUNvdXBvbkJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gICQoJyNhbGxEZXBvc2l0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCEkKGUuY3VycmVudFRhcmdldCkuaXMoJzpkaXNhYmxlZCcpKSB7XG4gICAgICBjb25zdCB0b3RhbERlcG9zaXQgPSAkKCcjYXZhaWxhYmxlRGVwb3NpdCcpLmRhdGEoJ2F2YWlsYWJsZURlcG9zaXQnKS50b1N0cmluZygpLnJlcGxhY2UoLywvZywgJycpO1xuICAgICAgY29uc3QgdG90YWxQcmljZSA9IHBhcnNlSW50KCQoJyN0b3RhbFByaWNlJykuZGF0YSgndG90YWxQcmljZScpLnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAnJykpO1xuICAgICAgY29uc3QgY3VycmVudFVzZWREZXBvc2l0ID0gcGFyc2VJbnQoJCgnI3VzZWREZXBvc2l0JykudmFsKCkudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKSk7XG4gICAgICBhcHBseURlcG9zaXQoJ21vYmlsZScsIE1hdGgubWluKHRvdGFsRGVwb3NpdCwgdG90YWxQcmljZSArIGN1cnJlbnRVc2VkRGVwb3NpdCkpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI3RvZ2dsZURlcG9zaXRCdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgIGFwcGx5RGVwb3NpdCgnbW9iaWxlJywgMCk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjdG9nZ2xlRW1wbG95ZWVDb3Vwb25CdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgIGFwcGx5RW1wbG95ZWVDb3Vwb24oW10sIGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyN1c2VkRGVwb3NpdCcpLmZvY3Vzb3V0KChlKSA9PiB7XG4gICAgbGV0IGRlcG9zaXRBbW91bnQgPSAkKGUuY3VycmVudFRhcmdldCkudmFsKCkudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKTtcbiAgICBpZiAoZGVwb3NpdEFtb3VudCA9PSAnJykge1xuICAgICAgZGVwb3NpdEFtb3VudCA9IDA7XG4gICAgfVxuICAgIGFwcGx5RGVwb3NpdCgnbW9iaWxlJywgZGVwb3NpdEFtb3VudCk7XG4gIH0pO1xuXG4gICQoJyN1c2VkRGVwb3NpdCcpLmZvY3VzKChlKSA9PiB7XG4gICAgbGV0IHYgPSAkKGUuY3VycmVudFRhcmdldCkudmFsKCkudG9TdHJpbmcoKS5yZXBsYWNlKC9bXjAtOVxcLF0vZywnJyk7XG4gICAgaWYodiA9PSAnMCcpIHtcbiAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS52YWwoJycpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI3VzZWREZXBvc2l0Jykua2V5dXAoKGUpID0+IHtcbiAgICBsZXQgdiA9ICQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKS50b1N0cmluZygpLnJlcGxhY2UoL1teMC05XFwsXS9nLCcnKTtcbiAgICAkKGUuY3VycmVudFRhcmdldCkudmFsKHYpO1xuICB9KTtcblxuICAkKCcjYWxsUG9pbnRzQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoISQoZS5jdXJyZW50VGFyZ2V0KS5pcygnOmRpc2FibGVkJykpIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsVG90YWxQcmljZSA9IHBhcnNlSW50KCQoJyNvcmlnaW5hbFRvdGFsUHJpY2UnKS52YWwoKS50b1N0cmluZygpLnJlcGxhY2UoLywvZywgJycpLCAxMCk7XG4gICAgICBjb25zdCBwb2ludFVuc2VydmljZWFibGlsaXR5ID0gcGFyc2VJbnQoJCgnI3BvaW50VW5zZXJ2aWNlYWJsaWxpdHknKS52YWwoKS50b1N0cmluZygpLnJlcGxhY2UoLywvZywgJycpLCAxMCk7XG4gICAgICBjb25zdCBkZWxpdmVyeUNvc3QgPSBwYXJzZUludCgkKCcjZGVsaXZlcnlDb3N0JykudmFsKCkudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKSwgMTApO1xuICAgICAgY29uc3QgbWF4VXNhYmxlUG9pbnRzID0gb3JpZ2luYWxUb3RhbFByaWNlIC0gcG9pbnRVbnNlcnZpY2VhYmxpbGl0eSAtIGRlbGl2ZXJ5Q29zdDtcblxuICAgICAgY29uc3QgdG90YWxQb2ludHMgPSAkKCcjYXZhaWxhYmxlUG9pbnQnKS5kYXRhKCdhdmFpbGFibGVQb2ludCcpLnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAnJyk7XG4gICAgICBjb25zdCB0b3RhbFVzYWJsZVBvaW50cyA9IE1hdGgubWluKG1heFVzYWJsZVBvaW50cywgdG90YWxQb2ludHMpO1xuXG4gICAgICBjb25zdCB0b3RhbFByaWNlID0gcGFyc2VJbnQoJCgnI3RvdGFsUHJpY2UnKS5kYXRhKCd0b3RhbFByaWNlJykudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKSwgMTApO1xuICAgICAgY29uc3QgY3VycmVudFVzZWRQb2ludCA9IHBhcnNlSW50KCQoJyN1c2VkUG9pbnQnKS52YWwoKS50b1N0cmluZygpLnJlcGxhY2UoLywvZywgJycpLCAxMCk7XG4gICAgICBhcHBseVBvaW50cygnbW9iaWxlJywgTWF0aC5taW4odG90YWxVc2FibGVQb2ludHMsIHRvdGFsUHJpY2UgKyBjdXJyZW50VXNlZFBvaW50KSk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjdXNlZFBvaW50JykuZm9jdXNvdXQoKGUpID0+IHtcbiAgICBsZXQgdXNlUG9pbnQgPSAkKGUuY3VycmVudFRhcmdldCkudmFsKCk7XG4gICAgaWYgKHVzZVBvaW50ID09ICcnKSB7XG4gICAgICB1c2VQb2ludCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZVBvaW50ID0gdXNlUG9pbnQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKTtcbiAgICAgIHVzZVBvaW50ID0gTWF0aC5mbG9vcih1c2VQb2ludCAvIDEwKSAqIDEwO1xuICAgIH1cbiAgICBhcHBseVBvaW50cygnbW9iaWxlJywgdXNlUG9pbnQpO1xuICB9KTtcblxuICAkKCcjdXNlZFBvaW50JykuZm9jdXMoKGUpID0+IHtcbiAgICBsZXQgdiA9ICQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKS50b1N0cmluZygpLnJlcGxhY2UoL1teMC05XFwsXS9nLCcnKTtcbiAgICBpZiAodiA9PSAnMCcpIHtcbiAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS52YWwoJycpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI3VzZWRQb2ludCcpLmtleXVwKChlKSA9PiB7XG4gICAgbGV0IHYgPSAkKGUuY3VycmVudFRhcmdldCkudmFsKCkudG9TdHJpbmcoKS5yZXBsYWNlKC9bXjAtOVxcLF0vZywnJyk7XG4gICAgJChlLmN1cnJlbnRUYXJnZXQpLnZhbCh2KTtcbiAgfSk7XG5cbiAgJCgnI3RvZ2dsZVBvaW50QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICBhcHBseVBvaW50cygnbW9iaWxlJywgMCk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjZGVsaXZlcnlSZXF1ZXN0U2VsZWN0JykuY2hhbmdlKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCR0aGlzLnZhbCgpID09ICd0eHRib3gnKSB7XG4gICAgICAkKCcjZGVsaXZlcnlNZXNzYWdlJykuc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcjZGVsaXZlcnlNZXNzYWdlJykuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gJCgnI2FwcGxpZWRDb3Vwb24xU2VsZWN0LCAjYXBwbGllZENvdXBvbjJTZWxlY3QnKS5jaGFuZ2UoKCkgPT4ge1xuICAvLyAgIGNvbnN0IGNvdXBvbjFFbGUgPSAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJyk7XG4gIC8vICAgY29uc3QgY291cG9uMSA9IGNvdXBvbjFFbGUudmFsKCk7XG4gIC8vICAgY29uc3QgY291cG9uMiA9ICQoJyNhcHBsaWVkQ291cG9uMlNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgLy8gICBjb25zdCBjb3Vwb24zID0gJCgnI2FwcGxpZWRDb3Vwb24zJykudGV4dCgpO1xuICAvLyAgIGFwcGx5Q291cG9uKCdtb2JpbGUnLCBjb3Vwb24xLCBjb3Vwb24yLCBjb3Vwb24zLCBjb3Vwb24xRWxlLmRhdGEoJ2lzRW5hYmxlZER1cGxpY2F0ZScpKTtcbiAgLy8gfSk7XG5cbiAgJCgnI2FwcGxpZWRDb3Vwb24xU2VsZWN0JykuY2hhbmdlKCgpID0+IHtcbiAgICBjb25zdCB0YXJnZXRFbGUgPSAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJyk7XG4gICAgY29uc3QgY291cG9uMSA9IHRhcmdldEVsZS52YWwoKTtcbiAgICBjb25zdCBjb3Vwb24zID0gJCgnI2FwcGxpZWRDb3Vwb24zJykudGV4dCgpO1xuICAgIGFwcGx5Q291cG9uKCdtb2JpbGUnLCBjb3Vwb24xLCAnJywgY291cG9uMywgdGFyZ2V0RWxlLmRhdGEoJ2lzRW5hYmxlZER1cGxpY2F0ZScpKTtcbiAgfSk7XG5cbiAgJCgnI2FwcGxpZWRDb3Vwb24yU2VsZWN0JykuY2hhbmdlKCgpID0+IHtcbiAgICBjb25zdCBjb3Vwb24xID0gJCgnI2FwcGxpZWRDb3Vwb24xU2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuICAgIGNvbnN0IGNvdXBvbjIgPSAkKCcjYXBwbGllZENvdXBvbjJTZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XG4gICAgY29uc3QgY291cG9uMyA9ICQoJyNhcHBsaWVkQ291cG9uMycpLnRleHQoKTtcbiAgICBhcHBseUNvdXBvbignbW9iaWxlJywgY291cG9uMSwgY291cG9uMiwgY291cG9uMywgdHJ1ZSk7XG4gIH0pO1xuXG4gICQoJyN0b2dnbGVDb3Vwb25CdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgIGFwcGx5Q291cG9uKCdtb2JpbGUnLCAnJywgJycsICcnLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkKCcjYXBwbGllZENvdXBvbjFTZWxlY3Qgb3B0aW9uJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3QnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICBjb25zdCB0YXJnZXRFbGUgPSAkKCcjYXBwbGllZENvdXBvbjFTZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJyk7XG4gICAgICAgIGNvbnN0IGNvZGUxID0gdGFyZ2V0RWxlLnZhbCgpO1xuICAgICAgICBhcHBseUNvdXBvbignbW9iaWxlJywgY29kZTEsICcnLCAnJywgdGFyZ2V0RWxlLmRhdGEoJ2lzRW5hYmxlZER1cGxpY2F0ZScpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoJyNhcHBseURpcmVjdENvdXBvbkJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCEoJHRoaXMuYXR0cignZGlzYWJsZWQnKSAhPT0gdW5kZWZpbmVkICYmICR0aGlzLmF0dHIoJ2Rpc2FibGVkJykgPT0gJ2Rpc2FibGVkJykpIHtcbiAgICAgIGNvbnN0IGRpcmVjdENvdXBvbkNvZGUgPSAkKCcjZGlyZWN0Q291cG9uSW5wdXQnKS52YWwoKTtcbiAgICAgIGlmICgkLnRyaW0oZGlyZWN0Q291cG9uQ29kZSkgPT09ICcnKSB7XG4gICAgICAgIGFsZXJ0KCfsv6Dtj7DrsojtmLjrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGx5Q291cG9uMygnbW9iaWxlJywgZGlyZWN0Q291cG9uQ29kZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAkKCcjZGVsZXRlRGlyZWN0Q291cG9uQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgYXBwbHlDb3Vwb24zKCdtb2JpbGUnLCAnJyk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZUVtcGxveWVlQ291cG9uVG90YWwoKSB7XG4gICAgbGV0IHN1bUFtb3VudCA9IDA7XG4gICAgJCgnI2VtcGxveWVlQ291cG9uTGlzdCBsaScpLmVhY2goKGluZGV4LCBjb3Vwb25JdGVtKSA9PiB7XG4gICAgICBjb25zdCAkdGhpcyA9ICQoY291cG9uSXRlbSk7XG4gICAgICBzdW1BbW91bnQgKz0gcGFyc2VJbnQoJHRoaXMuZGF0YSgnYW1vdW50JykpO1xuICAgIH0pO1xuICAgICQoJyNlbXBsb3llZUNvdXBvblRvdGFsJykudGV4dChzdW1BbW91bnQpO1xuICB9XG5cbiAgJCgnI2VtcGxveWVlQ291cG9uTGlzdCcpLm9uKCdjbGljaycsICcuYnRuLWRlbGV0ZScsIChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMucGFyZW50cygnbGknKS5yZW1vdmUoKTtcbiAgICB1cGRhdGVFbXBsb3llZUNvdXBvblRvdGFsKCk7XG4gIH0pO1xuXG4gICQoJyNhZGRFbXBsb3llZUNvdXBvbkJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBjb25zdCBlbXBsb3llZUNvdXBvbkNvZGUgPSAkLnRyaW0oJCgnI2VtcGxveWVlQ291cG9uSW5wdXQnKS52YWwoKSk7XG4gICAgaWYgKGVtcGxveWVlQ291cG9uQ29kZSA9PSAnJykge1xuICAgICAgYWxlcnQoJ+q1rOunpOq2jCDrsojtmLjrpbwg7J6F66Cl7ZWY7IS47JqULicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoJCgnI2VtcGxveWVlQ291cG9uTGlzdCBsaScpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAkKHRoaXMpLmRhdGEoJ2dpZnRDYXJkTm8nKTt9KS5nZXQoKS5zb21lKG4gPT4gbiA9PSBlbXBsb3llZUNvdXBvbkNvZGUpKSB7XG4gICAgICBhbGVydCgn7J2066+4IOuTseuhneuQnCDqtazrp6Tqtowg7J6F64uI64ukLicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkLmdldEpTT04oYC9Db3Vwb24vRW1wbG95ZWVDb3Vwb24/Y29kZT0ke2VtcGxveWVlQ291cG9uQ29kZX1gKVxuICAgICAgICAuZG9uZSgoZGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVtcGxveWVlQ291cG9uSXRlbVRlbXBsYXRlID0gSGFuZGxlYmFycy50ZW1wbGF0ZXNbJ21vYmlsZS9wcmVjb21waWxlcy9vcmRlci9jaGVja291dC1lbXBsb3llZS1jb3Vwb24taXRlbSddO1xuICAgICAgICAgIGNvbnN0IGNvdXBvbkl0ZW1EYXRhID0gZGF0YTtcbiAgICAgICAgICBjb3Vwb25JdGVtRGF0YS5mb3JtYXR0ZWRBbW91bnQgPSBudW1lcmFsKGRhdGEuYW1vdW50KS5mb3JtYXQoJzAsMCcpO1xuICAgICAgICAgICQoJyNlbXBsb3llZUNvdXBvbkxpc3QnKS5hcHBlbmQoZW1wbG95ZWVDb3Vwb25JdGVtVGVtcGxhdGUoY291cG9uSXRlbURhdGEpKTtcbiAgICAgICAgICAkKCcjZW1wbG95ZWVDb3Vwb25JbnB1dCcpLnZhbCgnJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mYWlsKChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNlbXBsb3llZUNvdXBvbkNoZWNrYm94JykuY2hhbmdlKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICgkdGhpcy5oYXNDbGFzcygnb24nKSkge1xuICAgICAgYXBwbHlFbXBsb3llZUNvdXBvbihbXSk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjYXBwbHlFbXBsb3llZUNvdXBvbkJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhcmdldENvdXBvbkxpc3QgPSAkKCcjZW1wbG95ZWVDb3Vwb25MaXN0IGxpJyk7XG4gICAgY29uc3Qgc2VsZWN0ZWRFbXBsb3llZUNvdXBvbkxpc3QgPSBbXTtcbiAgICB0YXJnZXRDb3Vwb25MaXN0LmVhY2goKGluZGV4LCBjb3Vwb25JdGVtKSA9PiB7XG4gICAgICBjb25zdCAkdGhpcyA9ICQoY291cG9uSXRlbSk7XG4gICAgICBjb25zdCBzZWxlY3RlZEVtcGxveWVlQ291cG9uID0ge1xuICAgICAgICBhbW91bnQ6ICR0aGlzLmRhdGEoJ2Ftb3VudCcpLFxuICAgICAgICBnaWZ0Q2FyZEtpbmQ6ICR0aGlzLmRhdGEoJ2dpZnRDYXJkS2luZCcpLFxuICAgICAgICBnaWZ0Q2FyZE5vOiAkdGhpcy5kYXRhKCdnaWZ0Q2FyZE5vJyksXG4gICAgICB9O1xuICAgICAgc2VsZWN0ZWRFbXBsb3llZUNvdXBvbkxpc3QucHVzaChzZWxlY3RlZEVtcGxveWVlQ291cG9uKTtcbiAgICB9KTtcbiAgICBhcHBseUVtcGxveWVlQ291cG9uKHNlbGVjdGVkRW1wbG95ZWVDb3Vwb25MaXN0LCB0cnVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcGxhY2VPcmRlcigpIHtcbiAgICBjb25zdCB0b3RhbFByaWNlID0gcGFyc2VJbnQoJCgnI3RvdGFsUHJpY2UnKS5kYXRhKCd0b3RhbFByaWNlJykudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKSwgMTApO1xuICAgIGxldCBwYXltZW50TWV0aG9kID0gJyc7XG4gICAgaWYgKHRvdGFsUHJpY2UgPT0gMCkge1xuICAgICAgcGF5bWVudE1ldGhvZCA9ICdQT0lOVCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNwYXltZW50TWV0aG9kTGlzdEFyZWEgbGknKS5lYWNoKChpbmRleCwgbGlFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJChsaUVsZW1lbnQpO1xuICAgICAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICAgICBwYXltZW50TWV0aG9kID0gJHRoaXMuZGF0YSgncGF5bWVudE1ldGhvZCcpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAkKCcjcGF5bWVudE1ldGhvZCcpLnZhbChwYXltZW50TWV0aG9kKTtcbiAgICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG4gICAgJC5wb3N0KCcvT3JkZXIvUHJlcGFyZUNoZWNrb3V0JywgJCgnI2NoZWNrb3V0Rm9ybScpLnNlcmlhbGl6ZSgpKVxuICAgICAgLmRvbmUoKGRhdGEpID0+IHtcbiAgICAgICAgc3dpdGNoIChwYXltZW50TWV0aG9kKSB7XG4gICAgICAgICAgY2FzZSAnUEFZQ08nOlxuICAgICAgICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICAgICAgICRwdC5uYXZpZ2F0aW9uLm1vZGFsKHsgdXJsOiBkYXRhLnBheW1lbnRVcmwsIHRpdGxlOiAnUEFZJyB9KTtcbiAgICAgICAgICAgICAgY2hlY2tvdXRGb3JtU3VibWl0QnRuTGFkZGEuc3RvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGRhdGEucGF5bWVudFVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0tBS0FPUEFZJzpcbiAgICAgICAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAgICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogZGF0YS5wYXltZW50VXJsLCB0aXRsZTogJ1BBWScgfSk7XG4gICAgICAgICAgICAgIGNoZWNrb3V0Rm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBkYXRhLnBheW1lbnRVcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdDQVJETEdVUExVUyc6XG4gICAgICAgICAgY2FzZSAnQkFORFRSQU5TRkVSTEdVUExVUyc6XG4gICAgICAgICAgY2FzZSAnVklSVFVBTEFDQ09VTlRMR1VQTFVTJzpcbiAgICAgICAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAgICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogZGF0YS5wYXltZW50VXJsLCB0aXRsZTogJ1BBWScgfSk7XG4gICAgICAgICAgICAgIGNoZWNrb3V0Rm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBkYXRhLnBheW1lbnRVcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdQT0lOVCc6IC8vIOyghOyVoSDtj6zsnbjtirgv7JiI7LmY6riIIOqysOygnFxuICAgICAgICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICAgICAgICRwdC5uYXZpZ2F0aW9uLm1vZGFsKHsgdXJsOiBkYXRhLnBheW1lbnRVcmwsIHRpdGxlOiAnUEFZJyB9KTtcbiAgICAgICAgICAgICAgY2hlY2tvdXRGb3JtU3VibWl0QnRuTGFkZGEuc3RvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGRhdGEucGF5bWVudFVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyDslYzsiJgg7JeG64qUIOqysOygnOyImOuLqOyeheuLiOuLpC5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmZhaWwoKHJlcXVlc3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgYWxlcnQocmVzcG9uc2VPYmoubWVzc2FnZSk7XG4gICAgICAgIGNoZWNrb3V0Rm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlT2JqLmNvZGUgPT0gJ0NIRUNLT1VUX1NFU1NJT05fRVJST1InKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy4kcHQgJiYgJHB0LmlzQXBwKCkpIHsgLy8g7JWx7J2865WMXG4gICAgICAgICAgICAkcHQubmF2aWdhdGlvbi5wb3AoKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyDslbHsnbQg7JWE64uQ65WMXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9DYXJ0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLmFsd2F5cygoKSA9PiBvdmVybGF5TG9hZGVyLnN0b3AoKSk7XG4gIH1cblxuICAkKCcjY2hlY2tvdXRGb3JtJykudmFsaWRhdGUoe1xuICAgIHJ1bGVzOiB7XG4gICAgICAnYWRkcmVzc0RhdGEuZmlyc3ROYW1lJzoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVueVNwZWNpYWxDaGFyYWN0ZXI6IHRydWUsXG4gICAgICB9LFxuICAgICAgJ2FkZHJlc3NEYXRhLnBvc3RhbENvZGUnOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgICdhZGRyZXNzRGF0YS5saW5lMSc6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgJ2FkZHJlc3NEYXRhLmNlbGxQaG9uZSc6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgY2VsbFBob25lTnVtYmVyRm9ybWF0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgICdhZGRyZXNzRGF0YS5waG9uZSc6IHtcbiAgICAgICAgbnVtYmVyOiB0cnVlLFxuICAgICAgICBwaG9uZU51bWJlckZvcm1hdDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBhZ3JlZToge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgJ2FkZHJlc3NEYXRhLmZpcnN0TmFtZSc6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfsnbTrpoTsnYQg7J6F66Cl7ZW07KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgJ2FkZHJlc3NEYXRhLnBvc3RhbENvZGUnOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7KO87IaM66W8IOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICAnYWRkcmVzc0RhdGEubGluZTEnOiB7XG4gICAgICAgIHJlcXVpcmVkOiAn7KO87IaM66W8IOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICAnYWRkcmVzc0RhdGEuY2VsbFBob25lJzoge1xuICAgICAgICByZXF1aXJlZDogJ+2ctOuMgO2PsCDrsojtmLjrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgICBudW1iZXI6ICftnLTrjIDtj7Ag67KI7Zi464qUIOyIq+yekOunjCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgJ2FkZHJlc3NEYXRhLnBob25lJzoge1xuICAgICAgICBudW1iZXI6ICfsoITtmZTrsojtmLjripQg7Iir7J6Q66eMIOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBhZ3JlZToge1xuICAgICAgICByZXF1aXJlZDogJ+yjvOusuOuCtOyaqSDtmZXsnbgg7ZuEIOuPmeydmO2VmOyFlOyVvCDqtazrp6TqsIAg6rCA64ql7ZWp64uI64ukLicsXG4gICAgICB9LFxuICAgIH0sXG4gICAgc3VibWl0SGFuZGxlcjogKCkgPT4ge1xuICAgICAgLy8g67Cw7IahIOuplOyEuOyngCDtmZXsnbhcbiAgICAgIGlmICgkKCcjZGVsaXZlcnlSZXF1ZXN0U2VsZWN0JykudmFsKCkgPT0gJ3R4dGJveCcpIHtcbiAgICAgICAgaWYgKCQudHJpbSgkKCcjZGVsaXZlcnlNZXNzYWdlJykudmFsKCkpID09ICcnKSB7XG4gICAgICAgICAgYWxlcnQoJ+uwsOyGoSDrqZTshLjsp4Drpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nKTtcbiAgICAgICAgICAkKCcjZGVsaXZlcnlNZXNzYWdlJykuZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoJC50cmltKCQoJyNkZWxpdmVyeU1lc3NhZ2UnKS52YWwoKSkubGVuZ3RoID4gMjApIHtcbiAgICAgICAgICBhbGVydCgn67Cw7IahIOuplOyEuOyngOulvCAyMOyekCDsnbTrgrTroZwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nKTtcbiAgICAgICAgICAkKCcjZGVsaXZlcnlNZXNzYWdlJykuZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgJCgnI2RlbGl2ZXJ5TWVtbycpLnZhbCgkLnRyaW0oJCgnI2RlbGl2ZXJ5TWVzc2FnZScpLnZhbCgpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcjZGVsaXZlcnlNZW1vJykudmFsKCQoJyNkZWxpdmVyeVJlcXVlc3RTZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJykudmFsKCkpO1xuICAgICAgfVxuXG4gICAgICAvLyDshKDrrLwg7LK07YGsXG4gICAgICBpZiAoJCgnLmdpZnQtY2hvaWNlJykubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBnaWZ0SXRlbXMgPSBbXTtcbiAgICAgICAgJCgnLmdpZnQtY2hvaWNlIC5saXN0JykuZWFjaCgoaW5kZXgsIGdpZnRMaXN0KSA9PiB7XG4gICAgICAgICAgJChnaWZ0TGlzdCkuZmluZCgnbGknKS5lYWNoKChpbmRleDIsIGdpZnRJdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoJChnaWZ0SXRlbSkuaGFzQ2xhc3MoJ3NlbGVjdCcpKSB7XG4gICAgICAgICAgICAgIGdpZnRJdGVtcy5wdXNoKCQoZ2lmdEl0ZW0pLmRhdGEoJ3Byb2R1Y3RDb2RlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgJCgnI3NlbGVjdGVkR2lmdFByb2R1Y3RzJykudmFsKGdpZnRJdGVtcy5qb2luKCcsJykpO1xuICAgICAgfVxuXG4gICAgICBsZXQgaXNHaWZ0UGFja2luZ0Jvb2xlYW5WYWwgPSBmYWxzZTtcbiAgICAgIGlmICgkKCdpbnB1dFtuYW1lPVwiaXNHaWZ0UGFja2luZ1JhZGlvXCJdJykgIT09IHVuZGVmaW5lZCAmJiAkKCdpbnB1dFtuYW1lPVwiaXNHaWZ0UGFja2luZ1JhZGlvXCJdJykubGVuZ3RoID4gMCkge1xuICAgICAgICBpc0dpZnRQYWNraW5nQm9vbGVhblZhbCA9ICQoJ2lucHV0W25hbWU9XCJpc0dpZnRQYWNraW5nUmFkaW9cIl06Y2hlY2tlZCcpLnZhbCgpID09ICd0cnVlJztcbiAgICAgIH1cbiAgICAgICQoJyNpc0dpZnRQYWNraW5nJykudmFsKGlzR2lmdFBhY2tpbmdCb29sZWFuVmFsKTtcblxuICAgICAgY2hlY2tvdXRGb3JtU3VibWl0QnRuTGFkZGEuc3RhcnQoKTtcbiAgICAgIHBsYWNlT3JkZXIoKTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZXJyb3JIYW5kbGVyOiAoKSA9PiB7XG4gICAgICBjaGVja291dEZvcm1TdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgfSxcbiAgfSk7XG4gICQoJyNkZWxpdmVyeU1lc3NhZ2UnKS5vbignY2hhbmdlIGtleXVwIHBhc3RlJywgKCkgPT4ge1xuICAgIGlmICgkcHQuaXNBcHAoKSAmJiAkKCcjZGVsaXZlcnlSZXF1ZXN0U2VsZWN0JykudmFsKCkgPT0gJ3R4dGJveCcgJiYgJC50cmltKCQoJyNkZWxpdmVyeU1lc3NhZ2UnKS52YWwoKSkubGVuZ3RoID4gMjApIHtcbiAgICAgIGNvbnN0IGRlbGl2ZXJ5TWVzc2FnZSA9ICQudHJpbSgkKCcjZGVsaXZlcnlNZXNzYWdlJykudmFsKCkpLnN1YnN0cigwLCAyMCk7XG4gICAgICAkKCcjZGVsaXZlcnlNZXNzYWdlJykudmFsKGRlbGl2ZXJ5TWVzc2FnZSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuQ2hlY2tvdXQuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcENBO0FBc0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckNBO0FBdUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQXBCQTtBQXdCQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBakJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6RkE7QUEyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///156\n");

/***/ }),
/* 157 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _popupManager = __webpack_require__(26);\n\nvar _popupManager2 = _interopRequireDefault(_popupManager);\n\nvar _zipcode = __webpack_require__(32);\n\nvar _zipcode2 = _interopRequireDefault(_zipcode);\n\nvar _myDelivery = __webpack_require__(64);\n\nvar _myDelivery2 = _interopRequireDefault(_myDelivery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint max-len: \"off\" */\nvar overlayLoader = new _OverlayLoader2.default();\n\n$(document).on('mobile:Order:load', function () {\n  // 반송시 나의 배송지\n  var returnMyDeliveryCallback = function returnMyDeliveryCallback(firstName, postalCode, fullAddress, cellPhone, phone) {\n    $('[name=\"firstname\"]').val(firstName);\n    $('[name=\"postalCode\"]').val(postalCode);\n    $('[name=\"streetName\"]').val(fullAddress);\n    $('[name=\"cellphone\"]').val(cellPhone);\n    $('[name=\"phone\"]').val(phone);\n  };\n\n  $('#returnMyDeliveryBtn').click(function () {\n    if ($pt.isApp()) {\n      window.myAddressCallback = returnMyDeliveryCallback;\n      $pt.navigation.modal({ url: '/MyAddress/Index', title: '나의 배송지', navigationBarType: 'NONE' });\n    } else {\n      _myDelivery2.default.show(new _popupManager2.default(), {\n        success: returnMyDeliveryCallback\n      });\n    }\n  });\n\n  // 주문시 나의 배송지\n  var orderMyDeliveryCallback = function orderMyDeliveryCallback(firstName, postalCode, fullAddress, cellPhone, phone) {\n    $('[name=\"addressData.firstName\"]').val(firstName);\n    $('[name=\"addressData.postalCode\"]').val(postalCode);\n    $('[name=\"addressData.line1\"]').val(fullAddress);\n    $('[name=\"addressData.cellPhone\"]').val(cellPhone);\n    $('[name=\"addressData.phone\"]').val(phone);\n  };\n\n  $('#orderMyDeliveryBtn').click(function () {\n    if ($pt.isApp()) {\n      window.myAddressCallback = orderMyDeliveryCallback;\n      $pt.navigation.modal({ url: '/MyAddress/Index', title: '나의 배송지', navigationBarType: 'NONE' });\n    } else {\n      _myDelivery2.default.show(new _popupManager2.default(), {\n        success: orderMyDeliveryCallback\n      });\n    }\n  });\n\n  // 배송지 정보 폼\n  $('.form-reset').click(function (e) {\n    e.preventDefault();\n    $('input[name=\\'addressData.firstName\\']').val('');\n    $('input[name=\\'addressData.postalCode\\']').val('');\n    $('textarea[name=\\'addressData.line1\\']').val('');\n    $('input[name=\\'addressData.cellPhone\\']').val('');\n    $('input[name=\\'addressData.phone\\']').val('');\n    $('#deliveryRequestSelect').val('');\n    $('#deliveryMessage').hide();\n  });\n\n  // 우편번호 검색\n  // 주문 - 우편번호 검색\n  var orderZipcodeCallback = function orderZipcodeCallback(postcode, address, detailAddress, fullAddress) {\n    var params = {\n      CSRFName: 'CSRFToken',\n      CSRFToken: $('[name=CSRFToken]').val(),\n      post: postcode,\n      address: fullAddress\n    };\n\n    $('[name=\"addressData.postalCode\"]').val(postcode);\n    $('[name=\"addressData.line1\"]').val(fullAddress);\n\n    $.ajax({\n      url: '/Order/Checkout/ApplyZipCode',\n      method: 'POST',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data.status != 'ok') {\n          alert(data.message);\n        }\n      }\n    });\n  };\n\n  $('.zip-code .btn').click(function () {\n    if ($pt.isApp()) {\n      window.zipcodeCallback = orderZipcodeCallback;\n      $pt.navigation.modal({ url: '/Zipcode/Search', title: '우편번호검색', navigationBarType: 'NONE' });\n    } else {\n      _zipcode2.default.show(new _popupManager2.default(), {\n        success: orderZipcodeCallback\n      });\n    }\n  });\n\n  // 반품 - 우편번호 검색\n  var returnZipcodeCallback = function returnZipcodeCallback(postcode, address, detailAddress, fullAddress) {\n    $('[name=\"postalCode\"]').val(postcode);\n    $('[name=\"streetName\"]').val(fullAddress);\n  };\n\n  $('#returnZipcodeBtn').click(function () {\n    if ($pt.isApp()) {\n      window.zipcodeCallback = returnZipcodeCallback;\n      $pt.navigation.modal({ url: '/Zipcode/Search', title: '우편번호검색', navigationBarType: 'NONE' });\n    } else {\n      _zipcode2.default.show(new _popupManager2.default(), {\n        success: returnZipcodeCallback\n      });\n    }\n  });\n\n  // 직원 전용 구매권\n  $('#GiftCardBtn').click(function () {\n    overlayLoader.start();\n\n    var name = $('[name=\"addressData.firstName\"]').val() || '';\n    var post = $('[name=\"addressData.postalCode\"]').val() || '';\n    var address = $('[name=\"addressData.line1\"]').val() || '';\n    var cellPhone = $('[name=\"addressData.cellPhone\"]').val() || '';\n    var phone = $('[name=\"addressData.phone\"]').val() || '';\n\n    var params = {\n      CSRFName: 'CSRFToken',\n      CSRFToken: $('[name=CSRFToken]').val(),\n      name: name,\n      post: post,\n      address: address,\n      cellPhone: cellPhone,\n      phone: phone\n    };\n\n    // 직원 구매권 사용 선택시 주소 저장\n    $.ajax({\n      url: '/Order/Checkout/ApplyAddress',\n      method: 'POST',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data.status == 'ok') {\n          if ($pt.isApp()) {\n            $pt.navigation.modal({ url: '/Order/Checkout/GiftCard', title: '구매권 사용' });\n          } else {\n            location.href = '/Order/Checkout/GiftCard';\n          }\n        } else {\n          alert(data.message);\n        }\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      }\n    });\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuTXlEZWxpdmVyeS5hY3Rpb24uanM/NDMzZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbWF4LWxlbjogXCJvZmZcIiAqL1xuaW1wb3J0IE92ZXJsYXlMb2FkZXIgZnJvbSAnLi4vY29tbW9uL092ZXJsYXlMb2FkZXInO1xuaW1wb3J0IFBvcHVwTWFuYWdlciBmcm9tICcuLi9jb21tb24vcG9wdXAtbWFuYWdlcic7XG5pbXBvcnQgWmlwY29kZSBmcm9tICcuL2NvbXBvbmVudC96aXBjb2RlJztcbmltcG9ydCBNeURlbGl2ZXJ5IGZyb20gJy4vY29tcG9uZW50L215LWRlbGl2ZXJ5JztcblxuY29uc3Qgb3ZlcmxheUxvYWRlciA9IG5ldyBPdmVybGF5TG9hZGVyKCk7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6T3JkZXI6bG9hZCcsICgpID0+IHtcbiAgLy8g67CY7Iah7IucIOuCmOydmCDrsLDshqHsp4BcbiAgY29uc3QgcmV0dXJuTXlEZWxpdmVyeUNhbGxiYWNrID0gKGZpcnN0TmFtZSwgcG9zdGFsQ29kZSwgZnVsbEFkZHJlc3MsIGNlbGxQaG9uZSwgcGhvbmUpID0+IHtcbiAgICAkKCdbbmFtZT1cImZpcnN0bmFtZVwiXScpLnZhbChmaXJzdE5hbWUpO1xuICAgICQoJ1tuYW1lPVwicG9zdGFsQ29kZVwiXScpLnZhbChwb3N0YWxDb2RlKTtcbiAgICAkKCdbbmFtZT1cInN0cmVldE5hbWVcIl0nKS52YWwoZnVsbEFkZHJlc3MpO1xuICAgICQoJ1tuYW1lPVwiY2VsbHBob25lXCJdJykudmFsKGNlbGxQaG9uZSk7XG4gICAgJCgnW25hbWU9XCJwaG9uZVwiXScpLnZhbChwaG9uZSk7XG4gIH07XG5cbiAgJCgnI3JldHVybk15RGVsaXZlcnlCdG4nKS5jbGljaygoKSA9PiB7XG4gICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICB3aW5kb3cubXlBZGRyZXNzQ2FsbGJhY2sgPSByZXR1cm5NeURlbGl2ZXJ5Q2FsbGJhY2s7XG4gICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogJy9NeUFkZHJlc3MvSW5kZXgnLCB0aXRsZTogJ+uCmOydmCDrsLDshqHsp4AnLCBuYXZpZ2F0aW9uQmFyVHlwZTogJ05PTkUnIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBNeURlbGl2ZXJ5LnNob3cobmV3IFBvcHVwTWFuYWdlcigpLCB7XG4gICAgICAgIHN1Y2Nlc3M6IHJldHVybk15RGVsaXZlcnlDYWxsYmFjayxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g7KO866y47IucIOuCmOydmCDrsLDshqHsp4BcbiAgY29uc3Qgb3JkZXJNeURlbGl2ZXJ5Q2FsbGJhY2sgPSAoZmlyc3ROYW1lLCBwb3N0YWxDb2RlLCBmdWxsQWRkcmVzcywgY2VsbFBob25lLCBwaG9uZSkgPT4ge1xuICAgICQoJ1tuYW1lPVwiYWRkcmVzc0RhdGEuZmlyc3ROYW1lXCJdJykudmFsKGZpcnN0TmFtZSk7XG4gICAgJCgnW25hbWU9XCJhZGRyZXNzRGF0YS5wb3N0YWxDb2RlXCJdJykudmFsKHBvc3RhbENvZGUpO1xuICAgICQoJ1tuYW1lPVwiYWRkcmVzc0RhdGEubGluZTFcIl0nKS52YWwoZnVsbEFkZHJlc3MpO1xuICAgICQoJ1tuYW1lPVwiYWRkcmVzc0RhdGEuY2VsbFBob25lXCJdJykudmFsKGNlbGxQaG9uZSk7XG4gICAgJCgnW25hbWU9XCJhZGRyZXNzRGF0YS5waG9uZVwiXScpLnZhbChwaG9uZSk7XG4gIH07XG5cbiAgJCgnI29yZGVyTXlEZWxpdmVyeUJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgIHdpbmRvdy5teUFkZHJlc3NDYWxsYmFjayA9IG9yZGVyTXlEZWxpdmVyeUNhbGxiYWNrO1xuICAgICAgJHB0Lm5hdmlnYXRpb24ubW9kYWwoeyB1cmw6ICcvTXlBZGRyZXNzL0luZGV4JywgdGl0bGU6ICfrgpjsnZgg67Cw7Iah7KeAJywgbmF2aWdhdGlvbkJhclR5cGU6ICdOT05FJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgTXlEZWxpdmVyeS5zaG93KG5ldyBQb3B1cE1hbmFnZXIoKSwge1xuICAgICAgICBzdWNjZXNzOiBvcmRlck15RGVsaXZlcnlDYWxsYmFjayxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g67Cw7Iah7KeAIOygleuztCDtj7xcbiAgJCgnLmZvcm0tcmVzZXQnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKCdpbnB1dFtuYW1lPVxcJ2FkZHJlc3NEYXRhLmZpcnN0TmFtZVxcJ10nKS52YWwoJycpO1xuICAgICQoJ2lucHV0W25hbWU9XFwnYWRkcmVzc0RhdGEucG9zdGFsQ29kZVxcJ10nKS52YWwoJycpO1xuICAgICQoJ3RleHRhcmVhW25hbWU9XFwnYWRkcmVzc0RhdGEubGluZTFcXCddJykudmFsKCcnKTtcbiAgICAkKCdpbnB1dFtuYW1lPVxcJ2FkZHJlc3NEYXRhLmNlbGxQaG9uZVxcJ10nKS52YWwoJycpO1xuICAgICQoJ2lucHV0W25hbWU9XFwnYWRkcmVzc0RhdGEucGhvbmVcXCddJykudmFsKCcnKTtcbiAgICAkKCcjZGVsaXZlcnlSZXF1ZXN0U2VsZWN0JykudmFsKCcnKTtcbiAgICAkKCcjZGVsaXZlcnlNZXNzYWdlJykuaGlkZSgpO1xuICB9KTtcblxuICAvLyDsmrDtjrjrsojtmLgg6rKA7IOJXG4gIC8vIOyjvOusuCAtIOyasO2OuOuyiO2YuCDqsoDsg4lcbiAgY29uc3Qgb3JkZXJaaXBjb2RlQ2FsbGJhY2sgPSAocG9zdGNvZGUsIGFkZHJlc3MsIGRldGFpbEFkZHJlc3MsIGZ1bGxBZGRyZXNzKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgQ1NSRk5hbWU6ICdDU1JGVG9rZW4nLFxuICAgICAgQ1NSRlRva2VuOiAkKCdbbmFtZT1DU1JGVG9rZW5dJykudmFsKCksXG4gICAgICBwb3N0OiBwb3N0Y29kZSxcbiAgICAgIGFkZHJlc3M6IGZ1bGxBZGRyZXNzLFxuICAgIH07XG5cbiAgICAkKCdbbmFtZT1cImFkZHJlc3NEYXRhLnBvc3RhbENvZGVcIl0nKS52YWwocG9zdGNvZGUpO1xuICAgICQoJ1tuYW1lPVwiYWRkcmVzc0RhdGEubGluZTFcIl0nKS52YWwoZnVsbEFkZHJlc3MpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9PcmRlci9DaGVja291dC9BcHBseVppcENvZGUnLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBkYXRhOiBwYXJhbXMsXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9ICdvaycpIHtcbiAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gICQoJy56aXAtY29kZSAuYnRuJykuY2xpY2soKCkgPT4ge1xuICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgd2luZG93LnppcGNvZGVDYWxsYmFjayA9IG9yZGVyWmlwY29kZUNhbGxiYWNrO1xuICAgICAgJHB0Lm5hdmlnYXRpb24ubW9kYWwoeyB1cmw6ICcvWmlwY29kZS9TZWFyY2gnLCB0aXRsZTogJ+yasO2OuOuyiO2YuOqygOyDiScsIG5hdmlnYXRpb25CYXJUeXBlOiAnTk9ORScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFppcGNvZGUuc2hvdyhuZXcgUG9wdXBNYW5hZ2VyKCksIHtcbiAgICAgICAgc3VjY2Vzczogb3JkZXJaaXBjb2RlQ2FsbGJhY2ssXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOuwmO2SiCAtIOyasO2OuOuyiO2YuCDqsoDsg4lcbiAgY29uc3QgcmV0dXJuWmlwY29kZUNhbGxiYWNrID0gKHBvc3Rjb2RlLCBhZGRyZXNzLCBkZXRhaWxBZGRyZXNzLCBmdWxsQWRkcmVzcykgPT4ge1xuICAgICQoJ1tuYW1lPVwicG9zdGFsQ29kZVwiXScpLnZhbChwb3N0Y29kZSk7XG4gICAgJCgnW25hbWU9XCJzdHJlZXROYW1lXCJdJykudmFsKGZ1bGxBZGRyZXNzKTtcbiAgfTtcblxuICAkKCcjcmV0dXJuWmlwY29kZUJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgIHdpbmRvdy56aXBjb2RlQ2FsbGJhY2sgPSByZXR1cm5aaXBjb2RlQ2FsbGJhY2s7XG4gICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogJy9aaXBjb2RlL1NlYXJjaCcsIHRpdGxlOiAn7Jqw7Y6467KI7Zi46rKA7IOJJywgbmF2aWdhdGlvbkJhclR5cGU6ICdOT05FJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgWmlwY29kZS5zaG93KG5ldyBQb3B1cE1hbmFnZXIoKSwge1xuICAgICAgICBzdWNjZXNzOiByZXR1cm5aaXBjb2RlQ2FsbGJhY2ssXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOyngeybkCDsoITsmqkg6rWs66ek6raMXG4gICQoJyNHaWZ0Q2FyZEJ0bicpLmNsaWNrKCgpID0+IHtcbiAgICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG5cbiAgICBjb25zdCBuYW1lID0gJCgnW25hbWU9XCJhZGRyZXNzRGF0YS5maXJzdE5hbWVcIl0nKS52YWwoKSB8fCAnJztcbiAgICBjb25zdCBwb3N0ID0gJCgnW25hbWU9XCJhZGRyZXNzRGF0YS5wb3N0YWxDb2RlXCJdJykudmFsKCkgfHwgJyc7XG4gICAgY29uc3QgYWRkcmVzcyA9ICQoJ1tuYW1lPVwiYWRkcmVzc0RhdGEubGluZTFcIl0nKS52YWwoKSB8fCAnJztcbiAgICBjb25zdCBjZWxsUGhvbmUgPSAkKCdbbmFtZT1cImFkZHJlc3NEYXRhLmNlbGxQaG9uZVwiXScpLnZhbCgpIHx8ICcnO1xuICAgIGNvbnN0IHBob25lID0gJCgnW25hbWU9XCJhZGRyZXNzRGF0YS5waG9uZVwiXScpLnZhbCgpIHx8ICcnO1xuXG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgQ1NSRk5hbWU6ICdDU1JGVG9rZW4nLFxuICAgICAgQ1NSRlRva2VuOiAkKCdbbmFtZT1DU1JGVG9rZW5dJykudmFsKCksXG4gICAgICBuYW1lLFxuICAgICAgcG9zdCxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBjZWxsUGhvbmUsXG4gICAgICBwaG9uZSxcbiAgICB9O1xuXG5cbiAgICAvLyDsp4Hsm5Ag6rWs66ek6raMIOyCrOyaqSDshKDtg53si5wg7KO87IaMIOyggOyepVxuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICcvT3JkZXIvQ2hlY2tvdXQvQXBwbHlBZGRyZXNzJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICAgICAkcHQubmF2aWdhdGlvbi5tb2RhbCh7IHVybDogJy9PcmRlci9DaGVja291dC9HaWZ0Q2FyZCcsIHRpdGxlOiAn6rWs66ek6raMIOyCrOyaqScgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL09yZGVyL0NoZWNrb3V0L0dpZnRDYXJkJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIG92ZXJsYXlMb2FkZXIuc3RvcCgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL09yZGVyLk15RGVsaXZlcnkuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBTEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBb0JBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///157\n");

/***/ }),
/* 158 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Order = __webpack_require__(27);\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default(); /* eslint max-len: \"off\" */\n\n\n$(document).on('mobile:Order:load', function () {\n  var searchPeriodDays = 30;\n  var orderListTemplate = null;\n  var RMA_TYPE_CANCEL = 'Cancel'; // 취소\n  var RMA_TYPE_EXCHANGE = 'Exchange'; // 교환\n  var RMA_TYPE_RETURN = 'Return'; // 반품\n  var AJAX_RETURN_SUCCESS_CODE = 'ok';\n  var rmaOrderForm = $('#rmaOrderForm');\n  var rmaType = rmaOrderForm.data('rmaType');\n  var REASON_OPTION_CODE_DEFAULT = 'A01999'; // 사유코드 : 기타\n  var REASON_OPTION_CODE_EXCHANGE_SIZE = 'A01941'; // 사유코드 : 사이즈 변경\n  var ORDER_PAGE_SIZE = 10;\n  var currentPage = 1;\n\n  function getRMAText() {\n    if (rmaType == RMA_TYPE_CANCEL) {\n      return '취소';\n    } else if (rmaType == RMA_TYPE_EXCHANGE) {\n      return '교환';\n    }\n\n    return '반품';\n  }\n\n  var rmaTypeText = getRMAText();\n\n  function getOrderList() {\n    var isPointOfService = $('#isPointOfServiceSelect option:selected').val();\n    var endDate = (0, _moment2.default)();\n    var startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n    var searchPeriodText = '1개월';\n    if (searchPeriodDays == 90) {\n      startDate = (0, _moment2.default)(endDate).add(-3, 'M');\n      searchPeriodText = '3개월';\n    } else if (searchPeriodDays == 365) {\n      startDate = (0, _moment2.default)(endDate).add(-1, 'Y');\n      searchPeriodText = '1년';\n    }\n    var params = {\n      startDate: startDate.format('YYYYMMDD'),\n      endDate: endDate.format('YYYYMMDD'),\n      requestType: 10, // (10: 전체주문, 20: 취소반품교환)\n      pageSize: ORDER_PAGE_SIZE,\n      currentPage: currentPage\n    };\n\n    if (isPointOfService != 'all') {\n      params.isPointOfService = isPointOfService;\n    }\n    params.searchType = $('#searchKeySelect').val().toUpperCase();\n    params.searchKeyword = $.trim($('#searchWordInput').val());\n    if (currentPage == 1) {\n      $('#resultOrderListWrapper').hide();\n    }\n    $('#orderListLoading').show();\n    $('#moreBtn').hide();\n    $.ajax({\n      url: '/Order/ConsignmentEntries',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data.results && data.results.length > 0) {\n          $('#emptyResultOrderList').hide();\n          $('#resultOrderListWrapper').show();\n\n          $.each(data.results, function (index, result) {\n            var order = result;\n            order.isRmaListView = false;\n            $.each(order.items, function (index2, item) {\n              var orderItem = item;\n              orderItem.orderDeliveryType = result.deliveryType;\n              orderItem.orderDisplayedDeliveryType = result.displayedDeliveryType;\n              orderItem.orderNumber = result.orderNumber;\n              orderItem.isOrderDetailView = false;\n            });\n            if (currentPage == 1 && index == 0) {\n              $('#resultOrderListWrapper').show();\n              $('#resultOrderList').html(orderListTemplate(order));\n            } else {\n              $('#resultOrderList').append(orderListTemplate(order));\n            }\n          });\n          if (data.page.totalCount > currentPage * ORDER_PAGE_SIZE) {\n            $('#moreBtn').show();\n          } else {\n            $('#moreBtn').hide();\n          }\n        } else {\n          $('#searchPeriodText').text(searchPeriodText);\n          $('#emptyResultOrderList').show();\n          $('#resultOrderListWrapper').hide();\n        }\n      }\n    }).always(function () {\n      return $('#orderListLoading').hide();\n    });\n  }\n  if ($('#resultOrderListWrapper').length > 0) {\n    orderListTemplate = Handlebars.templates['mobile/precompiles/order/order-list'];\n    getOrderList();\n  }\n\n  $('#updatePaymentBtn').click(function () {\n    var orderId = $('#updatePaymentBtn').data('orderId');\n    (0, _Order.updatePayment)(orderId, 'mobile');\n  });\n\n  $('#periodBtns > li > a').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    $('#periodBtns > li').removeClass('on');\n    searchPeriodDays = $this.data('searchPeriod');\n    $this.parent().addClass('on');\n  });\n\n  $('#form-order').submit(function (e) {\n    e.preventDefault();\n    currentPage = 1;\n    getOrderList();\n  });\n\n  $('#searchOrderBtn').click(function (e) {\n    e.preventDefault();\n    $('#form-order').submit();\n  });\n\n  $('#moreBtn').click(function (e) {\n    e.preventDefault();\n    currentPage++;\n    getOrderList();\n  });\n\n  function getReturnDeliveryCost(orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption, originDeliveryCode, deliveryStatus) {\n    if ($.trim(orderEntrycode) != '') {\n      $.getJSON('/Order/' + orderNumber + '/Return/DeliveryCost?orderEntrycode=' + orderEntrycode + '&orderConsignmentEntrycode=' + orderConsignmentEntrycode + '&quantity=' + quantity + '&returnOption=' + rmaOption + '&originDeliveryCode=' + originDeliveryCode + '&deliveryStatus=' + deliveryStatus, function (data) {\n        if (data) {\n          $('#returnDeliveryCost').text(data.deliveryCost + '\\uC6D0');\n        }\n      });\n    } else {\n      $('#returnDeliveryCost').text('0원');\n    }\n  }\n\n  function getRmaPaymentInfo() {\n    var orderNumber = rmaOrderForm.data('orderNumber');\n    var entryCodes = [];\n    var consignmentEntryCodes = [];\n    var quantities = [];\n    var rmaOptions = [];\n    var originDeliveryCodes = [];\n    var deliveryStatusList = [];\n\n    var deliveryStatusVal = 'N';\n    if ($('#rmaOrderForm #deliveryStatus').hasClass('tg')) {\n      deliveryStatusVal = 'Y';\n    }\n\n    $.each($('#rmaOrderForm #rmaOrderItemList li input[type=checkbox]:checked'), function (index, orderItem) {\n      var dataEle = $(orderItem).parents('.list');\n\n      var rmaOptionValue = dataEle.find('.rmaOption option:selected').val();\n      var rmaOptionCode = rmaOptionValue;\n      if (rmaOptionValue == '') {\n        rmaOptionCode = REASON_OPTION_CODE_DEFAULT;\n      } else if (rmaOptionValue == 'size') {\n        rmaOptionCode = REASON_OPTION_CODE_EXCHANGE_SIZE;\n      }\n\n      var entryCode = dataEle.data('entryCode');\n      entryCodes.push(entryCode);\n      if (entryCode.toString().indexOf(',') > -1) {\n        // 세트 상품일 경우 ex) entryCode가 8936931819566,8936931786798 이런식으로 들어온다\n        var tempEntryCodeArray = entryCode.split(',');\n        // 엔트리목록길이만큼 수량 정보, 사유 정보가 들어가야\n        for (var i = 0; i < tempEntryCodeArray.length; i++) {\n          quantities.push(dataEle.find('.orderItemQuantity').text());\n          rmaOptions.push(rmaOptionCode);\n          deliveryStatusList.push(deliveryStatusVal); // 반품 시, 상품을 이미 판매자에게 발송했는지 여부\n        }\n      } else {\n        quantities.push(dataEle.find('.orderItemQuantity').text());\n        rmaOptions.push(rmaOptionCode);\n        deliveryStatusList.push(deliveryStatusVal); // 반품 시, 상품을 이미 판매자에게 발송했는지 여부\n      }\n      consignmentEntryCodes.push(dataEle.data('consignmentEntryCode'));\n      originDeliveryCodes.push(dataEle.data('originDeliveryCode'));\n    });\n\n    var orderEntrycode = entryCodes.join(',');\n    var orderConsignmentEntrycode = consignmentEntryCodes.join(',');\n    var quantity = quantities.join(',');\n    var rmaOption = rmaOptions.join(',');\n    var originDeliveryCode = originDeliveryCodes.join(',');\n    var deliveryStatus = deliveryStatusList.join(',');\n    var refundDeliveryGb = $('#refundDeliveryType').val(); // 반품 시, 환불금액에서 차감 OR 계좌로 입금\n\n    if (rmaType == RMA_TYPE_CANCEL) {\n      (0, _Order.getCancelPaymentInfo)('mobile', orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity);\n    } else if (rmaType == RMA_TYPE_EXCHANGE) {\n      (0, _Order.getExchangeDeliveryCost)(orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption);\n    } else if (rmaType == RMA_TYPE_RETURN) {\n      (0, _Order.getReturnPaymentInfo)('mobile', orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption, originDeliveryCode, deliveryStatus, refundDeliveryGb);\n      getReturnDeliveryCost(orderNumber, orderEntrycode, orderConsignmentEntrycode, quantity, rmaOption, originDeliveryCode, deliveryStatus);\n    }\n  }\n\n  function toggleControlsActive() {\n    $('#rmaOrderForm #rmaOrderItemList li input[class=orderItemCheckbox]').each(function (index, checkedEle) {\n      var $this = $(checkedEle);\n      var targetEle = $(checkedEle).parents('.list');\n      if ($this.is(':checked')) {\n        targetEle.find('.rmaOption, .quantityMinus, .quantityPlus, .sizeSelect, .rmaReason').removeAttr('disabled');\n      } else {\n        targetEle.find('.rmaOption, .quantityMinus, .quantityPlus, .sizeSelect, .rmaReason').attr('disabled', 'disabled');\n      }\n    });\n  }\n\n  if (rmaOrderForm.length > 0) {\n    // 가상계좌 취소/반품시 환불계좌 입력 폼 append\n    // 페이먼트 상태가 WAITING이 없을때\n    if ((0, _Order.hasVirtualAccountPayment)() && !(0, _Order.hasPaymentStatusWaiting)()) {\n      if (rmaType == RMA_TYPE_CANCEL) {\n        $('.cancelPaymentWrapper').after(Handlebars.templates['mobile/partials/order/order-rma-return-account']);\n      } else if (rmaType == RMA_TYPE_RETURN) {\n        $('.tab-info').after(Handlebars.templates['mobile/partials/order/order-rma-return-account']);\n      }\n    }\n    getRmaPaymentInfo();\n    if (rmaType == RMA_TYPE_RETURN || rmaType == RMA_TYPE_EXCHANGE && rmaOrderForm.data('orderDeliveryType') == 'PICKUP') {\n      rmaOrderForm.validate();\n      (0, _Order.addRules)(_Order.customerAddressRules);\n    }\n  }\n\n  // 아이템 체크/체크 해제시, 사유변경시, 전체 토글 체크/체크 해제시, 반품시 '상품을 이미 판매자에게 발송' 체크/체크 해제시\n  // 1. 배송비와 금액 재계산\n  // 2. 체크 해제된 항목 찾아서 disabled로 변경.\n  $('#rmaOrderForm #rmaOrderItemList li input[class=orderItemCheckbox], .rmaOption').change(function () {\n    getRmaPaymentInfo();\n    toggleControlsActive();\n  });\n\n  $('#refundDeliveryGb>a').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      $('#refundDeliveryGb>a').toggleClass('on');\n      $('.tab-info>div').toggleClass('tab-on');\n      $('#refundDeliveryType').val($('#refundDeliveryGb>a.on').data('refundDeliveryGb'));\n      getRmaPaymentInfo();\n    }\n  });\n\n  $('.quantityMinus').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.attr('disabled') === undefined || $this.attr('disabled') != 'disabled') {\n      var targetEle = $this.parents('.conts').find('.orderItemQuantity');\n      var currentQty = targetEle.text();\n      var intCurrentQty = parseInt(currentQty, 10);\n      if (intCurrentQty !== undefined && intCurrentQty > 1) {\n        intCurrentQty--;\n        targetEle.text(intCurrentQty);\n        getRmaPaymentInfo();\n      }\n    }\n  });\n\n  $('.quantityPlus').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    if ($this.attr('disabled') === undefined || $this.attr('disabled') != 'disabled') {\n      var targetEle = $this.parents('.conts').find('.orderItemQuantity');\n      var currentQty = targetEle.text();\n      var intCurrentQty = parseInt(currentQty, 10);\n      if (intCurrentQty !== undefined && intCurrentQty < targetEle.data('originalQuantity')) {\n        intCurrentQty++;\n        targetEle.text(intCurrentQty);\n        getRmaPaymentInfo();\n      }\n    }\n  });\n\n  $('#rmaOrderSubmitBtn').click(function (e) {\n    e.preventDefault();\n\n    var rmaOrderSubmitBtnLadda = Ladda.create($('#rmaOrderSubmitBtn')[0]);\n    rmaOrderSubmitBtnLadda.start();\n\n    var isValidState = true;\n\n    // 가상계좌로 결제된 주문인 경우 휘소/반품 신청시 환불계좌 입력 해야함\n    if ((0, _Order.hasVirtualAccountPayment)() && $('#validateAccountForm').length > 0 && !$('#validateAccountFormWrapper').is(':hidden')) {\n      $('#validateAccountForm').validate();\n      (0, _Order.addRules)(_Order.returnAccountRuls);\n      if (!$('#validateAccountForm').valid()) {\n        isValidState = false;\n        rmaOrderSubmitBtnLadda.stop();\n        return isValidState;\n      } else {\n        // 환불계좌 form validation 통과후 rmaOrderForm 에 값 세팅\n        var accountNumber = $('#validateAccountForm #accountNumber').val();\n        var bankCode = $('#validateAccountForm #bankCode option:selected').val();\n\n        rmaOrderForm.find('#refundBank').val(bankCode);\n        rmaOrderForm.find('#refundAccountNo').val(accountNumber);\n      }\n    }\n\n    var refundDeliveryAmt = $('#exchangeDeliveryCost').text().toString().replace(/,/g, ''); // 교환시 교화반품비\n    var orderNumber = rmaOrderForm.data('orderNumber');\n    var targetItems = rmaOrderForm.find('#rmaOrderItemList li input[class=orderItemCheckbox]:checked');\n    if (targetItems.length < 1) {\n      alert(rmaTypeText + '\\uD560 \\uC0C1\\uD488\\uC744 \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694.');\n      rmaOrderSubmitBtnLadda.stop();\n      return false;\n    }\n\n    var orderEntrycodes = [];\n    var orderConsignmentEntrycodes = [];\n    var quantities = [];\n    var rmaOptions = [];\n    var rmaReasons = [];\n    var originDeliveryCodes = [];\n    var sizes = [];\n    var productBaseCodes = [];\n    var deliveryStatusList = [];\n    var refundDeliveryAmtList = [];\n\n    var deliveryStatusVal = 'N';\n    if ($('#deliveryStatus').hasClass('tg')) {\n      deliveryStatusVal = 'Y';\n    }\n    $.each(targetItems, function (index, rmaItemEle) {\n      var rmaItem = $(rmaItemEle).parents('.list');\n      var entryCode = rmaItem.data('entryCode');\n      orderEntrycodes.push(entryCode);\n      orderConsignmentEntrycodes.push(rmaItem.data('consignmentEntryCode'));\n\n      var rmaOption = rmaItem.find('.rmaOption option:selected').val();\n      if (rmaOption == '') {\n        alert(rmaTypeText + ' \\uC0AC\\uC720\\uB97C \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694.');\n        isValidState = false;\n        return isValidState;\n      }\n      var rmaReason = rmaItem.find('.rmaReason').val();\n      if ($.trim(rmaReason) == '') {\n        rmaReason = ' '; // 공백문자열이라도 넘기기\n      }\n      if ($.trim(rmaReason) == '') {\n        alert('\\uC0C1\\uD488 ' + rmaTypeText + ' \\uC0AC\\uC720\\uB97C \\uC791\\uC131\\uD574 \\uC8FC\\uC138\\uC694.');\n        isValidState = false;\n        return isValidState;\n      }\n      if (rmaOption == 'size') {\n        rmaOption = REASON_OPTION_CODE_EXCHANGE_SIZE;\n      }\n\n      // 세트 상품일 경우\n      if (rmaItem.data('isSetOrderItem')) {\n        // 세트상품 '교환'시에만 사이즈와 프로덕트 코드 넘어가는 방식이 다름\n        // ex) ize:7.5,74%2C95 productCode:CU1AX16044BUX,CWFCW16466NYX%2CCWFBW16466NYX\n        if (rmaType == RMA_TYPE_EXCHANGE) {\n          var sizeTempList = [];\n          var productBaseCodeTempList = [];\n          rmaItem.find('.sizeSelect').each(function (index2, sizeEle) {\n            var selectedSizeEleVal = $(sizeEle).val();\n            sizeTempList.push($(sizeEle).find('option[value=' + selectedSizeEleVal + ']').text());\n            productBaseCodeTempList.push($(sizeEle).data('productBaseCode'));\n          });\n          sizes.push(encodeURIComponent(sizeTempList.join(',')));\n          productBaseCodes.push(encodeURIComponent(productBaseCodeTempList.join(',')));\n        } else {\n          rmaItem.find('.sizeSelect').each(function (index2, sizeEle) {\n            var selectedSizeEleVal = $(sizeEle).val();\n            sizes.push($(sizeEle).find('option[value=' + selectedSizeEleVal + ']').text());\n            productBaseCodes.push($(sizeEle).data('productBaseCode'));\n          });\n        }\n\n        // 세트 상품일 경우 엔트리목록길이만큼 수량 정보, 사유 정보, 사이즈 정보, 상품 코드정보, 배송비가 들어가야\n        // 단, 세트상품 교환시에만 예외이므로 entryCode의 콤마','값이 인코딩되어 있어 아래의 코드를 타지 않는다.\n        var tempEntryCodeArray = entryCode.split(',');\n        for (var i = 0; i < tempEntryCodeArray.length; i++) {\n          quantities.push(rmaItem.find('.orderItemQuantity').text());\n          rmaReasons.push(encodeURIComponent(rmaReason));\n          rmaOptions.push(rmaOption);\n          if (rmaType == RMA_TYPE_EXCHANGE) {\n            refundDeliveryAmtList.push(refundDeliveryAmt);\n          } else if (rmaType == RMA_TYPE_RETURN) {\n            deliveryStatusList.push(deliveryStatusVal); // 반품 시, 상품을 이미 판매자에게 발송했는지 여부\n          }\n        }\n      } else {\n        quantities.push(rmaItem.find('.orderItemQuantity').text());\n        rmaReasons.push(encodeURIComponent(rmaReason));\n        rmaOptions.push(rmaOption);\n        if (rmaType == RMA_TYPE_EXCHANGE) {\n          if (rmaOption == REASON_OPTION_CODE_EXCHANGE_SIZE) {\n            rmaItem.find('.sizeSelect').each(function (index2, sizeEle) {\n              var selectedSizeEleVal = $(sizeEle).val();\n              sizes.push($(sizeEle).find('option[value=' + selectedSizeEleVal + ']').text());\n              productBaseCodes.push($(sizeEle).data('productBaseCode'));\n            });\n          } else {\n            sizes.push(rmaItem.data('productSize'));\n            productBaseCodes.push(rmaItem.data('productBaseCode'));\n          }\n          refundDeliveryAmtList.push(refundDeliveryAmt);\n        } else if (rmaType == RMA_TYPE_RETURN) {\n          deliveryStatusList.push(deliveryStatusVal);\n        }\n      }\n\n      if (rmaType != RMA_TYPE_CANCEL) {\n        originDeliveryCodes.push(rmaItem.data('originDeliveryCode'));\n      }\n    });\n\n    if (!isValidState) {\n      rmaOrderSubmitBtnLadda.stop();\n      return isValidState;\n    }\n\n    if (rmaType == RMA_TYPE_RETURN) {\n      // 상품을 이미 판매자에게 발송하지 않았을 경우\n      if (deliveryStatusVal == 'N') {\n        (0, _Order.removeRules)(_Order.deliveryRules);\n        (0, _Order.addRules)(_Order.customerAddressRules);\n      } else {\n        // 상품을 이미 판매자에게 발송했을 경우\n        (0, _Order.removeRules)(_Order.customerAddressRules);\n        (0, _Order.addRules)(_Order.deliveryRules);\n      }\n      if (!rmaOrderForm.valid()) {\n        rmaOrderSubmitBtnLadda.stop();\n        return false;\n      }\n    } else if (rmaType == RMA_TYPE_EXCHANGE && rmaOrderForm.data('orderDeliveryType') == 'PICKUP') {\n      // 매장픽업 상품 교환시에 배송지 주소 입력하는 폼이 있음\n      if (!rmaOrderForm.valid()) {\n        rmaOrderSubmitBtnLadda.stop();\n        return false;\n      }\n    }\n\n    var requestData = rmaOrderForm.serializeArray(); // convert form to array\n\n    requestData.push({ name: 'orderEntrycode', value: orderEntrycodes.join(',') });\n    requestData.push({ name: 'orderConsignmentEntrycode', value: orderConsignmentEntrycodes.join(',') });\n    requestData.push({ name: 'quantity', value: quantities.join(',') });\n    if (rmaType == RMA_TYPE_CANCEL) {\n      requestData.push({ name: 'cancelOption', value: rmaOptions.join(',') });\n      requestData.push({ name: 'cancelReason', value: rmaReasons.join(',') });\n    } else if (rmaType == RMA_TYPE_EXCHANGE) {\n      requestData.push({ name: 'originDeliveryCode', value: originDeliveryCodes.join(',') });\n      requestData.push({ name: 'size', value: sizes.join(',') });\n      requestData.push({ name: 'productCode', value: productBaseCodes.join(',') });\n      requestData.push({ name: 'replacementOption', value: rmaOptions.join(',') });\n      requestData.push({ name: 'replacementReason', value: rmaReasons.join(',') });\n      requestData.push({ name: 'refundDeliveryAmt', value: refundDeliveryAmtList.join(',') });\n    } else if (rmaType == RMA_TYPE_RETURN) {\n      requestData.push({ name: 'originDeliveryCode', value: originDeliveryCodes.join(',') });\n      requestData.push({ name: 'returnOption', value: rmaOptions.join(',') });\n      requestData.push({ name: 'returnReason', value: rmaReasons.join(',') });\n      requestData.push({ name: 'deliveryStatus', value: deliveryStatusList.join(',') });\n    }\n    $.ajax({\n      url: '/Order/' + orderNumber + '/' + rmaType,\n      method: 'POST',\n      data: $.param(requestData),\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data) {\n          if (data.status == AJAX_RETURN_SUCCESS_CODE) {\n            if ($pt.isApp()) {\n              $pt.navigation.modal({ url: '/Order/' + rmaType + 'Complete' });\n            } else {\n              location.href = '/Order/' + rmaType + 'Complete';\n            }\n          } else {\n            alert(data.message);\n          }\n        }\n      },\n      error: function error(data) {\n        alert(data.responseJSON.message);\n      }\n    }).always(function () {\n      rmaOrderSubmitBtnLadda.stop();\n    });\n    return true;\n  });\n\n  $('#deliveryStatus').bind('changedClass', function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.hasClass('tg')) {\n      (0, _Order.getDeliveryVendorList)();\n      rmaOrderForm.find('#firstname, #postalCode, #streetName, #cellphone, #phone').val('');\n      $('#rmaOrderForm #sameOrderUserCheckbox').prop('checked', false);\n    } else {\n      rmaOrderForm.find('#deliveryVendorCode, #deliveryDate, #custDeliveryNo').val('');\n    }\n    getRmaPaymentInfo();\n  });\n\n  $('#rmaOrderForm #rmaOrderItemList .rmaOption').change(function (e) {\n    var $this = $(e.currentTarget);\n    var rmaOptionVal = $this.find('option:selected').val();\n    var parentEle = $this.parents('.list');\n    // 사이즈 교환일 경우\n    var targetEle = parentEle.find('.sizeSelect');\n    if (rmaOptionVal == 'size') {\n      targetEle.each(function (index, sizeEle) {\n        var $thisSizeEle = $(sizeEle);\n        var productBaseCode = $thisSizeEle.data('productBaseCode');\n        var selectedProductCode = $thisSizeEle.find('option:selected').val();\n        if (!_Order.sizeOptionDataMap.has(productBaseCode)) {\n          (0, _Order.getSizeList)(selectedProductCode, productBaseCode, $thisSizeEle);\n        } else {\n          (0, _Order.showSizeList)(selectedProductCode, productBaseCode, $thisSizeEle);\n        }\n      });\n      targetEle.show();\n    } else {\n      targetEle.hide();\n    }\n  });\n\n  $('#sameOrderUserCheckbox').change(function () {\n    if ($('#sameOrderUserCheckbox').is(':checked')) {\n      $('#firstname').val($('#customerAddressFirstName').val());\n      $('#cellphone').val($('#customerAddressCellPhone').val());\n      $('#phone').val($('#customerAddressPhone').val());\n      $('#postalCode').val($('#customerAddressPostalCode').val());\n      $('#streetName').val($('#customerAddressLine1').val());\n    } else {\n      $('#firstname').val('');\n      $('#cellphone').val('');\n      $('#phone').val('');\n      $('#postalCode').val('');\n      $('#streetName').val('');\n    }\n  });\n\n  /** *************************************\n   * [START] 마이페이지 - eKOLONL구매내역\n   ****************************************/\n  var eKOLONListPageSize = 10;\n  var eKOLONListTemplate = null;\n\n  function geteKOLONList() {\n    var endDate = (0, _moment2.default)();\n    var startDate = (0, _moment2.default)(endDate).add(-1, 'M');\n    if (searchPeriodDays == 90) {\n      startDate = (0, _moment2.default)(endDate).add(-3, 'M');\n    } else if (searchPeriodDays == 365) {\n      startDate = (0, _moment2.default)(endDate).add(-1, 'Y');\n    }\n    var params = {\n      startSaleDat: startDate.format('YYYYMMDD'),\n      endSaleDat: endDate.format('YYYYMMDD'),\n      pageNumber: currentPage,\n      pageSize: eKOLONListPageSize\n    };\n\n    if (currentPage == 1) {\n      $('#resulteKOLONListWrapper').hide();\n    }\n    $('#eKOLONListLoading').show();\n    $('#eKOLONListMoreBtn').hide();\n    $.ajax({\n      url: '/Order/eKOLONList/List',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data.results && data.results.length > 0) {\n          $('#emptyResulteKOLONList').hide();\n          $('#resulteKOLONListWrapper').show();\n\n          $.each(data.results, function (index, element) {\n            if (currentPage == 1 && index == 0) {\n              $('#resulteKOLONListWrapper').show();\n              $('#resulteKOLONList').html(eKOLONListTemplate(element));\n            } else {\n              $('#resulteKOLONList').append(eKOLONListTemplate(element));\n            }\n          });\n          if (data.page.totalCount > currentPage * eKOLONListPageSize) {\n            $('#eKOLONListMoreBtn').show();\n          } else {\n            $('#eKOLONListMoreBtn').hide();\n          }\n        } else {\n          $('#resulteKOLONListWrapper').hide();\n          $('#emptyResulteKOLONList').show();\n        }\n      }\n    }).always(function () {\n      return $('#eKOLONListLoading').hide();\n    });\n  }\n  if ($('#resulteKOLONListWrapper').length > 0) {\n    eKOLONListTemplate = Handlebars.templates['mobile/precompiles/order/ekolonlist-item'];\n    geteKOLONList();\n  }\n\n  $('#eKOLONListPeriodBtns > li > a').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    $('#eKOLONListPeriodBtns > li').removeClass('on');\n    searchPeriodDays = $this.data('searchPeriod');\n    $this.parent().addClass('on');\n\n    currentPage = 1;\n    geteKOLONList();\n  });\n\n  $('#eKOLONListMoreBtn').click(function (e) {\n    e.preventDefault();\n    currentPage++;\n    geteKOLONList();\n  });\n\n  $('#resulteKOLONList').on('click', 'ul', function (e) {\n    e.preventDefault();\n    var productCode = $(e.currentTarget).data('productCode');\n    if ($pt.isApp()) {\n      $pt.navigation.push({ url: '/Product/' + productCode });\n    } else {\n      location.href = '/Product/' + productCode;\n    }\n  });\n  /** *************************************\n   * [END] 마이페이지 - eKOLONL구매내역\n   ****************************************/\n\n  $('#selectAllOrderItemCheckbox').click(function (e) {\n    $('.orderItemCheckbox:not(:disabled)').prop('checked', $(e.currentTarget).is(':checked')).trigger('change');\n  });\n\n  $('#datepickerSend').datepicker({\n    inline: true,\n    showOtherMonths: true,\n    showMonthAfterYear: true,\n    dateFormat: 'yy.mm.dd',\n    yearSuffix: '.',\n    monthNames: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],\n    dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],\n    onClose: function onClose() {\n      $('.hasDatepicker').removeClass('active');\n    },\n    onSelect: function onSelect() {\n      $('#deliveryDate').val((0, _moment2.default)($('#datepickerSend').datepicker('getDate')).format('YYYY-MM-DD'));\n    }\n  }).datepicker('widget').wrap('<div class=\"ll-skin-melon\"/>');\n\n  $('#selectSendDate').on('click', function () {\n    $('#datepickerSend').datepicker('show');\n  });\n\n  /** *************************************\n   * [START] 주문 - 매장픽업 상품 교환권\n   ****************************************/\n\n  $('#pickupTicketLayerSendBtn').click(function (e) {\n    e.preventDefault();\n    var ckReceiveCode = $('#pickupTicketList').find('input:checkbox[name=receiveCode]:checked');\n    if (ckReceiveCode.length < 1) {\n      alert('MMS를 발송할 교환권을 선택해주세요.');\n      return false;\n    }\n    var receiveCode = [];\n    $.each(ckReceiveCode, function (index, element) {\n      var $this = $(element);\n      receiveCode.push($this.val());\n    });\n    var pickupOrderId = $('#pickupOrderId').val();\n    var pickupCellPhone = $('#pickupCellPhone').val();\n    var csrfName = $(e.currentTarget).data('csrfName');\n    var csrfToken = $(e.currentTarget).data('csrfToken');\n    var pickupTicketLayerSendBtnLadda = Ladda.create($('#pickupTicketLayerSendBtn')[0]);\n    pickupTicketLayerSendBtnLadda.start();\n    var params = [];\n    params.push({ name: csrfName, value: csrfToken });\n    params.push({ name: 'receiveCode', value: receiveCode });\n    params.push({ name: 'cellPhone', value: pickupCellPhone });\n    params.push({ name: 'orderId', value: pickupOrderId });\n    $.ajax({\n      url: '/Order/PickupTicket/Send',\n      method: 'POST',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        pickupTicketLayerSendBtnLadda.stop();\n        if (data.status == 'ok') {\n          alert('발송되었습니다.');\n          history.go(-1);\n        } else {\n          alert(data.message);\n        }\n      },\n      error: function error(data) {\n        pickupTicketLayerSendBtnLadda.stop();\n        alert(data.responseJSON.message);\n      }\n    });\n  });\n\n  /** *************************************\n   * [END] 주문 - 매장픽업 상품 교환권\n   ****************************************/\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuYWN0aW9uLmpzP2UwMjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG1heC1sZW46IFwib2ZmXCIgKi9cbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuaW1wb3J0IHtcbiAgc2l6ZU9wdGlvbkRhdGFNYXAsXG4gIHNob3dTaXplTGlzdCxcbiAgZ2V0U2l6ZUxpc3QsXG4gIGdldENhbmNlbFBheW1lbnRJbmZvLFxuICBnZXREZWxpdmVyeVZlbmRvckxpc3QsXG4gIGdldFJldHVyblBheW1lbnRJbmZvLFxuICB1cGRhdGVQYXltZW50LFxuICBnZXRFeGNoYW5nZURlbGl2ZXJ5Q29zdCxcbiAgYWRkUnVsZXMsXG4gIHJlbW92ZVJ1bGVzLFxuICBjdXN0b21lckFkZHJlc3NSdWxlcyxcbiAgZGVsaXZlcnlSdWxlcyxcbiAgcmV0dXJuQWNjb3VudFJ1bHMsXG4gIGhhc1ZpcnR1YWxBY2NvdW50UGF5bWVudCxcbiAgaGFzUGF5bWVudFN0YXR1c1dhaXRpbmcsXG59IGZyb20gJy4uL2NvbW1vbi9PcmRlci5hY3Rpb24nO1xuaW1wb3J0IE92ZXJsYXlMb2FkZXIgZnJvbSAnLi4vY29tbW9uL092ZXJsYXlMb2FkZXInO1xuY29uc3Qgb3ZlcmxheUxvYWRlciA9IG5ldyBPdmVybGF5TG9hZGVyKCk7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6T3JkZXI6bG9hZCcsICgpID0+IHtcbiAgbGV0IHNlYXJjaFBlcmlvZERheXMgPSAzMDtcbiAgbGV0IG9yZGVyTGlzdFRlbXBsYXRlID0gbnVsbDtcbiAgY29uc3QgUk1BX1RZUEVfQ0FOQ0VMID0gJ0NhbmNlbCc7ICAgICAvLyDst6jshoxcbiAgY29uc3QgUk1BX1RZUEVfRVhDSEFOR0UgPSAnRXhjaGFuZ2UnOyAvLyDqtZDtmZhcbiAgY29uc3QgUk1BX1RZUEVfUkVUVVJOID0gJ1JldHVybic7ICAgICAvLyDrsJjtkohcbiAgY29uc3QgQUpBWF9SRVRVUk5fU1VDQ0VTU19DT0RFID0gJ29rJztcbiAgY29uc3Qgcm1hT3JkZXJGb3JtID0gJCgnI3JtYU9yZGVyRm9ybScpO1xuICBjb25zdCBybWFUeXBlID0gcm1hT3JkZXJGb3JtLmRhdGEoJ3JtYVR5cGUnKTtcbiAgY29uc3QgUkVBU09OX09QVElPTl9DT0RFX0RFRkFVTFQgPSAnQTAxOTk5JzsgLy8g7IKs7Jyg7L2U65OcIDog6riw7YOAXG4gIGNvbnN0IFJFQVNPTl9PUFRJT05fQ09ERV9FWENIQU5HRV9TSVpFID0gJ0EwMTk0MSc7IC8vIOyCrOycoOy9lOuTnCA6IOyCrOydtOymiCDrs4Dqsr1cbiAgY29uc3QgT1JERVJfUEFHRV9TSVpFID0gMTA7XG4gIGxldCBjdXJyZW50UGFnZSA9IDE7XG5cbiAgZnVuY3Rpb24gZ2V0Uk1BVGV4dCgpIHtcbiAgICBpZiAocm1hVHlwZSA9PSBSTUFfVFlQRV9DQU5DRUwpIHtcbiAgICAgIHJldHVybiAn7Leo7IaMJztcbiAgICB9IGVsc2UgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfRVhDSEFOR0UpIHtcbiAgICAgIHJldHVybiAn6rWQ7ZmYJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ+uwmO2SiCc7XG4gIH1cblxuICBjb25zdCBybWFUeXBlVGV4dCA9IGdldFJNQVRleHQoKTtcblxuICBmdW5jdGlvbiBnZXRPcmRlckxpc3QoKSB7XG4gICAgY29uc3QgaXNQb2ludE9mU2VydmljZSA9ICQoJyNpc1BvaW50T2ZTZXJ2aWNlU2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuICAgIGNvbnN0IGVuZERhdGUgPSBtb21lbnQoKTtcbiAgICBsZXQgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ00nKTtcbiAgICBsZXQgc2VhcmNoUGVyaW9kVGV4dCA9ICcx6rCc7JuUJztcbiAgICBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSA5MCkge1xuICAgICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMywgJ00nKTtcbiAgICAgIHNlYXJjaFBlcmlvZFRleHQgPSAnM+qwnOyblCc7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hQZXJpb2REYXlzID09IDM2NSkge1xuICAgICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ1knKTtcbiAgICAgIHNlYXJjaFBlcmlvZFRleHQgPSAnMeuFhCc7XG4gICAgfVxuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLmZvcm1hdCgnWVlZWU1NREQnKSxcbiAgICAgIGVuZERhdGU6IGVuZERhdGUuZm9ybWF0KCdZWVlZTU1ERCcpLFxuICAgICAgcmVxdWVzdFR5cGU6IDEwLCAvLyAoMTA6IOyghOyytOyjvOusuCwgMjA6IOy3qOyGjOuwmO2SiOq1kO2ZmClcbiAgICAgIHBhZ2VTaXplOiBPUkRFUl9QQUdFX1NJWkUsXG4gICAgICBjdXJyZW50UGFnZSxcbiAgICB9O1xuXG4gICAgaWYgKGlzUG9pbnRPZlNlcnZpY2UgIT0gJ2FsbCcpIHtcbiAgICAgIHBhcmFtcy5pc1BvaW50T2ZTZXJ2aWNlID0gaXNQb2ludE9mU2VydmljZTtcbiAgICB9XG4gICAgcGFyYW1zLnNlYXJjaFR5cGUgPSAkKCcjc2VhcmNoS2V5U2VsZWN0JykudmFsKCkudG9VcHBlckNhc2UoKTtcbiAgICBwYXJhbXMuc2VhcmNoS2V5d29yZCA9ICQudHJpbSgkKCcjc2VhcmNoV29yZElucHV0JykudmFsKCkpO1xuICAgIGlmIChjdXJyZW50UGFnZSA9PSAxKSB7XG4gICAgICAkKCcjcmVzdWx0T3JkZXJMaXN0V3JhcHBlcicpLmhpZGUoKTtcbiAgICB9XG4gICAgJCgnI29yZGVyTGlzdExvYWRpbmcnKS5zaG93KCk7XG4gICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9PcmRlci9Db25zaWdubWVudEVudHJpZXMnLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGRhdGE6IHBhcmFtcyxcbiAgICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZGF0YS5yZXN1bHRzICYmIGRhdGEucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJCgnI2VtcHR5UmVzdWx0T3JkZXJMaXN0JykuaGlkZSgpO1xuICAgICAgICAgICQoJyNyZXN1bHRPcmRlckxpc3RXcmFwcGVyJykuc2hvdygpO1xuXG4gICAgICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywgKGluZGV4LCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gcmVzdWx0O1xuICAgICAgICAgICAgb3JkZXIuaXNSbWFMaXN0VmlldyA9IGZhbHNlO1xuICAgICAgICAgICAgJC5lYWNoKG9yZGVyLml0ZW1zLCAoaW5kZXgyLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG9yZGVySXRlbSA9IGl0ZW07XG4gICAgICAgICAgICAgIG9yZGVySXRlbS5vcmRlckRlbGl2ZXJ5VHlwZSA9IHJlc3VsdC5kZWxpdmVyeVR5cGU7XG4gICAgICAgICAgICAgIG9yZGVySXRlbS5vcmRlckRpc3BsYXllZERlbGl2ZXJ5VHlwZSA9IHJlc3VsdC5kaXNwbGF5ZWREZWxpdmVyeVR5cGU7XG4gICAgICAgICAgICAgIG9yZGVySXRlbS5vcmRlck51bWJlciA9IHJlc3VsdC5vcmRlck51bWJlcjtcbiAgICAgICAgICAgICAgb3JkZXJJdGVtLmlzT3JkZXJEZXRhaWxWaWV3ID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAxICYmIGluZGV4ID09IDApIHtcbiAgICAgICAgICAgICAgJCgnI3Jlc3VsdE9yZGVyTGlzdFdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICQoJyNyZXN1bHRPcmRlckxpc3QnKS5odG1sKG9yZGVyTGlzdFRlbXBsYXRlKG9yZGVyKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkKCcjcmVzdWx0T3JkZXJMaXN0JykuYXBwZW5kKG9yZGVyTGlzdFRlbXBsYXRlKG9yZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGRhdGEucGFnZS50b3RhbENvdW50ID4gY3VycmVudFBhZ2UgKiBPUkRFUl9QQUdFX1NJWkUpIHtcbiAgICAgICAgICAgICQoJyNtb3JlQnRuJykuc2hvdygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjbW9yZUJ0bicpLmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnI3NlYXJjaFBlcmlvZFRleHQnKS50ZXh0KHNlYXJjaFBlcmlvZFRleHQpO1xuICAgICAgICAgICQoJyNlbXB0eVJlc3VsdE9yZGVyTGlzdCcpLnNob3coKTtcbiAgICAgICAgICAkKCcjcmVzdWx0T3JkZXJMaXN0V3JhcHBlcicpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KS5hbHdheXMoKCkgPT4gJCgnI29yZGVyTGlzdExvYWRpbmcnKS5oaWRlKCkpO1xuICB9XG4gIGlmICgkKCcjcmVzdWx0T3JkZXJMaXN0V3JhcHBlcicpLmxlbmd0aCA+IDApIHtcbiAgICBvcmRlckxpc3RUZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvb3JkZXIvb3JkZXItbGlzdCddO1xuICAgIGdldE9yZGVyTGlzdCgpO1xuICB9XG5cbiAgJCgnI3VwZGF0ZVBheW1lbnRCdG4nKS5jbGljaygoKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJJZCA9ICQoJyN1cGRhdGVQYXltZW50QnRuJykuZGF0YSgnb3JkZXJJZCcpO1xuICAgIHVwZGF0ZVBheW1lbnQob3JkZXJJZCwgJ21vYmlsZScpO1xuICB9KTtcblxuICAkKCcjcGVyaW9kQnRucyA+IGxpID4gYScpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICQoJyNwZXJpb2RCdG5zID4gbGknKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICBzZWFyY2hQZXJpb2REYXlzID0gJHRoaXMuZGF0YSgnc2VhcmNoUGVyaW9kJyk7XG4gICAgJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ29uJyk7XG4gIH0pO1xuXG5cbiAgJCgnI2Zvcm0tb3JkZXInKS5zdWJtaXQoKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY3VycmVudFBhZ2UgPSAxO1xuICAgIGdldE9yZGVyTGlzdCgpO1xuICB9KTtcblxuXG4gICQoJyNzZWFyY2hPcmRlckJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoJyNmb3JtLW9yZGVyJykuc3VibWl0KCk7XG4gIH0pO1xuXG4gICQoJyNtb3JlQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY3VycmVudFBhZ2UrKztcbiAgICBnZXRPcmRlckxpc3QoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0UmV0dXJuRGVsaXZlcnlDb3N0KG9yZGVyTnVtYmVyLCBvcmRlckVudHJ5Y29kZSwgb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZSwgcXVhbnRpdHksIHJtYU9wdGlvbiwgb3JpZ2luRGVsaXZlcnlDb2RlLCBkZWxpdmVyeVN0YXR1cykge1xuICAgIGlmICgkLnRyaW0ob3JkZXJFbnRyeWNvZGUpICE9ICcnKSB7XG4gICAgICAkLmdldEpTT04oYC9PcmRlci8ke29yZGVyTnVtYmVyfS9SZXR1cm4vRGVsaXZlcnlDb3N0P29yZGVyRW50cnljb2RlPSR7b3JkZXJFbnRyeWNvZGV9Jm9yZGVyQ29uc2lnbm1lbnRFbnRyeWNvZGU9JHtvcmRlckNvbnNpZ25tZW50RW50cnljb2RlfSZxdWFudGl0eT0ke3F1YW50aXR5fSZyZXR1cm5PcHRpb249JHtybWFPcHRpb259Jm9yaWdpbkRlbGl2ZXJ5Q29kZT0ke29yaWdpbkRlbGl2ZXJ5Q29kZX0mZGVsaXZlcnlTdGF0dXM9JHtkZWxpdmVyeVN0YXR1c31gLCAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICQoJyNyZXR1cm5EZWxpdmVyeUNvc3QnKS50ZXh0KGAke2RhdGEuZGVsaXZlcnlDb3N0feybkGApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3JldHVybkRlbGl2ZXJ5Q29zdCcpLnRleHQoJzDsm5AnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSbWFQYXltZW50SW5mbygpIHtcbiAgICBjb25zdCBvcmRlck51bWJlciA9IHJtYU9yZGVyRm9ybS5kYXRhKCdvcmRlck51bWJlcicpO1xuICAgIGNvbnN0IGVudHJ5Q29kZXMgPSBbXTtcbiAgICBjb25zdCBjb25zaWdubWVudEVudHJ5Q29kZXMgPSBbXTtcbiAgICBjb25zdCBxdWFudGl0aWVzID0gW107XG4gICAgY29uc3Qgcm1hT3B0aW9ucyA9IFtdO1xuICAgIGNvbnN0IG9yaWdpbkRlbGl2ZXJ5Q29kZXMgPSBbXTtcbiAgICBjb25zdCBkZWxpdmVyeVN0YXR1c0xpc3QgPSBbXTtcblxuICAgIGxldCBkZWxpdmVyeVN0YXR1c1ZhbCA9ICdOJztcbiAgICBpZiAoJCgnI3JtYU9yZGVyRm9ybSAjZGVsaXZlcnlTdGF0dXMnKS5oYXNDbGFzcygndGcnKSkge1xuICAgICAgZGVsaXZlcnlTdGF0dXNWYWwgPSAnWSc7XG4gICAgfVxuXG4gICAgJC5lYWNoKCQoJyNybWFPcmRlckZvcm0gI3JtYU9yZGVySXRlbUxpc3QgbGkgaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCcpLCAoaW5kZXgsIG9yZGVySXRlbSkgPT4ge1xuICAgICAgY29uc3QgZGF0YUVsZSA9ICQob3JkZXJJdGVtKS5wYXJlbnRzKCcubGlzdCcpO1xuXG4gICAgICBjb25zdCBybWFPcHRpb25WYWx1ZSA9IGRhdGFFbGUuZmluZCgnLnJtYU9wdGlvbiBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICAgIGxldCBybWFPcHRpb25Db2RlID0gcm1hT3B0aW9uVmFsdWU7XG4gICAgICBpZiAocm1hT3B0aW9uVmFsdWUgPT0gJycpIHtcbiAgICAgICAgcm1hT3B0aW9uQ29kZSA9IFJFQVNPTl9PUFRJT05fQ09ERV9ERUZBVUxUO1xuICAgICAgfSBlbHNlIGlmIChybWFPcHRpb25WYWx1ZSA9PSAnc2l6ZScpIHtcbiAgICAgICAgcm1hT3B0aW9uQ29kZSA9IFJFQVNPTl9PUFRJT05fQ09ERV9FWENIQU5HRV9TSVpFO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbnRyeUNvZGUgPSBkYXRhRWxlLmRhdGEoJ2VudHJ5Q29kZScpO1xuICAgICAgZW50cnlDb2Rlcy5wdXNoKGVudHJ5Q29kZSk7XG4gICAgICBpZiAoZW50cnlDb2RlLnRvU3RyaW5nKCkuaW5kZXhPZignLCcpID4gLTEpIHsgLy8g7IS47Yq4IOyDge2SiOydvCDqsr3smrAgZXgpIGVudHJ5Q29kZeqwgCA4OTM2OTMxODE5NTY2LDg5MzY5MzE3ODY3OTgg7J2065+w7Iud7Jy866GcIOuTpOyWtOyYqOuLpFxuICAgICAgICBjb25zdCB0ZW1wRW50cnlDb2RlQXJyYXkgPSBlbnRyeUNvZGUuc3BsaXQoJywnKTtcbiAgICAgICAgLy8g7JeU7Yq466as66qp66Gd6ri47J2066eM7YG8IOyImOufiSDsoJXrs7QsIOyCrOycoCDsoJXrs7TqsIAg65Ok7Ja06rCA7JW8XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcEVudHJ5Q29kZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcXVhbnRpdGllcy5wdXNoKGRhdGFFbGUuZmluZCgnLm9yZGVySXRlbVF1YW50aXR5JykudGV4dCgpKTtcbiAgICAgICAgICBybWFPcHRpb25zLnB1c2gocm1hT3B0aW9uQ29kZSk7XG4gICAgICAgICAgZGVsaXZlcnlTdGF0dXNMaXN0LnB1c2goZGVsaXZlcnlTdGF0dXNWYWwpOyAvLyDrsJjtkogg7IucLCDsg4HtkojsnYQg7J2066+4IO2MkOunpOyekOyXkOqyjCDrsJzshqHtlojripTsp4Ag7Jes67aAXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1YW50aXRpZXMucHVzaChkYXRhRWxlLmZpbmQoJy5vcmRlckl0ZW1RdWFudGl0eScpLnRleHQoKSk7XG4gICAgICAgIHJtYU9wdGlvbnMucHVzaChybWFPcHRpb25Db2RlKTtcbiAgICAgICAgZGVsaXZlcnlTdGF0dXNMaXN0LnB1c2goZGVsaXZlcnlTdGF0dXNWYWwpOyAvLyDrsJjtkogg7IucLCDsg4HtkojsnYQg7J2066+4IO2MkOunpOyekOyXkOqyjCDrsJzshqHtlojripTsp4Ag7Jes67aAXG4gICAgICB9XG4gICAgICBjb25zaWdubWVudEVudHJ5Q29kZXMucHVzaChkYXRhRWxlLmRhdGEoJ2NvbnNpZ25tZW50RW50cnlDb2RlJykpO1xuICAgICAgb3JpZ2luRGVsaXZlcnlDb2Rlcy5wdXNoKGRhdGFFbGUuZGF0YSgnb3JpZ2luRGVsaXZlcnlDb2RlJykpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgb3JkZXJFbnRyeWNvZGUgPSBlbnRyeUNvZGVzLmpvaW4oJywnKTtcbiAgICBjb25zdCBvcmRlckNvbnNpZ25tZW50RW50cnljb2RlID0gY29uc2lnbm1lbnRFbnRyeUNvZGVzLmpvaW4oJywnKTtcbiAgICBjb25zdCBxdWFudGl0eSA9IHF1YW50aXRpZXMuam9pbignLCcpO1xuICAgIGNvbnN0IHJtYU9wdGlvbiA9IHJtYU9wdGlvbnMuam9pbignLCcpO1xuICAgIGNvbnN0IG9yaWdpbkRlbGl2ZXJ5Q29kZSA9IG9yaWdpbkRlbGl2ZXJ5Q29kZXMuam9pbignLCcpO1xuICAgIGNvbnN0IGRlbGl2ZXJ5U3RhdHVzID0gZGVsaXZlcnlTdGF0dXNMaXN0LmpvaW4oJywnKTtcbiAgICBjb25zdCByZWZ1bmREZWxpdmVyeUdiID0gJCgnI3JlZnVuZERlbGl2ZXJ5VHlwZScpLnZhbCgpOyAvLyDrsJjtkogg7IucLCDtmZjrtojquIjslaHsl5DshJwg7LCo6rCQIE9SIOqzhOyijOuhnCDsnoXquIhcblxuICAgIGlmIChybWFUeXBlID09IFJNQV9UWVBFX0NBTkNFTCkge1xuICAgICAgZ2V0Q2FuY2VsUGF5bWVudEluZm8oJ21vYmlsZScsIG9yZGVyTnVtYmVyLCBvcmRlckVudHJ5Y29kZSwgb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZSwgcXVhbnRpdHkpO1xuICAgIH0gZWxzZSBpZiAocm1hVHlwZSA9PSBSTUFfVFlQRV9FWENIQU5HRSkge1xuICAgICAgZ2V0RXhjaGFuZ2VEZWxpdmVyeUNvc3Qob3JkZXJOdW1iZXIsIG9yZGVyRW50cnljb2RlLCBvcmRlckNvbnNpZ25tZW50RW50cnljb2RlLCBxdWFudGl0eSwgcm1hT3B0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfUkVUVVJOKSB7XG4gICAgICBnZXRSZXR1cm5QYXltZW50SW5mbygnbW9iaWxlJywgb3JkZXJOdW1iZXIsIG9yZGVyRW50cnljb2RlLCBvcmRlckNvbnNpZ25tZW50RW50cnljb2RlLCBxdWFudGl0eSwgcm1hT3B0aW9uLCBvcmlnaW5EZWxpdmVyeUNvZGUsIGRlbGl2ZXJ5U3RhdHVzLCByZWZ1bmREZWxpdmVyeUdiKTtcbiAgICAgIGdldFJldHVybkRlbGl2ZXJ5Q29zdChvcmRlck51bWJlciwgb3JkZXJFbnRyeWNvZGUsIG9yZGVyQ29uc2lnbm1lbnRFbnRyeWNvZGUsIHF1YW50aXR5LCBybWFPcHRpb24sIG9yaWdpbkRlbGl2ZXJ5Q29kZSwgZGVsaXZlcnlTdGF0dXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUNvbnRyb2xzQWN0aXZlKCkge1xuICAgICQoJyNybWFPcmRlckZvcm0gI3JtYU9yZGVySXRlbUxpc3QgbGkgaW5wdXRbY2xhc3M9b3JkZXJJdGVtQ2hlY2tib3hdJykuZWFjaCgoaW5kZXgsIGNoZWNrZWRFbGUpID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChjaGVja2VkRWxlKTtcbiAgICAgIGNvbnN0IHRhcmdldEVsZSA9ICQoY2hlY2tlZEVsZSkucGFyZW50cygnLmxpc3QnKTtcbiAgICAgIGlmICgkdGhpcy5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICB0YXJnZXRFbGUuZmluZCgnLnJtYU9wdGlvbiwgLnF1YW50aXR5TWludXMsIC5xdWFudGl0eVBsdXMsIC5zaXplU2VsZWN0LCAucm1hUmVhc29uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldEVsZS5maW5kKCcucm1hT3B0aW9uLCAucXVhbnRpdHlNaW51cywgLnF1YW50aXR5UGx1cywgLnNpemVTZWxlY3QsIC5ybWFSZWFzb24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHJtYU9yZGVyRm9ybS5sZW5ndGggPiAwKSB7XG4gICAgLy8g6rCA7IOB6rOE7KKMIOy3qOyGjC/rsJjtkojsi5wg7ZmY67aI6rOE7KKMIOyeheugpSDtj7wgYXBwZW5kXG4gICAgLy8g7Y6Y7J2066i87Yq4IOyDge2DnOqwgCBXQUlUSU5H7J20IOyXhuydhOuVjFxuICAgIGlmIChoYXNWaXJ0dWFsQWNjb3VudFBheW1lbnQoKSAmJiAhaGFzUGF5bWVudFN0YXR1c1dhaXRpbmcoKSkge1xuICAgICAgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfQ0FOQ0VMKSB7XG4gICAgICAgICQoJy5jYW5jZWxQYXltZW50V3JhcHBlcicpLmFmdGVyKEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcGFydGlhbHMvb3JkZXIvb3JkZXItcm1hLXJldHVybi1hY2NvdW50J10pO1xuICAgICAgfSBlbHNlIGlmIChybWFUeXBlID09IFJNQV9UWVBFX1JFVFVSTikge1xuICAgICAgICAkKCcudGFiLWluZm8nKS5hZnRlcihIYW5kbGViYXJzLnRlbXBsYXRlc1snbW9iaWxlL3BhcnRpYWxzL29yZGVyL29yZGVyLXJtYS1yZXR1cm4tYWNjb3VudCddKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2V0Um1hUGF5bWVudEluZm8oKTtcbiAgICBpZiAocm1hVHlwZSA9PSBSTUFfVFlQRV9SRVRVUk4gfHwgKHJtYVR5cGUgPT0gUk1BX1RZUEVfRVhDSEFOR0UgJiYgcm1hT3JkZXJGb3JtLmRhdGEoJ29yZGVyRGVsaXZlcnlUeXBlJykgPT0gJ1BJQ0tVUCcpKSB7XG4gICAgICBybWFPcmRlckZvcm0udmFsaWRhdGUoKTtcbiAgICAgIGFkZFJ1bGVzKGN1c3RvbWVyQWRkcmVzc1J1bGVzKTtcbiAgICB9XG4gIH1cblxuICAvLyDslYTsnbTthZwg7LK07YGsL+yytO2BrCDtlbTsoJzsi5wsIOyCrOycoOuzgOqyveyLnCwg7KCE7LK0IO2GoOq4gCDssrTtgawv7LK07YGsIO2VtOygnOyLnCwg67CY7ZKI7IucICfsg4HtkojsnYQg7J2066+4IO2MkOunpOyekOyXkOqyjCDrsJzshqEnIOyytO2BrC/ssrTtgawg7ZW07KCc7IucXG4gIC8vIDEuIOuwsOyGoeu5hOyZgCDquIjslaEg7J6s6rOE7IKwXG4gIC8vIDIuIOyytO2BrCDtlbTsoJzrkJwg7ZWt66qpIOywvuyVhOyEnCBkaXNhYmxlZOuhnCDrs4Dqsr0uXG4gICQoJyNybWFPcmRlckZvcm0gI3JtYU9yZGVySXRlbUxpc3QgbGkgaW5wdXRbY2xhc3M9b3JkZXJJdGVtQ2hlY2tib3hdLCAucm1hT3B0aW9uJykuY2hhbmdlKCgpID0+IHtcbiAgICBnZXRSbWFQYXltZW50SW5mbygpO1xuICAgIHRvZ2dsZUNvbnRyb2xzQWN0aXZlKCk7XG4gIH0pO1xuXG4gICQoJyNyZWZ1bmREZWxpdmVyeUdiPmEnKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICghJHRoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICQoJyNyZWZ1bmREZWxpdmVyeUdiPmEnKS50b2dnbGVDbGFzcygnb24nKTtcbiAgICAgICQoJy50YWItaW5mbz5kaXYnKS50b2dnbGVDbGFzcygndGFiLW9uJyk7XG4gICAgICAkKCcjcmVmdW5kRGVsaXZlcnlUeXBlJykudmFsKCQoJyNyZWZ1bmREZWxpdmVyeUdiPmEub24nKS5kYXRhKCdyZWZ1bmREZWxpdmVyeUdiJykpO1xuICAgICAgZ2V0Um1hUGF5bWVudEluZm8oKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5xdWFudGl0eU1pbnVzJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCR0aGlzLmF0dHIoJ2Rpc2FibGVkJykgPT09IHVuZGVmaW5lZCB8fCAkdGhpcy5hdHRyKCdkaXNhYmxlZCcpICE9ICdkaXNhYmxlZCcpIHtcbiAgICAgIGNvbnN0IHRhcmdldEVsZSA9ICR0aGlzLnBhcmVudHMoJy5jb250cycpLmZpbmQoJy5vcmRlckl0ZW1RdWFudGl0eScpO1xuICAgICAgY29uc3QgY3VycmVudFF0eSA9IHRhcmdldEVsZS50ZXh0KCk7XG4gICAgICBsZXQgaW50Q3VycmVudFF0eSA9IHBhcnNlSW50KGN1cnJlbnRRdHksIDEwKTtcbiAgICAgIGlmIChpbnRDdXJyZW50UXR5ICE9PSB1bmRlZmluZWQgJiYgaW50Q3VycmVudFF0eSA+IDEpIHtcbiAgICAgICAgaW50Q3VycmVudFF0eS0tO1xuICAgICAgICB0YXJnZXRFbGUudGV4dChpbnRDdXJyZW50UXR5KTtcbiAgICAgICAgZ2V0Um1hUGF5bWVudEluZm8oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoJy5xdWFudGl0eVBsdXMnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMuYXR0cignZGlzYWJsZWQnKSA9PT0gdW5kZWZpbmVkIHx8ICR0aGlzLmF0dHIoJ2Rpc2FibGVkJykgIT0gJ2Rpc2FibGVkJykge1xuICAgICAgY29uc3QgdGFyZ2V0RWxlID0gJHRoaXMucGFyZW50cygnLmNvbnRzJykuZmluZCgnLm9yZGVySXRlbVF1YW50aXR5Jyk7XG4gICAgICBjb25zdCBjdXJyZW50UXR5ID0gdGFyZ2V0RWxlLnRleHQoKTtcbiAgICAgIGxldCBpbnRDdXJyZW50UXR5ID0gcGFyc2VJbnQoY3VycmVudFF0eSwgMTApO1xuICAgICAgaWYgKGludEN1cnJlbnRRdHkgIT09IHVuZGVmaW5lZCAmJiBpbnRDdXJyZW50UXR5IDwgdGFyZ2V0RWxlLmRhdGEoJ29yaWdpbmFsUXVhbnRpdHknKSkge1xuICAgICAgICBpbnRDdXJyZW50UXR5Kys7XG4gICAgICAgIHRhcmdldEVsZS50ZXh0KGludEN1cnJlbnRRdHkpO1xuICAgICAgICBnZXRSbWFQYXltZW50SW5mbygpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgJCgnI3JtYU9yZGVyU3VibWl0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBybWFPcmRlclN1Ym1pdEJ0bkxhZGRhID0gTGFkZGEuY3JlYXRlKCQoJyNybWFPcmRlclN1Ym1pdEJ0bicpWzBdKTtcbiAgICBybWFPcmRlclN1Ym1pdEJ0bkxhZGRhLnN0YXJ0KCk7XG5cbiAgICBsZXQgaXNWYWxpZFN0YXRlID0gdHJ1ZTtcblxuICAgIC8vIOqwgOyDgeqzhOyijOuhnCDqsrDsoJzrkJwg7KO866y47J24IOqyveyasCDtnJjshowv67CY7ZKIIOyLoOyyreyLnCDtmZjrtojqs4Tsoowg7J6F66ClIO2VtOyVvO2VqFxuICAgIGlmIChoYXNWaXJ0dWFsQWNjb3VudFBheW1lbnQoKSAmJiAkKCcjdmFsaWRhdGVBY2NvdW50Rm9ybScpLmxlbmd0aCA+IDAgJiYgISQoJyN2YWxpZGF0ZUFjY291bnRGb3JtV3JhcHBlcicpLmlzKCc6aGlkZGVuJykpIHtcbiAgICAgICQoJyN2YWxpZGF0ZUFjY291bnRGb3JtJykudmFsaWRhdGUoKTtcbiAgICAgIGFkZFJ1bGVzKHJldHVybkFjY291bnRSdWxzKTtcbiAgICAgIGlmICghJCgnI3ZhbGlkYXRlQWNjb3VudEZvcm0nKS52YWxpZCgpKSB7XG4gICAgICAgIGlzVmFsaWRTdGF0ZSA9IGZhbHNlO1xuICAgICAgICBybWFPcmRlclN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWRTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIO2ZmOu2iOqzhOyijCBmb3JtIHZhbGlkYXRpb24g7Ya16rO87ZuEIHJtYU9yZGVyRm9ybSDsl5Ag6rCSIOyEuO2MhVxuICAgICAgICBjb25zdCBhY2NvdW50TnVtYmVyID0gJCgnI3ZhbGlkYXRlQWNjb3VudEZvcm0gI2FjY291bnROdW1iZXInKS52YWwoKTtcbiAgICAgICAgY29uc3QgYmFua0NvZGUgPSAkKCcjdmFsaWRhdGVBY2NvdW50Rm9ybSAjYmFua0NvZGUgb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XG5cbiAgICAgICAgcm1hT3JkZXJGb3JtLmZpbmQoJyNyZWZ1bmRCYW5rJykudmFsKGJhbmtDb2RlKTtcbiAgICAgICAgcm1hT3JkZXJGb3JtLmZpbmQoJyNyZWZ1bmRBY2NvdW50Tm8nKS52YWwoYWNjb3VudE51bWJlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVmdW5kRGVsaXZlcnlBbXQgPSAkKCcjZXhjaGFuZ2VEZWxpdmVyeUNvc3QnKS50ZXh0KCkudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICcnKTsgLy8g6rWQ7ZmY7IucIOq1kO2ZlOuwmO2SiOu5hFxuICAgIGNvbnN0IG9yZGVyTnVtYmVyID0gcm1hT3JkZXJGb3JtLmRhdGEoJ29yZGVyTnVtYmVyJyk7XG4gICAgY29uc3QgdGFyZ2V0SXRlbXMgPSBybWFPcmRlckZvcm0uZmluZCgnI3JtYU9yZGVySXRlbUxpc3QgbGkgaW5wdXRbY2xhc3M9b3JkZXJJdGVtQ2hlY2tib3hdOmNoZWNrZWQnKTtcbiAgICBpZiAodGFyZ2V0SXRlbXMubGVuZ3RoIDwgMSkge1xuICAgICAgYWxlcnQoYCR7cm1hVHlwZVRleHR97ZWgIOyDge2SiOydhCDshKDtg53tlbQg7KO87IS47JqULmApO1xuICAgICAgcm1hT3JkZXJTdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3Qgb3JkZXJFbnRyeWNvZGVzID0gW107XG4gICAgY29uc3Qgb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZXMgPSBbXTtcbiAgICBjb25zdCBxdWFudGl0aWVzID0gW107XG4gICAgY29uc3Qgcm1hT3B0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHJtYVJlYXNvbnMgPSBbXTtcbiAgICBjb25zdCBvcmlnaW5EZWxpdmVyeUNvZGVzID0gW107XG4gICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICBjb25zdCBwcm9kdWN0QmFzZUNvZGVzID0gW107XG4gICAgY29uc3QgZGVsaXZlcnlTdGF0dXNMaXN0ID0gW107XG4gICAgY29uc3QgcmVmdW5kRGVsaXZlcnlBbXRMaXN0ID0gW107XG5cbiAgICBsZXQgZGVsaXZlcnlTdGF0dXNWYWwgPSAnTic7XG4gICAgaWYgKCQoJyNkZWxpdmVyeVN0YXR1cycpLmhhc0NsYXNzKCd0ZycpKSB7XG4gICAgICBkZWxpdmVyeVN0YXR1c1ZhbCA9ICdZJztcbiAgICB9XG4gICAgJC5lYWNoKHRhcmdldEl0ZW1zLCAoaW5kZXgsIHJtYUl0ZW1FbGUpID0+IHtcbiAgICAgIGNvbnN0IHJtYUl0ZW0gPSAkKHJtYUl0ZW1FbGUpLnBhcmVudHMoJy5saXN0Jyk7XG4gICAgICBjb25zdCBlbnRyeUNvZGUgPSBybWFJdGVtLmRhdGEoJ2VudHJ5Q29kZScpO1xuICAgICAgb3JkZXJFbnRyeWNvZGVzLnB1c2goZW50cnlDb2RlKTtcbiAgICAgIG9yZGVyQ29uc2lnbm1lbnRFbnRyeWNvZGVzLnB1c2gocm1hSXRlbS5kYXRhKCdjb25zaWdubWVudEVudHJ5Q29kZScpKTtcblxuICAgICAgbGV0IHJtYU9wdGlvbiA9IHJtYUl0ZW0uZmluZCgnLnJtYU9wdGlvbiBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICAgIGlmIChybWFPcHRpb24gPT0gJycpIHtcbiAgICAgICAgYWxlcnQoYCR7cm1hVHlwZVRleHR9IOyCrOycoOulvCDshKDtg53tlbQg7KO87IS47JqULmApO1xuICAgICAgICBpc1ZhbGlkU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWRTdGF0ZTtcbiAgICAgIH1cbiAgICAgIGxldCBybWFSZWFzb24gPSBybWFJdGVtLmZpbmQoJy5ybWFSZWFzb24nKS52YWwoKTtcbiAgICAgIGlmICgkLnRyaW0ocm1hUmVhc29uKSA9PSAnJykge1xuICAgICAgICBybWFSZWFzb24gPSAnICc7IC8vIOqzteuwseusuOyekOyXtOydtOudvOuPhCDrhJjquLDquLBcbiAgICAgIH1cbiAgICAgIGlmICgkLnRyaW0ocm1hUmVhc29uKSA9PSAnJykge1xuICAgICAgICBhbGVydChg7IOB7ZKIICR7cm1hVHlwZVRleHR9IOyCrOycoOulvCDsnpHshLHtlbQg7KO87IS47JqULmApO1xuICAgICAgICBpc1ZhbGlkU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWRTdGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmIChybWFPcHRpb24gPT0gJ3NpemUnKSB7XG4gICAgICAgIHJtYU9wdGlvbiA9IFJFQVNPTl9PUFRJT05fQ09ERV9FWENIQU5HRV9TSVpFO1xuICAgICAgfVxuXG4gICAgICAvLyDshLjtirgg7IOB7ZKI7J28IOqyveyasFxuICAgICAgaWYgKHJtYUl0ZW0uZGF0YSgnaXNTZXRPcmRlckl0ZW0nKSkge1xuICAgICAgICAvLyDshLjtirjsg4HtkoggJ+q1kO2ZmCfsi5zsl5Drp4wg7IKs7J207KaI7JmAIO2UhOuhnOuNle2KuCDsvZTrk5wg64SY7Ja06rCA64qUIOuwqeyLneydtCDri6TrpoRcbiAgICAgICAgLy8gZXgpIGl6ZTo3LjUsNzQlMkM5NSBwcm9kdWN0Q29kZTpDVTFBWDE2MDQ0QlVYLENXRkNXMTY0NjZOWVglMkNDV0ZCVzE2NDY2TllYXG4gICAgICAgIGlmIChybWFUeXBlID09IFJNQV9UWVBFX0VYQ0hBTkdFKSB7XG4gICAgICAgICAgY29uc3Qgc2l6ZVRlbXBMaXN0ID0gW107XG4gICAgICAgICAgY29uc3QgcHJvZHVjdEJhc2VDb2RlVGVtcExpc3QgPSBbXTtcbiAgICAgICAgICBybWFJdGVtLmZpbmQoJy5zaXplU2VsZWN0JykuZWFjaCgoaW5kZXgyLCBzaXplRWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFNpemVFbGVWYWwgPSAkKHNpemVFbGUpLnZhbCgpO1xuICAgICAgICAgICAgc2l6ZVRlbXBMaXN0LnB1c2goJChzaXplRWxlKS5maW5kKGBvcHRpb25bdmFsdWU9JHtzZWxlY3RlZFNpemVFbGVWYWx9XWApLnRleHQoKSk7XG4gICAgICAgICAgICBwcm9kdWN0QmFzZUNvZGVUZW1wTGlzdC5wdXNoKCQoc2l6ZUVsZSkuZGF0YSgncHJvZHVjdEJhc2VDb2RlJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNpemVzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHNpemVUZW1wTGlzdC5qb2luKCcsJykpKTtcbiAgICAgICAgICBwcm9kdWN0QmFzZUNvZGVzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHByb2R1Y3RCYXNlQ29kZVRlbXBMaXN0LmpvaW4oJywnKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJtYUl0ZW0uZmluZCgnLnNpemVTZWxlY3QnKS5lYWNoKChpbmRleDIsIHNpemVFbGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkU2l6ZUVsZVZhbCA9ICQoc2l6ZUVsZSkudmFsKCk7XG4gICAgICAgICAgICBzaXplcy5wdXNoKCQoc2l6ZUVsZSkuZmluZChgb3B0aW9uW3ZhbHVlPSR7c2VsZWN0ZWRTaXplRWxlVmFsfV1gKS50ZXh0KCkpO1xuICAgICAgICAgICAgcHJvZHVjdEJhc2VDb2Rlcy5wdXNoKCQoc2l6ZUVsZSkuZGF0YSgncHJvZHVjdEJhc2VDb2RlJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g7IS47Yq4IOyDge2SiOydvCDqsr3smrAg7JeU7Yq466as66qp66Gd6ri47J2066eM7YG8IOyImOufiSDsoJXrs7QsIOyCrOycoCDsoJXrs7QsIOyCrOydtOymiCDsoJXrs7QsIOyDge2SiCDsvZTrk5zsoJXrs7QsIOuwsOyGoeu5hOqwgCDrk6TslrTqsIDslbxcbiAgICAgICAgLy8g64uoLCDshLjtirjsg4Htkogg6rWQ7ZmY7Iuc7JeQ66eMIOyYiOyZuOydtOuvgOuhnCBlbnRyeUNvZGXsnZgg7L2k66eIJywn6rCS7J20IOyduOy9lOuUqeuQmOyWtCDsnojslrQg7JWE656Y7J2YIOy9lOuTnOulvCDtg4Dsp4Ag7JWK64qU64ukLlxuICAgICAgICBjb25zdCB0ZW1wRW50cnlDb2RlQXJyYXkgPSBlbnRyeUNvZGUuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wRW50cnlDb2RlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBxdWFudGl0aWVzLnB1c2gocm1hSXRlbS5maW5kKCcub3JkZXJJdGVtUXVhbnRpdHknKS50ZXh0KCkpO1xuICAgICAgICAgIHJtYVJlYXNvbnMucHVzaChlbmNvZGVVUklDb21wb25lbnQocm1hUmVhc29uKSk7XG4gICAgICAgICAgcm1hT3B0aW9ucy5wdXNoKHJtYU9wdGlvbik7XG4gICAgICAgICAgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfRVhDSEFOR0UpIHtcbiAgICAgICAgICAgIHJlZnVuZERlbGl2ZXJ5QW10TGlzdC5wdXNoKHJlZnVuZERlbGl2ZXJ5QW10KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfUkVUVVJOKSB7XG4gICAgICAgICAgICBkZWxpdmVyeVN0YXR1c0xpc3QucHVzaChkZWxpdmVyeVN0YXR1c1ZhbCk7IC8vIOuwmO2SiCDsi5wsIOyDge2SiOydhCDsnbTrr7gg7YyQ66ek7J6Q7JeQ6rKMIOuwnOyGoe2WiOuKlOyngCDsl6zrtoBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1YW50aXRpZXMucHVzaChybWFJdGVtLmZpbmQoJy5vcmRlckl0ZW1RdWFudGl0eScpLnRleHQoKSk7XG4gICAgICAgIHJtYVJlYXNvbnMucHVzaChlbmNvZGVVUklDb21wb25lbnQocm1hUmVhc29uKSk7XG4gICAgICAgIHJtYU9wdGlvbnMucHVzaChybWFPcHRpb24pO1xuICAgICAgICBpZiAocm1hVHlwZSA9PSBSTUFfVFlQRV9FWENIQU5HRSkge1xuICAgICAgICAgIGlmIChybWFPcHRpb24gPT0gUkVBU09OX09QVElPTl9DT0RFX0VYQ0hBTkdFX1NJWkUpIHtcbiAgICAgICAgICAgIHJtYUl0ZW0uZmluZCgnLnNpemVTZWxlY3QnKS5lYWNoKChpbmRleDIsIHNpemVFbGUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaXplRWxlVmFsID0gJChzaXplRWxlKS52YWwoKTtcbiAgICAgICAgICAgICAgc2l6ZXMucHVzaCgkKHNpemVFbGUpLmZpbmQoYG9wdGlvblt2YWx1ZT0ke3NlbGVjdGVkU2l6ZUVsZVZhbH1dYCkudGV4dCgpKTtcbiAgICAgICAgICAgICAgcHJvZHVjdEJhc2VDb2Rlcy5wdXNoKCQoc2l6ZUVsZSkuZGF0YSgncHJvZHVjdEJhc2VDb2RlJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpemVzLnB1c2gocm1hSXRlbS5kYXRhKCdwcm9kdWN0U2l6ZScpKTtcbiAgICAgICAgICAgIHByb2R1Y3RCYXNlQ29kZXMucHVzaChybWFJdGVtLmRhdGEoJ3Byb2R1Y3RCYXNlQ29kZScpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVmdW5kRGVsaXZlcnlBbXRMaXN0LnB1c2gocmVmdW5kRGVsaXZlcnlBbXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfUkVUVVJOKSB7XG4gICAgICAgICAgZGVsaXZlcnlTdGF0dXNMaXN0LnB1c2goZGVsaXZlcnlTdGF0dXNWYWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChybWFUeXBlICE9IFJNQV9UWVBFX0NBTkNFTCkge1xuICAgICAgICBvcmlnaW5EZWxpdmVyeUNvZGVzLnB1c2gocm1hSXRlbS5kYXRhKCdvcmlnaW5EZWxpdmVyeUNvZGUnKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmFsaWRTdGF0ZSkge1xuICAgICAgcm1hT3JkZXJTdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICByZXR1cm4gaXNWYWxpZFN0YXRlO1xuICAgIH1cblxuICAgIGlmIChybWFUeXBlID09IFJNQV9UWVBFX1JFVFVSTikge1xuICAgICAgLy8g7IOB7ZKI7J2EIOydtOuvuCDtjJDrp6TsnpDsl5Dqsowg67Cc7Iah7ZWY7KeAIOyViuyVmOydhCDqsr3smrBcbiAgICAgIGlmIChkZWxpdmVyeVN0YXR1c1ZhbCA9PSAnTicpIHtcbiAgICAgICAgcmVtb3ZlUnVsZXMoZGVsaXZlcnlSdWxlcyk7XG4gICAgICAgIGFkZFJ1bGVzKGN1c3RvbWVyQWRkcmVzc1J1bGVzKTtcbiAgICAgIH0gZWxzZSB7IC8vIOyDge2SiOydhCDsnbTrr7gg7YyQ66ek7J6Q7JeQ6rKMIOuwnOyGoe2WiOydhCDqsr3smrBcbiAgICAgICAgcmVtb3ZlUnVsZXMoY3VzdG9tZXJBZGRyZXNzUnVsZXMpO1xuICAgICAgICBhZGRSdWxlcyhkZWxpdmVyeVJ1bGVzKTtcbiAgICAgIH1cbiAgICAgIGlmICghcm1hT3JkZXJGb3JtLnZhbGlkKCkpIHtcbiAgICAgICAgcm1hT3JkZXJTdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfRVhDSEFOR0UgJiYgcm1hT3JkZXJGb3JtLmRhdGEoJ29yZGVyRGVsaXZlcnlUeXBlJykgPT0gJ1BJQ0tVUCcpIHtcbiAgICAgIC8vIOunpOyepe2UveyXhSDsg4Htkogg6rWQ7ZmY7Iuc7JeQIOuwsOyGoeyngCDso7zshowg7J6F66Cl7ZWY64qUIO2PvOydtCDsnojsnYxcbiAgICAgIGlmICghcm1hT3JkZXJGb3JtLnZhbGlkKCkpIHtcbiAgICAgICAgcm1hT3JkZXJTdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHJtYU9yZGVyRm9ybS5zZXJpYWxpemVBcnJheSgpOyAvLyBjb252ZXJ0IGZvcm0gdG8gYXJyYXlcblxuICAgIHJlcXVlc3REYXRhLnB1c2goeyBuYW1lOiAnb3JkZXJFbnRyeWNvZGUnLCB2YWx1ZTogb3JkZXJFbnRyeWNvZGVzLmpvaW4oJywnKSB9KTtcbiAgICByZXF1ZXN0RGF0YS5wdXNoKHsgbmFtZTogJ29yZGVyQ29uc2lnbm1lbnRFbnRyeWNvZGUnLCB2YWx1ZTogb3JkZXJDb25zaWdubWVudEVudHJ5Y29kZXMuam9pbignLCcpIH0pO1xuICAgIHJlcXVlc3REYXRhLnB1c2goeyBuYW1lOiAncXVhbnRpdHknLCB2YWx1ZTogcXVhbnRpdGllcy5qb2luKCcsJykgfSk7XG4gICAgaWYgKHJtYVR5cGUgPT0gUk1BX1RZUEVfQ0FOQ0VMKSB7XG4gICAgICByZXF1ZXN0RGF0YS5wdXNoKHsgbmFtZTogJ2NhbmNlbE9wdGlvbicsIHZhbHVlOiBybWFPcHRpb25zLmpvaW4oJywnKSB9KTtcbiAgICAgIHJlcXVlc3REYXRhLnB1c2goeyBuYW1lOiAnY2FuY2VsUmVhc29uJywgdmFsdWU6IHJtYVJlYXNvbnMuam9pbignLCcpIH0pO1xuICAgIH0gZWxzZSBpZiAocm1hVHlwZSA9PSBSTUFfVFlQRV9FWENIQU5HRSkge1xuICAgICAgcmVxdWVzdERhdGEucHVzaCh7IG5hbWU6ICdvcmlnaW5EZWxpdmVyeUNvZGUnLCB2YWx1ZTogb3JpZ2luRGVsaXZlcnlDb2Rlcy5qb2luKCcsJykgfSk7XG4gICAgICByZXF1ZXN0RGF0YS5wdXNoKHsgbmFtZTogJ3NpemUnLCB2YWx1ZTogc2l6ZXMuam9pbignLCcpIH0pO1xuICAgICAgcmVxdWVzdERhdGEucHVzaCh7IG5hbWU6ICdwcm9kdWN0Q29kZScsIHZhbHVlOiBwcm9kdWN0QmFzZUNvZGVzLmpvaW4oJywnKSB9KTtcbiAgICAgIHJlcXVlc3REYXRhLnB1c2goeyBuYW1lOiAncmVwbGFjZW1lbnRPcHRpb24nLCB2YWx1ZTogcm1hT3B0aW9ucy5qb2luKCcsJykgfSk7XG4gICAgICByZXF1ZXN0RGF0YS5wdXNoKHsgbmFtZTogJ3JlcGxhY2VtZW50UmVhc29uJywgdmFsdWU6IHJtYVJlYXNvbnMuam9pbignLCcpIH0pO1xuICAgICAgcmVxdWVzdERhdGEucHVzaCh7IG5hbWU6ICdyZWZ1bmREZWxpdmVyeUFtdCcsIHZhbHVlOiByZWZ1bmREZWxpdmVyeUFtdExpc3Quam9pbignLCcpIH0pO1xuICAgIH0gZWxzZSBpZiAocm1hVHlwZSA9PSBSTUFfVFlQRV9SRVRVUk4pIHtcbiAgICAgIHJlcXVlc3REYXRhLnB1c2goeyBuYW1lOiAnb3JpZ2luRGVsaXZlcnlDb2RlJywgdmFsdWU6IG9yaWdpbkRlbGl2ZXJ5Q29kZXMuam9pbignLCcpIH0pO1xuICAgICAgcmVxdWVzdERhdGEucHVzaCh7IG5hbWU6ICdyZXR1cm5PcHRpb24nLCB2YWx1ZTogcm1hT3B0aW9ucy5qb2luKCcsJykgfSk7XG4gICAgICByZXF1ZXN0RGF0YS5wdXNoKHsgbmFtZTogJ3JldHVyblJlYXNvbicsIHZhbHVlOiBybWFSZWFzb25zLmpvaW4oJywnKSB9KTtcbiAgICAgIHJlcXVlc3REYXRhLnB1c2goeyBuYW1lOiAnZGVsaXZlcnlTdGF0dXMnLCB2YWx1ZTogZGVsaXZlcnlTdGF0dXNMaXN0LmpvaW4oJywnKSB9KTtcbiAgICB9XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogYC9PcmRlci8ke29yZGVyTnVtYmVyfS8ke3JtYVR5cGV9YCxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZGF0YTogJC5wYXJhbShyZXF1ZXN0RGF0YSksXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gQUpBWF9SRVRVUk5fU1VDQ0VTU19DT0RFKSB7XG4gICAgICAgICAgICBpZiAoJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgICAgICAgJHB0Lm5hdmlnYXRpb24ubW9kYWwoeyB1cmw6IGAvT3JkZXIvJHtybWFUeXBlfUNvbXBsZXRlYCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBgL09yZGVyLyR7cm1hVHlwZX1Db21wbGV0ZWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IChkYXRhKSA9PiB7XG4gICAgICAgIGFsZXJ0KGRhdGEucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICB9KS5hbHdheXMoKCkgPT4ge1xuICAgICAgcm1hT3JkZXJTdWJtaXRCdG5MYWRkYS5zdG9wKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gICQoJyNkZWxpdmVyeVN0YXR1cycpLmJpbmQoJ2NoYW5nZWRDbGFzcycsIChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCR0aGlzLmhhc0NsYXNzKCd0ZycpKSB7XG4gICAgICBnZXREZWxpdmVyeVZlbmRvckxpc3QoKTtcbiAgICAgIHJtYU9yZGVyRm9ybS5maW5kKCcjZmlyc3RuYW1lLCAjcG9zdGFsQ29kZSwgI3N0cmVldE5hbWUsICNjZWxscGhvbmUsICNwaG9uZScpLnZhbCgnJyk7XG4gICAgICAkKCcjcm1hT3JkZXJGb3JtICNzYW1lT3JkZXJVc2VyQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBybWFPcmRlckZvcm0uZmluZCgnI2RlbGl2ZXJ5VmVuZG9yQ29kZSwgI2RlbGl2ZXJ5RGF0ZSwgI2N1c3REZWxpdmVyeU5vJykudmFsKCcnKTtcbiAgICB9XG4gICAgZ2V0Um1hUGF5bWVudEluZm8oKTtcbiAgfSk7XG5cbiAgJCgnI3JtYU9yZGVyRm9ybSAjcm1hT3JkZXJJdGVtTGlzdCAucm1hT3B0aW9uJykuY2hhbmdlKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3Qgcm1hT3B0aW9uVmFsID0gJHRoaXMuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XG4gICAgY29uc3QgcGFyZW50RWxlID0gJHRoaXMucGFyZW50cygnLmxpc3QnKTtcbiAgICAvLyDsgqzsnbTspogg6rWQ7ZmY7J28IOqyveyasFxuICAgIGNvbnN0IHRhcmdldEVsZSA9IHBhcmVudEVsZS5maW5kKCcuc2l6ZVNlbGVjdCcpO1xuICAgIGlmIChybWFPcHRpb25WYWwgPT0gJ3NpemUnKSB7XG4gICAgICB0YXJnZXRFbGUuZWFjaCgoaW5kZXgsIHNpemVFbGUpID0+IHtcbiAgICAgICAgY29uc3QgJHRoaXNTaXplRWxlID0gJChzaXplRWxlKTtcbiAgICAgICAgY29uc3QgcHJvZHVjdEJhc2VDb2RlID0gJHRoaXNTaXplRWxlLmRhdGEoJ3Byb2R1Y3RCYXNlQ29kZScpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFByb2R1Y3RDb2RlID0gJHRoaXNTaXplRWxlLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuICAgICAgICBpZiAoIXNpemVPcHRpb25EYXRhTWFwLmhhcyhwcm9kdWN0QmFzZUNvZGUpKSB7XG4gICAgICAgICAgZ2V0U2l6ZUxpc3Qoc2VsZWN0ZWRQcm9kdWN0Q29kZSwgcHJvZHVjdEJhc2VDb2RlLCAkdGhpc1NpemVFbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3dTaXplTGlzdChzZWxlY3RlZFByb2R1Y3RDb2RlLCBwcm9kdWN0QmFzZUNvZGUsICR0aGlzU2l6ZUVsZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0RWxlLnNob3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0RWxlLmhpZGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNzYW1lT3JkZXJVc2VyQ2hlY2tib3gnKS5jaGFuZ2UoKCkgPT4ge1xuICAgIGlmICgkKCcjc2FtZU9yZGVyVXNlckNoZWNrYm94JykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICQoJyNmaXJzdG5hbWUnKS52YWwoJCgnI2N1c3RvbWVyQWRkcmVzc0ZpcnN0TmFtZScpLnZhbCgpKTtcbiAgICAgICQoJyNjZWxscGhvbmUnKS52YWwoJCgnI2N1c3RvbWVyQWRkcmVzc0NlbGxQaG9uZScpLnZhbCgpKTtcbiAgICAgICQoJyNwaG9uZScpLnZhbCgkKCcjY3VzdG9tZXJBZGRyZXNzUGhvbmUnKS52YWwoKSk7XG4gICAgICAkKCcjcG9zdGFsQ29kZScpLnZhbCgkKCcjY3VzdG9tZXJBZGRyZXNzUG9zdGFsQ29kZScpLnZhbCgpKTtcbiAgICAgICQoJyNzdHJlZXROYW1lJykudmFsKCQoJyNjdXN0b21lckFkZHJlc3NMaW5lMScpLnZhbCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI2ZpcnN0bmFtZScpLnZhbCgnJyk7XG4gICAgICAkKCcjY2VsbHBob25lJykudmFsKCcnKTtcbiAgICAgICQoJyNwaG9uZScpLnZhbCgnJyk7XG4gICAgICAkKCcjcG9zdGFsQ29kZScpLnZhbCgnJyk7XG4gICAgICAkKCcjc3RyZWV0TmFtZScpLnZhbCgnJyk7XG4gICAgfVxuICB9KTtcblxuICAvKiogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBbU1RBUlRdIOuniOydtO2OmOydtOyngCAtIGVLT0xPTkzqtazrp6TrgrTsl61cbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGNvbnN0IGVLT0xPTkxpc3RQYWdlU2l6ZSA9IDEwO1xuICBsZXQgZUtPTE9OTGlzdFRlbXBsYXRlID0gbnVsbDtcblxuICBmdW5jdGlvbiBnZXRlS09MT05MaXN0KCkge1xuICAgIGNvbnN0IGVuZERhdGUgPSBtb21lbnQoKTtcbiAgICBsZXQgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ00nKTtcbiAgICBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSA5MCkge1xuICAgICAgc3RhcnREYXRlID0gbW9tZW50KGVuZERhdGUpLmFkZCgtMywgJ00nKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gMzY1KSB7XG4gICAgICBzdGFydERhdGUgPSBtb21lbnQoZW5kRGF0ZSkuYWRkKC0xLCAnWScpO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBzdGFydFNhbGVEYXQ6IHN0YXJ0RGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyksXG4gICAgICBlbmRTYWxlRGF0OiBlbmREYXRlLmZvcm1hdCgnWVlZWU1NREQnKSxcbiAgICAgIHBhZ2VOdW1iZXI6IGN1cnJlbnRQYWdlLFxuICAgICAgcGFnZVNpemU6IGVLT0xPTkxpc3RQYWdlU2l6ZSxcbiAgICB9O1xuXG4gICAgaWYgKGN1cnJlbnRQYWdlID09IDEpIHtcbiAgICAgICQoJyNyZXN1bHRlS09MT05MaXN0V3JhcHBlcicpLmhpZGUoKTtcbiAgICB9XG4gICAgJCgnI2VLT0xPTkxpc3RMb2FkaW5nJykuc2hvdygpO1xuICAgICQoJyNlS09MT05MaXN0TW9yZUJ0bicpLmhpZGUoKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL09yZGVyL2VLT0xPTkxpc3QvTGlzdCcsXG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkKCcjZW1wdHlSZXN1bHRlS09MT05MaXN0JykuaGlkZSgpO1xuICAgICAgICAgICQoJyNyZXN1bHRlS09MT05MaXN0V3JhcHBlcicpLnNob3coKTtcblxuICAgICAgICAgICQuZWFjaChkYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IDEgJiYgaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAkKCcjcmVzdWx0ZUtPTE9OTGlzdFdyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICQoJyNyZXN1bHRlS09MT05MaXN0JykuaHRtbChlS09MT05MaXN0VGVtcGxhdGUoZWxlbWVudCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJCgnI3Jlc3VsdGVLT0xPTkxpc3QnKS5hcHBlbmQoZUtPTE9OTGlzdFRlbXBsYXRlKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoZGF0YS5wYWdlLnRvdGFsQ291bnQgPiBjdXJyZW50UGFnZSAqIGVLT0xPTkxpc3RQYWdlU2l6ZSkge1xuICAgICAgICAgICAgJCgnI2VLT0xPTkxpc3RNb3JlQnRuJykuc2hvdygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjZUtPTE9OTGlzdE1vcmVCdG4nKS5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJyNyZXN1bHRlS09MT05MaXN0V3JhcHBlcicpLmhpZGUoKTtcbiAgICAgICAgICAkKCcjZW1wdHlSZXN1bHRlS09MT05MaXN0Jykuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pLmFsd2F5cygoKSA9PiAkKCcjZUtPTE9OTGlzdExvYWRpbmcnKS5oaWRlKCkpO1xuICB9XG4gIGlmICgkKCcjcmVzdWx0ZUtPTE9OTGlzdFdyYXBwZXInKS5sZW5ndGggPiAwKSB7XG4gICAgZUtPTE9OTGlzdFRlbXBsYXRlID0gSGFuZGxlYmFycy50ZW1wbGF0ZXNbJ21vYmlsZS9wcmVjb21waWxlcy9vcmRlci9la29sb25saXN0LWl0ZW0nXTtcbiAgICBnZXRlS09MT05MaXN0KCk7XG4gIH1cblxuICAkKCcjZUtPTE9OTGlzdFBlcmlvZEJ0bnMgPiBsaSA+IGEnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkKCcjZUtPTE9OTGlzdFBlcmlvZEJ0bnMgPiBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHNlYXJjaFBlcmlvZERheXMgPSAkdGhpcy5kYXRhKCdzZWFyY2hQZXJpb2QnKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnb24nKTtcblxuICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICBnZXRlS09MT05MaXN0KCk7XG4gIH0pO1xuXG4gICQoJyNlS09MT05MaXN0TW9yZUJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGN1cnJlbnRQYWdlKys7XG4gICAgZ2V0ZUtPTE9OTGlzdCgpO1xuICB9KTtcblxuICAkKCcjcmVzdWx0ZUtPTE9OTGlzdCcpLm9uKCdjbGljaycsICd1bCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHByb2R1Y3RDb2RlID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3Byb2R1Y3RDb2RlJyk7XG4gICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAkcHQubmF2aWdhdGlvbi5wdXNoKHsgdXJsOiBgL1Byb2R1Y3QvJHtwcm9kdWN0Q29kZX1gIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5ocmVmID0gYC9Qcm9kdWN0LyR7cHJvZHVjdENvZGV9YDtcbiAgICB9XG4gIH0pO1xuICAvKiogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBbRU5EXSDrp4jsnbTtjpjsnbTsp4AgLSBlS09MT05M6rWs66ek64K07JetXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICQoJyNzZWxlY3RBbGxPcmRlckl0ZW1DaGVja2JveCcpLmNsaWNrKChlKSA9PiB7XG4gICAgJCgnLm9yZGVySXRlbUNoZWNrYm94Om5vdCg6ZGlzYWJsZWQpJykucHJvcCgnY2hlY2tlZCcsICQoZS5jdXJyZW50VGFyZ2V0KS5pcygnOmNoZWNrZWQnKSkudHJpZ2dlcignY2hhbmdlJyk7XG4gIH0pO1xuXG4gICQoJyNkYXRlcGlja2VyU2VuZCcpLmRhdGVwaWNrZXIoe1xuICAgIGlubGluZTogdHJ1ZSxcbiAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXG4gICAgc2hvd01vbnRoQWZ0ZXJZZWFyOiB0cnVlLFxuICAgIGRhdGVGb3JtYXQ6ICd5eS5tbS5kZCcsXG4gICAgeWVhclN1ZmZpeDogJy4nLFxuICAgIG1vbnRoTmFtZXM6IFsnMDEnLCAnMDInLCAnMDMnLCAnMDQnLCAnMDUnLCAnMDYnLCAnMDcnLCAnMDgnLCAnMDknLCAnMTAnLCAnMTEnLCAnMTInXSxcbiAgICBkYXlOYW1lc01pbjogWyfsnbwnLCAn7JuUJywgJ+2ZlCcsICfsiJgnLCAn66qpJywgJ+q4iCcsICfthqAnXSxcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAkKCcuaGFzRGF0ZXBpY2tlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9LFxuICAgIG9uU2VsZWN0OiAoKSA9PiB7XG4gICAgICAkKCcjZGVsaXZlcnlEYXRlJykudmFsKG1vbWVudCgkKCcjZGF0ZXBpY2tlclNlbmQnKS5kYXRlcGlja2VyKCdnZXREYXRlJykpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKTtcbiAgICB9LFxuICB9KS5kYXRlcGlja2VyKCd3aWRnZXQnKS53cmFwKCc8ZGl2IGNsYXNzPVwibGwtc2tpbi1tZWxvblwiLz4nKTtcblxuICAkKCcjc2VsZWN0U2VuZERhdGUnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnI2RhdGVwaWNrZXJTZW5kJykuZGF0ZXBpY2tlcignc2hvdycpO1xuICB9KTtcblxuICAvKiogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBbU1RBUlRdIOyjvOusuCAtIOunpOyepe2UveyXhSDsg4Htkogg6rWQ7ZmY6raMXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICQoJyNwaWNrdXBUaWNrZXRMYXllclNlbmRCdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBja1JlY2VpdmVDb2RlID0gJCgnI3BpY2t1cFRpY2tldExpc3QnKS5maW5kKCdpbnB1dDpjaGVja2JveFtuYW1lPXJlY2VpdmVDb2RlXTpjaGVja2VkJyk7XG4gICAgaWYgKGNrUmVjZWl2ZUNvZGUubGVuZ3RoIDwgMSkge1xuICAgICAgYWxlcnQoJ01NU+ulvCDrsJzshqHtlaAg6rWQ7ZmY6raM7J2EIOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVjZWl2ZUNvZGUgPSBbXTtcbiAgICAkLmVhY2goY2tSZWNlaXZlQ29kZSwgKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCAkdGhpcyA9ICQoZWxlbWVudCk7XG4gICAgICByZWNlaXZlQ29kZS5wdXNoKCR0aGlzLnZhbCgpKTtcbiAgICB9KTtcbiAgICBjb25zdCBwaWNrdXBPcmRlcklkID0gJCgnI3BpY2t1cE9yZGVySWQnKS52YWwoKTtcbiAgICBjb25zdCBwaWNrdXBDZWxsUGhvbmUgPSAkKCcjcGlja3VwQ2VsbFBob25lJykudmFsKCk7XG4gICAgY29uc3QgY3NyZk5hbWUgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnY3NyZk5hbWUnKTtcbiAgICBjb25zdCBjc3JmVG9rZW4gPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnY3NyZlRva2VuJyk7XG4gICAgY29uc3QgcGlja3VwVGlja2V0TGF5ZXJTZW5kQnRuTGFkZGEgPSBMYWRkYS5jcmVhdGUoJCgnI3BpY2t1cFRpY2tldExheWVyU2VuZEJ0bicpWzBdKTtcbiAgICBwaWNrdXBUaWNrZXRMYXllclNlbmRCdG5MYWRkYS5zdGFydCgpO1xuICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgIHBhcmFtcy5wdXNoKHsgbmFtZTogY3NyZk5hbWUsIHZhbHVlOiBjc3JmVG9rZW4gfSk7XG4gICAgcGFyYW1zLnB1c2goeyBuYW1lOiAncmVjZWl2ZUNvZGUnLCB2YWx1ZTogcmVjZWl2ZUNvZGUgfSk7XG4gICAgcGFyYW1zLnB1c2goeyBuYW1lOiAnY2VsbFBob25lJywgdmFsdWU6IHBpY2t1cENlbGxQaG9uZSB9KTtcbiAgICBwYXJhbXMucHVzaCh7IG5hbWU6ICdvcmRlcklkJywgdmFsdWU6IHBpY2t1cE9yZGVySWQgfSk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9PcmRlci9QaWNrdXBUaWNrZXQvU2VuZCcsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHBhcmFtcyxcbiAgICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICBwaWNrdXBUaWNrZXRMYXllclNlbmRCdG5MYWRkYS5zdG9wKCk7XG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgYWxlcnQoJ+uwnOyGoeuQmOyXiOyKteuLiOuLpC4nKTtcbiAgICAgICAgICBoaXN0b3J5LmdvKC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IChkYXRhKSA9PiB7XG4gICAgICAgIHBpY2t1cFRpY2tldExheWVyU2VuZEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgYWxlcnQoZGF0YS5yZXNwb25zZUpTT04ubWVzc2FnZSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcblxuICAvKiogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBbRU5EXSDso7zrrLggLSDrp6TsnqXtlL3sl4Ug7IOB7ZKIIOq1kO2ZmOq2jFxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFnQkE7QUFDQTs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJDQTtBQXNDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0JBO0FBNEJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFtQkE7QUFDQTtBQUNBOzs7QUFHQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///158\n");

/***/ }),
/* 159 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _swiper = __webpack_require__(12);\n\nvar _swiper2 = _interopRequireDefault(_swiper);\n\nvar _jsCookie = __webpack_require__(14);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Order:load', function () {\n  $('#searchKeySelect').change(function (e) {\n    var $this = $(e.currentTarget);\n    var msg = \"입력해주세요.\";\n    if ($this.val() === 'code') {\n      msg = \"상품코드를 입력해 주세요.\";\n    } else if ($this.val() === 'name') {\n      msg = \"상품명을 입력해 주세요.\";\n    }\n    $('#searchWordInput').attr(\"placeholder\", msg);\n  });\n  $('.order-prod .more').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$('.order-prod ul').hasClass('on')) {\n      $this.addClass('on');\n      $('.order-prod ul').addClass('on');\n    } else {\n      $this.removeClass('on');\n      $('.order-prod ul').removeClass('on');\n    }\n    return false;\n  });\n  $('.gift .more').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$('.gift').hasClass('on')) {\n      $this.addClass('on');\n      $('.gift').addClass('on');\n    } else {\n      $this.removeClass('on');\n      $('.gift').removeClass('on');\n    }\n    return false;\n  });\n  $('.gift-choice .list>li').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.addClass('select').siblings('li').removeClass('select');\n    return false;\n  });\n  $('.tg-btn').click(function (e) {\n    var $this = $(e.currentTarget);\n    var $tgcon = $this.parent('div').next('div');\n    var deposit = $this.parent('div').parent('div');\n    if (!$this.hasClass('on')) {\n      $this.addClass('on');\n      $tgcon.addClass('on');\n      if (deposit.hasClass('deposit')) {\n        $this.next('span').css('display', 'none');\n      }\n    } else {\n      $this.removeClass('on');\n      $tgcon.removeClass('on');\n      if (deposit.hasClass('deposit')) {\n        $this.next('span').css('display', 'block');\n      }\n    }\n    return false;\n  });\n  $('.pay-tab>li').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.addClass('on').siblings('li').removeClass('on');\n    $('.pay-con>div').eq($this.index()).addClass('on').siblings('div').removeClass('on');\n    return false;\n  });\n  $('.add input').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if (($this.val() == null || $this.val() == '' || $this.val() == 'undefined') && !($this.attr('disabled') !== undefined && $this.attr('disabled') == 'disabled')) {\n      $this.next().css('display', 'none');\n    } else {\n      $this.next().css('display', 'block');\n    }\n  });\n  $('#kolon-content').on('click', '.bundle .set a', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    var parentEle = $this.parents('.bundle');\n    if (!$this.hasClass('set-open')) {\n      $this.addClass('set-open');\n      parentEle.find('.set-prod').show();\n    } else {\n      $this.removeClass('set-open');\n      parentEle.find('.set-prod').hide();\n    }\n    return false;\n  });\n  $('#deliveryStatus').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.toggleClass('tg');\n    $('#rmaOrderForm .add ').toggle();\n    $this.trigger('changedClass');\n  });\n  $('.cl-pickup').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.toggleClass('on');\n    return false;\n  });\n  $('.check.hs-gift').change(function () {\n    var popup = $('.popup');\n    if ($('input:checkbox[class=\"orderItemCheckbox\"]').is(':checked') == true) {\n      popup.addClass('show');\n      setTimeout(function () {\n        popup.removeClass('show');\n      }, 3000);\n    } else {\n      // console.log('off');\n    }\n  });\n  $('.orderItemCheckbox').click(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.is(':checked') == true) {\n      $this.parents('li.list').css('opacity', '1');\n    } else {\n      $this.parents('li.list').css('opacity', '.6');\n    }\n  });\n  $('#selectAllOrderItemCheckbox').click(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.is(':checked') == true) {\n      $('.orderItemCheckbox').each(function (index, liEle) {\n        if (!$(liEle).prop('disabled')) {\n          $(liEle).parents('li.list').css('opacity', '1');\n        } else {\n          $(liEle).parents('li.list').css('opacity', '.6');\n        }\n      });\n    } else {\n      $('li.list').css('opacity', '.6');\n    }\n  });\n  if ($('.btn-set-option').length) {\n    $('.btn-set-option > a').click(function (e) {\n      var $this = $(e.currentTarget);\n      $this.toggleClass('on');\n      $this.parents('.setItem').find('.set-option-list').slideToggle('fast');\n    });\n  }\n\n  // 이거 어때 슬라이드\n  if ($('.list2-prod .swiper-slide').length) {\n    new _swiper2.default('.list2-prod', {\n      slidesPerView: 'auto',\n      loop: true,\n      centeredSlides: false,\n      // paginationClickable: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n\n  // wow 주문 안내 팝업\n  $('#wowPopupCloseBtn').click(function () {\n    $('#wowPopup').hide();\n  });\n  $('#wowPopupCloseCookieBtn').click(function () {\n    _jsCookie2.default.set('showWowCheckoutPopup', 'false', { path: '/', secure: true, expires: 1 });\n    $('#wowPopup').hide();\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuanM/Njc4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3dpcGVyIGZyb20gJ3N3aXBlcic7XG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOk9yZGVyOmxvYWQnLCAoKSA9PiB7XG4gICQoJyNzZWFyY2hLZXlTZWxlY3QnKS5jaGFuZ2UoKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBsZXQgbXNnID0gXCLsnoXroKXtlbTso7zshLjsmpQuXCI7XG4gICAgaWYoJHRoaXMudmFsKCkgPT09ICdjb2RlJykge1xuICAgICAgbXNnID0gXCLsg4HtkojsvZTrk5zrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC5cIjtcbiAgICB9IGVsc2UgaWYoJHRoaXMudmFsKCkgPT09ICduYW1lJykge1xuICAgICAgbXNnID0gXCLsg4HtkojrqoXsnYQg7J6F66Cl7ZW0IOyjvOyEuOyalC5cIlxuICAgIH1cbiAgICAkKCcjc2VhcmNoV29yZElucHV0JykuYXR0cihcInBsYWNlaG9sZGVyXCIsIG1zZyk7XG4gIH0pO1xuICAkKCcub3JkZXItcHJvZCAubW9yZScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCEkKCcub3JkZXItcHJvZCB1bCcpLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgICAgICQoJy5vcmRlci1wcm9kIHVsJykuYWRkQ2xhc3MoJ29uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgJCgnLm9yZGVyLXByb2QgdWwnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJCgnLmdpZnQgLm1vcmUnKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICghJCgnLmdpZnQnKS5oYXNDbGFzcygnb24nKSkge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAkKCcuZ2lmdCcpLmFkZENsYXNzKCdvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICQoJy5naWZ0JykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoJy5naWZ0LWNob2ljZSAubGlzdD5saScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ3NlbGVjdCcpLnNpYmxpbmdzKCdsaScpLnJlbW92ZUNsYXNzKCdzZWxlY3QnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKCcudGctYnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCAkdGdjb24gPSAkdGhpcy5wYXJlbnQoJ2RpdicpLm5leHQoJ2RpdicpO1xuICAgIGNvbnN0IGRlcG9zaXQgPSAkdGhpcy5wYXJlbnQoJ2RpdicpLnBhcmVudCgnZGl2Jyk7XG4gICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnb24nKSkge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAkdGdjb24uYWRkQ2xhc3MoJ29uJyk7XG4gICAgICBpZiAoZGVwb3NpdC5oYXNDbGFzcygnZGVwb3NpdCcpKSB7XG4gICAgICAgICR0aGlzLm5leHQoJ3NwYW4nKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICR0Z2Nvbi5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgIGlmIChkZXBvc2l0Lmhhc0NsYXNzKCdkZXBvc2l0JykpIHtcbiAgICAgICAgJHRoaXMubmV4dCgnc3BhbicpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKCcucGF5LXRhYj5saScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ29uJykuc2libGluZ3MoJ2xpJykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgJCgnLnBheS1jb24+ZGl2JykuZXEoJHRoaXMuaW5kZXgoKSkuYWRkQ2xhc3MoJ29uJykuc2libGluZ3MoJ2RpdicpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoJy5hZGQgaW5wdXQnKS5rZXl1cCgoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICgoJHRoaXMudmFsKCkgPT0gbnVsbCB8fCAkdGhpcy52YWwoKSA9PSAnJyB8fCAkdGhpcy52YWwoKSA9PSAndW5kZWZpbmVkJykgJiYgISgkdGhpcy5hdHRyKCdkaXNhYmxlZCcpICE9PSB1bmRlZmluZWQgJiYgJHRoaXMuYXR0cignZGlzYWJsZWQnKSA9PSAnZGlzYWJsZWQnKSkge1xuICAgICAgJHRoaXMubmV4dCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLm5leHQoKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICB9XG4gIH0pO1xuICAkKCcja29sb24tY29udGVudCcpLm9uKCdjbGljaycsICcuYnVuZGxlIC5zZXQgYScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHBhcmVudEVsZSA9ICR0aGlzLnBhcmVudHMoJy5idW5kbGUnKTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdzZXQtb3BlbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnc2V0LW9wZW4nKTtcbiAgICAgIHBhcmVudEVsZS5maW5kKCcuc2V0LXByb2QnKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdzZXQtb3BlbicpO1xuICAgICAgcGFyZW50RWxlLmZpbmQoJy5zZXQtcHJvZCcpLmhpZGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJCgnI2RlbGl2ZXJ5U3RhdHVzJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy50b2dnbGVDbGFzcygndGcnKTtcbiAgICAkKCcjcm1hT3JkZXJGb3JtIC5hZGQgJykudG9nZ2xlKCk7XG4gICAgJHRoaXMudHJpZ2dlcignY2hhbmdlZENsYXNzJyk7XG4gIH0pO1xuICAkKCcuY2wtcGlja3VwJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy50b2dnbGVDbGFzcygnb24nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKCcuY2hlY2suaHMtZ2lmdCcpLmNoYW5nZSgoKSA9PiB7XG4gICAgY29uc3QgcG9wdXAgPSAkKCcucG9wdXAnKTtcbiAgICBpZiAoJCgnaW5wdXQ6Y2hlY2tib3hbY2xhc3M9XCJvcmRlckl0ZW1DaGVja2JveFwiXScpLmlzKCc6Y2hlY2tlZCcpID09IHRydWUpIHtcbiAgICAgIHBvcHVwLmFkZENsYXNzKCdzaG93Jyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcG9wdXAucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICAgIH0sIDMwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnb2ZmJyk7XG4gICAgfVxuICB9KTtcbiAgJCgnLm9yZGVySXRlbUNoZWNrYm94JykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMuaXMoJzpjaGVja2VkJykgPT0gdHJ1ZSkge1xuICAgICAgJHRoaXMucGFyZW50cygnbGkubGlzdCcpLmNzcygnb3BhY2l0eScsICcxJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnBhcmVudHMoJ2xpLmxpc3QnKS5jc3MoJ29wYWNpdHknLCAnLjYnKTtcbiAgICB9XG4gIH0pO1xuICAkKCcjc2VsZWN0QWxsT3JkZXJJdGVtQ2hlY2tib3gnKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICgkdGhpcy5pcygnOmNoZWNrZWQnKSA9PSB0cnVlKSB7XG4gICAgICAkKCcub3JkZXJJdGVtQ2hlY2tib3gnKS5lYWNoKChpbmRleCwgbGlFbGUpID0+IHtcbiAgICAgICAgaWYgKCEkKGxpRWxlKS5wcm9wKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgJChsaUVsZSkucGFyZW50cygnbGkubGlzdCcpLmNzcygnb3BhY2l0eScsICcxJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJChsaUVsZSkucGFyZW50cygnbGkubGlzdCcpLmNzcygnb3BhY2l0eScsICcuNicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnbGkubGlzdCcpLmNzcygnb3BhY2l0eScsICcuNicpO1xuICAgIH1cbiAgfSk7XG4gIGlmICgkKCcuYnRuLXNldC1vcHRpb24nKS5sZW5ndGgpIHtcbiAgICAkKCcuYnRuLXNldC1vcHRpb24gPiBhJykuY2xpY2soKGUpID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgJHRoaXMudG9nZ2xlQ2xhc3MoJ29uJyk7XG4gICAgICAkdGhpcy5wYXJlbnRzKCcuc2V0SXRlbScpLmZpbmQoJy5zZXQtb3B0aW9uLWxpc3QnKS5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g7J206rGwIOyWtOuVjCDsiqzrnbzsnbTrk5xcbiAgaWYgKCQoJy5saXN0Mi1wcm9kIC5zd2lwZXItc2xpZGUnKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcubGlzdDItcHJvZCcsIHtcbiAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICAvLyBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgcGFnaW5hdGlvbjogJy5zY3ItcHJvZC1wYWdpbmF0aW9uJyxcbiAgICAgIHBhZ2luYXRpb25UeXBlOiAncHJvZ3Jlc3MnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gd293IOyjvOusuCDslYjrgrQg7Yyd7JeFXG4gICQoJyN3b3dQb3B1cENsb3NlQnRuJykuY2xpY2soKCkgPT4ge1xuICAgICQoJyN3b3dQb3B1cCcpLmhpZGUoKTtcbiAgfSk7XG4gICQoJyN3b3dQb3B1cENsb3NlQ29va2llQnRuJykuY2xpY2soKCkgPT4ge1xuICAgIENvb2tpZXMuc2V0KCdzaG93V293Q2hlY2tvdXRQb3B1cCcsICdmYWxzZScsIHsgcGF0aDogJy8nLCBzZWN1cmU6IHRydWUsIGV4cGlyZXM6IDEgfSk7XG4gICAgJCgnI3dvd1BvcHVwJykuaGlkZSgpO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvT3JkZXIuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///159\n");

/***/ }),
/* 160 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _Point = __webpack_require__(69);\n\n$(document).on('mobile:Point:load', function () {\n  (0, _Point.commonPointList)('mobile');\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUG9pbnQuYWN0aW9uLmpzPzZkNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tbW9uUG9pbnRMaXN0IH0gZnJvbSAnLi4vY29tbW9uL1BvaW50LmFjdGlvbic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6UG9pbnQ6bG9hZCcsICgpID0+IHtcbiAgY29tbW9uUG9pbnRMaXN0KCdtb2JpbGUnKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUG9pbnQuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///160\n");

/***/ }),
/* 161 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Point:load', function () {\n  $('.star-rating a').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.parent().children('a').removeClass('on');\n    $this.addClass('on').prevAll('a').addClass('on');\n    return false;\n  });\n  $('.tit a.pop01').click(function () {\n    $('.wrap-pop.pop01').css('display', 'block');\n  });\n  $('.tit a.pop02').click(function () {\n    $('.wrap-pop.pop02').css('display', 'block');\n  });\n  $('.wrap-pop a').click(function () {\n    $('.wrap-pop').css('display', 'none');\n  });\n  $('.open-gud').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('on')) {\n      $this.addClass('on');\n      $('.guide').slideDown();\n    } else {\n      $this.removeClass('on');\n      $('.guide').slideUp();\n    }\n    return false;\n  });\n  $('.cls-gud').click(function () {\n    $('.guide').slideUp();\n    $('.open-gud').removeClass('on');\n    return false;\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUG9pbnQuanM/ZDBkNyJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5vbignbW9iaWxlOlBvaW50OmxvYWQnLCAoKSA9PiB7XG4gICQoJy5zdGFyLXJhdGluZyBhJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy5wYXJlbnQoKS5jaGlsZHJlbignYScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICR0aGlzLmFkZENsYXNzKCdvbicpLnByZXZBbGwoJ2EnKS5hZGRDbGFzcygnb24nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKCcudGl0IGEucG9wMDEnKS5jbGljaygoKSA9PiB7XG4gICAgJCgnLndyYXAtcG9wLnBvcDAxJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gIH0pO1xuICAkKCcudGl0IGEucG9wMDInKS5jbGljaygoKSA9PiB7XG4gICAgJCgnLndyYXAtcG9wLnBvcDAyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gIH0pO1xuICAkKCcud3JhcC1wb3AgYScpLmNsaWNrKCgpID0+IHtcbiAgICAkKCcud3JhcC1wb3AnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9KTtcbiAgJCgnLm9wZW4tZ3VkJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgICAgICQoJy5ndWlkZScpLnNsaWRlRG93bigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICQoJy5ndWlkZScpLnNsaWRlVXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJCgnLmNscy1ndWQnKS5jbGljaygoKSA9PiB7XG4gICAgJCgnLmd1aWRlJykuc2xpZGVVcCgpO1xuICAgICQoJy5vcGVuLWd1ZCcpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1BvaW50LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///161\n");

/***/ }),
/* 162 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _customHelper = __webpack_require__(70);\n\nvar _customHelper2 = _interopRequireDefault(_customHelper);\n\nvar _OverlayLoader = __webpack_require__(5);\n\nvar _OverlayLoader2 = _interopRequireDefault(_OverlayLoader);\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _ga = __webpack_require__(29);\n\nvar _ga2 = _interopRequireDefault(_ga);\n\nvar _AceCounter = __webpack_require__(17);\n\nvar _AceCounter2 = _interopRequireDefault(_AceCounter);\n\nvar _fb = __webpack_require__(30);\n\nvar _fb2 = _interopRequireDefault(_fb);\n\nvar _CartCount = __webpack_require__(16);\n\nvar _CartCount2 = _interopRequireDefault(_CartCount);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar overlayLoader = new _OverlayLoader2.default();\n\n\n/* eslint no-underscore-dangle: \"off\" */\n$(document).on('mobile:Product:load', function () {\n  var _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING = ''; //매장픽업 시 사용하는 코드\n  var _SELECTED_SIZE_PRODUCT_CODE_STRING = ''; //관심상품 체크 시 사용하는 코드\n  var _CLICKED_BUTTON_WHEN_MTM = '';\n  //MTM 전용 상품일 때 로직\n  if ($('#mtmProduct').val() === 'true') {\n    _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING = $('input[name=mtmProductSizeCode]').eq(0).val();\n  }\n\n  function initPickUpStoreDays(name) {\n    var pickUpStoreDays = [];\n    var pickUpStoreDaySelector = $('#pickUpStoreDaySelector');\n    var pickUpStoreHourSelector = $('#pickUpStoreHourSelector');\n    if (name !== undefined && name !== '') {\n      pickUpStoreDays = JSON.parse(pickUpStoreDaySelector.data('pickup-store-days'));\n      if (pickUpStoreDays) {\n        pickUpStoreDays = pickUpStoreDays.filter(function (pickup) {\n          return pickup.name == name;\n        });\n      }\n      var html = '<option value=\"\">방문일선택</option>';\n      for (var i = 0; i < pickUpStoreDays.length; i++) {\n        var pickUpStoreDay = pickUpStoreDays[i];\n        html += '<option value=\"' + pickUpStoreDay.formattedDate + '\">' + pickUpStoreDay.formattedDate + '</option>';\n      }\n      pickUpStoreDaySelector.html(html);\n    } else {\n      $('#displayName').text('');\n      $('#address').text('');\n      $('#phone').text('');\n      $('#openCloseTime').text('');\n      //방문일 초기화\n      pickUpStoreDaySelector.html('<option value=\"\">방문일선택</option>');\n    }\n\n    //방문시간 초기화\n    pickUpStoreHourSelector.html('<option value=\"\">방문시간선택</option>');\n  }\n\n  $('.size-item').click(function (e) {\n    e.preventDefault();\n    var selectedSize = $(e.currentTarget);\n\n    if (selectedSize.hasClass('size-x')) {\n      alert('해당 사이즈 상품은 품절입니다');\n      return;\n    }\n\n    var productCode = $('#productCode').val();\n    var legacySizeCode = selectedSize.data('legacy-size-code');\n    var sizeProductCode = selectedSize.data('size-product-code');\n    selectedSize.parent().data('selected-legacy-size-product-code', productCode + \"-\" + legacySizeCode);\n    selectedSize.parent().data('selected-size-product-code', sizeProductCode);\n\n    var selectedLegacySizeProductCodes = [];\n    var selectedSizeProductCodes = [];\n    $('.selected-size-code').each(function (index, element) {\n      //매장픽업 시 사용할 코드 정보\n      if ($(element).data('selected-legacy-size-product-code') !== undefined && $(element).data('selected-legacy-size-product-code') !== null && $(element).data('selected-legacy-size-product-code') !== '') {\n        selectedLegacySizeProductCodes.push($(element).data('selected-legacy-size-product-code'));\n      }\n\n      if ($(element).data('selected-size-product-code') !== undefined && $(element).data('selected-size-product-code') !== null && $(element).data('selected-size-product-code') !== '') {\n        selectedSizeProductCodes.push($(element).data('selected-size-product-code'));\n      }\n    });\n\n    // 같은 사이즈의 경우 매장픽업 정보 및 관심상품여부 조회 안함.\n    var oldSelectedLegacySizeProductCodesString = _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING;\n    var oldSelectedSizeProductCodesString = _SELECTED_SIZE_PRODUCT_CODE_STRING;\n    selectedLegacySizeProductCodes.sort();\n    selectedSizeProductCodes.sort();\n\n    var selectedLegacySizeProductCodesString = selectedLegacySizeProductCodes.join();\n    if (oldSelectedLegacySizeProductCodesString !== selectedLegacySizeProductCodesString) {\n      _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING = selectedLegacySizeProductCodesString;\n      // 사이즈 변경시마다 매장픽업 정보 조회\n      if ($('#availableForPickup').val() === 'true') {\n        pickupStoreInformation(\"00\");\n      }\n    }\n\n    var selectedSizeProductCodesString = selectedSizeProductCodes.join();\n    if (oldSelectedSizeProductCodesString === selectedSizeProductCodesString) {\n      return;\n    }\n    _SELECTED_SIZE_PRODUCT_CODE_STRING = selectedSizeProductCodesString;\n\n    // 사이즈 모두 선택하지 않은 경우\n    if ($('.selected-size-code').length > selectedSizeProductCodes.length) {\n      return;\n    }\n\n    // 관심 상품 여부 조회\n    var isAuthenticated = $('#isAuthenticated').val();\n    if (isAuthenticated === 'true') {\n      var productCodesString = selectedSizeProductCodesString;\n      var requestParams = 'productCodes=' + productCodesString;\n      if ($('#saleProductType').val() === 'SET') {\n        var setProductCode = $('#productCode').val();\n        requestParams += '&setProductCode=' + setProductCode;\n      }\n\n      $.ajax({\n        url: '/WishList/IsWishProduct?' + requestParams,\n        type: 'GET',\n        success: function success(data) {\n          var addToWishlistBtn = $('#addToWishlistBtn');\n          if (data.isWishProduct) {\n            var ids = data.ids.join();\n            addToWishlistBtn.addClass('on');\n            addToWishlistBtn.data('ids', ids);\n          } else {\n            addToWishlistBtn.removeClass('on');\n            addToWishlistBtn.removeData('ids');\n          }\n        },\n        complete: function complete() {},\n        error: function error() {}\n      });\n    }\n    $('#deliveryButton').trigger('click');\n  });\n\n  $('#deliveryButton').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.addClass('on').siblings('a').removeClass('on');\n\n    $('.prod-detail-main .etc-box .tab-conts>div').slideUp().removeClass('on');\n  });\n\n  $('#pickUpStoreButton').click(function (e) {\n    var $this = $(e.currentTarget);\n\n    var isAuthenticated = $('#isAuthenticated').val();\n    if (isAuthenticated === 'false') {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      if ($pt.isApp()) {\n        var pushOption = {\n          \"method\": \"GET\",\n          \"title\": \"로그인\",\n          \"animation\": \"NONE\",\n          \"navigationBarType\": \"CLOSE_BTN_ONLY\",\n          \"topBgColor\": \"#FFFFFF\",\n          \"bodyBgColor\": \"#FFFFFF\",\n          \"url\": \"/Login\"\n        };\n        // 현재 창 닫고 밑에 창에서 새로 로그인창을 띄우게 수정함\n        location.href = 'ptapp://navigation/push?param=' + encodeURIComponent(JSON.stringify(pushOption));\n      } else {\n        location.href = '/Login?returnUrl=' + encodeURIComponent('/Product/' + $('#productCode').val());\n      }\n      return;\n    }\n\n    var selectedLegacySizeProductCodesString = _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING;\n    // 사이즈 모두 선택하지 않은 경우\n    if (selectedLegacySizeProductCodesString === '' || $('.selected-size-code').length > selectedLegacySizeProductCodesString.split(',').length) {\n      alert('사이즈를 선택하여 주세요.');\n      //사이즈 선택 element로 스크롤 이동\n      focusElement('.option-box');\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    var quantity = $('#quantity').text();\n    if (parseInt(quantity, 10) === 0) {\n      alert('수량을 확인해주세요.');\n      focusElement('.option-box');\n\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    var pickUpStoreLength = $('#pickUpStoreSelector').find('option').length;\n    if (pickUpStoreLength < 2) {\n      alert('죄송합니다. 현재 픽업 가능한 매장이 없습니다. 일반 택배 배송을 이용해 주시면 감사하겠습니다.');\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    //MTM 전용 상품일 때 로직\n    if ($('#mtmProduct').val() === 'true') {\n      pickupStoreInformation(\"00\");\n      $('#pickUpStoreDaySelector').hide();\n      $('#pickUpStoreHourSelector').hide();\n    }\n    $this.addClass('on').siblings('a').removeClass('on');\n    var idx = $this.index();\n    $('.prod-detail-main .etc-box .tab-conts>div').eq(idx - 1).addClass('on').slideDown().siblings('div').removeClass('on');\n  });\n\n  $('#pickUpStoreSelector').change(function (e) {\n    if ($(e.currentTarget).val() === '') {\n      initPickUpStoreDays('');\n    } else {\n      var pointOfService = JSON.parse($(e.currentTarget).val());\n      $('#displayName').text(pointOfService.displayName);\n      $('#address').text(pointOfService.address.formattedAddress);\n      $('#phone').text('\\uC804\\uD654\\uBC88\\uD638 : ' + _customHelper2.default.to_formatted_phonenumber(pointOfService.address.phone));\n      $('#openCloseTime').text('\\uC601\\uC5C5\\uC2DC\\uAC04 : ' + pointOfService.openTime + '~' + pointOfService.closeTime);\n      initPickUpStoreDays(pointOfService.name);\n    }\n  });\n\n  $('#pickUpStoreDaySelector').change(function (e) {\n    var selectedIndex = $(e.currentTarget).find(':selected').index();\n    if (selectedIndex === 0) {\n      $('#pickUpStoreHourSelector').html('<option value=\"\">방문시간선택</option>');\n    } else {\n      var pickupStoreDays = JSON.parse($(e.currentTarget).data('pickup-store-days'));\n      var pickupStoreDay = pickupStoreDays[selectedIndex - 1];\n      var html = '<option value=\"\">방문시간선택</option>';\n      for (var j = 0; j < pickupStoreDay.hours.length; j++) {\n        html += '<option value=\"' + pickupStoreDay.hours[j].hour + '\">' + pickupStoreDay.hours[j].formattedHour + '</option>';\n      }\n      $('#pickUpStoreHourSelector').html(html);\n    }\n  });\n\n  $('.coupon-item').click(function (e) {\n    e.preventDefault();\n    var parameters = { voucherId: $(e.currentTarget).data('voucher-id'), CSRFToken: $('#csrfToken').val() };\n\n    $.ajax({\n      url: '/Coupon/Download',\n      type: 'POST',\n      data: parameters,\n      success: function success() {\n        alert('쿠폰 다운로드에 성공하였습니다.');\n      },\n      complete: function complete() {},\n      error: function error(xhr) {\n        alert(xhr.responseJSON.message);\n      }\n    });\n  });\n\n  function showFavoriteAnimation() {\n    var addToWishlistBtn = $('#addToWishlistBtn');\n    addToWishlistBtn.addClass('on');\n    $('.prod-detail-main .favorite-pop').addClass('on').fadeIn('300', function () {\n      $('.prod-detail-main .favorite-pop').delay(1200).fadeOut('300');\n    });\n    $('.prod-detail-main .favorite-pop>p').eq(0).addClass('txt-on').siblings('p').removeClass('txt-on');\n  }\n\n  function hideFavoriteAnimation() {\n    var addToWishlistBtn = $('#addToWishlistBtn');\n    addToWishlistBtn.removeClass('on');\n    $('.prod-detail-main .favorite-pop').removeClass('on').fadeIn('300', function () {\n      $('.prod-detail-main .favorite-pop').delay(800).fadeOut('300');\n    });\n    $('.prod-detail-main .favorite-pop>p').eq(1).addClass('txt-on').siblings('p').removeClass('txt-on');\n  }\n\n  $('#addToWishlistBtn').click(function (e) {\n    e.preventDefault();\n\n    var isAuthenticated = $('#isAuthenticated').val();\n    if (isAuthenticated === 'false') {\n      alert('로그인이 필요합니다.');\n      e.stopImmediatePropagation();\n      return;\n    }\n\n    var selectedSizeProductCodesString = _SELECTED_SIZE_PRODUCT_CODE_STRING;\n    // 사이즈 모두 선택하지 않은 경우\n    if (selectedSizeProductCodesString === '' || $('.selected-size-code').length > selectedSizeProductCodesString.split(',').length) {\n      alert('사이즈를 선택하여 주세요.');\n      focusElement('.option-box');\n      return;\n    }\n\n    var addToWishlistBtn = $('#addToWishlistBtn');\n\n    // 단일 상품인 경우\n    if (addToWishlistBtn.hasClass('on')) {\n      // 관심 상품 삭제\n      $.ajax({\n        url: '/WishList/Delete?ids=' + addToWishlistBtn.data('ids'),\n        type: 'DELETE',\n        success: function success() {\n          hideFavoriteAnimation();\n          addToWishlistBtn.removeData('ids');\n        },\n        complete: function complete() {},\n        error: function error(xhr) {\n          alert(xhr.responseJSON.message);\n        }\n      });\n    } else {\n      var productCodesString = selectedSizeProductCodesString;\n      var requestParams = 'productCodes=' + productCodesString;\n      if ($('#saleProductType').val() === 'SET') {\n        var setProductCode = $('#productCode').val();\n        requestParams += '&setProductCode=' + setProductCode;\n      }\n\n      // 관심 상품 추가\n      $.ajax({\n        url: '/WishList/Add?' + requestParams,\n        type: 'PUT',\n        success: function success(data) {\n          showFavoriteAnimation();\n          addToWishlistBtn.data('ids', data.join());\n        },\n        complete: function complete() {},\n        error: function error(xhr) {\n          alert(xhr.responseJSON.message);\n        }\n      });\n    }\n  });\n\n  function getValidateCartData() {\n    var data = {};\n    var selectedSizeProductCodesString = _SELECTED_SIZE_PRODUCT_CODE_STRING;\n\n    // 사이즈 모두 선택하지 않은 경우\n    if (selectedSizeProductCodesString === '' || $('.selected-size-code').length > selectedSizeProductCodesString.split(',').length) {\n      alert('사이즈를 선택하여 주세요.');\n      focusElement('.option-box');\n      return null;\n    }\n\n    var quantity = $('#quantity').text();\n\n    // 매장 픽업의 경우\n    var deliveryType = $('.tab-bts a.on').data('delivery-type');\n    if (deliveryType === 2) {\n      var pickUpStoreSelector = $('#pickUpStoreSelector');\n      var pickUpStoreDaySelector = $('#pickUpStoreDaySelector');\n      var pickUpStoreHourSelector = $('#pickUpStoreHourSelector');\n\n      if (pickUpStoreSelector.val() === '') {\n        alert('매장을 선택하여 주세요.');\n        return null;\n      }\n\n      //MTM 전용 상품일 때 로직\n      if ($('#mtmProduct').val() === 'true') {\n        var pointOfService = JSON.parse(pickUpStoreSelector.val());\n        data.deliveryPointOfService = pointOfService.name;\n        data.dateOfPosReceipt = (0, _moment2.default)().add(3, 'days').format(\"YYYY-MM-DD\");\n        data.receiveTimeFrom = \"100000\";\n        data.receiveTimeTo = \"203000\";\n      } else {\n        if (pickUpStoreDaySelector.val() === '') {\n          alert('방문 희망일을 선택해주세요.');\n          return null;\n        }\n\n        if (pickUpStoreHourSelector.val() === '') {\n          alert('방문 시간을 선택해주세요.');\n          return null;\n        }\n\n        var _pointOfService = JSON.parse(pickUpStoreSelector.val());\n        data.deliveryPointOfService = _pointOfService.name;\n        data.dateOfPosReceipt = pickUpStoreDaySelector.val();\n        data.receiveTimeFrom = pickUpStoreHourSelector.val().split('~')[0];\n        data.receiveTimeTo = pickUpStoreHourSelector.val().split('~')[1];\n      }\n    }\n\n    if ($('#saleProductType').val() === 'SET') {\n      data.productCode = $('#productCode').val();\n      data.componentCodes = selectedSizeProductCodesString;\n    } else {\n      data.productCode = selectedSizeProductCodesString;\n    }\n    data.quantity = quantity;\n    data.insideTrkId = '';\n\n    return data;\n  }\n\n  $('.add-to-cart-btn').click(function (e) {\n    e.preventDefault();\n\n    var store = $('#pickUpStoreSelector').val();\n    //MTM 전용 상품일 때 로직\n    if ($('#mtmProduct').val() === 'true') {\n\n      if (store === undefined || store === null || store === '') {\n        if (_CLICKED_BUTTON_WHEN_MTM == 'addToCartBtn') {\n          alert('매장을 선택하여 주세요.');\n          e.preventDefault();\n          return;\n        } else {\n          $('#pickUpStoreButton').trigger('click');\n          e.preventDefault();\n          return;\n        }\n      }\n      _CLICKED_BUTTON_WHEN_MTM = 'addToCartBtn';\n    }\n\n    var parameters = getValidateCartData();\n    if (parameters === undefined || parameters === null) {\n      return;\n    }\n\n    overlayLoader.start();\n\n    $.ajax({\n      url: '/Cart/Add',\n      data: JSON.stringify(parameters),\n      type: 'PUT',\n      contentType: 'application/json',\n      success: function success(data) {\n        var deliveryType = $('.tab-bts a.on').data('delivery-type');\n        var confirmMessage = '';\n        if (deliveryType === 2) {\n          confirmMessage = '매장 픽업으로 주문하신 상품은 1시간 안에 결제가 진행되어야 합니다.\\n바로 장바구니로 이동하시겠습니까?';\n        } else {\n          confirmMessage = '상품이 장바구니에 추가되었습니다.\\n장바구니로 이동하시겠습니까?';\n        }\n\n        /* analytics script */\n        //google analytics\n        var gaProductFieldObject = Object.assign({}, _gaProductFieldObject);\n        gaProductFieldObject.quantity = $('#quantity').text();\n        delete gaProductFieldObject.position;\n        _ga2.default.gaAddToCart(gaProductFieldObject);\n\n        //facebook fixel\n        _fb2.default.pixelAddToCart();\n\n        //ace counter\n        _AceCounter2.default.aecAddCartItem($('#quantity').text());\n        /* analytics script END */\n\n        // move confirm\n        if (confirm(confirmMessage)) {\n          if ($pt.isApp()) {\n            $pt.navigation.modal({ url: '/Cart', title: '장바구니' });\n          } else {\n            location.href = '/Cart';\n          }\n        }\n        (0, _CartCount2.default)(data.cartCount);\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      },\n      error: function error(xhr) {\n        alert(xhr.responseJSON.message);\n      }\n    });\n  });\n\n  $('.buy-now-btn').click(function (e) {\n    e.preventDefault();\n\n    var store = $('#pickUpStoreSelector').val();\n    //MTM 전용 상품일 때 로직\n    if ($('#mtmProduct').val() === 'true') {\n\n      if (store === undefined || store === null || store === '') {\n        if (_CLICKED_BUTTON_WHEN_MTM == 'addToCartBtn') {\n          alert('매장을 선택하여 주세요.');\n          e.preventDefault();\n          return;\n        } else {\n          $('#pickUpStoreButton').trigger('click');\n          e.preventDefault();\n          return;\n        }\n      }\n      _CLICKED_BUTTON_WHEN_MTM = 'buyNowBtn';\n    }\n\n    var data = getValidateCartData();\n    if (data === null) {\n      return;\n    }\n\n    overlayLoader.start();\n    $.ajax({\n      url: '/Cart/BuyNow?CSRFToken=' + $('#csrfToken').val(),\n      data: JSON.stringify(data),\n      type: 'POST',\n      contentType: 'application/json',\n      success: function success() {\n\n        //ace counter\n        _AceCounter2.default.aecBuyNowItem($('#quantity').text());\n\n        if ($pt.isApp()) {\n          $pt.navigation.push({ url: '/Order/Checkout', title: '결제하기' });\n        } else {\n          location.href = '/Order/Checkout';\n        }\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      },\n      error: function error(xhr) {\n        alert(xhr.responseJSON.message);\n      }\n    });\n  });\n\n  $('#center-search').change(function (e) {\n    e.preventDefault();\n    var regionCode = $(e.currentTarget).val();\n    pickupStoreInformation(regionCode);\n  });\n\n  function pickupStoreInformation(regionCode) {\n    var selectedLegacySizeProductCodesString = _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING;\n    overlayLoader.start();\n\n    var productCodes = selectedLegacySizeProductCodesString.split(',');\n    var styleCodes = [];\n    var sizeCodes = [];\n\n    for (var i = 0; i < productCodes.length; i++) {\n      styleCodes.push(productCodes[i].split('-')[0]);\n      sizeCodes.push(productCodes[i].split('-')[1]);\n    }\n\n    var quantity = $('#quantity').text();\n    var parameters = {\n      productCodes: styleCodes.join(),\n      sizeCodes: sizeCodes.join(),\n      quantity: quantity,\n      regionCode: regionCode\n    };\n\n    $.ajax({\n      url: '/Product/PickupStores',\n      type: 'GET',\n      data: parameters,\n      success: function success(data) {\n        $('#center-search').val(data.selectedRegionCode);\n        var pickUpStoreSelector = $('#pickUpStoreSelector');\n        var html = '<option value=\"\">매장선택</option>';\n\n        if (regionCode != '' && data.pagedData && data.pagedData.pointOfServices && data.pagedData.pointOfServices.length > 0) {\n          var pointOfServices = data.pagedData.pointOfServices;\n          for (var _i = 0; _i < pointOfServices.length; _i++) {\n            html += '<option value=\\'' + JSON.stringify(pointOfServices[_i]) + '\\'>' + pointOfServices[_i].displayName + '</option>';\n          }\n        }\n        pickUpStoreSelector.html(html);\n\n        if (data.serializePickUpStoreDays) {\n          $('#pickUpStoreDaySelector').data('pickup-store-days', data.serializePickUpStoreDays);\n        }\n\n        initPickUpStoreDays('');\n      },\n      complete: function complete() {\n        overlayLoader.stop();\n      }\n    });\n  }\n\n  function getProdDetailRatingView(rating) {\n    var averRating = Math.floor(rating);\n    var ratingView = '';\n    for (var i = 1; i <= 5; i++) {\n      if (i <= averRating) {\n        ratingView += '<span class=on>★</span>';\n      } else {\n        ratingView += '<span>★</span>';\n      }\n    }\n    return ratingView;\n  }\n\n  var reviewProductCode = $('#productCode').val();\n  var $reviewList = $('#reviewList');\n  var reviewItemTemplate = null;\n  function getReviewList() {\n    var reviewPageNumber = 0;\n    var reviewPageSize = 5;\n    var params = {\n      pageNumber: reviewPageNumber,\n      pageSize: reviewPageSize\n    };\n    $('#reviewListLoading').show();\n    $.ajax({\n      url: '/Review/' + reviewProductCode + '/Reviews',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      cache: false,\n      success: function success(data) {\n        var dataLength = data.reviewData.results.length;\n        var totalCount = data.reviewData.page.totalCount;\n        var averageRating = $reviewList.data('averageRating');\n        var averageRatingView = getProdDetailRatingView(averageRating);\n        if (data.reviewData.results && dataLength > 0) {\n          $.each(data.reviewData.results, function (index, element) {\n            var review = element;\n            review.totalCount = totalCount;\n            review.dataLength = dataLength;\n            review.index = index + 1;\n            review.isProduct = true;\n            review.averageRating = Number(averageRating).toFixed(1);\n            review.averageRatingView = averageRatingView;\n            if (reviewPageNumber == 0 && index == 0) {\n              $reviewList.html(reviewItemTemplate(review));\n            } else {\n              $reviewList.append(reviewItemTemplate(review));\n            }\n            $reviewList.show();\n          });\n        } else {\n          if (reviewPageNumber == 0) {\n            $reviewList.hide();\n            $('#emptyReviewMsg').show();\n          }\n        }\n      }\n    }).always(function () {\n      $('#reviewListLoading').hide();\n    });\n  }\n\n  var $productReviewList = $('#productReviewList');\n  var productReviewPageNumber = 0;\n  function getReviewListAll(prodCode) {\n    var productReviewPageSize = 10;\n    var params = {\n      pageNumber: productReviewPageNumber,\n      pageSize: productReviewPageSize\n    };\n    var isEndData = false;\n    $('#productReviewMoreBtn').hide();\n    $('#productReviewListLoading').show();\n    $.ajax({\n      url: '/Review/' + prodCode + '/Reviews',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      cache: false,\n      success: function success(data) {\n        var dataLength = data.reviewData.results.length;\n        var totalCount = data.reviewData.page.totalCount;\n        if (data.reviewData.results && dataLength > 0) {\n          $.each(data.reviewData.results, function (index, element) {\n            var review = element;\n            review.totalCount = totalCount;\n            review.dataLength = dataLength;\n            review.index = index + 1;\n            review.isProduct = false;\n            if (productReviewPageNumber == 0 && index == 0) {\n              $productReviewList.html(reviewItemTemplate(review));\n            } else {\n              $productReviewList.append(reviewItemTemplate(review));\n            }\n            $productReviewList.show();\n            var pNumber = data.reviewData.page.currentPage + 1;\n            if (totalCount <= pNumber * productReviewPageSize) {\n              isEndData = true;\n            }\n          });\n        } else {\n          if (productReviewPageNumber == 0) {\n            $productReviewList.hide();\n            $('#emptyProductReviewMsg').show();\n          }\n          isEndData = true;\n        }\n      }\n    }).always(function () {\n      $('#productReviewListLoading').hide();\n\n      if (isEndData) {\n        $('#productReviewMoreBtn').hide();\n      } else {\n        $('#productReviewMoreBtn').show();\n      }\n    });\n  }\n\n  function removeReview(commentSeq, pCode, isProd) {\n    var confirmResult = confirm('삭제하시겠습니까?');\n    if (confirmResult) {\n      $.ajax({\n        url: '/Review/' + pCode + '/Remove?commentSeq=' + commentSeq,\n        type: 'DELETE',\n        success: function success(data) {\n          if (data.status == 'ok') {\n            if (isProd) {\n              productReviewPageNumber = 0;\n              getReviewListAll(pCode);\n            } else {\n              getReviewList();\n            }\n          } else {\n            alert(data.message);\n          }\n        },\n        error: function error(data) {\n          alert(data.responseJSON.message);\n        }\n      });\n    }\n  }\n\n  if ($reviewList.length) {\n    reviewItemTemplate = Handlebars.templates['mobile/precompiles/product/reviews-item'];\n    $reviewList.on('click', '.wrap-list .list', function (e) {\n      e.preventDefault();\n\n      var $this = $(e.currentTarget);\n      if (!$this.hasClass('on')) {\n        $this.addClass('on');\n        $('rv-contents').slideDown();\n      } else {\n        $this.removeClass('on');\n      }\n    });\n\n    $reviewList.on('click', '.wrap-list .list a', function (e) {\n      e.stopPropagation();\n\n      var $this = $(e.currentTarget);\n      var commentSeq = $this.data('commentSeq');\n      removeReview(commentSeq, reviewProductCode, false);\n    });\n  }\n\n  if (reviewProductCode) {\n    getReviewList();\n  }\n\n  if ($productReviewList.length > 0) {\n    reviewItemTemplate = Handlebars.templates['mobile/precompiles/product/reviews-item'];\n    var prodCode = $productReviewList.data('productCode');\n    if (prodCode.length > 0) {\n      getReviewListAll(prodCode);\n    }\n\n    $('#productReviewMoreBtn').click(function (e) {\n      e.preventDefault();\n      productReviewPageNumber++;\n      getReviewListAll(prodCode);\n    });\n\n    $productReviewList.on('click', '.wrap-list .list', function (e) {\n      e.preventDefault();\n\n      var $this = $(e.currentTarget);\n      if (!$this.hasClass('on')) {\n        $this.addClass('on');\n        $('rv-contents').slideDown();\n      } else {\n        $this.removeClass('on');\n      }\n    });\n\n    $productReviewList.on('click', '.wrap-list .list a', function (e) {\n      e.stopPropagation();\n\n      var $this = $(e.currentTarget);\n      var commentSeq = $this.data('commentSeq');\n      removeReview(commentSeq, prodCode, true);\n    });\n  }\n\n  function focusElement(element) {\n    var scrollPosition = $(element).offset().top;\n    $(\"body\").animate({\n      scrollTop: scrollPosition\n    }, 500);\n  }\n\n  function setFooterSlideProducts() {\n    var productCode = $('#productCode').val();\n    try {\n      var footerSlideTemplate = Handlebars.templates['mobile/precompiles/product/product-detail-footer-slide'];\n      if (footerSlideTemplate !== undefined) {\n        $.ajax({\n          url: '/Product/Bigdata?productCode=' + productCode + '&perPage=18',\n          method: 'GET',\n          success: function success(data) {\n            if (data.mostViewProducts && data.mostViewProducts.length > 0) {\n              var products = sliceProducts(data.mostViewProducts);\n              $('#footer_slide_area').append(footerSlideTemplate({ 'products': products, 'title': '다른 고객이 함께 본 상품' }));\n            }\n            if (data.matchingProducts && data.matchingProducts.length > 0) {\n              var _products = sliceProducts(data.matchingProducts);\n              $('#footer_slide_area').append(footerSlideTemplate({ 'products': _products, 'title': '이 상품과 어울리는 상품' }));\n            }\n\n            new Swiper('.list-wrap', {\n              slidesPerView: 1,\n              direction: 'horizontal',\n              centeredSlides: true,\n              paginationClickable: true,\n              spaceBetween: 0,\n              loop: true,\n              pagination: '.scr-prod-pagination',\n              paginationType: 'progress'\n            });\n          }\n        });\n      }\n    } catch (e) {}\n  }\n\n  function sliceProducts(products) {\n    var viewPerPages = 6;\n    var productCount = products.length;\n    var totalPages = parseInt((productCount + (viewPerPages - 1)) / viewPerPages);\n    var sliceProducts = [];\n\n    for (var i = 0; i < totalPages; i++) {\n      var start = 0;\n      var end = 0;\n      if (i > 0) {\n        start = i * viewPerPages;\n      }\n      end = start + viewPerPages;\n      if (end > productCount) {\n        end = productCount;\n      }\n      sliceProducts.push(products.slice(start, end));\n    }\n    return sliceProducts;\n  }\n\n  //MTM 전용 상품일 때 로직\n  if ($('#mtmProduct').val() === 'true') {\n    _SELECTED_LEGACY_SIZE_PRODUCT_CODE_STRING = $('input[name=mtmProductSizeCode]').eq(0).val();\n    _SELECTED_SIZE_PRODUCT_CODE_STRING = $('input[name=mtmProductCode]').eq(0).val();\n    pickupStoreInformation(\"00\");\n    $('#center-search').prop('disabled', 'disabled');\n    //$('.prod-detail-main .etc-box .tab-conts>div').eq(0).addClass('on').slideDown().siblings('div').removeClass('on');\n  }\n\n  setFooterSlideProducts();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUHJvZHVjdC5hY3Rpb24uanM/YjM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaGVscGVyIGZyb20gJy4uL2NvbW1vbi9oYW5kbGViYXJzL2N1c3RvbS1oZWxwZXInO1xuaW1wb3J0IE92ZXJsYXlMb2FkZXIgZnJvbSAnLi4vY29tbW9uL092ZXJsYXlMb2FkZXInO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IEdBIGZyb20gJy4uL2NvbW1vbi9nYS5qcyc7XG5pbXBvcnQgQUVDIGZyb20gJy4vQWNlQ291bnRlci5qcyc7XG5pbXBvcnQgRkIgZnJvbSAnLi4vY29tbW9uL2ZiLmpzJztcblxuY29uc3Qgb3ZlcmxheUxvYWRlciA9IG5ldyBPdmVybGF5TG9hZGVyKCk7XG5pbXBvcnQgdXBkYXRlQ2FydENvdW50IGZyb20gJy4uL2NvbW1vbi9DYXJ0Q291bnQnO1xuXG4vKiBlc2xpbnQgbm8tdW5kZXJzY29yZS1kYW5nbGU6IFwib2ZmXCIgKi9cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6UHJvZHVjdDpsb2FkJywgKCkgPT4ge1xuICBsZXQgX1NFTEVDVEVEX0xFR0FDWV9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkcgPSAnJzsgLy/rp6TsnqXtlL3sl4Ug7IucIOyCrOyaqe2VmOuKlCDsvZTrk5xcbiAgbGV0IF9TRUxFQ1RFRF9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkcgPSAnJzsgLy/qtIDsi6zsg4Htkogg7LK07YGsIOyLnCDsgqzsmqntlZjripQg7L2U65OcXG4gIGxldCBfQ0xJQ0tFRF9CVVRUT05fV0hFTl9NVE0gPSAnJztcbiAgLy9NVE0g7KCE7JqpIOyDge2SiOydvCDrlYwg66Gc7KeBXG4gIGlmKCQoJyNtdG1Qcm9kdWN0JykudmFsKCkgPT09ICd0cnVlJykge1xuICAgIF9TRUxFQ1RFRF9MRUdBQ1lfU0laRV9QUk9EVUNUX0NPREVfU1RSSU5HID0gJCgnaW5wdXRbbmFtZT1tdG1Qcm9kdWN0U2l6ZUNvZGVdJykuZXEoMCkudmFsKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0UGlja1VwU3RvcmVEYXlzKG5hbWUpIHtcbiAgICBsZXQgcGlja1VwU3RvcmVEYXlzID0gW107XG4gICAgY29uc3QgcGlja1VwU3RvcmVEYXlTZWxlY3RvciA9ICQoJyNwaWNrVXBTdG9yZURheVNlbGVjdG9yJyk7XG4gICAgY29uc3QgcGlja1VwU3RvcmVIb3VyU2VsZWN0b3IgPSAkKCcjcGlja1VwU3RvcmVIb3VyU2VsZWN0b3InKTtcbiAgICBpZihuYW1lICE9PSB1bmRlZmluZWQgJiYgbmFtZSAhPT0gJycpIHtcbiAgICAgIHBpY2tVcFN0b3JlRGF5cyA9IEpTT04ucGFyc2UocGlja1VwU3RvcmVEYXlTZWxlY3Rvci5kYXRhKCdwaWNrdXAtc3RvcmUtZGF5cycpKTtcbiAgICAgIGlmKHBpY2tVcFN0b3JlRGF5cykge1xuICAgICAgICBwaWNrVXBTdG9yZURheXMgPSBwaWNrVXBTdG9yZURheXMuZmlsdGVyKChwaWNrdXApID0+IHtcbiAgICAgICAgICByZXR1cm4gcGlja3VwLm5hbWUgPT0gbmFtZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsZXQgaHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+67Cp66y47J287ISg7YOdPC9vcHRpb24+JztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlja1VwU3RvcmVEYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBpY2tVcFN0b3JlRGF5ID0gcGlja1VwU3RvcmVEYXlzW2ldO1xuICAgICAgICBodG1sICs9IGA8b3B0aW9uIHZhbHVlPVwiJHtwaWNrVXBTdG9yZURheS5mb3JtYXR0ZWREYXRlfVwiPiR7cGlja1VwU3RvcmVEYXkuZm9ybWF0dGVkRGF0ZX08L29wdGlvbj5gO1xuICAgICAgfVxuICAgICAgcGlja1VwU3RvcmVEYXlTZWxlY3Rvci5odG1sKGh0bWwpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJyNkaXNwbGF5TmFtZScpLnRleHQoJycpO1xuICAgICAgJCgnI2FkZHJlc3MnKS50ZXh0KCcnKTtcbiAgICAgICQoJyNwaG9uZScpLnRleHQoJycpO1xuICAgICAgJCgnI29wZW5DbG9zZVRpbWUnKS50ZXh0KCcnKTtcbiAgICAgIC8v67Cp66y47J28IOy0iOq4sO2ZlFxuICAgICAgcGlja1VwU3RvcmVEYXlTZWxlY3Rvci5odG1sKCc8b3B0aW9uIHZhbHVlPVwiXCI+67Cp66y47J287ISg7YOdPC9vcHRpb24+Jyk7XG4gICAgfVxuXG4gICAgLy/rsKnrrLjsi5zqsIQg7LSI6riw7ZmUXG4gICAgcGlja1VwU3RvcmVIb3VyU2VsZWN0b3IuaHRtbCgnPG9wdGlvbiB2YWx1ZT1cIlwiPuuwqeusuOyLnOqwhOyEoO2DnTwvb3B0aW9uPicpO1xuXG4gIH1cblxuICAkKCcuc2l6ZS1pdGVtJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRTaXplID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgaWYgKHNlbGVjdGVkU2l6ZS5oYXNDbGFzcygnc2l6ZS14JykpIHtcbiAgICAgIGFsZXJ0KCftlbTri7kg7IKs7J207KaIIOyDge2SiOydgCDtkojsoIjsnoXri4jri6QnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9kdWN0Q29kZSA9ICQoJyNwcm9kdWN0Q29kZScpLnZhbCgpO1xuICAgIGNvbnN0IGxlZ2FjeVNpemVDb2RlID0gc2VsZWN0ZWRTaXplLmRhdGEoJ2xlZ2FjeS1zaXplLWNvZGUnKTtcbiAgICBjb25zdCBzaXplUHJvZHVjdENvZGUgPSBzZWxlY3RlZFNpemUuZGF0YSgnc2l6ZS1wcm9kdWN0LWNvZGUnKTtcbiAgICBzZWxlY3RlZFNpemUucGFyZW50KCkuZGF0YSgnc2VsZWN0ZWQtbGVnYWN5LXNpemUtcHJvZHVjdC1jb2RlJywgcHJvZHVjdENvZGUgKyBcIi1cIiArIGxlZ2FjeVNpemVDb2RlKTtcbiAgICBzZWxlY3RlZFNpemUucGFyZW50KCkuZGF0YSgnc2VsZWN0ZWQtc2l6ZS1wcm9kdWN0LWNvZGUnLCBzaXplUHJvZHVjdENvZGUpO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRMZWdhY3lTaXplUHJvZHVjdENvZGVzID0gW107XG4gICAgY29uc3Qgc2VsZWN0ZWRTaXplUHJvZHVjdENvZGVzID0gW107XG4gICAgJCgnLnNlbGVjdGVkLXNpemUtY29kZScpLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAvL+unpOyepe2UveyXhSDsi5wg7IKs7Jqp7ZWgIOy9lOuTnCDsoJXrs7RcbiAgICAgIGlmICgkKGVsZW1lbnQpLmRhdGEoJ3NlbGVjdGVkLWxlZ2FjeS1zaXplLXByb2R1Y3QtY29kZScpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgJChlbGVtZW50KS5kYXRhKCdzZWxlY3RlZC1sZWdhY3ktc2l6ZS1wcm9kdWN0LWNvZGUnKSAhPT0gbnVsbCAmJlxuICAgICAgICAkKGVsZW1lbnQpLmRhdGEoJ3NlbGVjdGVkLWxlZ2FjeS1zaXplLXByb2R1Y3QtY29kZScpICE9PSAnJykge1xuICAgICAgICBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXMucHVzaCgkKGVsZW1lbnQpLmRhdGEoJ3NlbGVjdGVkLWxlZ2FjeS1zaXplLXByb2R1Y3QtY29kZScpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQoZWxlbWVudCkuZGF0YSgnc2VsZWN0ZWQtc2l6ZS1wcm9kdWN0LWNvZGUnKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgJChlbGVtZW50KS5kYXRhKCdzZWxlY3RlZC1zaXplLXByb2R1Y3QtY29kZScpICE9PSBudWxsICYmXG4gICAgICAgICAgJChlbGVtZW50KS5kYXRhKCdzZWxlY3RlZC1zaXplLXByb2R1Y3QtY29kZScpICE9PSAnJykge1xuICAgICAgICBzZWxlY3RlZFNpemVQcm9kdWN0Q29kZXMucHVzaCgkKGVsZW1lbnQpLmRhdGEoJ3NlbGVjdGVkLXNpemUtcHJvZHVjdC1jb2RlJykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g6rCZ7J2AIOyCrOydtOymiOydmCDqsr3smrAg66ek7J6l7ZS97JeFIOygleuztCDrsI8g6rSA7Ius7IOB7ZKI7Jes67aAIOyhsO2ajCDslYjtlaguXG4gICAgY29uc3Qgb2xkU2VsZWN0ZWRMZWdhY3lTaXplUHJvZHVjdENvZGVzU3RyaW5nID0gX1NFTEVDVEVEX0xFR0FDWV9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkc7XG4gICAgY29uc3Qgb2xkU2VsZWN0ZWRTaXplUHJvZHVjdENvZGVzU3RyaW5nID0gX1NFTEVDVEVEX1NJWkVfUFJPRFVDVF9DT0RFX1NUUklORztcbiAgICBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXMuc29ydCgpO1xuICAgIHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlcy5zb3J0KCk7XG5cbiAgICBjb25zdCBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXNTdHJpbmcgPSBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXMuam9pbigpO1xuICAgIGlmIChvbGRTZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXNTdHJpbmcgIT09IHNlbGVjdGVkTGVnYWN5U2l6ZVByb2R1Y3RDb2Rlc1N0cmluZykge1xuICAgICAgX1NFTEVDVEVEX0xFR0FDWV9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkcgPSBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXNTdHJpbmc7XG4gICAgICAvLyDsgqzsnbTspogg67OA6rK97Iuc66eI64ukIOunpOyepe2UveyXhSDsoJXrs7Qg7KGw7ZqMXG4gICAgICBpZiAoJCgnI2F2YWlsYWJsZUZvclBpY2t1cCcpLnZhbCgpID09PSAndHJ1ZScpIHtcbiAgICAgICAgcGlja3VwU3RvcmVJbmZvcm1hdGlvbihcIjAwXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZyA9IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlcy5qb2luKCk7XG4gICAgaWYgKG9sZFNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZyA9PT0gc2VsZWN0ZWRTaXplUHJvZHVjdENvZGVzU3RyaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9TRUxFQ1RFRF9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkcgPSBzZWxlY3RlZFNpemVQcm9kdWN0Q29kZXNTdHJpbmc7XG5cbiAgICAvLyDsgqzsnbTspogg66qo65GQIOyEoO2Dne2VmOyngCDslYrsnYAg6rK97JqwXG4gICAgaWYgKCQoJy5zZWxlY3RlZC1zaXplLWNvZGUnKS5sZW5ndGggPiBzZWxlY3RlZFNpemVQcm9kdWN0Q29kZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g6rSA7IusIOyDge2SiCDsl6zrtoAg7KGw7ZqMXG4gICAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gJCgnI2lzQXV0aGVudGljYXRlZCcpLnZhbCgpO1xuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgPT09ICd0cnVlJykge1xuICAgICAgY29uc3QgcHJvZHVjdENvZGVzU3RyaW5nID0gc2VsZWN0ZWRTaXplUHJvZHVjdENvZGVzU3RyaW5nO1xuICAgICAgbGV0IHJlcXVlc3RQYXJhbXMgPSBgcHJvZHVjdENvZGVzPSR7cHJvZHVjdENvZGVzU3RyaW5nfWA7XG4gICAgICBpZiAoJCgnI3NhbGVQcm9kdWN0VHlwZScpLnZhbCgpID09PSAnU0VUJykge1xuICAgICAgICBjb25zdCBzZXRQcm9kdWN0Q29kZSA9ICQoJyNwcm9kdWN0Q29kZScpLnZhbCgpO1xuICAgICAgICByZXF1ZXN0UGFyYW1zICs9IGAmc2V0UHJvZHVjdENvZGU9JHtzZXRQcm9kdWN0Q29kZX1gO1xuICAgICAgfVxuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGAvV2lzaExpc3QvSXNXaXNoUHJvZHVjdD8ke3JlcXVlc3RQYXJhbXN9YCxcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgYWRkVG9XaXNobGlzdEJ0biA9ICQoJyNhZGRUb1dpc2hsaXN0QnRuJyk7XG4gICAgICAgICAgaWYgKGRhdGEuaXNXaXNoUHJvZHVjdCkge1xuICAgICAgICAgICAgY29uc3QgaWRzID0gZGF0YS5pZHMuam9pbigpO1xuICAgICAgICAgICAgYWRkVG9XaXNobGlzdEJ0bi5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgICAgIGFkZFRvV2lzaGxpc3RCdG4uZGF0YSgnaWRzJywgaWRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkVG9XaXNobGlzdEJ0bi5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICAgICAgIGFkZFRvV2lzaGxpc3RCdG4ucmVtb3ZlRGF0YSgnaWRzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgJCgnI2RlbGl2ZXJ5QnV0dG9uJykudHJpZ2dlcignY2xpY2snKTtcbiAgfSk7XG5cbiAgJCgnI2RlbGl2ZXJ5QnV0dG9uJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAkdGhpcy5hZGRDbGFzcygnb24nKS5zaWJsaW5ncygnYScpLnJlbW92ZUNsYXNzKCdvbicpO1xuXG4gICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmV0Yy1ib3ggLnRhYi1jb250cz5kaXYnKS5zbGlkZVVwKCkucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gIH0pO1xuXG4gICQoJyNwaWNrVXBTdG9yZUJ1dHRvbicpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSAkKCcjaXNBdXRoZW50aWNhdGVkJykudmFsKCk7XG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCA9PT0gJ2ZhbHNlJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgIGNvbnN0IHB1c2hPcHRpb24gPSB7XG4gICAgICAgICAgXCJtZXRob2RcIjpcIkdFVFwiLFxuICAgICAgICAgIFwidGl0bGVcIjpcIuuhnOq3uOyduFwiLFxuICAgICAgICAgIFwiYW5pbWF0aW9uXCI6XCJOT05FXCIsXG4gICAgICAgICAgXCJuYXZpZ2F0aW9uQmFyVHlwZVwiOlwiQ0xPU0VfQlROX09OTFlcIixcbiAgICAgICAgICBcInRvcEJnQ29sb3JcIjpcIiNGRkZGRkZcIixcbiAgICAgICAgICBcImJvZHlCZ0NvbG9yXCI6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgIFwidXJsXCI6IFwiL0xvZ2luXCJcbiAgICAgICAgfTtcbiAgICAgICAgLy8g7ZiE7J6sIOywvSDri6vqs6Ag67CR7JeQIOywveyXkOyEnCDsg4jroZwg66Gc6re47J247LC97J2EIOudhOyasOqyjCDsiJjsoJXtlahcbiAgICAgICAgbG9jYXRpb24uaHJlZj0ncHRhcHA6Ly9uYXZpZ2F0aW9uL3B1c2g/cGFyYW09JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwdXNoT3B0aW9uKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9Mb2dpbj9yZXR1cm5Vcmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCgnL1Byb2R1Y3QvJyArICQoJyNwcm9kdWN0Q29kZScpLnZhbCgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXNTdHJpbmcgPSBfU0VMRUNURURfTEVHQUNZX1NJWkVfUFJPRFVDVF9DT0RFX1NUUklORztcbiAgICAvLyDsgqzsnbTspogg66qo65GQIOyEoO2Dne2VmOyngCDslYrsnYAg6rK97JqwXG4gICAgaWYgKHNlbGVjdGVkTGVnYWN5U2l6ZVByb2R1Y3RDb2Rlc1N0cmluZyA9PT0gJycgfHwgJCgnLnNlbGVjdGVkLXNpemUtY29kZScpLmxlbmd0aCA+IHNlbGVjdGVkTGVnYWN5U2l6ZVByb2R1Y3RDb2Rlc1N0cmluZy5zcGxpdCgnLCcpLmxlbmd0aCkge1xuICAgICAgYWxlcnQoJ+yCrOydtOymiOulvCDshKDtg53tlZjsl6wg7KO87IS47JqULicpO1xuICAgICAgLy/sgqzsnbTspogg7ISg7YOdIGVsZW1lbnTroZwg7Iqk7YGs66GkIOydtOuPmVxuICAgICAgZm9jdXNFbGVtZW50KCcub3B0aW9uLWJveCcpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBxdWFudGl0eSA9ICQoJyNxdWFudGl0eScpLnRleHQoKTtcbiAgICBpZiAocGFyc2VJbnQocXVhbnRpdHksIDEwKSA9PT0gMCkge1xuICAgICAgYWxlcnQoJ+yImOufieydhCDtmZXsnbjtlbTso7zshLjsmpQuJyk7XG4gICAgICBmb2N1c0VsZW1lbnQoJy5vcHRpb24tYm94Jyk7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGlja1VwU3RvcmVMZW5ndGggPSAkKCcjcGlja1VwU3RvcmVTZWxlY3RvcicpLmZpbmQoJ29wdGlvbicpLmxlbmd0aDtcbiAgICBpZiAocGlja1VwU3RvcmVMZW5ndGggPCAyKSB7XG4gICAgICBhbGVydCgn7KOE7Iah7ZWp64uI64ukLiDtmITsnqwg7ZS97JeFIOqwgOuKpe2VnCDrp6TsnqXsnbQg7JeG7Iq164uI64ukLiDsnbzrsJgg7YOd67CwIOuwsOyGoeydhCDsnbTsmqntlbQg7KO87Iuc66m0IOqwkOyCrO2VmOqyoOyKteuLiOuLpC4nKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9NVE0g7KCE7JqpIOyDge2SiOydvCDrlYwg66Gc7KeBXG4gICAgaWYoJCgnI210bVByb2R1Y3QnKS52YWwoKSA9PT0gJ3RydWUnKSB7XG4gICAgICBwaWNrdXBTdG9yZUluZm9ybWF0aW9uKFwiMDBcIik7XG4gICAgICAkKCcjcGlja1VwU3RvcmVEYXlTZWxlY3RvcicpLmhpZGUoKTtcbiAgICAgICQoJyNwaWNrVXBTdG9yZUhvdXJTZWxlY3RvcicpLmhpZGUoKTtcbiAgICB9XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ29uJykuc2libGluZ3MoJ2EnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICBjb25zdCBpZHggPSAkdGhpcy5pbmRleCgpO1xuICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5ldGMtYm94IC50YWItY29udHM+ZGl2JykuZXEoaWR4IC0gMSkuYWRkQ2xhc3MoJ29uJykuc2xpZGVEb3duKCkuc2libGluZ3MoJ2RpdicpLnJlbW92ZUNsYXNzKCdvbicpO1xuICB9KTtcblxuICAkKCcjcGlja1VwU3RvcmVTZWxlY3RvcicpLmNoYW5nZSgoZSkgPT4ge1xuICAgIGlmICgkKGUuY3VycmVudFRhcmdldCkudmFsKCkgPT09ICcnKSB7XG4gICAgICBpbml0UGlja1VwU3RvcmVEYXlzKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcG9pbnRPZlNlcnZpY2UgPSBKU09OLnBhcnNlKCQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSk7XG4gICAgICAkKCcjZGlzcGxheU5hbWUnKS50ZXh0KHBvaW50T2ZTZXJ2aWNlLmRpc3BsYXlOYW1lKTtcbiAgICAgICQoJyNhZGRyZXNzJykudGV4dChwb2ludE9mU2VydmljZS5hZGRyZXNzLmZvcm1hdHRlZEFkZHJlc3MpO1xuICAgICAgJCgnI3Bob25lJykudGV4dChg7KCE7ZmU67KI7Zi4IDogJHtoZWxwZXIudG9fZm9ybWF0dGVkX3Bob25lbnVtYmVyKHBvaW50T2ZTZXJ2aWNlLmFkZHJlc3MucGhvbmUpfWApO1xuICAgICAgJCgnI29wZW5DbG9zZVRpbWUnKS50ZXh0KGDsmIHsl4Xsi5zqsIQgOiAke3BvaW50T2ZTZXJ2aWNlLm9wZW5UaW1lfX4ke3BvaW50T2ZTZXJ2aWNlLmNsb3NlVGltZX1gKTtcbiAgICAgaW5pdFBpY2tVcFN0b3JlRGF5cyhwb2ludE9mU2VydmljZS5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNwaWNrVXBTdG9yZURheVNlbGVjdG9yJykuY2hhbmdlKChlKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCc6c2VsZWN0ZWQnKS5pbmRleCgpO1xuICAgIGlmIChzZWxlY3RlZEluZGV4ID09PSAwKSB7XG4gICAgICAkKCcjcGlja1VwU3RvcmVIb3VyU2VsZWN0b3InKS5odG1sKCc8b3B0aW9uIHZhbHVlPVwiXCI+67Cp66y47Iuc6rCE7ISg7YOdPC9vcHRpb24+Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBpY2t1cFN0b3JlRGF5cyA9IEpTT04ucGFyc2UoJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3BpY2t1cC1zdG9yZS1kYXlzJykpO1xuICAgICAgY29uc3QgcGlja3VwU3RvcmVEYXkgPSBwaWNrdXBTdG9yZURheXNbc2VsZWN0ZWRJbmRleCAtIDFdO1xuICAgICAgbGV0IGh0bWwgPSAnPG9wdGlvbiB2YWx1ZT1cIlwiPuuwqeusuOyLnOqwhOyEoO2DnTwvb3B0aW9uPic7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBpY2t1cFN0b3JlRGF5LmhvdXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGh0bWwgKz0gYDxvcHRpb24gdmFsdWU9XCIke3BpY2t1cFN0b3JlRGF5LmhvdXJzW2pdLmhvdXJ9XCI+JHtwaWNrdXBTdG9yZURheS5ob3Vyc1tqXS5mb3JtYXR0ZWRIb3VyfTwvb3B0aW9uPmA7XG4gICAgICB9XG4gICAgICAkKCcjcGlja1VwU3RvcmVIb3VyU2VsZWN0b3InKS5odG1sKGh0bWwpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLmNvdXBvbi1pdGVtJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IHsgdm91Y2hlcklkOiAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgndm91Y2hlci1pZCcpLCBDU1JGVG9rZW46ICQoJyNjc3JmVG9rZW4nKS52YWwoKSB9O1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9Db3Vwb24vRG93bmxvYWQnLFxuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgZGF0YTogcGFyYW1ldGVycyxcbiAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgYWxlcnQoJ+y/oO2PsCDri6TsmrTroZzrk5zsl5Ag7ISx6rO17ZWY7JiA7Iq164uI64ukLicpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG5cbiAgICAgIH0sXG4gICAgICBlcnJvcjogKHhocikgPT4ge1xuICAgICAgICBhbGVydCh4aHIucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2hvd0Zhdm9yaXRlQW5pbWF0aW9uKCkge1xuICAgIGNvbnN0IGFkZFRvV2lzaGxpc3RCdG4gPSAkKCcjYWRkVG9XaXNobGlzdEJ0bicpO1xuICAgIGFkZFRvV2lzaGxpc3RCdG4uYWRkQ2xhc3MoJ29uJyk7XG4gICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmZhdm9yaXRlLXBvcCcpLmFkZENsYXNzKCdvbicpLmZhZGVJbignMzAwJywgKCkgPT4ge1xuICAgICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmZhdm9yaXRlLXBvcCcpLmRlbGF5KDEyMDApLmZhZGVPdXQoJzMwMCcpO1xuICAgIH0pO1xuICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3A+cCcpLmVxKDApLmFkZENsYXNzKCd0eHQtb24nKS5zaWJsaW5ncygncCcpLnJlbW92ZUNsYXNzKCd0eHQtb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVGYXZvcml0ZUFuaW1hdGlvbigpIHtcbiAgICBjb25zdCBhZGRUb1dpc2hsaXN0QnRuID0gJCgnI2FkZFRvV2lzaGxpc3RCdG4nKTtcbiAgICBhZGRUb1dpc2hsaXN0QnRuLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3AnKS5yZW1vdmVDbGFzcygnb24nKS5mYWRlSW4oJzMwMCcsICgpID0+IHtcbiAgICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3AnKS5kZWxheSg4MDApLmZhZGVPdXQoJzMwMCcpO1xuICAgIH0pO1xuICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3A+cCcpLmVxKDEpLmFkZENsYXNzKCd0eHQtb24nKS5zaWJsaW5ncygncCcpLnJlbW92ZUNsYXNzKCd0eHQtb24nKTtcbiAgfVxuXG4gICQoJyNhZGRUb1dpc2hsaXN0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSAkKCcjaXNBdXRoZW50aWNhdGVkJykudmFsKCk7XG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCA9PT0gJ2ZhbHNlJykge1xuICAgICAgYWxlcnQoJ+uhnOq3uOyduOydtCDtlYTsmpTtlanri4jri6QuJyk7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZyA9IF9TRUxFQ1RFRF9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkc7XG4gICAgLy8g7IKs7J207KaIIOuqqOuRkCDshKDtg53tlZjsp4Ag7JWK7J2AIOqyveyasFxuICAgIGlmIChzZWxlY3RlZFNpemVQcm9kdWN0Q29kZXNTdHJpbmcgPT09ICcnIHx8ICQoJy5zZWxlY3RlZC1zaXplLWNvZGUnKS5sZW5ndGggPiBzZWxlY3RlZFNpemVQcm9kdWN0Q29kZXNTdHJpbmcuc3BsaXQoJywnKS5sZW5ndGgpIHtcbiAgICAgIGFsZXJ0KCfsgqzsnbTspojrpbwg7ISg7YOd7ZWY7JesIOyjvOyEuOyalC4nKTtcbiAgICAgIGZvY3VzRWxlbWVudCgnLm9wdGlvbi1ib3gnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhZGRUb1dpc2hsaXN0QnRuID0gJCgnI2FkZFRvV2lzaGxpc3RCdG4nKTtcblxuICAgIC8vIOuLqOydvCDsg4Htkojsnbgg6rK97JqwXG4gICAgaWYgKGFkZFRvV2lzaGxpc3RCdG4uaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgIC8vIOq0gOyLrCDsg4Htkogg7IKt7KCcXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGAvV2lzaExpc3QvRGVsZXRlP2lkcz0ke2FkZFRvV2lzaGxpc3RCdG4uZGF0YSgnaWRzJyl9YCxcbiAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgICBoaWRlRmF2b3JpdGVBbmltYXRpb24oKTtcbiAgICAgICAgICBhZGRUb1dpc2hsaXN0QnRuLnJlbW92ZURhdGEoJ2lkcycpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoeGhyKSA9PiB7XG4gICAgICAgICAgYWxlcnQoeGhyLnJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcm9kdWN0Q29kZXNTdHJpbmcgPSBzZWxlY3RlZFNpemVQcm9kdWN0Q29kZXNTdHJpbmc7XG4gICAgICBsZXQgcmVxdWVzdFBhcmFtcyA9IGBwcm9kdWN0Q29kZXM9JHtwcm9kdWN0Q29kZXNTdHJpbmd9YDtcbiAgICAgIGlmICgkKCcjc2FsZVByb2R1Y3RUeXBlJykudmFsKCkgPT09ICdTRVQnKSB7XG4gICAgICAgIGNvbnN0IHNldFByb2R1Y3RDb2RlID0gJCgnI3Byb2R1Y3RDb2RlJykudmFsKCk7XG4gICAgICAgIHJlcXVlc3RQYXJhbXMgKz0gYCZzZXRQcm9kdWN0Q29kZT0ke3NldFByb2R1Y3RDb2RlfWA7XG4gICAgICB9XG5cbiAgICAgIC8vIOq0gOyLrCDsg4Htkogg7LaU6rCAXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGAvV2lzaExpc3QvQWRkPyR7cmVxdWVzdFBhcmFtc31gLFxuICAgICAgICB0eXBlOiAnUFVUJyxcbiAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICBzaG93RmF2b3JpdGVBbmltYXRpb24oKTtcbiAgICAgICAgICBhZGRUb1dpc2hsaXN0QnRuLmRhdGEoJ2lkcycsIGRhdGEuam9pbigpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcblxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogKHhocikgPT4ge1xuICAgICAgICAgIGFsZXJ0KHhoci5yZXNwb25zZUpTT04ubWVzc2FnZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFZhbGlkYXRlQ2FydERhdGEoKSB7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIGNvbnN0IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZyA9IF9TRUxFQ1RFRF9TSVpFX1BST0RVQ1RfQ09ERV9TVFJJTkc7XG5cbiAgICAvLyDsgqzsnbTspogg66qo65GQIOyEoO2Dne2VmOyngCDslYrsnYAg6rK97JqwXG4gICAgaWYgKHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZyA9PT0gJycgfHwgJCgnLnNlbGVjdGVkLXNpemUtY29kZScpLmxlbmd0aCA+IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZy5zcGxpdCgnLCcpLmxlbmd0aCkge1xuICAgICAgYWxlcnQoJ+yCrOydtOymiOulvCDshKDtg53tlZjsl6wg7KO87IS47JqULicpO1xuICAgICAgZm9jdXNFbGVtZW50KCcub3B0aW9uLWJveCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgcXVhbnRpdHkgPSAkKCcjcXVhbnRpdHknKS50ZXh0KCk7XG5cbiAgICAvLyDrp6TsnqUg7ZS97JeF7J2YIOqyveyasFxuICAgIGNvbnN0IGRlbGl2ZXJ5VHlwZSA9ICQoJy50YWItYnRzIGEub24nKS5kYXRhKCdkZWxpdmVyeS10eXBlJyk7XG4gICAgaWYgKGRlbGl2ZXJ5VHlwZSA9PT0gMikge1xuICAgICAgY29uc3QgcGlja1VwU3RvcmVTZWxlY3RvciA9ICQoJyNwaWNrVXBTdG9yZVNlbGVjdG9yJyk7XG4gICAgICBjb25zdCBwaWNrVXBTdG9yZURheVNlbGVjdG9yID0gJCgnI3BpY2tVcFN0b3JlRGF5U2VsZWN0b3InKTtcbiAgICAgIGNvbnN0IHBpY2tVcFN0b3JlSG91clNlbGVjdG9yID0gJCgnI3BpY2tVcFN0b3JlSG91clNlbGVjdG9yJyk7XG5cbiAgICAgIGlmIChwaWNrVXBTdG9yZVNlbGVjdG9yLnZhbCgpID09PSAnJykge1xuICAgICAgICBhbGVydCgn66ek7J6l7J2EIOyEoO2Dne2VmOyXrCDso7zshLjsmpQuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvL01UTSDsoITsmqkg7IOB7ZKI7J28IOuVjCDroZzsp4FcbiAgICAgIGlmKCQoJyNtdG1Qcm9kdWN0JykudmFsKCkgPT09ICd0cnVlJykge1xuICAgICAgICBjb25zdCBwb2ludE9mU2VydmljZSA9IEpTT04ucGFyc2UocGlja1VwU3RvcmVTZWxlY3Rvci52YWwoKSk7XG4gICAgICAgIGRhdGEuZGVsaXZlcnlQb2ludE9mU2VydmljZSA9IHBvaW50T2ZTZXJ2aWNlLm5hbWU7XG4gICAgICAgIGRhdGEuZGF0ZU9mUG9zUmVjZWlwdCA9IG1vbWVudCgpLmFkZCgzLCAnZGF5cycpLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gICAgICAgIGRhdGEucmVjZWl2ZVRpbWVGcm9tID0gXCIxMDAwMDBcIjtcbiAgICAgICAgZGF0YS5yZWNlaXZlVGltZVRvID0gXCIyMDMwMDBcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwaWNrVXBTdG9yZURheVNlbGVjdG9yLnZhbCgpID09PSAnJykge1xuICAgICAgICAgIGFsZXJ0KCfrsKnrrLgg7Z2s66ed7J287J2EIOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaWNrVXBTdG9yZUhvdXJTZWxlY3Rvci52YWwoKSA9PT0gJycpIHtcbiAgICAgICAgICBhbGVydCgn67Cp66y4IOyLnOqwhOydhCDshKDtg53tlbTso7zshLjsmpQuJyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludE9mU2VydmljZSA9IEpTT04ucGFyc2UocGlja1VwU3RvcmVTZWxlY3Rvci52YWwoKSk7XG4gICAgICAgIGRhdGEuZGVsaXZlcnlQb2ludE9mU2VydmljZSA9IHBvaW50T2ZTZXJ2aWNlLm5hbWU7XG4gICAgICAgIGRhdGEuZGF0ZU9mUG9zUmVjZWlwdCA9IHBpY2tVcFN0b3JlRGF5U2VsZWN0b3IudmFsKCk7XG4gICAgICAgIGRhdGEucmVjZWl2ZVRpbWVGcm9tID0gcGlja1VwU3RvcmVIb3VyU2VsZWN0b3IudmFsKCkuc3BsaXQoJ34nKVswXTtcbiAgICAgICAgZGF0YS5yZWNlaXZlVGltZVRvID0gcGlja1VwU3RvcmVIb3VyU2VsZWN0b3IudmFsKCkuc3BsaXQoJ34nKVsxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJCgnI3NhbGVQcm9kdWN0VHlwZScpLnZhbCgpID09PSAnU0VUJykge1xuICAgICAgZGF0YS5wcm9kdWN0Q29kZSA9ICQoJyNwcm9kdWN0Q29kZScpLnZhbCgpO1xuICAgICAgZGF0YS5jb21wb25lbnRDb2RlcyA9IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YS5wcm9kdWN0Q29kZSA9IHNlbGVjdGVkU2l6ZVByb2R1Y3RDb2Rlc1N0cmluZztcbiAgICB9XG4gICAgZGF0YS5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgIGRhdGEuaW5zaWRlVHJrSWQgPSAnJztcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgJCgnLmFkZC10by1jYXJ0LWJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qgc3RvcmUgPSAkKCcjcGlja1VwU3RvcmVTZWxlY3RvcicpLnZhbCgpO1xuICAgIC8vTVRNIOyghOyaqSDsg4Htkojsnbwg65WMIOuhnOyngVxuICAgIGlmKCQoJyNtdG1Qcm9kdWN0JykudmFsKCkgPT09ICd0cnVlJykge1xuXG4gICAgICBpZihzdG9yZSA9PT0gdW5kZWZpbmVkIHx8IHN0b3JlID09PSBudWxsIHx8IHN0b3JlID09PSAnJykge1xuICAgICAgICBpZihfQ0xJQ0tFRF9CVVRUT05fV0hFTl9NVE0gPT0gJ2FkZFRvQ2FydEJ0bicpIHtcbiAgICAgICAgICBhbGVydCgn66ek7J6l7J2EIOyEoO2Dne2VmOyXrCDso7zshLjsmpQuJyk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcjcGlja1VwU3RvcmVCdXR0b24nKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIF9DTElDS0VEX0JVVFRPTl9XSEVOX01UTSA9ICdhZGRUb0NhcnRCdG4nO1xuXG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1ldGVycyA9IGdldFZhbGlkYXRlQ2FydERhdGEoKTtcbiAgICBpZiAocGFyYW1ldGVycyA9PT0gdW5kZWZpbmVkIHx8IHBhcmFtZXRlcnMgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL0NhcnQvQWRkJyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBhcmFtZXRlcnMpLFxuICAgICAgdHlwZTogJ1BVVCcsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgZGVsaXZlcnlUeXBlID0gJCgnLnRhYi1idHMgYS5vbicpLmRhdGEoJ2RlbGl2ZXJ5LXR5cGUnKTtcbiAgICAgICAgbGV0IGNvbmZpcm1NZXNzYWdlID0gJyc7XG4gICAgICAgIGlmIChkZWxpdmVyeVR5cGUgPT09IDIpIHtcbiAgICAgICAgICBjb25maXJtTWVzc2FnZSA9ICfrp6TsnqUg7ZS97JeF7Jy866GcIOyjvOusuO2VmOyLoCDsg4HtkojsnYAgMeyLnOqwhCDslYjsl5Ag6rKw7KCc6rCAIOynhO2WieuQmOyWtOyVvCDtlanri4jri6QuXFxu67CU66GcIOyepeuwlOq1rOuLiOuhnCDsnbTrj5ntlZjsi5zqsqDsirXri4jquYw/JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25maXJtTWVzc2FnZSA9ICfsg4HtkojsnbQg7J6l67CU6rWs64uI7JeQIOy2lOqwgOuQmOyXiOyKteuLiOuLpC5cXG7snqXrsJTqtazri4jroZwg7J2064+Z7ZWY7Iuc6rKg7Iq164uI6rmMPyc7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBhbmFseXRpY3Mgc2NyaXB0ICovXG4gICAgICAgIC8vZ29vZ2xlIGFuYWx5dGljc1xuICAgICAgICBjb25zdCBnYVByb2R1Y3RGaWVsZE9iamVjdCA9IE9iamVjdC5hc3NpZ24oe30sIF9nYVByb2R1Y3RGaWVsZE9iamVjdCk7XG4gICAgICAgIGdhUHJvZHVjdEZpZWxkT2JqZWN0LnF1YW50aXR5ID0gJCgnI3F1YW50aXR5JykudGV4dCgpO1xuICAgICAgICBkZWxldGUgZ2FQcm9kdWN0RmllbGRPYmplY3QucG9zaXRpb247XG4gICAgICAgIEdBLmdhQWRkVG9DYXJ0KGdhUHJvZHVjdEZpZWxkT2JqZWN0KTtcblxuICAgICAgICAvL2ZhY2Vib29rIGZpeGVsXG4gICAgICAgIEZCLnBpeGVsQWRkVG9DYXJ0KCk7XG5cbiAgICAgICAgICAvL2FjZSBjb3VudGVyXG4gICAgICAgIEFFQy5hZWNBZGRDYXJ0SXRlbSgkKCcjcXVhbnRpdHknKS50ZXh0KCkpO1xuICAgICAgICAvKiBhbmFseXRpY3Mgc2NyaXB0IEVORCAqL1xuXG5cbiAgICAgICAgLy8gbW92ZSBjb25maXJtXG4gICAgICAgIGlmIChjb25maXJtKGNvbmZpcm1NZXNzYWdlKSkge1xuICAgICAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAgICAgJHB0Lm5hdmlnYXRpb24ubW9kYWwoeyB1cmw6ICcvQ2FydCcsIHRpdGxlOiAn7J6l67CU6rWs64uIJyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvQ2FydCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNhcnRDb3VudChkYXRhLmNhcnRDb3VudCk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgb3ZlcmxheUxvYWRlci5zdG9wKCk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6ICh4aHIpID0+IHtcbiAgICAgICAgYWxlcnQoeGhyLnJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJy5idXktbm93LWJ0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qgc3RvcmUgPSAkKCcjcGlja1VwU3RvcmVTZWxlY3RvcicpLnZhbCgpO1xuICAgIC8vTVRNIOyghOyaqSDsg4Htkojsnbwg65WMIOuhnOyngVxuICAgIGlmKCQoJyNtdG1Qcm9kdWN0JykudmFsKCkgPT09ICd0cnVlJykge1xuXG4gICAgICBpZihzdG9yZSA9PT0gdW5kZWZpbmVkIHx8IHN0b3JlID09PSBudWxsIHx8IHN0b3JlID09PSAnJykge1xuICAgICAgICBpZihfQ0xJQ0tFRF9CVVRUT05fV0hFTl9NVE0gPT0gJ2FkZFRvQ2FydEJ0bicpIHtcbiAgICAgICAgICBhbGVydCgn66ek7J6l7J2EIOyEoO2Dne2VmOyXrCDso7zshLjsmpQuJyk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcjcGlja1VwU3RvcmVCdXR0b24nKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIF9DTElDS0VEX0JVVFRPTl9XSEVOX01UTSA9ICdidXlOb3dCdG4nO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBnZXRWYWxpZGF0ZUNhcnREYXRhKCk7XG4gICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogYC9DYXJ0L0J1eU5vdz9DU1JGVG9rZW49JHskKCcjY3NyZlRva2VuJykudmFsKCl9YCxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcblxuICAgICAgICAvL2FjZSBjb3VudGVyXG4gICAgICAgIEFFQy5hZWNCdXlOb3dJdGVtKCQoJyNxdWFudGl0eScpLnRleHQoKSk7XG5cbiAgICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICAgJHB0Lm5hdmlnYXRpb24ucHVzaCh7IHVybDogJy9PcmRlci9DaGVja291dCcsIHRpdGxlOiAn6rKw7KCc7ZWY6riwJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9PcmRlci9DaGVja291dCc7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBvdmVybGF5TG9hZGVyLnN0b3AoKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogKHhocikgPT4ge1xuICAgICAgICBhbGVydCh4aHIucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgJCgnI2NlbnRlci1zZWFyY2gnKS5jaGFuZ2UoKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcmVnaW9uQ29kZSA9ICQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKTtcbiAgICBwaWNrdXBTdG9yZUluZm9ybWF0aW9uKHJlZ2lvbkNvZGUpO1xuICB9KTtcblxuICBmdW5jdGlvbiBwaWNrdXBTdG9yZUluZm9ybWF0aW9uKHJlZ2lvbkNvZGUpIHtcbiAgICBjb25zdCBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXNTdHJpbmcgPSBfU0VMRUNURURfTEVHQUNZX1NJWkVfUFJPRFVDVF9DT0RFX1NUUklORztcbiAgICBvdmVybGF5TG9hZGVyLnN0YXJ0KCk7XG5cbiAgICBjb25zdCBwcm9kdWN0Q29kZXMgPSBzZWxlY3RlZExlZ2FjeVNpemVQcm9kdWN0Q29kZXNTdHJpbmcuc3BsaXQoJywnKTtcbiAgICBjb25zdCBzdHlsZUNvZGVzID0gW107XG4gICAgY29uc3Qgc2l6ZUNvZGVzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RDb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgc3R5bGVDb2Rlcy5wdXNoKHByb2R1Y3RDb2Rlc1tpXS5zcGxpdCgnLScpWzBdKTtcbiAgICAgIHNpemVDb2Rlcy5wdXNoKHByb2R1Y3RDb2Rlc1tpXS5zcGxpdCgnLScpWzFdKTtcbiAgICB9XG5cbiAgICBjb25zdCBxdWFudGl0eSA9ICQoJyNxdWFudGl0eScpLnRleHQoKTtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0ge1xuICAgICAgcHJvZHVjdENvZGVzOiBzdHlsZUNvZGVzLmpvaW4oKSxcbiAgICAgIHNpemVDb2Rlczogc2l6ZUNvZGVzLmpvaW4oKSxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgcmVnaW9uQ29kZSxcbiAgICB9O1xuXG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9Qcm9kdWN0L1BpY2t1cFN0b3JlcycsXG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIGRhdGE6IHBhcmFtZXRlcnMsXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAkKCcjY2VudGVyLXNlYXJjaCcpLnZhbChkYXRhLnNlbGVjdGVkUmVnaW9uQ29kZSk7XG4gICAgICAgIGNvbnN0IHBpY2tVcFN0b3JlU2VsZWN0b3IgPSAkKCcjcGlja1VwU3RvcmVTZWxlY3RvcicpO1xuICAgICAgICBsZXQgaHRtbCA9ICc8b3B0aW9uIHZhbHVlPVwiXCI+66ek7J6l7ISg7YOdPC9vcHRpb24+JztcblxuICAgICAgICBpZiAocmVnaW9uQ29kZSAhPSAnJyAmJiBkYXRhLnBhZ2VkRGF0YSAmJiBkYXRhLnBhZ2VkRGF0YS5wb2ludE9mU2VydmljZXMgJiYgZGF0YS5wYWdlZERhdGEucG9pbnRPZlNlcnZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBwb2ludE9mU2VydmljZXMgPSBkYXRhLnBhZ2VkRGF0YS5wb2ludE9mU2VydmljZXM7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludE9mU2VydmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYDxvcHRpb24gdmFsdWU9JyR7SlNPTi5zdHJpbmdpZnkocG9pbnRPZlNlcnZpY2VzW2ldKX0nPiR7cG9pbnRPZlNlcnZpY2VzW2ldLmRpc3BsYXlOYW1lfTwvb3B0aW9uPmA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBpY2tVcFN0b3JlU2VsZWN0b3IuaHRtbChodG1sKTtcblxuICAgICAgICBpZiAoZGF0YS5zZXJpYWxpemVQaWNrVXBTdG9yZURheXMpIHtcbiAgICAgICAgICAkKCcjcGlja1VwU3RvcmVEYXlTZWxlY3RvcicpLmRhdGEoJ3BpY2t1cC1zdG9yZS1kYXlzJywgZGF0YS5zZXJpYWxpemVQaWNrVXBTdG9yZURheXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdFBpY2tVcFN0b3JlRGF5cygnJyk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgb3ZlcmxheUxvYWRlci5zdG9wKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UHJvZERldGFpbFJhdGluZ1ZpZXcocmF0aW5nKSB7XG4gICAgY29uc3QgYXZlclJhdGluZyA9IE1hdGguZmxvb3IocmF0aW5nKTtcbiAgICBsZXQgcmF0aW5nVmlldyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xuICAgICAgaWYgKGkgPD0gYXZlclJhdGluZykge1xuICAgICAgICByYXRpbmdWaWV3ICs9ICc8c3BhbiBjbGFzcz1vbj7imIU8L3NwYW4+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhdGluZ1ZpZXcgKz0gJzxzcGFuPuKYhTwvc3Bhbj4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmF0aW5nVmlldztcbiAgfVxuXG4gIGNvbnN0IHJldmlld1Byb2R1Y3RDb2RlID0gJCgnI3Byb2R1Y3RDb2RlJykudmFsKCk7XG4gIGNvbnN0ICRyZXZpZXdMaXN0ID0gJCgnI3Jldmlld0xpc3QnKTtcbiAgbGV0IHJldmlld0l0ZW1UZW1wbGF0ZSA9IG51bGw7XG4gIGZ1bmN0aW9uIGdldFJldmlld0xpc3QoKSB7XG4gICAgY29uc3QgcmV2aWV3UGFnZU51bWJlciA9IDA7XG4gICAgY29uc3QgcmV2aWV3UGFnZVNpemUgPSA1O1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHBhZ2VOdW1iZXI6IHJldmlld1BhZ2VOdW1iZXIsXG4gICAgICBwYWdlU2l6ZTogcmV2aWV3UGFnZVNpemUsXG4gICAgfTtcbiAgICAkKCcjcmV2aWV3TGlzdExvYWRpbmcnKS5zaG93KCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogYC9SZXZpZXcvJHtyZXZpZXdQcm9kdWN0Q29kZX0vUmV2aWV3c2AsXG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgZGF0YVR5cGU6ICdKU09OJyxcbiAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFMZW5ndGggPSBkYXRhLnJldmlld0RhdGEucmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSBkYXRhLnJldmlld0RhdGEucGFnZS50b3RhbENvdW50O1xuICAgICAgICBjb25zdCBhdmVyYWdlUmF0aW5nID0gJHJldmlld0xpc3QuZGF0YSgnYXZlcmFnZVJhdGluZycpO1xuICAgICAgICBjb25zdCBhdmVyYWdlUmF0aW5nVmlldyA9IGdldFByb2REZXRhaWxSYXRpbmdWaWV3KGF2ZXJhZ2VSYXRpbmcpO1xuICAgICAgICBpZiAoZGF0YS5yZXZpZXdEYXRhLnJlc3VsdHMgJiYgZGF0YUxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkLmVhY2goZGF0YS5yZXZpZXdEYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmV2aWV3ID0gZWxlbWVudDtcbiAgICAgICAgICAgIHJldmlldy50b3RhbENvdW50ID0gdG90YWxDb3VudDtcbiAgICAgICAgICAgIHJldmlldy5kYXRhTGVuZ3RoID0gZGF0YUxlbmd0aDtcbiAgICAgICAgICAgIHJldmlldy5pbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIHJldmlldy5pc1Byb2R1Y3QgPSB0cnVlO1xuICAgICAgICAgICAgcmV2aWV3LmF2ZXJhZ2VSYXRpbmcgPSBOdW1iZXIoYXZlcmFnZVJhdGluZykudG9GaXhlZCgxKTtcbiAgICAgICAgICAgIHJldmlldy5hdmVyYWdlUmF0aW5nVmlldyA9IGF2ZXJhZ2VSYXRpbmdWaWV3O1xuICAgICAgICAgICAgaWYgKHJldmlld1BhZ2VOdW1iZXIgPT0gMCAmJiBpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAgICRyZXZpZXdMaXN0Lmh0bWwocmV2aWV3SXRlbVRlbXBsYXRlKHJldmlldykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJHJldmlld0xpc3QuYXBwZW5kKHJldmlld0l0ZW1UZW1wbGF0ZShyZXZpZXcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRyZXZpZXdMaXN0LnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocmV2aWV3UGFnZU51bWJlciA9PSAwKSB7XG4gICAgICAgICAgICAkcmV2aWV3TGlzdC5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjZW1wdHlSZXZpZXdNc2cnKS5zaG93KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pLmFsd2F5cygoKSA9PiB7XG4gICAgICAkKCcjcmV2aWV3TGlzdExvYWRpbmcnKS5oaWRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCAkcHJvZHVjdFJldmlld0xpc3QgPSAkKCcjcHJvZHVjdFJldmlld0xpc3QnKTtcbiAgbGV0IHByb2R1Y3RSZXZpZXdQYWdlTnVtYmVyID0gMDtcbiAgZnVuY3Rpb24gZ2V0UmV2aWV3TGlzdEFsbChwcm9kQ29kZSkge1xuICAgIGNvbnN0IHByb2R1Y3RSZXZpZXdQYWdlU2l6ZSA9IDEwO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHBhZ2VOdW1iZXI6IHByb2R1Y3RSZXZpZXdQYWdlTnVtYmVyLFxuICAgICAgcGFnZVNpemU6IHByb2R1Y3RSZXZpZXdQYWdlU2l6ZSxcbiAgICB9O1xuICAgIGxldCBpc0VuZERhdGEgPSBmYWxzZTtcbiAgICAkKCcjcHJvZHVjdFJldmlld01vcmVCdG4nKS5oaWRlKCk7XG4gICAgJCgnI3Byb2R1Y3RSZXZpZXdMaXN0TG9hZGluZycpLnNob3coKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBgL1Jldmlldy8ke3Byb2RDb2RlfS9SZXZpZXdzYCxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBkYXRhOiBwYXJhbXMsXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IGRhdGEucmV2aWV3RGF0YS5yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWxDb3VudCA9IGRhdGEucmV2aWV3RGF0YS5wYWdlLnRvdGFsQ291bnQ7XG4gICAgICAgIGlmIChkYXRhLnJldmlld0RhdGEucmVzdWx0cyAmJiBkYXRhTGVuZ3RoID4gMCkge1xuICAgICAgICAgICQuZWFjaChkYXRhLnJldmlld0RhdGEucmVzdWx0cywgKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXZpZXcgPSBlbGVtZW50O1xuICAgICAgICAgICAgcmV2aWV3LnRvdGFsQ291bnQgPSB0b3RhbENvdW50O1xuICAgICAgICAgICAgcmV2aWV3LmRhdGFMZW5ndGggPSBkYXRhTGVuZ3RoO1xuICAgICAgICAgICAgcmV2aWV3LmluZGV4ID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgcmV2aWV3LmlzUHJvZHVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHByb2R1Y3RSZXZpZXdQYWdlTnVtYmVyID09IDAgJiYgaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAkcHJvZHVjdFJldmlld0xpc3QuaHRtbChyZXZpZXdJdGVtVGVtcGxhdGUocmV2aWV3KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkcHJvZHVjdFJldmlld0xpc3QuYXBwZW5kKHJldmlld0l0ZW1UZW1wbGF0ZShyZXZpZXcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRwcm9kdWN0UmV2aWV3TGlzdC5zaG93KCk7XG4gICAgICAgICAgICBjb25zdCBwTnVtYmVyID0gKGRhdGEucmV2aWV3RGF0YS5wYWdlLmN1cnJlbnRQYWdlICsgMSk7XG4gICAgICAgICAgICBpZiAodG90YWxDb3VudCA8PSBwTnVtYmVyICogcHJvZHVjdFJldmlld1BhZ2VTaXplKSB7XG4gICAgICAgICAgICAgIGlzRW5kRGF0YSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByb2R1Y3RSZXZpZXdQYWdlTnVtYmVyID09IDApIHtcbiAgICAgICAgICAgICRwcm9kdWN0UmV2aWV3TGlzdC5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjZW1wdHlQcm9kdWN0UmV2aWV3TXNnJykuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc0VuZERhdGEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pLmFsd2F5cygoKSA9PiB7XG4gICAgICAkKCcjcHJvZHVjdFJldmlld0xpc3RMb2FkaW5nJykuaGlkZSgpO1xuXG4gICAgICBpZiAoaXNFbmREYXRhKSB7XG4gICAgICAgICQoJyNwcm9kdWN0UmV2aWV3TW9yZUJ0bicpLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyNwcm9kdWN0UmV2aWV3TW9yZUJ0bicpLnNob3coKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVJldmlldyhjb21tZW50U2VxLCBwQ29kZSwgaXNQcm9kKSB7XG4gICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGNvbmZpcm0oJ+yCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKTtcbiAgICBpZiAoY29uZmlybVJlc3VsdCkge1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBgL1Jldmlldy8ke3BDb2RlfS9SZW1vdmU/Y29tbWVudFNlcT0ke2NvbW1lbnRTZXF9YCxcbiAgICAgICAgdHlwZTogJ0RFTEVURScsXG4gICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09ICdvaycpIHtcbiAgICAgICAgICAgIGlmIChpc1Byb2QpIHtcbiAgICAgICAgICAgICAgcHJvZHVjdFJldmlld1BhZ2VOdW1iZXIgPSAwO1xuICAgICAgICAgICAgICBnZXRSZXZpZXdMaXN0QWxsKHBDb2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGdldFJldmlld0xpc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGFsZXJ0KGRhdGEucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCRyZXZpZXdMaXN0Lmxlbmd0aCkge1xuICAgIHJldmlld0l0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvcHJvZHVjdC9yZXZpZXdzLWl0ZW0nXTtcbiAgICAkcmV2aWV3TGlzdC5vbignY2xpY2snLCAnLndyYXAtbGlzdCAubGlzdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgaWYgKCEkdGhpcy5oYXNDbGFzcygnb24nKSkge1xuICAgICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgJCgncnYtY29udGVudHMnKS5zbGlkZURvd24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHJldmlld0xpc3Qub24oJ2NsaWNrJywgJy53cmFwLWxpc3QgLmxpc3QgYScsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IGNvbW1lbnRTZXEgPSAkdGhpcy5kYXRhKCdjb21tZW50U2VxJyk7XG4gICAgICByZW1vdmVSZXZpZXcoY29tbWVudFNlcSwgcmV2aWV3UHJvZHVjdENvZGUsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyZXZpZXdQcm9kdWN0Q29kZSkge1xuICAgIGdldFJldmlld0xpc3QoKTtcbiAgfVxuXG4gIGlmICgkcHJvZHVjdFJldmlld0xpc3QubGVuZ3RoID4gMCkge1xuICAgIHJldmlld0l0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvcHJvZHVjdC9yZXZpZXdzLWl0ZW0nXTtcbiAgICBjb25zdCBwcm9kQ29kZSA9ICRwcm9kdWN0UmV2aWV3TGlzdC5kYXRhKCdwcm9kdWN0Q29kZScpO1xuICAgIGlmIChwcm9kQ29kZS5sZW5ndGggPiAwKSB7XG4gICAgICBnZXRSZXZpZXdMaXN0QWxsKHByb2RDb2RlKTtcbiAgICB9XG5cbiAgICAkKCcjcHJvZHVjdFJldmlld01vcmVCdG4nKS5jbGljaygoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcHJvZHVjdFJldmlld1BhZ2VOdW1iZXIrKztcbiAgICAgIGdldFJldmlld0xpc3RBbGwocHJvZENvZGUpO1xuICAgIH0pO1xuXG4gICAgJHByb2R1Y3RSZXZpZXdMaXN0Lm9uKCdjbGljaycsICcud3JhcC1saXN0IC5saXN0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAgICR0aGlzLmFkZENsYXNzKCdvbicpO1xuICAgICAgICAkKCdydi1jb250ZW50cycpLnNsaWRlRG93bigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkcHJvZHVjdFJldmlld0xpc3Qub24oJ2NsaWNrJywgJy53cmFwLWxpc3QgLmxpc3QgYScsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IGNvbW1lbnRTZXEgPSAkdGhpcy5kYXRhKCdjb21tZW50U2VxJyk7XG4gICAgICByZW1vdmVSZXZpZXcoY29tbWVudFNlcSwgcHJvZENvZGUsIHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9jdXNFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSAkKGVsZW1lbnQpLm9mZnNldCgpLnRvcDtcbiAgICAkKFwiYm9keVwiKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogc2Nyb2xsUG9zaXRpb25cbiAgICB9LCA1MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Rm9vdGVyU2xpZGVQcm9kdWN0cygpIHtcbiAgICBjb25zdCBwcm9kdWN0Q29kZSA9ICQoJyNwcm9kdWN0Q29kZScpLnZhbCgpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb290ZXJTbGlkZVRlbXBsYXRlID0gSGFuZGxlYmFycy50ZW1wbGF0ZXNbJ21vYmlsZS9wcmVjb21waWxlcy9wcm9kdWN0L3Byb2R1Y3QtZGV0YWlsLWZvb3Rlci1zbGlkZSddO1xuICAgICAgaWYoZm9vdGVyU2xpZGVUZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiBgL1Byb2R1Y3QvQmlnZGF0YT9wcm9kdWN0Q29kZT0ke3Byb2R1Y3RDb2RlfSZwZXJQYWdlPTE4YCxcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZihkYXRhLm1vc3RWaWV3UHJvZHVjdHMgJiYgZGF0YS5tb3N0Vmlld1Byb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBzbGljZVByb2R1Y3RzKGRhdGEubW9zdFZpZXdQcm9kdWN0cyk7XG4gICAgICAgICAgICAgICQoJyNmb290ZXJfc2xpZGVfYXJlYScpLmFwcGVuZChmb290ZXJTbGlkZVRlbXBsYXRlKHsncHJvZHVjdHMnOiBwcm9kdWN0cywgJ3RpdGxlJzogJ+uLpOuluCDqs6DqsJ3snbQg7ZWo6ruYIOuzuCDsg4HtkognfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5tYXRjaGluZ1Byb2R1Y3RzICYmIGRhdGEubWF0Y2hpbmdQcm9kdWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RzID0gc2xpY2VQcm9kdWN0cyhkYXRhLm1hdGNoaW5nUHJvZHVjdHMpO1xuICAgICAgICAgICAgICAkKCcjZm9vdGVyX3NsaWRlX2FyZWEnKS5hcHBlbmQoZm9vdGVyU2xpZGVUZW1wbGF0ZSh7J3Byb2R1Y3RzJzogcHJvZHVjdHMsICd0aXRsZSc6ICfsnbQg7IOB7ZKI6rO8IOyWtOyauOumrOuKlCDsg4HtkognfSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXcgU3dpcGVyKCcubGlzdC13cmFwJywge1xuICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXG4gICAgICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgcGFnaW5hdGlvbjogJy5zY3ItcHJvZC1wYWdpbmF0aW9uJyxcbiAgICAgICAgICAgICAgcGFnaW5hdGlvblR5cGU6ICdwcm9ncmVzcycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gc2xpY2VQcm9kdWN0cyhwcm9kdWN0cykge1xuICAgIGNvbnN0IHZpZXdQZXJQYWdlcyA9IDY7XG4gICAgY29uc3QgcHJvZHVjdENvdW50ID0gcHJvZHVjdHMubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBwYXJzZUludCgocHJvZHVjdENvdW50ICsgKHZpZXdQZXJQYWdlcyAtIDEpKSAvIHZpZXdQZXJQYWdlcyk7XG4gICAgbGV0IHNsaWNlUHJvZHVjdHMgPSBbXTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0b3RhbFBhZ2VzOyBpKyspIHtcbiAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICBsZXQgZW5kID0gMDtcbiAgICAgIGlmKGkgPiAwKSB7XG4gICAgICAgIHN0YXJ0ID0gaSAqIHZpZXdQZXJQYWdlcztcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ICsgdmlld1BlclBhZ2VzO1xuICAgICAgaWYoZW5kID4gcHJvZHVjdENvdW50KSB7XG4gICAgICAgIGVuZCA9IHByb2R1Y3RDb3VudDtcbiAgICAgIH1cbiAgICAgIHNsaWNlUHJvZHVjdHMucHVzaChwcm9kdWN0cy5zbGljZShzdGFydCwgZW5kKSk7XG4gICAgfVxuICAgIHJldHVybiBzbGljZVByb2R1Y3RzO1xuICB9XG5cbiAgLy9NVE0g7KCE7JqpIOyDge2SiOydvCDrlYwg66Gc7KeBXG4gIGlmKCQoJyNtdG1Qcm9kdWN0JykudmFsKCkgPT09ICd0cnVlJykge1xuICAgIF9TRUxFQ1RFRF9MRUdBQ1lfU0laRV9QUk9EVUNUX0NPREVfU1RSSU5HID0gJCgnaW5wdXRbbmFtZT1tdG1Qcm9kdWN0U2l6ZUNvZGVdJykuZXEoMCkudmFsKCk7XG4gICAgX1NFTEVDVEVEX1NJWkVfUFJPRFVDVF9DT0RFX1NUUklORyA9ICQoJ2lucHV0W25hbWU9bXRtUHJvZHVjdENvZGVdJykuZXEoMCkudmFsKCk7XG4gICAgcGlja3VwU3RvcmVJbmZvcm1hdGlvbihcIjAwXCIpO1xuICAgICQoJyNjZW50ZXItc2VhcmNoJykucHJvcCgnZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xuICAgIC8vJCgnLnByb2QtZGV0YWlsLW1haW4gLmV0Yy1ib3ggLnRhYi1jb250cz5kaXYnKS5lcSgwKS5hZGRDbGFzcygnb24nKS5zbGlkZURvd24oKS5zaWJsaW5ncygnZGl2JykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gIH1cblxuICBzZXRGb290ZXJTbGlkZVByb2R1Y3RzKCk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1Byb2R1Y3QuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7Ozs7O0FBRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBakJBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUNBO0FBOENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpCQTtBQTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxDQTtBQW9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQXZCQTtBQXlCQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///162\n");

/***/ }),
/* 163 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _popupManager = __webpack_require__(26);\n\nvar _popupManager2 = _interopRequireDefault(_popupManager);\n\nvar _imageViewer = __webpack_require__(84);\n\nvar _imageViewer2 = _interopRequireDefault(_imageViewer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Product:load', function () {\n  if ($('.prod-detail-slide .swiper-slide').length) {\n    new Swiper('.prod-detail-slide', {\n      slidesPerView: 1,\n      direction: 'horizontal',\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n\n    // 이미지 확대\n    $('.prod-detail-slide .swiper-slide').click(function (e) {\n      var $this = $(e.currentTarget);\n\n      var images = [];\n      var idx = $this.data('swiper-slide-index');\n\n      $('.prod-detail-slide .swiper-slide').each(function (_, obj) {\n        var $slide = $(obj);\n        if (!$slide.hasClass('swiper-slide-duplicate') && !$slide.hasClass('swiper-slide-duplicate-prev')) {\n          images.push({ url: $slide.find('img').data('zoom-image') });\n        }\n      });\n\n      if (images.length == 0) {\n        // 이미지가 하나일때는 첫번째껄 강제로 넣어줌\n        images.push({ url: $('.prod-detail-slide .swiper-slide:first').find('img').data('zoom-image') });\n      }\n\n      if ($pt.isApp()) {\n        $pt.msg.call('image', 'show', { idx: idx, images: images });\n      } else {\n        _imageViewer2.default.show(new _popupManager2.default(), images[idx].url);\n      }\n    });\n  }\n\n  // $('.prod-detail-main .detail-info .favorite').click((e) => {\n  //   const $this = $(e.currentTarget);\n  //   if (!$this.hasClass('on')) {\n  //     $this.addClass('on');\n  //     $('.prod-detail-main .favorite-pop').fadeIn('slow', () => {\n  //       $('.prod-detail-main .favorite-pop').delay(500).fadeOut('slow');\n  //     });\n  //     $('.prod-detail-main .favorite-pop>i').addClass('ico-on');\n  //     $('.prod-detail-main .favorite-pop>p').eq(0).addClass('txt-on').siblings('p').removeClass('txt-on');\n  //   } else {\n  //     $this.removeClass('on');\n  //     $('.prod-detail-main .favorite-pop').fadeIn('slow', () => {\n  //       $('.prod-detail-main .favorite-pop').delay(500).fadeOut('slow');\n  //     });\n  //     $('.prod-detail-main .favorite-pop>i').removeClass('ico-on');\n  //     $('.prod-detail-main .favorite-pop>p').eq(1).addClass('txt-on').siblings('p').removeClass('txt-on');\n  //   }\n  //   return false;\n  // });\n  $('.prod-detail-main .option-box .size>a').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('size-x')) {\n      $this.addClass('on').siblings('a').removeClass('on');\n    }\n    return false;\n  });\n  var count = 1;\n  $('.prod-detail-main .option-box .bts-ctrl>a').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('plus')) {\n      if (count > 1) {\n        count -= 1;\n        $('.prod-detail-main .option-box .ea>span').text(count);\n      }\n    } else {\n      count += 1;\n      $('.prod-detail-main .option-box .ea>span').text(count);\n    }\n    return false;\n  });\n  if ($('.prod-img').length) {\n    new Swiper('.prod-img', {\n      slidesPerView: 1,\n      direction: 'horizontal',\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n  // $('.prod-detail-contents .detail-addinfo a').on('click', (e) => {\n  //   const $this = $(e.currentTarget);\n  //\n  //   e.preventDefault();\n  //   $this.parent().toggleClass('active').siblings().removeClass('active');\n  // });\n  if ($('.prod-list .list-wrap').length) {\n    new Swiper('.list-wrap', {\n      slidesPerView: 1,\n      direction: 'horizontal',\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n  function detailBtn() {\n    var $win = $(window);\n    var $detailBtn = $('.detail-btn-area');\n    var $detailBtnFixed = $('.detail-btn-area.fixed');\n    var $detailBtnWrap = $('.detail-btn-area .btn-area-wrapper');\n    var $header = $('header');\n    var goTopHideY = $(document).height() - $win.height() / 2;\n\n    if ($detailBtn.offset() !== undefined) {\n      var btnGoTop = $('.go-top');\n      $win.on('scroll', function () {\n        var detailTop = $detailBtnWrap.offset().top + $detailBtnWrap.height();\n        if (!$pt.isApp()) {\n          detailTop -= $header.height();\n        }\n\n        var scrollTop = $win.scrollTop();\n        if (scrollTop >= detailTop) {\n          $detailBtnFixed.addClass('show');\n          btnGoTop.addClass('active');\n          if (scrollTop >= goTopHideY) {\n            btnGoTop.removeClass('active');\n          }\n        } else {\n          $detailBtnFixed.removeClass('show');\n          btnGoTop.removeClass('active');\n        }\n      });\n    }\n  }\n  detailBtn();\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUHJvZHVjdC5qcz81ZjQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3B1cE1hbmFnZXIgZnJvbSAnLi4vY29tbW9uL3BvcHVwLW1hbmFnZXInO1xuaW1wb3J0IGltYWdlVmlld2VyIGZyb20gJy4vY29tcG9uZW50L2ltYWdlLXZpZXdlcic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6UHJvZHVjdDpsb2FkJywgKCkgPT4ge1xuICBpZiAoJCgnLnByb2QtZGV0YWlsLXNsaWRlIC5zd2lwZXItc2xpZGUnKS5sZW5ndGgpIHtcbiAgICBuZXcgU3dpcGVyKCcucHJvZC1kZXRhaWwtc2xpZGUnLCB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgcGFnaW5hdGlvbjogJy5zY3ItcHJvZC1wYWdpbmF0aW9uJyxcbiAgICAgIHBhZ2luYXRpb25UeXBlOiAncHJvZ3Jlc3MnLFxuICAgIH0pO1xuXG4gICAgLy8g7J2066+47KeAIO2ZleuMgFxuICAgICQoJy5wcm9kLWRldGFpbC1zbGlkZSAuc3dpcGVyLXNsaWRlJykuY2xpY2soKGUpID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICBjb25zdCBpbWFnZXMgPSBbXTtcbiAgICAgIGNvbnN0IGlkeCA9ICR0aGlzLmRhdGEoJ3N3aXBlci1zbGlkZS1pbmRleCcpO1xuXG4gICAgICAkKCcucHJvZC1kZXRhaWwtc2xpZGUgLnN3aXBlci1zbGlkZScpLmVhY2goKF8sIG9iaikgPT4ge1xuICAgICAgICBjb25zdCAkc2xpZGUgPSAkKG9iaik7XG4gICAgICAgIGlmICghJHNsaWRlLmhhc0NsYXNzKCdzd2lwZXItc2xpZGUtZHVwbGljYXRlJykgJiYgISRzbGlkZS5oYXNDbGFzcygnc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1wcmV2JykpIHtcbiAgICAgICAgICBpbWFnZXMucHVzaCh7IHVybDogJHNsaWRlLmZpbmQoJ2ltZycpLmRhdGEoJ3pvb20taW1hZ2UnKSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbWFnZXMubGVuZ3RoID09IDApIHsgLy8g7J2066+47KeA6rCAIO2VmOuCmOydvOuVjOuKlCDssqvrsojsp7jqu4Qg6rCV7KCc66GcIOuEo+yWtOykjFxuICAgICAgICBpbWFnZXMucHVzaCh7IHVybDogJCgnLnByb2QtZGV0YWlsLXNsaWRlIC5zd2lwZXItc2xpZGU6Zmlyc3QnKS5maW5kKCdpbWcnKS5kYXRhKCd6b29tLWltYWdlJykgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAkcHQubXNnLmNhbGwoJ2ltYWdlJywgJ3Nob3cnLCB7IGlkeCwgaW1hZ2VzIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VWaWV3ZXIuc2hvdyhuZXcgUG9wdXBNYW5hZ2VyKCksIGltYWdlc1tpZHhdLnVybCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyAkKCcucHJvZC1kZXRhaWwtbWFpbiAuZGV0YWlsLWluZm8gLmZhdm9yaXRlJykuY2xpY2soKGUpID0+IHtcbiAgLy8gICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgLy8gICBpZiAoISR0aGlzLmhhc0NsYXNzKCdvbicpKSB7XG4gIC8vICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgLy8gICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3AnKS5mYWRlSW4oJ3Nsb3cnLCAoKSA9PiB7XG4gIC8vICAgICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3AnKS5kZWxheSg1MDApLmZhZGVPdXQoJ3Nsb3cnKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmZhdm9yaXRlLXBvcD5pJykuYWRkQ2xhc3MoJ2ljby1vbicpO1xuICAvLyAgICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmZhdm9yaXRlLXBvcD5wJykuZXEoMCkuYWRkQ2xhc3MoJ3R4dC1vbicpLnNpYmxpbmdzKCdwJykucmVtb3ZlQ2xhc3MoJ3R4dC1vbicpO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICAkdGhpcy5yZW1vdmVDbGFzcygnb24nKTtcbiAgLy8gICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3AnKS5mYWRlSW4oJ3Nsb3cnLCAoKSA9PiB7XG4gIC8vICAgICAgICQoJy5wcm9kLWRldGFpbC1tYWluIC5mYXZvcml0ZS1wb3AnKS5kZWxheSg1MDApLmZhZGVPdXQoJ3Nsb3cnKTtcbiAgLy8gICAgIH0pO1xuICAvLyAgICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmZhdm9yaXRlLXBvcD5pJykucmVtb3ZlQ2xhc3MoJ2ljby1vbicpO1xuICAvLyAgICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLmZhdm9yaXRlLXBvcD5wJykuZXEoMSkuYWRkQ2xhc3MoJ3R4dC1vbicpLnNpYmxpbmdzKCdwJykucmVtb3ZlQ2xhc3MoJ3R4dC1vbicpO1xuICAvLyAgIH1cbiAgLy8gICByZXR1cm4gZmFsc2U7XG4gIC8vIH0pO1xuICAkKCcucHJvZC1kZXRhaWwtbWFpbiAub3B0aW9uLWJveCAuc2l6ZT5hJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdzaXplLXgnKSkge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ29uJykuc2libGluZ3MoJ2EnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgbGV0IGNvdW50ID0gMTtcbiAgJCgnLnByb2QtZGV0YWlsLW1haW4gLm9wdGlvbi1ib3ggLmJ0cy1jdHJsPmEnKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICghJHRoaXMuaGFzQ2xhc3MoJ3BsdXMnKSkge1xuICAgICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgICBjb3VudCAtPSAxO1xuICAgICAgICAkKCcucHJvZC1kZXRhaWwtbWFpbiAub3B0aW9uLWJveCAuZWE+c3BhbicpLnRleHQoY291bnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCArPSAxO1xuICAgICAgJCgnLnByb2QtZGV0YWlsLW1haW4gLm9wdGlvbi1ib3ggLmVhPnNwYW4nKS50ZXh0KGNvdW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgaWYgKCQoJy5wcm9kLWltZycpLmxlbmd0aCkge1xuICAgIG5ldyBTd2lwZXIoJy5wcm9kLWltZycsIHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBwYWdpbmF0aW9uOiAnLnNjci1wcm9kLXBhZ2luYXRpb24nLFxuICAgICAgcGFnaW5hdGlvblR5cGU6ICdwcm9ncmVzcycsXG4gICAgfSk7XG4gIH1cbiAgLy8gJCgnLnByb2QtZGV0YWlsLWNvbnRlbnRzIC5kZXRhaWwtYWRkaW5mbyBhJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgLy8gICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgLy9cbiAgLy8gICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vICAgJHRoaXMucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAvLyB9KTtcbiAgaWYgKCQoJy5wcm9kLWxpc3QgLmxpc3Qtd3JhcCcpLmxlbmd0aCkge1xuICAgIG5ldyBTd2lwZXIoJy5saXN0LXdyYXAnLCB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgcGFnaW5hdGlvbjogJy5zY3ItcHJvZC1wYWdpbmF0aW9uJyxcbiAgICAgIHBhZ2luYXRpb25UeXBlOiAncHJvZ3Jlc3MnLFxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRldGFpbEJ0bigpIHtcbiAgICBjb25zdCAkd2luID0gJCh3aW5kb3cpO1xuICAgIGNvbnN0ICRkZXRhaWxCdG4gPSAkKCcuZGV0YWlsLWJ0bi1hcmVhJyk7XG4gICAgY29uc3QgJGRldGFpbEJ0bkZpeGVkID0gJCgnLmRldGFpbC1idG4tYXJlYS5maXhlZCcpO1xuICAgIGNvbnN0ICRkZXRhaWxCdG5XcmFwID0gJCgnLmRldGFpbC1idG4tYXJlYSAuYnRuLWFyZWEtd3JhcHBlcicpO1xuICAgIGNvbnN0ICRoZWFkZXIgPSAkKCdoZWFkZXInKTtcbiAgICBjb25zdCBnb1RvcEhpZGVZID0gJChkb2N1bWVudCkuaGVpZ2h0KCkgLSAkd2luLmhlaWdodCgpIC8gMjtcblxuICAgIGlmICgkZGV0YWlsQnRuLm9mZnNldCgpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGJ0bkdvVG9wID0gJCgnLmdvLXRvcCcpO1xuICAgICAgJHdpbi5vbignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICBsZXQgZGV0YWlsVG9wID0gJGRldGFpbEJ0bldyYXAub2Zmc2V0KCkudG9wICsgJGRldGFpbEJ0bldyYXAuaGVpZ2h0KCk7XG4gICAgICAgIGlmICghJHB0LmlzQXBwKCkpIHtcbiAgICAgICAgICBkZXRhaWxUb3AgLT0gJGhlYWRlci5oZWlnaHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9ICR3aW4uc2Nyb2xsVG9wKCk7XG4gICAgICAgIGlmIChzY3JvbGxUb3AgPj0gZGV0YWlsVG9wKSB7XG4gICAgICAgICAgJGRldGFpbEJ0bkZpeGVkLmFkZENsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgYnRuR29Ub3AuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIGlmIChzY3JvbGxUb3AgPj0gZ29Ub3BIaWRlWSkge1xuICAgICAgICAgICAgYnRuR29Ub3AucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZGV0YWlsQnRuRml4ZWQucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgICBidG5Hb1RvcC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBkZXRhaWxCdG4oKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUHJvZHVjdC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///163\n");

/***/ }),
/* 164 */
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"image-viewer-popup-layer\\\">\\n    <div class=\\\"image-wrapper\\\">\\n        <img src=\\\"{{imagePath}}\\\" />\\n    </div>\\n    <a class=\\\"close close-btn\\\">닫기</a>\\n</div>\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4va29wL21vYmlsZS9jb21wb25lbnQvaW1hZ2Utdmlld2VyLXBvcHVwLmhicz9iNTIwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJpbWFnZS12aWV3ZXItcG9wdXAtbGF5ZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJpbWFnZS13cmFwcGVyXFxcIj5cXG4gICAgICAgIDxpbWcgc3JjPVxcXCJ7e2ltYWdlUGF0aH19XFxcIiAvPlxcbiAgICA8L2Rpdj5cXG4gICAgPGEgY2xhc3M9XFxcImNsb3NlIGNsb3NlLWJ0blxcXCI+64ur6riwPC9hPlxcbjwvZGl2PlxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9rb3AvbW9iaWxlL2NvbXBvbmVudC9pbWFnZS12aWV3ZXItcG9wdXAuaGJzXG4vLyBtb2R1bGUgaWQgPSAxNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///164\n");

/***/ }),
/* 165 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Proposal:load', function () {\n  $('#proposalFormSubmitBtn').click(function (e) {\n    e.preventDefault();\n\n    $('#proposalForm').submit();\n  });\n\n  $('#proposalForm').validate({\n    rules: {\n      title: {\n        required: true\n      },\n      name: {\n        required: true\n      },\n      company: {\n        required: true\n      },\n      email: {\n        required: true,\n        email: true\n      },\n      telno: {\n        required: true,\n        number: true\n      },\n      content: {\n        required: true\n      },\n      agree: {\n        required: true\n      }\n    },\n    messages: {\n      title: {\n        required: '제목을 입력해 주세요.'\n      },\n      name: {\n        required: '이름을 입력해 주세요.'\n      },\n      company: {\n        required: '회사명을 입력해 주세요.'\n      },\n      telno: {\n        required: '연락처를 입력해 주세요.',\n        number: '연락처는 숫자만 입력해 주세요.'\n      },\n      email: {\n        required: '이메일을 입력해 주세요.',\n        email: '이메일 형식으로 입력해 주세요.'\n      },\n      content: {\n        required: '내용을 입력해 주세요.'\n      },\n      agree: {\n        required: '개인정보, 수집, 이용에 대한 동의를 하셔야 제휴문의가 가능합니다.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      var proposalFormSubmitBtnLadda = Ladda.create($('#proposalFormSubmitBtn')[0]);\n      proposalFormSubmitBtnLadda.start();\n\n      $.ajax({\n        url: '/Proposal/Add',\n        method: 'POST',\n        data: $('#proposalForm').serialize(),\n        dataType: 'JSON',\n        success: function success() {\n          alert('문의가 접수 되었습니다.');\n          $pt.history.back();\n        },\n        complete: function complete() {\n          proposalFormSubmitBtnLadda.stop();\n        },\n        error: function error(request) {\n          var responseObj = JSON.parse(request.responseText);\n          alert(responseObj.message);\n        }\n      });\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUHJvcG9zYWwuYWN0aW9uLmpzPzAwMWIiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpQcm9wb3NhbDpsb2FkJywgKCkgPT4ge1xuICAkKCcjcHJvcG9zYWxGb3JtU3VibWl0QnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCcjcHJvcG9zYWxGb3JtJykuc3VibWl0KCk7XG4gIH0pO1xuXG4gICQoJyNwcm9wb3NhbEZvcm0nKS52YWxpZGF0ZSh7XG4gICAgcnVsZXM6IHtcbiAgICAgIHRpdGxlOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgY29tcGFueToge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICB9LFxuICAgICAgdGVsbm86IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGFncmVlOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICB0aXRsZToge1xuICAgICAgICByZXF1aXJlZDogJ+ygnOuqqeydhCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICByZXF1aXJlZDogJ+ydtOumhOydhCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgY29tcGFueToge1xuICAgICAgICByZXF1aXJlZDogJ+2ajOyCrOuqheydhCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgdGVsbm86IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfsl7Drnb3sspjrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgICBudW1iZXI6ICfsl7Drnb3sspjripQg7Iir7J6Q66eMIOyeheugpe2VtCDso7zshLjsmpQuJyxcbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICByZXF1aXJlZDogJ+ydtOuplOydvOydhCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICAgIGVtYWlsOiAn7J2066mU7J28IO2YleyLneycvOuhnCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgY29udGVudDoge1xuICAgICAgICByZXF1aXJlZDogJ+uCtOyaqeydhCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgICAgYWdyZWU6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfqsJzsnbjsoJXrs7QsIOyImOynkSwg7J207Jqp7JeQIOuMgO2VnCDrj5nsnZjrpbwg7ZWY7IWU7JW8IOygnO2ctOusuOydmOqwgCDqsIDriqXtlanri4jri6QuJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBzdWJtaXRIYW5kbGVyOiAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wb3NhbEZvcm1TdWJtaXRCdG5MYWRkYSA9IExhZGRhLmNyZWF0ZSgkKCcjcHJvcG9zYWxGb3JtU3VibWl0QnRuJylbMF0pO1xuICAgICAgcHJvcG9zYWxGb3JtU3VibWl0QnRuTGFkZGEuc3RhcnQoKTtcblxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnL1Byb3Bvc2FsL0FkZCcsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBkYXRhOiAkKCcjcHJvcG9zYWxGb3JtJykuc2VyaWFsaXplKCksXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgICBhbGVydCgn66y47J2Y6rCAIOygkeyImCDrkJjsl4jsirXri4jri6QuJyk7XG4gICAgICAgICAgJHB0Lmhpc3RvcnkuYmFjaygpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHByb3Bvc2FsRm9ybVN1Ym1pdEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBhbGVydChyZXNwb25zZU9iai5tZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9Qcm9wb3NhbC5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQXJCQTtBQXlCQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFyQkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBaUJBO0FBeEVBO0FBMEVBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///165\n");

/***/ }),
/* 166 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Proposal:load', function () {\n  $('.add-area :text').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined') {\n      $this.next().css('display', 'none');\n    } else {\n      $this.next().css('display', 'block');\n    }\n  });\n  $('.add-area textarea').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined') {\n      $this.next().css('display', 'none');\n    } else {\n      $this.next().css('display', 'block');\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUHJvcG9zYWwuanM/OWFkMyJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5vbignbW9iaWxlOlByb3Bvc2FsOmxvYWQnLCAoKSA9PiB7XG4gICQoJy5hZGQtYXJlYSA6dGV4dCcpLmtleXVwKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCR0aGlzLnZhbCgpID09IG51bGwgfHwgJHRoaXMudmFsKCkgPT0gJycgfHwgJHRoaXMudmFsKCkgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICR0aGlzLm5leHQoKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5uZXh0KCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgfVxuICB9KTtcbiAgJCgnLmFkZC1hcmVhIHRleHRhcmVhJykua2V5dXAoKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoJHRoaXMudmFsKCkgPT0gbnVsbCB8fCAkdGhpcy52YWwoKSA9PSAnJyB8fCAkdGhpcy52YWwoKSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgJHRoaXMubmV4dCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLm5leHQoKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9Qcm9wb3NhbC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///166\n");

/***/ }),
/* 167 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _moment = __webpack_require__(3);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:RMA:load', function () {\n  var searchPeriodDays = 30;\n  var orderListTemplate = null;\n  var RMA_PAGE_SIZE = 10;\n  var currentPage = 1;\n\n  function getSearchPeriodText() {\n    if (searchPeriodDays == 90) {\n      return '3개월';\n    } else if (searchPeriodDays == 365) {\n      return '1년';\n    }\n    return '1개월';\n  }\n\n  function getStartDate() {\n    var endDate = (0, _moment2.default)();\n    if (searchPeriodDays == 90) {\n      return (0, _moment2.default)(endDate).add(-3, 'M');\n    } else if (searchPeriodDays == 365) {\n      return (0, _moment2.default)(endDate).add(-1, 'Y');\n    }\n    return (0, _moment2.default)(endDate).add(-1, 'M');\n  }\n\n  function getSearchStatusText(orderStatus) {\n    if (orderStatus == 'CANCEL') {\n      return '취소';\n    } else if (orderStatus == 'EXCHANGEORDER') {\n      return '교환';\n    } else if (orderStatus == 'RETURN') {\n      return '반품';\n    }\n    return '취소/교환/반품';\n  }\n\n  // pageSize 를 늘리는 방식으로 페이징\n  function getOrderList() {\n    var isPointOfService = $('#isPointOfServiceSelect option:selected').val();\n    var orderStatus = $('#orderStatusSelect option:selected').val();\n    var pageSize = currentPage * RMA_PAGE_SIZE;\n    var endDate = (0, _moment2.default)();\n    var startDate = getStartDate(searchPeriodDays);\n    var searchPeriodText = getSearchPeriodText(searchPeriodDays);\n\n    var params = {\n      startDate: startDate.format('YYYYMMDD'),\n      endDate: endDate.format('YYYYMMDD'),\n      requestType: 20, // (10: 전체주문, 20: 취소반품교환)\n      pageSize: pageSize\n    };\n\n    if (isPointOfService != 'all') {\n      params.isPointOfService = isPointOfService;\n    }\n\n    if (orderStatus != 'all') {\n      params.orderStatus = orderStatus;\n    }\n\n    params.searchType = $('#searchKeySelect').val().toUpperCase();\n    params.searchKeyword = $.trim($('#searchWordInput').val());\n    $('#resultOrderList').hide();\n    $('#rmaListLoading').show();\n    $('#moreBtn').hide();\n    $.ajax({\n      url: '/Order/ConsignmentEntries',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      success: function success(data) {\n        if (data) {\n          if (data.results && data.results.length > 0) {\n            $('#emptyResultOrderList').hide();\n            $('#resultOrderListWrapper').show();\n            $.each(data.results, function (index, result) {\n              var order = result;\n              order.isRmaListView = true;\n              $.each(order.items, function (index2, item) {\n                var orderItem = item;\n                orderItem.orderDeliveryType = order.deliveryType;\n                orderItem.orderDisplayedDeliveryType = order.displayedDeliveryType;\n                orderItem.orderNumber = order.orderNumber;\n                orderItem.isOrderDetailView = false;\n              });\n              if (index == 0) {\n                $('#resultOrderList').html(orderListTemplate(order)).show();\n              } else {\n                $('#resultOrderList').append(orderListTemplate(order));\n              }\n            });\n            if (data.page.totalCount > pageSize) {\n              $('#moreBtn').show();\n            } else {\n              $('#moreBtn').hide();\n            }\n          } else {\n            $('#searchPeriodText').text(searchPeriodText);\n            var searchStatusText = getSearchStatusText(orderStatus);\n            $('#searchStatusText').text(searchStatusText);\n            $('#emptyResultOrderList').show();\n            $('#resultOrderListWrapper').hide();\n          }\n        }\n      }\n    }).always(function () {\n      return $('#rmaListLoading').hide();\n    });\n  }\n\n  if ($('#resultOrderListWrapper').length > 0) {\n    orderListTemplate = Handlebars.templates['mobile/precompiles/order/order-list'];\n    getOrderList();\n  }\n\n  $('#periodBtns > li > a').click(function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    $('#periodBtns > li').removeClass('on');\n    searchPeriodDays = $this.data('searchPeriod');\n    $this.parent().addClass('on');\n  });\n\n  $('#form-rma').submit(function (e) {\n    e.preventDefault();\n    currentPage = 1;\n    getOrderList();\n  });\n\n  $('#searchOrderBtn').click(function (e) {\n    e.preventDefault();\n    $('#form-rma').submit();\n  });\n\n  $('#moreBtn').click(function (e) {\n    e.preventDefault();\n    currentPage++;\n    getOrderList();\n  });\n}); /**\n     * Created by byulnimkim on 2017-06-05.\n     */\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUk1BLmFjdGlvbi5qcz9lOGQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBieXVsbmlta2ltIG9uIDIwMTctMDYtMDUuXG4gKi9cbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpSTUE6bG9hZCcsICgpID0+IHtcbiAgbGV0IHNlYXJjaFBlcmlvZERheXMgPSAzMDtcbiAgbGV0IG9yZGVyTGlzdFRlbXBsYXRlID0gbnVsbDtcbiAgY29uc3QgUk1BX1BBR0VfU0laRSA9IDEwO1xuICBsZXQgY3VycmVudFBhZ2UgPSAxO1xuXG4gIGZ1bmN0aW9uIGdldFNlYXJjaFBlcmlvZFRleHQoKSB7XG4gICAgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gOTApIHtcbiAgICAgIHJldHVybiAnM+qwnOyblCc7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hQZXJpb2REYXlzID09IDM2NSkge1xuICAgICAgcmV0dXJuICcx64WEJztcbiAgICB9XG4gICAgcmV0dXJuICcx6rCc7JuUJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFN0YXJ0RGF0ZSgpIHtcbiAgICBjb25zdCBlbmREYXRlID0gbW9tZW50KCk7XG4gICAgaWYgKHNlYXJjaFBlcmlvZERheXMgPT0gOTApIHtcbiAgICAgIHJldHVybiBtb21lbnQoZW5kRGF0ZSkuYWRkKC0zLCAnTScpO1xuICAgIH0gZWxzZSBpZiAoc2VhcmNoUGVyaW9kRGF5cyA9PSAzNjUpIHtcbiAgICAgIHJldHVybiBtb21lbnQoZW5kRGF0ZSkuYWRkKC0xLCAnWScpO1xuICAgIH1cbiAgICByZXR1cm4gbW9tZW50KGVuZERhdGUpLmFkZCgtMSwgJ00nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlYXJjaFN0YXR1c1RleHQob3JkZXJTdGF0dXMpIHtcbiAgICBpZiAob3JkZXJTdGF0dXMgPT0gJ0NBTkNFTCcpIHtcbiAgICAgIHJldHVybiAn7Leo7IaMJztcbiAgICB9IGVsc2UgaWYgKG9yZGVyU3RhdHVzID09ICdFWENIQU5HRU9SREVSJykge1xuICAgICAgcmV0dXJuICfqtZDtmZgnO1xuICAgIH0gZWxzZSBpZiAob3JkZXJTdGF0dXMgPT0gJ1JFVFVSTicpIHtcbiAgICAgIHJldHVybiAn67CY7ZKIJztcbiAgICB9XG4gICAgcmV0dXJuICfst6jshowv6rWQ7ZmYL+uwmO2SiCc7XG4gIH1cblxuICAvLyBwYWdlU2l6ZSDrpbwg64qY66as64qUIOuwqeyLneycvOuhnCDtjpjsnbTsp5VcbiAgZnVuY3Rpb24gZ2V0T3JkZXJMaXN0KCkge1xuICAgIGNvbnN0IGlzUG9pbnRPZlNlcnZpY2UgPSAkKCcjaXNQb2ludE9mU2VydmljZVNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICBjb25zdCBvcmRlclN0YXR1cyA9ICQoJyNvcmRlclN0YXR1c1NlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICBjb25zdCBwYWdlU2l6ZSA9IGN1cnJlbnRQYWdlICogUk1BX1BBR0VfU0laRTtcbiAgICBjb25zdCBlbmREYXRlID0gbW9tZW50KCk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gZ2V0U3RhcnREYXRlKHNlYXJjaFBlcmlvZERheXMpO1xuICAgIGNvbnN0IHNlYXJjaFBlcmlvZFRleHQgPSBnZXRTZWFyY2hQZXJpb2RUZXh0KHNlYXJjaFBlcmlvZERheXMpO1xuXG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUuZm9ybWF0KCdZWVlZTU1ERCcpLFxuICAgICAgZW5kRGF0ZTogZW5kRGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyksXG4gICAgICByZXF1ZXN0VHlwZTogMjAsIC8vICgxMDog7KCE7LK07KO866y4LCAyMDog7Leo7IaM67CY7ZKI6rWQ7ZmYKVxuICAgICAgcGFnZVNpemUsXG4gICAgfTtcblxuICAgIGlmIChpc1BvaW50T2ZTZXJ2aWNlICE9ICdhbGwnKSB7XG4gICAgICBwYXJhbXMuaXNQb2ludE9mU2VydmljZSA9IGlzUG9pbnRPZlNlcnZpY2U7XG4gICAgfVxuXG4gICAgaWYgKG9yZGVyU3RhdHVzICE9ICdhbGwnKSB7XG4gICAgICBwYXJhbXMub3JkZXJTdGF0dXMgPSBvcmRlclN0YXR1cztcbiAgICB9XG5cbiAgICBwYXJhbXMuc2VhcmNoVHlwZSA9ICQoJyNzZWFyY2hLZXlTZWxlY3QnKS52YWwoKS50b1VwcGVyQ2FzZSgpO1xuICAgIHBhcmFtcy5zZWFyY2hLZXl3b3JkID0gJC50cmltKCQoJyNzZWFyY2hXb3JkSW5wdXQnKS52YWwoKSk7XG4gICAgJCgnI3Jlc3VsdE9yZGVyTGlzdCcpLmhpZGUoKTtcbiAgICAkKCcjcm1hTGlzdExvYWRpbmcnKS5zaG93KCk7XG4gICAgJCgnI21vcmVCdG4nKS5oaWRlKCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogJy9PcmRlci9Db25zaWdubWVudEVudHJpZXMnLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGRhdGE6IHBhcmFtcyxcbiAgICAgIGRhdGFUeXBlOiAnSlNPTicsXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLnJlc3VsdHMgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJyNlbXB0eVJlc3VsdE9yZGVyTGlzdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNyZXN1bHRPcmRlckxpc3RXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywgKGluZGV4LCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSByZXN1bHQ7XG4gICAgICAgICAgICAgIG9yZGVyLmlzUm1hTGlzdFZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgICAkLmVhY2gob3JkZXIuaXRlbXMsIChpbmRleDIsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmRlckl0ZW0gPSBpdGVtO1xuICAgICAgICAgICAgICAgIG9yZGVySXRlbS5vcmRlckRlbGl2ZXJ5VHlwZSA9IG9yZGVyLmRlbGl2ZXJ5VHlwZTtcbiAgICAgICAgICAgICAgICBvcmRlckl0ZW0ub3JkZXJEaXNwbGF5ZWREZWxpdmVyeVR5cGUgPSBvcmRlci5kaXNwbGF5ZWREZWxpdmVyeVR5cGU7XG4gICAgICAgICAgICAgICAgb3JkZXJJdGVtLm9yZGVyTnVtYmVyID0gb3JkZXIub3JkZXJOdW1iZXI7XG4gICAgICAgICAgICAgICAgb3JkZXJJdGVtLmlzT3JkZXJEZXRhaWxWaWV3ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAgICQoJyNyZXN1bHRPcmRlckxpc3QnKS5odG1sKG9yZGVyTGlzdFRlbXBsYXRlKG9yZGVyKSkuc2hvdygpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNyZXN1bHRPcmRlckxpc3QnKS5hcHBlbmQob3JkZXJMaXN0VGVtcGxhdGUob3JkZXIpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5wYWdlLnRvdGFsQ291bnQgPiBwYWdlU2l6ZSkge1xuICAgICAgICAgICAgICAkKCcjbW9yZUJ0bicpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJyNtb3JlQnRuJykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjc2VhcmNoUGVyaW9kVGV4dCcpLnRleHQoc2VhcmNoUGVyaW9kVGV4dCk7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hTdGF0dXNUZXh0ID0gZ2V0U2VhcmNoU3RhdHVzVGV4dChvcmRlclN0YXR1cyk7XG4gICAgICAgICAgICAkKCcjc2VhcmNoU3RhdHVzVGV4dCcpLnRleHQoc2VhcmNoU3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAkKCcjZW1wdHlSZXN1bHRPcmRlckxpc3QnKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjcmVzdWx0T3JkZXJMaXN0V3JhcHBlcicpLmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSkuYWx3YXlzKCgpID0+ICQoJyNybWFMaXN0TG9hZGluZycpLmhpZGUoKSk7XG4gIH1cblxuICBpZiAoJCgnI3Jlc3VsdE9yZGVyTGlzdFdyYXBwZXInKS5sZW5ndGggPiAwKSB7XG4gICAgb3JkZXJMaXN0VGVtcGxhdGUgPSBIYW5kbGViYXJzLnRlbXBsYXRlc1snbW9iaWxlL3ByZWNvbXBpbGVzL29yZGVyL29yZGVyLWxpc3QnXTtcbiAgICBnZXRPcmRlckxpc3QoKTtcbiAgfVxuXG4gICQoJyNwZXJpb2RCdG5zID4gbGkgPiBhJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJCgnI3BlcmlvZEJ0bnMgPiBsaScpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgIHNlYXJjaFBlcmlvZERheXMgPSAkdGhpcy5kYXRhKCdzZWFyY2hQZXJpb2QnKTtcbiAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnb24nKTtcbiAgfSk7XG5cbiAgJCgnI2Zvcm0tcm1hJykuc3VibWl0KChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICBnZXRPcmRlckxpc3QoKTtcbiAgfSk7XG5cbiAgJCgnI3NlYXJjaE9yZGVyQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnI2Zvcm0tcm1hJykuc3VibWl0KCk7XG4gIH0pO1xuXG4gICQoJyNtb3JlQnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY3VycmVudFBhZ2UrKztcbiAgICBnZXRPcmRlckxpc3QoKTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1JNQS5hY3Rpb24uanMiXSwibWFwcGluZ3MiOiI7O0FBR0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2Q0E7QUF3Q0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///167\n");

/***/ }),
/* 168 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:RMA:load', function () {\n  $('.bundle .set a').click(function (e) {\n    var $this = $(e.currentTarget);\n    if (!$this.hasClass('set-open')) {\n      $this.addClass('set-open');\n      $this.parents('.info').next().next().css('display', 'block');\n    } else {\n      $this.removeClass('set-open');\n      $this.parents('.info').next().next().css('display', 'none');\n    }\n    return false;\n  });\n  $('#kolon-content').on('click', '.bundle .set a', function (e) {\n    e.preventDefault();\n    var $this = $(e.currentTarget);\n    var parentEle = $this.parents('.bundle');\n    if (!$this.hasClass('set-open')) {\n      $this.addClass('set-open');\n      parentEle.find('.set-prod').show();\n    } else {\n      $this.removeClass('set-open');\n      parentEle.find('.set-prod').hide();\n    }\n    return false;\n  });\n  $('#searchKeySelect').change(function (e) {\n    var $this = $(e.currentTarget);\n    var msg = \"입력해주세요.\";\n    if ($this.val() === 'code') {\n      msg = \"상품코드를 입력해 주세요.\";\n    } else if ($this.val() === 'name') {\n      msg = \"상품명을 입력해 주세요.\";\n    }\n    $('#searchWordInput').attr(\"placeholder\", msg);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUk1BLmpzPzM0ZTciXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpSTUE6bG9hZCcsICgpID0+IHtcbiAgJCgnLmJ1bmRsZSAuc2V0IGEnKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICghJHRoaXMuaGFzQ2xhc3MoJ3NldC1vcGVuJykpIHtcbiAgICAgICR0aGlzLmFkZENsYXNzKCdzZXQtb3BlbicpO1xuICAgICAgJHRoaXMucGFyZW50cygnLmluZm8nKS5uZXh0KCkubmV4dCgpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnc2V0LW9wZW4nKTtcbiAgICAgICR0aGlzLnBhcmVudHMoJy5pbmZvJykubmV4dCgpLm5leHQoKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKCcja29sb24tY29udGVudCcpLm9uKCdjbGljaycsICcuYnVuZGxlIC5zZXQgYScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHBhcmVudEVsZSA9ICR0aGlzLnBhcmVudHMoJy5idW5kbGUnKTtcbiAgICBpZiAoISR0aGlzLmhhc0NsYXNzKCdzZXQtb3BlbicpKSB7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnc2V0LW9wZW4nKTtcbiAgICAgIHBhcmVudEVsZS5maW5kKCcuc2V0LXByb2QnKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdzZXQtb3BlbicpO1xuICAgICAgcGFyZW50RWxlLmZpbmQoJy5zZXQtcHJvZCcpLmhpZGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJCgnI3NlYXJjaEtleVNlbGVjdCcpLmNoYW5nZSgoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGxldCBtc2cgPSBcIuyeheugpe2VtOyjvOyEuOyalC5cIjtcbiAgICBpZigkdGhpcy52YWwoKSA9PT0gJ2NvZGUnKSB7XG4gICAgICBtc2cgPSBcIuyDge2SiOy9lOuTnOulvCDsnoXroKXtlbQg7KO87IS47JqULlwiO1xuICAgIH0gZWxzZSBpZigkdGhpcy52YWwoKSA9PT0gJ25hbWUnKSB7XG4gICAgICBtc2cgPSBcIuyDge2SiOuqheydhCDsnoXroKXtlbQg7KO87IS47JqULlwiXG4gICAgfVxuICAgICQoJyNzZWFyY2hXb3JkSW5wdXQnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgbXNnKTtcbiAgfSk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1JNQS5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///168\n");

/***/ }),
/* 169 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Review:load', function () {\n  var reviewList = $('#reviewList');\n  var reviewItemTemplate = null;\n  var productItemTemplate = null;\n  var type = reviewList.data('type');\n  var reviewCount = type == 'R' ? reviewList.data('registeredCount') : reviewList.data('unregisteredCount');\n  var pageSize = reviewList.data('pageSize');\n  var pageNumber = reviewList.data('pageNumber');\n  var isMore = reviewCount > (pageNumber + 1) * pageSize;\n  var callPage = $('#callPage').val();\n\n  $('#reviewListLoading').hide();\n  if (reviewCount > 0 && isMore) $('#moreBtn').show();\n\n  function getReviewList() {\n    var params = {\n      type: type,\n      pageNumber: pageNumber,\n      pageSize: pageSize\n    };\n    var endOfData = false;\n    $('#moreBtn').hide();\n    $('#reviewListLoading').show();\n    $.ajax({\n      url: '/Review/Reviews',\n      method: 'GET',\n      data: params,\n      dataType: 'JSON',\n      cache: false,\n      success: function success(data) {\n        if (data.reviewData.results && data.reviewData.results.length > 0) {\n          $.each(data.reviewData.results, function (index, element) {\n            var reviews = element;\n            reviews.reviewType = type;\n            if (pageNumber == 0 && index == 0) {\n              reviewList.html(productItemTemplate(reviews));\n              if (type == 'R') {\n                reviewList.append(reviewItemTemplate(reviews));\n              }\n            } else {\n              reviewList.append(productItemTemplate(reviews));\n              if (type == 'R') {\n                reviewList.append(reviewItemTemplate(reviews));\n              }\n            }\n          });\n          var pNumber = data.reviewData.page.currentPage + 1;\n          if (reviewCount <= pNumber * pageSize) {\n            endOfData = true;\n          }\n        } else {\n          if (pageNumber == 0) {\n            reviewList.hide();\n          }\n          endOfData = true;\n        }\n      }\n    }).always(function () {\n      $('#reviewListLoading').hide();\n\n      if (endOfData) {\n        $('#moreBtn').hide();\n      } else {\n        $('#moreBtn').show();\n      }\n    });\n  }\n\n  function removeReview(productCode, commentSeq) {\n    var confirmResult = confirm('정말로 삭제하시겠습니까?');\n    if (confirmResult) {\n      $.ajax({\n        url: '/Review/' + productCode + '/Remove?commentSeq=' + commentSeq,\n        type: 'DELETE',\n        success: function success(data) {\n          if (data.status == 'ok') {\n            alert('상품평이 삭제되었습니다.');\n            location.href = '/Review/RegisteredList?type=' + type;\n          } else {\n            alert(data.message);\n          }\n        },\n        error: function error(data) {\n          alert(data.responseJSON.message);\n        }\n      });\n    }\n  }\n\n  if (reviewList.length > 0) {\n    productItemTemplate = Handlebars.templates['mobile/precompiles/review/product-item'];\n    reviewItemTemplate = Handlebars.templates['mobile/precompiles/review/reviews-item'];\n\n    reviewList.on('click', '.del', function (e) {\n      e.preventDefault();\n      var productCode = $(e.currentTarget).data('productCode');\n      var commentSeq = $(e.currentTarget).data('commentSeq');\n      removeReview(productCode, commentSeq);\n    });\n\n    reviewList.on('click', '.reviewProductImg', function (e) {\n      e.preventDefault();\n      var productCode = $(e.currentTarget).data('productCode');\n      location.href = '/Product/' + productCode;\n    });\n  }\n\n  $('#moreBtn').click(function (e) {\n    e.preventDefault();\n    pageNumber++;\n    getReviewList();\n  });\n\n  $('#baseMsgs').on('change', function () {\n    var selVal = $('#baseMsgs option:selected').val();\n    if (selVal) {\n      $('#comment').val($('#baseMsgs option:selected').text());\n    } else {\n      $('#comment').val('');\n    }\n  });\n\n  $('#ex-file').on('click', function (e) {\n    $(e.currentTarget).val(null);\n  });\n\n  $('#ex-file').on('change', function (e) {\n    var $this = $(e.currentTarget);\n    var file = $this[0].files[0];\n    var imageType = /image.*/;\n    if (!file.type.match(imageType)) {\n      return;\n    } else if (/(\\.?\\.\\/|\\.?\\.\\\\|%)/i.test(file.name)) {\n      alert('파일명에 특수문자(/,\\\\,%)가 포함 될 수 없습니다.');\n      return;\n    }\n    var maxFileSize = 2048000;\n    if (file.size > maxFileSize) {\n      alert('파일 용량을 초과하였습니다.');\n      return;\n    }\n    var productImg = $('#productImg');\n    var reader = new FileReader();\n    reader.onload = function (ee) {\n      var src = ee.target.result;\n      productImg.attr('src', src);\n    };\n    reader.readAsDataURL(file);\n    $('#gallery').show();\n  });\n\n  var $reviewAddForm = $('#reviewAddForm');\n\n  $('.click-rgt').on('click', function (e) {\n    e.preventDefault();\n    $('#rating').val($('.star-rating > .on').length);\n    $reviewAddForm.submit();\n  });\n\n  $reviewAddForm.validate({\n    rules: {\n      headline: {\n        required: true,\n        maxlength: 20\n      },\n      comment: {\n        required: true\n      },\n      rating: {\n        required: true\n      }\n    },\n    messages: {\n      headline: {\n        required: '제목을 입력해 주세요.',\n        maxlength: '제목을 20자 이하로 입력해 주세요.'\n      },\n      comment: {\n        required: '상품평을 입력해 주세요.'\n      },\n      rating: {\n        required: '상품만족도를 선택해 주세요.'\n      }\n    },\n    submitHandler: function submitHandler() {\n      var reviewAddBtnLadda = Ladda.create($('.click-rgt')[0]);\n      reviewAddBtnLadda.start();\n      if ($('#rating').val() < 1) {\n        alert('상품만족도를 선택해 주세요.');\n        reviewAddBtnLadda.stop();\n        return false;\n      }\n\n      var productCode = $reviewAddForm.find('input[name=productCode]').val();\n      var formData = new FormData($reviewAddForm[0]);\n      if (confirm('등록하시겠습니까?')) {\n        $.ajax({\n          url: '/Review/' + productCode + '/Add',\n          type: 'POST',\n          enctype: 'multipart/form-data',\n          data: formData,\n          processData: false,\n          contentType: false,\n          cache: false,\n          success: function success(data) {\n            if (data.status == 'ok') {\n              if (callPage == 'REVIEW') {\n                location.href = '/Review/RegisteredList';\n              } else if (callPage == 'PRODUCT') {\n                location.href = '/Product/' + productCode;\n              }\n            } else {\n              alert(data.message);\n            }\n          },\n          error: function error(data) {\n            alert(data.responseJSON.message);\n            reviewAddBtnLadda.stop();\n          }\n        });\n      } else {\n        reviewAddBtnLadda.stop();\n      }\n      return false;\n    }\n  });\n\n  $('.click-cl').on('click', function (e) {\n    e.preventDefault();\n    if (confirm('입력한 내용이 저장되지 않고 삭제됩니다. 취소하시겠습니까?')) {\n      $pt.history.back();\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUmV2aWV3LmFjdGlvbi5qcz85OTRiIl0sInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6UmV2aWV3OmxvYWQnLCAoKSA9PiB7XG4gIGNvbnN0IHJldmlld0xpc3QgPSAkKCcjcmV2aWV3TGlzdCcpO1xuICBsZXQgcmV2aWV3SXRlbVRlbXBsYXRlID0gbnVsbDtcbiAgbGV0IHByb2R1Y3RJdGVtVGVtcGxhdGUgPSBudWxsO1xuICBjb25zdCB0eXBlID0gcmV2aWV3TGlzdC5kYXRhKCd0eXBlJyk7XG4gIGNvbnN0IHJldmlld0NvdW50ID0gdHlwZSA9PSAnUicgPyByZXZpZXdMaXN0LmRhdGEoJ3JlZ2lzdGVyZWRDb3VudCcpIDogcmV2aWV3TGlzdC5kYXRhKCd1bnJlZ2lzdGVyZWRDb3VudCcpO1xuICBjb25zdCBwYWdlU2l6ZSA9IHJldmlld0xpc3QuZGF0YSgncGFnZVNpemUnKTtcbiAgbGV0IHBhZ2VOdW1iZXIgPSByZXZpZXdMaXN0LmRhdGEoJ3BhZ2VOdW1iZXInKTtcbiAgY29uc3QgaXNNb3JlID0gcmV2aWV3Q291bnQgPiAocGFnZU51bWJlciArIDEpICogcGFnZVNpemU7XG4gIGNvbnN0IGNhbGxQYWdlID0gJCgnI2NhbGxQYWdlJykudmFsKCk7XG5cbiAgJCgnI3Jldmlld0xpc3RMb2FkaW5nJykuaGlkZSgpO1xuICBpZiAocmV2aWV3Q291bnQgPiAwICYmIGlzTW9yZSkgJCgnI21vcmVCdG4nKS5zaG93KCk7XG5cbiAgZnVuY3Rpb24gZ2V0UmV2aWV3TGlzdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICB0eXBlLFxuICAgICAgcGFnZU51bWJlcixcbiAgICAgIHBhZ2VTaXplLFxuICAgIH07XG4gICAgbGV0IGVuZE9mRGF0YSA9IGZhbHNlO1xuICAgICQoJyNtb3JlQnRuJykuaGlkZSgpO1xuICAgICQoJyNyZXZpZXdMaXN0TG9hZGluZycpLnNob3coKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL1Jldmlldy9SZXZpZXdzJyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBkYXRhOiBwYXJhbXMsXG4gICAgICBkYXRhVHlwZTogJ0pTT04nLFxuICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGRhdGEucmV2aWV3RGF0YS5yZXN1bHRzICYmIGRhdGEucmV2aWV3RGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkLmVhY2goZGF0YS5yZXZpZXdEYXRhLnJlc3VsdHMsIChpbmRleCwgZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmV2aWV3cyA9IGVsZW1lbnQ7XG4gICAgICAgICAgICByZXZpZXdzLnJldmlld1R5cGUgPSB0eXBlO1xuICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPT0gMCAmJiBpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAgIHJldmlld0xpc3QuaHRtbChwcm9kdWN0SXRlbVRlbXBsYXRlKHJldmlld3MpKTtcbiAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ1InKSB7XG4gICAgICAgICAgICAgICAgcmV2aWV3TGlzdC5hcHBlbmQocmV2aWV3SXRlbVRlbXBsYXRlKHJldmlld3MpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV2aWV3TGlzdC5hcHBlbmQocHJvZHVjdEl0ZW1UZW1wbGF0ZShyZXZpZXdzKSk7XG4gICAgICAgICAgICAgIGlmICh0eXBlID09ICdSJykge1xuICAgICAgICAgICAgICAgIHJldmlld0xpc3QuYXBwZW5kKHJldmlld0l0ZW1UZW1wbGF0ZShyZXZpZXdzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwTnVtYmVyID0gKGRhdGEucmV2aWV3RGF0YS5wYWdlLmN1cnJlbnRQYWdlICsgMSk7XG4gICAgICAgICAgaWYgKHJldmlld0NvdW50IDw9IHBOdW1iZXIgKiBwYWdlU2l6ZSkge1xuICAgICAgICAgICAgZW5kT2ZEYXRhID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPT0gMCkge1xuICAgICAgICAgICAgcmV2aWV3TGlzdC5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZE9mRGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSkuYWx3YXlzKCgpID0+IHtcbiAgICAgICQoJyNyZXZpZXdMaXN0TG9hZGluZycpLmhpZGUoKTtcblxuICAgICAgaWYgKGVuZE9mRGF0YSkge1xuICAgICAgICAkKCcjbW9yZUJ0bicpLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyNtb3JlQnRuJykuc2hvdygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlUmV2aWV3KHByb2R1Y3RDb2RlLCBjb21tZW50U2VxKSB7XG4gICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGNvbmZpcm0oJ+ygleunkOuhnCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Jyk7XG4gICAgaWYgKGNvbmZpcm1SZXN1bHQpIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogYC9SZXZpZXcvJHtwcm9kdWN0Q29kZX0vUmVtb3ZlP2NvbW1lbnRTZXE9JHtjb21tZW50U2VxfWAsXG4gICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgICBhbGVydCgn7IOB7ZKI7Y+J7J20IOyCreygnOuQmOyXiOyKteuLiOuLpC4nKTtcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL1Jldmlldy9SZWdpc3RlcmVkTGlzdD90eXBlPScgKyB0eXBlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChkYXRhKSA9PiB7XG4gICAgICAgICAgYWxlcnQoZGF0YS5yZXNwb25zZUpTT04ubWVzc2FnZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAocmV2aWV3TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgcHJvZHVjdEl0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvcmV2aWV3L3Byb2R1Y3QtaXRlbSddO1xuICAgIHJldmlld0l0ZW1UZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzWydtb2JpbGUvcHJlY29tcGlsZXMvcmV2aWV3L3Jldmlld3MtaXRlbSddO1xuXG4gICAgcmV2aWV3TGlzdC5vbignY2xpY2snLCAnLmRlbCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBwcm9kdWN0Q29kZSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdwcm9kdWN0Q29kZScpO1xuICAgICAgY29uc3QgY29tbWVudFNlcSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdjb21tZW50U2VxJyk7XG4gICAgICByZW1vdmVSZXZpZXcocHJvZHVjdENvZGUsIGNvbW1lbnRTZXEpO1xuICAgIH0pO1xuXG4gICAgcmV2aWV3TGlzdC5vbignY2xpY2snLCAnLnJldmlld1Byb2R1Y3RJbWcnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgcHJvZHVjdENvZGUgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgncHJvZHVjdENvZGUnKTtcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSBgL1Byb2R1Y3QvJHtwcm9kdWN0Q29kZX1gO1xuICAgIH0pO1xuICB9XG5cbiAgJCgnI21vcmVCdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBwYWdlTnVtYmVyKys7XG4gICAgZ2V0UmV2aWV3TGlzdCgpO1xuICB9KTtcblxuICAkKCcjYmFzZU1zZ3MnKS5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHNlbFZhbCA9ICQoJyNiYXNlTXNncyBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICBpZiAoc2VsVmFsKSB7XG4gICAgICAkKCcjY29tbWVudCcpLnZhbCgkKCcjYmFzZU1zZ3Mgb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI2NvbW1lbnQnKS52YWwoJycpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI2V4LWZpbGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICQoZS5jdXJyZW50VGFyZ2V0KS52YWwobnVsbCk7XG4gIH0pO1xuXG4gICQoJyNleC1maWxlJykub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgZmlsZSA9ICR0aGlzWzBdLmZpbGVzWzBdO1xuICAgIGNvbnN0IGltYWdlVHlwZSA9IC9pbWFnZS4qLztcbiAgICBpZiAoIWZpbGUudHlwZS5tYXRjaChpbWFnZVR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICgvKFxcLj9cXC5cXC98XFwuP1xcLlxcXFx8JSkvaS50ZXN0KGZpbGUubmFtZSkpIHtcbiAgICAgIGFsZXJ0KCftjIzsnbzrqoXsl5Ag7Yq57IiY66y47J6QKC8sXFxcXCwlKeqwgCDtj6ztlagg65CgIOyImCDsl4bsirXri4jri6QuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1heEZpbGVTaXplID0gMjA0ODAwMDtcbiAgICBpZiAoZmlsZS5zaXplID4gbWF4RmlsZVNpemUpIHtcbiAgICAgIGFsZXJ0KCftjIzsnbwg7Jqp65+J7J2EIOy0iOqzvO2VmOyYgOyKteuLiOuLpC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvZHVjdEltZyA9ICQoJyNwcm9kdWN0SW1nJyk7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gKGVlKSA9PiB7XG4gICAgICBjb25zdCBzcmMgPSBlZS50YXJnZXQucmVzdWx0O1xuICAgICAgcHJvZHVjdEltZy5hdHRyKCdzcmMnLCBzcmMpO1xuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgJCgnI2dhbGxlcnknKS5zaG93KCk7XG4gIH0pO1xuXG4gIGNvbnN0ICRyZXZpZXdBZGRGb3JtID0gJCgnI3Jldmlld0FkZEZvcm0nKTtcblxuICAkKCcuY2xpY2stcmd0Jykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnI3JhdGluZycpLnZhbCgkKCcuc3Rhci1yYXRpbmcgPiAub24nKS5sZW5ndGgpO1xuICAgICRyZXZpZXdBZGRGb3JtLnN1Ym1pdCgpO1xuICB9KTtcblxuICAkcmV2aWV3QWRkRm9ybS52YWxpZGF0ZSh7XG4gICAgcnVsZXM6IHtcbiAgICAgIGhlYWRsaW5lOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBtYXhsZW5ndGg6IDIwLFxuICAgICAgfSxcbiAgICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgcmF0aW5nOiB7XG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIG1lc3NhZ2VzOiB7XG4gICAgICBoZWFkbGluZToge1xuICAgICAgICByZXF1aXJlZDogJ+ygnOuqqeydhCDsnoXroKXtlbQg7KO87IS47JqULicsXG4gICAgICAgIG1heGxlbmd0aDogJ+ygnOuqqeydhCAyMOyekCDsnbTtlZjroZwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgcmVxdWlyZWQ6ICfsg4Htkojtj4nsnYQg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgfSxcbiAgICAgIHJhdGluZzoge1xuICAgICAgICByZXF1aXJlZDogJ+yDge2SiOunjOyhseuPhOulvCDshKDtg53tlbQg7KO87IS47JqULicsXG4gICAgICB9LFxuICAgIH0sXG4gICAgc3VibWl0SGFuZGxlcjogKCkgPT4ge1xuICAgICAgY29uc3QgcmV2aWV3QWRkQnRuTGFkZGEgPSBMYWRkYS5jcmVhdGUoJCgnLmNsaWNrLXJndCcpWzBdKTtcbiAgICAgIHJldmlld0FkZEJ0bkxhZGRhLnN0YXJ0KCk7XG4gICAgICBpZiAoJCgnI3JhdGluZycpLnZhbCgpIDwgMSkge1xuICAgICAgICBhbGVydCgn7IOB7ZKI66eM7KGx64+E66W8IOyEoO2Dne2VtCDso7zshLjsmpQuJyk7XG4gICAgICAgIHJldmlld0FkZEJ0bkxhZGRhLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm9kdWN0Q29kZSA9ICRyZXZpZXdBZGRGb3JtLmZpbmQoJ2lucHV0W25hbWU9cHJvZHVjdENvZGVdJykudmFsKCk7XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgkcmV2aWV3QWRkRm9ybVswXSk7XG4gICAgICBpZiAoY29uZmlybSgn65Ox66Gd7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiBgL1Jldmlldy8ke3Byb2R1Y3RDb2RlfS9BZGRgLFxuICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICBlbmN0eXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsXG4gICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XG4gICAgICAgICAgICAgIGlmIChjYWxsUGFnZSA9PSAnUkVWSUVXJykge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL1Jldmlldy9SZWdpc3RlcmVkTGlzdCc7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbFBhZ2UgPT0gJ1BST0RVQ1QnKSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGAvUHJvZHVjdC8ke3Byb2R1Y3RDb2RlfWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFsZXJ0KGRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEucmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV2aWV3QWRkQnRuTGFkZGEuc3RvcCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV2aWV3QWRkQnRuTGFkZGEuc3RvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH0pO1xuXG4gICQoJy5jbGljay1jbCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChjb25maXJtKCfsnoXroKXtlZwg64K07Jqp7J20IOyggOyepeuQmOyngCDslYrqs6Ag7IKt7KCc65Cp64uI64ukLiDst6jshoztlZjsi5zqsqDsirXri4jquYw/JykpIHtcbiAgICAgICRwdC5oaXN0b3J5LmJhY2soKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9SZXZpZXcuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpDQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBUkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBUkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqRUE7QUFDQTtBQW1FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///169\n");

/***/ }),
/* 170 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:Review:load', function () {\n  $('.star-rating:not(.registered) a').click(function (e) {\n    var $this = $(e.currentTarget);\n    $this.parent().children('a').removeClass('on');\n    $this.addClass('on').prevAll('a').addClass('on');\n    return false;\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUmV2aWV3LmpzP2Q4NmYiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTpSZXZpZXc6bG9hZCcsICgpID0+IHtcbiAgJCgnLnN0YXItcmF0aW5nOm5vdCgucmVnaXN0ZXJlZCkgYScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgJHRoaXMucGFyZW50KCkuY2hpbGRyZW4oJ2EnKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnb24nKS5wcmV2QWxsKCdhJykuYWRkQ2xhc3MoJ29uJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvUmV2aWV3LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///170\n");

/***/ }),
/* 171 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _common = __webpack_require__(11);\n\n$(document).on('mobile:Search:load', function () {\n  var baseKeyword = $('#keyword').val();\n  (0, _common.setMoreBtnEvent)('.productMoreBtn', 'mobile');\n\n  $('.srch-word input').keyup(function (e) {\n    var $this = $(e.currentTarget);\n    if ($this.val() == null || $this.val() == '' || $this.val() == 'undefined' || baseKeyword == $this.val()) {\n      $this.next().css('display', 'none');\n      $('.search').addClass('gray');\n      //$('.typing').css('display', 'none');\n    } else {\n      $this.next().css('display', 'block');\n      $('.search').removeClass('gray');\n      //$('.typing').css('display', 'block');\n    }\n  });\n\n  $('.srch-word input').keydown(function (e) {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      var keyword = $(e.currentTarget).val();\n      if (keyword === undefined || keyword == null || keyword == '') {\n        alert('검색어를 입력해 주세요.');\n        return;\n      }\n\n      location.replace('/Search?keyword=' + keyword);\n    }\n  });\n\n  $('.srch-word .reset').click(function (e) {\n    var $this = $(e.currentTarget);\n    // $this.prev('input').val(baseKeyword);\n    //초기화 시키는 것으로 변경\n    $this.prev('input').val(\"\");\n    $this.css('display', 'none');\n    $this.parent().siblings().children('.search').addClass('gray');\n    $('.typing').css('display', 'none');\n    return false;\n  });\n\n  $('.close').click(function () {\n    if ($pt.isApp()) {\n      $pt.navigation.pop();\n    } else {\n      history.go(-1);\n    }\n  });\n\n  $('#backBtn').click(function (e) {\n    location.replace('/Search');\n  });\n  $('.recomend a, .typing a').click(function (e) {\n    e.preventDefault();\n\n    var keyword = $(e.currentTarget).text();\n    if (keyword === undefined || keyword == null || keyword == '') {\n      alert('검색어를 입력해 주세요.');\n      return;\n    }\n\n    location.replace('/Search?keyword=' + keyword);\n  });\n\n  $('.search').click(function (e) {\n    e.preventDefault();\n\n    if ($(e.currentTarget).hasClass('gray')) {\n      return;\n    }\n\n    var keyword = $('#keyword').val();\n    if (baseKeyword == keyword) {\n      return;\n    }\n\n    location.replace('/Search?keyword=' + keyword);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU2VhcmNoLmFjdGlvbi5qcz8zMjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldE1vcmVCdG5FdmVudCB9IGZyb20gJy4uL2NvbW1vbi9jb21tb24nO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOlNlYXJjaDpsb2FkJywgKCkgPT4ge1xuICBjb25zdCBiYXNlS2V5d29yZCA9ICQoJyNrZXl3b3JkJykudmFsKCk7XG4gIHNldE1vcmVCdG5FdmVudCgnLnByb2R1Y3RNb3JlQnRuJywgJ21vYmlsZScpO1xuXG4gICQoJy5zcmNoLXdvcmQgaW5wdXQnKS5rZXl1cCgoZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBpZiAoJHRoaXMudmFsKCkgPT0gbnVsbCB8fCAkdGhpcy52YWwoKSA9PSAnJyB8fCAkdGhpcy52YWwoKSA9PSAndW5kZWZpbmVkJyB8fCBiYXNlS2V5d29yZCA9PSAkdGhpcy52YWwoKSkge1xuICAgICAgICAkdGhpcy5uZXh0KCkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgJCgnLnNlYXJjaCcpLmFkZENsYXNzKCdncmF5Jyk7XG4gICAgICAgIC8vJCgnLnR5cGluZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkdGhpcy5uZXh0KCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICQoJy5zZWFyY2gnKS5yZW1vdmVDbGFzcygnZ3JheScpO1xuICAgICAgICAvLyQoJy50eXBpbmcnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgJCgnLnNyY2gtd29yZCBpbnB1dCcpLmtleWRvd24oKGUpID0+IHtcbiAgICBpZihlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBrZXl3b3JkID0gJChlLmN1cnJlbnRUYXJnZXQpLnZhbCgpO1xuICAgICAgaWYoa2V5d29yZCA9PT0gdW5kZWZpbmVkIHx8IGtleXdvcmQgPT0gbnVsbCB8fCBrZXl3b3JkID09ICcnKSB7XG4gICAgICAgIGFsZXJ0KCfqsoDsg4nslrTrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb2NhdGlvbi5yZXBsYWNlKCcvU2VhcmNoP2tleXdvcmQ9JyArIGtleXdvcmQpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnLnNyY2gtd29yZCAucmVzZXQnKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIC8vICR0aGlzLnByZXYoJ2lucHV0JykudmFsKGJhc2VLZXl3b3JkKTtcbiAgICAvL+y0iOq4sO2ZlCDsi5ztgqTripQg6rKD7Jy866GcIOuzgOqyvVxuICAgICR0aGlzLnByZXYoJ2lucHV0JykudmFsKFwiXCIpO1xuICAgICR0aGlzLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJHRoaXMucGFyZW50KCkuc2libGluZ3MoKS5jaGlsZHJlbignLnNlYXJjaCcpLmFkZENsYXNzKCdncmF5Jyk7XG4gICAgJCgnLnR5cGluZycpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAkKCcuY2xvc2UnKS5jbGljaygoKSA9PiB7XG4gICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAkcHQubmF2aWdhdGlvbi5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlzdG9yeS5nbygtMSk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjYmFja0J0bicpLmNsaWNrKChlKSA9PiB7XG4gICAgbG9jYXRpb24ucmVwbGFjZSgnL1NlYXJjaCcpO1xuICB9KTtcbiAgJCgnLnJlY29tZW5kIGEsIC50eXBpbmcgYScpLmNsaWNrKChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qga2V5d29yZCA9ICQoZS5jdXJyZW50VGFyZ2V0KS50ZXh0KCk7XG4gICAgaWYoa2V5d29yZCA9PT0gdW5kZWZpbmVkIHx8IGtleXdvcmQgPT0gbnVsbCB8fCBrZXl3b3JkID09ICcnKSB7XG4gICAgICBhbGVydCgn6rKA7IOJ7Ja066W8IOyeheugpe2VtCDso7zshLjsmpQuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9jYXRpb24ucmVwbGFjZSAoJy9TZWFyY2g/a2V5d29yZD0nICsga2V5d29yZCk7XG4gIH0pO1xuXG4gICQoJy5zZWFyY2gnKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmKCQoZS5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygnZ3JheScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qga2V5d29yZCA9ICQoJyNrZXl3b3JkJykudmFsKCk7XG4gICAgaWYoYmFzZUtleXdvcmQgPT0ga2V5d29yZCApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2NhdGlvbi5yZXBsYWNlKCcvU2VhcmNoP2tleXdvcmQ9JyArIGtleXdvcmQpO1xuICB9KTtcblxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9TZWFyY2guYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///171\n");

/***/ }),
/* 172 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _queryString = __webpack_require__(6);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Search:load', function () {\n  // 바코드 코드를 임의로 수정하여 전송함\n  var isOldCodeSystem = function isOldCodeSystem(code) {\n    var checkIndex = 5;\n    return code.substring(checkIndex - 1, checkIndex).match(/[0-9]/);\n  };\n\n  var isNewCodeExceptCase = function isNewCodeExceptCase(code) {\n    var checkIndex = 11;\n    return code.substring(checkIndex - 1, checkIndex).match(/[0-9]/);\n  };\n\n  var getProd = function getProd(code) {\n    var prod = '';\n\n    if (isOldCodeSystem(code)) {\n      prod = code.substring(0, 9).concat(code.substring(11, 13));\n    } else {\n      if (isNewCodeExceptCase(code)) {\n        prod = code.substring(0, 10).concat(code.substring(12, 15));\n      } else {\n        prod = code.substring(0, 13);\n      }\n    }\n\n    return prod;\n  };\n\n  var barcodeCallback = function barcodeCallback(ret) {\n    // type - QR, BARCODE\n    var code = ret.code,\n        type = ret.type,\n        value = ret.value;\n\n    var val = value.trim();\n\n    if (code == 'ok' && val) {\n      if (val.indexOf('http://mkopapp.kolon.com/chk_kop.html?store_cd') == 0 || val.indexOf('http://mkopapp.kolon.com/chk_ksm.html?store_cd') == 0) {\n        if (!window._userLoggedIn) {\n          alert('로그인이 필요한 서비스입니다.');\n          return;\n        }\n        var searchParam = _queryString2.default.parse(val.substring(val.indexOf('?')));\n        var csrfToken = $('[name=CSRFToken]').val();\n        var shopCode = searchParam.store_cd;\n        var pointData = { CSRFToken: csrfToken, shopCode: shopCode };\n\n        $.post('/Search/AddShopPoint', pointData).done(function (data) {\n          if (data && data.resultDesc) {\n            if (data.resultCd == 'E') {\n              alert(data.resultDesc);\n            } else {\n              if (confirm(data.resultDesc + '\\n포인트를 확인하시겠습니까?')) {\n                if ($pt.isApp()) {\n                  $pt.navigation.push({ url: '/Point' });\n                } else {\n                  location.href = '/Point';\n                }\n              }\n            }\n          } else {\n            alert('처리중 오류가 발생하였습니다.');\n          }\n        }).fail(function (data) {\n          alert(data.responseJSON.message || '처리중 오류가 발생하였습니다.');\n        });\n      } else if (val.indexOf('http') == 0) {\n        if (val.includes('kolon.com') || val.includes('kolonmall.com')) {\n          $pt.navigation.push({ url: val });\n        } else {\n          alert('올바르지 않는 바코드 입니다');\n        }\n      } else {\n        // 상품코드로 인식\n        var prodCode = getProd(val);\n        $pt.navigation.push({ url: '/Product/' + prodCode });\n      }\n    } else {\n      alert('바코드 인식에 실패했습니다. 다시 한번 시도해주세요.');\n    }\n  };\n\n  $('#barcodeBtn').click(function () {\n    var params = {\n      callback: barcodeCallback\n    };\n    $pt.msg.call('barcode', 'call', params);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU2VhcmNoLmpzPzJjMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6U2VhcmNoOmxvYWQnLCAoKSA9PiB7XG4gIC8vIOuwlOy9lOuTnCDsvZTrk5zrpbwg7J6E7J2Y66GcIOyImOygle2VmOyXrCDsoITshqHtlahcbiAgY29uc3QgaXNPbGRDb2RlU3lzdGVtID0gKGNvZGUpID0+IHtcbiAgICBjb25zdCBjaGVja0luZGV4ID0gNTtcbiAgICByZXR1cm4gY29kZS5zdWJzdHJpbmcoY2hlY2tJbmRleCAtIDEsIGNoZWNrSW5kZXgpLm1hdGNoKC9bMC05XS8pO1xuICB9O1xuXG4gIGNvbnN0IGlzTmV3Q29kZUV4Y2VwdENhc2UgPSAoY29kZSkgPT4ge1xuICAgIGNvbnN0IGNoZWNrSW5kZXggPSAxMTtcbiAgICByZXR1cm4gY29kZS5zdWJzdHJpbmcoY2hlY2tJbmRleCAtIDEsIGNoZWNrSW5kZXgpLm1hdGNoKC9bMC05XS8pO1xuICB9O1xuXG4gIGNvbnN0IGdldFByb2QgPSAoY29kZSkgPT4ge1xuICAgIGxldCBwcm9kID0gJyc7XG5cbiAgICBpZiAoaXNPbGRDb2RlU3lzdGVtKGNvZGUpKSB7XG4gICAgICBwcm9kID0gY29kZS5zdWJzdHJpbmcoMCwgOSkuY29uY2F0KGNvZGUuc3Vic3RyaW5nKDExLCAxMykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNOZXdDb2RlRXhjZXB0Q2FzZShjb2RlKSkge1xuICAgICAgICBwcm9kID0gY29kZS5zdWJzdHJpbmcoMCwgMTApLmNvbmNhdChjb2RlLnN1YnN0cmluZygxMiwgMTUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2QgPSBjb2RlLnN1YnN0cmluZygwLCAxMyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2Q7XG4gIH07XG5cbiAgY29uc3QgYmFyY29kZUNhbGxiYWNrID0gKHJldCkgPT4ge1xuICAgIC8vIHR5cGUgLSBRUiwgQkFSQ09ERVxuICAgIGNvbnN0IHsgY29kZSwgdHlwZSwgdmFsdWUgfSA9IHJldDtcbiAgICBjb25zdCB2YWwgPSB2YWx1ZS50cmltKCk7XG5cbiAgICBpZiAoY29kZSA9PSAnb2snICYmIHZhbCkge1xuICAgICAgaWYgKHZhbC5pbmRleE9mKCdodHRwOi8vbWtvcGFwcC5rb2xvbi5jb20vY2hrX2tvcC5odG1sP3N0b3JlX2NkJykgPT0gMCB8fFxuICAgICAgICB2YWwuaW5kZXhPZignaHR0cDovL21rb3BhcHAua29sb24uY29tL2Noa19rc20uaHRtbD9zdG9yZV9jZCcpID09IDApIHtcbiAgICAgICAgaWYgKCF3aW5kb3cuX3VzZXJMb2dnZWRJbikge1xuICAgICAgICAgIGFsZXJ0KCfroZzqt7jsnbjsnbQg7ZWE7JqU7ZWcIOyEnOu5hOyKpOyeheuLiOuLpC4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW0gPSBxdWVyeVN0cmluZy5wYXJzZSh2YWwuc3Vic3RyaW5nKHZhbC5pbmRleE9mKCc/JykpKTtcbiAgICAgICAgY29uc3QgY3NyZlRva2VuID0gJCgnW25hbWU9Q1NSRlRva2VuXScpLnZhbCgpO1xuICAgICAgICBjb25zdCBzaG9wQ29kZSA9IHNlYXJjaFBhcmFtLnN0b3JlX2NkO1xuICAgICAgICBjb25zdCBwb2ludERhdGEgPSB7IENTUkZUb2tlbjogY3NyZlRva2VuLCBzaG9wQ29kZSB9O1xuXG4gICAgICAgICAgJC5wb3N0KCcvU2VhcmNoL0FkZFNob3BQb2ludCcsIHBvaW50RGF0YSlcbiAgICAgICAgICAgICAgLmRvbmUoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5yZXN1bHREZXNjKSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdENkID09ICdFJykge1xuICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5yZXN1bHREZXNjKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKGRhdGEucmVzdWx0RGVzYyArICdcXG7tj6zsnbjtirjrpbwg7ZmV7J247ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCRwdC5pc0FwcCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRwdC5uYXZpZ2F0aW9uLnB1c2goeyB1cmw6ICcvUG9pbnQnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL1BvaW50JztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbGVydCgn7LKY66as7KSRIOyYpOulmOqwgCDrsJzsg53tlZjsmIDsirXri4jri6QuJyk7XG4gICAgICAgICAgfVxuICAgICAgfSlcbiAgICAgICAgICAuZmFpbCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5yZXNwb25zZUpTT04ubWVzc2FnZSB8fCAn7LKY66as7KSRIOyYpOulmOqwgCDrsJzsg53tlZjsmIDsirXri4jri6QuJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbC5pbmRleE9mKCdodHRwJykgPT0gMCkge1xuICAgICAgICBpZiAodmFsLmluY2x1ZGVzKCdrb2xvbi5jb20nKSB8fCB2YWwuaW5jbHVkZXMoJ2tvbG9ubWFsbC5jb20nKSkge1xuICAgICAgICAgICRwdC5uYXZpZ2F0aW9uLnB1c2goeyB1cmw6IHZhbCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydCgn7Jis67CU66W07KeAIOyViuuKlCDrsJTsvZTrk5wg7J6F64uI64ukJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOyDge2SiOy9lOuTnOuhnCDsnbjsi51cbiAgICAgICAgY29uc3QgcHJvZENvZGUgPSBnZXRQcm9kKHZhbCk7XG4gICAgICAgICRwdC5uYXZpZ2F0aW9uLnB1c2goeyB1cmw6IGAvUHJvZHVjdC8ke3Byb2RDb2RlfWAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KCfrsJTsvZTrk5wg7J247Iud7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4g64uk7IucIO2VnOuyiCDsi5zrj4TtlbTso7zshLjsmpQuJyk7XG4gICAgfVxuICB9O1xuXG4gICQoJyNiYXJjb2RlQnRuJykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGNhbGxiYWNrOiBiYXJjb2RlQ2FsbGJhY2ssXG4gICAgfTtcbiAgICAkcHQubXNnLmNhbGwoJ2JhcmNvZGUnLCAnY2FsbCcsIHBhcmFtcyk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9TZWFyY2guanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///172\n");

/***/ }),
/* 173 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _queryString = __webpack_require__(6);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nvar _More = __webpack_require__(8);\n\nvar _More2 = _interopRequireDefault(_More);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Special:load', function () {\n  // 기획전 상세 상품 더보기\n  $('.list2-prod').each(function (idx) {\n    var $this = $(this);\n    var no = $this.data('no');\n    var groupIndex = $this.data('group-index');\n\n    (0, _More2.default)($('.bnr-more', $this), '#productListLoading_' + idx, $('.prod-list', $this), 'mobile/precompiles/product/grid', '/Special/productListJson?no=' + no + '&groupIndex=' + groupIndex + '&');\n  });\n\n  // 기획전 리스트 더보기\n  var searchParam = _queryString2.default.parse(location.search);\n  var paramString = '?';\n  if (searchParam.orderType) {\n    paramString = '?orderType=' + searchParam.orderType + '&';\n  }\n  (0, _More2.default)('#specialListMoreBtn', '#specialListLoading', '#specialList', 'mobile/precompiles/special/special-list-item', '/Special/ListJson' + paramString);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU3BlY2lhbC5hY3Rpb24uanM/NTI5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJztcbmltcG9ydCBsb2FkTW9yZSBmcm9tICcuLi9jb21tb24vTW9yZS5hY3Rpb24nO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOlNwZWNpYWw6bG9hZCcsICgpID0+IHtcbiAgLy8g6riw7ZqN7KCEIOyDgeyEuCDsg4Htkogg642U67O06riwXG4gICQoJy5saXN0Mi1wcm9kJykuZWFjaChmdW5jdGlvbihpZHgpIHtcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XG4gICAgY29uc3Qgbm8gPSAkdGhpcy5kYXRhKCdubycpO1xuICAgIGNvbnN0IGdyb3VwSW5kZXggPSAkdGhpcy5kYXRhKCdncm91cC1pbmRleCcpO1xuXG4gICAgbG9hZE1vcmUoXG4gICAgICAgICQoJy5ibnItbW9yZScsICR0aGlzKSxcbiAgICAgICAgYCNwcm9kdWN0TGlzdExvYWRpbmdfJHtpZHh9YCxcbiAgICAgICAgJCgnLnByb2QtbGlzdCcsICR0aGlzKSxcbiAgICAgICAgJ21vYmlsZS9wcmVjb21waWxlcy9wcm9kdWN0L2dyaWQnLFxuICAgICAgICBgL1NwZWNpYWwvcHJvZHVjdExpc3RKc29uP25vPSR7bm99Jmdyb3VwSW5kZXg9JHtncm91cEluZGV4fSZgLFxuICAgICk7XG4gIH0pO1xuXG4gIC8vIOq4sO2ajeyghCDrpqzsiqTtirgg642U67O06riwXG4gIGNvbnN0IHNlYXJjaFBhcmFtID0gcXVlcnlTdHJpbmcucGFyc2UobG9jYXRpb24uc2VhcmNoKTtcbiAgbGV0IHBhcmFtU3RyaW5nID0gJz8nO1xuICBpZiAoc2VhcmNoUGFyYW0ub3JkZXJUeXBlKSB7XG4gICAgcGFyYW1TdHJpbmcgPSBgP29yZGVyVHlwZT0ke3NlYXJjaFBhcmFtLm9yZGVyVHlwZX0mYDtcbiAgfVxuICBsb2FkTW9yZSgnI3NwZWNpYWxMaXN0TW9yZUJ0bicsICcjc3BlY2lhbExpc3RMb2FkaW5nJywgJyNzcGVjaWFsTGlzdCcsICdtb2JpbGUvcHJlY29tcGlsZXMvc3BlY2lhbC9zcGVjaWFsLWxpc3QtaXRlbScsIGAvU3BlY2lhbC9MaXN0SnNvbiR7cGFyYW1TdHJpbmd9YCk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1NwZWNpYWwuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///173\n");

/***/ }),
/* 174 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _queryString = __webpack_require__(6);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Special:load', function () {\n  if ($('.scr-navi').length) {\n    new Swiper('.scr-navi', {\n      slidesPerView: 'auto',\n      centeredSlides: false,\n      paginationClickable: true,\n      spaceBetween: 0,\n      freeMode: true\n    });\n    var sct = void 0;\n    var scrposy = $('.scr-navi').offset().top;\n    $(window).scroll(function (e) {\n      var $this = $(e.currentTarget);\n      sct = $this.scrollTop();\n      if (sct > scrposy) {\n        $('.scr-navi').css({ position: 'fixed' });\n      } else {\n        $('.scr-navi').css({ position: 'static' });\n      }\n    });\n    var navi = void 0;\n    var scrnaviheight = $('.scr-navi').outerHeight();\n    $(window).resize(function () {\n      scrnaviheight = $('.scr-navi').outerHeight();\n    });\n    $('.scr-navi a').click(function (e) {\n      var $this = $(e.currentTarget);\n      navi = $this.attr('href');\n      if ($this.parent('div').index() == 0) {\n        sct = $(navi).offset().top;\n        $('html, body').stop().animate({ scrollTop: sct });\n      } else {\n        sct = $(navi).offset().top - scrnaviheight;\n        $('html, body').stop().animate({ scrollTop: sct });\n      }\n      return false;\n    });\n  }\n\n  $('#orderTypeSelect').on('change', function () {\n    var value = $('#orderTypeSelect option:selected').val();\n    var searchParams = _queryString2.default.parse(location.search);\n    searchParams.orderType = value;\n    if (searchParams.orderType == '') {\n      delete searchParams.orderType;\n    }\n    location.href = '/Special?' + _queryString2.default.stringify(searchParams);\n  });\n\n  $('#selectMask').html($('#brandCodeListSelect option:selected').text());\n  $('#brandCodeListSelect').on('change', function () {\n    var value = $('#brandCodeListSelect option:selected').val();\n    var searchParams = _queryString2.default.parse(location.search);\n    searchParams.brandCodeList = value;\n    if (searchParams.brandCodeList == '') {\n      delete searchParams.brandCodeList;\n    }\n    location.href = '/Special?' + _queryString2.default.stringify(searchParams);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU3BlY2lhbC5qcz8wNGMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBxdWVyeVN0cmluZyBmcm9tICdxdWVyeS1zdHJpbmcnO1xuXG4kKGRvY3VtZW50KS5vbignbW9iaWxlOlNwZWNpYWw6bG9hZCcsICgpID0+IHtcbiAgaWYgKCQoJy5zY3ItbmF2aScpLmxlbmd0aCkge1xuICAgIG5ldyBTd2lwZXIoJy5zY3ItbmF2aScsIHtcbiAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBsZXQgc2N0O1xuICAgIGNvbnN0IHNjcnBvc3kgPSAkKCcuc2NyLW5hdmknKS5vZmZzZXQoKS50b3A7XG4gICAgJCh3aW5kb3cpLnNjcm9sbCgoZSkgPT4ge1xuICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBzY3QgPSAkdGhpcy5zY3JvbGxUb3AoKTtcbiAgICAgIGlmIChzY3QgPiBzY3Jwb3N5KSB7XG4gICAgICAgICQoJy5zY3ItbmF2aScpLmNzcyh7IHBvc2l0aW9uOiAnZml4ZWQnIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLnNjci1uYXZpJykuY3NzKHsgcG9zaXRpb246ICdzdGF0aWMnIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBuYXZpO1xuICAgIGxldCBzY3JuYXZpaGVpZ2h0ID0gJCgnLnNjci1uYXZpJykub3V0ZXJIZWlnaHQoKTtcbiAgICAkKHdpbmRvdykucmVzaXplKCgpID0+IHtcbiAgICAgIHNjcm5hdmloZWlnaHQgPSAkKCcuc2NyLW5hdmknKS5vdXRlckhlaWdodCgpO1xuICAgIH0pO1xuICAgICQoJy5zY3ItbmF2aSBhJykuY2xpY2soKGUpID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgbmF2aSA9ICR0aGlzLmF0dHIoJ2hyZWYnKTtcbiAgICAgIGlmICgkdGhpcy5wYXJlbnQoJ2RpdicpLmluZGV4KCkgPT0gMCkge1xuICAgICAgICBzY3QgPSAkKG5hdmkpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBzY3QgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3QgPSAkKG5hdmkpLm9mZnNldCgpLnRvcCAtIHNjcm5hdmloZWlnaHQ7XG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5zdG9wKCkuYW5pbWF0ZSh7IHNjcm9sbFRvcDogc2N0IH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgJCgnI29yZGVyVHlwZVNlbGVjdCcpLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSAkKCcjb3JkZXJUeXBlU2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHF1ZXJ5U3RyaW5nLnBhcnNlKGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgc2VhcmNoUGFyYW1zLm9yZGVyVHlwZSA9IHZhbHVlO1xuICAgIGlmIChzZWFyY2hQYXJhbXMub3JkZXJUeXBlID09ICcnKSB7XG4gICAgICBkZWxldGUgc2VhcmNoUGFyYW1zLm9yZGVyVHlwZTtcbiAgICB9XG4gICAgbG9jYXRpb24uaHJlZiA9IGAvU3BlY2lhbD8ke3F1ZXJ5U3RyaW5nLnN0cmluZ2lmeShzZWFyY2hQYXJhbXMpfWA7XG4gIH0pO1xuXG4gICQoJyNzZWxlY3RNYXNrJykuaHRtbCgkKCcjYnJhbmRDb2RlTGlzdFNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCkpO1xuICAkKCcjYnJhbmRDb2RlTGlzdFNlbGVjdCcpLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSAkKCcjYnJhbmRDb2RlTGlzdFNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBxdWVyeVN0cmluZy5wYXJzZShsb2NhdGlvbi5zZWFyY2gpO1xuICAgIHNlYXJjaFBhcmFtcy5icmFuZENvZGVMaXN0ID0gdmFsdWU7XG4gICAgaWYgKHNlYXJjaFBhcmFtcy5icmFuZENvZGVMaXN0ID09ICcnKSB7XG4gICAgICBkZWxldGUgc2VhcmNoUGFyYW1zLmJyYW5kQ29kZUxpc3Q7XG4gICAgfVxuICAgIGxvY2F0aW9uLmhyZWYgPSBgL1NwZWNpYWw/JHtxdWVyeVN0cmluZy5zdHJpbmdpZnkoc2VhcmNoUGFyYW1zKX1gO1xuICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU3BlY2lhbC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///174\n");

/***/ }),
/* 175 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _Store = __webpack_require__(74);\n\n$(document).on('mobile:Store:load', function () {\n  (0, _Store.onLoad)('mobile');\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU3RvcmUuYWN0aW9uLmpzPzY4N2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb25Mb2FkIH0gZnJvbSAnLi4vY29tbW9uL1N0b3JlLmFjdGlvbic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6U3RvcmU6bG9hZCcsICgpID0+IHtcbiAgb25Mb2FkKCdtb2JpbGUnKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvU3RvcmUuYWN0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///175\n");

/***/ }),
/* 176 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _WishList = __webpack_require__(75);\n\n$(document).on('mobile:WishList:load', function () {\n  (0, _WishList.commonWishList)('mobile');\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvV2lzaExpc3QuYWN0aW9uLmpzP2U2YzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tbW9uV2lzaExpc3QgfSBmcm9tICcuLi9jb21tb24vV2lzaExpc3QuYWN0aW9uJztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpXaXNoTGlzdDpsb2FkJywgKCkgPT4ge1xuICBjb21tb25XaXNoTGlzdCgnbW9iaWxlJyk7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1dpc2hMaXN0LmFjdGlvbi5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///176\n");

/***/ }),
/* 177 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:WishList:load', function () {});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvV2lzaExpc3QuanM/MjUyNCJdLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5vbignbW9iaWxlOldpc2hMaXN0OmxvYWQnLCAoKSA9PiB7XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWIvd2VicGFjay9rb3AvbW9iaWxlL1dpc2hMaXN0LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///177\n");

/***/ }),
/* 178 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _zipcode = __webpack_require__(32);\n\nvar _zipcode2 = _interopRequireDefault(_zipcode);\n\nvar _popupManager = __webpack_require__(26);\n\nvar _popupManager2 = _interopRequireDefault(_popupManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:Zipcode:Search:load', function () {\n  _zipcode2.default.show(new _popupManager2.default(), {\n    success: function success(postcode, address, detailAddress, fullAddress) {\n      if ($pt.isApp()) {\n        $pt.navigation.pop({\n          animation: 'TOP_TO_BOTTOM',\n          script: 'zipcodeCallback(\\'' + postcode.replace(/'/g, \"\\\\'\") + '\\', \\'' + address.replace(/'/g, \"\\\\'\") + '\\', \\'' + detailAddress.replace(/'/g, \"\\\\'\") + '\\', \\'' + fullAddress.replace(/'/g, \"\\\\'\") + '\\')'\n        });\n      } else {\n        opener.zipcodeCallback(postcode, address, detailAddress, fullAddress);\n        window.close();\n      }\n    }\n  }, true);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvWmlwY29kZS5qcz8yMGY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBaaXBjb2RlIGZyb20gJy4vY29tcG9uZW50L3ppcGNvZGUnO1xuaW1wb3J0IFBvcHVwTWFuYWdlciBmcm9tICcuLi9jb21tb24vcG9wdXAtbWFuYWdlcic7XG5cbiQoZG9jdW1lbnQpLm9uKCdtb2JpbGU6WmlwY29kZTpTZWFyY2g6bG9hZCcsICgpID0+IHtcbiAgWmlwY29kZS5zaG93KG5ldyBQb3B1cE1hbmFnZXIoKSwge1xuICAgIHN1Y2Nlc3M6IChwb3N0Y29kZSwgYWRkcmVzcywgZGV0YWlsQWRkcmVzcywgZnVsbEFkZHJlc3MpID0+IHtcbiAgICAgIGlmICgkcHQuaXNBcHAoKSkge1xuICAgICAgICAkcHQubmF2aWdhdGlvbi5wb3Aoe1xuICAgICAgICAgIGFuaW1hdGlvbjogJ1RPUF9UT19CT1RUT00nLFxuICAgICAgICAgIHNjcmlwdDogYHppcGNvZGVDYWxsYmFjaygnJHtwb3N0Y29kZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9JywgJyR7YWRkcmVzcy5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9JywgJyR7ZGV0YWlsQWRkcmVzcy5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9JywgJyR7ZnVsbEFkZHJlc3MucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpfScpYCxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcGVuZXIuemlwY29kZUNhbGxiYWNrKHBvc3Rjb2RlLCBhZGRyZXNzLCBkZXRhaWxBZGRyZXNzLCBmdWxsQWRkcmVzcyk7XG4gICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sIHRydWUpO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9aaXBjb2RlLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///178\n");

/***/ }),
/* 179 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\n$(document).on('mobile:eKOLON:load', function () {});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvZUtPTE9OLmpzP2Q5ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkub24oJ21vYmlsZTplS09MT046bG9hZCcsICgpID0+IHtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYi93ZWJwYWNrL2tvcC9tb2JpbGUvZUtPTE9OLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///179\n");

/***/ }),
/* 180 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _jsCookie = __webpack_require__(14);\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(document).on('mobile:load', function () {\n  // 모바일 전체 적용\n\n  // 셀렉트 메뉴\n  $('[data-trigger=\"toggle\"]').click(function (e) {\n    var $toggle = $(e.currentTarget);\n    e.preventDefault();\n\n    $($(e.currentTarget).data('target')).show().find('a').on('click', function (event) {\n      var $this = $(event.currentTarget);\n      var txt = $this.text();\n\n      $this.addClass('active').parent().siblings().find('a').removeClass('active');\n      $toggle.text(txt);\n      $($(e.currentTarget).data('target')).hide();\n    });\n  });\n\n  // footer top\n  function footerTop() {\n    var $win = $(window);\n    var $btnTop = $('.go-top');\n    $win.on('scroll', function () {\n      var scrollTop = $win.scrollTop();\n      if (scrollTop > 1500) {\n        $btnTop.addClass('active');\n      } else {\n        $btnTop.removeClass('active');\n      }\n    });\n    $btnTop.on('click', function (e) {\n      e.preventDefault();\n      $('html, body').animate({ scrollTop: 0 }, 300);\n    });\n  }\n  footerTop();\n\n  // 배너\n  if ($('.prod-big-bnr .swiper-slide').length > 1) {\n    new Swiper('.prod-big-bnr', {\n      slidesPerView: 1,\n      direction: 'horizontal',\n      loop: true,\n      pagination: '.scr-prod-pagination',\n      paginationType: 'progress'\n    });\n  }\n\n  // 배너 더보기\n  var CONTENTS_DEFAULT_PER_PAGE = 3;\n\n  $('.contents-default-more-btn').click(function (e) {\n    var $this = $(e.currentTarget);\n    var currentPage = $this.data('current-page') || 1;\n    var perPage = $this.data('per-page') ? $this.data('per-page') : CONTENTS_DEFAULT_PER_PAGE;\n    var items = $('.item', $this.prev());\n    var totalCount = items.length;\n    var totalPage = parseInt((totalCount - 1) / perPage, 10) + 1;\n\n    if (currentPage < totalPage) {\n      currentPage++;\n\n      for (var i = (currentPage - 1) * perPage; i < currentPage * perPage && i < totalCount; i++) {\n        $(items[i]).show();\n      }\n\n      $this.data('current-page', currentPage);\n\n      if (currentPage == totalPage) {\n        $this.hide();\n      }\n    }\n  });\n\n  // 서브 메뉴\n  if ($('.scr-navi').length) {\n    var scrNaviSwiper = new Swiper('.scr-navi', {\n      slidesPerView: 'auto',\n      centeredSlides: false,\n      paginationClickable: true,\n      spaceBetween: 0,\n      freeMode: true,\n      onInit: function onInit() {\n        $('.icn-navi.left').hide();\n        $('.icn-navi.right').show();\n      },\n      onReachBeginning: function onReachBeginning() {\n        $('.icn-navi.left').hide();\n        $('.icn-navi.right').show();\n      },\n      onReachEnd: function onReachEnd() {\n        $('.icn-navi.left').show();\n        $('.icn-navi.right').hide();\n      }\n    });\n    scrNaviSwiper.on('onTransitionStart', function () {\n      $('.icn-navi.left').show();\n      $('.icn-navi.right').show();\n    });\n    scrNaviSwiper.on('onTransitionEnd', function () {\n      var progressNum = scrNaviSwiper.progress;\n      if (progressNum == 0) {\n        $('.icn-navi.left').hide();\n        $('.icn-navi.right').show();\n      }\n      if (progressNum == 1) {\n        $('.icn-navi.left').show();\n        $('.icn-navi.right').hide();\n      }\n    });\n  }\n\n  // 로그아웃\n  $('#logoutBtn').click(function (e) {\n    e.preventDefault();\n\n    if (confirm('로그아웃 하시겠습니까?')) {\n      location.href = \"/Logout\";\n    }\n  });\n\n  // 모바일웹으로 접근시 앱 링크 팝업\n  // close-pop이라는 class를 버튼에 셋팅하고 layer-popup이라는 부모를 찾아서 data-pk값을 체크함\n  $('.close-pop').click(function () {\n    var popupLayer = $('.close-pop').parents('.layer-popup');\n    var pk = popupLayer.data('pk');\n    popupLayer.hide();\n    _jsCookie2.default.set('popup-' + pk, 'false', { path: '/', secure: true });\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYi93ZWJwYWNrL2tvcC9tb2JpbGUvZ2xvYmFsLmpzP2MzMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcblxuJChkb2N1bWVudCkub24oJ21vYmlsZTpsb2FkJywgKCkgPT4ge1xuICAvLyDrqqjrsJTsnbwg7KCE7LK0IOyggeyaqVxuXG4gIC8vIOyFgOugie2KuCDrqZTribRcbiAgJCgnW2RhdGEtdHJpZ2dlcj1cInRvZ2dsZVwiXScpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJHRvZ2dsZSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCd0YXJnZXQnKSkuc2hvdygpLmZpbmQoJ2EnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0ICR0aGlzID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IHR4dCA9ICR0aGlzLnRleHQoKTtcblxuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpLnBhcmVudCgpLnNpYmxpbmdzKCkuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICR0b2dnbGUudGV4dCh0eHQpO1xuICAgICAgJCgkKGUuY3VycmVudFRhcmdldCkuZGF0YSgndGFyZ2V0JykpLmhpZGUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gZm9vdGVyIHRvcFxuICBmdW5jdGlvbiBmb290ZXJUb3AoKSB7XG4gICAgY29uc3QgJHdpbiA9ICQod2luZG93KTtcbiAgICBjb25zdCAkYnRuVG9wID0gJCgnLmdvLXRvcCcpO1xuICAgICR3aW4ub24oJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9ICR3aW4uc2Nyb2xsVG9wKCk7XG4gICAgICBpZiAoc2Nyb2xsVG9wID4gMTUwMCkge1xuICAgICAgICAkYnRuVG9wLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRidG5Ub3AucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICRidG5Ub3Aub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDMwMCk7XG4gICAgfSk7XG4gIH1cbiAgZm9vdGVyVG9wKCk7XG5cbiAgLy8g67Cw64SIXG4gIGlmICgkKCcucHJvZC1iaWctYm5yIC5zd2lwZXItc2xpZGUnKS5sZW5ndGggPiAxKSB7XG4gICAgbmV3IFN3aXBlcignLnByb2QtYmlnLWJucicsIHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBwYWdpbmF0aW9uOiAnLnNjci1wcm9kLXBhZ2luYXRpb24nLFxuICAgICAgcGFnaW5hdGlvblR5cGU6ICdwcm9ncmVzcycsXG4gICAgfSk7XG4gIH1cblxuICAvLyDrsLDrhIgg642U67O06riwXG4gIGNvbnN0IENPTlRFTlRTX0RFRkFVTFRfUEVSX1BBR0UgPSAzO1xuXG4gICQoJy5jb250ZW50cy1kZWZhdWx0LW1vcmUtYnRuJykuY2xpY2soKGUpID0+IHtcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBsZXQgY3VycmVudFBhZ2UgPSAkdGhpcy5kYXRhKCdjdXJyZW50LXBhZ2UnKSB8fCAxO1xuICAgIGNvbnN0IHBlclBhZ2UgPSAkdGhpcy5kYXRhKCdwZXItcGFnZScpID8gJHRoaXMuZGF0YSgncGVyLXBhZ2UnKSA6IENPTlRFTlRTX0RFRkFVTFRfUEVSX1BBR0U7XG4gICAgY29uc3QgaXRlbXMgPSAkKCcuaXRlbScsICR0aGlzLnByZXYoKSk7XG4gICAgY29uc3QgdG90YWxDb3VudCA9IGl0ZW1zLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbFBhZ2UgPSBwYXJzZUludCgodG90YWxDb3VudCAtIDEpIC8gcGVyUGFnZSwgMTApICsgMTtcblxuICAgIGlmIChjdXJyZW50UGFnZSA8IHRvdGFsUGFnZSkge1xuICAgICAgY3VycmVudFBhZ2UrKztcblxuICAgICAgZm9yIChsZXQgaSA9IChjdXJyZW50UGFnZSAtIDEpICogcGVyUGFnZTsgaSA8IGN1cnJlbnRQYWdlICogcGVyUGFnZSAmJiBpIDwgdG90YWxDb3VudDsgaSsrKSB7XG4gICAgICAgICQoaXRlbXNbaV0pLnNob3coKTtcbiAgICAgIH1cblxuICAgICAgJHRoaXMuZGF0YSgnY3VycmVudC1wYWdlJywgY3VycmVudFBhZ2UpO1xuXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPT0gdG90YWxQYWdlKSB7XG4gICAgICAgICR0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIOyEnOu4jCDrqZTribRcbiAgaWYgKCQoJy5zY3ItbmF2aScpLmxlbmd0aCkge1xuICAgIGNvbnN0IHNjck5hdmlTd2lwZXIgPSBuZXcgU3dpcGVyKCcuc2NyLW5hdmknLCB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICBvbkluaXQoKSB7XG4gICAgICAgICQoJy5pY24tbmF2aS5sZWZ0JykuaGlkZSgpO1xuICAgICAgICAkKCcuaWNuLW5hdmkucmlnaHQnKS5zaG93KCk7XG4gICAgICB9LFxuICAgICAgb25SZWFjaEJlZ2lubmluZygpIHtcbiAgICAgICAgJCgnLmljbi1uYXZpLmxlZnQnKS5oaWRlKCk7XG4gICAgICAgICQoJy5pY24tbmF2aS5yaWdodCcpLnNob3coKTtcbiAgICAgIH0sXG4gICAgICBvblJlYWNoRW5kKCkge1xuICAgICAgICAkKCcuaWNuLW5hdmkubGVmdCcpLnNob3coKTtcbiAgICAgICAgJCgnLmljbi1uYXZpLnJpZ2h0JykuaGlkZSgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICBzY3JOYXZpU3dpcGVyLm9uKCdvblRyYW5zaXRpb25TdGFydCcsICgpID0+IHtcbiAgICAgICQoJy5pY24tbmF2aS5sZWZ0Jykuc2hvdygpO1xuICAgICAgJCgnLmljbi1uYXZpLnJpZ2h0Jykuc2hvdygpO1xuICAgIH0pO1xuICAgIHNjck5hdmlTd2lwZXIub24oJ29uVHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2dyZXNzTnVtID0gc2NyTmF2aVN3aXBlci5wcm9ncmVzcztcbiAgICAgIGlmIChwcm9ncmVzc051bSA9PSAwKSB7XG4gICAgICAgICQoJy5pY24tbmF2aS5sZWZ0JykuaGlkZSgpO1xuICAgICAgICAkKCcuaWNuLW5hdmkucmlnaHQnKS5zaG93KCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvZ3Jlc3NOdW0gPT0gMSkge1xuICAgICAgICAkKCcuaWNuLW5hdmkubGVmdCcpLnNob3coKTtcbiAgICAgICAgJCgnLmljbi1uYXZpLnJpZ2h0JykuaGlkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8g66Gc6re47JWE7JuDXG4gICQoJyNsb2dvdXRCdG4nKS5jbGljaygoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChjb25maXJtKCfroZzqt7jslYTsm4Mg7ZWY7Iuc6rKg7Iq164uI6rmMPycpKSB7XG4gICAgICBsb2NhdGlvbi5ocmVmID0gXCIvTG9nb3V0XCI7XG4gICAgfVxuICB9KTtcblxuICAvLyDrqqjrsJTsnbzsm7nsnLzroZwg7KCR6re87IucIOyVsSDrp4Htgawg7Yyd7JeFXG4gIC8vIGNsb3NlLXBvcOydtOudvOuKlCBjbGFzc+ulvCDrsoTtirzsl5Ag7IWL7YyF7ZWY6rOgIGxheWVyLXBvcHVw7J20652864qUIOu2gOuqqOulvCDssL7slYTshJwgZGF0YS1wa+qwkuydhCDssrTtgaztlahcbiAgJCgnLmNsb3NlLXBvcCcpLmNsaWNrKCgpID0+IHtcbiAgICBjb25zdCBwb3B1cExheWVyID0gJCgnLmNsb3NlLXBvcCcpLnBhcmVudHMoJy5sYXllci1wb3B1cCcpO1xuICAgIGNvbnN0IHBrID0gcG9wdXBMYXllci5kYXRhKCdwaycpO1xuICAgIHBvcHVwTGF5ZXIuaGlkZSgpO1xuICAgIENvb2tpZXMuc2V0KGBwb3B1cC0ke3BrfWAsICdmYWxzZScsIHsgcGF0aDogJy8nLCBzZWN1cmU6IHRydWUgfSk7XG4gIH0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2ViL3dlYnBhY2sva29wL21vYmlsZS9nbG9iYWwuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///180\n");

/***/ })
/******/ ]);